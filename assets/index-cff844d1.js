import{c as ae,w as ns,a as A,j as e,T as Ee,I as Q,d as lg,R as I,b as $h,C as kh,e as Lt,f as Ce,g as bi,D as k,h as $,i as X,k as W,B as f,l as $e,G as F,m as b,L as Pt,n as Bn,o as Le,p as Ja,F as T,S as Ht,q as cg,r as za,s as Be,t as Wh,u as dg,v as bt,x as ug,y as mg,z as hg,A as pg,E as ge,H as ie,J as O,K as ce,M as me,N as de,O as Ct,P as yt,Q as N,U as le,V as U,W as Fe,X as _,Y as V,Z as ee,_ as it,$ as qs,a0 as Fn,a1 as xg,a2 as jg,a3 as ue,a4 as we,a5 as fg,a6 as re,a7 as at,a8 as R,a9 as v,aa as Oe,ab as Bi,ac as gg,ad as Dt,ae as bg,af as Qo,ag as z,ah as J,ai as g,aj as wh,ak as Cg,al as Qs,am as yg,an as Uh,ao as Vh,ap as Sg,aq as Ki,ar as An,as as Rg,at as We,au as Gh,av as qh,aw as Hh,ax as Tg,ay as Yi,az as Ig,aA as Eg,aB as vg,aC as Fg,aD as Xi,aE as Ag,aF as Gt,aG as Pg,aH as Qi,aI as Dg,aJ as ss,aK as Zs,aL as Jh,aM as Mg,aN as rt,aO as Zo,aP as xe,aQ as ut,aR as he,aS as pe,aT as Zi,aU as Ci,aV as Og,aW as Lg,aX as Ng,aY as ea,aZ as zh,a_ as Mt,a$ as os,b0 as en,b1 as nn,b2 as _g,b3 as $g,b4 as Bh,b5 as er,b6 as xn,b7 as kg,b8 as Wg,b9 as tr,ba as ta,bb as wg,bc as Ug,bd as na,be as vt,bf as qe,bg as Jt,bh as H,bi as wo,bj as Kh,bk as Yh,bl as Xh,bm as Vg,bn as Gg,bo as Ze,bp as gt,bq as Qh,br as qg,bs as qt,bt as ye,bu as Se,bv as Ae,bw as tn,bx as eo,by as Zh,bz as gn,bA as Hg,bB as Ln,bC as jn,bD as sa,bE as Nt,bF as Jg,bG as zg,bH as Bg,bI as Ne,bJ as yi,bK as It,bL as Xe,bM as De,bN as Uo,bO as ep,bP as tp,bQ as oa,bR as sn,bS as Kg,bT as Ot,bU as ct,bV as rs,bW as Yg,bX as np,bY as is,bZ as On,b_ as Ke,b$ as Xg,c0 as nr,c1 as on,c2 as to,c3 as Qg,c4 as Hs,c5 as Vo,c6 as Go,c7 as sp,c8 as as,c9 as sr,ca as op,cb as kt,cc as Zg,cd as eb,ce as rp,cf as tb,cg as nb,ch as sb,ci as or,cj as ob,ck as rr,cl as ir,cm as rb,cn as Ba,co as ib,cp as ra,cq as ar,cr as lr,cs as ab,ct as lb,cu as cb,cv as db,cw as ub,cx as mb,cy as hb,cz as pb,cA as ia,cB as xb,cC as ip,cD as jb,cE as fb,cF as gb,cG as bb,cH as ap,cI as lp,cJ as Cb,cK as Dr,cL as yb,cM as Sb,cN as Rb,cO as Tb,cP as Ib,cQ as Eb,cR as vb,cS as Fb}from"./vendor-6394acb0.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function Ab(t,n){const{match:s={}}=n,{params:o={}}=s;return{...o}}const et=t=>ae(Ab,null)(ns(t)),aa="MODAL_RESET",la="MODAL_RECEIVE",ca="MAINMENU_TOGGLE",da="SNACKBAR_RESET",ua="SNACKBAR_RECEIVE",ma="LOADING_RECEIVE";function Ue(){return{type:aa}}function Ve({modalName:t,...n}){return{type:la,modalName:t,...n}}function Pb(t=!1){return{type:ma,isLoading:t}}function Db(t){return{type:ca,isMainMenuOpen:t}}function Mb(){return(t,n)=>{const{isMainMenuOpen:s}=n().ui;t(Db(!s))}}function cp(){return{type:da}}function be({...t}){return{type:ua,...t}}const cr=Object.freeze(Object.defineProperty({__proto__:null,LOADING_RECEIVE:ma,MAINMENU_TOGGLE:ca,MODAL_RECEIVE:la,MODAL_RESET:aa,SNACKBAR_RECEIVE:ua,SNACKBAR_RESET:da,closeModal:Ue,closeSnackBar:cp,openModal:Ve,openSnackBar:be,setLoading:Pb,toggleMainMenu:Mb},Symbol.toStringTag,{value:"Module"}));function Ob(t,n){const{dialogName:s,isOpen:o}=n,{ui:{modalName:r,...i}}=t;let a=s!==void 0&&r===s;return o!==void 0&&(a=o),a?{open:a,currentDialog:r,modalName:r,...i}:{open:a,currentDialog:r,modalName:r}}const Lb={onClose:Ue,onOpen:Ve},tt=t=>ae(Ob,Lb)(t),rn=A(tt,et);let At="https://vidispine.github.io/admin-tool";At&&At.startsWith("http")?(At=new URL(At),At=At.pathname.replace(/(.+?)\/+$/,"$1")):(At=new URL(At,window.location.origin),At=At.pathname.replace(/(.+?)\/+$/,"$1"));const Xt=At,dp=t=>t===void 0?Xt:[Xt.replace(/\/+$/,""),encodeURIComponent(t)].join("/"),Nb=(t="VIDISPINE-SERVER-URL")=>{const n={};if(document.cookie.split("; ").forEach(s=>{const[o,r]=s.split("=");n[o]=r}),n[t])return decodeURIComponent(n[t])},_b=(t="VITE_VIDISPINE_URL")=>({VITE_VERSION:"24.3.0",VITE_NAME:"@vidispine/admin-tool",VITE_VIDISPINE_URL:"",BASE_URL:"https://vidispine.github.io/admin-tool",MODE:"production",DEV:!1,PROD:!0,SSR:!1})[t]!==""?{VITE_VERSION:"24.3.0",VITE_NAME:"@vidispine/admin-tool",VITE_VIDISPINE_URL:"",BASE_URL:"https://vidispine.github.io/admin-tool",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[t]:void 0,$b=(t="VIDISPINE_URL")=>window[t]!==`$${t}`?window[t]:void 0,Si=()=>{const t=window.location.pathname.replace(Xt,"").replace(/^\/+/,"");if(t===void 0)return;const[n]=t.split("/");try{const s=decodeURIComponent(n);return s.startsWith("http")?s:void 0}catch{return}},Vn=t=>{const n=Xt.replace(/^\/+/,""),s=encodeURIComponent(t);return[n,s,""].join("/")},Ri=["item","collection","job","storage","file","quota","group","document","deletion-lock"],kb=({entityId:t,entityType:n,history:s})=>e.jsx(Ee,{title:"External Id",children:e.jsx(Q,{onClick:()=>s.push(`/external-id/${n}/${t}`),children:e.jsx(lg,{})})}),up=ns(kb),Wb={openSnackBar:be},Nn=t=>ae(null,Wb)(t),q=A(Nn,et),P=A(tt,Nn,et);const wb={CodeMirror:{"& .CodeMirror":{height:"100%",width:"100%",maxWidth:"90vw"}}};class Ub extends I.Component{constructor(n){super(n),this.cmRef=this.cmRef.bind(this)}cmRef(n){this.jsonRef=n}render(){const{value:n,classes:s}=this.props;return this.jsonRef&&this.jsonRef.codeMirror.setValue(n),e.jsx(e.Fragment,{children:e.jsx($h,{codeMirrorInstance:kh,ref:this.cmRef,...this.props,className:Lt([this.props.className,s.CodeMirror])})})}}const ls=Ce(wb)(Ub);function fn(t){const n=" ".repeat(2),s=/(>)(<)(\/*)/g;let o=0;return t.replace(s,`$1\r
$2$3`).split(`\r
`).map(r=>{let i=0;return r.match(/.+<\/\w[^>]*>$/)?i=0:r.match(/^<\/\w/)&&o>0?o-=1:r.match(/^<\w[^>]*[^/]>.*$/)?i=1:i=0,o+=i,n.repeat(o-i)+r}).join(`\r
`)}const Vb=({code:t,...n})=>e.jsx(bi,{src:t,theme:"solarized",displayDataTypes:!1,collapsed:!1,displayObjectSize:!1,name:!1,enableClipboard:s=>navigator.clipboard.writeText(JSON.stringify(s.src,null,"	")),...n}),Gb=({code:t,options:n={},...s})=>e.jsx(ls,{value:fn(t)||"",options:{readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...n},...s}),qb=({code:t,options:n={},...s})=>e.jsx(ls,{value:fn(t)||"",options:{readOnly:!0,theme:"material",mode:"text/plain",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...n},...s});function mp({code:t,variant:n="json"}){let s=null;switch(n){case"text/plain":case"text/vtt":case"text":s=qb;break;case"application/xml":case"xml":s=Gb;break;case"application/json":case"json":s=Vb;break}return e.jsx(s,{code:t})}function Hb({code:t,variant:n,title:s,open:o,onClose:r}){return e.jsx(k,{open:o,onClose:r,fullWidth:!0,maxWidth:!1,children:o&&e.jsxs(e.Fragment,{children:[e.jsx($,{children:s||""}),e.jsx(X,{children:e.jsx(mp,{code:t,variant:n})}),e.jsx(W,{children:e.jsx(f,{onClick:r,color:"primary",children:"Close"})})]})})}const nt=P(Hb);function Jb({title:t,openCode:n,openAction:s,actionComponent:o,iconList:r,breadcrumbList:i,parentTitle:a,grandParentTo:l,grandParentTitle:c,parentTo:u,entityId:p,entityType:x,onRefresh:j,autoRefresh:C,onChangeAutoRefresh:S,autoRefreshLabel:L="Background Refresh",helpTo:ne,linkTo:Te,linkToTitle:Ie,codeModal:ke,onOpen:Qe,createModal:Rn,createModalTitle:Tr="New",removeModal:Tn,downloadModal:dn,code:In,codeVariant:gs,titleChip:fo,addAccessControl:wn,style:Ir={}}){const Er=$e.defaultClient.defaults.baseURL||"",vr=e.jsxs(F,{container:!0,alignItems:"center",children:[Array.isArray(i)?i.map((un,rg)=>{const qa=rg+1===i.length,Pr=qa?"inherit":"textSecondary";let go=null,Ha=null;if(un.to){const{to:ig,title:ag=""}=un;go=e.jsx(b,{variant:"h5",color:Pr,component:Pt,to:ig,style:{textDecoration:"none",color:"inherit"},children:ag})}else un.title?go=e.jsx(b,{variant:"h5",color:Pr,children:un.title}):go=e.jsx(b,{variant:"h5",color:Pr,children:un});return qa===!1&&(Ha=e.jsx(F,{item:!0,children:e.jsx(Q,{disabled:!0,children:e.jsx(Bn,{})})})),e.jsxs(I.Fragment,{children:[go,Ha]},un.to||un.title||un)}):e.jsxs(e.Fragment,{children:[c&&e.jsx(F,{item:!0,children:l?e.jsx(b,{variant:"h5",color:"textSecondary",component:Pt,to:l,style:{textDecoration:"none"},children:c}):e.jsx(b,{variant:"h5",color:"textSecondary",children:c})}),c&&e.jsx(F,{item:!0,children:e.jsx(Q,{disabled:!0,children:e.jsx(Bn,{})})}),a&&e.jsx(F,{item:!0,children:u?e.jsx(b,{variant:"h5",color:"textSecondary",component:Pt,to:u,style:{textDecoration:"none"},children:a}):e.jsx(b,{variant:"h5",color:"textSecondary",children:a})}),a&&e.jsx(F,{item:!0,children:e.jsx(Q,{disabled:!0,children:e.jsx(Bn,{})})}),e.jsx(F,{item:!0,children:e.jsx(b,{variant:"h5",children:t})})]}),fo&&e.jsx(Le,{label:fo})]});let Un;n?Un=e.jsx(Ee,{title:"Code",children:e.jsx(Q,{onClick:n,children:e.jsx(Ja,{})})}):ke&&(Un=e.jsx(Ee,{title:"Code",children:e.jsx(Q,{onClick:()=>Qe({modalName:ke}),children:e.jsx(Ja,{})})}));const bs=S&&e.jsx(T,{control:e.jsx(Ht,{checked:C,onChange:S}),label:L}),Fr=j&&e.jsx(Ee,{title:"Refresh",children:e.jsx(Q,{onClick:j,children:e.jsx(cg,{})})});let Cs;s?Cs=e.jsx(Q,{onClick:s,children:e.jsx(bt,{})}):Rn&&(Cs=e.jsx(Ee,{title:Tr,children:e.jsx(Q,{onClick:()=>Qe({modalName:Rn}),children:e.jsx(bt,{})})}));const Ar=ne&&e.jsx(Ee,{title:"API Guide",children:e.jsx(Q,{onClick:()=>window.open(`${Er}/APIdoc${ne}`),children:e.jsx(za,{})})}),Kt=Te&&e.jsx(Ee,{title:Ie||Te,children:e.jsx(Q,{onClick:()=>window.open(Te),children:e.jsx(za,{})})}),Ga=Tn&&e.jsx(Ee,{title:"Remove",children:e.jsx(Q,{onClick:()=>Qe({modalName:Tn}),children:e.jsx(Be,{})})}),tg=dn&&e.jsx(Ee,{title:"Download",children:e.jsx(Q,{onClick:()=>Qe({modalName:dn}),children:e.jsx(Wh,{})})}),ng=p&&e.jsx(up,{entityId:p,entityType:x}),sg=wn&&e.jsx(Ee,{title:"Add ACL",children:e.jsx(Q,{onClick:()=>Qe({modalName:wn}),children:e.jsx(dg,{})})}),og=o||Cs;return e.jsxs("div",{style:Ir,children:[e.jsxs(F,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"baseline",children:[e.jsx(F,{item:!0,children:vr}),e.jsx(F,{item:!0,children:e.jsxs(F,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[bs,tg,Ga,Ar,Kt,sg,ng,Un,Fr,og,r]})})]}),In&&e.jsx(nt,{dialogName:ke,code:In,title:ke,variant:gs})]})}const K=P(Jb),zb=t=>({root:{flexShrink:0,color:t.palette.text.secondary}});function Bb({classes:t,count:n,page:s,rowsPerPage:o,onChangePage:r,onPageChange:i}){const a=i||r;return e.jsxs("div",{className:t.root,children:[e.jsx(Q,{onClick:()=>a({page:0}),disabled:s===0,children:e.jsx(ug,{})}),e.jsx(Q,{onClick:()=>a({page:s-1}),disabled:s===0,children:e.jsx(mg,{})}),e.jsx(Q,{onClick:()=>a({page:s+1}),disabled:s>=Math.ceil(n/o)-1,children:e.jsx(hg,{})}),e.jsx(Q,{onClick:()=>a({page:Math.max(0,Math.ceil(n/o)-1)}),disabled:s>=Math.ceil(n/o)-1,children:e.jsx(pg,{})})]})}const St=Ce(zb)(Bb),Kb=()=>({TableRow:{textDecoration:"none",cursor:({onClick:t})=>t?"pointer":void 0}});function Yb({classes:t,to:n,...s}){const o=n?Pt:void 0;return e.jsx(ge,{className:t.TableRow,component:o,to:n,...s})}const Ge=Ce(Kb)(Yb);function Xb({uri:t,linkTo:n,textTo:s,onClick:o,titleCase:r=!1}){const i={};let a=t;s&&(a=s(t)),n&&(i.to=n(t)),o&&(i.onClick=()=>o(t));const l=r?ie(a):a;return e.jsxs(Ge,{hover:!0,...i,children:[e.jsx(O,{children:l}),e.jsx(O,{})]})}function cs({uriListDocument:t={},sort:n=!1,page:s,rowsPerPage:o,onChangePage:r,onChangeRowsPerPage:i,header:a=!0,...l}){const{hits:c=0}=t,u=I.useMemo(()=>Array.isArray(t==null?void 0:t.uri)?n===!0?t.uri.sort():typeof n=="function"?t.uri.sort(n):t.uri:[],[n,t]),p=[10,100,250];return p.includes(o)||p.push(o),e.jsxs(ce,{children:[a===!0&&e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"ID"}),e.jsx(O,{})]})}),e.jsx(de,{children:u.map(x=>e.jsx(Xb,{uri:x,...l},x))}),r&&i&&e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:c,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:St,rowsPerPageOptions:p})})})]})}function Et({title:t,uriListDocument:n,...s}){return n===void 0?null:e.jsxs(N,{children:[t&&e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:t})}),e.jsx(U,{children:e.jsx(cs,{uriListDocument:n,...s})})]})}class Qb extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Configuration",this.onRefresh()}onRefresh(){try{Fe.getConfiguration().then(n=>this.setState({uriListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job Pools",messageColor:"secondary"})}render(){const{uriListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Configuration",helpTo:"/ref/property.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument"}),n&&e.jsx(Et,{uriListDocument:n,linkTo:s=>`/configuration/${s}/`,titleCase:!0})]})}}const Zb=P(Qb);function qo(t){const{configurationPropertyDocument:n}=t;return Fe.updatePropertiesConfiguration({configurationPropertyDocument:n}).then(()=>({configurationPropertyDocument:n})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function eC(t){const{indexingConfigurationDocument:n}=t;return Fe.updateIndexingConfiguration({indexingConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function tC(t){const{jobPoolListDocument:n}=t;return Fe.updateJobPoolConfiguration({jobPoolListDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function nC(t){const{ftpPoolConfigurationDocument:n}=t;return Fe.updateFtpPoolConfiguration({ftpPoolConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function sC(t){const{metricsConfigurationDocument:n}=t;return Fe.updateMetricsConfiguration({metricsConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function oC(t){const{pathAliasConfigurationDocument:n}=t;return Fe.updatePathAliasConfiguration({pathAliasConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function rC(t){const{logReportConfigurationDocument:n}=t;return Fe.updateLogReportConfiguration({logReportConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function iC(t){const{databasePurgingConfigurationDocument:n}=t;return Fe.updateDatabasePurgingConfiguration({databasePurgingConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function aC(t){const{corsConfigurationDocument:n}=t;return Fe.updateCorsConfiguration({corsConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function lC(t){const{oAuth2ConfigurationDocument:n}=t;return Fe.updateAuthConfiguration({oAuth2ConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function cC(t){const{bulkyMetadataConfigurationDocument:n}=t;return Fe.updateBulkyMetadataConfiguration({bulkyMetadataConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function dC(t){const{jobPriorityConfigurationDocument:n}=t;return Fe.updateJobPriorityConfiguration({jobPriorityConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}class uC extends I.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.onSubmitSuccess=this.onSubmitSuccess.bind(this),this.state={isEditing:n.defaultEditing||!1}}onSubmitSuccess(n,s,o){const{onSubmitSuccess:r}=this.props;this.toggleEdit(),r(n,s,o)}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{submitForm:n,initialValues:s,formComponent:o,formProps:r={},displayComponent:i,displayProps:a={},formName:l,onSubmit:c,onSubmitFail:u,title:p,iconList:x}=this.props,{isEditing:j}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:p}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsxs(F,{item:!0,children:[x,o&&e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:j,onChange:this.toggleEdit})]})})}),e.jsx(U,{children:j?o&&e.jsx(o,{form:l,initialValues:s,onSubmit:c,onSubmitSuccess:this.onSubmitSuccess,onSubmitFail:u,...r}):i&&e.jsx(i,{...a})}),j&&o&&e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>n(l),size:"small",color:"primary",children:"Save"})]})]})]})}}const mC={submitForm:it},_e=ae(null,mC)(uC),hC=t=>!t.render,Ka=t=>t!==void 0?Number(t):t;function no(t,n){class s extends qs.Component{getRenderedComponent(){return this.component}render(){return qs.createElement(t,{...n(this.props),ref:hC(t)?null:r=>this.component=r})}}return s.displayName=`ReduxFormMaterialUI${t.name}`,s}const pC=no(Fn,({input:{onChange:t,value:n,...s},meta:o,onChange:r,defaultChecked:i,...a})=>({...s,...a,checked:!!n,onChange:(l,c)=>{t(c)}})),Ti=no(xg,({input:{onChange:t,value:n,...s},meta:o,onChange:r,...i})=>({...s,...i,value:n,onChange:(a,l)=>{t(l),r&&r(l)}})),hp=({hasHelperText:t=!0,meta:{touched:n,error:s,warning:o}={},input:r,...i})=>{const a=n&&(s||o)?{...i,...r,error:!!(s||o)}:{...r,...i};return n&&t&&(s||o)&&(a.helperText=s||o),a},B=no(jg,({input:{onChange:t,value:n,onBlur:s,...o},onChange:r,defaultValue:i,...a})=>({...hp({...a,hasHelperText:!1}),...o,value:n,onChange:l=>{t(l.target.value),r&&r(l.target.value)},onBlur:()=>s(n)}));no(Ht,({input:{onChange:t,value:n,...s},checked:o,meta:r,...i})=>({...s,...i,onChange:t,checked:!!n}));const m=no(ue,({defaultValue:t,...n})=>({...hp(n)})),_n=t=>class extends I.Component{constructor(n){super(n),this.state={hasError:null}}componentDidCatch(){this.setState({hasError:!0}),console.error(this.props)}render(){return this.state.hasError?e.jsx(b,{color:"error",children:"Unable to render component (see console)"}):e.jsx(t,{...this.props})}},xC={button:{padding:"unset",minWidth:"unset"}},jC=({classes:t,children:n,...s})=>e.jsx(f,{className:t.button,disableFocusRipple:!0,disableRipple:!0,...s,children:n}),Wt=Ce(xC)(jC),fC=t=>({onHover:{"&:hover":{backgroundColor:t.palette.action.hover}},noHover:{},marginLeft:{marginLeft:"10px"},header:{display:"flex",gap:t.spacing(1),alignItems:"center"}}),Ya=({removeLabel:t,fields:n,index:s,label:o})=>t?e.jsx(f,{size:"small",color:"secondary",onClick:()=>n.remove(s),children:`Remove ${o}`}):e.jsx(Q,{onClick:()=>n.remove(s),children:e.jsx(at,{})});function gC({fields:t,label:n,typeComponent:s,classes:o,removeLabel:r,hover:i=!0,labelStartCase:a=!0,maxOccurs:l=1/0,dense:c=!1,withHeader:u=!0,direction:p="column",arrayHeader:x=!1}){const j=a?ie(n):n;return e.jsxs("div",{children:[x&&e.jsxs("div",{className:o.header,children:[e.jsx(b,{variant:"subtitle2",children:j}),e.jsx(Q,{onClick:()=>t.push(),size:"small",color:"primary",children:e.jsx(fg,{})})]}),t.map((C,S)=>e.jsxs("div",{className:i?o.onHover:o.noHover,children:[e.jsxs(F,{container:!0,direction:"row-reverse",justifyContent:"space-between",alignItems:"baseline",children:[e.jsx(F,{item:!0,sm:"auto",children:p!=="row"&&e.jsx(Ya,{index:S,removeLabel:r,fields:t,label:j})}),u&&e.jsx(b,{variant:"subtitle2",children:`${j} ${S+1}`})]}),p==="row"?e.jsxs(F,{container:!0,direction:"row",children:[e.jsx(F,{item:!0,sm:11,children:e.jsx(re,{name:`${C}`,component:s})}),e.jsx(F,{item:!0,sm:"auto",children:e.jsx(Ya,{index:S,removeLabel:r,fields:t,label:j})})]}):e.jsx("div",{className:c?void 0:o.marginLeft,children:e.jsx(re,{name:`${C}`,component:s})})]},`${C}`)),(t.length>0&&t.length!==l||x===!1&&t.length===0&&t.length!==l)&&e.jsx(Wt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:j?`Add ${j}`:"Add"})]})}const bC=({component:t,...n})=>e.jsx(we,{component:gC,typeComponent:t,...n}),w=_n(Ce(fC)(bC)),CC=t=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:t.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},withLabel:{borderLeft:`1px solid ${t.palette.divider}`,paddingLeft:t.spacing(2),marginLeft:t.spacing(2)},header:{display:"flex",gap:t.spacing(1),alignItems:"center"}}),yC=({label:t,hover:n=!1,classes:s,labelStartCase:o=!0,button:r=!1,initialDisplay:i=!0,...a})=>{const[l,c]=I.useState(i),u=l===!0?"Hide":"Show";return e.jsx("div",{children:e.jsxs("div",{className:n?s.onHover:s.noHover,children:[e.jsxs("div",{className:s.header,children:[t&&e.jsx(b,{variant:"subtitle2",children:o?ie(t):t}),r===!0&&e.jsx(Wt,{onClick:()=>c(p=>!p),color:"primary",children:u})]}),l===!0&&e.jsx("div",{className:t?s.withLabel:void 0,children:e.jsx(re,{...a})})]})})},y=Ce(CC)(yC),SC=t=>({nameAsTitle:n=!0,useStartCase:s=!0,...o})=>{let{label:r}=o;!r&&n?r=o.name&&s?ie(o.name):o.name:r=o.label&&s?ie(o.label):o.label;const i=o.title&&s?ie(o.title):o.title;return e.jsx(t,{...o,title:i,label:r})},d=SC(R),E=t=>e.jsx(pC,{value:t.input.checked,checked:t.input.checked,onClick:()=>t.input.onChange(!t.input.checked),indeterminate:t.input.value==="",...t}),RC=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"fullText",component:E}),label:"Full Text"})]}),TC=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"solrPath",component:m,fullWidth:!0}),e.jsx(d,{name:"solrCollection",component:m,fullWidth:!0}),e.jsx(d,{name:"zookeeperHost",component:m,fullWidth:!0}),e.jsx(d,{name:"elasticsearchPath",component:m,fullWidth:!0}),e.jsx(d,{name:"commitInterval",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"softCommitInterval",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"autoSoftCommit",component:E}),label:"Auto Soft Commit"}),e.jsx(d,{name:"pingAttempts",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"pingTimeout",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"queryTimeout",component:m,type:"number",fullWidth:!0}),e.jsx(w,{name:"fieldDefault",label:"fieldDefault",component:RC})]});function IC({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"indexingConfigurationDocument",component:TC}),e.jsx("button",{type:"submit",hidden:!0})]})}const EC=v()(IC);function pp(t,n){if(t===void 0||Number.isNaN(t))return"";if(t===0)return"0";const s=parseInt(Math.floor(Math.log(t)/Math.log(1e3)),10);return s===0?`${t} ${n[s]})`:`${(t/1e3**s).toFixed(1)} ${n[s]}`}function vC(t){return pp(t,["bps","Kbps","Mbps","Gbps","Tbps"])}function FC(t){return pp(t,["Hz","kHz","mHz","gHz","tHz"])}const dt=t=>t[0].toUpperCase()+t.toLowerCase().slice(1);function AC(t,n){if(t===void 0||Number.isNaN(t))return"";if(t===0)return"0";let s,o=t;t<0&&(s=!0,o=-t);const r=parseInt(Math.floor(Math.log(o)/Math.log(1024)),10);return r===0?`${t} ${n[r]}`:`${s?"-":""}${(t/1024**r).toFixed(1)} ${n[r]}`}function so(t){return AC(t,["Bytes","KB","MB","GB","TB","PB","EB"])}function xp({data:t,fileName:n}){const s=window.URL.createObjectURL(new Blob([t])),o=document.createElement("a");o.href=s,o.setAttribute("download",n),o.click(),window.URL.revokeObjectURL(s)}function PC(t){const n=Oe(t),s=Oe(),o=Oe.duration(s.diff(n));return`${parseInt(o.asMinutes(),10)} minutes`}const DC={textDecoration:"none",color:"inherit"},fe=I.forwardRef((t,n)=>e.jsx(Pt,{ref:n,style:DC,...t,onClick:s=>s.stopPropagation()}));let Kn="",Gs=null,vo=null,jp=null;function ha(){Kn="",Gs!==null&&Gs.disconnect(),vo!==null&&(window.clearTimeout(vo),vo=null)}function Xa(t){const n=["BUTTON","INPUT","SELECT","TEXTAREA"],s=["A","AREA"];return n.includes(t.tagName)&&!t.hasAttribute("disabled")||s.includes(t.tagName)&&t.hasAttribute("href")}function Qa(){let t=null;if(Kn==="#")t=document.body;else{const n=Kn.replace("#","");t=document.getElementById(n),t===null&&Kn==="#top"&&(t=document.body)}if(t!==null){jp(t);const n=t.getAttribute("tabindex");return n===null&&!Xa(t)&&t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),n===null&&!Xa(t)&&(t.blur(),t.removeAttribute("tabindex")),ha(),!0}return!1}function MC(t){window.setTimeout(()=>{Qa()===!1&&(Gs===null&&(Gs=new MutationObserver(Qa)),Gs.observe(document,{attributes:!0,childList:!0,subtree:!0}),vo=window.setTimeout(()=>{ha()},t||1e4))},0)}function fp(t){return I.forwardRef((n,s)=>{let o="";typeof n.to=="string"&&n.to.includes("#")?o=`#${n.to.split("#").slice(1).join("#")}`:typeof n.to=="object"&&typeof n.to.hash=="string"&&(o=n.to.hash);const r={};t===Bi&&(r.isActive=(x,j)=>x&&x.isExact&&j.hash===o);function i(x){ha(),Kn=n.elementId?`#${n.elementId}`:o,n.onClick&&n.onClick(x),Kn!==""&&!x.defaultPrevented&&x.button===0&&(!n.target||n.target==="_self")&&!(x.metaKey||x.altKey||x.ctrlKey||x.shiftKey)&&(jp=n.scroll||(j=>n.smooth?j.scrollIntoView({behavior:"smooth"}):j.scrollIntoView()),MC(n.timeout))}const{scroll:a,smooth:l,timeout:c,elementId:u,...p}=n;return e.jsx(t,{...r,...p,onClick:i,ref:s,children:n.children})})}const OC=fp(Pt);fp(Bi);const LC={textDecoration:"none",color:"inherit"},NC=I.forwardRef((t,n)=>e.jsx(OC,{ref:n,style:LC,...t,onClick:s=>s.stopPropagation()})),_C=t=>({overflowWrapAnywhere:{overflowWrap:"anywhere"},overflowBreakWord:{overflowWrap:"break-word"},text:{...t.typography.subtitle2,color:t.palette.text.primary}}),Re=({color:t="textPrimary",variant:n="subtitle2",...s})=>e.jsx(b,{color:t,variant:n,...s});function $C({value:t,variant:n,variantProps:s,capitalize:o,classes:r={},to:i,onDelete:a,isEdit:l=!1,inputRef:c,error:u,className:p,...x}){if(t===void 0)return null;const j=Lt(r.overflowWrapAnywhere,p);let C=e.jsx(Re,{className:j,...x,children:o?dt(t):t.toString()}),S;switch(n){case"checkbox":C=e.jsx(Fn,{checked:t,disabled:!0});break;case"component":C=t;break;case"aspectratio":typeof t=="object"&&t.horizontal!==void 0&&(C=e.jsx(Re,{className:j,children:`Horizontal:${t.horizontal} Vertical:${t.vertical}`}));break;case"duration":if(typeof t=="object"&&t.started!==void 0){const L=Oe(t.started),ne=Oe(t.finished),Ie=Oe.duration(ne.diff(L)).humanize();C=e.jsx(Re,{className:j,children:Ie})}break;case"metadataFieldValue":C=e.jsx(Re,{className:j,children:t.value}),S=e.jsx("form",{noValidate:!0,autoComplete:"off",style:{width:"100%"},children:e.jsx(gg,{defaultValue:t.value,fullWidth:!0,multiline:!0,error:u,className:r.text,inputRef:c,onFocus:L=>L.currentTarget.setSelectionRange(L.currentTarget.value.length,L.currentTarget.value.length)})});break;case"fromnow":C=e.jsx(Re,{className:j,children:PC(t)});break;case"timestring":C=e.jsx(Re,{className:j,children:t?Oe(t).toString():""});break;case"timestamp":C=e.jsx(Re,{className:j,children:t});break;case"seconds":C=e.jsx(Re,{className:j,children:Oe.duration(t,"seconds").humanize()});break;case"rational":typeof t=="object"&&t.denominator!==void 0&&(C=e.jsx(Re,{className:j,children:`${t.numerator}/${t.denominator}`}));break;case"resolution":typeof t=="object"&&t.width!==void 0&&(C=e.jsx(Re,{className:j,children:`Width:${t.width} Height:${t.height}`}));break;case"timebase":typeof t=="object"&&t.denominator!==void 0&&(C=e.jsx(Re,{className:j,children:`${t.denominator}/${t.numerator}`}));break;case"timecode":typeof t=="object"&&t.samples!==void 0&&(C=e.jsx(Re,{className:j,children:`${t.samples}@${t.timeBase.denominator}/${t.timeBase.numerator}`}));break;case"fps":if(typeof t=="object"&&t.denominator!==void 0){const L=+(t.denominator/t.numerator).toFixed(2);C=e.jsx(Re,{className:j,children:`${L} fps`})}break;case"fps-reverse":if(typeof t=="object"&&t.denominator!==void 0){const L=+(t.numerator/t.denominator).toFixed(2);C=e.jsx(Re,{className:j,children:`${L} fps`})}break;case"bitrate":C=e.jsx(Re,{className:j,children:vC(t)});break;case"percent":C=e.jsx(Re,{className:j,children:`${parseInt(t,10)||0}%`});break;case"frequency":C=e.jsx(Re,{className:j,children:FC(t)});break;case"bytes":C=e.jsx(Re,{className:j,children:so(t)});break;case"link":C=e.jsx(Re,{className:j,children:i?e.jsx(fe,{to:i,children:t}):t});break;case"username":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/user/${t}/`,children:t})});break;case"group":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/group/${t}/`,children:t})});break;case"shape-tag":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/shape-tag/${t}/`,children:t})});break;case"metadata-field":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/metadata-field/${t}/`,children:t})});break;case"item":case"itemId":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/item/${t}/`,children:t})});break;case"shapeId":case"shape":{s!=null&&s.itemId&&(C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/item/${s.itemId}/shape/${t}/`,children:t})}));break}case"componentId":{s!=null&&s.itemId&&(s!=null&&s.shapeId)&&(C=e.jsx(Re,{className:j,children:e.jsx(NC,{to:`/item/${s.itemId}/shape/${s.shapeId}#${t}`,children:t})}));break}case"collectionId":case"collection":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/collection/${t}/`,children:t})});break;case"library":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/library/${t}/`,children:t})});break;case"documentMetadataName":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/document/${t}`,children:t})});break;case"document":C=e.jsx(Re,{children:e.jsx(fe,{to:`/document/${t}`,children:t})});break;case"fileId":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/file/${t}/`,children:t})});break;case"fileIdList":C=t.split(",").map(L=>e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/file/${L}/`,children:L})}));break;case"storageId":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/storage/${t}/`,children:t})});break;case"jobtype":C=e.jsx(Re,{className:j,children:e.jsx(fe,{to:`/task-definition/jobtype/${t}/`,children:t})});break;case"boolean":C=e.jsxs(Re,{className:j,children:[(t==="true"||t===!0)&&"True",(t==="false"||t===!1)&&"False"]});break;case"list":Array.isArray(t)&&(C=t.map(L=>e.jsx(Le,{label:L,onDelete:a?ne=>a(ne,L):void 0},L)));break;case"commaseparatedlist":C=t.split(",").map(L=>e.jsx(Re,{className:r.overflowWrapAnywhere,...x,children:o?dt(L):L.toString()}));break;case"row":Array.isArray(t)&&(C=t.map(L=>qs.createElement(Re,{className:r.overflowWrapAnywhere,...x,key:L},o?dt(L):L.toString())));break;default:n&&console.warn(`TextGrid: Unknown variant=${n}`);break}return l&&S?S:C}const kC=Ce(_C)($C);function Js(t,n){if(t)return JSON.stringify(JSON.parse(t),null,n||2)}function WC({title:t,value:n,variant:s,titleGridProps:o,titleStartCase:r=!0,codeProps:i={},noWrapTitle:a=!0,hideCode:l=!1,onTextClick:c,isValueHidden:u,toggleHideValue:p}){let x=n||"",j;switch(s){case"json":case"application/json":x=Js(n)||"",j="application/json";break;case"xml":case"application/xml":x=fn(n)||"",j="xml";break;case"application/ld+json":x="",j="application/ld+json";break}return e.jsxs("div",{children:[t!==void 0&&e.jsxs(F,{container:!0,direction:"row",alignItems:"center",wrap:"nowrap",children:[e.jsx(F,{md:3,sm:4,xs:6,...o,item:!0,children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",onClick:c,noWrap:a,children:r?ie(t):t})}),l===!0&&e.jsx(f,{onClick:p,size:"small",variant:"outlined",children:`${u?"Show":"Hide"} ${r?ie(t):t}`})]}),(l===!1||u===!1)&&e.jsx(ls,{value:x,onClick:c,options:{mode:j,readOnly:!0,theme:"material",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...i}})]})}const wC=t=>({FormControlLabel:{height:t.typography.subtitle1.lineHeight}});function UC({className:t,title:n,value:s,classes:o,titleStartCase:r=!0}){return e.jsx("div",{className:t,children:e.jsx(T,{classes:{root:o.FormControlLabel},control:e.jsx(Fn,{checked:s==="true"||s===!0,indeterminate:s===""||s===void 0,disabled:!0}),label:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:r?ie(n):n})})})}const VC=Ce(wC)(UC),GC=t=>({onHover:{minHeight:t.spacing(4),"&:hover":{backgroundColor:t.palette.action.hover}},default:{minHeight:t.spacing(4)},TitleGridItem:{},TitleTypography:{},ValueGridItem:{flexGrow:1},EditIconButton:{visibility:"hidden"},EditIcon:{},root:{alignItems:"center","&:hover $EditIconButton":{visibility:"visible"}},EditGridItem:{marginLeft:t.spacing(.5)},CheckIcon:{color:t.palette.success.main},CancelIcon:{color:t.palette.error.main}});function qC({className:t,title:n,value:s,variant:o,variantProps:r,capitalize:i=!1,titleGridProps:a,valueGridProps:l,titleTypographyProps:c={},valueTypographyProps:u={},classes:p,hover:x=!1,hideNoValue:j=!1,titleStartCase:C=!0,codeProps:S={},onClick:L,onDelete:ne,disableOnClick:Te=!0,noWrap:Ie=!1,noWrapTitle:ke=!0,hideCode:Qe=!1,initialHideValue:Rn=!0,to:Tr,onEdit:Tn}){const dn=I.useRef(),[In,gs]=I.useState(!1),[fo,wn]=I.useState(!1),Ir=I.useCallback(async()=>{if(!Tn||!dn)return;const Kt=dn.current.value;try{await Tn(Kt,s),wn(!1),gs(!1)}catch{wn(!0)}},[Tn,s]),Er=()=>gs(Kt=>!Kt),vr=()=>{gs(!1),wn(!1)};I.useEffect(()=>{In&&dn&&dn.current.focus()},[In]);const Un=Lt(t,p.root,{[p.onHover]:x,[p.default]:!x}),bs=Te?Kt=>Kt.stopPropagation():L,[Fr,Cs]=I.useState(Rn),Ar=()=>Cs(Kt=>!Kt);if(j&&(s===void 0||Array.isArray(s)&&s.length===0))return null;switch(o){case"code":case"text/plain":case"json":case"application/json":case"application/ld+json":case"xml":case"application/xml":return e.jsx(WC,{title:n,value:s,variant:o,titleGridProps:a,titleStartCase:C,codeProps:S,noWrapTitle:ke,hideCode:Qe,onTextClick:bs,toggleHideValue:Ar,isValueHidden:Fr});case"boolean":return e.jsx(VC,{className:Un,title:n,value:s,titleStartCase:C});default:return e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",className:Un,alignItems:"flex-start",children:[e.jsx(F,{md:3,sm:4,xs:6,className:p.TitleGridItem,...a,item:!0,children:e.jsx(b,{color:"textSecondary",variant:"subtitle2",onClick:bs,noWrap:ke,className:p.TitleTypography,...c,children:C?ie(n):n})}),e.jsx(F,{xs:"auto",className:p.ValueGridItem,...l,item:!0,children:e.jsx(kC,{...u,value:s,variant:o,variantProps:r,capitalize:i,onClick:bs,noWrap:Ie,to:Tr,onDelete:ne,isEdit:In,inputRef:dn,error:fo})}),Tn&&e.jsx(F,{item:!0,className:p.EditGridItem,children:In===!0?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{title:"Save",arrow:!0,children:e.jsx(Q,{className:p.CheckIconButton,size:"small",onClick:Ir,children:e.jsx(Dt,{className:p.CheckIcon})})}),e.jsx(Ee,{title:"Cancel",arrow:!0,children:e.jsx(Q,{className:p.CancelIconButton,size:"small",onClick:vr,children:e.jsx(bg,{className:p.CancelIcon})})})]}):e.jsx(Ee,{title:"Edit",arrow:!0,children:e.jsx(Q,{className:p.EditIconButton,size:"small",onClick:Er,disableRipple:!0,children:e.jsx(Qo,{className:p.EditIcon})})})})]})}}const h=_n(Ce(GC)(qC)),HC=t=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:t.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}}),JC=({title:t,value:n,classes:s,component:o,hover:r=!1,hideNoValue:i=!1,titleStartCase:a=!0,dense:l=!1,...c})=>i&&n===void 0?null:e.jsxs("div",{className:r?s.onHover:s.noHover,children:[t&&e.jsx(b,{variant:"subtitle2",children:a?ie(t):t}),typeof n=="object"&&e.jsx("div",{className:l?void 0:s.marginLeft,children:e.jsx(o,{value:n,...c})})]}),G=_n(Ce(HC)(JC)),zC=t=>({onHover:{"&:hover":{backgroundColor:t.palette.action.hover}},withMargin:{marginLeft:10},withPadding:{paddingTop:10,paddingBottom:10}}),BC=({title:t,titleKey:n,value:s,classes:o,arrayTitle:r,arrayStartCase:i=!1,component:a,hover:l=!0,dense:c=!1,hideNoValue:u=!1,titleStartCase:p=!0,arrayKey:x,...j})=>u&&s===void 0||u&&s.length===0||!Array.isArray(s)?null:e.jsxs(e.Fragment,{children:[r&&e.jsx(b,{variant:"subtitle2",children:i?ie(r):r}),s.map((C,S)=>e.jsxs("div",{className:Lt({[o.onHover]:l,[o.withMargin]:c===!1}),children:[t&&!n&&e.jsx(b,{variant:"subtitle2",children:p?ie(`${t} ${S+1}`):`${t} ${S+1}`}),n&&t&&e.jsx(b,{variant:"subtitle2",children:p?ie(`${t} ${C[n]}`):`${t} ${C[n]}`}),n&&!t&&e.jsx(b,{variant:"subtitle2",children:p?ie(C[n]):C[n]}),e.jsx("div",{className:Lt({[o.withMargin]:c===!1}),children:e.jsx(a,{value:C,...j})})]},x?C[x]:S))]}),te=_n(Ce(zC)(BC)),KC=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"solrPath",value:t.solrPath,hover:!0}),e.jsx(h,{title:"solrCollection",value:t.solrCollection,hover:!0}),e.jsx(h,{title:"zookeeperHost",value:t.zookeeperHost,variant:"list",hover:!0}),e.jsx(h,{title:"elasticsearchPath",value:t.elasticsearchPath,hover:!0}),e.jsx(h,{title:"commitInterval",value:t.concurrentJobs,hover:!0}),e.jsx(h,{title:"softCommitInterval",value:t.softCommitInterval,hover:!0}),e.jsx(h,{title:"autoSoftCommit",value:t.autoSoftCommit,variant:"boolean",hover:!0}),e.jsx(h,{title:"pingAttempts",value:t.pingAttempts,hover:!0}),e.jsx(h,{title:"pingTimeout",value:t.pingTimeout,hover:!0}),e.jsx(h,{title:"queryTimeout",value:t.queryTimeout,hover:!0}),e.jsx(te,{value:t.fieldDefault,component:n=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:n.name,hover:!0}),e.jsx(h,{title:"fullText",value:n.fullText,variant:"boolean",hover:!0})]}),arrayTitle:"Pools",dense:!0})]});function YC({indexingConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:KC})})}function XC({indexingConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_INDEXING_FORM",r=(a,l,c)=>{n({messageContent:"Indexing Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating Indexing Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:eC,displayProps:{indexingConfigurationDocument:t},initialValues:{indexingConfigurationDocument:t},formComponent:EC,displayComponent:YC})}const QC=q(XC);function ZC(t){return e.jsx(N,{children:e.jsx(QC,{...t})})}class ey extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={indexingConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Indexing"}onRefresh(){try{Fe.getIndexingConfiguration().then(n=>this.setState({indexingConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Indexing Configuration",messageColor:"secondary"})}render(){const{indexingConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Indexing",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#indexing-settings",onRefresh:this.onRefresh,code:n,codeModal:"IndexingConfigurationDocument"}),n&&e.jsx(ZC,{indexingConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const ty=q(ey),ny=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"minSize",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"maxSize",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"evictionInterval",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"minIdleTime",component:m,type:"number",fullWidth:!0})]}),sy=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"pool",component:ny})});function oy({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"ftpPoolConfigurationDocument",component:sy}),e.jsx("button",{type:"submit",hidden:!0})]})}const ry=v()(oy),iy=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minSize",value:t.minSize,hover:!0}),e.jsx(h,{title:"maxSize",value:t.maxSize,hover:!0}),e.jsx(h,{title:"evictionInterval",value:t.evictionInterval,hover:!0}),e.jsx(h,{title:"minIdleTime",value:t.minIdleTime,hover:!0})]}),ay=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(G,{value:t.pool,component:iy,dense:!0})});function ly({ftpPoolConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:ay})})}function cy({ftpPoolConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_FTPPOOL_FORM",r=(a,l,c)=>{n({messageContent:"FTP Pool Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating FTP Pool Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:nC,displayProps:{ftpPoolConfigurationDocument:t},initialValues:{ftpPoolConfigurationDocument:t},formComponent:ry,displayComponent:ly})}const dy=q(cy);function uy(t){return e.jsx(N,{children:e.jsx(dy,{...t})})}function my({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{Fe.removeFtpPoolConfiguration().then(()=>{s({messageContent:"FTP Pool Configuration Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing FTP Pool Configuratio",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove All FTP Pool Configuration"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const hy=P(my),Za="FTPPOOL_REMOVE_DIALOG";class py extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={ftpPoolConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | FTP Pool"}onRefresh(){try{Fe.getFtpPoolConfiguration().then(n=>this.setState({ftpPoolConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading FTP Pool Configuration",messageColor:"secondary"})}render(){const{ftpPoolConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"FTP Pool",helpTo:"/ref/property.html#ftp-pool-configuration",onRefresh:this.onRefresh,code:n,codeModal:"FtpPoolConfigurationDocument",removeModal:Za}),n&&e.jsx(uy,{ftpPoolConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(hy,{dialogName:Za,onSuccess:this.onRefresh})]})}}const xy=q(py),Me=["HIGHEST","HIGH","MEDIUM","LOW","LOWEST","IMMEDIATE"],jy=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priorityThreshold",children:"Priority Threshold"}),e.jsx(d,{name:"priorityThreshold",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"size",component:m,type:"number",fullWidth:!0})]}),fy=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"concurrentJobs",component:m,type:"number",fullWidth:!0}),e.jsx(w,{name:"pool",label:"Pool",component:jy})]});function gy({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"jobPoolListDocument",component:fy}),e.jsx("button",{type:"submit",hidden:!0})]})}const by=v()(gy),Cy=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"priorityThreshold",value:t.priorityThreshold,hover:!0}),e.jsx(h,{title:"size",value:t.size,hover:!0})]}),yy=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"concurrentJobs",value:t.concurrentJobs,hover:!0}),e.jsx(te,{value:t.pool,component:Cy,arrayTitle:"Pools",dense:!0})]});function Sy({jobPoolListDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:yy})})}function Ry({jobPoolListDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_JOBPOOL_FORM",r=(a,l,c)=>{n({messageContent:"Job Pool Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating Job Pool Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:tC,displayProps:{jobPoolListDocument:t},initialValues:{jobPoolListDocument:t},formComponent:by,displayComponent:Sy})}const Ty=q(Ry);function Iy(t){return e.jsx(N,{children:e.jsx(Ty,{...t})})}function Ey({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{Fe.removeAllJobPoolConfiguration().then(()=>{s({messageContent:"Job Pool Configuration Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing Job Pool Configuration",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove All Job Pool Configuration"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const vy=P(Ey),el="JOBPOOL_REMOVE_DIALOG";class Fy extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={jobPoolListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Pools"}onRefresh(){try{Fe.getJobPoolConfiguration().then(n=>this.setState({jobPoolListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job Pool Configuration",messageColor:"secondary"})}render(){const{jobPoolListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Job Pool",helpTo:"/ref/property.html#job-pool-configuration",onRefresh:this.onRefresh,code:n,codeModal:"JobPoolListDocument",removeModal:el}),n&&e.jsx(Iy,{jobPoolListDocument:n,onSuccess:this.onRefresh}),e.jsx(vy,{dialogName:el,onSuccess:this.onRefresh})]})}}const Ay=q(Fy),Py=t=>e.jsx(ce,{...t,className:t.classes.root}),Dy=Ce({root:{tableLayout:"fixed"}})(Py);function M({disableOnClick:t,onClick:n,...s}){const o=t?r=>r.stopPropagation():n;return e.jsx(O,{onClick:o,...s})}function je({to:t,...n}){const s=wh(),{onClick:o}=n,r=t?()=>s.push(t):o;return e.jsx(ge,{onClick:r,style:{cursor:r?"pointer":"auto"},...n})}const My={onClose:Ue,onOpen:Ve},st=t=>ae(null,My)(class extends I.PureComponent{constructor(n){super(n),this.onOpen=this.onOpen.bind(this),this.state={dialogProps:void 0}}onOpen(n){const{onOpen:s}=this.props;return o=>{this.setState({dialogProps:o},()=>s({modalName:n}))}}render(){return e.jsx(t,{...this.props,dialogProps:this.state.dialogProps,onOpen:this.onOpen})}});function Oy({configurationPropertyDocument:t={},onRemove:n,onEdit:s}){return e.jsx(e.Fragment,{children:e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.key}),e.jsx(M,{children:e.jsx(b,{noWrap:!0,children:t.value})}),e.jsx(M,{children:t.lastChange?Oe(t.lastChange).fromNow().toString():""}),e.jsxs(M,{disableOnClick:!0,children:[e.jsx(Q,{onClick:()=>n({propertyKey:t.key}),children:e.jsx(Be,{})}),e.jsx(Q,{onClick:()=>s({configurationPropertyDocument:t}),children:e.jsx(Qo,{})})]})]})})}function Ly({open:t,onClose:n,openSnackBar:s,propertyKey:o,onSuccess:r}){const i=()=>{Fe.removePropertiesConfiguration({key:o}).then(()=>{const a=`Configuration Property ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Configuration Property",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Configuration Property "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Ny=P(Ly),wt=t=>e.jsx(m,{disabled:t.meta.initial!==void 0&&t.meta.initial!=="",onFocus:t.onFocus,onBlur:t.onBlur,...t}),_y=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"key",label:"Key",component:wt,fullWidth:!0}),e.jsx(d,{name:"value",label:"Value",component:m,fullWidth:!0,multiline:!0})]}),$y=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"configurationPropertyDocument",component:_y}),e.jsx("button",{type:"submit",hidden:!0})]}),Ii=v()($y);const ky={root:{},label:{},input:{},helper:{},CodeMirror:{"& .CodeMirror":{height:"100%",width:"100%",maxWidth:"90vw"}}};function Wy({classes:t,className:n,style:s,error:o,warning:r,options:i={},label:a,cmRef:l,input:c={},meta:u={}}){return i.mode==="javascript"&&i.lint!==!1&&i.lint!==void 0&&(window.JSHINT=Cg.JSHINT),e.jsxs("div",{className:Lt([n,t.root]),style:s,children:[a&&e.jsx(J,{error:!!(o||r),className:t.label,children:a}),e.jsx($h,{codeMirrorInstance:kh,options:{theme:"material",...i},className:Lt([t.input,t.CodeMirror]),ref:l,...c}),!!(u.touched&&u.error)&&e.jsx(Qs,{error:!0,className:t.helper,children:u.error})]})}const mt=Ce(ky)(Wy),wy=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"key",label:"Key",component:m,fullWidth:!0}),e.jsx(d,{name:"value",label:"Value",component:mt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})]}),Uy=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"configurationPropertyDocument",component:wy}),e.jsx("button",{type:"submit",hidden:!0})]}),Vy=v()(Uy),Gy={submitForm:it,resetForm:yg,changeForm:Uh,destroyForm:Vh,initializeForm:Sg},D=t=>ae(null,Gy)(t),an=t=>n=>class extends I.PureComponent{constructor(s){super(s),this.onChangeTab=this.onChangeTab.bind(this);const r=new URLSearchParams(s.location.search).get("tab");this.state={tabValue:r||t}}onChangeTab(s,o){const{history:r}=this.props;r.push({search:`?tab=${o}`}),this.setState({tabValue:o})}render(){const{tabValue:s}=this.state;return e.jsx(n,{...this.props,tabValue:s,onChangeTab:this.onChangeTab})}},qy=t=>e.jsx(X,{...t,className:t.classes.root}),ve=Ce({root:{overflow:"visible"}})(qy),Mr="CONFIGURATIONPROPERTIES_FORM",Ei="TEXT_TAB",tl="JAVASCRIPT_TAB";function Hy({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,configurationPropertyDocument:i,tabValue:a,onChangeTab:l}){const c=x=>{const{configurationPropertyDocument:{key:j}}=x,C=`Configuration Property ${j} Updated`;o({messageContent:C}),s&&s(),n()},u=()=>{o({messageContent:"Error Updating Configuration Property",messageColor:"secondary"})};let p=!1;return i&&i.key&&i.key.startsWith("javascript-")&&(p=!0),e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Edit Configuration Property"}),e.jsxs(ve,{children:[p===!1&&e.jsxs(Ki,{value:a,onChange:l,children:[e.jsx(An,{label:"Text",value:Ei}),e.jsx(An,{label:"Javascript",value:tl})]}),!p&&a===Ei&&e.jsx(Ii,{form:Mr,onSubmit:qo,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,initialValues:{configurationPropertyDocument:i},destroyOnUnmount:!1,enableReinitialize:!0}),(p||a===tl)&&e.jsx(Vy,{form:Mr,onSubmit:qo,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,initialValues:i?{configurationPropertyDocument:i}:{configurationPropertyDocument:{key:"javascript-"}},destroyOnUnmount:!1,enableReinitialize:!0})]}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Mr),children:"Save"})]})]})}const gp=A(P,D,an(Ei))(Hy),Jy=t=>(n={},s={})=>n[t].localeCompare(s[t],void 0,{sensitivity:"base"}),nl="REMOVE_CONFIGURATIONPROPERTIES_DIALOG",sl="CONFIGURATIONPROPERTIES_EDIT_MODAL";function zy({configurationPropertyListDocument:t=[],onRefresh:n,dialogProps:s,onOpen:o}){const{property:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(Dy,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Key"}),e.jsx(M,{children:"Value"}),e.jsx(M,{children:"Last Changed"}),e.jsx(M,{})]})}),e.jsx(de,{children:r.sort(Jy("key")).map(i=>e.jsx(Oy,{configurationPropertyDocument:i,onRemove:o(nl),onEdit:o(sl)},i.key))})]}),e.jsx(Ny,{...s,dialogName:nl,onSuccess:n}),e.jsx(gp,{...s,dialogName:sl,onSuccess:n})]})}const By=st(zy);function Ky({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(By,{...t})})})}const ol="CONFIGURATIONPROPERTIES_CREATE_MODAL";class Yy extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={configurationPropertyListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Configuration Properties",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{Fe.getPropertiesConfiguration().then(s=>this.setState({configurationPropertyListDocument:s.data}))}catch{n({messageContent:"Error Getting Configuration Properties",messageColor:"secondary"})}}render(){const{configurationPropertyListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Properties",helpTo:"/ref/property.html#configuration-properties",createModal:ol,onRefresh:this.onRefresh,code:n,codeModal:"ConfigurationPropertyListDocument"}),n&&e.jsx(Ky,{configurationPropertyListDocument:n,onRefresh:this.onRefresh}),e.jsx(gp,{dialogName:ol,onSuccess:this.onRefresh})]})}}const Xy=q(Yy),Qy=t=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:t.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}}),Zy=({fields:t,label:n,classes:s,hover:o=!0,labelStartCase:r=!0,fieldComponent:i,...a})=>e.jsxs("div",{children:[t.map((l,c)=>e.jsxs("div",{className:o?s.onHover:s.noHover,children:[e.jsxs(F,{container:!0,direction:"row-reverse",justifyContent:"space-between",alignItems:"baseline",children:[e.jsx(F,{item:!0,sm:"auto",children:e.jsx(Q,{onClick:()=>t.remove(c),children:e.jsx(at,{})})}),n&&e.jsx(b,{variant:"subtitle2",children:r?ie(`${n} ${c+1}`):`${n} ${c+1}`})]}),e.jsx("div",{className:s.marginLeft,children:e.jsx(R,{name:`${l}`,component:i,...a})})]},l)),e.jsx(Wt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:n?`Add ${n}`:"Add"})]}),eS=({component:t,...n})=>{const s=Ce(Qy)(Zy);return e.jsx(we,{component:s,fieldComponent:t,...n})},zs=_n(eS),tS=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"host",component:m,fullWidth:!0}),e.jsx(d,{name:"port",component:m,fullWidth:!0}),e.jsx(d,{name:"prefix",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"tags",component:E}),label:"Tags"}),e.jsx(zs,{name:"exclude",label:"Exclude Filter",component:m,fullWidth:!0}),e.jsx(zs,{name:"include",label:"Include Filter",component:m,fullWidth:!0})]}),nS=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"statsd",component:tS})});function sS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metricsConfigurationDocument",component:nS}),e.jsx("button",{type:"submit",hidden:!0})]})}const oS=v()(sS),rS=({value:t,title:n,arrayKey:s,...o})=>o.hideNoValue&&t===void 0||!Array.isArray(t)||o.hideNoValue&&t.lenght===0?null:t.map((r,i)=>e.jsx(h,{title:i===0?n:"",value:r,...o},s?r[s]:i)),_t=_n(rS),iS=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"host",value:t.host,hover:!0}),e.jsx(h,{title:"port",value:t.port,hover:!0}),e.jsx(h,{title:"prefix",value:t.prefix,hover:!0}),e.jsx(h,{title:"tags",value:t.tags,variant:"boolean",hover:!0}),e.jsx(_t,{value:t.exclude,title:"Exclude Filter",hover:!0}),e.jsx(_t,{value:t.include,title:"Include Filter",hover:!0})]}),aS=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(G,{value:t.statsd,component:iS,dense:!0})});function lS({metricsConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:aS})})}function cS({metricsConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_METRICS_FORM",r=(a,l,c)=>{n({messageContent:"Metrics Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating Metrics Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:sC,displayProps:{metricsConfigurationDocument:t},initialValues:{metricsConfigurationDocument:t},formComponent:oS,displayComponent:lS})}const dS=q(cS);function uS(t){return e.jsx(N,{children:e.jsx(dS,{...t})})}class mS extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metricsConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Metrics"}onRefresh(){try{Fe.getMetricsConfiguration().then(n=>this.setState({metricsConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Metrics Configuration",messageColor:"secondary"})}render(){const{metricsConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Metrics",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#metrics-settings",onRefresh:this.onRefresh,code:n,codeModal:"MetricsConfigurationDocument"}),n&&e.jsx(uS,{metricsConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const hS=q(mS),pS=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"path",component:m,fullWidth:!0}),e.jsx(d,{name:"expiryTime",component:m,fullWidth:!0}),e.jsx(d,{name:"uploadUri",component:m,fullWidth:!0}),e.jsx(d,{name:"certificate",component:m,fullWidth:!0}),e.jsx(d,{name:"clientKey",component:m,fullWidth:!0}),e.jsx(d,{name:"clientCertificate",component:m,fullWidth:!0})]});function xS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"logReportConfigurationDocument",component:pS}),e.jsx("button",{type:"submit",hidden:!0})]})}const jS=v()(xS),fS=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"path",value:t.path,hover:!0}),e.jsx(h,{title:"expiryTime",value:t.expiryTime,hover:!0}),e.jsx(h,{title:"uploadUri",value:t.uploadUri,hover:!0}),e.jsx(h,{title:"certificate",value:t.certificate,hover:!0}),e.jsx(h,{title:"clientKey",value:t.clientKey,hover:!0}),e.jsx(h,{title:"clientCertificate",value:t.clientCertificate,hover:!0})]});function gS({logReportConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:fS})})}function bS({logReportConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_LOGREPORT_FORM",r=(a,l,c)=>{n({messageContent:"LogReport Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating LogReport Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:rC,displayProps:{logReportConfigurationDocument:t},initialValues:{logReportConfigurationDocument:t},formComponent:jS,displayComponent:gS})}const CS=q(bS);function yS(t){return e.jsx(N,{children:e.jsx(CS,{...t})})}class SS extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={logReportConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Log Report"}onRefresh(){try{Fe.getLogReportConfiguration().then(n=>this.setState({logReportConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Log Report Configuration",messageColor:"secondary"})}render(){const{logReportConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Log Report",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#logreport-settings",onRefresh:this.onRefresh,code:n,codeModal:"LogReportConfigurationDocument"}),n&&e.jsx(yS,{logReportConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const RS=q(SS),TS=()=>e.jsx(e.Fragment,{children:e.jsx(zs,{name:"alias",label:"Alias",component:m,fullWidth:!0})});function IS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"pathAliasConfigurationDocument",component:TS}),e.jsx("button",{type:"submit",hidden:!0})]})}const ES=v()(IS);function vS({pathAlias:t}){return e.jsxs(ge,{hover:!0,children:[e.jsx(O,{children:t}),e.jsx(O,{})]})}function FS({pathAliasConfigurationDocument:t}){const{alias:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Alias"}),e.jsx(O,{})]})}),e.jsx(de,{children:n.map(s=>e.jsx(vS,{pathAlias:s},s))})]})}function AS({pathAliasConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_PATHALIAS_FORM",r=(a,l,c)=>{n({messageContent:"Path Alias Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating Path Alias Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:oC,displayProps:{pathAliasConfigurationDocument:t},initialValues:{pathAliasConfigurationDocument:t},formComponent:ES,displayComponent:FS})}const PS=q(AS);function DS(t){return e.jsx(N,{children:e.jsx(PS,{...t})})}class MS extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={pathAliasConfigurationDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Path Alias",this.onRefresh()}onRefresh(){try{Fe.getPathAliasConfiguration().then(n=>this.setState({pathAliasConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Path Alias Configuration",messageColor:"secondary"})}render(){const{pathAliasConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Path Alias",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#path-alias-configuration",onRefresh:this.onRefresh,code:n,codeModal:"PathAliasConfigurationDocument"}),n&&e.jsx(DS,{pathAliasConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const OS=q(MS),LS={chipContainer:{minWidth:260}};function NS({classes:t,input:n,simple:s=!1,...o}){const r=c=>{if(c.target.value){const u=s?[c.target.value]:[{value:c.target.value}];if(typeof n.value=="object"){const p=We(n.value,{$push:u});n.onBlur(p)}else n.onBlur(u)}else n.onBlur(n.value)},i=(c,u)=>{const p=We(n.value,{$splice:[[u,1]]});n.onChange(p)},a=typeof n.value=="string"?void 0:n.value,l=s?void 0:{value:"value",text:"value"};return e.jsx(Rg,{...n,...o,dataSourceConfig:l,value:a,onDelete:i,onBlur:r,classes:{chipContainer:t.chipContainer}})}const oe=Ce(LS)(NS),se=({dense:t=!0})=>t?e.jsxs(F,{container:!0,spacing:8,children:[e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"key",label:"key",component:m,fullWidth:!0})}),e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"value",label:"value",component:m,fullWidth:!0})})]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"key",label:"key",component:m,fullWidth:!0}),e.jsx(d,{name:"value",label:"value",component:m,fullWidth:!0})]}),bn=({dense:t=!0})=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"field",arrayHeader:"field",withHeader:!1,component:se,dense:t})}),_S=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"method",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"origin",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"originRegex",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"pathRegex",component:oe,simple:!0,fullWidth:!0}),e.jsx(w,{name:"headerRegex",label:"headerRegex",component:se,fullWidth:!0})]}),$S=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"allowOrigin",component:m,fullWidth:!0}),e.jsx(d,{name:"allowMethods",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"allowHeaders",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"allowMaxAge",component:m,fullWidth:!0}),e.jsx(w,{name:"allowOtherHeader",label:"allowOtherHeader",component:se,fullWidth:!0})]}),kS=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"request",label:"request",component:_S}),e.jsx(y,{name:"response",label:"response",component:$S})]}),WS=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"entry",label:"entry",component:kS})});function wS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"corsConfigurationDocument",component:WS}),e.jsx("button",{type:"submit",hidden:!0})]})}const US=v()(wS),pa=({value:t={},dense:n=!0})=>e.jsx(e.Fragment,{children:e.jsx(te,{title:n?void 0:"field",value:t.field,component:({value:s={}})=>n?e.jsx(h,{title:s.key,value:s.value,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"key",value:s.key}),e.jsx(h,{title:"value",value:s.value})]})})}),dr=({value:t={},dense:n=!0})=>n?e.jsx(h,{title:t.key,value:t.value,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"key",value:t.key}),e.jsx(h,{title:"value",value:t.value})]}),Fs=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"numerator",value:t.numerator,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"denominator",value:t.denominator,hover:!0,hideNoValue:!0})]}),Yn=Fs,Xn=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"samples",value:t.samples,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,component:Yn,title:"timeBase",value:t.timeBase})]}),VS=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0,hideNoValue:!0})]}),rl=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"horizontal",value:t.horizontal,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"vertical",value:t.vertical,hover:!0,hideNoValue:!0})]}),GS=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{hideNoValue:!0,title:"start",component:Xn,value:t.start}),e.jsx(G,{hideNoValue:!0,title:"end",component:Xn,value:t.end})]}),qS=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"method",value:t.method,variant:"list",hover:!0}),e.jsx(h,{title:"origin",value:t.origin,variant:"list",hover:!0}),e.jsx(h,{title:"originRegex",value:t.originRegex,variant:"list",hover:!0}),e.jsx(h,{title:"pathRegex",value:t.pathRegex,variant:"list",hover:!0}),e.jsx(te,{title:"headerRegex",value:t.headerRegex,component:dr})]}),HS=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"allowOrigin",value:t.allowOrigin,hover:!0}),e.jsx(h,{title:"allowMethods",value:t.allowMethods,variant:"list",hover:!0}),e.jsx(h,{title:"allowHeaders",value:t.allowHeaders,variant:"list",hover:!0}),e.jsx(h,{title:"allowMaxAge",value:t.allowMaxAge,hover:!0}),e.jsx(te,{title:"allowOtherHeader",value:t.allowOtherHeader,component:dr})]}),JS=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(te,{title:"request",value:t.request,component:qS}),e.jsx(G,{title:"response",value:t.response,component:HS})]}),zS=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(te,{title:"entry",value:t.entry,component:JS})});function BS({corsConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:zS})})}function KS({corsConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_CORS_FORM",r=(a,l,c)=>{n({messageContent:"CORS Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating CORS Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:aC,displayProps:{corsConfigurationDocument:t},initialValues:{corsConfigurationDocument:t},formComponent:US,displayComponent:BS})}const YS=q(KS);function XS(t){return e.jsx(N,{children:e.jsx(YS,{...t})})}class QS extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={corsConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | CORS"}onRefresh(){try{Fe.getCorsConfiguration().then(n=>this.setState({corsConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Cors Configuration",messageColor:"secondary"})}render(){const{corsConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"CORS",helpTo:"/ref/property.html#cors-configuration",onRefresh:this.onRefresh,code:n,codeModal:"CORSConfigurationDocument"}),n&&e.jsx(XS,{corsConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const ZS=q(QS),eR=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"federationMetadataURI",component:m,fullWidth:!0}),e.jsx(d,{name:"federationMetadataInterval",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"expectedAudience",component:m,fullWidth:!0}),e.jsx(d,{name:"validationEndpoint",component:m,fullWidth:!0}),e.jsx(d,{name:"tokenUser",component:m,fullWidth:!0}),e.jsx(d,{name:"x509Certificate",component:m,fullWidth:!0,multiline:!0})]});function tR({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"oAuth2ConfigurationDocument",component:eR}),e.jsx("button",{type:"submit",hidden:!0})]})}const nR=v()(tR),sR=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"federationMetadataURI",value:t.federationMetadataURI,hover:!0}),e.jsx(h,{title:"federationMetadataInterval",value:t.federationMetadataInterval,hover:!0}),e.jsx(h,{title:"expectedAudience",value:t.expectedAudience,hover:!0}),e.jsx(h,{title:"validationEndpoint",value:t.validationEndpoint,hover:!0}),e.jsx(h,{title:"tokenUser",value:t.tokenUser,hover:!0}),e.jsx(h,{title:"x509Certificate",value:t.x509Certificate,hover:!0})]});function oR({oAuth2ConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:sR})})}function rR({oAuth2ConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_AUTH_FORM",r=(a,l,c)=>{n({messageContent:"OAuth2 Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating OAuth2 Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:lC,displayProps:{oAuth2ConfigurationDocument:t},initialValues:{oAuth2ConfigurationDocument:t},formComponent:nR,displayComponent:oR})}const iR=q(rR);function aR(t){return e.jsx(N,{children:e.jsx(iR,{...t})})}function lR({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{Fe.removeAuthConfiguration().then(()=>{s({messageContent:"OAuth2 Configuration Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing OAuth2 Configuration",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove All OAuth2 Configuration"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const cR=P(lR),il="AUTH_REMOVE_DIALOG";class dR extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={oAuth2ConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | OAuth2"}onRefresh(){try{Fe.getAuthConfiguration().then(n=>this.setState({oAuth2ConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading OAuth2 Configuration",messageColor:"secondary"})}render(){const{oAuth2ConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"OAuth2",helpTo:"/ref/property.html#oauth2-configuration",onRefresh:this.onRefresh,code:n,codeModal:"OAuth2ConfigurationDocument",removeModal:il}),n&&e.jsx(aR,{oAuth2ConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(cR,{dialogName:il,onSuccess:this.onRefresh})]})}}const uR=q(dR),bp=(t="")=>{if(t==="universal:/")return{href:t,protocol:"universal"};let n=!1,s=t;t.startsWith("direct+")&&(n=!0,s=s.replace("direct+",""));const o=/(?:([^:]*):\/\/)?(?:([^:@]*)(?::([^@]*))?@)?(?:([^/:]*)\.(?=[^./:]*\.[^./:]*))?([^./:]*)(?:\.([^/.:]*))?(?::([0-9]*))?(\/[^?#]*(?=.*?\/)\/)?([^?#]*)?(?:\?([^#]*))?(?:#(.*))?/,[r,i,a,l,c,u,p,x,j,C,S,L]=o.exec(s);let ne;c===""?ne=`${ne}.`:c!==void 0&&(ne=`${c}.`),u&&(ne=`${ne||""}${u}`),p===""?ne=`${ne}.`:p!==void 0&&(ne=`${ne}.${p}`);let Te={};S&&(Te=S.split("&").map(ke=>ke.split("=")).reduce((ke,Qe)=>({...ke,[Qe[0]]:Qe[1]}),{}));const Ie=`${j||""}${C&&C!=="/"?C:""}`;return{href:r,protocol:i,username:a,password:l,port:x,path:Ie||void 0,file:C,hash:L,host:ne,queryParams:Te,subdomain:c,domain:u,tld:p,direct:n}},al="file",ll="s3",cl="ftp",dl="sftp",ul="http",ml="https",hl="omms",pl="ds3",xl="azure",jl="gs",fl="vxa",Cp="universal",gl="vidinet",mR=(t={},n)=>{let s={};n&&(s=bp(n));const{direct:o,protocol:r,username:i,password:a,host:l,port:c,path:u,queryParams:p}={...s,...t};if(r===Cp)return"universal:/";let x="";if(o&&(x="direct+"),r&&(x=`${x}${r}://`),i&&(x=`${x}${i}@`),a&&x.endsWith("@")&&(x=`${x.split("@")[0]}:${a}@`),l&&(x=`${x}${l}`),c&&(x=`${x}:${c}`),u&&(u.startsWith("/")||x.endsWith("/")?x=`${x}${u}`:x=`${x}/${u}`),p){const C=Object.entries(p).filter(S=>S[1]!=="").map(S=>S.join("=")).join("&");C&&(x=`${x}?${C}`)}return x},Je=({onChange:t,value:n,...s})=>e.jsx(ue,{value:decodeURIComponent(n),onChange:({target:{value:o,...r},...i})=>t({...i,target:{...r,value:encodeURIComponent(o)}}),...s});let hR=class extends I.PureComponent{constructor(n){super(n),this.onChange=this.onChange.bind(this)}onChange(n){return(s,o)=>{const{name:r,value:i}=this.props;let a;if(n===r)a={[r]:s.target.value};else{const l=n.split(".").reverse(),c=(x,j)=>({[j]:x});let u={$set:s.target.value};o!==void 0&&(u={$set:o});const p=l.reduce(c,u);a=We(i,p)}this.props.onChange(a)}}render(){const{children:n,choices:s={},name:o="",value:r={},...i}=this.props,a=r[o],l=a?s[a]:null;return e.jsxs(e.Fragment,{children:[e.jsx(ue,{select:!0,value:a||"",FormHelperTextProps:{focused:!0},onChange:this.onChange(o),fullWidth:!0,children:n}),l&&e.jsx(l,{...i,value:r,onChange:this.onChange})]})}};const ln=(t,n)=>s=>{if(t==="path"&&!s.target.value.endsWith("/")){const r={target:{value:`${s.target.value}/`}};n(r)}},pR=({value:t={queryParams:{}},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(Fn,{checked:t.direct,onChange:n("direct"),value:t.direct.toString()}),label:"Direct"}),e.jsx(ue,{label:"Bucket",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Folder",value:t.path||"/",onChange:n("path"),onBlur:ln("path",n("path")),fullWidth:!0}),e.jsx(Je,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"Secret Key",value:t.password||"",onChange:n("password"),fullWidth:!0}),e.jsx(Je,{label:"Role ARN",value:t.queryParams.roleArn||"",onChange:n("queryParams.roleArn"),fullWidth:!0}),e.jsx(Je,{label:"Role External ID",value:t.queryParams.roleExternalId||"",onChange:n("queryParams.roleExternalId"),fullWidth:!0}),e.jsx(ue,{label:"Endpoint",value:t.queryParams.endpoint||"",onChange:n("queryParams.endpoint"),fullWidth:!0}),e.jsx(ue,{label:"Region",value:t.queryParams.region||"",onChange:n("queryParams.region"),fullWidth:!0}),e.jsx(ue,{label:"STS Region",value:t.queryParams.stsRegion||"",onChange:n("queryParams.stsRegion"),fullWidth:!0}),e.jsxs(ue,{select:!0,fullWidth:!0,value:t.queryParams.storageClass||"",onChange:n("queryParams.storageClass"),label:"Storage Class",children:[e.jsx(g,{value:""}),e.jsx(g,{value:"standard",children:"Standard"}),e.jsx(g,{value:"infrequent",children:"Infrequent"}),e.jsx(g,{value:"reduced",children:"Reduced"}),e.jsx(g,{value:"onezone-infrequent",children:"Onezone Infrequent"})]}),e.jsx(ue,{label:"SSE Algorithm",value:t.queryParams.sseAlgorithm||"",onChange:n("queryParams.sseAlgorithm"),fullWidth:!0}),e.jsx(ue,{label:"SSE Key ID",value:t.queryParams.sseKeyId||"",onChange:n("queryParams.sseKeyId"),fullWidth:!0}),e.jsx(ue,{label:"Accelerate Transfer",value:t.queryParams.accelerate||"",onChange:n("queryParams.accelerate"),fullWidth:!0}),e.jsx(ue,{label:"Bucket Owner Full Control",value:t.queryParams.bucketOwnerFullControl||"",onChange:n("queryParams.bucketOwnerFullControl"),fullWidth:!0}),e.jsxs(ue,{select:!0,fullWidth:!0,value:t.queryParams.retrievalTier||"",onChange:n("queryParams.retrievalTier"),label:"Retrieval Tier",children:[e.jsx(g,{value:""}),e.jsx(g,{value:"Expedited",children:"Expedited"}),e.jsx(g,{value:"Standard",children:"Standard"}),e.jsx(g,{value:"Bulk",children:"Bulk"})]})]}),xR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Bucket",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Folder",value:t.path||"/",onChange:n("path"),fullWidth:!0}),e.jsx(Je,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"Secret Key",value:t.password||"",onChange:n("password"),fullWidth:!0}),e.jsx(ue,{label:"Endpoint",value:t.queryParams.endpoint||"",onChange:n("queryParams.endpoint"),fullWidth:!0}),e.jsx(ue,{label:"Chunk Ready Timeout",value:t.queryParams.chunkReadyTimeout||"",onChange:n("queryParams.chunkReadyTimeout"),fullWidth:!0}),e.jsxs(ue,{select:!0,fullWidth:!0,value:t.queryParams.checksumType||"",onChange:n("queryParams.checksumType"),label:"Checksum Type",children:[e.jsx(g,{value:""}),e.jsx(g,{value:"md5",children:"md5"}),e.jsx(g,{value:"crc32",children:"crc32"}),e.jsx(g,{value:"crc32c",children:"crc32c"})]})]}),jR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Account Name",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Container",value:t.path||"/",onBlur:ln("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Je,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0})]}),fR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Bucket",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(Je,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(ue,{label:"Project",value:t.queryParams.project||"",onChange:n("queryParams.project"),fullWidth:!0}),e.jsx(ue,{label:"Account",value:t.queryParams.account||"",onChange:n("queryParams.account"),fullWidth:!0})]}),gR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Resource ID",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(Je,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"Secret Key",value:t.password||"",onChange:n("password"),fullWidth:!0})]}),bR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Path",value:t.path||"/",onBlur:ln("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Je,{label:"Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]}),CR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Path",value:t.path||"/",onBlur:ln("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Je,{label:"Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]}),yR=({value:t={},onChange:n,showHttpCreds:s=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Port",value:t.port||"",onChange:n("port"),fullWidth:!0}),e.jsx(ue,{label:"Path",value:t.path||"/",onChange:n("path"),onBlur:ln("path",n("path")),fullWidth:!0}),s&&e.jsxs(e.Fragment,{children:[e.jsx(Je,{label:"URL Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"URL Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]})]}),SR=({value:t={},onChange:n,showHttpCreds:s=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Port",value:t.port||"",onChange:n("port"),fullWidth:!0}),e.jsx(ue,{label:"Path",value:t.path||"/",onBlur:ln("path",n("path")),onChange:n("path"),fullWidth:!0}),s&&e.jsxs(e.Fragment,{children:[e.jsx(Je,{label:"URL Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"URL Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]})]}),RR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"ClusterID/VaultID",value:t.path||"/",onBlur:ln("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Je,{label:"User ID",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Je,{label:"User Key",value:t.password||"",onChange:n("password"),fullWidth:!0})]}),TR=({value:t={},onChange:n})=>e.jsx(e.Fragment,{children:e.jsx(ue,{label:"Path",value:t.path||"/",onChange:n("path"),onBlur:ln("path",n("path")),fullWidth:!0})}),IR=({value:t={},onChange:n})=>e.jsxs(e.Fragment,{children:[e.jsx(ue,{label:"Agent UUID",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ue,{label:"Share",value:t.path||"/",onChange:n("path"),onBlur:ln("path",n("path")),fullWidth:!0})]});function ht(t){const{defaultValue:n,input:{value:s}}=t,o=bp(s||n),r=a=>{const l=mR(a);t.input.onChange(l)},{path:i}=o;return e.jsxs(e.Fragment,{children:[e.jsx(Qs,{children:`${t.label||"URL"}: ${s||n||""}`}),e.jsxs(hR,{choices:{[al]:TR,[ll]:pR,[cl]:bR,[dl]:CR,[ul]:yR,[ml]:SR,[hl]:RR,[pl]:xR,[xl]:jR,[jl]:fR,[fl]:IR,[gl]:gR},value:{...o,path:i||"/"},onChange:r,name:"protocol",children:[e.jsx(g,{value:al,children:"File"}),e.jsx(g,{value:ul,children:"HTTP"}),e.jsx(g,{value:ll,children:"S3"}),e.jsx(g,{value:cl,children:"FTP"}),e.jsx(g,{value:dl,children:"SFTP"}),e.jsx(g,{value:ml,children:"HTTPS"}),e.jsx(g,{value:hl,children:"Matrix Store"}),e.jsx(g,{value:pl,children:"Spectra BlackPearl"}),e.jsx(g,{value:xl,children:"Azure"}),e.jsx(g,{value:jl,children:"Google Storage"}),e.jsx(g,{value:fl,children:"Vidispine Agent"}),e.jsx(g,{value:Cp,children:"Universal"}),e.jsx(g,{value:gl,children:"Vidinet"})]})]})}const ER=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",label:"uri",component:ht,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"storageDisabled",component:E}),label:"Storage Disabled"})]});function vR({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"bulkyMetadataConfigurationDocument",component:ER}),e.jsx("button",{type:"submit",hidden:!0})]})}const FR=v()(vR),AR=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uri",value:t.uri,hover:!0}),e.jsx(h,{title:"Storage Disabled",value:t.storageDisabled,variant:"boolean",hover:!0}),e.jsx(G,{value:t.status,component:({value:{metadataInDatabase:n,metadataOnStorage:s,storageStatus:o}={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"metadataInDatabase",value:n,hover:!0}),e.jsx(h,{title:"metadataOnStorage",value:s,hover:!0}),e.jsx(h,{title:"storageStatus",value:o,hover:!0})]})})]});function PR({bulkyMetadataConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:AR})})}const DR="EDIT_BULKYMETADATA_FORM";function MR({bulkyMetadataConfigurationDocument:t,openSnackBar:n,onSuccess:s,formName:o=DR}){const r=(a,l,c)=>{n({messageContent:"Bulky Metadata Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating Bulky Metadata Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:cC,displayProps:{bulkyMetadataConfigurationDocument:t},initialValues:{bulkyMetadataConfigurationDocument:t},formComponent:FR,displayComponent:PR})}const OR=q(MR);function LR(t){return e.jsx(N,{children:e.jsx(OR,{...t})})}function NR({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r}){const i=()=>{Fe.updateBulkyMetadataConfiguration({bulkyMetadataConfigurationDocument:{uri:null}}).then(()=>{s({messageContent:"Bulky Metadata Configuration Removed"}),o&&o(),n()}).catch(()=>{s({messageContent:"Error Removing Bulky Metadata Configuration",messageColor:"secondary"}),r&&r()})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove Bulky Metadata Configuration?"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const _R=P(NR),bl="BULKYMETADATACONFIGURATION_REMOVE_MODAL";class $R extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Bulky Metadata"}onRefresh(){try{Fe.getBulkyMetadataConfiguration().then(n=>this.setState({bulkyMetadataConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata Configuration",messageColor:"secondary"})}render(){const{bulkyMetadataConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Bulky Metadata",helpTo:"/ref/property.html#bulky-metadata-storage-configuration",onRefresh:this.onRefresh,code:n,codeModal:"BulkyMetadataConfigurationDocument",removeModal:bl}),n&&e.jsx(LR,{bulkyMetadataConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(_R,{dialogName:bl,onSuccess:this.onRefresh})]})}}const kR=q($R),WR=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"forceAge",component:m,type:"number",fullWidth:!0})]}),wR=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"uri",label:"uri",component:ht,fullWidth:!0}),e.jsx(T,{label:"Compress",control:e.jsx(d,{name:"compress",component:E})}),e.jsx(d,{name:"batch",component:m,type:"number",fullWidth:!0}),e.jsx(T,{label:"Body",control:e.jsx(d,{name:"body",component:E})})]}),UR=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"uri",label:"uri",component:ht,fullWidth:!0}),e.jsx(T,{label:"Compress",control:e.jsx(d,{name:"compress",component:E})})]}),VR=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"forceAge",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"uri",label:"uri",component:ht,fullWidth:!0}),e.jsx(T,{label:"Compress",control:e.jsx(d,{name:"compress",component:E})}),e.jsx(d,{name:"batch",component:m,type:"number",fullWidth:!0})]}),GR=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"changeLog",label:"Change Log",component:WR}),e.jsx(y,{name:"auditTrail",label:"Audit Trail",component:wR}),e.jsx(y,{name:"job",label:"Job",component:UR}),e.jsx(y,{name:"transferLog",label:"Transfer Log",component:VR})]});function qR({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"databasePurgingConfigurationDocument",component:GR}),e.jsx("button",{type:"submit",hidden:!0})]})}const HR=v()(qR),JR=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"Change Log",value:t.changeLog,component:({value:{age:n,forceAge:s}={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:n,hover:!0}),e.jsx(h,{title:"Force Age",value:s,hover:!0})]})}),e.jsx(G,{title:"Audit Trail",value:t.auditTrail,component:({value:{age:n,uri:s,compress:o,batch:r,body:i}={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:n,hover:!0}),e.jsx(h,{title:"URI",value:s,hover:!0}),e.jsx(h,{title:"Compress",value:o,variant:"boolean",hover:!0}),e.jsx(h,{title:"Batch",value:r,hover:!0}),e.jsx(h,{title:"Body",value:i,variant:"boolean",hover:!0})]})}),e.jsx(G,{title:"job",value:t.job,component:({value:{age:n,uri:s,compress:o}={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:n,hover:!0}),e.jsx(h,{title:"URI",value:s,hover:!0}),e.jsx(h,{title:"Compress",value:o,variant:"boolean",hover:!0})]})}),e.jsx(G,{title:"Transfer Log",value:t.transferLog,component:({value:{age:n,uri:s,compress:o,batch:r,forceAge:i}={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:n,hover:!0}),e.jsx(h,{title:"Force Age",value:i,hover:!0}),e.jsx(h,{title:"URI",value:s,hover:!0}),e.jsx(h,{title:"Compress",value:o,variant:"boolean",hover:!0}),e.jsx(h,{title:"batch",value:r,hover:!0})]})})]});function zR({databasePurgingConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:JR})})}const BR="EDIT_DATABASEPURGING_FORM";function KR({databasePurgingConfigurationDocument:t,openSnackBar:n,onSuccess:s,formName:o=BR}){const r=(a,l,c)=>{n({messageContent:"Database Purging Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating Database Purging Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:iC,displayProps:{databasePurgingConfigurationDocument:t},initialValues:{databasePurgingConfigurationDocument:t},formComponent:HR,displayComponent:zR})}const YR=q(KR);function XR(t){return e.jsx(N,{children:e.jsx(YR,{...t})})}function QR({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r}){const i=()=>{Fe.updateDatabasePurgingConfiguration({databasePurgingConfigurationDocument:{changeLog:{},auditTrail:{},job:{},transferLog:{}}}).then(()=>{s({messageContent:"Database Purging Configuration Removed"}),o&&o(),n()}).catch(()=>{s({messageContent:"Error Removing Database Purging Configuration",messageColor:"secondary"}),r&&r()})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove Database Purging Configuration?"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const ZR=P(QR),Cl="DATABASEPURGING_REMOVE_DIALOG";class eT extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={databasePurgingConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Database Purging"}onRefresh(){try{Fe.getDatabasePurgingConfiguration().then(n=>this.setState({databasePurgingConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Database Purging Configuration",messageColor:"secondary"})}render(){const{databasePurgingConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Database Purging",helpTo:"/ref/property.html#database-purging-configuration",onRefresh:this.onRefresh,code:n,codeModal:"databasePurgingConfigurationDocument",removeModal:Cl}),n&&e.jsx(XR,{databasePurgingConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(ZR,{dialogName:Cl,onSuccess:this.onRefresh})]})}}const tT=q(eT);function yp(t){const s=`; ${document.cookie}`.split(`; ${t}=`);if(s.length===2)return s.pop().split(";").shift()}const Sp=I.createContext(()=>{throw new Error("Forgot to wrap component in `ThemeProvider`")}),nT="#7c74bd",sT="#0068a9",oT="#44a8aa",rT="#6DC3C5",yl="#df5f5f",Yt=['"Open Sans"',"Helvetica","Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",");function iT({children:t}){const s=Gh("(prefers-color-scheme: dark)")?"dark":"light",[o,r]=I.useReducer((l,c)=>{switch(c.type){case"CHANGE":return{...l,paletteType:c.payload.paletteType||l.paletteType};default:throw new Error(`Unrecognized type ${c.type}`)}},{}),{paletteType:i=s}=o;I.useEffect(()=>{const l=yp("paletteType")||s;r({type:"CHANGE",payload:{paletteType:l}})},[s]);const a=I.useMemo(()=>qh({overrides:{MuiAccordion:{root:{marginTop:4,marginBottom:4}},MuiTablePagination:{root:{overflow:"visible"}},MuiButton:{textSecondary:{color:yl}}},props:{MuiTextField:{InputLabelProps:{shrink:!0}},MuiPaper:{square:!0,elevation:0},MuiCard:{square:!0,elevation:0,variant:"outlined"},MuiTable:{component:"div"},MuiTableBody:{component:"div"},MuiTableCell:{component:"div"},MuiTableFooter:{component:"div"},MuiTableHead:{component:"div"},MuiTablePagination:{component:"div"},MuiTableRow:{component:"div"},MuiAccordion:{square:!0,elevation:0},MuiAccordionSummary:{expandIcon:e.jsx(Yi,{})}},palette:{type:i,primary:{main:sT},secondary:{main:nT},success:{light:rT,main:oT},error:{main:yl},background:{default:{light:"rgb(246, 248, 250)",dark:"rgb(9, 12, 16)"}[i],paper:{light:"rgb(255, 255, 255)",dark:"rgb(13, 17, 23)"}[i]},text:{primary:{light:"rgba(0, 0, 0, 0.87)",dark:"rgb(201, 209, 217)"}[i],secondary:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(139, 148, 158)"}[i]}},action:{active:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(201, 209, 217)"}[i]},divider:{light:"rgba(0, 0, 0, 0.12)",dark:"rgb(48, 54, 61)"}[i],typography:{fontFamily:Yt}}),[i]);return e.jsxs(Hh,{theme:a,children:[e.jsx(Tg,{}),e.jsx(Sp.Provider,{value:r,children:t})]})}function aT(){const t=I.useContext(Sp);return I.useCallback(n=>t({type:"CHANGE",payload:n}),[t])}const Rp={container:(t,n)=>({...t,color:n.isDisabled?n.selectProps.palette.text.disabled:"inherit",fontFamily:Yt}),control:(t,n)=>({...t,backgroundColor:n.selectProps.palette.selected,borderRadius:"0",borderWidth:n.selectProps.variant==="outlined"?"1px 1px 1px 1px":"0 0 1px 0",boxShadow:"none",borderColor:n.selectProps.palette.divider,color:n.isDisabled?n.selectProps.palette.text.disabled:"inherit",marginTop:!n.hasValue&&"6px",fontFamily:Yt}),dropdownIndicator:t=>({...t,padding:"2px"}),indicatorsContainer:(t,n)=>({...t,color:"inherit",visibility:n.isDisabled?"hidden":void 0}),indicatorSeparator:t=>({...t,background:"inherit"}),input:(t,n)=>({...t,color:n.isDisabled?n.selectProps.palette.text.disabled:"inherit",visibility:n.isDisabled?"visible":void 0,fontFamily:Yt}),menu:(t,n)=>({...t,backgroundColor:n.selectProps.palette.background.paper,borderRadius:"0px",zIndex:1500,fontFamily:Yt}),multiValueLabel:t=>({...t,fontFamily:Yt}),option:(t,n)=>({...t,color:n.selectProps.palette.text.primary,backgroundColor:n.isFocused?n.selectProps.palette.action.focus:n.isSelected?n.selectProps.palette.action.focus.selected:n.selectProps.palette.action.focus.hover}),placeholder:t=>({...t,fontFamily:Yt,fontSize:"16px",lineHeight:1}),singleValue:t=>({...t,color:"inherit",fontFamily:Yt}),valueContainer:t=>({...t,fontFamily:Yt})};class lT extends I.Component{constructor(n){super(n),this.handleChange=this.handleChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleUpdate=this.handleUpdate.bind(this);const{input:{value:s}}=this.props,{optionLabelKey:o="label",optionValueKey:r="value",isMulti:i}=n;let a,l;if(i&&s){let c=s;Array.isArray(s)||(c=s.split(",")),a=c.map(u=>({[o]:u,[r]:u}))}else a=s&&{[o]:s,[r]:s},l=s;this.state={inputValue:l,valueOption:a}}handleUpdate(n){this.setState({inputValue:n})}handleChange(n){const{input:{name:s,onChange:o},meta:{dispatch:r,form:i},optionValueKey:a="value",isMulti:l}=this.props;let c="";n?l?n.length>0?c=n.map(u=>u[a]):(c=[],this.handleInputChange([])):c=n[a]:this.handleInputChange(c),this.setState({valueOption:n}),o(c),r?r(Uh(i,s,c)):o(c)}handleInputChange(n){if(this.props.isMulti&&n.length===0){this.setState({inputValue:void 0});return}this.setState({inputValue:n})}render(){const{input:n,meta:s,theme:o,...r}=this.props,{palette:i}=o,{optionLabelKey:a="label",optionValueKey:l="value",creatable:c=!1,getOptionLabel:u=Ie=>Ie[a],getOptionValue:p=Ie=>Ie[l],loadOptions:x,disableInitial:j,isDisabled:C}=r,{valueOption:S,inputValue:L}=this.state;let ne=C;j&&(ne=s.initial!==void 0&&s.initial!=="");let Te=Eg;return x&&(Te=c?vg:Fg),e.jsxs(e.Fragment,{children:[S&&e.jsx(b,{variant:"caption",children:r.required?`${r.label} *`:r.label}),e.jsx(Te,{...r,...n,id:n.name,styles:Rp,placeholder:r.required?`${r.label} *`:r.label,getOptionLabel:u,getOptionValue:p,value:S,inputValue:L,onInputChange:this.handleInputChange,onChange:this.handleChange,onBlur:()=>!0,onFocus:()=>!0,isDisabled:ne,palette:i,theme:Ie=>({...Ie,borderRadius:0,spacing:{...Ie.spacing,menuGutter:0},colors:{...Ie.colors,primary:o.palette.text.primary}})})]})}}const Y=Ig(lT);function cT({input:t,meta:n,...s}){const{palette:o}=Xi(),r=I.useCallback(i=>({...i,borderRadius:0,spacing:{...i.spacing,menuGutter:0},colors:{...i.colors,primary:o.text.primary}}),[o]);return e.jsx(Ag,{...t,...s,palette:o,styles:Rp,placeholder:s.label,theme:r})}const oo=t=>new Promise((n,s)=>{Gt.listJobType().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{uri:r=[]}=o;let i=r;t&&t!=="*"&&(i=r.filter(l=>l.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l,value:l}));n(a)}).catch(o=>{s(o)})}),dT=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"type",label:"Type",component:Y,loadOptions:oo,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"value",children:"Priority"}),e.jsx(d,{name:"value",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]})]}),uT=()=>e.jsx(w,{name:"job",label:"Job Type",component:dT,fullWidth:!0});function mT({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"jobPriorityConfigurationDocument",component:uT}),e.jsx("button",{type:"submit",hidden:!0})]})}const hT=v()(mT),pT=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(te,{title:"Job Type",value:t.job,titleKey:"type",component:({value:n={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:n.type,hover:!0}),e.jsx(h,{title:"Value",value:n.value,hover:!0})]})})});function xT({jobPriorityConfigurationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:pT})})}const jT="EDIT_JOBPRIORITY_FORM";function fT({jobPriorityConfigurationDocument:t,openSnackBar:n,onSuccess:s,formName:o=jT}){const r=(a,l,c)=>{n({messageContent:"Job Priority Configuration Updated"}),s&&s(a,l,c)},i=()=>{n({messageContent:"Error Updating Job Priority Configuration",messageColor:"secondary"})};return e.jsx(_e,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:dC,displayProps:{jobPriorityConfigurationDocument:t},initialValues:{jobPriorityConfigurationDocument:t},formComponent:hT,displayComponent:xT})}const gT=q(fT);function bT(t){return e.jsx(N,{children:e.jsx(gT,{...t})})}function CT({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r}){const i=()=>{Fe.updateJobPriorityConfiguration({jobPriorityConfigurationDocument:{}}).then(()=>{s({messageContent:"Job Priority Configuration Removed"}),o&&o(),n()}).catch(()=>{s({messageContent:"Error Removing Job Priority Configuration",messageColor:"secondary"}),r&&r()})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove Job Priority Configuration?"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const yT=P(CT),Sl="JOBPRIORITY_REMOVE_DIALOG";let ST=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={jobPriorityConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Priority"}onRefresh(){try{Fe.getJobPriorityConfiguration().then(n=>this.setState({jobPriorityConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job Priority Configuration",messageColor:"secondary"})}render(){const{jobPriorityConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Job Priority",helpTo:"/ref/property.html#jdefault-job-priority-configuration",onRefresh:this.onRefresh,code:n,codeModal:"JobPriorityConfigurationDocument",removeModal:Sl}),n&&e.jsx(bT,{jobPriorityConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(yT,{dialogName:Sl,onSuccess:this.onRefresh})]})}};const RT=q(ST);function TT({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(K,{title:"Storage",onRefresh:s,openCode:t,openAction:n,helpTo:"/ref/storage/storage.html"})}const IT=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"regex",value:t.regex}),e.jsx(h,{title:"numGroup",value:t.numGroup})]}),ET=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id}),e.jsx(h,{title:"uri",value:t.uri}),e.jsx(h,{title:"read",variant:"boolean",value:t.read}),e.jsx(h,{title:"write",variant:"boolean",value:t.write}),e.jsx(h,{title:"browse",variant:"boolean",value:t.browse}),e.jsx(h,{title:"lastSuccess",value:t.lastSuccess,variant:"timestamp"}),e.jsx(h,{title:"lastFailure",value:t.lastFailure,variant:"timestamp"}),e.jsx(h,{title:"bandwidth",value:t.value}),e.jsx(h,{title:"failureMessage",value:t.failureMessage}),e.jsx(h,{title:"type",value:t.type}),e.jsx(h,{title:"loc",value:t.loc}),e.jsx(te,{title:"metadata",value:t.metadata,component:pa})]}),vT=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"type",value:t.type,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"state",value:t.state,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Last Scan",value:t.timestamp,variant:"fromnow",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"capacity",value:t.capacity,variant:"bytes",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"autoDetect",value:t.autoDetect,variant:"boolean",hover:!0}),e.jsx(h,{title:"showImportables",value:t.showImportables,variant:"boolean",hover:!0}),e.jsx(h,{title:"scanInterval",value:t.scanInterval,variant:"seconds",hideNoValue:!0,hover:!0})]}),Tp=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:vT,value:t})}),FT=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"bandwidth",value:t.bandwidth,hover:!0}),e.jsx(h,{title:"lowWatermark",value:t.lowWatermark,variant:"bytes",hover:!0}),e.jsx(h,{title:"highWatermark",value:t.highWatermark,variant:"bytes",hover:!0}),e.jsx(h,{title:"lowWatermarkPercentage",value:t.lowWatermarkPercentage,hover:!0}),e.jsx(h,{title:"lowWatermarkPercentage",value:t.lowWatermarkPercentage,hover:!0}),e.jsx(h,{title:"bean",value:t.bean,hover:!0}),e.jsx(h,{title:"projection",value:t.projection,hover:!0}),e.jsx(te,{title:"sequence",value:t.sequence,component:IT,hover:!0}),e.jsx(h,{title:"sequenceTimeout",value:t.sequenceTimeout,hover:!0})]}),AT=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:FT,value:t})}),PT=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(h,{title:"archiveScript",value:t.archiveScript,variant:"code",hideNoValue:!0})}),DT=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:PT,value:t})}),ur={greenAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Pg[500]},baseAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40},redAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Qi[500]},orangeAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Dg[500]},icon:{width:25,height:25}},Ut=Ce(ur)(({classes:t})=>e.jsx(ss,{className:t.greenAvatar,children:e.jsx(Dt,{className:t.icon})})),Fo=Ce(ur)(({classes:t,children:n,isLoading:s=!0})=>e.jsx(ss,{className:t.baseAvatar,children:s?e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Zs,{className:t.icon,style:{zIndex:1,position:"absolute",left:-20,top:-20}}),e.jsx("div",{style:{position:"absolute",left:-20,top:-30},children:n})]}):n})),Ft=Ce(ur)(({classes:t})=>e.jsx(ss,{className:t.redAvatar,children:e.jsx(Jh,{className:t.icon})})),Qn=Ce(ur)(({classes:t})=>e.jsx(ss,{className:t.orangeAvatar,children:e.jsx(Jh,{className:t.icon})}));function MT({storageMethod:t,storageId:n}){let s=!1;return t.lastFailure?t.lastSuccess&&t.lastFailure&&(s=Oe(t.lastSuccess).isAfter(t.lastFailure)):s=!0,e.jsxs(Ge,{hover:!0,to:`/storage/${n}/method/${t.id}`,children:[e.jsx(O,{children:t.id}),e.jsx(O,{children:t.uri}),e.jsx(O,{padding:"checkbox",children:e.jsxs(Mg,{row:!0,children:[e.jsx(T,{control:e.jsx(Fn,{checked:t.read,disabled:!0}),label:e.jsx(b,{variant:"subtitle2",children:"Read"})}),e.jsx(T,{control:e.jsx(Fn,{checked:t.write,disabled:!0}),label:e.jsx(b,{variant:"subtitle2",children:"Write"})}),e.jsx(T,{control:e.jsx(Fn,{checked:t.browse,disabled:!0}),label:e.jsx(b,{variant:"subtitle2",children:"Browse"})})]})}),e.jsx(O,{children:s?e.jsx(Ut,{}):e.jsx(Ft,{})})]})}function Ip({storageDocument:t}){const{method:n,id:s}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"ID"}),e.jsx(O,{children:"URI"}),e.jsx(O,{padding:"checkbox",children:"Permissions"}),e.jsx(O,{padding:"checkbox"})]})}),e.jsx(de,{children:n&&n.map(o=>e.jsx(MT,{storageMethod:o,storageId:s},o.id))})]})}const Ep=["NONE","READY"],OT=["EVACUATING","EVACUATED","DISABLED"],vp=({storageDocument:t})=>{if(t===void 0)return null;const{state:n}=t;if(Ep.includes(n)){const s=n==="NONE"?"Online":n.toLowerCase();return e.jsx(Le,{avatar:e.jsx(Ut,{}),label:s})}return OT.includes(n)?e.jsx(Le,{avatar:e.jsx(Qn,{}),label:ie(n.toLowerCase())}):e.jsx(Le,{avatar:e.jsx(Ft,{}),label:n?ie(n.toLowerCase()):"Unknown"})};function LT(t){const{storageDocument:n,classes:s}=t,{id:o}=n,r=()=>t.history.push(`/storage/${o}/`),i=a=>a.stopPropagation();return e.jsx(e.Fragment,{children:e.jsxs(N,{onClick:r,className:s.onHover,children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:o}),action:e.jsx(vp,{storageDocument:n})}),e.jsxs(U,{children:[e.jsx(Tp,{value:n}),e.jsx(Ip,{onClick:i,storageDocument:n})]})]})})}const NT=t=>({onHover:{"&:hover":{backgroundColor:t.palette.action.hover}}}),_T=ns(Ce(NT)(LT));function $T({storageListDocument:t}){const{storage:n=[]}=t;return n.map(s=>e.jsx(_T,{storageDocument:s},s.id))}const mr=["LOCAL","SHARED","REMOTE","EXTERNAL","ARCHIVE","EXPORT"],kT=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"regex",label:"regex",component:m,fullWidth:!0}),e.jsx(d,{name:"numGroup",label:"numGroup",component:m,type:"number",fullWidth:!0})]}),Fp=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"read",component:E}),label:"Read"}),e.jsx(T,{control:e.jsx(d,{name:"write",component:E}),label:"Write"}),e.jsx(T,{control:e.jsx(d,{name:"browse",component:E}),label:"Browse"}),e.jsx(d,{name:"uri",label:"uri",component:ht,fullWidth:!0}),e.jsx(d,{name:"bandwidth",label:"bandwidth",component:m,fullWidth:!0}),e.jsx(d,{name:"loc",label:"loc",component:m,fullWidth:!0}),e.jsx(d,{name:"lastSuccess",label:"lastSuccess",component:m,disabled:!0,fullWidth:!0}),e.jsx(d,{name:"lastFailure",label:"lastFailure",component:m,disabled:!0,fullWidth:!0}),e.jsx(d,{name:"failureMessage",label:"failureMessage",component:m,disabled:!0,fullWidth:!0}),e.jsx(d,{name:"type",label:"type",component:m,fullWidth:!0}),e.jsx(y,{name:"metadata",label:"metadata",component:bn})]}),Ap=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(d,{name:"type",component:B,children:mr.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"scanInterval",label:"scanInterval",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"autoDetect",component:E}),label:"Auto Detect"}),e.jsx(T,{control:e.jsx(d,{name:"showImportables",component:E}),label:"Show Importables"}),e.jsx(d,{name:"capacity",label:"capacity",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"state",label:"state",component:m,fullWidth:!0,disabled:!0})]}),WT=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"storageDocument",component:Ap}),e.jsx("button",{type:"submit",hidden:!0})]}),Pp=v()(WT),Dp=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"metadata",label:"metadata",component:bn})}),wT=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"storageDocument",component:Dp}),e.jsx("button",{type:"submit",hidden:!0})]});v()(wT);const Mp=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"method",label:"method",component:Fp})}),UT=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"storageDocument",component:Mp}),e.jsx("button",{type:"submit",hidden:!0})]}),VT=v()(UT),GT=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"method",component:Fp}),e.jsx("button",{type:"submit",hidden:!0})]}),Op=v()(GT),Lp=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"freeCapacity",label:"freeCapacity",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"bandwidth",label:"bandwidth",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"timestamp",label:"timestamp",component:m,disabled:!0,fullWidth:!0}),e.jsx(d,{name:"lowWatermark",label:"lowWatermark",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"highWatermark",label:"highWatermark",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"bean",label:"bean",component:m,fullWidth:!0}),e.jsx(d,{name:"projection",label:"projection",component:m,fullWidth:!0}),e.jsx(d,{name:"sequenceTimeout",label:"sequenceTimeout",component:m,type:"number",fullWidth:!0}),e.jsx(w,{name:"sequence",label:"sequence",component:kT})]}),qT=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"storageDocument",component:Lp}),e.jsx("button",{type:"submit",hidden:!0})]}),HT=v()(qT),Np=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"archiveScript",label:"archiveScript",component:mt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})}),JT=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"storageDocument",component:Np}),e.jsx("button",{type:"submit",hidden:!0})]}),zT=v()(JT),BT=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"storageDocument",component:Ap}),e.jsx(y,{name:"storageDocument",component:Mp}),e.jsx(y,{name:"storageDocument",component:Lp}),e.jsx(y,{name:"storageDocument",component:Dp}),e.jsx(y,{name:"storageDocument",component:Np}),e.jsx("button",{type:"submit",hidden:!0})]}),KT=v()(BT);function vi(t){const{storageDocument:n}=t;return rt.createStorage({storageDocument:n}).then(s=>({storageDocument:s.data})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function YT(t,n,s){const{storageDocument:o}=t,r=s.storageId||o.storageId;return rt.modifyStorage({storageId:r,storageDocument:o}).then(i=>({storageDocument:i.data})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function XT(t,n,s){const{method:o}=t,{storageId:r}=s,i=s.storageMethodId||o.storageMethodId,a={url:encodeURIComponent(o.uri),read:o.read,write:o.write,browse:o.browse,bandwidth:o.bandwidth,type:o.type};return rt.modifyStorageMethod({storageId:r,storageMethodId:i,queryParams:a}).then(l=>({storageMethodDocument:l.data})).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function QT(t,n,s){const{method:o}=t,{storageId:r}=s,i={url:encodeURIComponent(o.uri),read:o.read,write:o.write,browse:o.browse,bandwidth:o.bandwidth,type:o.type};return rt.createStorageMethod({storageId:r,queryParams:i}).then(a=>({storageMethodDocument:a.data})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function ZT(t,n,s){const{type:o}=t,r=s.storageId||t.storageId;return rt.updateStorageType({storageId:r,storageType:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function eI(t){const{xmlDocument:n}=t;return Zo.echo({xmlDocument:n}).then(s=>s.data).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function tI(t){const{jsonDocument:n}=t;try{return n?JSON.parse(n):void 0}catch(s){throw new _({_error:s.message})}}function nI(t){try{return JSON.stringify(t,null,2)}catch(n){throw new _({_error:n.message})}}const sI=t=>e.jsx(xe,{...t,classes:{transition:t.classes.root}}),Rl=Ce({root:{overflow:"visible"}})(sI);function oI({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"jsonDocument",component:mt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}function rI({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"xmlDocument",component:mt,options:{theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const iI=v()(oI),aI=v()(rI),Ao="EDIT_JSON_FORM",Po="EDIT_XML_FORM",Or="JSON_TAB",Lr="XML_TAB",Do="EDIT_WIZARD_FORM";class lI extends I.PureComponent{constructor(n){super(n),this.onBack=this.onBack.bind(this),this.onNext=this.onNext.bind(this),this.onSkip=this.onSkip.bind(this),this.onGetValues=this.onGetValues.bind(this),this.onChangeTab=this.onChangeTab.bind(this),this.state={activeStep:n.initialStep||1,jsonDocument:void 0,xmlDocument:void 0,tabValue:Lr}}componentWillUnmount(){this.props.destroyForm(Po)}onBack(n){this.state.activeStep!==0&&this.setState(({activeStep:s})=>({activeStep:s-1,jsonDocument:n,tabValue:Or}))}onNext(n){const{activeStep:s}=this.state;this.setState({activeStep:s+1,jsonDocument:n})}onSkip(){const{activeStep:n}=this.state;this.setState({activeStep:n+1,jsonDocument:""})}onChangeTab(n,s){this.setState({tabValue:s})}onGetValues(){const{formValues:n,stopSubmitForm:s,documentName:o}=this.props;try{const r=nI(n[o]);this.onBack(r)}catch(r){const{errors:i={}}=r,{_error:a=r.message}=i;s(Do,{_error:a})}}render(){const{submitForm:n,documentName:s,FormComponent:o,isJSONFormDirty:r,isXMLFormDirty:i,onCancel:a,initialStep:l,...c}=this.props,{activeStep:u,jsonDocument:p,xmlDocument:x,tabValue:j}=this.state,C={[s]:p};return e.jsxs(ut,{activeStep:u,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:s}),e.jsxs(Rl,{children:[e.jsxs(Ki,{value:j,onChange:this.onChangeTab,children:[e.jsx(An,{label:"JSON",value:Or}),e.jsx(An,{label:"XML",value:Lr})]}),j===Or&&e.jsxs(e.Fragment,{children:[e.jsx(iI,{form:Ao,onSubmitSuccess:this.onNext,onSubmit:tI,initialValues:{jsonDocument:p}}),e.jsxs(ee,{children:[a&&e.jsx(f,{size:"small",color:"secondary",onClick:a,children:"Cancel"}),p===void 0&&e.jsx(f,{onClick:this.onSkip,children:"Skip"}),r&&e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Ao),children:"Next"}),!r&&p!==void 0&&e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Ao),children:"Next"})]})]}),j===Lr&&e.jsxs(e.Fragment,{children:[e.jsx(aI,{form:Po,onSubmitSuccess:this.onNext,onSubmit:eI,initialValues:{xmlDocument:x},destroyOnUnmount:!1}),e.jsxs(ee,{children:[a&&e.jsx(f,{size:"small",color:"secondary",onClick:a,children:"Cancel"}),e.jsx(f,{onClick:this.onSkip,children:"Skip"}),i&&e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Po),children:"Next"})]})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Form"}),e.jsxs(Rl,{children:[e.jsx(o,{form:Do,initialValues:C,...c}),e.jsxs(ee,{children:[e.jsx(V,{}),a&&e.jsx(f,{size:"small",color:"secondary",onClick:a,children:"Cancel"}),e.jsx(f,{onClick:this.onGetValues,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Do),children:"Save"})]})]})]})]})}}function cI(t){return{formValues:Zi(Do)(t),isJSONFormDirty:Ci(Ao)(t),isXMLFormDirty:Ci(Po)(t)}}const dI={openSnackBar:be,submitForm:it,destroyForm:Vh,stopSubmitForm:Og},lt=ae(cI,dI)(lI);function uI({closeModal:t,isOpen:n,history:s,openSnackBar:o}){const r=a=>{const{storageDocument:l}=a,{id:c}=l,u=`Storage ${c} Created`;o({messageContent:u}),s.push(`/storage/${c}/`),t()},i=()=>{o({messageContent:"Error Creating Storage",messageColor:"secondary"})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Storage"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:KT,documentName:"storageDocument",onSubmit:vi,onSubmitSuccess:r,onSubmitFail:i,onCancel:t})})]})}const mI={openSnackBar:be},hI=ae(null,mI)(uI),Tl="STORAGE_LIST_CODE_MODAL",Il="STORAGE_CREATE_MODAL";class pI extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Storage",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{rt.listStorage().then(s=>this.setState({storageListDocument:s.data}))}catch{n({messageContent:"Error Loading Storage List",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{storageListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(TT,{openCode:()=>o({modalName:Tl}),openCreate:()=>o({modalName:Il}),onRefresh:this.onRefresh}),i&&e.jsx($T,{storageListDocument:i}),e.jsx(nt,{isOpen:n===Tl,toggleDialogue:s,code:i,title:"StorageListDocument"}),e.jsx(hI,{isOpen:n===Il,closeModal:s,history:r})]})}}function xI(t){const{ui:{modalName:n}}=t;return{modalName:n}}const jI={openSnackBar:be,closeModal:Ue,openModal:Ve},fI=ae(xI,jI)(pI);class pt extends I.PureComponent{constructor(n){super(n),this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.renderChildren=this.renderChildren.bind(this),this.state={menuAnchor:null}}openMenu({currentTarget:n}){this.setState({menuAnchor:n})}closeMenu(){this.setState({menuAnchor:null})}renderChildren(){return I.Children.map(this.props.children,n=>I.isValidElement(n)?I.cloneElement(n,{onClick:(...s)=>{n.props.onClick&&n.props.onClick(...s),this.closeMenu()}}):n)}render(){const{menuAnchor:n}=this.state,{icon:s,children:o=[],iconProps:r={}}=this.props,i=this.renderChildren(o);return e.jsx(e.Fragment,{children:i.length===0?e.jsx("div",{}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{onClick:this.openMenu,...r,children:s||e.jsx(Lg,{})}),e.jsx(Ng,{id:"simple-menu",anchorEl:n,open:!!n,onClose:this.closeMenu,children:i})]})})}}const gI=({storageDocument:t,evacuateModal:n,evacuateCancelModal:s,onOpen:o})=>{if(t===void 0)return null;const{state:r}=t;return Ep.includes(r)?e.jsx(g,{onClick:()=>o({modalName:n}),children:e.jsx(b,{color:"secondary",children:"Evacuate Storage"})}):r==="EVACUATING"?e.jsx(g,{onClick:()=>o({modalName:s}),children:e.jsx(b,{color:"secondary",children:"Cancel Evacuate Storage"})}):null};function bI({onOpen:t,storageId:n,typeModal:s,onRescan:o,evacuateModal:r,evacuateCancelModal:i,removeModal:a,code:l,...c}){return e.jsx(K,{title:n,parentTitle:"Storage",parentTo:"/storage/",helpTo:"/ref/storage/storage.html",entityId:n,entityType:"storage",code:l,iconList:e.jsxs(e.Fragment,{children:[e.jsx(vp,{storageDocument:l}),e.jsxs(pt,{children:[e.jsx(g,{onClick:()=>t({modalName:s}),children:e.jsx(b,{color:"inherit",children:"Change Storage Type"})}),e.jsx(g,{onClick:o,children:e.jsx(b,{color:"inherit",children:"Rescan"})}),e.jsx(gI,{storageDocument:l,evacuateModal:r,evacuateCancelModal:i,onOpen:t}),e.jsx(g,{onClick:()=>t({modalName:a}),children:e.jsx(b,{color:"secondary",children:"Delete Storage"})})]})]}),...c})}const CI=tt(bI),yI=ea(t=>({root:n=>({"& > *":{marginBottom:t.spacing(n.mb)}})}));function zt({mb:t=2,children:n}){const s=yI({mb:t});return e.jsx("div",{className:s.root,children:n})}function SI({storageDocument:t,storageId:n,openSnackBar:s,onRefresh:o,...r}){const i="EDIT_STORAGE_FORM",a=()=>{s({messageContent:"Storage Saved"}),o&&o()},l=()=>{s({messageContent:"Error Updating Storage",messageColor:"secondary"})},c={storageId:n},u={value:t},p={storageDocument:t};return e.jsx(_e,{formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:YT,formProps:c,displayProps:u,initialValues:p,...r})}const RI={openSnackBar:be},Nr=ae(null,RI)(SI);function TI({fields:t,onRestore:n}){const s=o=>{const r=t.get(o);n&&n(r,o),t.remove(o)};return e.jsxs(e.Fragment,{children:[t.length>0&&e.jsx(J,{shrink:!0,children:"Removed"}),t.map((o,r)=>e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[e.jsx(F,{item:!0,sm:5,children:e.jsx(R,{name:`${o}.key`,component:m,label:"Key",disabled:!0,fullWidth:!0})}),e.jsx(F,{item:!0,sm:5,children:e.jsx(F,{item:!0,children:e.jsx(R,{name:`${o}.value`,component:m,label:"Value",disabled:!0,fullWidth:!0})})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(Q,{onClick:()=>s(r),children:e.jsx(zh,{})})})]},o))]})}const II=t=>e.jsx(m,{disabled:t.meta.initial!==void 0,onFocus:t.onFocus,onBlur:t.onBlur,...t});function $t({fields:t,buttonLabel:n,label:s,onAdd:o,onRemove:r}){const i=()=>{t.push(),o&&o()},a=l=>{const c=t.get(l);r&&r(c,l),t.remove(l)};return e.jsxs(F,{container:!0,direction:"column",children:[e.jsx(J,{shrink:!0,children:s}),t.map((l,c)=>e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[e.jsx(F,{item:!0,sm:5,children:e.jsx(R,{name:`${l}.key`,component:II,label:"Key",fullWidth:!0})}),e.jsx(F,{item:!0,sm:5,children:e.jsx(F,{item:!0,children:e.jsx(R,{name:`${l}.value`,component:m,label:"Value",fullWidth:!0})})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(Q,{onClick:()=>a(c),children:e.jsx(at,{})})})]},c)),e.jsx(F,{item:!0,children:e.jsx(Wt,{onClick:i,color:"primary",style:{marginTop:10},children:n||"Add Metadata"})})]})}const _p=()=>e.jsx(we,{name:"field",component:$t}),xa=t=>e.jsx(we,{...t,name:"field",component:$t});function EI({error:t,handleSubmit:n,onAdd:s,array:o,initialValues:r}){const i=l=>{if(l){const{simpleMetadataDocument:c={}}=r,{field:u=[]}=c;u.find(x=>x.key===l.key)&&o.push("removedKeys",l)}},a=l=>{l&&o.push("simpleMetadataDocument.field",l)};return e.jsxs("form",{onSubmit:n,style:{padding:"10px"},children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"simpleMetadataDocument",component:xa,onAdd:s,onRemove:i}),e.jsx(we,{name:"removedKeys",component:TI,onRestore:a}),e.jsx("button",{type:"submit",hidden:!0})]})}const vI=v()(EI);function $p(t){if(t.startsWith("imf/essenceDescriptors")||t.match(/imf_opl_\d+$/g))return"xml";switch(t){case"item":return"itemId";case"imf_locale":return"xml";case"imf_opl":return"xml";default:return}}function kp({simpleMetadataList:t=[]}){return t.map(n=>e.jsx(h,{title:n.key,value:n.value,titleStartCase:!1,variant:$p(n.key),hideCode:!0,hover:!0},n.key))}const FI=({simpleMetadata:t})=>{const{field:n=[]}=t;return n.map(s=>e.jsx(h,{title:s.key,value:s.value,titleStartCase:!1,variant:$p(s.key),hideCode:!0},s.key))},El=t=>{let n=t.message;throw{}.NODE_ENV!=="production"&&console.error(t),t.response&&(n=JSON.stringify(t.response.data,(s,o)=>o===null?void 0:o)),new _({_error:n})},Ye=t=>(n,s,o,...r)=>{try{return t(n,s,o,...r).catch(El)}catch(i){throw El(i)}};function AI(t,n,s){const{entityType:o,entityId:r}=s,{simpleMetadataDocument:i,removedKeys:a=[]}=t,c=[new Promise((u,p)=>Mt.updateSimpleMetadata({entityType:o,entityId:r,simpleMetadataDocument:i}).then(()=>u()).catch(()=>p()))];return a.forEach(u=>{const{key:p}=u,x=new Promise((j,C)=>Mt.removeSimpleMetadataKey({entityType:o,entityId:r,key:p}).then(()=>j()).catch(()=>C()));c.push(x)}),Promise.all(c).catch(u=>{let p=u.message;throw u.response&&(p=JSON.stringify(u.response.data,(x,j)=>j===null?void 0:j)),new _({_error:p})})}function PI(t,n){const{openSnackBar:s}=cr;n(s({messageContent:"Error Updating Metadata",messageColor:"secondary"}))}function DI(t,n){const{openSnackBar:s}=cr;n(s({messageContent:"Metadata Updated"}))}const MI=Ye((t,n,s)=>{const{queryParams:o={}}=t,r=s.entity||t.entity,i=s.entityId||t.entityId;return Mt.getEntityMetadataGraphDot({entity:r,entityId:i,queryParams:o})}),vl="EDIT_SIMPLE_METADATA_FORM",OI=()=>({CardHeader:{paddingBottom:0},CardContent:{paddingTop:0},CardHeaderTypography:{}});class LI extends I.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{simpleMetadataDocument:n,submitForm:s,entityType:o,entityId:r,onSuccess:i,title:a="Metadata",titleProps:l={},CardHeaderProps:c={},classes:u}=this.props,{isEditing:p}=this.state;let{simpleMetadataList:x}=this.props,j={simpleMetadataDocument:{field:x}};n&&(j={simpleMetadataDocument:n},x=n.field||[]);const C=(S,L,ne)=>{DI(S,L),this.toggleEdit(),i&&i(S,L,ne)};return e.jsxs(e.Fragment,{children:[e.jsx(le,{className:u.CardHeader,title:e.jsx(b,{variant:"subtitle1",className:u.CardHeaderTypography,...l,children:a}),disableTypography:!0,action:r!==void 0?e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:p,onChange:this.toggleEdit})})}):void 0,...c}),e.jsx(U,{className:u.CardContent,children:p?e.jsx(vI,{form:vl,initialValues:j,onSubmit:AI,onSubmitSuccess:C,onSubmitFail:PI,entityType:o,entityId:r}):e.jsx(kp,{simpleMetadataList:x})}),p&&e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>s(vl),size:"small",color:"primary",children:"Save"})]})]})]})}}const NI={submitForm:it},$n=ae(null,NI)(Ce(OI)(LI));function _I({storageDocument:t,storageId:n,onRefresh:s,...o}){return e.jsx($n,{entityType:"storage",entityId:n,simpleMetadataDocument:t.metadata,onSuccess:s,...o})}function $I({storageDocument:t,openMethodCreate:n}){const s=n?e.jsx(Q,{onClick:n,children:e.jsx(bt,{})}):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:"Methods"}),action:s}),e.jsx(U,{children:e.jsx(Ip,{storageDocument:t})})]})}function kI(t){return e.jsxs(zt,{children:[e.jsx(N,{children:e.jsx(Nr,{title:"Settings",formComponent:Pp,displayComponent:Tp,...t})}),e.jsx(N,{children:e.jsx($I,{...t})}),e.jsx(N,{children:e.jsx(Nr,{title:"Advanced",formComponent:HT,displayComponent:AT,...t})}),e.jsx(N,{children:e.jsx(_I,{...t})}),e.jsx(N,{children:e.jsx(Nr,{title:"Scripts",formComponent:zT,displayComponent:DT,...t})})]})}function WI({closeModal:t,isOpen:n,storageId:s,history:o,openSnackBar:r}){const i=()=>{rt.removeStorage({storageId:s}).then(()=>{const a=`Storage ${s} Removed`;r({messageContent:a}),o.push("/storage/"),t()}).catch(()=>{r({messageContent:"Error Removing Storage",messageColor:"secondary"})})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Storage "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function wI({closeModal:t,isOpen:n,openSnackBar:s,storageId:o,onRefresh:r}){const i=()=>{s({messageContent:"Storage Method Added"}),r(),t()},a=()=>{s({messageContent:"Error Adding Storage Method",messageColor:"secondary"})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Storage Method"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Op,documentName:"storageMethodDocument",onSubmit:QT,onSubmitSuccess:i,onSubmitFail:a,onCancel:t,storageId:o})})]})}const UI={openSnackBar:be},VI=ae(null,UI)(wI);function GI({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(R,{name:"type",component:B,children:mr.map(s=>e.jsx(g,{value:s,children:s},s))})]}),e.jsx("button",{type:"submit",hidden:!0})]})}const qI=v()(GI),Fl="STORAGE_TYPE_FORM";function HI({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,storageDocument:i}){if(i===void 0)return null;const{id:a,type:l}=i,c=(p,x,j)=>{o({messageContent:"Storage Type Updated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Updating Storage Type",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Change Storage Type"}),e.jsx(ve,{children:e.jsx(qI,{form:Fl,onSubmit:ZT,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,storageId:a,initialValues:{type:l}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Fl),children:"Save"})]})]})}const JI=A(P,D)(HI);function zI({open:t,onClose:n,openSnackBar:s,storageDocument:o,onSuccess:r}){if(o===void 0)return null;const{id:i}=o,a=()=>{rt.startEvacuateStorage({storageId:i}).then(()=>{s({messageContent:"Storage Evacuation Started"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Starting Storage Evacuation",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Evacuate Storage ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Start"})]})]})}const BI=P(zI);function KI({open:t,onClose:n,openSnackBar:s,storageDocument:o,onSuccess:r}){if(o===void 0)return null;const{id:i}=o,a=()=>{rt.cancelEvacuateStorage({storageId:i}).then(()=>{s({messageContent:"Storage Evacuation Stopping"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Stopping Storage Evacuation",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Cancel Storage ${i} Evacuation`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Stop"})]})]})}const YI=P(KI),Al="STORAGE_REMOVE_MODAL",Pl="STORAGEMETHOD_CREATE_MODAL",Dl="STORAGE_TYPE_DIALOG",Ml="STORAGE_EVACUATE_DIALOG",Ol="STORAGE_EVACUATE_CANCEL_DIALOG";class XI extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onRescan=this.onRescan.bind(this),this.onRescanError=this.onRescanError.bind(this),this.state={storageDocument:void 0}}componentDidMount(){const{storageId:n}=this.props;document.title=`VidiCore Admin | Storage | ${n}`,this.onRefresh()}onRefresh(){const{storageId:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Storage",messageColor:"secondary"})}onFetch(n){try{rt.getStorage({storageId:n}).then(s=>this.setState({storageDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRescan(){const{storageId:n,openSnackBar:s}=this.props;try{rt.rescanStorage({storageId:n}).then(()=>{s({messageContent:"Rescan Started"}),this.onRefresh()}).catch(o=>this.onRescanError(o))}catch(o){this.onRescanError(o)}}onRescanError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Rescanning Storage",messageColor:"secondary"})}render(){const{storageId:n,modalName:s,closeModal:o,openModal:r,openSnackBar:i,history:a}=this.props,{storageDocument:l}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(CI,{removeModal:Al,typeModal:Dl,evacuateModal:Ml,evacuateCancelModal:Ol,onRefresh:this.onRefresh,storageId:n,code:l,codeModal:"StorageDocument",onRescan:this.onRescan}),l&&e.jsx(kI,{onRefresh:this.onRefresh,storageId:n,storageDocument:l,openMethodCreate:()=>r({modalName:Pl})}),e.jsx(WI,{isOpen:s===Al,storageId:n,openSnackBar:i,closeModal:o,history:a}),e.jsx(VI,{isOpen:s===Pl,onRefresh:this.onRefresh,storageId:n,closeModal:o}),e.jsx(JI,{dialogName:Dl,storageDocument:l,onSuccess:this.onRefresh}),e.jsx(BI,{dialogName:Ml,storageDocument:l,onSuccess:this.onRefresh}),e.jsx(YI,{dialogName:Ol,storageDocument:l,onSuccess:this.onRefresh})]})}}function QI(t,n){const{storageId:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,storageId:s}}const ZI={openSnackBar:be,closeModal:Ue,openModal:Ve},eE=ae(QI,ZI)(XI);function tE({openCode:t,onRefresh:n,storageId:s,storageMethodId:o,openRemove:r}){return e.jsx(K,{title:`Method ${o}`,grandParentTitle:"Storage",grandParentTo:"/storage/",parentTitle:s,parentTo:`/storage/${s}`,openCode:t,onRefresh:n,helpTo:"/ref/storage/storage.html#storage-methods",actionComponent:e.jsx(Q,{onClick:r,children:e.jsx(Be,{})})})}function nE({storageMethodDocument:t,storageId:n,storageMethodId:s,openSnackBar:o,onRefresh:r}){const i="EDIT_STORAGEMETHOD_FORM",a=()=>{o({messageContent:"Storage Method Saved"}),r&&r()},l=()=>{o({messageContent:"Error Updating Storage Method",messageColor:"secondary"})},c={storageId:n,storageMethodId:s},u={value:t.method[0]},p={method:t.method[0]};return e.jsx(_e,{formComponent:Op,displayComponent:ET,formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:XT,formProps:c,displayProps:u,initialValues:p})}const sE={openSnackBar:be},oE=ae(null,sE)(nE);function rE({storageMethodDocument:t,storageMethodId:n,storageId:s,onRefresh:o,...r}){var l;const i=(l=t==null?void 0:t.method)==null?void 0:l[0],a=`storage/${s}/method`;return e.jsx($n,{entityType:a,entityId:n,simpleMetadataDocument:i.metadata,onSuccess:o,...r})}function iE(t){return e.jsxs(zt,{children:[e.jsx(N,{children:e.jsx(oE,{...t})}),e.jsx(N,{children:e.jsx(rE,{...t})})]})}function aE({closeModal:t,isOpen:n,storageId:s,storageMethodId:o,history:r,openSnackBar:i}){const a=()=>{rt.removeStorageMethod({storageId:s,storageMethodId:o}).then(()=>{const l=`Storage Method ${o} Removed`;i({messageContent:l}),r.push(`/storage/${s}`),t()}).catch(()=>{i({messageContent:"Error Removing Storage Method",messageColor:"secondary"})})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Storage Method "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Ll="STORAGEMETHOD_CODE_MODAL",Nl="STORAGEMETHOD_REMOVE_MODAL";class lE extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageMethodDocument:void 0}}componentDidMount(){const{storageId:n,storageMethodId:s}=this.props;document.title=`VidiCore Admin | Storage | ${n} | Method | ${s}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,storageId:s,storageMethodId:o}=this.props;try{rt.getStorageMethod({storageId:s,storageMethodId:o}).then(r=>this.setState({storageMethodDocument:r.data}))}catch{n({messageContent:"Error Loading Storage Method",messageColor:"secondary"})}}render(){const{storageId:n,storageMethodId:s,modalName:o,closeModal:r,openModal:i,openSnackBar:a,history:l}=this.props,{storageMethodDocument:c}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(tE,{openCode:()=>i({modalName:Ll}),openRemove:()=>i({modalName:Nl}),onRefresh:this.onRefresh,storageId:n,storageMethodId:s}),c&&e.jsx(iE,{onRefresh:this.onRefresh,storageMethodDocument:c,storageId:n,storageMethodId:s}),e.jsx(nt,{isOpen:o===Ll,toggleDialogue:r,code:c,title:"StorageMethodDocument"}),e.jsx(aE,{isOpen:o===Nl,storageId:n,storageMethodId:s,openSnackBar:a,closeModal:r,history:l})]})}}function cE(t,n){const{storageId:s,storageMethodId:o}=n.match.params,{ui:{modalName:r}}=t;return{modalName:r,storageId:s,storageMethodId:o}}const dE={openSnackBar:be,closeModal:Ue,openModal:Ve},uE=ae(cE,dE)(lE);function mE({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(K,{title:"Shape Tag",onRefresh:s,openCode:t,openAction:n,helpTo:"/item/shape-tag.html"})}function hE({uriListDocument:t}){const n=s=>`/shape-tag/${s}/`;return e.jsx(N,{children:e.jsx(U,{children:e.jsx(cs,{uriListDocument:t,linkTo:n})})})}const pE=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"requireFastStart",component:E}),label:"requireFastStart"}),e.jsx(T,{control:e.jsx(d,{name:"analyzeDuration",component:E}),label:"analyzeDuration"})]}),Fi=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"width",label:"width",component:m,fullWidth:!0,type:"number"}),e.jsx(d,{name:"height",label:"height",component:m,type:"number",fullWidth:!0})]}),Ai=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"horizontal",label:"horizontal",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"vertical",label:"vertical",component:m,type:"number",fullWidth:!0})]}),xE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"width",label:"width",component:m,fullWidth:!0,type:"number"}),e.jsx(d,{name:"height",label:"height",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"top",label:"top",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"bottom",label:"bottom",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"left",label:"left",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"right",label:"right",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"padColor",label:"padColor",component:m,fullWidth:!0}),e.jsx(d,{name:"rotate",label:"rotate",component:m,fullWidth:!0}),e.jsx(y,{name:"pixelAspectRatio",label:"pixelAspectRatio",component:Ai}),e.jsx(y,{name:"targetDAR",label:"targetDAR",component:Ai})]}),Pn=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"key",label:"key",component:m,fullWidth:!0}),e.jsx(d,{name:"value",label:"value",component:m,fullWidth:!0})]}),As=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"numerator",label:"numerator",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"denominator",label:"denominator",component:m,type:"number",fullWidth:!0})]}),ro=As,Ho=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"samples",label:"samples",component:m,type:"number",fullWidth:!0}),e.jsx(y,{name:"timeBase",label:"timeBase",type:"number",component:ro})]}),jE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"id",label:"id",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"stream",label:"stream",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"channel",label:"channel",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"gain",label:"gain",type:"number",component:m,fullWidth:!0})]}),Wp=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"input",label:"input",component:jE}),e.jsx(T,{control:e.jsx(d,{name:"silence",component:E}),label:"silence"})]}),fE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"name",component:m,fullWidth:!0,required:!0}),e.jsx(d,{name:"uri",label:"uri",component:m,fullWidth:!0,required:!0})]}),hr=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uuid",label:"uuid",component:m,fullWidth:!0,required:!0}),e.jsx(d,{name:"versionMajor",label:"versionMajor",type:"number",component:m,fullWidth:!0,required:!0}),e.jsx(d,{name:"versionMinor",label:"versionMinor",type:"number",component:m,fullWidth:!0,required:!0}),e.jsx(d,{name:"versionPatch",label:"versionPatch",type:"number",component:m,fullWidth:!0,required:!0}),e.jsx(w,{name:"configuration",label:"configuration",component:Pn}),e.jsx(w,{name:"resource",label:"resource",component:fE})]}),gE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"format",label:"format",component:m,fullWidth:!0}),e.jsx(d,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(d,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(y,{name:"framerate",label:"framerate",component:ro}),e.jsx(d,{name:"channel",label:"channel",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"stream",label:"stream",component:oe,simple:!0,fullWidth:!0})]}),bE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(d,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(y,{name:"framerate",label:"framerate",component:ro}),e.jsx(d,{name:"channel",label:"channel",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"stream",label:"stream",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"preset",label:"preset",component:oe,simple:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"noAudio",component:E}),label:"noAudio"}),e.jsx(w,{name:"setting",label:"setting",component:Pn}),e.jsx(w,{name:"mix",label:"mix",component:Wp}),e.jsx(y,{name:"otif",label:"otif",component:hr}),e.jsx(T,{control:e.jsx(d,{name:"monoFile",component:E}),label:"monoFile"}),e.jsx(T,{control:e.jsx(d,{name:"allChannel",component:E}),label:"allChannel"}),e.jsx(w,{name:"output",label:"output",component:gE})]}),CE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(d,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(y,{name:"framerate",label:"framerate",component:ro}),e.jsx(d,{name:"channel",label:"channel",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"preset",label:"preset",component:oe,simple:!0,fullWidth:!0}),e.jsx(w,{name:"setting",label:"setting",component:Pn}),e.jsx(w,{name:"mix",label:"mix",component:Wp})]}),yE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(d,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(y,{name:"framerate",label:"framerate",component:ro}),e.jsx(y,{name:"resolution",label:"resolution",component:Fi}),e.jsx(y,{name:"scaling",label:"scaling",component:xE}),e.jsx(y,{name:"displayWidth",label:"displayWidth",component:As}),e.jsx(y,{name:"displayHeight",label:"displayHeight",component:As}),e.jsx(y,{name:"displayXOffset",label:"displayXOffset",component:As}),e.jsx(y,{name:"displayYOffset",label:"displayYOffset",component:As}),e.jsx(y,{name:"containerSAR",label:"containerSAR",component:Ai}),e.jsx(T,{control:e.jsx(d,{name:"forceCFR",component:E}),label:"forceCFR"}),e.jsx(d,{name:"gopSize",label:"gopSize",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"maxBFrames",label:"maxBFrames",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"pixelFormat",label:"pixelFormat",component:m,fullWidth:!0}),e.jsx(d,{name:"preset",label:"preset",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"profile",label:"profile",component:oe,simple:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"noVideo",component:E}),label:"noVideo"}),e.jsx(T,{control:e.jsx(d,{name:"stripParameterSets",component:E}),label:"stripParameterSets"}),e.jsx(T,{control:e.jsx(d,{name:"addParameterSets",component:E}),label:"addParameterSets"}),e.jsx(d,{name:"parameterSets",label:"parameterSets",component:m,fullWidth:!0}),e.jsx(w,{name:"setting",label:"setting",component:Pn}),e.jsx(T,{control:e.jsx(d,{name:"burnTimecode",component:E}),label:"burnTimecode"}),e.jsx(T,{control:e.jsx(d,{name:"burnSubtitles",component:E}),label:"burnSubtitles"}),e.jsx(d,{name:"imageQuality",label:"imageQuality",type:"number",component:m,fullWidth:!0}),e.jsx(y,{name:"otif",label:"otif",component:hr})]}),SE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"start",label:"start",type:"number",component:m,required:!0,fullWidth:!0}),e.jsx(d,{name:"width",label:"width",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"count",label:"count",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"wildcard",label:"wildcard",component:m,required:!0,fullWidth:!0})]}),wp=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"start",label:"start",component:Ho}),e.jsx(y,{name:"end",label:"end",component:Ho})]}),RE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",label:"uri",component:oe,simple:!0,fullWidth:!0}),e.jsx(w,{name:"range",label:"range",component:SE}),e.jsx(d,{name:"id",label:"id",component:m,fullWidth:!0}),e.jsx(d,{name:"x",label:"x",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"y",label:"y",type:"number",component:m,fullWidth:!0}),e.jsx(y,{name:"interval",label:"interval",component:wp}),e.jsx(d,{name:"opacity",label:"opacity",type:"number",component:m,fullWidth:!0})]}),TE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"line",label:"line",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"align",label:"align",component:m,fullWidth:!0}),e.jsx(d,{name:"x",label:"x",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"y",label:"y",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"xRel",label:"xRel",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"yRel",label:"yRel",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"horizontalBase",label:"horizontalBase",component:m,fullWidth:!0}),e.jsx(d,{name:"verticalBase",label:"verticalBase",component:m,fullWidth:!0}),e.jsx(d,{name:"font",label:"font",component:m,fullWidth:!0}),e.jsx(d,{name:"size",label:"size",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"sizeRel",label:"sizeRel",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"r",label:"r",component:m,fullWidth:!0}),e.jsx(d,{name:"g",label:"g",component:m,fullWidth:!0}),e.jsx(d,{name:"b",label:"b",component:m,fullWidth:!0}),e.jsx(d,{name:"a",label:"a",component:m,fullWidth:!0}),e.jsx(d,{name:"outline",label:"outline",component:m,fullWidth:!0}),e.jsx(d,{name:"outlineSize",label:"outlineSize",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"outlineR",label:"outlineR",component:m,fullWidth:!0}),e.jsx(d,{name:"outlineG",label:"outlineG",component:m,fullWidth:!0}),e.jsx(d,{name:"outlineB",label:"outlineB",component:m,fullWidth:!0}),e.jsx(d,{name:"outlineA",label:"outlineA",component:m,fullWidth:!0}),e.jsx(d,{name:"language",label:"language",component:m,fullWidth:!0})]}),IE=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"text",label:"text",component:TE}),e.jsx(y,{name:"interval",label:"interval",component:wp}),e.jsx(d,{name:"opacity",label:"opacity",component:m,type:"number",fullWidth:!0})]}),EE=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"start",label:"start",type:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"width",label:"width",type:"number",component:m,fullWidth:!0})]}),Up=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"Name",component:wt,required:!0,fullWidth:!0}),e.jsx(d,{name:"description",label:"description",component:m,fullWidth:!0}),e.jsx(d,{name:"format",label:"format",component:m,fullWidth:!0})]}),vE=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:Up}),e.jsx("button",{type:"submit",hidden:!0})]}),FE=v()(vE),Vp=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"audio",label:"audio",component:bE}),e.jsx(w,{name:"audioTrack",label:"audioTrack",component:CE})]}),AE=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:Vp}),e.jsx("button",{type:"submit",hidden:!0})]}),PE=v()(AE),Gp=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"video",label:"video",component:yE})}),DE=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:Gp}),e.jsx("button",{type:"submit",hidden:!0})]}),ME=v()(DE),qp=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"overlay",label:"overlay",component:RE}),e.jsx(w,{name:"textOverlay",label:"textOverlay",component:IE})]}),OE=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:qp}),e.jsx("button",{type:"submit",hidden:!0})]}),LE=v()(OE),Hp=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"startTimecode",label:"startTimecode",component:m,fullWidth:!0}),e.jsx(y,{name:"fastStartSetting",label:"fastStartSetting",component:pE}),e.jsx(T,{control:e.jsx(d,{name:"faceDetect",component:E}),label:"faceDetect"}),e.jsx(T,{control:e.jsx(d,{name:"preserveEDL",component:E}),label:"preserveEDL"}),e.jsx(T,{control:e.jsx(d,{name:"addClipName",component:E}),label:"addClipName"}),e.jsx(d,{name:"preferredSourceTag",label:"preferredSourceTag",component:m,fullWidth:!0}),e.jsx(w,{name:"shapeMetadata",label:"shapeMetadata",component:Pn}),e.jsx(y,{name:"maxChunkDuration",label:"maxChunkDuration",component:Ho}),e.jsx(w,{name:"demuxerSetting",label:"demuxerSetting",component:Pn}),e.jsx(w,{name:"muxerSetting",label:"muxerSetting",component:Pn}),e.jsx(y,{name:"sequenceOutput",label:"sequenceOutput",component:EE})]}),NE=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:Hp}),e.jsx("button",{type:"submit",hidden:!0})]}),_E=v()(NE),Jp=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"thumbnailResolution",label:"thumbnailResolution",component:Fi}),e.jsx(d,{name:"thumbnailBackground",label:"thumbnailBackground",component:m,fullWidth:!0}),e.jsx(y,{name:"thumbnailPeriod",label:"thumbnailPeriod",component:Ho}),e.jsx(d,{name:"thumbnailPlugin",label:"thumbnailPlugin",component:m,fullWidth:!0}),e.jsx(y,{name:"posterResolution",label:"posterResolution",component:Fi}),e.jsx(d,{name:"posterBackground",label:"posterBackground",component:m,fullWidth:!0})]}),$E=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:Jp}),e.jsx("button",{type:"submit",hidden:!0})]}),kE=v()($E),zp=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"script",component:mt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})}),WE=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:zp}),e.jsx("button",{type:"submit",hidden:!0})]}),wE=v()(WE);function UE({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"transcodePresetDocument",component:Up}),e.jsx(y,{name:"transcodePresetDocument",component:Vp}),e.jsx(y,{name:"transcodePresetDocument",component:Gp}),e.jsx(y,{name:"transcodePresetDocument",component:Jp}),e.jsx(y,{name:"transcodePresetDocument",component:qp}),e.jsx(y,{name:"transcodePresetDocument",component:Hp}),e.jsx(y,{name:"transcodePresetDocument",component:zp}),e.jsx("button",{type:"submit",hidden:!0})]})}const VE=v()(UE);function Bp(t,n,s){const{transcodePresetDocument:o}=t,r=s.tagName||o.name;return os.updateShapeTag({tagName:r,transcodePresetDocument:o}).then(()=>({transcodePresetDocument:o,tagName:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function GE(){return os.createShapeTagPreset().catch(t=>{let n=t.message;throw t.response&&(n=JSON.stringify(t.response.data,(s,o)=>o===null?void 0:o)),new _({_error:n})})}function qE({closeModal:t,isOpen:n,history:s,openSnackBar:o}){const r=a=>{const{transcodePresetDocument:l}=a,{name:c}=l,u=`Shape Tag ${c} Created`;o({messageContent:u}),s.push(`/shape-tag/${c}/`),t()},i=()=>{o({messageContent:"Error Creating Shape Tag",messageColor:"secondary"})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Shape Tag"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:VE,documentName:"transcodePresetDocument",onSubmit:Bp,onSubmitSuccess:r,onSubmitFail:i,onCancel:t})})]})}const HE={openSnackBar:be},JE=ae(null,HE)(qE),_l="SHAPETAG_LIST_CODE_MODAL",$l="SHAPETAG_CREATE_MODAL";class zE extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Shape Tag",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{os.listShapeTag().then(s=>this.setState({uriListDocument:s.data}))}catch{n({messageContent:"Error Loading Shape Tag List",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(mE,{openCode:()=>o({modalName:_l}),openCreate:()=>o({modalName:$l}),onRefresh:this.onRefresh}),i&&e.jsx(hE,{uriListDocument:i}),e.jsx(nt,{isOpen:n===_l,toggleDialogue:s,code:i,title:"URIListDocument"}),e.jsx(JE,{isOpen:n===$l,closeModal:s,history:r})]})}}function BE(t){const{ui:{modalName:n}}=t;return{modalName:n}}const KE={openSnackBar:be,closeModal:Ue,openModal:Ve},YE=ae(BE,KE)(zE);function XE({openCode:t,onRefresh:n,tagName:s,openRemove:o}){return e.jsx(K,{title:s,parentTitle:"Shape Tag",parentTo:"/shape-tag/",openCode:t,onRefresh:n,actionComponent:e.jsx(Q,{onClick:o,children:e.jsx(Be,{})})})}function QE({transcodePresetDocument:t,tagName:n,openSnackBar:s,onRefresh:o,formComponent:r,...i}){const a="EDIT_SHAPTAG_FORM",l=()=>{s({messageContent:"Shape Tag Rule Saved"}),o&&o()},c=()=>{s({messageContent:"Error Updating Shape Tag",messageColor:"secondary"})},u={tagName:n},p={transcodePresetDocument:t};return e.jsx(_e,{formName:a,onSubmitSuccess:l,onSubmitFail:c,onSubmit:Bp,formProps:u,displayProps:{transcodePresetDocument:t},initialValues:p,formComponent:n.startsWith("__")?void 0:r,...i})}const ZE={openSnackBar:be},En=ae(null,ZE)(QE),ev=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"requireFastStart",value:t.requireFastStart,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"analyzeDuration",value:t.analyzeDuration,variant:"boolean",hover:!0,hideNoValue:!0})]}),Pi=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0,hideNoValue:!0})]}),Di=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"horizontal",value:t.horizontal,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"vertical",value:t.vertical,hover:!0,hideNoValue:!0})]}),tv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"top",value:t.top,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bottom",value:t.bottom,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"left",value:t.left,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"right",value:t.right,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"padColor",value:t.padColor,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"rotate",value:t.rotate,hover:!0,hideNoValue:!0}),e.jsx(G,{title:"pixelAspectRatio",value:t.pixelAspectRatio,component:Di,hideNoValue:!0}),e.jsx(G,{title:"targetDAR",value:t.targetDAR,component:Di,hideNoValue:!0})]}),Dn=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"key",value:t.key,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"value",value:t.value,hover:!0,hideNoValue:!0})]}),Ps=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"numerator",value:t.numerator,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"denominator",value:t.denominator,hover:!0,hideNoValue:!0})]}),io=Ps,Jo=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"samples",value:t.samples,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,component:io,title:"timeBase",value:t.timeBase})]}),nv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stream",value:t.stream,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"channel",value:t.channel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"gain",value:t.gain,hover:!0,hideNoValue:!0})]}),Kp=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(te,{title:"input",value:t.input,component:nv}),e.jsx(h,{title:"silence",value:t.silence,variant:"boolean",hover:!0,hideNoValue:!0})]}),sv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"uri",value:t.uri,hover:!0,hideNoValue:!0})]}),Yp=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uuid",value:t.uuid,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"versionMajor",value:t.versionMajor,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"versionMinor",value:t.versionMinor,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"versionPatch",value:t.versionPatch,hover:!0,hideNoValue:!0}),e.jsx(te,{title:"configuration",value:t.configuration,component:Dn}),e.jsx(te,{title:"resource",value:t.resource,component:sv})]}),ov=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"format",value:t.format,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,title:"framerate",component:io,value:t.framerate}),e.jsx(h,{title:"channel",value:t.channel,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stream",value:t.stream,variant:"list",hover:!0,hideNoValue:!0})]}),rv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"format",value:t.format,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,title:"framerate",component:io,value:t.framerate}),e.jsx(h,{title:"channel",value:t.channel,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stream",value:t.stream,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preset",value:t.preset,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"noAudio",value:t.noAudio,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(te,{title:"setting",value:t.setting,component:Dn}),e.jsx(te,{title:"mix",value:t.mix,component:Kp}),e.jsx(G,{hideNoValue:!0,title:"otif",component:Yp,value:t.otif}),e.jsx(h,{title:"monoFile",value:t.monoFile,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"allChannel",value:t.allChannel,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(te,{title:"output",value:t.output,component:ov})]}),iv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,title:"framerate",component:io,value:t.framerate}),e.jsx(h,{title:"channel",value:t.channel,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preset",value:t.preset,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(te,{title:"setting",value:t.setting,component:Dn}),e.jsx(te,{title:"mix",value:t.mix,component:Kp})]}),av=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,title:"framerate",component:io,value:t.framerate}),e.jsx(G,{hideNoValue:!0,title:"resolution",component:Pi,value:t.resolution}),e.jsx(G,{hideNoValue:!0,title:"scaling",component:tv,value:t.scaling}),e.jsx(G,{hideNoValue:!0,title:"displayWidth",component:Ps,value:t.displayWidth}),e.jsx(G,{hideNoValue:!0,title:"displayHeight",component:Ps,value:t.displayHeight}),e.jsx(G,{hideNoValue:!0,title:"displayXOffset",component:Ps,value:t.displayXOffset}),e.jsx(G,{hideNoValue:!0,title:"displayYOffset",component:Ps,value:t.displayYOffset}),e.jsx(G,{hideNoValue:!0,title:"containerSAR",component:Di,value:t.containerSAR}),e.jsx(h,{title:"forceCFR",value:t.forceCFR,hover:!0,hideNoValue:!0,variant:"boolean"}),e.jsx(h,{title:"gopSize",value:t.gopSize,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"maxBFrames",value:t.maxBFrames,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"pixelFormat",value:t.pixelFormat,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preset",value:t.preset,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"profile",value:t.profile,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"noVideo",value:t.noVideo,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stripParameterSets",value:t.stripParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"addParameterSets",value:t.addParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"parameterSets",value:t.parameterSets,hover:!0,hideNoValue:!0}),e.jsx(te,{title:"setting",value:t.setting,component:Dn}),e.jsx(h,{title:"burnTimecode",value:t.burnTimecode,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"burnSubtitles",value:t.burnSubtitles,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"imageQuality",value:t.imageQuality,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,title:"otif",component:Yp,value:t.otif})]}),lv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:t.start,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"count",value:t.count,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"wildcard",value:t.wildcard,hover:!0,hideNoValue:!0})]}),Xp=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{hideNoValue:!0,title:"start",component:Jo,value:t.start}),e.jsx(G,{hideNoValue:!0,title:"end",component:Jo,value:t.end})]}),cv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uri",value:t.uri,variant:"list",hover:!0}),e.jsx(te,{name:"range",title:"range",component:lv,value:t.range}),e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"x",value:t.x,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"y",value:t.y,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,title:"interval",component:Xp,value:t.interval}),e.jsx(h,{title:"opacity",value:t.opacity,hover:!0,hideNoValue:!0})]}),dv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"line",value:t.line,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"align",value:t.align,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"x",value:t.x,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"y",value:t.y,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"xRel",value:t.xRel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"yRel",value:t.yRel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"horizontalBase",value:t.horizontalBase,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"verticalBase",value:t.verticalBase,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"font",value:t.font,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"size",value:t.size,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"sizeRel",value:t.sizeRel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"r",value:t.r,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"g",value:t.g,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"b",value:t.b,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"a",value:t.a,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outline",value:t.outline,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineSize",value:t.outlineSize,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineR",value:t.outlineR,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineG",value:t.outlineG,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineB",value:t.outlineB,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineA",value:t.outlineA,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"language",value:t.language,hover:!0,hideNoValue:!0})]}),uv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{hideNoValue:!0,title:"text",component:dv,value:t.text}),e.jsx(G,{hideNoValue:!0,title:"interval",component:Xp,value:t.interval}),e.jsx(h,{title:"opacity",value:t.opacity,hover:!0,hideNoValue:!0})]}),mv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:t.start,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0})]}),hv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"description",value:t.description,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"format",value:t.format,hover:!0,hideNoValue:!0})]}),pv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{hideNoValue:!0,component:rv,value:t.audio}),e.jsx(G,{hideNoValue:!0,title:"audioTrack",component:iv,value:t.audioTrack})]}),xv=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:av,value:t.video})}),jv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(te,{hideNoValue:!0,hover:!1,title:"overlay",component:cv,value:t.overlay}),e.jsx(te,{hideNoValue:!0,hover:!1,title:"textOverlay",component:uv,value:t.textOverlay})]}),fv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"startTimecode",value:t.startTimecode,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,name:"fastStartSetting",title:"fastStartSetting",component:ev,value:t.fastStartSetting}),e.jsx(h,{title:"faceDetect",value:t.faceDetect,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preserveEDL",value:t.preserveEDL,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"addClipName",value:t.addClipName,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preferredSourceTag",value:t.preferredSourceTag,hover:!0,hideNoValue:!0}),e.jsx(te,{name:"shapeMetadata",title:"shapeMetadata",component:Dn,value:t.shapeMetadata}),e.jsx(G,{hideNoValue:!0,name:"maxChunkDuration",title:"maxChunkDuration",component:Jo,value:t.maxChunkDuration}),e.jsx(te,{name:"demuxerSetting",title:"demuxerSetting",component:Dn,value:t.demuxerSetting}),e.jsx(te,{name:"muxerSetting",title:"muxerSetting",component:Dn,value:t.muxerSetting}),e.jsx(G,{hideNoValue:!0,name:"sequenceOutput",title:"sequenceOutput",component:mv,value:t.SequenceOutputType})]}),gv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{hideNoValue:!0,name:"thumbnailResolution",title:"thumbnailResolution",component:Pi,value:t.thumbnailResolution}),e.jsx(h,{title:"thumbnailBackground",value:t.thumbnailBackground,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,name:"thumbnailPeriod",title:"thumbnailPeriod",component:Jo,value:t.thumbnailPeriod}),e.jsx(h,{title:"thumbnailPlugin",value:t.thumbnailPlugin,hover:!0,hideNoValue:!0}),e.jsx(G,{hideNoValue:!0,name:"posterResolution",title:"posterResolution",component:Pi,value:t.posterResolution}),e.jsx(h,{title:"posterBackground",value:t.posterBackground,hover:!0,hideNoValue:!0})]}),bv=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(h,{value:t.script,variant:"json"})});function Cv({transcodePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:hv,value:t})})}function yv({transcodePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:pv,value:t})})}function Sv({transcodePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:xv,value:t})})}function Rv({transcodePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:gv,value:t})})}function Tv({transcodePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:jv,value:t})})}function Iv({transcodePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:fv,value:t})})}function Ev({transcodePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:bv,value:t})})}function vv(t){return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsx(En,{title:"Container",formComponent:FE,displayComponent:Cv,...t})}),e.jsx(N,{children:e.jsx(En,{title:"Video",formComponent:ME,displayComponent:Sv,...t})}),e.jsx(N,{children:e.jsx(En,{title:"Audio",formComponent:PE,displayComponent:yv,...t})}),e.jsx(N,{children:e.jsx(En,{title:"Thumbnail",formComponent:kE,displayComponent:Rv,...t})}),e.jsx(N,{children:e.jsx(En,{title:"Overlay",formComponent:LE,displayComponent:Tv,...t})}),e.jsx(N,{children:e.jsx(En,{title:"Advanced",formComponent:_E,displayComponent:Iv,...t})}),e.jsx(N,{children:e.jsx(En,{title:"Script",formComponent:wE,displayComponent:Ev,...t})})]})}function Fv({closeModal:t,isOpen:n,tagName:s,history:o,openSnackBar:r}){const i=()=>{os.removeShapeTag({tagName:s}).then(()=>{const a=`Shape Tag ${s} Removed`;r({messageContent:a}),o.push("/shape-tag/"),t()}).catch(()=>{r({messageContent:"Error Removing Shape Tag",messageColor:"secondary"})})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Shape Tag "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function Av(t,n,s){const{storageRuleDocument:o}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId,a=s.tagName||t.tagName;return en.updateEntityStorageRuleTag({entityType:r,entityId:i,tagName:a,storageRuleDocument:o}).then(()=>({storageRuleDocument:o})).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function Qp(t,n,s){const{storageRuleDocument:o}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return(s.tagName||t.tagName)!==void 0?Av(t,n,s):en.updateEntityStorageRule({entityType:r,entityId:i,storageRuleDocument:o}).then(()=>({storageRuleDocument:o})).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function Pv(t,n,s){const{storageRuleDocument:o}=t,r=s.tagName||o.tag;return en.updateStorageRuleShapeTag({tagName:r,storageRuleDocument:o}).then(()=>({storageRuleDocument:o})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const Dv=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"storageCount",value:t.storageCount,hover:!0,hideNoValue:!0}),e.jsx(te,{title:"priority",value:t.priority,component:n=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"value",value:n.value,hover:!0}),e.jsx(h,{title:"level",value:n.value,hover:!0})]}),hideNoValue:!0}),e.jsx(h,{title:"inherited",value:t.inherited,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"storage",value:t.storage,variant:"storageId",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Storage Group",value:t.group,hover:!0,hideNoValue:!0}),e.jsx(G,{title:"not",value:t.priority,component:n=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"storage",value:n.storage,variant:"storageId",hover:!0}),e.jsx(h,{title:"Storage Group",value:n.group,hover:!0})]}),hideNoValue:!0}),e.jsx(G,{title:"pool",value:t.priority,component:n=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"storage",value:n.storage,variant:"storageId",hover:!0}),e.jsx(h,{title:"Storage Group",value:n.group,hover:!0})]}),hideNoValue:!0}),e.jsx(G,{title:"appliesTo",value:t.priority,component:n=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:n.id,hover:!0}),e.jsx(h,{title:"type",value:n.type,hover:!0})]}),hideNoValue:!0}),e.jsx(h,{title:"precedence",value:t.precedence,hover:!0,hideNoValue:!0})]});function Mv({storageRuleDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:Dv,value:t})})}const Ov=nn(rt.listStorage,500,{leading:!0,trailing:!1}),xt=t=>new Promise((n,s)=>{Ov().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{storage:r=[]}=o;let i=r.map(l=>l.id);t&&t!=="*"&&(i=i.filter(l=>l.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l,value:l}));n(a)}).catch(o=>{s(o)})}),Lv=nn(rt.listStorage,500,{leading:!0,trailing:!1}),ao=t=>new Promise((n,s)=>{Lv().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{group:r=[]}=o;let i=r.map(l=>l.name);t&&t!=="*"&&(i=i.filter(l=>l.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l,value:l}));n(a)}).catch(o=>{s(o)})}),Nv=nn(os.listShapeTag,500,{leading:!0,trailing:!1}),Pe=t=>new Promise((n,s)=>{Nv().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{uri:r=[]}=o;let i=r;t&&t!=="*"&&(i=r.filter(l=>l.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l,value:l}));n(a)}).catch(o=>{s(o)})}),_v=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"value",children:"Criteria"}),e.jsxs(d,{name:"value",component:B,children:[e.jsx(g,{value:"bandwidth",children:"bandwidth"}),e.jsx(g,{value:"capacity",children:"capacity"})]})]}),Zp=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"storage",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"group",label:"Storage Group",component:Y,loadOptions:ao,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]}),$v=()=>e.jsxs(e.Fragment,{children:[e.jsx(Zp,{}),e.jsx(d,{name:"any",component:m,fullWidth:!0})]}),kv=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"level",type:"number",component:m,fullWidth:!0}),e.jsx(_v,{})]}),Wv=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"id",component:m,fullWidth:!0}),e.jsx(d,{name:"type",component:m,fullWidth:!0})]}),ja=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"storageCount",type:"number",component:m,fullWidth:!0}),e.jsx(w,{name:"priority",label:"Priority",component:kv}),e.jsx(T,{control:e.jsx(d,{name:"inherited",component:E}),label:"Inherited"}),e.jsx(d,{name:"storage",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"group",label:"Storage Group",component:Y,loadOptions:ao,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(y,{name:"not",label:"not",component:$v}),e.jsx(y,{name:"pool",label:"pool",component:Zp}),e.jsx(y,{name:"appliesTo",label:"appliesTo",component:Wv}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"precedence",children:"Precedence"}),e.jsxs(d,{name:"precedence",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]})]}),wv=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"tagName",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(y,{name:"storageRuleDocument",component:ja}),e.jsx("button",{type:"submit",hidden:!0})]}),Uv=v()(wv),Vv=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"storageRuleDocument",component:ja}),e.jsx("button",{type:"submit",hidden:!0})]}),Gv=v()(Vv);function qv({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"entityType",children:"Type"}),e.jsxs(d,{name:"entityType",component:B,children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"collection",children:"Collection"}),e.jsx(g,{value:"library",children:"Library"})]})]}),e.jsx(d,{name:"entityId",component:m,fullWidth:!0}),e.jsx(y,{name:"storageRuleDocument",component:ja}),e.jsx("button",{type:"submit",hidden:!0})]})}const Hv=v()(qv);function Jv({open:t,onClose:n,openSnackBar:s,storageRuleDocument:o,onSuccess:r}){if(o===void 0)return null;const{appliesTo:i={},id:a}=o,{type:l,id:c}=i,u=l.toLowerCase();let p;return l==="GENERIC"?p=()=>{en.removeStorageRuleShapeTag({tagName:c}).then(()=>{s({messageContent:"Storage Rule Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})})}:a==="default"?p=()=>{en.removeEntityStorageRule({entityType:u,entityId:c}).then(()=>{s({messageContent:"Storage Rule Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})})}:p=()=>{en.removeEntityStorageRuleTag({entityType:u,entityId:c,tagName:a}).then(()=>{s({messageContent:"Storage Rule Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})})},e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Storage Rule ${ie(u)} For ${c} On ${a}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:p,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const ex=P(Jv);function zv({storageRuleDocument:t,tagName:n,openSnackBar:s,onRefresh:o,onOpen:r}){const i="EDIT_STORAGERULE_TAG_FORM",a="REMOVE_STORAGERULE_DIALOG",l=()=>{s({messageContent:"Storage Rule Saved"}),o&&o()},c=()=>{s({messageContent:"Error Updating Storage Rule",messageColor:"secondary"})},u={tagName:n},p={storageRuleDocument:t},x={storageRuleDocument:t};return e.jsxs(e.Fragment,{children:[e.jsx(_e,{formName:i,onSubmitSuccess:l,onSubmitFail:c,onSubmit:Pv,formProps:u,displayProps:p,initialValues:x,displayComponent:Mv,formComponent:Gv,title:"Storage Rule",iconList:t&&e.jsx(Q,{onClick:()=>r({modalName:a}),children:e.jsx(Be,{})})}),e.jsx(ex,{dialogName:a,onSuccess:o,storageRuleDocument:t})]})}const Bv=P(zv);function Kv(t){return e.jsx(e.Fragment,{children:e.jsx(N,{children:e.jsx(Bv,{...t})})})}const Yv="STORAGERULE_DIALOG";class Xv extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={storageRuleDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{tagName:n}=this.props;try{en.getStorageRuleShapeTag({tagName:n}).then(s=>this.setState({storageRuleDocument:s.data})).catch(s=>{s.response&&s.response.status===404?this.setState({storageRuleDocument:void 0}):this.onRefreshError(s)})}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}render(){const{tagName:n}=this.props,{storageRuleDocument:s}=this.state;return e.jsx(e.Fragment,{children:e.jsx(Kv,{onRefresh:this.onRefresh,storageRuleDocument:s,createModal:Yv,tagName:n})})}}const Qv=q(Xv),kl="SHAPETAG_CODE_MODAL",Wl="SHAPETAG_REMOVE_MODAL";class Zv extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={transcodePresetDocument:void 0}}componentDidMount(){const{tagName:n}=this.props;document.title=`VidiCore Admin | Shape Tag | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,tagName:s}=this.props;try{os.getShapeTag({tagName:s}).then(o=>this.setState({transcodePresetDocument:o.data}))}catch{n({messageContent:"Error Loading Shape Tag",messageColor:"secondary"})}}render(){const{tagName:n,modalName:s,closeModal:o,openModal:r,openSnackBar:i,history:a}=this.props,{transcodePresetDocument:l}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(XE,{openCode:()=>r({modalName:kl}),openRemove:()=>r({modalName:Wl}),onRefresh:this.onRefresh,tagName:n}),l&&e.jsx(vv,{onRefresh:this.onRefresh,tagName:n,transcodePresetDocument:l}),e.jsx(Qv,{...this.props,tagName:n}),e.jsx(nt,{isOpen:s===kl,toggleDialogue:o,code:l,title:"TranscodePresetDocument"}),e.jsx(Fv,{isOpen:s===Wl,tagName:n,openSnackBar:i,closeModal:o,history:a})]})}}function eF(t,n){const{tagName:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,tagName:s}}const tF={openSnackBar:be,closeModal:Ue,openModal:Ve},nF=ae(eF,tF)(Zv),sF=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(h,{title:"licenseError",value:t.licenseError,hover:!0,hideNoValue:!0})}),bo=({value:t={},dense:n=!0})=>n?e.jsx(h,{title:`Current: ${t.current}`,value:`Allowed: ${t.allowed==="-1"?"Unlimited":t.allowed}`,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"allowed",value:t.allowed,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"current",value:t.current,hover:!0,hideNoValue:!0})]}),oF=({value:t={},dense:n=!0})=>n?e.jsx(h,{title:t.name,value:`${t.encode?"Encode":""}${t.decode&&!t.encode?"Decode":""}`,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"encode",value:t.encode,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"decode",value:t.decode,variant:"boolean",hover:!0,hideNoValue:!0})]}),rF=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(te,{value:t.codec,component:oF}),e.jsx(h,{title:"codecExtraTags",value:t.codecExtraTags,hover:!0,hideNoValue:!0})]}),tx=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"macaddress",value:t.macaddress,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"databaseSize",value:t.databaseSize,hover:!0,hideNoValue:!0})]}),iF=({value:t={},dense:n=!0})=>n?e.jsx(h,{title:t.siteId?`${t.siteId} ${t.name}`:t.name,value:t.version,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:t.name,value:t.version,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"siteId",value:t.siteId,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"version",value:t.version,hover:!0,hideNoValue:!0})]}),aF=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"expiryDate",value:t.expiryDate,hover:!0,hideNoValue:!0}),e.jsx(G,{title:"systemInfo",value:t.systemInfo,component:tx,hideNoValue:!0}),e.jsx(h,{title:"fileStatus",value:t.fileStatus,hover:!0,hideNoValue:!0}),e.jsx(G,{title:"storageNumber",value:t.storageNumber,component:bo,hideNoValue:!0}),e.jsx(G,{title:"userNumber",value:t.userNumber,component:bo,hideNoValue:!0}),e.jsx(G,{title:"itemNumber",value:t.itemNumber,component:bo,hideNoValue:!0}),e.jsx(G,{title:"transcoderNumber",value:t.transcoderNumber,component:bo,hideNoValue:!0}),e.jsx(h,{title:"endCustomerCompanyname",value:t.endCustomerCompanyname,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"endCustomerCompanyContactEmail",value:t.endCustomerCompanyContactEmail,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"resellerCompanyName",value:t.resellerCompanyName,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"resellerCompanyContactEmail",value:t.resellerCompanyContactEmail,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"licenseStatus",value:t.licenseStatus,hover:!0,hideNoValue:!0}),e.jsx(G,{title:"licenseErrorStatus",value:t.licenseErrorStatus,component:sF,hideNoValue:!0}),e.jsx(h,{title:"licenseType",value:t.licenseType,hover:!0,hideNoValue:!0}),e.jsx(G,{title:"codecStatus",value:t.codecStatus,component:rF,hideNoValue:!0})]});function lF({versionDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{title:"systemInfo",value:t.systemInfo,component:tx})})}function nx({versionDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{title:"licenseInfo",value:t.licenseInfo,component:aF})})}function cF({versionDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(te,{value:t.component,component:iF})})}function dF(t){return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx(le,{title:"System"}),e.jsx(U,{children:e.jsx(lF,{...t})})]}),e.jsxs(N,{children:[e.jsx(le,{title:"License"}),e.jsx(U,{children:e.jsx(nx,{...t})})]}),e.jsxs(N,{children:[e.jsx(le,{title:"Component"}),e.jsx(U,{children:e.jsx(cF,{...t})})]})]})}const Z=t=>t?void 0:"Required",uF=(t="")=>{const n=/https?:\/\/[-a-zA-Z0-9@:%._+~#=]{2,256}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/gi,s=new RegExp(n);return t.match(s)?void 0:"Not a URL"};function fa({input:t,meta:n,loading:s,fullWidth:o=!1}){const{value:r}=t,i=r&&r[0].name;return e.jsxs(e.Fragment,{children:[!!(n.touched&&n.error)&&e.jsx(Qs,{error:!0,children:n.error}),e.jsxs(f,{variant:"text",component:"label",color:"primary",disableRipple:!0,disabled:s,fullWidth:o,children:[i||"Choose File",e.jsx("input",{style:{display:"none"},type:"file",onChange:t.onChange})]})]})}function mF({error:t,handleSubmit:n,className:s,onSubmit:o,submitOnChange:r}){const i=r?()=>setTimeout(n(a=>o(a))):void 0;return e.jsx("form",{onChange:i,onSubmit:n,className:s,style:{padding:"10px"},children:e.jsxs(F,{container:!0,direction:"column",alignItems:"center",children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"license",label:"Choose License File",fullWidth:!0,component:fa,validate:[Z]}),e.jsx("button",{type:"submit",hidden:!0})]})})}const hF="EDIT_LICENSE_FORM",sx=v({form:hF})(mF);function ox(t){const{license:n}=t,s=n[0];return _g.createLicense({file:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}const wl="EDIT_LICENSE_FORM";function pF({open:t,onClose:n,submitForm:s,openSnackBar:o,onSuccess:r,onFail:i}){const a=(c,u,p)=>{o({messageContent:"License Updated"}),r&&r(c,u,p),n()},l=(c,u,p)=>{o({messageContent:"Error Updating License",messageColor:"secondary"}),i&&i(c,u,p)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Upload License"}),e.jsx(X,{children:e.jsx(sx,{form:wl,onSubmit:ox,onSubmitSuccess:a,onSubmitFail:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>s(wl),children:"Upload"})]})]})}const xF=A(P,D)(pF),jF=({versionDocument:t})=>{if(t===void 0)return null;const{licenseInfo:n={}}=t,{licenseStatus:s}=n;return s==="valid"?e.jsx(Le,{avatar:e.jsx(Ut,{}),label:"Valid License"}):e.jsx(Le,{avatar:e.jsx(Ft,{}),label:"Invalid License"})};function fF({uploadModal:t,onOpen:n,...s}){const{code:o}=s,r=jF({versionDocument:o});return e.jsx(K,{title:"Version",iconList:e.jsxs(e.Fragment,{children:[t&&e.jsx(Ee,{title:"Upload License",children:e.jsx(Q,{onClick:()=>n({modalName:t}),children:e.jsx($g,{})})}),r]}),...s})}const gF=tt(fF),Ul="VERSION_UPDATE_MODAL";class bF extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={versionDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Version",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{Bh.getVersion().then(s=>this.setState({versionDocument:s.data}))}catch{n({messageContent:"Error Loading Version Information",messageColor:"secondary"})}}render(){const{versionDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(gF,{onRefresh:this.onRefresh,uploadModal:Ul,code:n,codeModal:"VersionDocument"}),n&&e.jsx(dF,{versionDocument:n}),e.jsx(xF,{dialogName:Ul,onSuccess:this.onRefresh})]})}}const CF=q(bF),yF=({vidispineServiceListDocument:t})=>{if(t===void 0)return null;const{service:n=[]}=t,s=n.filter(o=>o.isRunning!==!0);return s.length===0?e.jsx(Le,{avatar:e.jsx(Ut,{}),label:"All Services Running"}):e.jsx(Le,{avatar:e.jsx(Ft,{}),label:`${s.length} ${s.length===1?"Service":"Services"} Not Running`})};function SF(t){const n=yF({vidispineServiceListDocument:t.code});return e.jsx(K,{title:"Service",helpTo:"/ref/vidispine-service.html",iconList:n,...t})}const RF=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"class",value:t.class,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"arguments",value:t.arguments,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"isEnabled",value:t.isEnabled,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"isRunning",value:t.isRunning,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"exception",value:t.exception,variant:"code",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"exceptionTimestamp",value:t.exceptionTimestamp,variant:"timestamp",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"thread",value:t.thread,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"threadStatus",value:t.threadStatus,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"load5",value:t.load5,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"load60",value:t.load60,hover:!0,hideNoValue:!0})]});function TF({vidispineServiceDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:RF,value:t})})}function IF({vidispineServiceDocument:t,classes:n,onDisable:s,onEnable:o}){return e.jsx(e.Fragment,{children:e.jsxs(N,{className:n.onHover,children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:ie(t.name)}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:t.isEnabled?e.jsx(f,{onClick:()=>s({serviceName:t.name}),color:"secondary",children:"Disable"}):e.jsx(f,{onClick:()=>o({serviceName:t.name}),color:"primary",children:"Enable"})})})}),e.jsx(U,{children:e.jsx(TF,{vidispineServiceDocument:t})})]})})}const EF=t=>({onHover:{"&:hover":{backgroundColor:t.palette.action.hover}}}),vF=Ce(EF)(IF);function FF({open:t,onClose:n,openSnackBar:s,serviceName:o,onSuccess:r}){const i=()=>{er.disableService({serviceName:o}).then(()=>{const a=`Service ${o} Disabled`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Disabling Service",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Disable Service "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Disable"})]})]})}const AF=P(FF);function PF({open:t,onClose:n,openSnackBar:s,serviceName:o,onSuccess:r}){const i=()=>{er.enableService({serviceName:o}).then(()=>{const a=`Service ${o} Enabled`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Enabling Service",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Enable Service "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"secondary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"primary",autoFocus:!0,children:"Enable"})]})]})}const DF=P(PF),Vl="ENABLE_SERVICE_DIALOG",Gl="DISABLE_SERVICE_DIALOG";function MF({vidispineServiceListDocument:t,onRefresh:n,dialogProps:s,onOpen:o}){const{service:r=[]}=t;return e.jsxs(e.Fragment,{children:[r.map(i=>e.jsx(vF,{vidispineServiceDocument:i,onEnable:o(Vl),onDisable:o(Gl)},i.name)),e.jsx(DF,{...s,dialogName:Vl,onSuccess:n}),e.jsx(AF,{...s,dialogName:Gl,onSuccess:n})]})}const OF=st(MF);let LF=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={vidispineServiceListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Service"}onRefresh(){const{openSnackBar:n}=this.props;try{er.getServiceList().then(s=>this.setState({vidispineServiceListDocument:s.data}))}catch{n({messageContent:"Error Loading Service List",messageColor:"secondary"})}}render(){const{vidispineServiceListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(SF,{onRefresh:this.onRefresh,code:n,codeModal:"VidispineServiceListDocument"}),n&&e.jsx(OF,{onRefresh:this.onRefresh,vidispineServiceListDocument:n})]})}};const NF=q(LF),_F=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"id",component:m,fullWidth:!0})}),$F=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"jobType",component:m,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:_F}),e.jsx("button",{type:"submit",hidden:!0})]}),kF=v()($F);function WF(t){const{taskDefinitionDocument:n}=t,s={task:[n]};return Gt.createTaskDefinition({taskDefinitionListDocument:s}).then(o=>({uriListDocument:o.data})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function wF(t,n,s){const{taskDefinitionDocument:o}=t,r=s.taskDefinitionId||o.id;return Gt.modifyTaskDefinition({taskDefinitionId:r,taskDefinitionDocument:o}).then(i=>({taskDefinitionDocument:i.data,taskDefinitionId:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function UF(t){const{jobType:n,queryParams:s}=t;return Gt.createJobType({jobType:n,queryParams:s}).then(()=>({jobType:n})).catch(o=>{let r=o.message;throw o.response&&(o.response.status===404?r='{"invalidInput":{"context":"job-type","explanation":"id must be between 20000 and 30000"}}':r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}const ql="EDIT_JOBTYPE_FORM";function VF({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r}){const i=l=>{const{jobType:c}=l,u=`Job Type ${c} Created`;n({messageContent:u}),s(),o&&o(l)},a=()=>{n({messageContent:"Error Creating Job Type",messageColor:"secondary"})};return e.jsxs(k,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Create Job Type"}),e.jsxs(X,{children:[e.jsx(xn,{children:"The recommended format of the type is VENDORPREFIX_JOBTYPE."}),e.jsx(kF,{form:ql,onSubmit:UF,onSubmitSuccess:i,onSubmitFail:a})]}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(ql),children:"Save"})]})]})}const GF=A(P,D)(VF),qF=(t,n)=>t.localeCompare(n,void 0,{sensitivity:"base"});function HF({uriListDocument:t}){const n=s=>`/task-definition/jobtype/${s}/`;return e.jsx(N,{children:e.jsx(U,{children:e.jsx(cs,{uriListDocument:t,linkTo:n,sort:qF})})})}function JF(t){return e.jsx(K,{title:"Job Type",helpTo:"/ref/job.html#job-types",...t})}const Hl="JOBTYPE_CREATE_MODAL";class zF extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:null}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Type"}onRefresh(){const{openSnackBar:n}=this.props;try{Gt.listJobType().then(s=>this.setState({uriListDocument:s.data}))}catch{n({messageContent:"Error Loading Job Type List",messageColor:"secondary"})}}render(){const{history:n}=this.props,{uriListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(JF,{createModal:Hl,onRefresh:this.onRefresh,code:s,codeModal:"URIListDocument"}),s&&e.jsx(HF,{uriListDocument:s}),e.jsx(GF,{dialogName:Hl,onSuccess:({jobType:o})=>n.push(`/task-definition/jobtype/${o}/`)})]})}}const BF=q(zF),Jl=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"step",value:t.step,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"previous",value:t.previous,hover:!0,variant:"boolean"}),e.jsx(h,{title:"allPrevious",value:t.allPrevious,hover:!0,variant:"boolean"})]});function KF({taskDefinitionDocument:t}){return e.jsxs(e.Fragment,{children:[e.jsxs(F,{container:!0,children:[e.jsxs(F,{item:!0,sm:6,xs:12,children:[e.jsx(h,{title:"ID",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Cleanup",value:t.cleanup,hover:!0,variant:"boolean"}),e.jsx(h,{title:"Critical",value:t.critical,hover:!0,variant:"boolean"}),e.jsx(h,{title:"Extra Data",value:t.extradata,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Flags",value:t.flags,hover:!0,hideNoValue:!0})]}),e.jsxs(F,{item:!0,sm:6,xs:12,children:[e.jsx(h,{title:"Bean",value:t.bean,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Method",value:t.method,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Plugin",value:t.plugin,hover:!0,variant:"boolean"})]})]}),e.jsxs(F,{container:!0,children:[e.jsx(F,{item:!0,sm:6,xs:12,children:e.jsx(G,{title:"Dependency",component:Jl,value:t.dependency})}),e.jsx(F,{item:!0,sm:6,xs:12,children:e.jsx(G,{title:"Parallel Dependency",component:Jl,value:t.parallelDependency})})]}),e.jsx(h,{title:"Script",value:t.script,variant:"code",codeProps:{mode:"javascript",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},hideNoValue:!0})]})}const zl=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"step",type:"number",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"previous",component:E}),label:"Previous"}),e.jsx(T,{control:e.jsx(d,{name:"allPrevious",component:E}),label:"All Previous"})]}),YF=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"jobType",label:"Job Type",component:Y,loadOptions:oo,disableInitial:!0,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"step",label:"Step",component:m,validate:[Z],type:"number",required:!0,fullWidth:!0}),e.jsx(d,{name:"description",label:"Description",component:m,fullWidth:!0}),e.jsx(d,{name:"flags",label:"Flags",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"critical",component:E}),label:"Critical"}),e.jsx(T,{control:e.jsx(d,{name:"cleanup",component:E}),label:"Cleanup"}),e.jsx(y,{name:"dependency",label:"dependency",component:zl}),e.jsx(y,{name:"parallelDependency",label:"parallelDependency",component:zl}),e.jsx(d,{name:"script",label:"script",component:mt,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}),e.jsx(d,{name:"jobType",type:"hidden",component:"input"})]});function XF({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"taskDefinitionDocument",component:YF}),e.jsx("button",{type:"submit",hidden:!0})]})}const rx=v()(XF);function QF({open:t,onClose:n,openSnackBar:s,taskDefinitionDocument:o,onSuccess:r}){const{step:i,jobType:a}=o,l=()=>{Gt.removeTaskDefinitionStep({taskDefinitionType:a,taskDefinitionStep:i}).then(()=>{const c=`Step ${i} Removed`;s({messageContent:c}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Step",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Step ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,children:"Cancel"}),e.jsx(f,{onClick:l,color:"secondary",children:"Remove"})]})]})}const ZF=P(QF);function eA({taskDefinitionDocument:t,openSnackBar:n,onRefresh:s,onOpen:o}){const{id:r,step:i,description:a}=t,l=`EDIT_TASKDEFINTION_FORM_${r}`,c=`TASKDEFINITION_REMOVE_${r}`,u=()=>{n({messageContent:"Task Definition Saved"}),s&&s()},p=()=>{n({messageContent:"Error Updating Task Definition",messageColor:"secondary"})},x={taskDefinitionDocument:t},j={taskDefinitionDocument:t};return e.jsxs(e.Fragment,{children:[e.jsx(_e,{title:`Step ${i}${a?` - ${a}`:""}`,formName:l,onSubmitSuccess:u,onSubmitFail:p,onSubmit:wF,displayProps:x,initialValues:j,displayComponent:KF,formComponent:rx,iconList:e.jsx(Q,{onClick:()=>o({modalName:c}),children:e.jsx(Be,{})})}),e.jsx(ZF,{dialogName:c,taskDefinitionDocument:t,onSuccess:s})]})}const tA=P(eA);function nA(t){return e.jsx(N,{children:e.jsx(tA,{...t})})}function sA({classes:t,taskDefinitionListDocument:n,...s}){const{task:o=[]}=n;return e.jsx(zt,{children:o.map(r=>e.jsx(nA,{taskDefinitionDocument:r,...s},r.id))})}const Bl="EDIT_TASKDEFINITION_FORM";function oA({jobType:t,submitForm:n,openSnackBar:s,onClose:o,onSuccess:r,open:i}){const a={taskDefinitionDocument:{jobType:t,script:"//"}},l=u=>{const{uriListDocument:p}=u,{uri:x}=p,C=`Step ID ${x[0]} Saved`;s({messageContent:C}),o(),r&&r()},c=()=>{s({messageContent:"Error Saving Step",messageColor:"secondary"})};return e.jsxs(k,{open:i,onClose:o,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Step"}),e.jsx(X,{children:e.jsx(rx,{form:Bl,initialValues:a,onSubmit:WF,onSubmitSuccess:l,onSubmitFail:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:o,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>n(Bl),children:"Save"})]})]})}const rA=A(P,D)(oA),Kl="TASKDEFINITION_DIALOG";let iA=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={taskDefinitionListDocument:void 0}}componentDidMount(){const{taskDefinitionType:n}=this.props;this.onRefresh(),document.title=`VidiCore Admin | Task Definition | ${n}`}onRefresh(){const{openSnackBar:n,taskDefinitionType:s}=this.props;try{Gt.getTaskDefinitionType({taskDefinitionType:s}).then(o=>this.setState({taskDefinitionListDocument:o.data}))}catch{n({messageContent:"Error Getting Job Type",messageColor:"secondary"})}}render(){const{taskDefinitionType:n,titleComponent:s}=this.props,{taskDefinitionListDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{onRefresh:this.onRefresh,taskDefinitionType:n,code:o,codeModal:"TaskDefinitionListDocument",createModal:Kl}),o&&e.jsx(sA,{onRefresh:this.onRefresh,taskDefinitionListDocument:o}),e.jsx(rA,{dialogName:Kl,jobType:n,onSuccess:this.onRefresh})]})}};const aA=q(iA),lA=t=>({root:{"& .edge:hover":{"& path":{stroke:t.palette.error.main},"& text":{fill:t.palette.error.main},"& polygon":{stroke:t.palette.error.main}},"& polygon":{fill:t.palette.background.paper,stroke:t.palette.text.primary},"& path":{stroke:t.palette.text.primary},"& text":{fill:t.palette.text.primary,fontFamily:t.typography.fontFamily,fontSize:t.typography.body2.fontSize}}});let cA=0;const dA=()=>`graphviz${cA++}`;function uA({classes:t,className:n,dot:s,...o}){const r=qs.useMemo(dA,[]);return qs.useEffect(()=>{kg(`#${r}`,{fit:!0,zoom:!0,useWorker:!1,...o}).renderDot(s)},[s,o]),e.jsx("div",{className:Lt([n,t.root]),id:r})}const pr=Ce(lA)(uA);class mA extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({taskDefinitionType:n}){const{taskDefinitionType:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Task Definition | ${n} | Graph`)}onRefresh(){const{taskDefinitionType:n}=this.props;this.onFetch(n)}onFetch(n){const{useGraphViz:s=!0}=this.props;try{s===!0?Gt.getTaskDefinitionType({taskDefinitionType:n,path:`/API/task-definition/jobtype/${n}/graph/dot`,headers:{accept:"text/plain"}}).then(o=>{this.setState({graphDot:o.data})}).catch(o=>this.onRefreshError(o)):Gt.getTaskDefinitionType({taskDefinitionType:n,path:`/API/task-definition/jobtype/${n}/graph`,headers:{accept:"image/png"},responseType:"blob"}).then(o=>{this.setState({graphImage:o.data})}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Task Definition",messageColor:"secondary"})}render(){const{titleComponent:n,useGraphViz:s=!0}=this.props,{graphImage:o,graphDot:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["Graph"],code:r,codeModal:"DOT",codeVariant:"text"}),s===!1&&o?e.jsx("img",{alt:"graph",src:URL.createObjectURL(o),style:{width:"100%"}}):null,s===!0&&r?e.jsx(pr,{dot:r,width:"100%",height:"80vh"}):null]})}}const hA=q(mA);function pA(t){return e.jsx(K,{parentTitle:"Job Type",parentTo:"/jobtype/",title:t.taskDefinitionType,helpTo:"/ref/task-definition.html",...t})}function xA({open:t,onClose:n,openSnackBar:s,jobType:o,onSuccess:r}){const i=()=>{Gt.removeJobType({jobType:o}).then(()=>{const a=`Job Type ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Job Typ",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Job Type "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const jA=P(xA),Yl=200,fA=t=>({drawer:{width:Yl,flexShrink:0,whiteSpace:"nowrap"},paper:{marginTop:54},drawerOpen:{width:Yl,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerClose:{transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:t.spacing(4),[t.breakpoints.up("sm")]:{width:t.spacing(6)}}});class gA extends I.PureComponent{constructor(n){super(n),this.handleDrawerOpen=this.handleDrawerOpen.bind(this),this.handleDrawerClose=this.handleDrawerClose.bind(this),this.state={open:n.defaultOpen||!1}}handleDrawerOpen(){this.setState({open:!0})}handleDrawerClose(){this.setState({open:!1})}render(){const{classes:n,listComponent:s,mainComponent:o,...r}=this.props,{open:i}=this.state;return e.jsxs("div",{style:{display:"flex"},children:[e.jsxs(Wg,{variant:"permanent",className:Lt(n.drawer,{[n.drawerOpen]:i,[n.drawerClose]:!i}),classes:{paper:Lt(n.paper,{[n.drawerOpen]:i,[n.drawerClose]:!i})},open:i,children:[e.jsx(tr,{button:!0,onClick:i?this.handleDrawerClose:this.handleDrawerOpen,disableRipple:!0,disableGutters:!0,children:e.jsx(ta,{children:i?e.jsx(wg,{}):e.jsx(Ug,{})})}),e.jsx(s,{...r})]}),e.jsx("div",{style:{flexGrow:1},children:e.jsx(o,{...r})})]})}}const Vt=Ce(fA)(gA);function Cn(t){const{icon:n=!0,primary:s,secondary:o,to:r,exact:i,...a}=t,l=s&&s[0]||o&&o[0],c=I.useMemo(()=>I.forwardRef((u,p)=>e.jsx(Bi,{to:r,exact:i,ref:p,...u})),[r,i]);return e.jsx("li",{children:e.jsxs(tr,{button:!0,component:c,activeClassName:"Mui-selected",...a,children:[n&&l!==void 0?e.jsx(ta,{children:e.jsx(ss,{style:{height:25,width:25},children:l})}):null,e.jsx(na,{primary:s,secondary:o})]})})}const Xl="TASKDEFINITION_REMOVE_DIALOG",ix=[{listText:"Overview",component:aA,path:"/task-definition/jobtype/:taskDefinitionType/",exact:!0},{listText:"Graph",component:hA,path:"/task-definition/jobtype/:taskDefinitionType/graph/"}],bA=({taskDefinitionType:t})=>e.jsx(vt,{children:ix.map(({path:n,listText:s,exact:o})=>e.jsx(Cn,{secondary:s,to:qe(n,{taskDefinitionType:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},n))}),CA=t=>e.jsx(Jt,{children:ix.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class yA extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{taskDefinitionType:n}=this.props;document.title=`VidiCore Admin | Task Definition | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{taskDefinitionType:n,history:s}=this.props,o=r=>e.jsx(pA,{onRefresh:this.onRefresh,taskDefinitionType:n,removeModal:Xl,...r});return e.jsxs(e.Fragment,{children:[e.jsx(Vt,{taskDefinitionType:n,mainComponent:CA,listComponent:bA,defaultOpen:!0,titleComponent:o,setOnRefresh:this.setOnRefresh}),e.jsx(jA,{dialogName:Xl,jobType:n,onSuccess:()=>s.push("/jobtype/")})]})}}const SA=A(et)(yA);function RA(t){const{xmlDocument:n}=t;return Zo.echo({xmlDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}const TA={};function IA({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"xmlDocument",component:mt,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],autofocus:!0,extraKeys:{"Cmd-Enter":()=>n(),"Ctrl-Enter":()=>n()}}})]})}const EA=v()(Ce(TA)(IA)),Ql="ECHO_FORM",vA=`<ItemSearchDocument xmlns="http://xml.vidispine.com/schema/vidispine">
  <field>
    <name>title</name>
    <value>example.mp4</value>
  </field>
</ItemSearchDocument>`,FA=t=>({SplitterContainer:{height:"80vh"},SquareCard:{height:"100%"},CardContent:{height:"100%"},EchoForm:{height:"100%",overflow:"auto"},ResultContainer:{height:"100%",overflow:"auto"},ResultTypography:{minHeight:32},CodeMirror:{"& .CodeMirror-gutters":{backgroundColor:({error:n})=>n!==void 0?Qi.A700:"unset",text:({error:n})=>n!==void 0?t.palette.common.white:"unset"}}});function AA({classes:t,submitForm:n,openSnackBar:s,onSuccess:o,onFail:r,result:i,error:a}){var x;const l=Xi(),c=((x=l==null?void 0:l.palette)==null?void 0:x.type)==="light"?wo.Light:wo.Dark,u=(j,C,S)=>{s({messageContent:"Convert Success"}),o&&o(j,C,S)},p=(j,C,S,L)=>{s({messageContent:"Error Converting XML",messageColor:"secondary"}),r&&r(j,C,S,L)};return e.jsxs(e.Fragment,{children:[e.jsx(le,{title:"XML Echo",action:e.jsx(f,{variant:"outlined",color:"primary",onClick:()=>n(Ql),startIcon:e.jsx(Kh,{}),children:"Convert (ctrl-enter)"})}),e.jsx("div",{className:t.SplitterContainer,children:e.jsxs(Yh,{direction:Xh.Horizontal,gutterTheme:c,children:[e.jsx(N,{className:t.SquareCard,children:e.jsxs(U,{className:t.CardContent,children:[e.jsx(b,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:"Input XML"}),e.jsx(EA,{form:Ql,onSubmit:RA,onSubmitSuccess:u,onSubmitFail:p,className:t.EchoForm,initialValues:{xmlDocument:vA}})]})}),e.jsx(N,{className:t.SquareCard,children:e.jsx(U,{className:t.CardContent,children:e.jsxs("div",{className:t.ResultContainer,children:[e.jsx(b,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:a===void 0?"Converted JSON":"Error"}),i!==void 0||a!==void 0?e.jsx(ls,{value:Js(i)||Js(a)||"",className:t.CodeMirror,options:{readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}):null]})})})]})})]})}const PA=A(q,D)(Ce(FA)(AA));class DA extends I.PureComponent{constructor(n){super(n),this.onSuccess=this.onSuccess.bind(this),this.onFail=this.onFail.bind(this),this.state={result:void 0,error:void 0}}componentDidMount(){document.title="VidiCore Admin | XML Echo"}onSuccess(n){this.setState({result:JSON.stringify(n.data,null,2),error:void 0})}onFail(n){const s=n==null?void 0:n._error;this.setState({result:void 0,error:s})}render(){const{result:n,error:s}=this.state;return e.jsx(e.Fragment,{children:e.jsx(PA,{result:n,error:s,onSuccess:this.onSuccess,onFail:this.onFail})})}}const MA=ae()(DA);function OA(t){const{javascriptDocument:n}=t;return Vg.test({javascriptDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function LA({handleSubmit:t,className:n,style:s}){return e.jsx("form",{onSubmit:t,className:n,style:s,children:e.jsx(R,{name:"javascriptDocument",component:mt,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,lint:{esversion:10},highlightLines:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,autoCloseBrackets:!0,foldGutter:!0,autofocus:!0,extraKeys:{"Cmd-Enter":()=>t(),"Ctrl-Enter":()=>t()}}})})}const NA=v()(LA),_A=`// https://apidoc.vidispine.com/latest/system/integration/javascript.html

api.path('item')
   .get();
`,$A=t=>({SplitterContainer:{height:"80vh"},SquareCard:{height:"100%"},CardContent:{height:"100%"},TestForm:{height:"100%",overflow:"auto"},ResultContainer:{height:"100%",overflow:"auto"},ResultTypography:{minHeight:32},CodeMirror:{"& .CodeMirror-gutters":{backgroundColor:({error:n})=>n!==void 0?Qi.A700:"unset",text:({error:n})=>n!==void 0?t.palette.common.white:"unset"}}}),Zl="TEST_FORM";function kA({classes:t,submitForm:n,openSnackBar:s,onSuccess:o,onFail:r,result:i,error:a,initialValues:l={javascriptDocument:_A}}){var j;const c=(C,S,L)=>{s({messageContent:"Script Success"}),o&&o(C,S,L)},u=(C,S,L,ne)=>{s({messageContent:"Error Running Script",messageColor:"secondary"}),r&&r(C,S,L,ne)},p=Xi(),x=((j=p==null?void 0:p.palette)==null?void 0:j.type)==="light"?wo.Light:wo.Dark;return e.jsxs(e.Fragment,{children:[e.jsx(le,{title:"Javascript Test",action:e.jsx(f,{variant:"outlined",color:"primary",onClick:()=>n(Zl),startIcon:e.jsx(Kh,{}),children:"RUN (ctrl-enter)"})}),e.jsx("div",{className:t.SplitterContainer,children:e.jsxs(Yh,{direction:Xh.Horizontal,gutterTheme:x,children:[e.jsx(N,{className:t.SquareCard,children:e.jsxs(U,{className:t.CardContent,children:[e.jsx(b,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:"Input"}),e.jsx(NA,{onSubmit:OA,onSubmitSuccess:c,onSubmitFail:u,form:Zl,className:t.TestForm,initialValues:l})]})}),e.jsx(N,{className:t.SquareCard,children:e.jsx(U,{className:t.CardContent,children:e.jsxs("div",{className:t.ResultContainer,children:[e.jsx(b,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:a===void 0?"Result":"Error"}),i!==void 0||a!==void 0?e.jsx(ls,{value:Js(i)||Js(a)||"",className:t.CodeMirror,options:{readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}):null]})})})]})})]})}const WA=A(q,D)(Ce($A)(kA));class wA extends I.PureComponent{constructor(n){super(n),this.onSuccess=this.onSuccess.bind(this),this.onFail=this.onFail.bind(this),this.state={result:void 0,error:void 0}}componentDidMount(){document.title="VidiCore Admin | Javascript Test"}onSuccess(n){this.setState({result:JSON.stringify(n.data,null,2),error:void 0})}onFail(n){const s=n==null?void 0:n._error;this.setState({result:void 0,error:s})}render(){var i;const{location:n}=this.props,{result:s,error:o}=this.state,r=(i=n==null?void 0:n.state)==null?void 0:i.initialValues;return e.jsx(e.Fragment,{children:e.jsx(WA,{result:s,error:o,onSuccess:this.onSuccess,onFail:this.onFail,initialValues:r})})}}function UA(t){return e.jsx(K,{title:"Audit Log",helpTo:"/ref/audit-trail.html",...t})}function VA(t){const{queryParams:n}=t;return Gg.listAuditLog({path:"/API/log/",queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}const GA=nn(Ze.listUser,500,{leading:!0,trailing:!1}),ds=t=>new Promise((n,s)=>{GA().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{user:r=[]}=o;let i=r;t&&t!=="*"&&(i=r.filter(l=>l.userName.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l.userName,value:l.userName}));n(a)}).catch(o=>{s(o)})}),qA=t=>{if(t)return t.value};function Zn(t){return e.jsx(R,{component:Y,loadOptions:ds,cacheOptions:!0,parse:qA,createable:!1,...t})}const HA=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"method",children:"Method"}),e.jsxs(d,{name:"method",component:B,children:[e.jsx(g,{value:"GET",children:"GET"}),e.jsx(g,{value:"PUT",children:"PUT"}),e.jsx(g,{value:"POST",children:"POST"}),e.jsx(g,{value:"DELETE",children:"DELETE"})]})]}),e.jsx(d,{name:"path",component:m,fullWidth:!0}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"rows",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"username",component:Y,loadOptions:ds,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),e.jsx(d,{name:"starttime",component:m,fullWidth:!0}),e.jsx(d,{name:"endtime",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"wildcard",component:E}),label:"Wildcard"}),e.jsx(T,{control:e.jsx(d,{name:"performCount",component:E,disabled:!0}),label:"Perform Count"})]});function JA({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:HA}),e.jsx("button",{type:"submit",hidden:!0})]})}const zA=v()(JA);function BA({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="AUDITLOG_FILTER_FORM",changeForm:a}){const l=(p,x,j)=>{n&&n(p,x,j)},c=()=>{s({messageContent:"Error Listing Audit Log",messageColor:"secondary"})},u=async()=>{await a(i,"queryParams.first",0),o(i)};return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx(zA,{form:i,onSubmit:VA,onSubmitSuccess:l,onSubmitFail:c,onCancel:t,initialValues:{queryParams:{performCount:!1}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:u,children:"Filter"})]})]})}const KA=A(P,D)(BA);function YA({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(KA,{...t})})})}function XA({entry:t={}}){return e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.timestamp?Oe(t.timestamp).toString():""}),e.jsx(M,{children:e.jsx(fe,{to:`/username/${t.username}/`,children:t.username})}),e.jsx(M,{children:t.method}),e.jsx(M,{children:t.path}),e.jsx(M,{children:t.queryParameters})]})}function QA({auditLogDocument:t,count:n=0,page:s=0,rowsPerPage:o=100,onChangePage:r,onChangeRowsPerPage:i,onChangeOrder:a,orderDirection:l}){const{entry:c=[]}=t,u=[100,250,500];return u.includes(o)||u.push(o),e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:e.jsx(gt,{active:l!==void 0,direction:l,onClick:a,children:"Timestamp"})}),e.jsx(M,{children:"username"}),e.jsx(M,{children:"Method"}),e.jsx(M,{children:"Path"}),e.jsx(M,{children:"Query Parameters"}),e.jsx(M,{children:"Matrix Parameters"})]})}),e.jsx(de,{children:c.map((p,x)=>e.jsx(XA,{entry:p},x))}),e.jsx(Ct,{children:e.jsx(je,{children:e.jsx(yt,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:St,rowsPerPageOptions:u})})})]})}function ZA({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(QA,{...t})})})}const eP=t=>n=>({formValues:Zi(t)(n),isFormDirty:Ci(t)(n),isFormSubmitting:Qh(t)(n),valueSelector:s=>qg(t)(n,s)}),Bt=(t,n)=>ae(eP(n))(t),hn="AUDITLOG_FILTER_FORM";class tP extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.state={auditLogDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderDirection:void 0}}componentDidMount(){document.title="VidiCore Admin | Audit Log",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(hn)}onSuccess(n){const s=n.data,{formValues:o={}}=this.props,{queryParams:r={}}=o,{first:i=0,rows:a=100}=r,{count:l=0}=s,c=Math.ceil(l/a)-Math.ceil((l-i)/a);this.setState({count:l,rowsPerPage:a,page:c,auditLogDocument:s})}async onChangePage({page:n}){const{formValues:s={},changeForm:o}=this.props,{queryParams:r={}}=s,{rows:i=100}=r,a=n*i;o(hn,"queryParams.first",a),await o(hn,"queryParams.rows",i),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(hn,"queryParams.first",0),await s(hn,"queryParams.rows",n),this.onRefresh()}async onChangeOrder(){const{changeForm:n}=this.props,{orderDirection:s}=this.state;let o;s===void 0?o="desc":s==="desc"&&(o="asc"),this.setState({orderDirection:o}),await n(hn,"queryParams.sort",o),this.onRefresh()}render(){const{auditLogDocument:n,count:s,page:o,rowsPerPage:r,orderDirection:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(UA,{code:n,codeModal:"AuditLogDocument",onRefresh:this.onRefresh}),e.jsx(YA,{form:hn,onSuccess:this.onSuccess}),n&&e.jsx(ZA,{auditLogDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderDirection:i})]})}}const nP=A(D,Bt)(tP,hn);function sP(t){const{queryParams:n}=t;return qt.listJob({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function oP(t,n,s){const o=s.jobId||t.jobId,{queryParams:r}=t;return qt.modifyJob({jobId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function rP(t,n,s){const o=s.jobId||t.jobId,{queryParams:r}=t;return qt.duplicateJob({jobId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function iP(t,n,s){const o=s.jobId||t.jobId,{queryParams:r}=t;return qt.abortJob({jobId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function ax(t){const{queryParams:n}=t;return qt.createJob({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}const aP=["READY","STARTED","VIDINET_JOB","FINISHED","FINISHED_WARNING","FAILED_TOTAL","WAITING","ABORT_PENDING","ABORTED"],lP=["READY","STARTED","VIDINET_JOB","FINISHED"],cP=["WAITING","FINISHED_WARNING","ABORT_PENDING"],dP=["WAITING"],ga=["READY","STARTED","VIDINET_JOB","WAITING","ABORT_PENDING"],uP=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"jobmetadata",label:"Job Metadata",component:se}),e.jsx(T,{control:e.jsx(d,{name:"metadata",component:E}),label:"Include Metadata"}),e.jsx(T,{control:e.jsx(d,{name:"idonly",component:E}),label:"Only IDs"}),e.jsx(T,{control:e.jsx(d,{name:"step",component:E}),label:"Include Steps"}),e.jsx(d,{name:"starttime-from",component:m,fullWidth:!0}),e.jsx(d,{name:"starttime-to",component:m,fullWidth:!0}),e.jsx(d,{name:"finishtime-from",component:m,fullWidth:!0}),e.jsx(d,{name:"finishtime-to",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsxs(d,{name:"state",component:B,children:[e.jsx(g,{value:"all",children:"All"}),aP.map(t=>e.jsx(g,{value:t,children:t},t))]})]}),e.jsx(d,{name:"type",label:"Type",component:Y,loadOptions:oo,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"sort",component:oe,simple:!0,fullWidth:!0,disabled:!0}),e.jsx(T,{control:e.jsx(d,{name:"user",component:E}),label:"Only My User"})]});function mP({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:uP}),e.jsx("button",{type:"submit",hidden:!0})]})}const hP=v()(mP);function pP({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="JOB_FILTER_FORM",changeForm:a}){const l=(x,j,C)=>{n&&n(x,j,C)},c=()=>{s({messageContent:"Error Listing Jobs",messageColor:"secondary"})},u=async()=>{await a(i,"queryParams.first",0),o(i)},p={queryParams:{first:0,number:10,sort:["jobId desc"],user:!1}};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Job List Options"})}),e.jsx(Ae,{children:e.jsx(hP,{form:i,onSubmit:sP,onSubmitSuccess:l,onSubmitFail:c,onCancel:t,destroyOnUnmount:!1,initialValues:p})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:u,children:"Filter"})]})]})}const xP=A(P,D)(pP),lx=({jobDocument:t})=>{if(t===void 0)return null;const{status:n}=t,s=ga.includes(n);return lP.includes(n)?e.jsx(Le,{avatar:e.jsx(Fo,{isLoading:s,children:e.jsx(Ut,{})}),label:ie(n.toLowerCase())}):cP.includes(n)?e.jsx(Le,{avatar:e.jsx(Fo,{isLoading:s,children:e.jsx(Qn,{})}),label:ie(n.toLowerCase())}):e.jsx(Le,{avatar:e.jsx(Fo,{isLoading:s,children:e.jsx(Ft,{})}),label:n?ie(n.toLowerCase()):"Unknown"})};function jP({jobDocument:t}){let n;const s=Oe(t.started);if(t.finished){const o=Oe(t.finished);n=Oe.duration(o.diff(s)).humanize()}else if(t.status==="STARTED"){const o=Oe(),r=Oe.duration(o.diff(s));n=`${parseInt(r.asMinutes(),10)} minutes`}return e.jsxs(Ge,{to:`/job/${t.jobId}/`,hover:!0,children:[e.jsx(M,{children:t.jobId}),e.jsx(M,{children:t.user}),e.jsx(M,{children:t.started?Oe(t.started).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(M,{children:t.finished?Oe(t.finished).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(M,{children:n}),e.jsx(M,{children:e.jsx(lx,{jobDocument:t})}),e.jsx(M,{children:t.type}),e.jsx(M,{children:t.priority})]})}function fP({jobListDocument:t,count:n=0,page:s=0,rowsPerPage:o=10,onChangePage:r,onChangeRowsPerPage:i,onChangeOrder:a,orderBy:l,orderDirection:c}){const{job:u=[]}=t,p=[10,100,250];return p.includes(o)||p.push(o),e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:e.jsx(gt,{active:l==="jobId",direction:c,onClick:a("jobId"),children:"ID"})}),e.jsx(M,{children:e.jsx(gt,{active:l==="user",direction:c,onClick:a("user"),children:"User"})}),e.jsx(M,{children:e.jsx(gt,{active:l==="startTime",direction:c,onClick:a("startTime"),children:"Start"})}),e.jsx(M,{children:"End"}),e.jsx(M,{children:"Duration"}),e.jsx(M,{children:e.jsx(gt,{active:l==="status",direction:c,onClick:a("status"),children:"Status"})}),e.jsx(M,{children:e.jsx(gt,{active:l==="type",direction:c,onClick:a("type"),children:"Type"})}),e.jsx(M,{children:e.jsx(gt,{active:l==="priority",direction:c,onClick:a("priority"),children:"Priority"})})]})}),e.jsx(de,{children:u.map(x=>e.jsx(jP,{jobDocument:x},x.jobId))}),e.jsx(Ct,{children:e.jsx(je,{children:e.jsx(yt,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:St,rowsPerPageOptions:p})})})]})}function cx({...t}){return t.jobListDocument===void 0?null:e.jsx(N,{children:e.jsx(U,{children:e.jsx(fP,{...t})})})}const gP=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"type",label:"Type",component:Y,loadOptions:oo,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function bP({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:gP}),e.jsx("button",{type:"submit",hidden:!0})]})}const dx=v()(bP),ec="JOB_CREATE_FORM";function CP({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,initialValues:i}){const a=(c,u,p)=>{o({messageContent:"Job Started"}),s&&s(c,u,p),n()},l=()=>{o({messageContent:"Error Starting Job",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Start Job"}),e.jsx(X,{children:e.jsx(dx,{form:ec,onSubmit:ax,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,initialValues:i})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(ec),children:"Start"})]})]})}const ux=A(P,D)(CP),pn="JOB_FILTER_FORM",tc="JOB_CREATE_DIALOG";class yP extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onChangeAutoRefresh=this.onChangeAutoRefresh.bind(this),this.state={jobListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderBy:void 0,orderDirection:void 0,autoRefresh:!1}}componentDidMount(){document.title="VidiCore Admin | Job",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(pn)}onChangeAutoRefresh(){const{autoRefresh:n}=this.state,s=!n;this.setState({autoRefresh:s}),s===!0&&this.timer===void 0?this.timer=setInterval(()=>this.onRefresh(),2500):s===!1&&this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}onSuccess(n){const s=n.data,{formValues:o={}}=this.props,{queryParams:r={}}=o,{first:i=0,number:a=10}=r,{hits:l=0}=s,c=Math.ceil(l/a)-Math.ceil((l-i)/a);this.setState({count:l,rowsPerPage:a,page:c,jobListDocument:s})}async onChangePage({page:n}){const{formValues:s={},changeForm:o}=this.props,{queryParams:r={}}=s,{number:i=10}=r,a=n*i;o(pn,"queryParams.first",a),await o(pn,"queryParams.number",i),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(pn,"queryParams.first",0),await s(pn,"queryParams.number",n),this.onRefresh()}onChangeOrder(n){return async()=>{const{changeForm:s}=this.props,{orderDirection:o,orderBy:r}=this.state;let i="",a,l;n!==r?(l=n,a="desc",i=[`${n} ${a}`]):o==="desc"&&(l=n,a="asc",i=[`${n} ${a}`]),this.setState({orderBy:l,orderDirection:a}),await s(pn,"queryParams.sort",i),this.onRefresh()}}render(){const{jobListDocument:n,count:s,page:o,rowsPerPage:r,orderBy:i,orderDirection:a,autoRefresh:l}=this.state,{history:c}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Job",helpTo:"/ref/job.html",onRefresh:this.onRefresh,code:n,codeModal:"JobListDocument",createModal:tc,autoRefresh:l,onChangeAutoRefresh:this.onChangeAutoRefresh}),e.jsx(xP,{form:pn,onSuccess:this.onSuccess}),e.jsx(cx,{jobListDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:i,orderDirection:a}),e.jsx(ux,{dialogName:tc,onSuccess:u=>c.push(`/job/${u.data.jobId}`)})]})}}const SP=A(D,Bt)(yP,pn),RP=({jobDocument:t,priorityDialog:n,abortDialog:s,onOpen:o})=>{if(t===void 0)return null;const{status:r}=t;return ga.includes(r)?e.jsxs(e.Fragment,{children:[e.jsx(g,{onClick:()=>o({modalName:n}),children:e.jsx(b,{color:"inherit",children:"Change Priority"})}),e.jsx(g,{onClick:()=>o({modalName:s}),children:e.jsx(b,{color:"secondary",children:"Abort"})})]}):null};function TP({onOpen:t,priorityDialog:n,abortDialog:s,removeDialog:o,duplicateDialog:r,...i}){return e.jsx(K,{parentTitle:"Job",parentTo:"/job/",helpTo:"/ref/job.html",codeModal:"JobDocument",iconList:e.jsxs(e.Fragment,{children:[e.jsx(lx,{jobDocument:i.code}),e.jsxs(pt,{children:[e.jsx(RP,{jobDocument:i.code,priorityDialog:n,abortDialog:s,onOpen:t}),e.jsx(g,{onClick:()=>t({modalName:r}),children:e.jsx(b,{color:"inherit",children:"Duplicate Job"})}),e.jsx(g,{onClick:()=>t({modalName:o}),children:e.jsx(b,{color:"secondary",children:"Delete"})})]})]}),...i})}const IP=tt(TP);function EP(t){if(t.startsWith("transcodeShapeDocument")||t.startsWith("assetMapShapeDocument")||t.startsWith("batonTestPlan")||t.endsWith("transcodePreset")||t.match(/shapeDocument\d+$/g))return"xml";switch(t){case"item":return"itemId";case"itemId":return"itemId";case"fileId":return"fileIdList";case"sourceFileId":return"fileId";case"destinationFileId":return"fileId";case"originalFileId":return"fileId";case"fileIds":return"fileIdList";case"username":return"username";case"destinationStorageId":return"storageId";case"sourceStorageId":return"storageId";case"storageId":return"storageId";case"shapeDocument":return"xml";case"result":return"xml";case"jobDocument":return"xml";case"jobStatusDocument":return"xml";case"conformXML":return"xml";case"metadata":return"xml";case"importCompositionPlaylists":return"xml";case"shapeListDocument":return"xml";case"importAssetMap":return"xml";case"importPackingList":return"xml";case"cognitive":return"xml";case"originalShapeIdsStruct":return"json";case"filePathMap":return"commaseparatedlist";case"sourceUris":return"commaseparatedlist";case"sourceFileIds":return"commaseparatedlist";case"fileItemMapping":return"commaseparatedlist";case"shapeIds":return"commaseparatedlist";default:return}}const vP=({value:t={}})=>e.jsx(h,{title:t.total,value:t.unit,hideNoValue:!0,hover:!0}),FP=({value:t={}})=>e.jsx(h,{title:Oe(t.timestamp).format("llll"),value:t.description,titleStartCase:!1}),mx=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"step",value:t.step,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"attempts",value:t.attempts,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"status",value:t.status,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"timestamp",value:t.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"description",value:t.description,hideNoValue:!0,hover:!0}),e.jsx(G,{component:vP,value:t.progress,hideNoValue:!0}),e.jsx(te,{value:t.subStep,component:FP,hideNoValue:!0,hover:!0,dense:!0}),e.jsx(h,{title:"errorMessage",value:t.errorMessage,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"totalSubTasks",value:t.totalSubTasks,hideNoValue:!0,hover:!0}),e.jsx(te,{title:"subTask",titleKey:"step",value:Array.isArray(t.subTask)?t.subTask.sort((n,s)=>s.step-n.step):t.subTask,component:mx,hideNoValue:!0,hover:!0})]}),AP=({value:t})=>e.jsx(h,{title:t.key,value:t.value,titleStartCase:!1,variant:EP(t.key),hideCode:!0,hover:!0}),PP=({value:t={}})=>e.jsx(te,{arrayTitle:"Data",value:t.data,arrayKey:"key",component:AP,hideNoValue:!0,hover:!0,dense:!0}),DP=({value:t})=>e.jsx(te,{title:"Step",titleKey:"step",value:Array.isArray(t.task)?t.task.sort((n,s)=>s.step-n.step):t.task,component:mx,hideNoValue:!0,hover:!0,dense:!0}),MP=({value:t={}})=>e.jsx(G,{value:t.log,dense:!0,component:DP}),OP=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"description",value:t.description,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"number",value:t.number,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"status",value:t.status,hideNoValue:!0,hover:!0})]}),LP=({value:t={}})=>e.jsx(G,{title:"currentStep",value:t.currentStep,component:OP,hideNoValue:!0,dense:!0}),NP=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"type",value:t.type,hideNoValue:!0}),e.jsx(h,{title:"data",value:t.data?JSON.stringify(t.data):void 0,variant:"json",hideNoValue:!0})]}),_P=({value:t={}})=>e.jsx(te,{title:"Problem",titleKey:"id",value:t.problem,component:NP,hideNoValue:!0,dense:!0}),$P=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"resourceId",value:t.resourceId,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"resourceType",value:t.resourceType,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"requirement",value:t.requirement,hideNoValue:!0,hover:!0})]}),kP=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"jobId",value:t.jobId,hover:!0}),e.jsx(h,{title:"user",value:t.user,variant:"username",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"started",value:t.started,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"finished",value:t.finished,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"status",value:t.status,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"type",value:t.type,variant:"jobtype",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"priority",value:t.priority,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"totalSteps",value:t.totalSteps,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"waiting",value:t.waiting,component:$P,hideNoValue:!0,dense:!0})]}),WP=({jobDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:kP,value:t})}),wP=({jobDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:PP,value:t})}),UP=({jobDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:MP,value:t})}),VP=({jobDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:LP,value:t})}),GP=({jobProblemListDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:_P,value:t})});function qP({jobProblemListDocument:t,...n}){return n.jobDocument===void 0?null:e.jsxs(zt,{children:[e.jsx(N,{children:e.jsx(U,{children:e.jsx(WP,{...n})})}),t?e.jsx(N,{children:e.jsx(U,{children:e.jsx(GP,{jobProblemListDocument:t})})}):null,e.jsx(N,{children:e.jsx(U,{children:e.jsx(VP,{...n})})}),e.jsx(N,{children:e.jsx(U,{children:e.jsx(wP,{...n})})}),e.jsx(N,{children:e.jsx(U,{children:e.jsx(UP,{...n})})})]})}const HP=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]});function JP({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:HP}),e.jsx("button",{type:"submit",hidden:!0})]})}const hx=v()(JP),nc="JOB_PRIORITY_FORM";function zP({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,jobDocument:i}){if(i===void 0)return null;const{jobId:a,priority:l}=i,c=(p,x,j)=>{o({messageContent:"Job Status Updated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Updating Job Status",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Change Job ${a} Priority`}),e.jsx(ve,{children:e.jsx(hx,{form:nc,onSubmit:oP,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,jobId:a,initialValues:{queryParams:{priority:l}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(nc),children:"Save"})]})]})}const BP=A(P,D)(zP),sc="JOB_DUPLICATE_FORM";function KP({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,jobDocument:i}){if(i===void 0)return null;const{jobId:a,priority:l}=i,c=(p,x,j)=>{o({messageContent:"Job Duplicated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Duplicating Job",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Duplicate Job ${a}`}),e.jsx(ve,{children:e.jsx(hx,{form:sc,onSubmit:rP,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,jobId:a,initialValues:{queryParams:{priority:l}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(sc),children:"Start"})]})]})}const YP=A(P,D)(KP),XP=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"reason",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"cleanup",component:E}),label:"Cleanup"})]});function QP({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:XP}),e.jsx("button",{type:"submit",hidden:!0})]})}const ZP=v()(QP),oc="JOB_ABORT_FORM";function eD({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,jobDocument:i}){if(i===void 0)return null;const{jobId:a}=i,l=(u,p,x)=>{o({messageContent:"Job Abort Requested"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Updating Aborting Job",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Abort Job ${a}`}),e.jsx(ve,{children:e.jsx(ZP,{form:oc,onSubmit:iP,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,jobId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>r(oc),children:"Abort"})]})]})}const tD=A(P,D)(eD);function nD({open:t,onClose:n,openSnackBar:s,jobDocument:o,onSuccess:r}){if(o===void 0)return null;const{jobId:i}=o,a=()=>{const l={id:i};qt.deleteJob({queryParams:l}).then(()=>{const c=`Job ${i} Removed`;s({messageContent:c}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Job",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Job ${i}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const sD=P(nD),rc="JOB_PRIORITY_DIALOG",ic="JOB_DUPLICATE_DIALOG",ac="JOB_ABORT_DIALOG",lc="JOB_REMOVE_DIALOG";class oD extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onAutoRefresh=this.onAutoRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchProblem=this.onFetchProblem.bind(this),this.onChangeAutoRefresh=this.onChangeAutoRefresh.bind(this),this.state={jobDocument:void 0,jobProblemListDocument:void 0,autoRefresh:!0}}componentDidMount(){this.onRefresh(),this.timer=setInterval(()=>this.onAutoRefresh(),2500);const{jobId:n}=this.props;document.title=`VidiCore Admin | Job | ${n}`}UNSAFE_componentWillReceiveProps({jobId:n}){const{jobId:s}=this.props;s!==n&&(this.onFetch(n),clearInterval(this.timer),this.timer=setInterval(()=>this.onAutoRefresh(),2500),this.setState({autoRefresh:!0}),document.title=`VidiCore Admin | Job | ${n}`)}componentWillUnmount(){clearInterval(this.timer),this.timer=void 0}onRefresh(){const{jobId:n}=this.props;this.onFetch(n)}onAutoRefresh(){const{jobDocument:n={}}=this.state,{status:s}=n;if(s===void 0){clearInterval(this.timer),this.timer=void 0,this.setState({autoRefresh:!1});return}if(this.timer&&!ga.includes(s)){clearInterval(this.timer),this.timer=void 0,this.setState({autoRefresh:!1});return}this.onRefresh()}onFetch(n){const s={metadata:!0};try{qt.getJob({jobId:n,queryParams:s}).then(o=>{this.setState({jobDocument:o.data});const{status:r}=o.data;dP.includes(r)&&this.onFetchProblem(n)}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job",messageColor:"secondary"})}onChangeAutoRefresh(){const{autoRefresh:n}=this.state,s=!n;this.setState({autoRefresh:s}),s===!0&&this.timer===void 0?this.timer=setInterval(()=>this.onAutoRefresh(),2500):s===!1&&this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}onFetchProblem(n){try{qt.listJob({path:`/API/job/${n}/problem`}).then(s=>this.setState({jobProblemListDocument:s.data}))}catch(s){this.onRefreshError(s)}}render(){const{jobDocument:n,jobProblemListDocument:s,autoRefresh:o}=this.state,{jobId:r,history:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(IP,{title:r,onRefresh:this.onRefresh,autoRefresh:o,onChangeAutoRefresh:this.onChangeAutoRefresh,code:n,priorityDialog:rc,duplicateDialog:ic,abortDialog:ac,removeDialog:lc}),e.jsx(qP,{jobDocument:n,jobProblemListDocument:s}),e.jsx(BP,{dialogName:rc,onSuccess:this.onRefresh,jobDocument:n}),e.jsx(YP,{dialogName:ic,onSuccess:a=>i.push(`/job/${a.data.jobId}`),jobDocument:n}),e.jsx(tD,{dialogName:ac,onSuccess:this.onRefresh,jobDocument:n}),e.jsx(sD,{dialogName:lc,onSuccess:()=>i.push("/job/"),jobDocument:n})]})}}const rD=P(oD),cc="JOB_CREATE_FORM";function iD({openSnackBar:t,submitForm:n,initialValues:s,history:o}){const r=a=>{t({messageContent:"Job Started"}),o.push(`/job/${a.data.jobId}`)},i=()=>{t({messageContent:"Error Starting Job",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Start Job",helpTo:"/ref/job.html"}),e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(dx,{form:cc,onSubmit:ax,onSubmitSuccess:r,onSubmitFail:i,initialValues:s})}),e.jsx(V,{}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",onClick:()=>n(cc),children:"Start"})})]})]})}const aD=A(q,D)(iD);function lD({exportLocationDocument:t={}}){return e.jsx(Ge,{to:`/export-location/${t.name}/`,hover:!0,children:e.jsx(M,{children:t.name})})}function cD({exportLocationListDocument:t=[]}){const{exportLocation:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(je,{children:e.jsx(M,{children:"Name"})})}),e.jsx(de,{children:n.map(s=>e.jsx(lD,{exportLocationDocument:s},s.name))})]})}function dD({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(cD,{...t})})})}const uD=nn(tn.listProjection,500,{leading:!0,trailing:!1}),yn=t=>new Promise((n,s)=>{uD().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{uri:r=[]}=o;let i=r;t&&t!=="*"&&(i=r.filter(l=>l.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l,value:l}));n(a)}).catch(o=>{s(o)})}),mD=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"name",component:wt,fullWidth:!0}),e.jsx(zs,{name:"uriList",label:"URI",component:ht}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"script",label:"Script",component:mt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})]}),hD=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"exportLocationDocument",component:mD}),e.jsx("button",{type:"submit",hidden:!0})]}),px=v()(hD);function xx(t,n,s){const{exportLocationDocument:o}=t,r=s.locationName||o.name;return eo.updateExportLocation({locationName:r,exportLocationDocument:o}).then(i=>({exportLocationDocument:i.data,locationName:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function pD({open:t,onClose:n,openSnackBar:s,history:o}){const r=a=>{const{locationName:l}=a,c=`Export Location ${l} Created`;s({messageContent:c}),o.push(`/export-location/${l}/`),n()},i=()=>{s({messageContent:"Error Creating Export Location",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Export Location"}),e.jsx(ve,{children:e.jsx(lt,{FormComponent:px,documentName:"exportLocationDocument",onSubmit:xx,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const xD=P(pD);function jD(t){return e.jsx(K,{title:"Export Location",helpTo:"/ref/export-location.html",...t})}const dc="EXPORTLOCATION_CREATE_MODAL";class fD extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={exportLocationListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Export Location"}onRefresh(){const{openSnackBar:n}=this.props;try{eo.listExportLocation().then(s=>this.setState({exportLocationListDocument:s.data}))}catch{n({messageContent:"Error Loading Export Location List",messageColor:"secondary"})}}render(){const{exportLocationListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(jD,{createModal:dc,onRefresh:this.onRefresh,code:n,codeModal:"ExportLocationListDocument"}),n&&e.jsx(dD,{exportLocationListDocument:n,onRefresh:this.onRefresh}),e.jsx(xD,{dialogName:dc})]})}}const gD=q(fD);function bD(t){return e.jsx(K,{parentTitle:"Export Location",parentTo:"/export-location/",title:t.locationName,helpTo:"/ref/export-location.html",...t})}const CD=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"uriList",value:t.uriList,variant:"list",hover:!0}),e.jsx(h,{title:"projection",value:t.projection,hover:!0}),e.jsx(h,{title:"tag",value:t.tag,variant:"list",hover:!0}),e.jsx(h,{title:"Script",value:t.script,variant:"code"})]});function yD({exportLocationDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:CD,value:t})})}function SD({exportLocationDocument:t,locationName:n,openSnackBar:s,onRefresh:o}){const r="EDIT_EXPORTLOCATION_FORM",i=()=>{s({messageContent:"Export Location Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Export Location",messageColor:"secondary"})},l={locationName:n},c={exportLocationDocument:t},u={exportLocationDocument:t};return e.jsx(_e,{formName:r,onSubmitSuccess:i,onSubmitFail:a,onSubmit:xx,formProps:l,displayProps:c,initialValues:u,displayComponent:yD,formComponent:px})}const RD=P(SD);function TD(t){return e.jsx(e.Fragment,{children:e.jsx(N,{children:e.jsx(RD,{...t})})})}function ID({open:t,onClose:n,history:s,openSnackBar:o,locationName:r,onSuccess:i}){const a=()=>{eo.removeExportLocation({locationName:r}).then(()=>{const l=`Export Location ${r} Removed`;o({messageContent:l}),s.push("/export-location/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Export Location",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Export Location "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const ED=P(ID),uc="EXPORTLOCATION_REMOVE_MODAL";class vD extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={exportLocationDocument:void 0}}componentDidMount(){const{locationName:n}=this.props;document.title=`VidiCore Admin | Export Location | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,locationName:s}=this.props;try{eo.getExportLocation({locationName:s}).then(o=>this.setState({exportLocationDocument:We(o.data,{$unset:["uri"]})}))}catch{n({messageContent:"Error Getting Export Location",messageColor:"secondary"})}}render(){const{locationName:n}=this.props,{exportLocationDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(bD,{removeModal:uc,onRefresh:this.onRefresh,locationName:n,code:s,codeModal:"ExportLocationDocument"}),s&&e.jsx(TD,{exportLocationDocument:s,onRefresh:this.onRefresh}),e.jsx(ED,{dialogName:uc,locationName:n})]})}}const FD=q(vD),ba=({selfTestDocument:t={},loading:n=!1,...s})=>{if(n===!0)return e.jsx(Le,{avatar:e.jsx(Fo,{}),label:"Loading",...s});const{status:o,took:r}=t;return o==="ok"?e.jsx(Le,{avatar:e.jsx(Ut,{}),label:`Online${r?` (${r})`:""}`,...s}):o==="warning"?e.jsx(Le,{avatar:e.jsx(Qn,{}),label:`Warning${r?` (${r})`:""}`,...s}):e.jsx(Le,{avatar:e.jsx(Ft,{}),label:`Failed${r?` (${r})`:""}`,...s})};function AD(t){return e.jsx(K,{title:"Self Test",helpTo:"/ref/self-test.html",iconList:e.jsx(ba,{selfTestDocument:t.code}),...t})}const jx=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"description",value:t.description,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"took",value:t.took,hover:!0,hideNoValue:!0}),e.jsx(_t,{title:"message",value:t.message,hover:!0,hideNoValue:!0}),e.jsx(te,{title:"test",value:t.test,component:jx,titleKey:"name",hideNoValue:!0})]});function PD({selfTestDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:jx,value:t})})}function DD(t){return e.jsx(e.Fragment,{children:e.jsxs(N,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:ie(t.selfTestDocument.name)}),action:e.jsx(ba,{selfTestDocument:t.selfTestDocument})}),e.jsx(U,{children:e.jsx(PD,{...t})})]})})}function MD({selfTestDocument:t}){const{test:n=[]}=t;return n.map(s=>e.jsx(DD,{selfTestDocument:s},s.name))}class OD extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={selfTestDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Self Test"}onRefresh(){try{Zh.listSelfTest().then(n=>this.setState({selfTestDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Getting Self Test",messageColor:"secondary"})}render(){const{selfTestDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(AD,{onRefresh:this.onRefresh,code:n,codeModal:"SelfTestDocument"}),n&&e.jsx(MD,{selfTestDocument:n})]})}}const LD=q(OD);function ND(t){return e.jsx(K,{title:"Group",helpTo:"/ref/group.html",...t})}function _D({groupDocument:t={},onRemove:n}){return e.jsxs(je,{to:`/group/${t.groupName}/`,hover:!0,children:[e.jsx(M,{children:e.jsx(fe,{to:`/group/${t.groupName}/`,children:t.groupName})}),e.jsx(M,{children:t.role&&e.jsx(Dt,{})}),e.jsx(M,{disableOnClick:!0,children:n&&e.jsx(Q,{onClick:()=>n({groupName:t.groupName}),children:e.jsx(Be,{})})})]})}function $D({open:t,onClose:n,openSnackBar:s,groupName:o,userName:r,onSuccess:i}){const a=()=>{gn.removeGroupUser({groupName:o,userName:r}).then(()=>{const l=`${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing User From Group",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove "${r}" From "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const fx=P($D);function kD({open:t,onClose:n,openSnackBar:s,parentGroupName:o,groupName:r,onSuccess:i}){const a=()=>{gn.removeGroupChildren({groupName:o,childGroupName:r}).then(()=>{const l=`Group ${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Group "${r}" From ${o}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const WD=P(kD);function wD({open:t,onClose:n,openSnackBar:s,groupName:o,childGroupName:r,onSuccess:i}){const a=()=>{gn.removeGroupChildren({groupName:o,childGroupName:r}).then(()=>{const l=`Group ${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Group "${r}" From ${o}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const UD=P(wD),Co="REMOVE_GROUP_DIALOG";function VD({groupListDocument:t={},userName:n,parentGroupName:s,childGroupName:o,onSuccess:r,dialogProps:i,onOpen:a,showRemove:l,count:c,page:u,rowsPerPage:p,onChangePage:x,onChangeRowsPerPage:j}){const{group:C=[]}=t,S=[100,250,500];return S.includes(p)||S.push(p),e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Group Name"}),e.jsx(M,{children:"Role"}),e.jsx(M,{})]})}),e.jsx(de,{children:C.map(L=>e.jsx(_D,{groupDocument:L,onRemove:l?a(Co):void 0},L.groupName))}),c&&e.jsx(Ct,{children:e.jsx(je,{children:e.jsx(yt,{count:c,page:u,rowsPerPage:p,onPageChange:x,onRowsPerPageChange:j,ActionsComponent:St,rowsPerPageOptions:S})})})]}),n&&e.jsx(fx,{...i,dialogName:Co,userName:n,onSuccess:r}),s&&e.jsx(WD,{...i,dialogName:Co,parentGroupName:s,onSuccess:r}),o&&e.jsx(UD,{...i,dialogName:Co,childGroupName:o,onSuccess:r})]})}const xr=st(VD);function GD({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(xr,{...t})})})}const qD=nn(gn.listGroup,500,{leading:!0,trailing:!1}),lo=t=>new Promise((n,s)=>{qD().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{group:r=[]}=o;let i=r;t&&t!=="*"&&(i=r.filter(l=>l.groupName.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l.groupName,value:l.groupName}));n(a)}).catch(o=>{s(o)})}),HD=t=>{if(t)return t.value};function Ca(t){return e.jsx(R,{component:Y,loadOptions:lo,cacheOptions:!0,parse:HD,...t})}const JD=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"groupName",label:"Group",component:Y,loadOptions:lo,cacheOptions:!0,isClearable:!0})}),zD=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"userName",label:"User",component:Y,loadOptions:ds,cacheOptions:!0,isClearable:!0})}),zo=()=>e.jsx(w,{name:"group",label:"Group",component:JD}),gx=()=>e.jsx(w,{name:"user",label:"User",component:zD}),BD=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"groupName",component:wt,fullWidth:!0}),e.jsx(d,{name:"description",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"role",component:E,disabled:!0}),label:"Role"}),e.jsx(y,{name:"metadata",component:xa}),e.jsx(y,{name:"parentGroupList",label:"Parent Groups",component:zo}),e.jsx(y,{name:"childGroupList",label:"Child Groups",component:zo}),e.jsx(y,{name:"userList",label:"Users",component:gx})]}),jr=()=>e.jsx(T,{control:e.jsx(d,{name:"clear",component:E}),label:"Clear Existing Users/Groups"}),KD=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"userList",component:gx})}),YD=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"groupDocument",component:KD}),e.jsx(y,{name:"queryParams",component:jr}),e.jsx("button",{type:"submit",hidden:!0})]}),XD=v()(YD),QD=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"childGroupList",component:zo})}),ZD=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"groupDocument",component:QD}),e.jsx(y,{name:"queryParams",component:jr}),e.jsx("button",{type:"submit",hidden:!0})]}),eM=v()(ZD),tM=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"parentGroupList",component:zo})}),nM=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"groupDocument",component:tM}),e.jsx(y,{name:"queryParams",component:jr}),e.jsx("button",{type:"submit",hidden:!0})]}),sM=v()(nM);function oM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"groupDocument",component:BD}),e.jsx(y,{name:"queryParams",component:jr}),e.jsx("button",{type:"submit",hidden:!0})]})}const rM=v()(oM),fr=Ye((t,n,s)=>{const{queryParams:o,groupDocument:r}=t,i=s.groupName||t.groupDocument.groupName;return gn.updateGroup({groupName:i,groupDocument:r,queryParams:o}).then(a=>({...a,data:{groupName:i,...r}}))}),iM=Ye(t=>{const{queryParams:n={},groupSearchDocument:s={}}=t;return gn.searchGroup({queryParams:n,groupSearchDocument:s})});function aM({open:t,onClose:n,onSuccess:s,openSnackBar:o}){const r=(a,l,c)=>{o({messageContent:"Group Created"}),n(),s&&s(a,l,c)},i=()=>{o({messageContent:"Error Creating Group",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Group"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:rM,documentName:"groupDocument",onSubmit:fr,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const lM=P(aM);function cM({onSubmit:t,openSnackBar:n,submitForm:s,resetForm:o,onSuccess:r,onFail:i,form:a,title:l,formAction:c,FormComponent:u,...p}){const x=(S,L,ne)=>{r&&r(S,L,ne)},j=(S,L,ne)=>{const Te=`Error Updating ${l}`;n({messageContent:Te,messageColor:"secondary"}),i&&i(S,L,ne)},C=Array.isArray(u)?u:[u];return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:l})}),e.jsx(Ae,{children:e.jsx(F,{container:!0,children:C.map((S,L)=>e.jsx(F,{item:!0,xs:!0,children:e.jsx(S,{form:a,onSubmit:c,onSubmitSuccess:x,onSubmitFail:j,...p})},L))})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>o(a),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>s(a),children:"Update"})]})]})}const bx=A(q,D)(cM),dM=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"role",component:E,default:""}),label:"Only Roles"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0,disabled:!0})]});function uM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:dM,fullWidth:!0})]})}const mM=v()(uM),Cx=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",component:m,fullWidth:!0}),e.jsx(d,{name:"value",component:m,fullWidth:!0})]}),hM=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(d,{name:"order",component:B,children:[e.jsx(g,{value:"ascending",children:"Ascending"}),e.jsx(g,{value:"descending",children:"Descending"})]})]})]}),pM=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"field",component:Cx,label:"field",withHeader:!1,arrayHeader:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(d,{name:"operation",component:B,children:[e.jsx(g,{value:"AND",children:"AND"}),e.jsx(g,{value:"OR",children:"OR"}),e.jsx(g,{value:"NOT",children:"NOT"})]})]})]}),xM=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"sort",component:hM,label:"sort",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"field",component:Cx,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(y,{name:"operator",label:"operator",component:pM,fullWidth:!0})]});function jM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"groupSearchDocument",label:"GroupSearchDocument",component:xM,fullWidth:!0})]})}const fM=v()(jM),Ds="GROUP_LIST_PARAMS_FORM";function gM({number:t,first:n,...s}){return e.jsx(bx,{form:Ds,formAction:iM,FormComponent:[mM,fM],title:"Group List Params",initialValues:{queryParams:{number:t,first:n}},...s})}const mc="GROUP_CREATE_MODAL";class bM extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={groupListDocument:void 0,page:0,rowsPerPage:10}}componentDidMount(){document.title="VidiCore Admin | Group",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Ds)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Group List",messageColor:"secondary"})}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props,o=0,r=o*n+1;await s(Ds,"queryParams.first",r),await s(Ds,"queryParams.number",n),await this.setState({page:o,rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{changeForm:s}=this.props,{rowsPerPage:o}=this.state,r=n*o+1;await s(Ds,"queryParams.first",r),await this.setState({page:n}),this.onRefresh()}render(){const{groupListDocument:n,rowsPerPage:s,page:o}=this.state,{history:r}=this.props,i=o*s+1;return e.jsxs(e.Fragment,{children:[e.jsx(ND,{createModal:mc,onRefresh:this.onRefresh,code:n,codeModal:"GroupListDocument"}),e.jsx(gM,{number:s,first:i,onSuccess:a=>this.setState({groupListDocument:a.data})}),n&&e.jsx(GD,{groupListDocument:n,onRefresh:this.onRefresh,first:i,rowsPerPage:s,count:n.hits,onChangePage:this.onChangePage,page:o,onChangeRowsPerPage:this.onChangeRowsPerPage}),e.jsx(lM,{dialogName:mc,onSuccess:({data:a})=>r.push(`/group/${a.groupName}`)})]})}}const CM=A(D,P)(bM);function yM({groupName:t,onOpen:n,onEnable:s,onDisable:o,realNameModal:r,tokenModal:i,passwordModal:a,...l}){return e.jsx(K,{helpTo:"/ref/group.html",title:t,parentTitle:"Group",parentTo:"/group/",...l})}const SM=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"groupName",value:t.groupName,hover:!0}),e.jsx(h,{title:"description",value:t.description,hover:!0}),e.jsx(h,{title:"role",value:t.role,variant:"boolean",hover:!0})]}),RM=({groupDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:SM,value:t})});function TM({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(RM,{...t})})})}const hc="GROUP_CHILD_FORM";function IM({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i,groupDocument:a}){const l=(u,p,x)=>{o({messageContent:"Groups Updated"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Add Groups To ${i}`}),e.jsx(ve,{children:e.jsx(eM,{form:hc,onSubmit:fr,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,groupName:i,initialValues:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(hc),children:"Save"})]})]})}const EM=A(P,D)(IM),pc="ADD_GROUP_CHILD";function vM({groupName:t,onSuccess:n,groupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:"Child Groups"}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Add",children:e.jsx(Q,{onClick:()=>o({modalName:pc}),children:e.jsx(bt,{})})})})})}),e.jsx(xr,{groupListDocument:s.childGroupList,parentGroupName:t,onSuccess:n,showRemove:!0}),e.jsx(EM,{dialogName:pc,groupName:t,groupDocument:s,onSuccess:n})]})}const FM=rn(vM);function AM({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(FM,{...t})})})}const xc="GROUP_PARENT_FORM";function PM({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i,groupDocument:a}){const l=(u,p,x)=>{o({messageContent:"Groups Updated"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Add "${i}" To Groups`}),e.jsx(ve,{children:e.jsx(sM,{form:xc,onSubmit:fr,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,groupName:i,initialValues:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(xc),children:"Save"})]})]})}const DM=A(P,D)(PM),jc="ADD_GROUP_PARENT";function MM({groupName:t,onSuccess:n,groupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:"Parent Groups"}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Add",children:e.jsx(Q,{onClick:()=>o({modalName:jc}),children:e.jsx(bt,{})})})})})}),e.jsx(xr,{groupListDocument:s.parentGroupList,childGroupName:t,onSuccess:n,showRemove:!0}),e.jsx(DM,{dialogName:jc,groupName:t,groupDocument:s,onSuccess:n})]})}const OM=rn(MM);function LM({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(OM,{...t})})})}function NM({userDocument:t={},onRemove:n}){return e.jsxs(Ge,{to:`/user/${t.userName}/`,hover:!0,children:[e.jsx(M,{children:t.userName}),e.jsx(M,{children:t.realName}),e.jsx(M,{children:t.disabled&&e.jsx(Dt,{})}),e.jsx(M,{disableOnClick:!0,children:n&&e.jsx(Q,{onClick:s=>{s.preventDefault(),n({userName:t.userName})},children:e.jsx(Be,{})})})]})}const fc="REMOVE_USER_DIALOG";function _M({userListDocument:t={},count:n,page:s,rowsPerPage:o,onChangePage:r,onChangeRowsPerPage:i,groupName:a,onSuccess:l,onOpen:c,showRemove:u,dialogProps:p}){const{user:x=[]}=t,j=[100,250,500];return j.includes(o)||j.push(o),e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Username"}),e.jsx(M,{children:"Real Name"}),e.jsx(M,{children:"Disabled"}),e.jsx(M,{})]})}),e.jsx(de,{children:x.map(C=>e.jsx(NM,{userDocument:C,onRemove:u?c(fc):void 0},C.userName))}),n&&e.jsx(Ct,{children:e.jsx(je,{children:e.jsx(yt,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:St,rowsPerPageOptions:j})})})]}),a&&e.jsx(fx,{...p,dialogName:fc,groupName:a,onSuccess:l})]})}const yx=st(_M),gc="GROUP_USER_FORM";function $M({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i,groupDocument:a}){const l=(u,p,x)=>{o({messageContent:"Users Updated"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Adding Users",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Add Users To ${i}`}),e.jsx(ve,{children:e.jsx(XD,{form:gc,onSubmit:fr,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,groupName:i,initialValues:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(gc),children:"Save"})]})]})}const kM=A(P,D)($M),bc="ADD_GROUP_USER";function WM({groupName:t,onSuccess:n,groupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:"Users"}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Add",children:e.jsx(Q,{onClick:()=>o({modalName:bc}),children:e.jsx(bt,{})})})})})}),e.jsx(yx,{userListDocument:s.userList,groupName:t,onSuccess:n,showRemove:!0}),e.jsx(kM,{dialogName:bc,groupName:t,groupDocument:s,onSuccess:n})]})}const wM=rn(WM);function UM({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(wM,{...t})})})}function VM({open:t,onClose:n,openSnackBar:s,groupName:o,onSuccess:r}){const i=()=>{gn.removeGroup({groupName:o}).then(()=>{const a=`Group ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Group "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const GM=P(VM),qM=t=>({root:{padding:t.spacing(2),"&:last-child":{paddingBottom:t.spacing(3)}}});function HM({classes:t,...n}){return e.jsx(N,{classes:t,children:e.jsx($n,{...n})})}const us=Ce(qM)(HM),Cc="GROUP_REMOVE_DIALOG";class JM extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.state={groupDocument:void 0}}componentDidMount(){this.onRefresh();const{groupName:n}=this.props;document.title=`VidiCore Admin | Group | ${n}`}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Group | ${n}`)}onRefresh(){const{groupName:n}=this.props;this.onFetch(n)}onFetch(n){try{gn.getGroup({groupName:n}).then(s=>this.setState({groupDocument:s.data})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Group",messageColor:"secondary"})}render(){const{groupDocument:n}=this.state,{groupName:s,history:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(yM,{onRefresh:this.onRefresh,code:n,codeModal:"GroupDocument",groupName:s,removeModal:Cc}),n&&e.jsxs(e.Fragment,{children:[e.jsx(TM,{groupDocument:n}),e.jsx(AM,{groupDocument:n,onSuccess:this.onRefresh,groupName:s}),e.jsx(LM,{groupDocument:n,onSuccess:this.onRefresh,groupName:s}),e.jsx(UM,{groupDocument:n,onSuccess:this.onRefresh,groupName:s}),e.jsx(us,{simpleMetadataDocument:n.metadata,onSuccess:this.onRefresh,entityType:"group",entityId:s})]}),e.jsx(GM,{dialogName:Cc,groupName:s,onSuccess:()=>o.push("/group/")})]})}}const zM=P(JM);function BM(t){return e.jsx(K,{title:"User",helpTo:"/ref/user.html",...t})}function KM({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(yx,{...t})})})}const YM=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"groupName",label:"Group",component:Y,loadOptions:lo,cacheOptions:!0,isClearable:!0})}),XM=()=>e.jsx(w,{name:"group",label:"group",component:YM}),QM=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"userName",component:wt,fullWidth:!0}),e.jsx(d,{name:"realName",component:m,fullWidth:!0}),e.jsx(d,{name:"alias",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"password",component:m,type:"password",fullWidth:!0}),e.jsx(d,{name:"salt",component:m,fullWidth:!0}),e.jsx(y,{name:"groupList",component:XM}),e.jsx(y,{name:"metadata",component:xa}),e.jsx(T,{control:e.jsx(d,{name:"disabled",component:E}),label:"Disabled"}),e.jsx(T,{control:e.jsx(d,{name:"accessPreserved",component:E}),label:"Access Preserved"}),e.jsx(T,{control:e.jsx(d,{name:"remove",component:E}),label:"Remove"})]}),ZM=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"passwordType",children:"Password Type"}),e.jsxs(d,{name:"passwordType",component:B,children:[e.jsx(g,{value:"md5",children:"MD5"}),e.jsx(g,{value:"raw",children:"Raw"})]})]});function eO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:ZM}),e.jsx(y,{name:"userDocument",component:QM}),e.jsx("button",{type:"submit",hidden:!0})]})}const tO=v()(eO),nO=Ye(t=>{const{userDocument:n,queryParams:s}=t;return Ze.createUser({userDocument:n,queryParams:s}).then(()=>({data:n}))}),sO=Ye((t,n,s)=>{const{queryParams:o}=t,r=s.userName||t.userName;return Ze.disableUser({userName:r,queryParams:o})}),oO=Ye((t,n,s)=>{const o=s.userName||t.userName,{userDocument:r,queryParams:i}=t;return Ze.updateUser({userName:o,userDocument:r,queryParams:i})}),Sx=Ye((t,n,s)=>{const o=s.userName||t.userName,{password:r,queryParams:i}=t;return Ze.updateUserPassword({userName:o,password:r,queryParams:i})});function rO(t,n,s){const{headers:o={},queryParams:r}=t,i=s.runAs||t.runAs||o.runAs;return Ze.getToken({queryParams:r,headers:{runAs:i,...o}}).then(a=>({...a,runAs:i})).catch(a=>{let l=a.message;if(a.response){const{data:c,statusText:u}=a.response;c?l=JSON.stringify(c,(p,x)=>x===null?void 0:x):l=u}throw new _({_error:l})})}function iO(t,n,s){const{headers:o={}}=t,{status:r}=s,{runAs:i,token:a}=o;return Ze.whoAmI({headers:{Authorization:`token ${a}`}}).then(({data:l})=>({userName:l,runAs:i,data:a})).catch(l=>{let c=l.message;if(l.response){const{data:u,statusText:p}=l.response;u?c=JSON.stringify(u,(x,j)=>j===null?void 0:j):c=p}throw r==="ok"&&c==="Network Error"?new _({_error:"Incorrect Token"}):new _({_error:c})})}function yc(t,n,s){const{headers:o={},queryParams:r,baseUrl:i,accessKey:a,secretKey:l}=t,{status:c}=s,{runAs:u,token:p,...x}=o;if(a&&l&&(x.username=a,x.password=l),p)return iO(t,n,s);const j=s.userName||t.userName||o.username;return Ze.getUserToken({username:j,queryParams:r,headers:x}).then(C=>({...C,userName:j,runAs:u,baseUrl:i})).catch(C=>{let S=C.message;if(C.response){const{data:L,statusText:ne}=C.response;L?S=JSON.stringify(L,(Te,Ie)=>Ie===null?void 0:Ie):S=S||ne}throw c==="ok"&&S==="Network Error"?new _({_error:"Incorrect Credentials"}):new _({_error:S})})}const aO=Ye((t,n,s)=>{const{groupListDocument:o,queryParams:r}=t,i=s.userName||t.userName;return Ze.updateUserGroup({userName:i,groupListDocument:o,queryParams:r})}),lO=Ye((t,n,s)=>{const{realName:o}=t,r=s.userName||t.userName;return Ze.updateUserRealName({userName:r,realName:o})}),cO=Ye((t,n,s)=>{const{alias:o}=t,r=s.userName||t.userName;return Ze.createAlias({userName:r,alias:o})}),dO=Ye((t,n,s)=>{const{queryParams:o}=t,r=s.userName||t.userName;return Ze.createKey({userName:r,queryParams:o})}),uO=Ye(t=>{const{queryParams:n={},userSearchDocument:s={}}=t;return Ze.searchUser({queryParams:n,userSearchDocument:s})});function mO({open:t,onClose:n,onSuccess:s,openSnackBar:o}){const r=(a,l,c)=>{o({messageContent:"User Created"}),n(),s&&s(a,l,c)},i=()=>{o({messageContent:"Error Creating User",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New User"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:tO,documentName:"userDocument",onSubmit:nO,onSubmitSuccess:r,onSubmitFail:i,onCancel:n,initialValues:{queryParams:{passwordType:"raw"}}})})]})}const hO=P(mO),pO=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"disabled",children:"Disabled"}),e.jsxs(d,{name:"disabled",component:B,children:[e.jsx(g,{value:"all",children:"All"}),e.jsx(g,{value:"true",children:"True"}),e.jsx(g,{value:"false",children:"False"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"ignoreCase",component:E,default:""}),label:"Ignore Case"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0,disabled:!0})]});function xO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:pO,fullWidth:!0})]})}const jO=v()(xO),Rx=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",component:m,fullWidth:!0}),e.jsx(d,{name:"value",component:m,fullWidth:!0})]}),fO=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(d,{name:"order",component:B,children:[e.jsx(g,{value:"ascending",children:"Ascending"}),e.jsx(g,{value:"descending",children:"Descending"})]})]})]}),gO=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"field",component:Rx,label:"field",withHeader:!1,arrayHeader:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(d,{name:"operation",component:B,children:[e.jsx(g,{value:"AND",children:"AND"}),e.jsx(g,{value:"OR",children:"OR"}),e.jsx(g,{value:"NOT",children:"NOT"})]})]})]}),bO=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"sort",component:fO,label:"sort",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"field",component:Rx,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(y,{name:"operator",label:"operator",component:gO,fullWidth:!0})]});function CO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"userSearchDocument",label:"UserSearchDocument",component:bO,fullWidth:!0})]})}const yO=v()(CO),Ms="USER_LIST_PARAMS_FORM";function SO({number:t,first:n,...s}){return e.jsx(bx,{form:Ms,formAction:uO,FormComponent:[jO,yO],title:"User List Params",initialValues:{queryParams:{number:t,first:n}},...s})}const Sc="USER_CREATE_MODAL";class RO extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={userListDocument:void 0,page:0,rowsPerPage:100}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | User"}onRefresh(){const{submitForm:n}=this.props;n(Ms)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User List",messageColor:"secondary"})}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props,o=0,r=o*n+1;await s(Ms,"queryParams.first",r),await s(Ms,"queryParams.number",n),await this.setState({page:o,rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{changeForm:s}=this.props,{rowsPerPage:o}=this.state,r=n*o+1;await s(Ms,"queryParams.first",r),await this.setState({page:n}),this.onRefresh()}render(){const{userListDocument:n,rowsPerPage:s,page:o}=this.state,{history:r}=this.props,i=o*s+1;return e.jsxs(e.Fragment,{children:[e.jsx(BM,{createModal:Sc,onRefresh:this.onRefresh,code:n,codeModal:"UserListDocument"}),e.jsx(SO,{number:s,first:i,onSuccess:a=>this.setState({userListDocument:a.data})}),n&&e.jsx(KM,{userListDocument:n,onRefresh:this.onRefresh,first:i,rowsPerPage:s,count:n.hits,onChangePage:this.onChangePage,page:o,onChangeRowsPerPage:this.onChangeRowsPerPage}),e.jsx(hO,{dialogName:Sc,onSuccess:a=>r.push(`/user/${a.data.userName}`)})]})}}const TO=A(D,P)(RO),IO=({userDocument:t})=>{if(t===void 0)return null;const{disabled:n}=t;return n===!0?e.jsx(Le,{avatar:e.jsx(Ft,{}),label:"Disabled"}):null};function EO({userName:t,onOpen:n,onEnable:s,realNameModal:o,aliasModal:r,tokenModal:i,passwordModal:a,disableModal:l,userNameModal:c,history:u,...p}){const{code:x}=p;return e.jsx(K,{helpTo:"/ref/user.html",title:t,parentTitle:"User",parentTo:"/user/",iconList:e.jsxs(e.Fragment,{children:[e.jsx(Ee,{title:"Access Keys",children:e.jsx(Q,{onClick:()=>u.push(`/user/${t}/key`),children:e.jsx(Hg,{})})}),e.jsx(IO,{userDocument:x}),e.jsxs(pt,{children:[t!=="admin"&&e.jsx(g,{onClick:()=>n({modalName:c}),children:e.jsx(b,{children:"Change Username"})}),e.jsx(g,{onClick:()=>n({modalName:a}),children:e.jsx(b,{children:"Change Password"})}),e.jsx(g,{onClick:()=>n({modalName:o}),children:e.jsx(b,{children:"Change Real Name"})}),e.jsx(g,{onClick:()=>n({modalName:r}),children:e.jsx(b,{children:"Add Alias"})}),e.jsx(g,{onClick:()=>n({modalName:i}),children:e.jsx(b,{children:"Generate Token"})}),t!=="admin"&&(x==null?void 0:x.disabled)===!0&&e.jsx(g,{onClick:s,children:e.jsx(b,{children:"Enable User"})}),t!=="admin"&&e.jsx(g,{onClick:()=>n({modalName:l}),children:e.jsx(b,{color:"secondary",children:"Disable/Remove User"})})]})]}),...p})}const vO=rn(EO),FO=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Password Type"}),e.jsxs(d,{name:"type",component:B,children:[e.jsx(g,{value:"md5",children:"MD5"}),e.jsx(g,{value:"raw",children:"Raw"})]})]});function AO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"password",component:m,type:"password",fullWidth:!0}),e.jsx(y,{name:"queryParams",component:FO}),e.jsx("button",{type:"submit",hidden:!0})]})}const Tx=v()(AO),Rc="USER_PASSWORD_FORM";function PO({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i}){const a=(c,u,p)=>{o({messageContent:"Password Changed"}),s&&s(c,u,p),n()},l=()=>{o({messageContent:"Error Changing Password",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Change Password"}),e.jsx(ve,{children:e.jsx(Tx,{form:Rc,onSubmit:Sx,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,userName:i,initialValues:{queryParams:{type:"raw"}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Rc),children:"Change"})]})]})}const DO=A(P,D)(PO),MO=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"seconds",label:"Duration (Seconds)",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"autoRefresh",component:E}),label:"Auto Refresh"})]});function OO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:MO}),e.jsx("button",{type:"submit",hidden:!0})]})}const LO=v()(OO),Tc="USER_TOKEN_FORM";function NO({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,userToken:a}){const l=(u,p,x)=>{o({messageContent:"New Token Generated"}),s&&s(u,p,x)},c=()=>{o({messageContent:"Error Generating Token",messageColor:"secondary"})};return e.jsx(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:a?e.jsxs(e.Fragment,{children:[e.jsx($,{children:"Current Token"}),e.jsx(ve,{children:a}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>s({data:void 0}),children:"Generate New"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{children:"Generate Token"}),e.jsx(ve,{children:e.jsx(LO,{form:Tc,onSubmit:rO,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,runAs:i})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Tc),children:"Generate"})]})]})})}const _O=A(P,D)(NO),$O=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"hard",component:E}),label:"Hard Delete"}),e.jsx(T,{control:e.jsx(d,{name:"preserveAccess",component:E}),label:"Preserve Access"}),e.jsx(d,{name:"transferAccess",label:"Transfer Access To",component:Y,loadOptions:ds,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function kO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:$O}),e.jsx("button",{type:"submit",hidden:!0})]})}const WO=v()(kO),wO="USER_DISABLE_FORM";function UO({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,form:a=wO}){const l=(u,p,x)=>{var S,L;const j=(L=(S=x==null?void 0:x.values)==null?void 0:S.queryParms)==null?void 0:L.hard;o({messageContent:`User ${j===!0||j==="true"?"Removed":"Disabled"}`}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Disabling / Removing User",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Disable User"}),e.jsx(ve,{children:e.jsx(WO,{form:a,onSubmit:sO,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,userName:i,initialValues:{queryParams:{hard:!1,preserveAccess:!1}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(a),children:"Disable / Remove"})]})]})}const VO=A(P,D)(UO),GO=()=>e.jsx(d,{name:"userName",component:m,fullWidth:!0});function qO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"userDocument",component:GO}),e.jsx("button",{type:"submit",hidden:!0})]})}const HO=v()(qO),JO="USER_USERNAME_FORM";function zO({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,form:a=JO}){const l=(u,p,x)=>{o({messageContent:"Username Updated"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Updating Username",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Update Username"}),e.jsx(ve,{children:e.jsx(HO,{form:a,onSubmit:oO,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,userName:i,initialValues:{userDocument:{userName:i}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(a),children:"Update"})]})]})}const BO=A(P,D)(zO),KO=({value:t={},onDeleteAlias:n})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"userName",value:t.userName,hover:!0}),e.jsx(h,{title:"realName",value:t.realName,hover:!0}),e.jsx(h,{title:"alias",value:t.alias,variant:"list",hideNoValue:!0,hover:!0,onDelete:n}),e.jsx(h,{title:"id",value:t.id,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"loc",hideNoValue:!0,value:t.loc,hover:!0}),e.jsx(h,{title:"password",value:t.password,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"salt",value:t.salt,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"accessPreserved",value:t.accessPreserved,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"origin",value:t.origin,hideNoValue:!0,hover:!0})]}),YO=({userDocument:t,onDeleteAlias:n})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:KO,value:t,onDeleteAlias:n})});function XO({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(YO,{...t})})})}const QO=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"groupName",label:"Group",component:Y,loadOptions:lo,cacheOptions:!0,isClearable:!0})}),ZO=()=>e.jsx(w,{name:"group",label:"Group",component:QO}),e1=()=>e.jsx(T,{control:e.jsx(d,{name:"move",component:E}),label:"Move All Groups"});function t1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:e1}),e.jsx(y,{name:"groupListDocument",component:ZO}),e.jsx("button",{type:"submit",hidden:!0})]})}const n1=v()(t1),Ic="USER_GROUP_FORM";function s1({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i}){const a=(c,u,p)=>{o({messageContent:"Groups Updated"}),s&&s(c,u,p),n()},l=()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add User To Groups"}),e.jsx(ve,{children:e.jsx(n1,{form:Ic,onSubmit:aO,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,userName:i})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ic),children:"Save"})]})]})}const o1=A(P,D)(s1),Ec="ADD_USER_GROUP";function r1({userName:t,onSuccess:n,groupListDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:"Groups"}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Add",children:e.jsx(Q,{onClick:()=>o({modalName:Ec}),children:e.jsx(bt,{})})})})})}),e.jsx(xr,{groupListDocument:s,userName:t,onSuccess:n,showRemove:!0}),e.jsx(o1,{dialogName:Ec,userName:t,onSuccess:n})]})}const i1=rn(r1);function a1({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(i1,{...t})})})}function l1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"realName",component:m,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const c1=v()(l1),vc="USER_PASSWORD_FORM";function d1({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,realName:a}){const l=(u,p,x)=>{o({messageContent:"Real Name Changed"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Changing Real Name",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Change Real Name"}),e.jsx(ve,{children:e.jsx(c1,{form:vc,onSubmit:lO,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,userName:i,initialValues:{realName:a}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(vc),children:"Change"})]})]})}const u1=A(P,D)(d1);function m1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"alias",component:m,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const h1=v()(m1),p1="USER_ALIAS_ADD_FORM";function x1({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,form:a=p1}){const l=(u,p,x)=>{o({messageContent:"Alias Added"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Adding Alias",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Alias"}),e.jsx(ve,{children:e.jsx(h1,{form:a,onSubmit:cO,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,userName:i})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(a),children:"Add"})]})]})}const j1=A(P,D)(x1);function f1({open:t,onClose:n,openSnackBar:s,alias:o,userName:r,onSuccess:i}){const a=()=>{Ze.removeAlias({userName:r,alias:o}).then(()=>{const l=`Alias ${o} Removed From ${r}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Alias From User",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Alias "${o}" From "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const g1=P(f1),Fc="USER_REALNAME_DIALOG",Ac="USER_ALIAS_ADD_DIALOG",Pc="USER_ALIAS_REMOVE_DIALOG";let b1=class extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onDeleteAlias=this.onDeleteAlias.bind(this),this.state={userDocument:void 0,alias:void 0}}componentDidMount(){this.onRefresh();const{setOnRefresh:n}=this.props;n&&n(this.onRefresh)}UNSAFE_componentWillReceiveProps({userName:n}){const{userName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | User | ${n}`)}onRefresh(){const{userName:n}=this.props;this.onFetch(n)}onFetch(n){try{Ze.getUser({userName:n}).then(s=>this.setState({userDocument:s.data})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User",messageColor:"secondary"})}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User",messageColor:"secondary"})}onDeleteAlias(n,s){const{onOpen:o}=this.props;this.setState({alias:s},()=>o({modalName:Pc}))}render(){const{userName:n,titleComponent:s,tabComponent:o}=this.props,{userDocument:r,alias:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"UserDocument",onRefresh:this.onRefresh,realNameModal:Fc,aliasModal:Ac}),o&&e.jsx(o,{}),r&&e.jsxs(e.Fragment,{children:[e.jsx(XO,{userDocument:r,onDeleteAlias:this.onDeleteAlias}),e.jsx(us,{simpleMetadataDocument:r.metadata,onSuccess:this.onRefresh,entityType:"user",entityId:n}),e.jsx(a1,{groupListDocument:r.groupList,onSuccess:this.onRefresh,userName:n})]}),e.jsx(u1,{dialogName:Fc,onSuccess:this.onRefresh,userName:n,realName:r==null?void 0:r.realName}),e.jsx(j1,{dialogName:Ac,onSuccess:this.onRefresh,userName:n}),e.jsx(g1,{dialogName:Pc,userName:n,alias:i,onSuccess:this.onRefresh})]})}};const C1=P(b1);function y1({accessKeyDocument:t={},onOpenRemove:n}){const{id:s,name:o,status:r,created:i}=t;return e.jsxs(ge,{children:[e.jsx(O,{children:s}),e.jsx(O,{children:o}),e.jsx(O,{children:i}),e.jsx(O,{children:r}),e.jsx(O,{children:n&&e.jsx(Q,{onClick:()=>n({keyId:s}),children:e.jsx(Be,{})})})]})}function S1({open:t,onClose:n,openSnackBar:s,userName:o,onSuccess:r,keyId:i}){const a=()=>{Ze.removeKey({userName:o,keyId:i}).then(()=>{const l=`${i} Removed`;s({messageContent:l}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing User Key",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Key "${i}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const R1=P(S1),Dc="REMOVE_USERKEY_DIALOG";function T1({accessKeyListDocument:t,onRemoveSuccess:n,userName:s,dialogProps:o,onOpen:r}){if(!t)return null;const{key:i=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"ID"}),e.jsx(O,{children:"Name"}),e.jsx(O,{children:"Created"}),e.jsx(O,{children:"Status"}),e.jsx(O,{})]})}),e.jsx(de,{children:i.map(a=>e.jsx(y1,{accessKeyDocument:a,onOpenRemove:r(Dc)},a.id))})]}),e.jsx(R1,{...o,dialogName:Dc,userName:s,onSuccess:n})]})}const I1=st(T1);function E1({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(I1,{...t})})})}const v1=()=>e.jsx(d,{name:"name",component:m,fullWidth:!0});function F1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:v1}),e.jsx("button",{type:"submit",hidden:!0})]})}const A1=v()(F1),Mc="EDIT_USERKEY_FORM";function P1({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r,userName:i,accessKeyDocument:a,onSetAccessKey:l}){const c=(x,j,C)=>{const{data:S}=x;l(S),n({messageContent:"User Key Created"}),o&&o(x,j,C)},u=()=>{n({messageContent:"Error Creating User Key",messageColor:"secondary"})},p=()=>{l(),s()};return e.jsx(k,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:a?e.jsxs(e.Fragment,{children:[e.jsx($,{children:"Success!"}),e.jsx(X,{children:e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"ID",value:a.id,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Secret",value:a.secret,hideNoValue:!0,hover:!0})]})}),e.jsx(V,{}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"secondary",onClick:p,children:"Close"})})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{children:"New User Key"}),e.jsx(X,{children:e.jsx(A1,{form:Mc,onSubmit:dO,onSubmitSuccess:c,onSubmitFail:u,userName:i})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Mc),children:"Create"})]})]})})}const D1=A(P,D)(P1),Oc="USERKEY_CREATE_MODAL";class M1 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.onSetAccessKey=this.onSetAccessKey.bind(this),this.state={accessKeyListDocument:void 0}}componentDidMount(){this.onRefresh();const{userName:n}=this.props;document.title=`VidiCore Admin | User | ${n} | Keys`}UNSAFE_componentWillReceiveProps({userName:n}){const{userName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | User | ${n} | Keys`)}onRefresh(){const{userName:n}=this.props;this.onFetch(n)}onFetch(n){try{Ze.listKey({userName:n}).then(s=>this.setState({accessKeyListDocument:s.data})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onSetAccessKey(n){this.setState({accessKeyDocument:n})}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User Keys",messageColor:"secondary"})}render(){const{accessKeyListDocument:n,accessKeyDocument:s}=this.state,{userName:o,titleComponent:r,tabComponent:i}=this.props;return e.jsxs(e.Fragment,{children:[r&&e.jsx(r,{title:"Keys",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:o,parentTo:`/user/${o}`,onRefresh:this.onRefresh,code:n,codeModal:"AccessKeyListDocument",createModal:Oc,createModalTitle:"Create New Key"}),i&&e.jsx(i,{}),e.jsx(E1,{accessKeyListDocument:n,userName:o,onRemoveSuccess:this.onRefresh}),e.jsx(D1,{dialogName:Oc,onSuccess:this.onRefresh,accessKeyDocument:s,onSetAccessKey:this.onSetAccessKey,userName:o})]})}}const O1=P(M1),Ix="USER_DEFAULT_TAB",L1="USER_GRAPH_TAB",Lc="USER_PASSWORD_DIALOG",Nc="USER_TOKEN_DIALOG",_c="USER_DISABLE_DIALOG",$c="USER_USERNAME_DIALOG",Ex=[{tab:Ix,listText:"User",component:C1,path:"/user/:userName/",exact:!0},{tab:L1,listText:"Keys",component:O1,path:"/user/:userName/key",exact:!0}],N1=t=>e.jsx(vt,{children:Ex.map(({path:n,listText:s,exact:o})=>e.jsx(Cn,{secondary:s,to:qe(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),_1=t=>e.jsx(Jt,{children:Ex.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class $1 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.onEnable=this.onEnable.bind(this),this.onDisableSuccess=this.onDisableSuccess.bind(this),this.onUserNameSuccess=this.onUserNameSuccess.bind(this),this.state={onRefresh:void 0,userToken:void 0}}componentDidMount(){this.onRefresh();const{userName:n}=this.props;document.title=`VidiCore Admin | User | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}onEnable(){const{userName:n,openSnackBar:s}=this.props;try{Ze.enableUser({userName:n}).then(()=>{s({messageContent:"User Enabled"}),this.onRefresh()}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onDisableSuccess(n,s,o){var a,l;const{history:r}=this.props,i=(l=(a=o==null?void 0:o.values)==null?void 0:a.queryParams)==null?void 0:l.hard;i===!0||i==="true"?r.push("/user/"):this.onRefresh()}onUserNameSuccess(n,s,o){var a,l;const{history:r}=this.props,i=(l=(a=o==null?void 0:o.values)==null?void 0:a.userDocument)==null?void 0:l.userName;i?r.push(`/user/${i}`):this.onRefresh()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{onChangeTab:n,tabValue:s,userName:o}=this.props,{userToken:r}=this.state,i=a=>e.jsx(vO,{onRefresh:this.onRefresh,userName:o,passwordModal:Lc,tokenModal:Nc,onEnable:this.onEnable,disableModal:_c,userNameModal:$c,...a});return e.jsxs(e.Fragment,{children:[e.jsx(Vt,{mainComponent:_1,listComponent:N1,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:i,setOnRefresh:this.setOnRefresh,userName:o}),e.jsx(DO,{dialogName:Lc,userName:o}),e.jsx(VO,{dialogName:_c,userName:o,onSuccess:this.onDisableSuccess}),e.jsx(BO,{dialogName:$c,userName:o,onSuccess:this.onUserNameSuccess}),e.jsx(_O,{dialogName:Nc,userName:o,userToken:r,onSuccess:a=>this.setState({userToken:a.data})})]})}}const k1=A(an(Ix),et,P)($1);function W1(t){return e.jsx(K,{title:"External ID Namespace",helpTo:"/ref/external-id.html",...t})}function w1({externalIdentifierNamespaceDocument:t={},onEdit:n,onRemove:s}){return e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.name}),e.jsx(M,{children:t.pattern}),e.jsx(M,{children:t.priority}),e.jsxs(M,{disableOnClick:!0,children:[e.jsx(Q,{onClick:()=>s({externalIdentifierNamespaceDocument:t}),children:e.jsx(Be,{})}),e.jsx(Q,{onClick:()=>n({externalIdentifierNamespaceDocument:t}),children:e.jsx(Qo,{})})]})]})}function U1({open:t,onClose:n,openSnackBar:s,externalIdentifierNamespaceDocument:o,onSuccess:r}){if(o===void 0)return null;const{name:i}=o,a=()=>{Ln.removeExternalIdNamespace({idName:i}).then(()=>{const l=`External ID Namespace ${i} Removed`;s({messageContent:l}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing External ID Namespace",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove External ID Namespace "${i}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const V1=P(U1);function vx(t,n,s){const{externalIdentifierNamespaceDocument:o}=t,r=s.idName||o.name;return Ln.updateExternalIdNamespace({idName:r,externalIdentifierNamespaceDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function G1(t,n,s){const{externalId:o}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Ln.createExternalId({externalId:o,entityId:i,entityType:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}const q1=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",component:wt,fullWidth:!0}),e.jsx(d,{name:"pattern",component:m,fullWidth:!0}),e.jsx(d,{name:"priority",component:m,type:"number",fullWidth:!0})]});function H1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"externalIdentifierNamespaceDocument",component:q1}),e.jsx("button",{type:"submit",hidden:!0})]})}const Fx=v()(H1),kc="EXTERNALID_NAMESPACE_FORM";function J1({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,externalIdentifierNamespaceDocument:i}){if(i===void 0)return null;const{name:a}=i,l=(u,p,x)=>{o({messageContent:"External ID Namespace Updated"}),n(),s&&s(u,p,x)},c=()=>{o({messageContent:"Error Updating External ID Namespace",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Edit External ID Namespace ${a}`}),e.jsx(X,{children:e.jsx(Fx,{form:kc,onSubmit:vx,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,initialValues:{externalIdentifierNamespaceDocument:i},idName:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(kc),children:"Save"})]})]})}const z1=A(P,D)(J1),Wc="EXTERNALID_NAMESPACE_REMOVE_DIALOG",wc="EXTERNALID_NAMESPACE_EDIT_DIALOG";function B1({externalIdentifierNamespaceListDocument:t,onRefresh:n,dialogProps:s,onOpen:o}){const{namespace:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Name"}),e.jsx(M,{children:"Pattern"}),e.jsx(M,{children:"Priority"}),e.jsx(M,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(w1,{externalIdentifierNamespaceDocument:i,onRemove:o(Wc),onEdit:o(wc)},i.name))})]}),e.jsx(z1,{...s,dialogName:wc,onSuccess:n}),e.jsx(V1,{...s,dialogName:Wc,onSuccess:n})]})}const K1=st(B1);function Y1({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(K1,{...t})})})}function X1({open:t,onClose:n,onSuccess:s,openSnackBar:o}){const r=(a,l,c)=>{o({messageContent:"External ID Namespace Created"}),n(),s&&s(a,l,c)},i=()=>{o({messageContent:"Error Creating External ID Namespace",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New External ID Namespace"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Fx,documentName:"externalIdentifierNamespaceDocument",onSubmit:vx,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const Q1=P(X1),Uc="EXTERNALID_NAMESPACE_CREATE_MODAL";class Z1 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={externalIdentifierNamespaceListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | External ID Namespace"}onRefresh(){try{Ln.listExternalIdNamespace().then(n=>this.setState({externalIdentifierNamespaceListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading External ID Namespace List",messageColor:"secondary"})}render(){const{externalIdentifierNamespaceListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(W1,{createModal:Uc,onRefresh:this.onRefresh,code:n,codeModal:"ExternalIdentifierNamespaceListDocument"}),n&&e.jsx(Y1,{externalIdentifierNamespaceListDocument:n,onRefresh:this.onRefresh}),e.jsx(Q1,{dialogName:Uc,onSuccess:this.onRefresh})]})}}const eL=q(Z1);function tL({entityType:t,entityId:n,...s}){return e.jsx(K,{title:"External ID",grandParentTitle:ie(t),parentTitle:n,parentTo:`/${t}/${n}/`,grandParentTo:`/${t}/`,helpTo:"/ref/external-id.html",...s})}function nL({externalIdentifierDocument:t={},onRemove:n}){return e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.externalId}),e.jsx(M,{children:t.namespace}),e.jsx(M,{children:t.entityId}),e.jsx(M,{children:t.entityType}),e.jsx(M,{disableOnClick:!0,children:e.jsx(Q,{onClick:()=>n({externalIdentifierDocument:t}),children:e.jsx(Be,{})})})]})}function sL({open:t,onClose:n,openSnackBar:s,onSuccess:o,externalIdentifierDocument:r,entityType:i,entityId:a}){if(r===void 0)return null;const{externalId:l}=r,c=()=>{Ln.removeExternalId({externalId:l,entityType:i,entityId:a}).then(()=>{const u=`External ID ${l} Removed`;s({messageContent:u}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing External ID",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove External ID "${l}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:c,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const oL=P(sL),Vc="EXTERNALID_REMOVE_DIALOG";function rL({externalIdentifierListDocument:t,onRefresh:n,dialogProps:s,onOpen:o,entityType:r,entityId:i}){const{id:a=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"External Id"}),e.jsx(M,{children:"Namespace"}),e.jsx(M,{children:"Entity Id"}),e.jsx(M,{children:"Entity Type"}),e.jsx(M,{})]})}),e.jsx(de,{children:a.map(l=>e.jsx(nL,{externalIdentifierDocument:l,onRemove:o(Vc)},l.externalId))})]}),e.jsx(oL,{...s,dialogName:Vc,onSuccess:n,entityType:r,entityId:i})]})}const iL=st(rL);function aL({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(iL,{...t})})})}function lL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"externalId",component:m,required:!0,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const cL=v()(lL),Gc="EXTERNALID_FORM";function dL({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,entityType:i,entityId:a}){const l=(u,p,x)=>{o({messageContent:"External ID Created"}),n(),s&&s(u,p,x)},c=()=>{o({messageContent:"Error Creating External ID",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Create External ID"}),e.jsx(X,{children:e.jsx(cL,{form:Gc,onSubmit:G1,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,entityType:i,entityId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Gc),children:"Save"})]})]})}const uL=A(P,D)(dL);function mL({open:t,onClose:n,openSnackBar:s,onSuccess:o,entityType:r,entityId:i}){const a=()=>{Ln.removeAllExternalId({entityType:r,entityId:i}).then(()=>{s({messageContent:"All External IDs Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing External IDs",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove All External IDs For "${i}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const hL=P(mL),qc="EXTERNALID_CREATE_MODAL",Hc="EXTERNALID_REMOVEALL_MODAL";class pL extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={externalIdentifierListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | External ID"}onRefresh(){const{entityType:n,entityId:s,entitySubType:o}=this.props;try{Ln.listExternalId({entityType:o?`${n}/${o}`:n,entityId:s}).then(r=>this.setState({externalIdentifierListDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading External ID List",messageColor:"secondary"})}render(){const{externalIdentifierListDocument:n}=this.state,{entityType:s,entityId:o,entitySubType:r}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(tL,{createModal:qc,onRefresh:this.onRefresh,removeModal:Hc,code:n,codeModal:"ExternalIdentifierListDocument",entityType:r?`${s}/${r}`:s,entityId:o}),n&&e.jsx(aL,{externalIdentifierListDocument:n,onRefresh:this.onRefresh,entityType:r?`${s}/${r}`:s,entityId:o}),e.jsx(uL,{dialogName:qc,onSuccess:this.onRefresh,entityType:r?`${s}/${r}`:s,entityId:o}),e.jsx(hL,{dialogName:Hc,onSuccess:this.onRefresh,entityType:r?`${s}/${r}`:s,entityId:o})]})}}const Jc=q(pL),xL=[{name:"__user"},{name:"__collection"},{name:"__collection_size"},{name:"__ancestor_collection"},{name:"__ancestor_collection_size"},{name:"__shape"},{name:"__shape_size"},{name:"__shape_last_added"},{name:"__placeholder_shape_size"},{name:"__version"},{name:"__version_size"},{name:"__storage"},{name:"__storage_size"},{name:"__storagegroup"},{name:"__storagegroup_size"},{name:"__sequence"},{name:"__sequence_size"},{name:"__metadata_last_modified"},{name:"____metadataFieldGroup"},{name:"__externalId"},{name:"__child_collection"},{name:"__child_collection_size"},{name:"__parent_collection"},{name:"__parent_collection_size"},{name:"__items_size"},{name:"__folder_mapped"},{name:"__child_folder_collection"},{name:"__parent_folder_collection"},{name:"__parent_folder_collection"},{name:"__deletion_lock_expiry"}],jL=nn(jn.listMetadataField,500,{leading:!0,trailing:!1}),ot=t=>new Promise((n,s)=>{jL().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{field:r=[]}=o,i=r.concat(xL);let a=i;if(t&&t!=="*"){const c=t.toLowerCase();a=i.filter(u=>u.name.toLowerCase().includes(c))}const l=a.map(c=>({label:c.name,value:c.name}));n(l)}).catch(o=>{s(o)})}),co=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"content",component:Y,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"uri",label:"uri"},{value:"shape",label:"shape"},{value:"poster",label:"poster"},{value:"thumbnail",label:"thumbnail"},{value:"access",label:"access"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),e.jsx(d,{name:"p",label:"Path",component:m,fullWidth:!0}),e.jsx(d,{name:"field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(d,{name:"group",component:m,fullWidth:!0}),e.jsx(d,{name:"language",component:m,fullWidth:!0}),e.jsx(d,{name:"sampleRate",component:m,fullWidth:!0}),e.jsx(d,{name:"interval",component:m,fullWidth:!0}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"include",component:m,fullWidth:!0}),e.jsx(d,{name:"includeValues",component:m,fullWidth:!0}),e.jsx(d,{name:"revision",component:m,fullWidth:!0}),e.jsx(d,{name:"mergedType",component:m,fullWidth:!0}),e.jsx(d,{name:"mergedPermission",component:m,fullWidth:!0}),e.jsx(d,{name:"mergedExtradata",component:m,fullWidth:!0}),e.jsx(d,{name:"uriType",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsx(d,{name:"storageType",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"methodType",children:"Method Type"}),e.jsxs(d,{name:"methodType",component:B,children:[e.jsx(g,{value:"AUTO",children:"AUTO"}),e.jsx(g,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),e.jsx(w,{name:"methodMetadata",label:"Method Metadata",component:se}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"version",component:m,fullWidth:!0}),e.jsx(d,{name:"baseURI",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"closedFiles",component:E}),label:"Closed Files"}),e.jsx(T,{control:e.jsx(d,{name:"noauth-url",component:E}),label:"No-Auth URL"}),e.jsx(T,{control:e.jsx(d,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(T,{control:e.jsx(d,{name:"terse",component:E}),label:"Terse"}),e.jsx(T,{control:e.jsx(d,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(T,{control:e.jsx(d,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"}),e.jsx(d,{name:"storage",label:"Storage",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"storageGroup",label:"Storage Group",component:Y,loadOptions:ao,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"includeConstraintValue",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"starttc",component:E}),label:"Start TC"})]});function fL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:co})]})}const gL=v()(fL),bL=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"storage",label:"Storage",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"storageGroup",label:"Storage Group",component:Y,loadOptions:ao,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(T,{control:e.jsx(d,{name:"save",component:E}),label:"Save"})]});function CL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:bL}),e.jsx(y,{name:"queryParams",component:co}),e.jsx("button",{type:"submit",hidden:!0})]})}const yL=v()(CL),jt=t=>class extends I.PureComponent{constructor(n){super(n),this.onChangeExpansion=this.onChangeExpansion.bind(this);const{defaultExpanded:s=!1}=n;this.state={expanded:s}}onChangeExpansion(n,s){this.setState({expanded:s})}render(){const{expanded:n}=this.state;return e.jsx(t,{onChangeExpansion:this.onChangeExpansion,expanded:n,...this.props})}};function Ax(t){const{queryParams:n={},shapeSearchDocument:s={}}=t;return sa.searchShape({shapeSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,shapeSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function Px(t){const{queryParams:n={},fileSearchDocument:s={}}=t;return sa.searchFile({fileSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,fileSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function Dx(t){const{queryParams:n={},itemSearchDocument:s={}}=t;return sa.searchItemCollection({itemSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,itemSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}const SL="SEARCH_PARAMS_FORM";function RL({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=SL,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Search Params"})}),e.jsx(Ae,{children:e.jsx(yL,{form:c,onSubmit:Dx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const TL=A(q,D,jt)(RL),IL=nn(Nt.listFieldGroup,500,{leading:!0,trailing:!1}),kn=t=>new Promise((n,s)=>{IL().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{group:r=[]}=o;let i=r;t&&t!=="*"&&(i=r.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l.name,value:l.name}));n(a)}).catch(o=>{s(o)})}),gr=()=>e.jsxs(F,{container:!0,children:[e.jsx(F,{item:!0,sm:10,children:e.jsx(d,{name:"value",component:m,fullWidth:!0})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(T,{control:e.jsx(d,{name:"noescape",component:E}),label:"No Escape"})})]}),Mi=()=>e.jsxs(F,{container:!0,children:[e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"value",component:m,fullWidth:!0})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(T,{control:e.jsx(d,{name:"noescape",component:E}),label:"No Escape"})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(T,{control:e.jsx(d,{name:"minimum",component:E}),label:"Minimum"})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(T,{control:e.jsx(d,{name:"maximum",component:E}),label:"Maximum"})})]}),EL=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"value[0]",component:Mi,label:"Start",button:!0,initialDisplay:!1}),e.jsx(y,{name:"value[1]",component:Mi,label:"End"}),e.jsx(T,{control:e.jsx(d,{name:"exclusiveMinimum",component:E}),label:"Exclusive Minimum"}),e.jsx(T,{control:e.jsx(d,{name:"exclusiveMaximum",component:E}),label:"Exclusive Maximum"})]}),Sn=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"Field Name",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(w,{name:"value",component:Mi,label:"Field Value",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"range",component:EL,label:"Range",withHeader:!1,arrayHeader:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"target",children:"Target"}),e.jsxs(d,{name:"target",component:B,children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"shape",children:"Shape"}),e.jsx(g,{value:"file",children:"File"})]})]})]}),uo=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"Group Name",component:Y,loadOptions:kn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"group",component:uo,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(d,{name:"reference",component:m,fullWidth:!0})]}),br=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(d,{name:"operation",component:B,children:[e.jsx(g,{value:"AND",children:"AND"}),e.jsx(g,{value:"OR",children:"OR"}),e.jsx(g,{value:"NOT",children:"NOT"})]})]}),e.jsx(w,{name:"operator",component:br,label:"operator",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"text",component:gr,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"group",component:uo,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(d,{name:"reference",component:oe,simple:!0,fullWidth:!0})]}),Mx=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(d,{name:"operation",component:B,children:[e.jsx(g,{value:"AND",children:"AND"}),e.jsx(g,{value:"OR",children:"OR"}),e.jsx(g,{value:"NOT",children:"NOT"})]})]}),e.jsx(w,{name:"operator",component:br,label:"operator",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"group",component:uo,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(d,{name:"reference",component:oe,simple:!0,fullWidth:!0})]}),es=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"operator",label:"operator",component:br,button:!0,initialDisplay:!1}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"group",component:uo,label:"group",withHeader:!1,arrayHeader:!0})]}),Ox=()=>e.jsxs(e.Fragment,{children:[e.jsx(es,{}),e.jsx(y,{name:"file",component:es,label:"File Join",button:!0,initialDisplay:!1})]}),ya=()=>e.jsxs(e.Fragment,{children:[e.jsx(es,{}),e.jsx(y,{name:"shape",label:"Shape Join",component:Ox,button:!0,initialDisplay:!1}),e.jsx(y,{name:"file",component:es,label:"File Join",button:!0,initialDisplay:!1})]}),Lx=()=>e.jsxs(e.Fragment,{children:[e.jsx(es,{}),e.jsx(w,{name:"collection",component:Lx,label:"Collection Join",withHeader:!1,arrayHeader:!0}),e.jsx(y,{name:"item",component:ya,label:"Item Join",button:!0,initialDisplay:!1}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"relation",children:"Relation"}),e.jsxs(d,{name:"relation",component:B,children:[e.jsx(g,{value:""}),e.jsx(g,{value:"child",children:"Child"}),e.jsx(g,{value:"parent",children:"Parent"}),e.jsx(g,{value:"descendant",children:"Descendant"}),e.jsx(g,{value:"ancestor",children:"Ancestor"})]})]})]}),Nx=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"start",component:m,fullWidth:!0}),e.jsx(d,{name:"end",component:m,fullWidth:!0})]}),vL=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(d,{name:"value",component:m,fullWidth:!0}),e.jsx(y,{name:"range",label:"Range",component:Nx})]}),_x=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(w,{name:"range",component:Nx,label:"range",withHeader:!1,arrayHeader:!0}),e.jsx(d,{name:"exclude",component:oe,simple:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(d,{name:"minCount",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"maxResults",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"name",component:m,fullWidth:!0})]}),FL=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(d,{name:"order",component:B,children:[e.jsx(g,{value:"ascending",children:"Ascending"}),e.jsx(g,{value:"descending",children:"Descending"})]})]})]}),$x=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,isMulti:!0,creatable:!0}),e.jsx(T,{control:e.jsx(d,{name:"matchingOnly",component:E}),label:"Matching Only"}),e.jsx(d,{name:"prefix",component:m,fullWidth:!0}),e.jsx(d,{name:"suffix",component:m,fullWidth:!0})]}),AL=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"maximumSuggestions",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"accuracy",component:m,type:"number",fullWidth:!0})]}),PL=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"text",component:m,fullWidth:!0}),e.jsx(d,{name:"field",label:"Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(d,{name:"accuracy",component:m,type:"number",fullWidth:!0})]}),mo=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"text",component:gr,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"group",component:uo,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(y,{name:"operator",label:"operator",component:br,button:!0,initialDisplay:!1}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"intervals",children:"Intervals"}),e.jsxs(d,{name:"intervals",component:B,children:[e.jsx(g,{value:"generic",children:"Generic"}),e.jsx(g,{value:"timed",children:"Timed"}),e.jsx(g,{value:"all",children:"All"})]})]}),e.jsx(w,{name:"filter",component:Mx,label:"filter",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"facetFilter",component:vL,label:"facetFilter",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"facet",component:_x,label:"facet",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"sort",component:FL,label:"sort",withHeader:!1,arrayHeader:!0}),e.jsx(y,{name:"highlight",label:"highlight",component:$x,button:!0,initialDisplay:!1}),e.jsx(y,{name:"suggestion",label:"suggestion",component:AL,button:!0,initialDisplay:!1}),e.jsx(w,{name:"autocomplete",component:PL,label:"autocomplete",withHeader:!1,arrayHeader:!0}),e.jsx(d,{name:"version",component:m,fullWidth:!0,type:"number"}),e.jsx(d,{name:"reference",component:m,fullWidth:!0,type:"string"}),e.jsx(w,{name:"collection",label:"collection join",component:Lx,button:!0,initialDisplay:!1}),e.jsx(y,{name:"item",label:"item join",component:ya,button:!0,initialDisplay:!1}),e.jsx(y,{name:"shape",label:"shape join",component:Ox,button:!0,initialDisplay:!1}),e.jsx(y,{name:"file",label:"file join",component:es,button:!0,initialDisplay:!1})]});function DL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"itemSearchDocument",component:mo}),e.jsx("button",{type:"submit",hidden:!0})]})}const Sa=v()(DL),ML="SEARCH_FORM";function OL({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=ML,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Search Document"})}),e.jsx(U,{children:e.jsx(Sa,{form:c,onSubmit:Dx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const LL=A(q,D,jt)(OL),zc=({orderBy:t,orderDirection:n,onChangeOrder:s,name:o})=>s?e.jsx(O,{children:e.jsx(gt,{active:t===o,direction:n||void 0,onClick:s(o),children:ie(o)})}):e.jsx(O,{children:ie(o)}),NL=(t,n)=>{var o;const s=(o=t==null?void 0:t.terse)==null?void 0:o[n];return Array.isArray(s)?s.map(({value:i})=>i).filter(i=>i!==void 0).join(", "):s==null?void 0:s.value},kx=({itemType:t,terse:n,fieldList:s,children:o})=>e.jsxs(Ge,{to:`/item/${t.id}/`,hover:!0,children:[o,e.jsx(O,{children:t.id}),n&&t.terse&&s.map(r=>e.jsx(O,{children:NL(t,r)},r))]});function _L({itemListDocument:t,queryParams:n={},onChangePage:s,onChangeRowsPerPage:o,rowsPerPageOptions:r,page:i,rowsPerPage:a,onChangeOrder:l,orderBy:c,orderDirection:u}){if(t===void 0)return null;const{item:p=[],hits:x=0}=t,{terse:j,field:C=[]}=n;let S=C;return Array.isArray(C)||(S=C.split(",")),e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(zc,{name:"itemId",onChangeOrder:l,orderBy:c,orderDirection:u}),j&&S.map(L=>e.jsx(zc,{name:L,onChangeOrder:l,orderBy:c,orderDirection:u},L))]})}),e.jsx(de,{children:p.map(L=>e.jsx(kx,{itemType:L,terse:j,fieldList:S},L.id))}),s&&o&&e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:x,page:i,rowsPerPage:a,onPageChange:s,onRowsPerPageChange:o,ActionsComponent:St,rowsPerPageOptions:r})})})]})})}const _r=({orderBy:t,orderDirection:n,onChangeOrder:s,name:o})=>s?e.jsx(O,{children:e.jsx(gt,{active:t===o,direction:n||void 0,onClick:s(o),children:ie(o)})}):e.jsx(O,{children:ie(o)}),$L=(t,n)=>{var o;const s=(o=t==null?void 0:t.terse)==null?void 0:o[n];return Array.isArray(s)?s.map(({value:i})=>i).filter(i=>i!==void 0).join(", "):s==null?void 0:s.value},Wx=({collectionType:t,terse:n,fieldList:s,withName:o=!0,children:r})=>e.jsxs(Ge,{to:`/collection/${t.id}/`,hover:!0,children:[r,e.jsx(O,{children:t.id}),o&&e.jsx(O,{children:t.name}),n&&t.terse&&s.map(i=>e.jsx(O,{children:$L(t,i)},i))]});function kL({collectionListDocument:t,queryParams:n={},onChangePage:s,onChangeRowsPerPage:o,rowsPerPageOptions:r,page:i,rowsPerPage:a,onChangeOrder:l,orderBy:c,orderDirection:u}){if(t===void 0)return null;const{collection:p=[],hits:x=0}=t,{terse:j,field:C=[]}=n;let S=C;return Array.isArray(C)||(S=C.split(",")),e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(_r,{name:"collectionId",onChangeOrder:l,orderBy:c,orderDirection:u}),e.jsx(_r,{name:"name",onChangeOrder:l,orderBy:c,orderDirection:u}),j&&S.map(L=>e.jsx(_r,{name:L,onChangeOrder:l,orderBy:c,orderDirection:u},L))]})}),e.jsx(de,{children:p.map(L=>e.jsx(Wx,{collectionType:L,fieldList:S,terse:j},L.id))}),s&&o&&e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:x,page:i,rowsPerPage:a,onPageChange:s,onRowsPerPageChange:o,ActionsComponent:St,rowsPerPageOptions:r})})})]})})}const $r=({orderBy:t,orderDirection:n,onChangeOrder:s,name:o})=>s?e.jsx(O,{children:e.jsx(gt,{active:t===o,direction:n||void 0,onClick:s(o),children:ie(o)})}):e.jsx(O,{children:ie(o)}),WL=({searchResultEntryType:t,terse:n,fieldList:s})=>{const o=e.jsx(O,{children:t.type}),r=Object.keys(t);if(r.includes("item")){const{item:i={}}=t;return e.jsx(kx,{itemType:i,terse:n,fieldList:s,children:o})}if(r.includes("collection")){const{collection:i={}}=t;return e.jsx(Wx,{collectionType:i,terse:n,fieldList:s,withName:!1,children:o})}return e.jsx(ge,{children:o})};function wL({searchResultDocument:t,queryParams:n,onChangePage:s,onChangeRowsPerPage:o,rowsPerPageOptions:r,onChangeOrder:i,orderDirection:a,orderBy:l,page:c,rowsPerPage:u}){if(t===void 0)return null;const{entry:p=[],hits:x=0}=t,{terse:j,field:C=[]}=n;let S=C;return Array.isArray(C)||(S=C.split(",")),e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx($r,{name:"type"}),e.jsx($r,{name:"id"}),j&&S.map(L=>e.jsx($r,{name:L,onChangeOrder:i,orderBy:l,orderDirection:a},L))]})}),e.jsx(de,{children:p.map(L=>e.jsx(WL,{searchResultEntryType:L,terse:j,fieldList:S},L.id))}),s&&o&&e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:x,page:c,rowsPerPage:u,onPageChange:s,onRowsPerPageChange:o,ActionsComponent:St,rowsPerPageOptions:r})})})]})})}const Rt=t=>n=>e.jsx(N,{children:e.jsx(U,{children:e.jsx(t,{...n})})}),UL=t=>class extends I.PureComponent{constructor(n){super(n),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this);const{page:s=0,rowsPerPage:o=10,orderBy:r,orderDirection:i}=n;this.state={page:s,rowsPerPage:o,orderBy:r,orderDirection:i}}onChangeRowsPerPage({target:{value:n}}={}){const{onChangeRowsPerPage:s}=this.props,o=0;this.setState({page:o,rowsPerPage:n}),s&&s({page:o,rowsPerPage:n})}onChangePage({page:n}){const{onChangePage:s}=this.props,{rowsPerPage:o}=this.state;this.setState({page:n}),s&&s({page:n,rowsPerPage:o})}onChangeOrder(n){return()=>{const{onChangeOrder:s}=this.props,{orderDirection:o,orderBy:r}=this.state;let i="",a="";n!==r?(a=n,i="desc"):o==="desc"&&(a=n,i="asc");const l=0;this.setState({orderBy:a,orderDirection:i,page:l}),s&&s({orderBy:a,orderDirection:i,page:l})}}render(){const{page:n,rowsPerPage:s,orderBy:o,orderDirection:r}=this.state,i=[10,100,250];return i.includes(s)||i.push(s),e.jsx(t,{...this.props,page:n,rowsPerPage:s,rowsPerPageOptions:i,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:o,orderDirection:r,onChangeOrder:this.onChangeOrder})}},VL=t=>class extends I.PureComponent{constructor(n){super(n),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{orderBy:o="",orderDirection:r=""}=s;let{first:i=1,number:a=10}=s;Number.isInteger(i)||(i=parseInt(i,10)),(Number.isNaN(i)||i<=0)&&(i=1),Number.isInteger(a)||(a=parseInt(a,10)),(Number.isNaN(a)||a<=0)&&(a=10);const l=Math.floor((i-1)/a);this.state={page:l,rowsPerPage:a,orderBy:o,orderDirection:r}}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}async onChangeRowsPerPage({rowsPerPage:n}){const{changeForm:s,firstField:o="queryParams.first",numberField:r="queryParams.number",submitForm:i,form:a}=this.props,l=1;s(a,o,l),await s(a,r,n),this.onSetUrlParams({first:l,number:n}),i(a)}async onChangePage({page:n,rowsPerPage:s}){const{formValues:o={},changeForm:r,firstField:i="queryParams.first",numberField:a="queryParams.number",submitForm:l,form:c}=this.props,{queryParams:u={}}=o,{number:p=s}=u,x=n*p+1;r(c,i,x),await r(c,a,p),this.onSetUrlParams({first:x,number:p}),l(c)}async onChangeOrder({orderBy:n,orderDirection:s}){const{changeForm:o,submitForm:r,sortField:i="itemSearchDocument.sort",firstField:a="queryParams.first",form:l}=this.props;let c=[];if(n){const p=`${s}ending`;c=[{field:n,order:p}]}const u=1;o(l,i,c),await o(l,a,u),this.onSetUrlParams({orderDirection:s,orderBy:n,first:u}),r(l)}render(){const{page:n,rowsPerPage:s,orderBy:o,orderDirection:r}=this.state;return e.jsx(t,{page:n,rowsPerPage:s,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:o,orderDirection:r,onChangeOrder:this.onChangeOrder,...this.props})}},Wn=A(et,D,VL,UL),yo="SEARCH_FORM",GL=A(Rt,Wn)(wL);class qL extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:c}},this.state={searchResultDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Search",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(yo)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({searchResultDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{searchResultDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Search",helpTo:"/ref/search.html",onRefresh:this.onRefresh,code:n,codeModal:"SearchResultDocument"}),e.jsxs(F,{container:!0,spacing:1,children:[e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(LL,{form:yo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(TL,{form:yo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(GL,{searchResultDocument:n,queryParams:s,form:yo})]})}}const HL=A(D)(qL),JL=()=>e.jsxs(F,{container:!0,spacing:8,children:[e.jsx(F,{item:!0,sm:10,children:e.jsx(d,{name:"value",component:m,fullWidth:!0})}),e.jsx(F,{item:!0,sm:2,children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"mode",children:"Mode"}),e.jsxs(d,{name:"mode",component:B,children:[e.jsx(g,{value:"add",children:"Add"}),e.jsx(g,{value:"remove",children:"Remove"})]})]})})]}),wx=()=>e.jsxs(F,{container:!0,spacing:8,children:[e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"name",label:"Field Name",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0})}),e.jsx(F,{item:!0,sm:6,children:e.jsx(w,{name:"value",label:"value",withHeader:!1,direction:"row",component:JL})})]}),Ux=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"Group Name",component:Y,loadOptions:kn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(w,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:wx}),e.jsx(w,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:Ux})]}),zL=()=>e.jsxs(e.Fragment,{children:[e.jsxs(F,{container:!0,spacing:8,children:[e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"start",component:m,fullWidth:!0})}),e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"end",component:m,fullWidth:!0})})]}),e.jsx(w,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:wx}),e.jsx(w,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:Ux})]}),ms=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"timespan",label:"timespan",arrayHeader:!0,withHeader:!1,hover:!1,removeLabel:!0,component:zL})});function BL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataDocument",component:ms}),e.jsx("button",{type:"submit",hidden:!0})]})}const cn=v()(BL),Bs="text",Oi="smpte",Li="seconds",KL="PAL",YL="NTSC",XL="NTSC30",QL="23.98",ZL="24";function Bc({to:t,from:n,value:s,toOptions:o,fromOptions:r,conform:i}){if(t===n)return s;let a;switch(n){case Bs:a=Bg(s,r);break;case Li:a=zg(s,r);break;case Oi:a=Jg(s,r);break;default:return s}switch(i&&(a=a.conformTimeBase(i)),t){case Bs:return a.toText(o);case Li:return a.toSeconds(o);case Oi:return a.toSmpte(o);default:return s}}const Ra=({value:t={},onEdit:n})=>{const{value:s=[]}=t,r=n&&!t.name.startsWith("__")&&t.inheritance===void 0?(i,a)=>n({field:[{name:t.name,uuid:t.uuid,value:[{uuid:a.uuid,value:i}]}]}):void 0;return e.jsx(_t,{title:t.name,value:s,variant:"metadataFieldValue",titleStartCase:!1,titleGridProps:{xl:2},titleTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},valueTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},hover:!0,onEdit:r})},Ta=({value:t={},onEdit:n})=>{const o=n&&t.inheritance===void 0?r=>n({group:[{name:t.name,uuid:t.uuid,...r}]}):void 0;return e.jsxs("div",{style:{marginLeft:10},children:[e.jsx(te,{arrayTitle:"Fields",value:t.field,component:Ra,titleStartCase:!1,hideNoValue:!0,onEdit:o}),e.jsx(te,{arrayTitle:"Groups",title:"Group",titleKey:"name",value:t.group,component:Ta,titleStartCase:!1,hideNoValue:!0,onEdit:o})]})},eN=({value:t={},timeRepresentation:n,onEdit:s})=>{const{start:o,end:r,field:i,group:a}=t,l=Bc({from:Bs,to:n==null?void 0:n.to,conform:n==null?void 0:n.conform,value:o}),c=Bc({from:Bs,to:n==null?void 0:n.to,conform:n==null?void 0:n.conform,value:r}),u=s?p=>s({timespan:[{start:o,end:r,...p}]}):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:`Start: ${l}`,value:`End: ${c}`,titleStartCase:!1,titleTypographyProps:{variant:"subtitle2",color:"textPrimary"}}),e.jsx(te,{arrayTitle:"Fields",value:i,component:Ra,titleStartCase:!1,hideNoValue:!0,onEdit:u}),e.jsx(te,{arrayTitle:"Groups",title:"Group",titleKey:"name",value:a,component:Ta,titleStartCase:!1,hideNoValue:!0,onEdit:u})]})},Vx=({value:t={},timeRepresentation:n,onEdit:s})=>e.jsx(e.Fragment,{children:e.jsx(te,{arrayTitle:"Timespans",value:t.timespan,dense:!0,component:eN,timeRepresentation:n,onEdit:s})});function Cr({metadataDocument:t,timeRepresentation:n,onEdit:s}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:Vx,timeRepresentation:n,onEdit:s})})}const tN=["user","itemId"];function nN(t){const{value:n}=t;return{value:n}}function Gx(t,n){const{name:s,value:o=[]}=n;if(s.startsWith("__")||tN.includes(s))return t;const r=o.map(nN);return t.push({name:s,value:r}),t}function qx(t){const{name:n,field:s=[],group:o=[]}=t,r=s.reduce(Gx,[]),i=o.map(qx);return{name:n,field:r,group:i}}function sN(t){const{start:n,end:s,field:o=[],group:r=[]}=t,i=o.reduce(Gx,[]),a=r.map(qx);return{start:n,end:s,field:i,group:a}}function oN(t){if(t===void 0)return{};const{timespan:n=[]}=t;return{timespan:n.map(sN)}}function rN({metadataDocument:t,openSnackBar:n,onSubmit:s,onSuccess:o,onFail:r,title:i,timeRepresentation:a,onQuickEdit:l,...c}){const u="EDIT_METADATA_FORM",p=(C,S,L)=>{n({messageContent:"Metadata Updated"}),o&&o(C,S,L)},x=(C,S,L)=>{n({messageContent:"Error Updating Metadata",messageColor:"secondary"}),r&&r(C,S,L)},j=oN(t);return e.jsx(_e,{title:i,formName:u,onSubmitSuccess:p,onSubmitFail:x,onSubmit:s,displayProps:{metadataDocument:t,timeRepresentation:a,onEdit:l},initialValues:{metadataDocument:j},formComponent:cn,displayComponent:Cr,formProps:c})}const Hx=q(rN);function iN(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Ne.createExport({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function aN(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Ne.createExportImp({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function lN(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Ne.removeItem({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function cN(t,n,s){const{metadataDocument:o={},queryParams:r}=t,i=s.itemId||t.itemId;return Ne.updateItemMetadata({itemId:i,metadataDocument:o,queryParams:r}).then(a=>({itemId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function Jx(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.headers||t.headers;return Ne.getItemMetadata({itemId:r,queryParams:o,headers:i}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function dN(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return Mt.listEntityMetadataChange({entity:"item",entityId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function uN(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return Ne.getItem({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function zx(t){const{queryParams:n={},itemSearchDocument:s={}}=t;return Ne.searchItem({itemSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,itemSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function mN(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return Ne.getItemUri({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function hN(t,n,s){const{queryParams:o={},headers:r={}}=t,i={accept:"application/json",...r},{accept:a}=i,l=a.toLowerCase()==="application/json";l&&(i.accept="application/xml");const c=s.itemId||t.itemId,u=`/API/item/${c}/thumbnail/spritesheet`;return Ne.getItem({itemId:c,path:u,params:o,headers:i}).then(p=>l?Zo.echo({xmlDocument:p.data}):Promise.resolve(p)).then(p=>({itemId:c,...p})).catch(p=>{let x=p.message;throw p.response&&(x=JSON.stringify(p.response.data,(j,C)=>C===null?void 0:C)),new _({_error:x})})}function pN(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return Ne.createTranscode({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function xN(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return Ne.createThumbnail({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function jN(t,n,s){const o=s.itemId||t.itemId,{queryParams:r={}}=t,{relationMetadata:i=[],...a}=r;return i.forEach(l=>{a[l.key]=l.value}),Ne.listItemRelation({itemId:o,queryParams:a}).then(l=>({itemId:o,...l})).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function fN(t,n,s){const o=s.itemId||t.itemId,r=s.relationItemId||t.relationItemId,{queryParams:i={}}=t,{relationMetadata:a=[],...l}=i;return a.forEach(c=>{l[c.key]=c.value}),Ne.createItemRelation({itemId:o,relationItemId:r,queryParams:l}).then(c=>({itemId:o,...c})).catch(c=>{let u=c.message;throw c.response&&(u=JSON.stringify(c.response.data,(p,x)=>x===null?void 0:x)),new _({_error:u})})}function gN(t,n,s){const o=s.relationId||t.relationId,{queryParams:r={}}=t,{relationMetadata:i=[],...a}=r;return i.forEach(l=>{a[l.key]=l.value}),Ne.updateRelation({relationId:o,queryParams:a}).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function bN(t,n,s){const{analyzeJobDocument:o={},queryParams:r}=t,i=s.itemId||t.itemId;return Ne.createItemAnalyze({itemId:i,queryParams:r,analyzeJobDocument:o}).then(a=>({itemId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}const Bx=Ye(t=>{const{metadataGroupSearchDocument:n,queryParams:s}=t;return Ne.searchItemMetadataGroup({queryParams:s,metadataGroupSearchDocument:n}).then(o=>({queryParams:s,metadataGroupSearchDocument:n,...o}))});function CN({metadataListDocument:t,...n}){if(t===void 0)return null;const{item:s=[]}=t;if(s.length!==1)return null;const o=s[0]||{},{metadata:r={}}=o;return e.jsx(Hx,{onSubmit:cN,metadataDocument:r,...n})}function yN({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(CN,{...t})})})}const SN=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(d,{name:"group",component:Y,loadOptions:kn,cacheOptions:!0,isClearable:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(d,{name:"interval",component:m,fullWidth:!0}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"language",component:m,fullWidth:!0}),e.jsx(d,{name:"samplerate",component:m,fullWidth:!0}),e.jsx(d,{name:"revision",component:m,fullWidth:!0}),e.jsx(d,{name:"include",component:m,fullWidth:!0}),e.jsx(d,{name:"from",component:m,fullWidth:!0}),e.jsx(d,{name:"to",component:m,fullWidth:!0}),e.jsx(d,{name:"includeConstraintValue",component:m,fullWidth:!0}),e.jsx(d,{name:"includeExtraData",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(T,{control:e.jsx(d,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(T,{control:e.jsx(d,{name:"starttc",component:E}),label:"Start TC"}),e.jsx(T,{control:e.jsx(d,{name:"terse",component:E}),label:"Terse"}),e.jsx(T,{control:e.jsx(d,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"})]});function RN({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:SN})]})}const TN=v()(RN),kr="METADATA_DISPLAY_FORM";function IN({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{o({messageContent:"Display Updated"}),n&&n(u,p,x)},c=(u,p,x)=>{o({messageContent:"Error Updating Display",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Metadata Display Options"})}),e.jsx(Ae,{children:e.jsx(TN,{form:kr,onSubmit:t,onSubmitSuccess:l,onSubmitFail:c,...a})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(kr),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(kr),children:"Update"})]})]})}const Kx=A(q,D)(IN);function EN({...t}){return e.jsx(Kx,{onSubmit:Jx,...t})}function vN({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsxs(z,{component:"fieldset",children:[e.jsx(yi,{component:"legend",children:"Display"}),e.jsxs(d,{name:"to",component:Ti,children:[e.jsx(T,{value:Bs,control:e.jsx(It,{}),label:"Text"}),e.jsx(T,{value:Oi,control:e.jsx(It,{}),label:"SMPTE"}),e.jsx(T,{value:Li,control:e.jsx(It,{}),label:"Seconds"})]})]}),e.jsxs(z,{component:"fieldset",children:[e.jsx(yi,{component:"legend",children:"Conform"}),e.jsxs(d,{name:"conform",component:Ti,children:[e.jsx(T,{value:"",control:e.jsx(It,{}),label:"As Original"}),e.jsx(T,{value:KL,control:e.jsx(It,{}),label:"PAL"}),e.jsx(T,{value:YL,control:e.jsx(It,{}),label:"NTSC"}),e.jsx(T,{value:XL,control:e.jsx(It,{}),label:"NTSC30"}),e.jsx(T,{value:QL,control:e.jsx(It,{}),label:"23.98"}),e.jsx(T,{value:ZL,control:e.jsx(It,{}),label:"24"})]})]}),e.jsxs(z,{component:"fieldset",children:[e.jsx(d,{name:"conform.denominator",component:m,label:"Denominator",type:"number",parse:Ka}),e.jsx(d,{name:"conform.numerator",component:m,label:"Numerator",type:"number",parse:Ka})]})]})}const FN=v()(vN),AN="TIME_REPRESENTATION_FORM";function PN({onSuccess:t,onFail:n,openSnackBar:s,submitForm:o,resetForm:r,formName:i=AN,...a}){const l=(u,p,x)=>{s({messageContent:"Time Representation Updated"}),t&&t(u,p,x)},c=(u,p,x)=>{s({messageContent:"Error Updating Time Representation",messageColor:"secondary"}),n&&n(u,p,x)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Time Representation Options"})}),e.jsx(Ae,{children:e.jsx(FN,{form:i,onSubmitSuccess:l,onSubmitFail:c,...a})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const Yx=A(q,D)(PN);class DN extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSubmitTimeRepresentation=this.onSubmitTimeRepresentation.bind(this),this.onQuickEdit=this.onQuickEdit.bind(this),this.onQuickEditError=this.onQuickEditError.bind(this),this.state={metadataListDocument:void 0,timeRepresentation:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{Ne.getItemMetadata({itemId:n}).then(s=>this.setState({metadataListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}onQuickEditError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Updating Item",messageColor:"secondary"})}onQuickEdit(n){const{itemId:s}=this.props;try{return Ne.updateItemMetadata({itemId:s,metadataDocument:n}).then(()=>Ne.getItemMetadata({itemId:s})).then(o=>this.setState({metadataListDocument:o.data})).catch(o=>{throw this.onQuickEditError(o),o})}catch(o){throw this.onQuickEditError(o),o}}onSubmitTimeRepresentation(n){this.setState({timeRepresentation:n})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataListDocument:i,timeRepresentation:a}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataListDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(EN,{itemId:n,onSuccess:l=>this.setState({metadataListDocument:l.data})}),e.jsx(Yx,{onSubmit:this.onSubmitTimeRepresentation}),i&&e.jsx(yN,{itemId:n,metadataListDocument:i,timeRepresentation:a,onSuccess:this.onRefresh,onQuickEdit:this.onQuickEdit})]})}}const Xx=q(DN),MN=()=>e.jsx(e.Fragment,{children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Entity Type"}),e.jsxs(d,{name:"type",component:B,validate:[Z],children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"collection",children:"Collection"}),e.jsx(g,{value:"library",children:"Library"})]})]})});function ON({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"collectionId",label:"Collection ID",component:m,fullWidth:!0}),e.jsx(d,{name:"entityId",label:"Entity ID",component:m,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:MN})]})}const LN=v()(ON);function NN(t,n,s){const{metadataDocument:o={},queryParams:r}=t,i=s.collectionId||t.collectionId;return Xe.updateCollectionMetadata({collectionId:i,metadataDocument:o,queryParams:r}).then(a=>({collectionId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function _N(t,n,s){const{queryParams:o={}}=t,r=s.collectionId||t.collectionId;return Xe.getCollectionMetadata({collectionId:r,queryParams:o}).then(i=>({collectionId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function $N(t,n,s){const{queryParams:o={}}=t,r=s.collectionId||t.collectionId;return Mt.listEntityMetadataChange({entity:"collection",entityId:r,queryParams:o}).then(i=>({collectionId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function kN(t,n,s){const{queryParams:o={}}=t,r=s.collectionId||t.collectionId;return Xe.getCollection({collectionId:r,queryParams:o}).then(i=>({collectionId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function Qx(t){const{queryParams:n={},itemSearchDocument:s={}}=t;return Xe.searchCollection({itemSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,itemSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function Ni(t){const{queryParams:n={},collectionDocument:s={}}=t;return Xe.createCollection({collectionDocument:s,queryParams:n}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function WN(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId;return Xe.renameCollection({collectionId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function wN(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId,i=s.entityId||t.entityId;return Xe.addCollectionEntity({collectionId:r,entityId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function UN(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId,i=s.entityId||t.entityId;return Xe.removeCollectionEntity({collectionId:r,entityId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function VN(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId;return Xe.getCollection({collectionId:r,queryParams:o,path:`/API/collection/${r}/export`,method:"POST"}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function GN(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId;return Xe.updateFolderCollection({collectionId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const Kc="COLLECTION_ENTITY_REMOVE_FORM";function qN({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,collectionId:a,entityId:l,entityType:c}){const u=(x,j,C)=>{r({messageContent:"Collection Entity Removed"}),o&&o(x,j,C),s()},p=(x,j,C)=>{r({messageContent:"Error Removing Collection Entity",messageColor:"secondary"}),i&&i(x,j,C)};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove Entity From Collection"}),e.jsx(X,{children:e.jsx(LN,{onSubmit:UN,onSubmitSuccess:u,onSubmitFail:p,form:Kc,collectionId:a,entityId:l,initialValues:{entityId:l,collectionId:a,queryParams:{type:c}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>t(Kc),children:"Remove"})]})]})}const Zx=A(P,D)(qN),HN=["__collection","__ancestor_collection","__parent_collection"],Yc="REMOVE_COLLECTION_ENTITY_DIALOG",Xc="Parent",JN="Ancestor";function zN({metadataDocument:t={},onSuccess:n,dialogProps:s,entityType:o,entityId:r,onOpen:i}){const a=[],{timespan:l=[]}=t,c=l.find(p=>p.start==="-INF"&&p.end==="+INF");if(c){const{field:p=[]}=c;p.forEach(x=>{if(HN.includes(x.name)){const{value:j=[]}=x,C=j.find(S=>S.value);if(C){const S=x.name==="__collection"||x.name==="__parent_collection"?Xc:JN;a.push({relation:S,id:C.value})}}})}const u=i(Yc);return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"ID"}),e.jsx(O,{children:"Type"}),e.jsx(O,{})]})}),e.jsx(de,{children:a.map(p=>e.jsxs(ge,{hover:!0,children:[e.jsx(O,{children:e.jsx(fe,{to:`/collection/${p.id}/`,children:p.id})}),e.jsx(O,{children:e.jsx(fe,{to:`/collection/${p.id}/`,children:p.relation})}),e.jsx(O,{children:p.relation===Xc?e.jsx(Q,{size:"small",onClick:()=>u({collectionId:p.id}),children:e.jsx(Be,{})}):null})]},`${p.relation}_${p.id}`))})]}),e.jsx(Zx,{dialogName:Yc,onSuccess:n,entityType:o,entityId:r,...s})]})}const ej=st(zN);function BN({metadataListDocument:t,...n}){if(t===void 0)return null;const{item:s=[]}=t;if(s.length!==1)return null;const o=s[0]||{},{metadata:r={}}=o;return e.jsx(ej,{metadataDocument:r,...n})}function KN(t){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(BN,{...t})})})}class YN extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const s={field:"__collection,__ancestor_collection,__parent_collection"};try{Ne.getItemMetadata({itemId:n,queryParams:Object.entries(s)}).then(o=>this.setState({metadataListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o,itemId:r}=this.props,{metadataListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"MetadataListDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),i&&e.jsx(KN,{metadataListDocument:i,onSuccess:this.onRefresh,entityType:"item",entityId:r})]})}}const XN=q(YN),QN=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"placeholder",children:"Placeholder"}),e.jsxs(d,{name:"placeholder",component:B,children:[e.jsx(g,{value:"all",children:"All"}),e.jsx(g,{value:"true",children:"True"}),e.jsx(g,{value:"false",children:"False"})]})]}),e.jsx(d,{name:"version",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"url",component:E}),label:"Show URL"})]});function ZN({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:QN})]})}const e_=v()(ZN);function Qc(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return De.createShapeEssenceImport({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function t_(t,n,s){const{queryParams:o,shapeDocument:r={}}=t,i=s.itemId||t.itemId;return De.createShape({itemId:i,queryParams:o,shapeDocument:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function Zc(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return De.createShapeImport({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function n_(t,n,s){const{queryParams:o,simpleMetadataDocument:r={}}=t,i=s.itemId||t.itemId;return De.createShapePlaceholder({itemId:i,metadataDocument:r,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function s_(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return De.createShapeImportImp({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function o_(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return De.listShape({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function r_(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return De.getShape({itemId:r,shapeId:i,queryParams:o}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function i_(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return De.getShape({itemId:r,shapeId:i,queryParams:o,path:`/API/item/${r}/shape/${i}/file`}).then(a=>({itemId:r,shapeId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function a_(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return De.removeShape({itemId:r,shapeId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function l_(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return De.removeShapeAll({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function c_(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return De.createTranscode({itemId:r,shapeId:i,queryParams:o}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function d_(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return De.createDeduction({itemId:r,shapeId:i,queryParams:o}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function u_(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.tagName||t.tagName;return De.updateShapeTag({itemId:o,shapeId:r,tagName:i}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function m_(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.mimeType||t.mimeType;return De.updateShapeMime({itemId:o,shapeId:r,mimeType:encodeURIComponent(i)}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function h_(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,{queryParams:i,simpleMetadataDocument:a}=t;return De.updateShapePlaceholder({itemId:o,shapeId:r,queryParams:i,simpleMetadataDocument:a}).then(l=>({itemId:o,...l})).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function p_(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.tagName||t.tagName;return De.removeShapeTag({itemId:o,shapeId:r,tagName:i}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function x_(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.mimeType||t.mimeType;return De.removeShapeMime({itemId:o,shapeId:r,mimeType:encodeURIComponent(i)}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function j_(t,n,s){const{analyzeJobDocument:o={},queryParams:r}=t,i=s.itemId||t.itemId,a=s.shapeId||t.shapeId;return De.createShapeAnalyze({itemId:i,shapeId:a,queryParams:r,analyzeJobDocument:o}).then(l=>({itemId:i,...l})).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function f_(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return De.createTranscode({itemId:r,shapeId:i,queryParams:o,path:`/API/item/${r}/shape/${i}/export`,method:"POST"}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function g_(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return De.createTranscode({itemId:r,shapeId:i,queryParams:o,path:`/API/item/${r}/shape/${i}/export/imp`,method:"POST"}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}const Wr="SHAPE_LIST_PARAMS_FORM";function b_({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const c=(p,x,j)=>{o({messageContent:"Shape List Display Updated"}),n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Shape List Display",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Shape List Display Options"})}),e.jsx(Ae,{children:e.jsx(e_,{form:Wr,onSubmit:o_,onSubmitSuccess:c,onSubmitFail:u,itemId:a,...l})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(Wr),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Wr),children:"Update"})]})]})}const C_=A(q,D)(b_);class y_ extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const s={placeholder:"all"};try{De.listShape({itemId:n,queryParams:s}).then(o=>this.setState({uriListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(C_,{itemId:n,onSuccess:a=>this.setState({uriListDocument:a.data})}),i&&e.jsx(Et,{uriListDocument:i,linkTo:a=>`/item/${n}/shape/${a}/`})]})}}const S_=q(y_),Mo="ITEM_PARAMS_FORM";function R_({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const c=(p,x,j)=>{n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Item Display",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(ye,{defaultExpanded:!0,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item Display Options"})}),e.jsx(Ae,{children:e.jsx(gL,{form:Mo,onSubmit:uN,onSubmitSuccess:c,onSubmitFail:u,itemId:a,...l})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(Mo),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Mo),children:"Update"})]})]})}const T_=A(q,D)(R_);function I_({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(Cr,{...t})})})}const E_=new URLSearchParams({content:"metadata",field:["title","originalFilename"],terse:!0}),He={itemList:t=>qe(`/item/?${E_.toString()}`,t),item:t=>qe("/item/:itemId",t),shapeList:t=>qe("/item/:itemId/shape/",t),shape:t=>qe("/item/:itemId/shape/:shapeId",t),componentList:t=>qe("/item/:itemId/shape/:shapeId/component/",t),component:t=>qe("/item/:itemId/shape/:shapeId/component/:componentId/",t),itemVersionList:t=>qe("/item/:itemId/version/",t),itemBulkyMetadataList:t=>qe("/item/:itemId/bulky-metadata/",t),fileList:t=>qe("/file/",t),file:t=>qe("/file/:fileId",t)},v_=({shapeId:t,title:n})=>e.jsxs(F,{container:!0,alignItems:"center",children:[e.jsx(F,{item:!0,children:e.jsx(b,{variant:"h5",color:"textSecondary",children:"Shape"})}),e.jsx(F,{item:!0,children:e.jsx(Q,{disabled:!0,children:e.jsx(Bn,{})})}),e.jsx(F,{item:!0,children:e.jsx(b,{variant:"h5",children:t})}),n&&e.jsxs(e.Fragment,{children:[e.jsx(F,{item:!0,children:e.jsx(Q,{disabled:!0,children:e.jsx(Bn,{})})}),e.jsx(F,{item:!0,children:e.jsx(b,{variant:"h5",children:n})})]})]});function F_({title:t,itemId:n,shapeId:s,onOpen:o,transcodeModal:r,removeModal:i,addTagModal:a,removeTagModal:l,addMimeTypeModal:c,removeMimeTypeModal:u,analyzeTagModal:p,addComponentModal:x,exportModal:j,exportImpModal:C,deductionModal:S,placeholderUpdateModal:L,createShapeModal:ne,createPlaceholderComponentModal:Te,breadcrumbList:Ie=[],...ke}){return e.jsx(K,{breadcrumbList:Array.isArray(Ie)?[{title:"Item",to:He.itemList()},{title:n,to:He.item({itemId:n})},{title:"Shape",to:He.shapeList({itemId:n})},{title:s,to:He.shape({itemId:n,shapeId:s})},...Ie]:void 0,actionComponent:e.jsxs(pt,{children:[e.jsx(g,{onClick:()=>o({modalName:r}),children:e.jsx(b,{children:"Transcode"})}),e.jsx(g,{onClick:()=>o({modalName:S}),children:e.jsx(b,{children:"Deduction Update"})}),e.jsx(g,{onClick:()=>o({modalName:p}),children:e.jsx(b,{children:"Analyze"})}),e.jsx(g,{onClick:()=>o({modalName:x}),children:e.jsx(b,{children:"Import Component"})}),e.jsx(g,{onClick:()=>o({modalName:a}),children:e.jsx(b,{children:"Add Tag"})}),e.jsx(g,{onClick:()=>o({modalName:c}),children:e.jsx(b,{children:"Add Mime-Type"})}),e.jsx(g,{onClick:()=>o({modalName:L}),children:e.jsx(b,{children:"Update Placeholder"})}),e.jsx(g,{onClick:()=>o({modalName:j}),children:e.jsx(b,{children:"Export"})}),e.jsx(g,{onClick:()=>o({modalName:C}),children:e.jsx(b,{children:"Export IMF Package"})}),Te?e.jsx(g,{onClick:()=>o({modalName:Te}),children:e.jsx(b,{children:"Create Placeholder Component"})}):null,ne?e.jsx(g,{onClick:()=>o({modalName:ne}),children:e.jsx(b,{children:"Create Shape"})}):null,e.jsx(g,{onClick:()=>o({modalName:l}),children:e.jsx(b,{color:"secondary",children:"Remove Tag"})}),e.jsx(g,{onClick:()=>o({modalName:MimeType}),children:e.jsx(b,{color:"secondary",children:"Remove Mime-Type"})}),e.jsx(g,{onClick:()=>o({modalName:i}),children:e.jsx(b,{color:"secondary",children:"Delete"})})]}),...ke})}const tj=tt(F_),A_=({fileType:t})=>e.jsxs(ge,{hover:!0,children:[e.jsx(O,{children:e.jsx(fe,{to:`/file/${t.id}/`,children:t.id})}),e.jsx(O,{children:t.size&&t.size>-1&&so(t.size)}),e.jsx(O,{children:t.state}),e.jsx(O,{children:t.timestamp?Oe(t.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(O,{children:t.path}),e.jsx(O,{children:t.hash}),e.jsx(O,{children:e.jsx(fe,{to:`/storage/${t.storage}/`,children:t.storage})})]},t.id);function nj({value:t,hideNoValue:n,title:s="Files"}){return n&&t===void 0?null:e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"subtitle2",children:s}),e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"ID"}),e.jsx(O,{children:"Size"}),e.jsx(O,{children:"State"}),e.jsx(O,{children:"Timestamp"}),e.jsx(O,{children:"Path"}),e.jsx(O,{children:"Hash"}),e.jsx(O,{children:"Storage"})]})}),Array.isArray(t)&&e.jsx(de,{children:t.map(o=>e.jsx(A_,{fileType:o},o.id))})]})]})}const P_=({value:t={}})=>e.jsx(te,{value:t,component:({value:n})=>e.jsx(h,{title:n.key,value:n.value,titleStartCase:!1,hideNoValue:!0,hover:!0})}),yr=({value:t={},title:n="Component",hideMetadata:s=!0,...o})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:`${n} ID`,value:t.id,...o}),!s&&e.jsx(G,{title:`${n} Metadata`,value:t.metadata,component:P_,dense:!0,...o}),e.jsx(nj,{title:`${n} Files`,value:t.id!==void 0?t.file:void 0,hideNoValue:t.id===void 0,...o})]}),Ia=({value:t={},title:n="Component",...s})=>e.jsxs(e.Fragment,{children:[e.jsx(yr,{title:n,value:t,...s}),e.jsx(h,{title:"codec",value:t.codec,...s}),e.jsx(G,{title:"timeBase",component:Yn,value:t.timeBase,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"itemTrack",value:t.itemTrack,...s}),e.jsx(h,{title:"essenceStreamId",value:t.essenceStreamId,...s}),e.jsx(G,{title:"interval",component:GS,value:t.interval,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,...s}),e.jsx(h,{title:"numberOfPackets",value:t.numberOfPackets,...s}),e.jsx(h,{title:"extradata",value:t.extradata,...s}),e.jsx(h,{title:"pid",value:t.pid,...s}),e.jsx(G,{title:"duration",component:Xn,value:t.duration,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"profile",value:t.profile,...s}),e.jsx(h,{title:"level",value:t.level,...s}),e.jsx(G,{title:"startTimestamp",component:Xn,value:t.startTimestamp,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"repeatCount",value:t.repeatCount,...s}),e.jsx(h,{title:"trackOrder",value:t.trackOrder,...s}),e.jsx(h,{title:"segment",value:t.segment,...s})]}),Sr=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(te,{component:dr,dense:!0,value:t.property,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Bit_rate_mode",value:t.Bit_rate_mode,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Source",value:t.Source,hideNoValue:!0,hover:!0})]}),D_=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(yr,{title:"Container Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"duration",component:Xn,value:t.duration,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"format",value:t.format,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"subFormat",value:t.subFormat,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"firstSMPTETimecode",value:t.firstSMPTETimecode,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"startTimecode",value:t.startTimecode,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"startTimestamp",component:Xn,value:t.startTimestamp,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"roundedTimeBase",value:t.roundedTimeBase,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"dropFrame",value:t.dropFrame,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"timeCodeTimeBase",component:Yn,value:t.timeCodeTimeBase,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"mediaInfo",component:Sr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]}),M_=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(yr,{title:"Descriptor Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(te,{value:t.description,hover:!1,component:({value:n})=>e.jsx(e.Fragment,{children:e.jsx(h,{value:n.value,variant:"xml",title:n.type,hideCode:!0})})})]}),O_=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(yr,{title:"Binary Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"format",value:t.format,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"encoding",value:t.encoding,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"offset",value:t.offset,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"length",value:t.length,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"mediaInfo",component:Sr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]}),L_=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(Ia,{title:"Audio Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"channelCount",value:t.channelCount,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"channelLayout",value:t.channelLayout,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"sampleFormat",value:t.sampleFormat,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"frameSize",value:t.frameSize,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"blockAlign",value:t.blockAlign,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"mediaInfo",component:Sr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]}),N_=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(Ia,{title:"Video Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"resolution",component:VS,value:t.resolution,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"pixelFormat",value:t.pixelFormat,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"maxBFrames",value:t.maxBFrames,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"pixelAspectRatio",component:rl,value:t.pixelAspectRatio,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"fieldOrder",value:t.fieldOrder,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"codecTimeBase",component:Yn,value:t.codecTimeBase,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"averageFrameRate",component:Yn,value:t.averageFrameRate,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"realBaseFrameRate",component:Yn,value:t.realBaseFrameRate,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"displayWidth",component:Fs,value:t.displayWidth,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"displayHeight",component:Fs,value:t.displayHeight,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"displayXOffset",component:Fs,value:t.displayXOffset,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"displayYOffset",component:Fs,value:t.displayYOffset,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"containerSAR",component:rl,value:t.containerSAR,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colr_primaries",value:t.colr_primaries,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colr_transfer_function",value:t.colr_transfer_function,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colr_matrix",value:t.colr_matrix,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"max_packet_size",value:t.max_packet_size,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"startTimecode",value:t.startTimecode,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"dropFrame",value:t.dropFrame,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"ticks_per_frame",value:t.ticks_per_frame,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"bitDepth",value:t.bitDepth,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"bitsPerPixel",value:t.bitsPerPixel,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colorPrimaries",value:t.colorPrimaries,hideNoValue:!0,hover:!0}),e.jsx(G,{title:"mediaInfo",component:Sr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]}),__=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(Ia,{title:"Subtitle Component",value:t,hideNoValue:!0,hover:!0})}),$_=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"created",value:t.created,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"essenceVersion",value:t.essenceVersion,hideNoValue:!0,hover:!0}),e.jsx(_t,{title:"tag",value:t.tag,hideNoValue:!0,hover:!0}),e.jsx(_t,{title:"mimeType",value:t.mimeType,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"uuid",value:t.uuid,hideNoValue:!0,hover:!0})]});function k_({shapeDocument:t={},itemId:n,shapeId:s,onRefresh:o}){if(t===void 0)return null;const{metadata:r}=t;return e.jsxs(N,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:`Shape - ${s}`})}),e.jsxs(U,{children:[e.jsx($_,{value:t}),e.jsx($n,{simpleMetadataDocument:r,title:"Shape Metadata",titleProps:{variant:"subtitle2"},onSuccess:o,entityType:"item",entityId:`${n}/shape/${s}`})]})]})}const W_=t=>({CardHeader:{paddingTop:0,paddingLeft:0},CardContent:{padding:t.spacing(1)}});function w_({metadata:t,componentId:n,itemId:s,shapeId:o,onRefresh:r,...i}){const a=s!==void 0||o!==void 0||n!==void 0?`${s}/shape/${o}/component/${n}`:void 0;return e.jsx($n,{simpleMetadataDocument:{field:t},titleProps:{variant:"subtitle2"},onSuccess:r,entityType:"item",entityId:a,...i})}const hs=Ce(W_)(w_);function U_({itemId:t,shapeId:n,componentId:s,onOpen:o,analyzeModal:r,removeModal:i,removeFileModal:a,associateFileModal:l,moveToShapeModal:c,copyToShapeModal:u,moveToComponentModal:p,copyToComponentModal:x}){return e.jsxs(pt,{children:[e.jsx(g,{component:fe,to:`/item/${t}/shape/${n}/component/${s}/`,children:e.jsx(b,{children:"Go To Component"})}),r?e.jsx(g,{onClick:()=>o({modalName:r,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{children:"Analyze"})}):null,l?e.jsx(g,{onClick:()=>o({modalName:l,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{children:"Associate File"})}):null,c?e.jsx(g,{onClick:()=>o({modalName:c,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{children:"Move To Shape"})}):null,u?e.jsx(g,{onClick:()=>o({modalName:u,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{children:"Copy To Shape"})}):null,p?e.jsx(g,{onClick:()=>o({modalName:p,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{children:"Move To Component"})}):null,x?e.jsx(g,{onClick:()=>o({modalName:x,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{children:"Copy To Component"})}):null,a?e.jsx(g,{onClick:()=>o({modalName:a,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{color:"secondary",children:"Unassociate File"})}):null,i?e.jsx(g,{onClick:()=>o({modalName:i,itemId:t,shapeId:n,componentId:s}),children:e.jsx(b,{color:"secondary",children:"Delete Component"})}):null]})}const ps=tt(U_);function sj({shapeDocument:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){const{containerComponent:i}=t;if(i===void 0)return null;const{id:a,metadata:l}=i;return e.jsxs(N,{children:[e.jsx(le,{disableTypography:!0,title:a?e.jsx(b,{variant:"subtitle1",children:`Container Component - ${a}`}):"Container Component",action:a?e.jsx(ps,{componentId:a,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(U,{children:[e.jsx(D_,{value:i}),e.jsx(hs,{title:"Container Component Metadata",metadata:l,onRefresh:o,itemId:n,shapeId:s,componentId:a})]})]})}function V_({videoComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs(N,{children:[e.jsx(le,{disableTypography:!0,title:i?e.jsx(b,{variant:"subtitle1",children:`Video Component - ${i}`}):"Video Component",action:i?e.jsx(ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(U,{children:[e.jsx(N_,{value:t}),e.jsx(hs,{title:"Video Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function oj({shapeDocument:t={},...n}){const{videoComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(V_,{videoComponent:o,...n},o.id))}function G_({descriptorComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs(N,{children:[e.jsx(le,{disableTypography:!0,title:i?e.jsx(b,{variant:"subtitle1",children:`Descriptor Component - ${i}`}):"Descriptor Component",action:i?e.jsx(ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(U,{children:[e.jsx(M_,{value:t}),e.jsx(hs,{title:"Descriptor Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function rj({shapeDocument:t={},...n}){const{descriptorComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(G_,{descriptorComponent:o,...n},o.id))}function q_({audioComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs(N,{id:i,children:[e.jsx(le,{disableTypography:!0,title:i?e.jsx(b,{variant:"subtitle1",children:`Audio Component - ${i}`}):"Audio Component",action:i?e.jsx(ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(U,{children:[e.jsx(L_,{value:t}),e.jsx(hs,{title:"Audio Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function ij({shapeDocument:t={},...n}){const{audioComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(q_,{audioComponent:o,...n},o.id))}function H_({binaryComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs(N,{children:[e.jsx(le,{disableTypography:!0,title:i?e.jsx(b,{variant:"subtitle1",children:`Binary Component - ${i}`}):"Binary Component",action:i?e.jsx(ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(U,{children:[e.jsx(O_,{value:t}),e.jsx(hs,{title:"Binary Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function aj({shapeDocument:t={},...n}){const{binaryComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(H_,{binaryComponent:o,...n},o.id))}function J_({subtitleComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs(N,{children:[e.jsx(le,{disableTypography:!0,title:i?e.jsx(b,{variant:"subtitle1",children:`Subtitle Component - ${i}`}):"Subtitle Component",action:i?e.jsx(ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(U,{children:[e.jsx(__,{value:t}),e.jsx(hs,{title:"Subtitle Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function lj({shapeDocument:t={},...n}){const{subtitleComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(J_,{subtitleComponent:o,...n},o.id))}function cj(t){const{shapeDocument:n}=t;return n===void 0?null:e.jsxs(zt,{children:[e.jsx(k_,{...t}),e.jsx(sj,{...t}),e.jsx(oj,{...t}),e.jsx(ij,{...t}),e.jsx(aj,{...t}),e.jsx(rj,{...t}),e.jsx(lj,{...t})]})}function z_({shapeList:t=[],itemId:n}){return t===void 0||!Array.isArray(t)?null:t.map(s=>e.jsxs(I.Fragment,{children:[n?e.jsx(tj,{shapeId:s.id,itemId:n}):e.jsx(v_,{shapeId:s.id}),e.jsx(cj,{shapeDocument:s})]},s.id))}function dj({itemDocument:t}){if(t===void 0)return null;const{id:n,metadata:s,thumbnails:o,posters:r,files:i,shape:a}=t;return e.jsxs(e.Fragment,{children:[s&&e.jsx(I_,{itemId:n,metadataDocument:s}),o&&e.jsx(Et,{title:"Thumbnails",uriListDocument:o}),r&&e.jsx(Et,{title:"Posters",uriListDocument:r}),i&&e.jsx(Et,{title:"Files",uriListDocument:i}),a&&e.jsx(z_,{itemId:n,shapeList:a})]})}class B_ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onRefresh(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{submitForm:n}=this.props;n(Mo)}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{itemDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(T_,{itemId:n,onSuccess:a=>this.setState({itemDocument:a.data})}),i&&e.jsx(dj,{itemId:n,itemDocument:i})]})}}const K_=D(B_),Y_=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"type",component:m,fullWidth:!0}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"storageType",children:"StorageType"}),e.jsx(d,{name:"storageType",component:B,children:mr.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"methodType",children:"Method Type"}),e.jsxs(d,{name:"methodType",component:B,children:[e.jsx(g,{value:"AUTO",children:"AUTO"}),e.jsx(g,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),e.jsx(d,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"closedFiles",component:E}),label:"Closed Files"})]});function X_({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:Y_})]})}const Q_=v()(X_),wr="ITEM_URI_PARAMS_FORM";function Z_({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const c=(p,x,j)=>{o({messageContent:"Item URI Display Updated"}),n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Item URI Display",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item URI Options"})}),e.jsx(Ae,{children:e.jsx(Q_,{form:wr,onSubmit:mN,onSubmitSuccess:c,onSubmitFail:u,itemId:a,...l})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(wr),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(wr),children:"Update"})]})]})}const e0=A(q,D)(Z_);class t0 extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{Ne.getItemUri({itemId:n}).then(s=>this.setState({uriListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(e0,{itemId:n,onSuccess:a=>this.setState({uriListDocument:a.data})}),i&&e.jsx(Et,{uriListDocument:i})]})}}const n0=q(t0);function s0({resourceId:t,itemId:n,time:s,isPoster:o}){const r=`${o?"poster":"thumbnail"}_${n}_${s}.jpg`;(o?Uo.getPoster:Uo.getThumbnail)({resourceId:t,itemId:n,time:s,responseType:"blob"}).then(({data:a})=>{xp({data:a,fileName:r})})}const uj=t=>{if(t===void 0)return{};const{pathname:n}=new URL(t),[,,s,o,r,i]=n.split("/");return{resourceId:o,itemId:r,time:i,isPoster:s==="poster"}},Ea="ITEMTHUMBNAILDELETE_DIALOG";function o0({open:t,onClose:n,uri:s,onSuccess:o,onError:r,openSnackBar:i}){if(t===!1)return null;const{resourceId:a,itemId:l,time:c,isPoster:u}=uj(s),p=u?Uo.removePoster:Uo.removeThumbnail,x=()=>p({resourceId:a,itemId:l,time:c}).then(()=>{i({messageContent:"Thumbnail Deleted"}),o&&o(),n()}).catch(()=>{i({messageContent:"Error Deleting Thumbnail",messageColor:"secondary"}),r&&r()});return e.jsxs(k,{open:t,onClose:n,maxWidth:!1,children:[e.jsx($,{children:`Remove ${u?"Poster":"Thumbnail"} ${c}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:x,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const mj=A(P)(o0),r0=t=>({Menu:{color:t.palette.common.white}});function i0({classes:t,uri:n,onOpen:s}){const o=()=>s({modalName:Ea,uri:n}),r=()=>{const{resourceId:i,itemId:a,time:l,isPoster:c}=uj(n);s0({resourceId:i,itemId:a,time:l,isPoster:c})};return e.jsxs(pt,{iconProps:{color:"inherit",className:t.Menu},children:[e.jsx(g,{onClick:r,children:e.jsx(b,{children:"Download"})}),e.jsx(g,{onClick:o,children:e.jsx(b,{color:"error",children:"Delete"})})]})}const hj=Ce(r0)(rn(i0));function a0({uriListDocument:t}){if(t===void 0)return null;const{uri:n=[]}=t,s=o=>{let[r]=o.split("?");return[,r]=r.split(";"),r};return e.jsx(ep,{rowHeight:"auto",cols:1,children:n.map(o=>e.jsxs(tp,{children:[e.jsx("img",{src:o,alt:o}),e.jsx(oa,{title:s(o),actionIcon:e.jsx(hj,{uri:o})})]},o))})}class l0 extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const o={content:"poster","noauth-url":!0,baseURI:`${$e.defaultClient.defaults.baseURL||""}/APInoauth/`};try{Ne.getItem({itemId:n,queryParams:o}).then(r=>this.setState({itemDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o}=this.props,{itemDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:r,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),r&&e.jsx(e.Fragment,{children:r.posters&&e.jsx(a0,{uriListDocument:r.posters})}),e.jsx(mj,{dialogName:Ea,onSuccess:this.onRefresh})]})}}const c0=q(l0);function d0({uriListDocument:t}){if(t===void 0)return null;const{uri:n=[]}=t,s=o=>{let[r]=o.split("?");return[,r]=r.split(";"),r};return e.jsx(ep,{rowHeight:"auto",cols:3,children:n.map(o=>e.jsxs(tp,{children:[e.jsx("img",{src:o,alt:o}),e.jsx(oa,{title:s(o),actionIcon:e.jsx(hj,{uri:o})})]},o))})}let u0=class extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const o={content:"thumbnail","noauth-url":!0,baseURI:`${$e.defaultClient.defaults.baseURL||""}/APInoauth/`};try{Ne.getItem({itemId:n,queryParams:o}).then(r=>this.setState({itemDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o}=this.props,{itemDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:r,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),r&&e.jsx(e.Fragment,{children:r.thumbnails&&e.jsx(d0,{uriListDocument:r.thumbnails})}),e.jsx(mj,{dialogName:Ea,onSuccess:this.onRefresh})]})}};const m0=q(u0);class h0 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.state={jobListDocument:void 0,count:void 0,page:1,rowsPerPage:10,orderBy:"jobId",orderDirection:"desc",sort:"jobId desc",first:0,number:10}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Jobs",messageColor:"secondary"})}onFetch(n){const{sort:s,first:o,number:r}=this.state,i={user:!1,first:o,number:r,sort:s,jobmetadata:[{key:"itemId",value:n}]};try{qt.listJob({queryParams:i}).then(a=>this.onSuccess(a)).catch(a=>this.onRefreshError(a))}catch(a){this.onRefreshError(a)}}onSuccess(n){const s=n.data,{first:o=0,number:r=10}=this.state,{hits:i=0}=s,a=Math.ceil(i/r)-Math.ceil((i-o)/r);this.setState({count:i,rowsPerPage:r,page:a,jobListDocument:s})}async onChangePage({page:n}){const{number:s=10}=this.state,o=n*s;await this.setState({first:o}),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){await this.setState({first:0,number:n}),this.onRefresh()}onChangeOrder(n){return async()=>{const{orderDirection:s,orderBy:o}=this.state;let r="",i,a;n!==o?(a=n,i="desc",r=[`${n} ${i}`]):s==="desc"&&(a=n,i="asc",r=[`${n} ${i}`]),await this.setState({orderBy:a,orderDirection:i,sort:r}),this.onRefresh()}}render(){const{jobListDocument:n,count:s,page:o,rowsPerPage:r,orderBy:i,orderDirection:a}=this.state,{titleComponent:l,tabComponent:c,title:u}=this.props;return e.jsxs(e.Fragment,{children:[l&&e.jsx(l,{code:n,codeModal:"JobListDocument",onRefresh:this.onRefresh,title:u}),c&&e.jsx(c,{}),e.jsx(cx,{jobListDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:i,orderDirection:a})]})}}const p0=q(h0),x0=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0})});function j0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:x0})]})}const f0=v()(j0),ed="ITEM_PROJECTION_FORM";function g0({submitForm:t,openSnackBar:n,onSuccess:s,onFail:o,itemId:r,outgoingProjectionDocument:i}){const a=(c,u,p)=>{n({messageContent:"Projection Applied"}),s&&s(c,u,p)},l=(c,u,p)=>{n({messageContent:"Error Appying Projection",messageColor:"secondary"}),o&&o(c,u,p)};return e.jsxs(e.Fragment,{children:[e.jsx(f0,{form:ed,onSubmit:Jx,onSubmitSuccess:a,onSubmitFail:l,itemId:r,headers:{accept:"application/xml"},initialValues:{queryParams:{projection:"default"}}}),e.jsx(f,{color:"primary",variant:"contained",onClick:()=>t(ed),children:"Update"}),i&&e.jsx(h,{title:"Projection",value:i,variant:"xml",hideNoValue:!0})]})}const b0=A(P,D)(g0);function C0(t){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(b0,{...t})})})}class y0 extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={outgoingProjectionDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const s={accept:"application/xml"},o={projection:"default"};try{Ne.getItemMetadata({itemId:n,headers:s,queryParams:o}).then(r=>this.setState({outgoingProjectionDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{outgoingProjectionDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"OutgoingProjectionDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),i&&e.jsx(C0,{itemId:n,outgoingProjectionDocument:i,onSuccess:a=>this.setState({outgoingProjectionDocument:a.data})})]})}}const S0=q(y0),R0=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"direction",children:"Direction"}),e.jsxs(d,{name:"direction",component:B,fullWidth:!0,children:[e.jsx(g,{value:"A",children:"All"}),e.jsx(g,{value:"U",children:"Unidirectional"}),e.jsx(g,{value:"S",children:"Source"}),e.jsx(g,{value:"T",children:"Target"}),e.jsx(g,{value:"D",children:"Source or Target"})]})]}),e.jsx(w,{name:"relationMetadata",component:se,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function T0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:R0})]})}const I0=v()(T0),Oo="ITEM_RELATION_LIST_PARAMS_FORM";function E0({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const c=(p,x,j)=>{n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Item Relations",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(ye,{defaultExpanded:!0,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item Relation Options"})}),e.jsx(Ae,{children:e.jsx(I0,{form:Oo,onSubmit:jN,onSubmitSuccess:c,onSubmitFail:u,itemId:a,...l})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(Oo),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Oo),children:"Update"})]})]})}const v0=A(q,D)(E0),F0=({isEditing:t,toggleEdit:n})=>e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:t,onChange:n}),A0=({onRemove:t})=>e.jsx(Q,{onClick:t,children:e.jsx(at,{})}),P0=({toggleComponent:t=F0,toggleProps:n={},removeComponent:s=A0,removeProps:o={},isEditing:r,toggleEdit:i,onRemove:a,...l})=>e.jsxs(e.Fragment,{children:[a&&e.jsx(s,{onRemove:a,...o,...l}),i&&e.jsx(t,{isEditing:r,toggleEdit:i,...n,...l})]}),D0=({actionComponent:t=P0,actionProps:n={},isEditing:s,toggleEdit:o,onRemove:r,cardHeaderProps:i={},...a})=>e.jsx(le,{action:e.jsx(t,{isEditing:s,toggleEdit:o,onRemove:r,...n,...a}),...i}),M0=({editComponent:t,editProps:n={},displayComponent:s,displayProps:o={},isEditing:r,...i})=>e.jsx(U,{children:r?e.jsx(t,{...n,...i}):e.jsx(s,{...o,...i})}),O0=({children:t})=>e.jsx(N,{children:t}),L0=({isEditing:t=!1,toggleEdit:n,onSave:s,saveProps:o={},cancelProps:r={}})=>t?e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:n,...r,children:"Cancel"}),e.jsx(f,{onClick:s,size:"small",color:"primary",...o,children:"Save"})]})]}):null,N0=({initialState:t=!1,editComponent:n,editProps:s={},displayComponent:o,displayProps:r={},cardComponent:i=O0,cardProps:a={},cardHeaderComponent:l=D0,cardHeaderProps:c={},cardContentComponent:u=M0,cardContentProps:p={},cardActionComponent:x=L0,cardActionProps:j={},onRemove:C,onSave:S,...L})=>{const[ne,Te]=I.useState(t),Ie=()=>Te(!ne);return e.jsxs(i,{...a,...L,children:[e.jsx(l,{isEditing:ne,toggleEdit:Ie,onRemove:C,cardHeaderProps:c,...L}),e.jsx(u,{isEditing:ne,toggleEdit:Ie,editComponent:n,editProps:s,displayComponent:o,displayProps:r,...p,...L}),e.jsx(x,{isEditing:ne,toggleEdit:Ie,onSave:S,...j,...L})]})},pj=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"direction",children:"Direction"}),e.jsxs(d,{name:"direction",component:B,fullWidth:!0,children:[e.jsx(g,{value:"U",children:"Unidirectional"}),e.jsx(g,{value:"S",children:"Source"}),e.jsx(g,{value:"T",children:"Target"})]})]}),_0=()=>e.jsx(T,{control:e.jsx(d,{name:"allowDuplicate",component:E}),label:"Allow Duplicates"}),xj=()=>e.jsx(w,{name:"relationMetadata",component:se,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),$0=()=>e.jsx(d,{name:"relationItemId",label:"Relation Item ID",component:m,fullWidth:!0}),k0=()=>e.jsxs(e.Fragment,{children:[e.jsx(pj,{}),e.jsx(_0,{}),e.jsx(xj,{})]});function W0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx($0,{}),e.jsx(y,{name:"queryParams",label:"queryParams",component:k0})]})}const w0=v()(W0),U0=()=>e.jsxs(e.Fragment,{children:[e.jsx(pj,{}),e.jsx(xj,{})]});function V0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:U0})]})}const G0=v()(V0),jj="ITEM_RELATION_FORM_EDIT",q0=({itemRelationType:t})=>e.jsxs(e.Fragment,{children:[t.direction&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Source",value:t.direction.source}),e.jsx(h,{title:"Target",value:t.direction.target}),e.jsx(h,{title:"Type",value:t.direction.type})]}),t.value&&e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsx(h,{title:"Metadata"}),t.value.map(n=>e.jsx(h,{title:n.key,value:n.value},n.key))]})]}),H0=({itemRelationType:t})=>e.jsx(q0,{itemRelationType:t}),J0=({itemRelationType:t,toggleEdit:n,openSnackBar:s,onRefresh:o})=>e.jsx(G0,{form:jj,onSubmit:gN,onSubmitSuccess:()=>{n(),o()},onSubmitFail:()=>s({messageContent:"Error Updating Relation",messageColor:"secondary"}),relationId:t.id,initialValues:{queryParams:{direction:t.direction.type,relationMetadata:t.value}}}),z0=({itemRelationType:t,openRemove:n,submitForm:s,onRefresh:o,openSnackBar:r})=>e.jsx(N0,{editComponent:J0,displayComponent:H0,cardHeaderProps:{subheader:`Relation ID: ${t.id}`},itemRelationType:t,onRemove:n(t.id),onSave:()=>s(jj),onRefresh:o,openSnackBar:r}),B0=A(D,P)(z0);function K0({itemRelationListDocument:t,openRemove:n,onRefresh:s}){if(t===void 0)return null;const{relation:o=[]}=t;return o.map(r=>e.jsx(B0,{itemRelationType:r,openRemove:n,onRefresh:s},r.id))}function Y0({onClose:t,isOpen:n,relationId:s,onRemove:o}){return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Relation ${s} ?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:o(s),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const td="ITEM_RELATION_REMOVE_MODAL";let X0=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.state={itemRelationListDocument:void 0,currentRelationId:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;this.onRefresh(),n(this.onRefresh)}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onRefresh(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{submitForm:n}=this.props;n(Oo)}onRemove(n){const{openSnackBar:s,onClose:o}=this.props;return()=>{Ne.removeRelation({relationId:n}).then(()=>{const r=`Relation "${n}" Removed`;s({messageContent:r}),o(),this.onRefresh()}).catch(()=>{s({messageContent:"Error Removing Relation",messageColor:"secondary"})})}}openRemove(n){const{onOpen:s}=this.props;return()=>{this.setState({currentRelationId:n},()=>s({modalName:td}))}}render(){const{itemId:n,titleComponent:s,tabComponent:o,onClose:r,modalName:i,title:a}=this.props,{itemRelationListDocument:l,currentRelationId:c}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:l,codeModal:"ItemRelationListDocument",onRefresh:this.onRefresh,title:a}),o&&e.jsx(o,{}),e.jsx(v0,{itemId:n,onSuccess:u=>this.setState({itemRelationListDocument:u.data})}),l&&e.jsx(K0,{itemId:n,itemRelationListDocument:l,openRemove:this.openRemove,onRefresh:this.onRefresh}),e.jsx(Y0,{isOpen:i===td,onClose:r,onRemove:this.onRemove,relationId:c})]})}};const Q0=A(D,P)(X0);class Z0 extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{sn.listItemBulkyMetadata({itemId:n}).then(s=>this.setState({uriListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o,itemId:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),i&&e.jsx(Et,{uriListDocument:i,linkTo:a=>`/item/${r}/bulky-metadata/${a}/`})]})}}const e$=q(Z0),t$=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(h,{title:t.key,value:t.value})}),n$=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(te,{value:t.entry,component:t$})}),s$=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(te,{value:t.map,component:n$})}),o$=({value:t})=>e.jsxs("div",{style:{marginBottom:4},children:[t.value&&e.jsx(h,{title:`Start:${t.start} End:${t.end}`,value:t.value,titleStartCase:!1,titleTypographyProps:{noWrap:!1}}),t.maps&&e.jsx(G,{title:`Start: ${t.start} End: ${t.end}`,titleStartCase:!1,value:t.maps,component:s$})]});function va({bulkyMetadataDocument:t}){const{field:n=[]}=t;return e.jsx(e.Fragment,{children:e.jsx(te,{value:n,component:o$})})}const ts=t=>{let n=t.message;throw t.response&&(n=JSON.stringify(t.response.data,(s,o)=>o===null?void 0:o)),new _({_error:n})},Fa=(t={})=>Object.entries(t).reduce((n,[s,o])=>({...n,[s]:encodeURIComponent(o)}),{});function r$(t,n,s){try{const o=Fa(t.queryParams),r=s.itemId||t.itemId,i=s.bulkyMetadataKey||t.bulkyMetadataKey;return sn.getItemBulkyMetadata({itemId:r,key:i,path:`/API/item/${r}/metadata/bulky/${i}/as-file`,headers:{accept:"application/octet-stream"},queryParams:o,transitional:{silentJSONParsing:!1,forcedJSONParsing:!1}}).catch(ts)}catch(o){return ts(o)}}function i$(t,n,s){try{const o=Fa(t.queryParams),r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.bulkyMetadataKey||t.bulkyMetadataKey;return sn.getShapeBulkyMetadata({itemId:r,shapeId:i,key:a,path:`/API/item/${r}/shape/${i}/metadata/bulky/${a}/as-file`,headers:{accept:"application/octet-stream"},queryParams:o,transitional:{silentJSONParsing:!1,forcedJSONParsing:!1}}).catch(ts)}catch(o){return ts(o)}}function a$(t,n,s){try{const o=Fa(t.queryParams),r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.bulkyMetadataKey||t.bulkyMetadataKey;return sn.getComponentBulkyMetadata({itemId:r,shapeId:i,componentId:a,key:l,path:`/API/item/${r}/shape/${i}/component/${a}/metadata/bulky/${l}/as-file`,headers:{accept:"application/octet-stream"},queryParams:o,transitional:{silentJSONParsing:!1,forcedJSONParsing:!1}}).catch(ts)}catch(o){return ts(o)}}const l$=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"stream",label:"Stream Index",component:m,fullWidth:!0}),e.jsx(d,{name:"channel",label:"Audio Channel",component:m,fullWidth:!0}),e.jsx(d,{name:"itemTrack",label:"Item Track",component:m,fullWidth:!0}),e.jsx(d,{name:"extraMapValues",label:"Extra Map Values",component:m,fullWidth:!0})]});function c$({error:t,handleSubmit:n,itemId:s,bulkyMetadataKey:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"bulkyMetadataKey",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:l$}),e.jsx("button",{type:"submit",hidden:!0})]})}const d$=v()(c$),u$="BULKYMETADATA_DOWNLOAD_FORM",m$=(t={})=>{const{"content-disposition":n}=t;if(n===void 0)return;const o=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n),r=o==null?void 0:o[1];if(r!==void 0)return r.replace(/['"]/g,"")};function h$({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,bulkyMetadataKey:u,form:p=u$}){let x=r$;l?x=i$:c&&(x=a$);const j=(S,L,ne)=>{r({messageContent:"Download Started"});const{data:Ie,headers:ke}=S,Qe=m$(ke)||u;xp({data:Ie,fileName:Qe}),s&&s(S,L,ne),n()},C=(S,L,ne)=>{r({messageContent:"Error Starting Download",messageColor:"secondary"}),o&&o(S,L,ne)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Download ${u}`}),e.jsx(ve,{children:e.jsx(d$,{form:p,onSubmit:x,onSubmitSuccess:j,onSubmitFail:C,itemId:a,shapeId:l,componentId:c,bulkyMetadataKey:u,initialValues:{queryParams:{start:"-INF",end:"+INF"}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(p),children:"Download"})]})]})}const Aa=A(P,D)(h$),nd="BULKYMETADATA_DOWNLOAD_DIALOG";class p$ extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n,bulkyMetadataKey:s}){const{itemId:o,bulkyMetadataKey:r}=this.props;(o!==n||r!==s)&&(this.onFetch(n,s),document.title=`VidiCore Admin | Item | ${n} | Bulky Metadata`)}onRefresh(){const{itemId:n,bulkyMetadataKey:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{sn.getItemBulkyMetadata({itemId:n,key:s}).then(o=>this.setState({bulkyMetadataDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,bulkyMetadataKey:o,itemId:r}=this.props,{bulkyMetadataDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:He.itemBulkyMetadataList({itemId:r})},{title:o}],downloadModal:nd}),s&&e.jsx(s,{}),i&&e.jsx(va,{bulkyMetadataDocument:i}),e.jsx(Aa,{dialogName:nd,itemId:r,bulkyMetadataKey:o})]})}}const x$=A(et,q)(p$);function j$({versionId:t,created:n,linkTo:s,textTo:o}){const r={};let i=t;return o&&(i=o(t)),s&&(r.to=s(t)),e.jsxs(Ge,{hover:!0,...r,children:[e.jsx(O,{children:i}),e.jsx(O,{children:n}),e.jsx(O,{})]})}function f$({essenceVersionListDocument:t={},...n}){const{version:s=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Version"}),e.jsx(O,{children:"Created"}),e.jsx(O,{})]})}),e.jsx(de,{children:s.map(({id:o,uri:r,created:i})=>e.jsx(j$,{versionId:o,uri:r,created:i,...n},o))})]})}function g$({title:t,essenceVersionListDocument:n,...s}){return n===void 0?null:e.jsxs(N,{children:[t&&e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:t})}),e.jsx(U,{children:e.jsx(f$,{essenceVersionListDocument:n,...s})})]})}class b$ extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={essenceVersionListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n} | Version`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{De.listShapeEssence({itemId:n}).then(s=>this.setState({essenceVersionListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o}=this.props,{essenceVersionListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"EssenceVersionListDocument",onRefresh:this.onRefresh,title:"Version"}),o&&e.jsx(o,{}),r&&e.jsx(g$,{essenceVersionListDocument:r,linkTo:i=>`/item/${n}/version/${i}/`})]})}}const C$=A(q,et)(b$);function y$({essenceVersionDocument:t,linkTo:n,linkProps:s}){if(t===void 0)return null;const{shape:o=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Shape ID"}),e.jsx(O,{children:"Created"}),e.jsx(O,{})]})}),e.jsx(de,{children:o.map(({id:r,created:i})=>e.jsxs(Ge,{hover:!0,...s,to:n(r),children:[e.jsx(O,{children:r}),e.jsx(O,{children:i}),e.jsx(O,{})]},r))})]})}function S$({title:t,essenceVersionDocument:n,...s}){return n===void 0?null:e.jsxs(N,{children:[t&&e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:t})}),e.jsx(U,{children:e.jsx(y$,{essenceVersionDocument:n,...s})})]})}class R$ extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={essenceVersionDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n,versionId:s}){const{itemId:o,versionId:r}=this.props;(o!==n||r!==s)&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n} | Version`)}onRefresh(){const{itemId:n,versionId:s}=this.props;this.onFetch({itemId:n,versionId:s})}onFetch({itemId:n,versionId:s}){try{De.getShapeEssence({itemId:n,versionId:s}).then(o=>this.setState({essenceVersionDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,versionId:s,titleComponent:o,tabComponent:r}=this.props,{essenceVersionDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[o&&e.jsx(o,{code:i,codeModal:"EssenceVersionDocument",onRefresh:this.onRefresh,versionId:s,breadcrumbList:[{title:"Version",to:He.itemVersionList({itemId:n})},{title:s}]}),r&&e.jsx(r,{}),i&&e.jsx(S$,{essenceVersionDocument:i,linkTo:a=>`/item/${n}/shape/${a}/`})]})}}const T$=A(q,et)(R$);function I$({titleComponent:t}){return e.jsxs(Jt,{children:[e.jsx(H,{exact:!0,path:"/item/:itemId/version/:versionId",render:()=>e.jsx(T$,{titleComponent:t})}),e.jsx(H,{exact:!0,path:"/item/:itemId/version/",render:()=>e.jsx(C$,{titleComponent:t})})]})}function fj({metadataChangeSetDocument:t,...n}){const{changeSet:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsxs(N,{id:o.id,children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:`Change Set - ${o.id}`})}),e.jsx(U,{children:e.jsx(Cr,{metadataDocument:o.metadata,...n})})]}))}function E$(t){return fj(t)}const v$=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(d,{name:"group",component:Y,loadOptions:kn,cacheOptions:!0,isClearable:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(d,{name:"change",component:m,fullWidth:!0}),e.jsx(d,{name:"first",component:m,fullWidth:!0}),e.jsx(d,{name:"number",component:m,fullWidth:!0}),e.jsx(d,{name:"interval",component:m,fullWidth:!0}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"language",component:m,fullWidth:!0}),e.jsx(d,{name:"samplerate",component:m,fullWidth:!0}),e.jsx(d,{name:"include",component:m,fullWidth:!0}),e.jsx(d,{name:"from",component:m,fullWidth:!0}),e.jsx(d,{name:"to",component:m,fullWidth:!0}),e.jsx(d,{name:"includeConstraintValue",component:m,fullWidth:!0}),e.jsx(d,{name:"includeExtraData",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"starttc",component:E}),label:"Start TC"}),e.jsx(T,{control:e.jsx(d,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(T,{control:e.jsx(d,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"}),e.jsx(T,{control:e.jsx(d,{name:"conflict",component:E}),label:"Conflict"})]});function F$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:v$})]})}const A$=v()(F$),Ur="METADATACHANGESETLIST_FORM";function P$({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{o({messageContent:"Changeset List Updated"}),n&&n(u,p,x)},c=(u,p,x)=>{o({messageContent:"Error Updating Changeset List",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Metadata Changeset List Options"})}),e.jsx(Ae,{children:e.jsx(A$,{form:Ur,onSubmit:t,onSubmitSuccess:l,onSubmitFail:c,...a})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(Ur),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ur),children:"Update"})]})]})}const gj=A(q,D)(P$);function D$({...t}){return e.jsx(gj,{onSubmit:dN,...t})}class M$ extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataChangeSetDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{Mt.listEntityMetadataChange({entity:"item",entityId:n}).then(s=>this.setState({metadataChangeSetDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataChangeSetDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataChangeSetDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(D$,{itemId:n,onSuccess:a=>this.setState({metadataChangeSetDocument:a.data})}),i&&e.jsx(E$,{itemId:n,metadataChangeSetDocument:i})]})}}const O$=q(M$),L$=()=>e.jsx(e.Fragment,{children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"noauth-url",children:"noauth-url"}),e.jsxs(d,{name:"noauth-url",component:B,children:[e.jsx(g,{value:"true",children:"True"}),e.jsx(g,{value:"false",children:"False"})]})]})}),N$=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"If-Modified-None",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"accept",children:"accept"}),e.jsxs(d,{name:"accept",component:B,children:[e.jsx(g,{value:"application/xml",children:"application/xml"}),e.jsx(g,{value:"application/json",children:"application/json"}),e.jsx(g,{value:"text/vtt",children:"text/vtt"})]})]})]});function _$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:L$}),e.jsx(y,{name:"headers",label:"headers",component:N$})]})}const $$=v()(_$),k$="ITEM_THUMBNAILSPRITESHEET_PARAMS_FORM";function W$({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,form:l=k$,...c}){const u=(x,j,C)=>{n&&n(x,j,C)},p=(x,j,C)=>{o({messageContent:"Error Updating Item Thumbnail Spritesheet",messageColor:"secondary"}),s&&s(x,j,C)};return e.jsxs(ye,{defaultExpanded:!0,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item Thumbnail Spritesheet Options"})}),e.jsx(Ae,{children:e.jsx($$,{form:l,onSubmit:hN,onSubmitSuccess:u,onSubmitFail:p,itemId:a,...c})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(l),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(l),children:"Update"})]})]})}const w$=A(q,D)(W$);function Pa({initialAuto:t=!1,ButtonBaseProps:n={},...s}){const[o,r]=I.useState(t?"auto":"100%"),i=()=>r(a=>a==="100%"?"auto":"100%");return e.jsx(Kg,{onClick:i,disableRipple:!0,style:{width:o},...n,children:e.jsx("img",{style:{width:o},...s})})}const U$=({thumbnailSpriteSheetDocument:t,baseUrl:n})=>{var o;let s=(o=t==null?void 0:t.url)==null?void 0:o[0];if(s!==void 0){if(s=s.replaceAll("/API/","/APInoauth/"),n){const r=new URL(s);s=[n,r.pathname,r.search].join("")}return s}};function V$({thumbnailSpriteSheetDocument:t,baseUrl:n}){const s=U$({thumbnailSpriteSheetDocument:t,baseUrl:n});return s===void 0?null:e.jsx(Pa,{src:s})}const G$=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0}),e.jsx(h,{title:"x",value:t.x,hover:!0}),e.jsx(h,{title:"y",value:t.y,hover:!0}),e.jsx(h,{title:"timecode",value:t.timecode,variant:"timecode",hover:!0}),e.jsx(h,{title:"endTimecode",value:t.endTimecode,variant:"timecode",hover:!0})]}),q$=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"etag",value:t.etag,hover:!0}),e.jsx(h,{title:"url",value:t.url,hover:!0,variant:"row"}),e.jsx(h,{title:"path",value:t.path,hover:!0,variant:"row"}),e.jsx(te,{arrayTitle:"Thumbnail",title:"thumbnail",value:t.thumbnail,component:G$})]});function H$({thumbnailSpriteSheetDocument:t}){return e.jsx(G,{component:q$,value:t})}const sd="ITEM_THUMBNAILSPRITESHEET_FORM";class J$ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={thumbnailSpriteSheetDocument:void 0,codeVariant:"application/json"}}componentDidMount(){const{codeVariant:n}=this.state,{itemId:s}=this.props,o=`/API/item/${s}/thumbnail/spritesheet`,r={"noauth-url":!0},i={accept:n},a=n.toLowerCase()==="application/json";a&&(i.accept="application/xml"),Ne.getItem({itemId:s,path:o,params:r,headers:i}).then(l=>a?Zo.echo({xmlDocument:l.data}):Promise.resolve(l)).then(l=>this.setState({thumbnailSpriteSheetDocument:l.data}))}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onRefresh(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{submitForm:n}=this.props;n(sd)}render(){var c,u,p;const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{thumbnailSpriteSheetDocument:i,codeVariant:a}=this.state,l=typeof a=="string"&&a.toLowerCase()==="application/json";return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"ThumbnailSpriteSheetDocument",codeVariant:a,onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(w$,{itemId:n,form:sd,initialValues:{headers:{accept:a},queryParams:{"noauth-url":!0}},onSuccess:x=>this.setState({thumbnailSpriteSheetDocument:x.data,codeVariant:x.headers["content-type"]})}),i&&(l?e.jsxs(e.Fragment,{children:[e.jsx(V$,{thumbnailSpriteSheetDocument:i,baseUrl:(p=(u=(c=$e)==null?void 0:c.defaultClient)==null?void 0:u.defaults)==null?void 0:p.baseURL}),e.jsx(H$,{thumbnailSpriteSheetDocument:i})]}):e.jsx(mp,{code:i,variant:a}))]})}}const z$=D(J$),B$=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsxs(d,{name:"type",component:B,children:[e.jsx(g,{value:"ancestor",children:"Ancestor"}),e.jsx(g,{value:"grant",children:"Grant"})]})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"users",children:"Users"}),e.jsxs(d,{name:"users",component:B,children:[e.jsx(g,{value:"true",children:"True"}),e.jsx(g,{value:"false",children:"False"})]})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"users",children:"Groups"}),e.jsxs(d,{name:"groups",component:B,children:[e.jsx(g,{value:"true",children:"True"}),e.jsx(g,{value:"false",children:"False"})]})]})]});function K$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:B$})]})}const Y$=v()(K$),X$=Ye((t,n,s)=>{const{groupName:o,queryParams:r}=t,{userName:i}=s,a={RunAs:i};return Ot.updateImportAccessGroup({groupName:o,queryParams:r,headers:a})}),Q$=Ye((t,n,s)=>{const{accessControlDocument:o,queryParams:r}=t,i=s.entityType||t.entityType,a=s.entityId||t.entityId;return Ot.createEntityAccess({entityType:i,entityId:a,queryParams:r,accessControlDocument:o})}),Z$=Ye((t,n,s)=>{const{queryParams:o={}}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Ot.getEntityAccessMerged({entityType:r,entityId:i,queryParams:o})}),ek=Ye((t,n,s)=>{const{queryParams:o={}}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Ot.listEntityAccess({entityType:r,entityId:i,queryParams:o})}),tk=Ye((t,n,s)=>{const{queryParams:o={}}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Ot.getEntityAccessGraphDot({entityType:r,entityId:i,queryParams:o})}),nk="ACCESS_GRAPH_PARAMS_FORM";function sk({entityId:t,entityType:n,onSubmit:s,onSuccess:o,onFail:r,openSnackBar:i,submitForm:a,resetForm:l,form:c=nk,defaultExpanded:u=!0,...p}){const x=(C,S,L)=>{o&&o(C,S,L)},j=(C,S,L)=>{i({messageContent:"Error Updating Access Graph",messageColor:"secondary"}),r&&r(C,S,L)};return e.jsxs(ye,{defaultExpanded:u,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Access Graph Options"})}),e.jsx(Ae,{children:e.jsx(Y$,{form:c,onSubmit:tk,onSubmitSuccess:x,onSubmitFail:j,entityId:t,entityType:n,...p})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>l(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>a(c),children:"Update"})]})]})}const ok=A(q,D)(sk),rk=()=>({ImgContainer:{display:"flex",justifyContent:"center"}});function ik({classes:t,useGraphViz:n,graphDot:s,graphImage:o}){return e.jsxs(e.Fragment,{children:[n&&s?e.jsx(pr,{dot:s,width:"100%",height:"80vh"}):null,n===!1&&o?e.jsx("div",{className:t.ImgContainer,children:e.jsx(Pa,{src:URL.createObjectURL(o),initialAuto:!1})}):null]})}const ak=Ce(rk)(ik),od="ACCESS_GRAPH_FORM";class lk extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){const{entityId:n,entityType:s}=this.props;try{Ot.getEntityAccessGraphDot({entityType:s,entityId:n}).then(o=>this.setState({graphDot:o.data})).catch(this.onRefreshError),Ot.getEntityAccessGraph({entityType:s,entityId:n,responseType:"blob"}).then(o=>{this.setState({graphImage:o.data})}).catch(this.onRefreshError)}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Access Graph",messageColor:"secondary"})}onRefresh(){const{submitForm:n}=this.props;n(od)}onSuccess({request:n,data:s}){const{entityId:o,entityType:r}=this.props,i=n==null?void 0:n.responseURL,a=new URL(i),l=Object.fromEntries(a.searchParams);this.setState({graphDot:s}),Ot.getEntityAccessGraph({entityType:r,entityId:o,queryParams:l,responseType:"blob"}).then(c=>{this.setState({graphImage:c.data})}).catch(this.onRefreshError)}render(){const{graphDot:n,graphImage:s}=this.state,{entityType:o,entityId:r,titleComponent:i,tabComponent:a,title:l,useGraphViz:c=!1}=this.props;return e.jsxs(e.Fragment,{children:[i&&e.jsx(i,{onRefresh:this.onRefresh,code:n,codeModal:"DOT",codeVariant:"text",title:l}),a&&e.jsx(a,{}),e.jsx(ok,{entityType:o,entityId:r,form:od,initialValues:{},onSuccess:this.onSuccess}),e.jsx(ak,{useGraphViz:c,graphDot:n,graphImage:s})]})}}const bj=D(lk),ck=()=>e.jsx(e.Fragment,{children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{shrink:!0,htmlFor:"groupBy",children:"Group By"}),e.jsxs(d,{name:"groupBy",component:B,children:[e.jsx(g,{value:"change",children:"change"}),e.jsx(g,{value:"none",children:"none"})]})]})});function dk({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:ck})]})}const uk=v()(dk),mk="METADATA_GRAPH_PARAMS_FORM";function hk({entityId:t,entity:n,onSubmit:s,onSuccess:o,onFail:r,openSnackBar:i,submitForm:a,resetForm:l,form:c=mk,defaultExpanded:u=!0,...p}){const x=(C,S,L)=>{o&&o(C,S,L)},j=(C,S,L)=>{i({messageContent:"Error Updating Metadata Graph",messageColor:"secondary"}),r&&r(C,S,L)};return e.jsxs(ye,{defaultExpanded:u,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Metadata Graph Options"})}),e.jsx(Ae,{children:e.jsx(uk,{form:c,onSubmit:MI,onSubmitSuccess:x,onSubmitFail:j,entityId:t,entity:n,...p})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>l(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>a(c),children:"Update"})]})]})}const pk=A(q,D)(hk),xk=()=>({ImgContainer:{display:"flex",justifyContent:"center"}});function jk({classes:t,useGraphViz:n,graphDot:s,graphImage:o}){return e.jsxs(e.Fragment,{children:[n&&s?e.jsx(pr,{dot:s,width:"100%",height:"80vh"}):null,n===!1&&o?e.jsx("div",{className:t.ImgContainer,children:e.jsx(Pa,{src:URL.createObjectURL(o),initialAuto:!1})}):null]})}const fk=Ce(xk)(jk),rd="METADATA_GRAPH_FORM";class gk extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){const{entityId:n,entity:s}=this.props;console.log({});try{Mt.getEntityMetadataGraphDot({entity:s,entityId:n}).then(o=>this.setState({graphDot:o.data})).catch(this.onRefreshError),Mt.getEntityMetadataGraph({entity:s,entityId:n,responseType:"blob"}).then(o=>{this.setState({graphImage:o.data})}).catch(this.onRefreshError)}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Metadata Graph",messageColor:"secondary"})}onRefresh(){const{submitForm:n}=this.props;n(rd)}onSuccess({request:n,data:s}){const{entityId:o,entity:r}=this.props,i=n==null?void 0:n.responseURL,a=new URL(i),l=Object.fromEntries(a.searchParams);this.setState({graphDot:s}),Mt.getEntityMetadataGraph({entity:r,entityId:o,queryParams:l,responseType:"blob"}).then(c=>{this.setState({graphImage:c.data})}).catch(this.onRefreshError)}render(){const{graphDot:n,graphImage:s}=this.state,{entity:o,entityId:r,titleComponent:i,tabComponent:a,title:l,useGraphViz:c=!0}=this.props;return e.jsxs(e.Fragment,{children:[i&&e.jsx(i,{onRefresh:this.onRefresh,code:n,codeModal:"DOT",codeVariant:"text",title:l}),a&&e.jsx(a,{}),e.jsx(pk,{entity:o,entityId:r,form:rd,initialValues:{},onSuccess:this.onSuccess}),e.jsx(fk,{useGraphViz:c,graphDot:n,graphImage:s})]})}}const Cj=A(D,P)(gk);function Da({uriListDocument:t,entityType:n,entityId:s}){if(t===void 0)return null;const o=c=>`/notification/${n}/${c.split("/").pop()}/`,r=c=>`/${n}/${s}/notification/${c.split("/").pop()}/`;let a=c=>`/notification/${c.split("/").pop()}/`;s&&n?a=r:n&&(a=o);const l=c=>c.split("/").pop();return e.jsx(N,{children:e.jsx(U,{children:e.jsx(cs,{uriListDocument:t,linkTo:a,textTo:l})})})}class ft extends I.PureComponent{constructor(n){super(n),this.handleChange=this.handleChange.bind(this),this.state={[n.name]:n.initialvalue}}handleChange(n){return s=>{const o=this.state[n];this.props.onChange&&this.props.onChange(s,s.target.value,o,n),this.setState({[n]:s.target.value})}}render(){const{children:n,ValueComponent:s,label:o,...r}=this.props,i=this.state[this.props.name],a=s&&s(i);return e.jsxs(e.Fragment,{children:[e.jsx(Qs,{children:o}),e.jsx(ue,{...r,select:!0,value:i,FormHelperTextProps:{focused:!0},onChange:this.handleChange(this.props.name),children:n}),a]})}}const xs=({...t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Extra Data",value:t.extradata}),e.jsx(h,{title:"Retry",value:t.retry}),e.jsx(h,{title:"Synchronous",value:t.synchronous}),e.jsx(h,{title:"Group",value:t.group})]}),bk=({action:{http:t}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Method",value:t.method}),e.jsx(h,{title:"Timeout",value:t.timeout}),e.jsx(xs,{...t})]}),Ck=({action:{ejb:t}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Bean",value:t.bean}),e.jsx(h,{title:"Method",value:t.method}),t.data&&t.data.map(n=>e.jsx(h,{title:n.key,value:n.value})),e.jsx(xs,{...t})]}),yk=({action:{jms:t}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Queue",value:t.queue}),e.jsx(h,{title:"Queue Factory",value:t.queueFactory}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Username",value:t.username}),e.jsx(h,{title:"Password",value:t.password}),e.jsx(xs,{...t})]}),Sk=({action:{sqs:t}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Queue",value:t.queue}),e.jsx(h,{title:"Endpoint",value:t.endpoint}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Access Key",value:t.accessKey}),e.jsx(h,{title:"Secret Key",value:t.secret}),e.jsx(h,{title:"Role ARN",value:t.roleArn}),e.jsx(h,{title:"RoleSession Name",value:t.roleSessionName}),e.jsx(h,{title:"Role External ID",value:t.roleExternalId}),e.jsx(h,{title:"Message Group ID",value:t.messageGroupId}),e.jsx(xs,{...t})]}),Rk=({action:{sns:t}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Topic",value:t.topic}),e.jsx(h,{title:"Endpoint",value:t.endpoint}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Access Key",value:t.accessKey}),e.jsx(h,{title:"Secret Key",value:t.secret}),e.jsx(h,{title:"Role ARN",value:t.roleArn}),e.jsx(h,{title:"RoleSession Name",value:t.roleSessionName}),e.jsx(h,{title:"Role External ID",value:t.roleExternalId}),e.jsx(xs,{...t})]}),Tk=({action:{javascript:t}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{value:t.script,variant:"code",codeProps:{mode:"application/javascript"}}),e.jsx(xs,{...t})]});function _i(t={}){if("http"in t)return"http";if("ejb"in t)return"ejb";if("jms"in t)return"jms";if("sqs"in t)return"sqs";if("sns"in t)return"sns";if("javascript"in t)return"javascript"}function yj({action:t={}}){let n=e.jsx(e.Fragment,{});const s=_i(t);switch(s){case"http":n=bk;break;case"ejb":n=Ck;break;case"jms":n=yk;break;case"sqs":n=Sk;break;case"sns":n=Rk;break;case"javascript":n=Tk;break}return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Action Type",value:s}),e.jsx(n,{action:t})]})}function js(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"retry",label:"Retry",component:m,fullWidth:!0,required:!0}),e.jsx(R,{name:"synchronous",label:"Synchronous",component:m,fullWidth:!0}),e.jsx(R,{name:"extradata",label:"Extra Data",component:m,fullWidth:!0}),e.jsx(R,{name:"group",label:"Group",component:m,fullWidth:!0})]})}function Ik(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"url",label:"URL",component:m,fullWidth:!0}),e.jsx(R,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(R,{name:"method",label:"Method",component:m,fullWidth:!0}),e.jsx(R,{name:"timeout",label:"Timeout",component:m,fullWidth:!0,required:!0}),e.jsx(js,{})]})}function Ek(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"bean",label:"Bean",component:m,fullWidth:!0}),e.jsx(R,{name:"method",label:"Method",component:m,fullWidth:!0}),e.jsx(we,{name:"data",component:$t,label:"Data",buttonLabel:"Add Data"}),e.jsx(js,{})]})}function vk(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"Queue",label:"Queue",component:m,fullWidth:!0}),e.jsx(R,{name:"queueFactory",label:"Queue Factory",component:m,fullWidth:!0}),e.jsx(R,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(R,{name:"username",label:"Username",component:m,fullWidth:!0}),e.jsx(R,{name:"password",label:"Password",component:m,fullWidth:!0}),e.jsx(js,{})]})}function Fk(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"queue",label:"Queue",component:m,fullWidth:!0}),e.jsx(R,{name:"endpoint",label:"Endpoint",component:m,fullWidth:!0}),e.jsx(R,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(R,{name:"accessKey",label:"Access Key",component:m,fullWidth:!0}),e.jsx(R,{name:"secret",label:"Secret Key",component:m,fullWidth:!0}),e.jsx(R,{name:"roleArn",label:"Role ARN",component:m,fullWidth:!0}),e.jsx(R,{name:"roleSessionName",label:"Role Session Name",component:m,fullWidth:!0}),e.jsx(R,{name:"roleExternalId",label:"Role External ID",component:m,fullWidth:!0}),e.jsx(R,{name:"messageGroupId",label:"Message Group ID",component:m,fullWidth:!0}),e.jsx(js,{})]})}function Ak(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"topic",label:"Topic",component:m,fullWidth:!0}),e.jsx(R,{name:"endpoint",label:"Endpoint",component:m,fullWidth:!0}),e.jsx(R,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(R,{name:"accessKey",label:"Access Key",component:m,fullWidth:!0}),e.jsx(R,{name:"secret",label:"Secret Key",component:m,fullWidth:!0}),e.jsx(R,{name:"roleArn",label:"Role ARN",component:m,fullWidth:!0}),e.jsx(R,{name:"roleSessionName",label:"Role Session Name",component:m,fullWidth:!0}),e.jsx(R,{name:"roleExternalId",label:"Role External ID",component:m,fullWidth:!0}),e.jsx(js,{})]})}function Pk(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"script",component:mt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),e.jsx(js,{})]})}function Dk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t;let r;if(o){const l=s("notificationDocument.action");r=_i(l)}else{const{notificationDocument:l={}}=n,{action:c={}}=l;r=_i(c)}const i=l=>{switch(l){case"http":return e.jsx(re,{name:"http",component:Ik,...t});case"ejb":return e.jsx(re,{name:"ejb",component:Ek,...t});case"jms":return e.jsx(re,{name:"jms",component:vk,...t});case"sqs":return e.jsx(re,{name:"sqs",component:Fk,...t});case"sns":return e.jsx(re,{name:"sns",component:Ak,...t});case"javascript":return e.jsx(re,{name:"javascript",component:Pk,...t});default:return null}},a=(l,c,u,p)=>{const x=s(p);if(x){const j=We(x,{[c]:{$set:{}},$unset:[u]});t.change(p,j)}else t.change(p,{})};return e.jsx(e.Fragment,{children:e.jsxs(ft,{label:"Action Type",initialvalue:r,fullWidth:!0,onChange:a,ValueComponent:i,name:"notificationDocument.action",children:[e.jsx(g,{value:"http",children:"HTTP"}),e.jsx(g,{value:"ejb",children:"EJB"}),e.jsx(g,{value:"jms",children:"JMS"}),e.jsx(g,{value:"sqs",children:"SQS"}),e.jsx(g,{value:"sns",children:"SNS"}),e.jsx(g,{value:"javascript",children:"Javascript"})]})})}function Mk(t){return e.jsxs("form",{onSubmit:t.handleSubmit,children:[t.error&&e.jsx(b,{color:"error",children:t.error}),e.jsx(re,{...t,name:"notificationDocument.action",component:Dk}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ma=v()(Mk);function $i(t={}){let n;return t===void 0||("update"in t?n="update":"stop"in t?n="stop":"finished"in t?n="finished":"fail"in t?n="fail":"create"in t&&(n="create")),n}function ki(t){let n;return t===void 0||("job"in t?n="job":"metadata"in t?n="metadata":"collection"in t?n="collection":"item"in t?n="item":"storage"in t?n="storage":"file"in t?n="file":"group"in t?n="group":"shape"in t?n="shape":"access"in t?n="access":"quota"in t?n="quota":"document"in t?n="document":"deletionLock"in t&&(n="deletionLock")),n}const Ok=({trigger:{job:t}})=>{const n=$i(t);return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Action",value:n}),e.jsx(h,{title:"Placeholder",value:t.placeholder}),t.filter&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:t.filter.type}),e.jsx(h,{title:"Step",value:t.filter.step}),t.filter.jobdata&&e.jsxs(e.Fragment,{children:[t.filter.jobdata.key&&e.jsx(h,{title:"Job Data Key",value:t.filter.jobdata.key}),t.filter.jobdata["key-regex"]&&e.jsx(h,{title:"Job Data Key Regex",value:t.filter.jobdata["key-regex"]}),t.filter.jobdata.value&&e.jsx(h,{title:"Job Data Value",value:t.filter.jobdata.value}),t.filter.jobdata["value-regex"]&&e.jsx(h,{title:"Job Data Value Regex",value:t.filter.jobdata["value-regex"]})]})]}),t.contentFilters&&e.jsx(h,{title:"Content Filters",variant:"list",value:t.contentFilters.contentFilter})]})},Sj=({trigger:{metadata:t}})=>{let n;return"modify"in t&&(n="modify"),e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Action",value:n}),n==="modify"&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field",value:t.modify.field}),e.jsx(h,{title:"Language",value:t.modify.language}),e.jsx(h,{title:"Track",value:t.modify.track}),e.jsx(h,{title:"Interval",value:t.modify.interval})]})]})},Rj=({trigger:{item:t}})=>{let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},Lk=({trigger:{collection:t}})=>{let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t?n="delete":"item"in t?n="item":"metadata"in t&&(n="metadata"),e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Action",value:n}),n==="metadata"&&e.jsx(Sj,{trigger:{metadata:t.metadata}}),n==="item"&&e.jsx(Rj,{trigger:{trigger:{item:t.item}}})]})},Nk=({trigger:{storage:t}})=>{let n;return"filename"in t?n="filename":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},_k=({trigger:{file:t}})=>{let n;return"new"in t?n="new":"change"in t?n="change":"hash"in t?n="hash":"close"in t?n="close":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},$k=({trigger:{group:t}})=>{let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},kk=({trigger:{shape:t}})=>{let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},Wk=({trigger:{access:t}})=>{let n;return"change"in t?n="change":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},wk=({trigger:{quota:t}})=>{let n;return"warning"in t?n="warning":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},Uk=({trigger:{document:t}})=>{let n;return"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})},Vk=({trigger:{deletionLock:t}})=>{let n;return"create"in t?n="create":"delete"in t?n="delete":"modify"in t?n="modify":"effective"in t?n="effective":"expire"in t&&(n="expire"),e.jsx(e.Fragment,{children:e.jsx(h,{title:"Trigger Action",value:n})})};function Gk({trigger:t={}}){let n=e.jsx(e.Fragment,{});const s=ki(t);switch(s){case"job":n=Ok;break;case"metadata":n=Sj;break;case"collection":n=Lk;break;case"item":n=Rj;break;case"storage":n=Nk;break;case"file":n=_k;break;case"group":n=$k;break;case"shape":n=kk;break;case"access":n=Wk;break;case"quota":n=wk;break;case"document":n=Uk;break;case"deletionLock":n=Vk;break}return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Entity",value:s}),e.jsx(n,{trigger:t})]})}function qk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.item";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"})]})}function Hk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.storage";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"}),e.jsx(g,{value:"filename",children:"Filename"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"}),e.jsx(R,{name:"filename",type:"hidden",component:"input"})]})}function Jk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.file";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"new",children:"New"}),e.jsx(g,{value:"change",children:"Change"}),e.jsx(g,{value:"hash",children:"Hash"}),e.jsx(g,{value:"close",children:"Close"}),e.jsx(g,{value:"delete",children:"Delete"})]}),e.jsx(R,{name:"new",type:"hidden",component:"input"}),e.jsx(R,{name:"change",type:"hidden",component:"input"}),e.jsx(R,{name:"hash",type:"hidden",component:"input"}),e.jsx(R,{name:"close",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"})]})}function zk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.group";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"}),e.jsx(g,{value:"modify",children:"Modify"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"}),e.jsx(R,{name:"modify",type:"hidden",component:"input"})]})}function Bk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.shape";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"}),e.jsx(g,{value:"modify",children:"Modify"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"}),e.jsx(R,{name:"modify",type:"hidden",component:"input"})]})}function Kk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.access";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"}),e.jsx(g,{value:"change",children:"Change"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"}),e.jsx(R,{name:"change",type:"hidden",component:"input"})]})}function Yk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.quota";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"}),e.jsx(g,{value:"warning",children:"Warning"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"}),e.jsx(R,{name:"warning",type:"hidden",component:"input"})]})}function Xk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.document";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"})]})}function Qk(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.deletionLock";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{item:u}=c;i=u&&Object.keys(u)[0]}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"}),e.jsx(g,{value:"delete",children:"Modify"}),e.jsx(g,{value:"delete",children:"Effective"}),e.jsx(g,{value:"delete",children:"Expire"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"}),e.jsx(R,{name:"modify",type:"hidden",component:"input"}),e.jsx(R,{name:"effective",type:"hidden",component:"input"}),e.jsx(R,{name:"expire",type:"hidden",component:"input"})]})}function Zk(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"field",component:m,label:"Field",fullWidth:!0}),e.jsx(R,{name:"language",component:m,label:"Language",fullWidth:!0}),e.jsx(R,{name:"track",component:m,label:"Track",fullWidth:!0}),e.jsx(R,{name:"interval",component:m,label:"Interval",fullWidth:!0})]})}function Tj(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.metadata";let i;if(o){const c=s(r);i=c&&Object.keys(c)[0]}else try{const{notificationDocument:c={}}=n,{trigger:u={}}=c;if(u.collection){const{collection:{metadata:p}={}}=u;i=p&&Object.keys(p)[0]}else{const{metadata:p}=u;i=p&&Object.keys(p)[0]}}catch(c){console.log(c)}const a=(c,u,p)=>{const x=s(r),j={};if(x){const C=We(x,{[u]:{$set:j},$unset:[p]});t.change(r,C)}else t.change(r,{[u]:j})},l=c=>{switch(c){case"modify":return e.jsx(re,{...t,name:"modify",component:Zk,id:`${r}.modify`});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(ft,{label:"Metadata Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,ValueComponent:l,children:e.jsx(g,{value:"modify",children:"Modify"})}),e.jsx(R,{name:"modify",type:"hidden",component:"input"})]})}function eW(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.collection";let i;if(o){const c=s(r);i=c&&Object.keys(c)[0]}else{const{notificationDocument:c={}}=n,{trigger:u={}}=c,{collection:p}=u;i=p&&Object.keys(p)[0]}const a=(c,u,p)=>{const x=s(r),j=u==="metadata"?{}:"";if(x){const C=We(x,{[u]:{$set:j},$unset:[p]});t.change(r,C)}else t.change(r,{[u]:j})},l=c=>{switch(c){case"metadata":return e.jsx(re,{name:"metadata",component:Tj,id:`${r}.metadata`,...t});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,ValueComponent:l,children:[e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"delete",children:"Delete"}),e.jsx(g,{value:"modify",children:"Modify"}),e.jsx(g,{value:"metadata",children:"Metadata"})]}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"delete",type:"hidden",component:"input"}),e.jsx(R,{name:"modify",type:"hidden",component:"input"}),e.jsx(R,{name:"metadata",type:"hidden",component:"input"})]})}function tW(){return e.jsx(e.Fragment,{children:e.jsx(R,{name:"contentFilter",label:"Content Filter",component:oe,simple:!0,fullWidth:!0})})}function nW(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"key",component:m,label:"Key",fullWidth:!0}),e.jsx(R,{name:"value",component:m,label:"Value",fullWidth:!0}),e.jsx(R,{name:"key-regex",component:m,label:"Key Regex",fullWidth:!0}),e.jsx(R,{name:"value-regex",component:m,label:"Value Regex",fullWidth:!0})]})}function sW(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"type",component:m,label:"Filter Type",fullWidth:!0}),e.jsx(R,{name:"step",component:m,label:"Filter Step",type:"number",fullWidth:!0}),e.jsx(re,{name:"jobdata",component:nW})]})}function oW(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger.job";let i;if(o){const l=s(r);i=$i(l)}else{const{notificationDocument:l={}}=n,{trigger:c={}}=l,{job:u}=c;i=$i(u)}const a=(l,c,u)=>{const p=s(r),x="";if(p){const j=We(p,{[c]:{$set:x},$unset:[u]});t.change(r,j)}else t.change(r,{[c]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(ft,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(g,{value:"update",children:"Update"}),e.jsx(g,{value:"create",children:"Create"}),e.jsx(g,{value:"stop",children:"Stop"}),e.jsx(g,{value:"finish",children:"Finish"}),e.jsx(g,{value:"fail",children:"Fail"})]}),e.jsx(re,{name:"filter",component:sW}),e.jsx(re,{name:"contentFilters",component:tW}),e.jsx(R,{name:"fail",type:"hidden",component:"input"}),e.jsx(R,{name:"stop",type:"hidden",component:"input"}),e.jsx(R,{name:"create",type:"hidden",component:"input"}),e.jsx(R,{name:"finish",type:"hidden",component:"input"}),e.jsx(T,{control:e.jsx(R,{name:"placeholder",component:E}),label:"Placeholder"})]})}function rW(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=t.id||"notificationDocument.trigger";let i;if(o){const c=s(r);i=ki(c)}else{const{notificationDocument:c={}}=n,{trigger:u={}}=c;i=ki(u)}const a=c=>{switch(c){case"job":return e.jsx(re,{name:"job",component:oW,...t});case"item":return e.jsx(re,{name:"item",component:qk,...t});case"metadata":return e.jsx(re,{name:"metadata",component:Tj,...t});case"collection":return e.jsx(re,{name:"collection",component:eW,...t});case"storage":return e.jsx(re,{name:"storage",component:Hk,...t});case"file":return e.jsx(re,{name:"file",component:Jk,...t});case"shape":return e.jsx(re,{name:"shape",component:Bk,...t});case"group":return e.jsx(re,{name:"group",component:zk,...t});case"access":return e.jsx(re,{name:"access",component:Kk,...t});case"quota":return e.jsx(re,{name:"quota",component:Yk,...t});case"document":return e.jsx(re,{name:"document",component:Xk,...t});case"deletionLock":return e.jsx(re,{name:"deletionLock",component:Qk,...t});default:return null}},l=(c,u,p)=>{const x=s(r),j={};if(x){const C=We(x,{[u]:{$set:j},$unset:[p]});t.change(r,C)}else t.change(r,{[u]:j})};return e.jsx(e.Fragment,{children:e.jsxs(ft,{label:"Trigger Entity",initialvalue:i,fullWidth:!0,onChange:l,ValueComponent:a,name:r,children:[e.jsx(g,{value:"job",children:"Job"}),e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"metadata",children:"Metadata"}),e.jsx(g,{value:"collection",children:"Collection"}),e.jsx(g,{value:"storage",children:"Storage"}),e.jsx(g,{value:"file",children:"File"}),e.jsx(g,{value:"shape",children:"Shape"}),e.jsx(g,{value:"group",children:"Group"}),e.jsx(g,{value:"access",children:"Access"}),e.jsx(g,{value:"quota",children:"Quota"}),e.jsx(g,{value:"access",children:"Access"}),e.jsx(g,{value:"document",children:"Document"}),e.jsx(g,{value:"deletionLock",children:"Deletion Lock"})]})})}function iW(t){return e.jsxs("form",{onSubmit:t.handleSubmit,children:[t.error&&e.jsx(b,{color:"error",children:t.error}),e.jsx(re,{...t,name:"notificationDocument.trigger",component:rW}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ij=v()(iW),Ks=t=>{var s;const n=((s=t==null?void 0:t.response)==null?void 0:s.data)||"";return JSON.stringify(n,(o,r)=>r===null?void 0:r)};function Wi(t,n,s){try{const o=s.notificationId||t.notificationId,r=s.entityType||t.entityType,i=s.entityId||t.entityId,{notificationDocument:a}=t;return i!==void 0?ct.updateNotificationEntity({notificationId:o,entityType:r,entityId:i,notificationDocument:a}).catch(l=>{let c=l.message;throw l.response&&(c=Ks(l)),new _({_error:c})}):ct.updateNotification({notificationId:o,entityType:r,notificationDocument:a}).catch(l=>{let c=l.message;throw l.response&&(c=Ks(l)),new _({_error:c})})}catch(o){throw new _({_error:o.message})}}function id(t){try{const{notificationDocument:n}=t,s="/API/notification";return ct.createNotification({entityType:"placeholder",notificationDocument:n,path:s}).then(o=>({...o})).catch(o=>{let r=o.message;throw o.response&&(r=Ks(o)),new _({_error:r})})}catch(n){throw new _({_error:n.message})}}function ad(t,n,s){try{const{notificationDocument:o}=t,r=s.entityType||Object.keys(o.trigger)[0],i=s.entityId||t.entityId;return i!==void 0?ct.createNotificationEntity({entityId:i,entityType:r,notificationDocument:o}).then(a=>({...a,entityType:r,entityId:i})).catch(a=>{let l=a.message;throw a.response&&(l=Ks(a)),new _({_error:l})}):ct.createNotification({entityType:r,notificationDocument:o}).then(a=>({...a,entityType:r})).catch(a=>{let l=a.message;throw a.response&&(l=Ks(a)),new _({_error:l})})}catch(o){throw new _({_error:o.message})}}const Lo="NOTIFICATION_CREATE_FORM";function aW({open:t,onClose:n,onSuccess:s,submitForm:o,entityType:r,entityId:i,valueSelector:a,openSnackBar:l}){const c=(x,j,C)=>{l({messageContent:"Notification Created"}),s&&s(x,j,C),n()},u=()=>{l({messageContent:"Error Creating Notification",messageColor:"secondary"})},p={entityId:i,notificationDocument:{action:{}}};return r&&(p.notificationDocument.trigger={},r==="deletion-lock"?p.notificationDocument.trigger.deletionLock={}:p.notificationDocument.trigger[r]={}),e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:r?`New ${dt(r)} Notification`:"New Notification"}),e.jsxs(X,{children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Trigger"}),e.jsx(Ij,{entityType:r,form:Lo,onSubmit:r?ad:id,onSubmitSuccess:c,onSubmitFail:u,valueSelector:a,initialValues:p})]}),e.jsx(b,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Action"}),e.jsx(Ma,{entityType:r,form:Lo,onSubmit:r?ad:id,onSubmitSuccess:c,onSubmitFail:u,valueSelector:a,initialValues:p})]}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(Lo),children:"Save"})]})]})}const Oa=A(P,D,Bt)(aW,Lo),ld="NOTIFICATION_CREATE_DIALOG";class lW extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onSetTitle=this.onSetTitle.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onSetTitle(),this.onRefresh()}UNSAFE_componentWillReceiveProps({entityType:n,entityId:s}){const{entityType:o,entityId:r}=this.props;(o!==n||r!==s)&&(this.onSetTitle(),this.onFetch(n))}onSetTitle(){const{entityType:n,entityId:s}=this.props;document.title=`VidiCore Admin | ${dt(n)} ${s} Notification`}onRefresh(){const{entityType:n,entityId:s}=this.props;this.onFetch(n,s)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(n,s){try{ct.listNotificationEntity({entityType:n,entityId:s}).then(o=>this.setState({uriListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}render(){const{entityType:n,entityId:s,history:o}=this.props,{uriListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{grandParentTitle:dt(n),grandParentTo:`/${n}/`,parentTitle:s,title:"Notification",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:r,codeModal:"URIListDocument",createModal:ld,entityType:n}),e.jsx(Da,{uriListDocument:r,entityType:n,entityId:s}),e.jsx(Oa,{dialogName:ld,entityType:n,entityId:s,onSuccess:i=>{const{data:a}=i,{uri:l}=a,c=l[0];o.push(`/${n}/${s}/notification/${c}`)}})]})}}const Ej=P(lW),Os="NOTIFICATION_EDIT_FORM";function cW({notificationId:t,entityType:n,entityId:s,notificationDocument:o,submitForm:r,onRefresh:i,isEditing:a,toggleEdit:l,valueSelector:c,openSnackBar:u}){if(o===void 0)return null;const p=()=>{u({messageContent:"Notification Updated"}),i&&i(),l&&l()},x=()=>{u({messageContent:"Error Updating Notification",messageColor:"secondary"})},{action:j,trigger:C}=o,S=e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:a,onChange:l});return e.jsxs(zt,{children:[C&&e.jsxs(N,{children:[e.jsx(le,{title:"Trigger",action:S}),a?e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx(Ij,{notificationId:t,entityType:n,entityId:s,form:Os,onSubmit:Wi,onSubmitSuccess:p,onSubmitFail:x,initialValues:{notificationDocument:o},valueSelector:c})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:()=>r(Os),children:"Save"})})]}):e.jsx(U,{children:e.jsx(Gk,{notificationId:t,trigger:C,entityType:n,entityId:s})})]}),e.jsxs(N,{children:[e.jsx(le,{title:"Action",action:S}),a?e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx(Ma,{notificationId:t,entityType:n,entityId:s,form:Os,onSubmit:Wi,onSubmitSuccess:p,onSubmitFail:x,initialValues:{notificationDocument:o},valueSelector:c})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:()=>r(Os),children:"Save"})})]}):e.jsx(U,{children:e.jsx(yj,{notificationId:t,action:j,entityType:n,entityId:s})})]})]})}const vj=A(P,D,Bt)(cW,Os);function dW({open:t,onClose:n,openSnackBar:s,notificationId:o,entityType:r,entityId:i,onSuccess:a}){const l=()=>{const x=`/API/notification/${o}`;ct.removeNotification({notificationId:o,entityType:"placeholder",path:x}).then(()=>{const j=`Notification ${o} Removed`;s({messageContent:j}),n(),a&&a()}).catch(()=>{s({messageContent:"Error Removing Notification",messageColor:"secondary"})})},c=()=>{ct.removeNotification({notificationId:o,entityType:r}).then(()=>{const x=`Notification ${o} Removed`;s({messageContent:x}),n(),a&&a()}).catch(()=>{s({messageContent:"Error Removing Notification",messageColor:"secondary"})})},u=()=>{ct.removeNotificationEntity({notificationId:o,entityType:r,entityId:i}).then(()=>{const x=`Notification ${o} Removed`;s({messageContent:x}),n(),a&&a()}).catch(()=>{s({messageContent:"Error Removing Notification",messageColor:"secondary"})})};let p=l;return i&&r?p=u:r&&(p=c),e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Notification ${o}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:p,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const La=P(dW),cd="NOTIFICATION_REMOVE_DIALOG";class uW extends I.PureComponent{constructor(n){super(n),this.onSetTitle=this.onSetTitle.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){this.onSetTitle(),this.onRefresh()}onSetTitle(){const{entityType:n,entityId:s,notificationId:o}=this.props;document.title=`VidiCore Admin | ${dt(n)} ${s} | ${o}`}onRefresh(){const{entityType:n,entityId:s,notificationId:o}=this.props;try{ct.getNotificationEntity({notificationId:o,entityType:n,entityId:s}).then(r=>this.setState({notificationDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{notificationId:n,entityType:s,entityId:o,history:r}=this.props,{notificationDocument:i,isEditing:a}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{breadcrumbList:[{to:`/${s}/`,title:dt(s)},{to:`/${s}/${o}`,title:o},{to:`/${s}/${o}/notification/`,title:"Notification"},{title:n}],helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:i,codeModal:"NotificationDocument",entityId:`notification/${n}`,entityType:s,removeModal:cd}),e.jsx(vj,{notificationDocument:i,entityType:s,entityId:o,notificationId:n,isEditing:a,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),e.jsx(La,{dialogName:cd,onSuccess:()=>r.push(`/${s}/${o}/notification/`),entityType:s,entityId:o,notificationId:n})]})}}const Fj=A(et,q)(uW),mW=({uri:t})=>e.jsx(h,{title:"URI Type",value:t.type}),hW=({shape:t})=>e.jsx(h,{title:"Shape Tag",variant:"shape-tag",value:t.tag}),pW=({metadata:t})=>e.jsx(h,{title:"Metadata Field",variant:"metadata-field",value:t.field}),Aj=({access:t})=>e.jsxs(e.Fragment,{children:[t.user&&e.jsx(h,{title:"User",variant:"username",value:t.user}),t.group&&e.jsx(h,{title:"Group",variant:"group",value:t.group}),e.jsx(h,{title:"Permission",value:t.permission}),e.jsx(h,{title:"Grantor",variant:"username",value:t.grantor}),e.jsx(h,{title:"Recursive",variant:"boolean",value:t.recursive}),e.jsx(h,{title:"Priority",value:t.priority}),t.operation&&t.operation.uri&&e.jsx(mW,{uri:t.operation.uri}),t.operation&&t.operation.shape&&e.jsx(hW,{shape:t.operation.shape}),t.operation&&t.operation.metadata&&e.jsx(pW,{metadata:t.operation.metadata})]});function xW({accessControlDocument:t}){return e.jsx(Aj,{access:t})}function jW({accessControlDocument:t,entityType:n,entityId:s,openRemove:o}){const{id:r,permission:i}=t;let a;return i!=="OWNER"&&(a=e.jsx(Q,{onClick:o(r),children:e.jsx(at,{})})),e.jsxs(e.Fragment,{children:[e.jsx(le,{subheader:t.id,action:a}),e.jsx(U,{children:e.jsx(xW,{accessControlDocument:t,entityType:n,entityId:s})})]})}function fW({accessControlDocument:t,onRefresh:n,entityType:s,entityId:o,openRemove:r}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(jW,{accessControlDocument:t,onRefresh:n,entityType:s,entityId:o,openRemove:r})})})}function gW({accessControlListDocument:t={},onRefresh:n,entityType:s,entityId:o,openRemove:r,openCreate:i}){const{access:a=[]}=t;return e.jsxs(e.Fragment,{children:[i&&e.jsx(le,{action:e.jsx(Q,{onClick:i,children:e.jsx(bt,{})})}),a.map(l=>e.jsx(fW,{accessControlDocument:l,onRefresh:n,entityType:s,entityId:o,openRemove:r},l.id))]})}function bW({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r,accessId:i,entityId:a,entityType:l}){const c=()=>{Ot.removeEntityAccess({accessId:i,entityId:a,entityType:l}).then(u=>{const p=`Access Control "${i}" Removed`;s({messageContent:p}),n(),o&&o(u)}).catch(u=>{s({messageContent:"Error Removing Access Control",messageColor:"secondary"}),r&&r(u)})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Import Setting ${i} ?`}),e.jsx(X,{children:e.jsx(xn,{children:"Users may no longer be able to access this."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:c,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const CW=P(bW),yW=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"additionalUserInfo",component:E}),label:"Additional User Info"}),e.jsx(T,{control:e.jsx(d,{name:"additionalGroupInfo",component:E}),label:"Additional Group Info"})]});function SW({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:yW,fullWidth:!0})]})}const RW=v()(SW),Pj="ACCESS_PARAMS_FORM";function TW({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,entityType:a,entityId:l,form:c=Pj,...u}){const p=(j,C,S)=>{n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Updating Access Control Display",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Access Control Params"})}),e.jsx(Ae,{children:e.jsx(F,{container:!0,children:e.jsx(F,{item:!0,xs:!0,children:e.jsx(RW,{form:c,onSubmit:ek,onSubmitSuccess:p,onSubmitFail:x,entityType:a,entityId:l,...u})})})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const IW=A(q,D)(TW),dd="ACCESSCONTROL_REMOVE_MODAL";let EW=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.state={accessControlListDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Pj)}openRemove(n){const{onOpen:s}=this.props;return()=>s({modalName:dd,accessId:n})}render(){const{accessControlListDocument:n}=this.state,{entityType:s,entityId:o,titleComponent:r,tabComponent:i,title:a}=this.props;return e.jsxs(e.Fragment,{children:[r&&e.jsx(r,{onRefresh:this.onRefresh,codeModal:"AccessControlListDocument",code:n,title:a}),i&&e.jsx(i,{}),e.jsx(IW,{entityId:o,entityType:s,onSuccess:l=>this.setState({accessControlListDocument:l.data})}),e.jsx(gW,{accessControlListDocument:n,entityType:s,entityId:o,onRefresh:this.onRefresh,openRemove:this.openRemove}),e.jsx(CW,{dialogName:dd,entityId:o,entityType:s,onSuccess:this.onRefresh})]})}};const Na=A(D,P)(EW),vW=({access:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Permission",value:t.permission}),e.jsx(h,{title:"Type",value:t.type}),e.jsx(h,{title:"Priority",value:t.priority}),t.username&&e.jsx(h,{title:"User",variant:"username",value:t.username}),t.group&&e.jsx(h,{title:"Group",variant:"group",value:t.group}),t.grantor&&e.jsx(h,{title:"Grantor",variant:"username",value:t.grantor}),t.extradata&&e.jsx(h,{title:"Extra Data",value:t.extradata}),t.collection&&e.jsx(h,{title:"Collection",variant:"collection",value:t.collection}),t.library&&e.jsx(h,{title:"Library",variant:"collection",value:t.library}),t.superUser&&e.jsx(h,{title:"Super User",variant:"boolean",value:t.superUser}),t.matches&&e.jsx(h,{title:"Matches",variant:"boolean",value:t.matches}),t.id&&e.jsx(h,{title:"ID",value:t.id}),t.effectivePermission&&e.jsx(h,{title:"Effective Permission",value:t.effectivePermission})]});function FW({accessControlMergedDocument:t={}}){const{access:n=[]}=t;return e.jsx(e.Fragment,{children:n.map((s,o)=>e.jsx(N,{children:e.jsx(U,{children:e.jsx(vW,{access:s})})},o))})}const AW=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"username",label:"User",component:Y,loadOptions:ds,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(d,{name:"permission",component:B,children:[e.jsx(g,{value:"NONE",children:"None"}),e.jsx(g,{value:"READ",children:"Read"}),e.jsx(g,{value:"WRITE",children:"Write"}),e.jsx(g,{value:"ALL",children:"All"}),e.jsx(g,{value:"OWNER",children:"Owner"})]})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsxs(d,{name:"type",component:B,children:[e.jsx(g,{value:"GENERIC",children:"Generic"}),e.jsx(g,{value:"URI",children:"URI"}),e.jsx(g,{value:"SHAPE",children:"Shape"}),e.jsx(g,{value:"METADATA",children:"Metadata"})]})]}),e.jsx(d,{name:"extradata",label:"Extra Data",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"additionalUserInfo",component:E}),label:"Additional User Info"}),e.jsx(T,{control:e.jsx(d,{name:"additionalGroupInfo",component:E}),label:"Additional Group Info"})]});function PW({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:AW,fullWidth:!0})]})}const DW=v()(PW),Dj="ACCESS_MERGED_PARAMS_FORM";function MW({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,entityType:a,entityId:l,form:c=Dj,...u}){const p=(j,C,S)=>{n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Updating Access Control Merged Display",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Access Control Merged Options"})}),e.jsx(Ae,{children:e.jsx(F,{container:!0,children:e.jsx(F,{item:!0,xs:!0,children:e.jsx(DW,{form:c,onSubmit:Z$,onSubmitSuccess:p,onSubmitFail:x,entityType:a,entityId:l,...u})})})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const OW=A(q,D)(MW);class LW extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={accessControlMergedDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Dj)}render(){const{accessControlMergedDocument:n}=this.state,{titleComponent:s,tabComponent:o,entityId:r,entityType:i,title:a}=this.props;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{onRefresh:this.onRefresh,codeModal:"AccessControlMergedDocument",code:n,title:a}),o&&e.jsx(o,{}),e.jsx(OW,{entityId:r,entityType:i,onSuccess:l=>this.setState({accessControlMergedDocument:l.data})}),e.jsx(FW,{accessControlMergedDocument:n})]})}}const _a=D(LW);function No({labels:t=[]}){return e.jsx(F,{container:!0,children:t.map(n=>e.jsx(F,{item:!0,sm:2,children:e.jsx(Le,{label:n})},n))})}function NW({storageRuleDocument:t,onRemove:n}){return e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.appliesTo.id}),e.jsx(M,{children:t.appliesTo.type}),e.jsx(M,{children:t.id}),e.jsx(M,{children:t.storageCount}),e.jsx(M,{children:e.jsx(No,{labels:t.storage})}),e.jsx(M,{children:t.precedence}),e.jsx(M,{children:t.inherited===!0&&e.jsx(Dt,{})}),e.jsx(M,{disableOnClick:!0,children:e.jsx(Q,{onClick:()=>n({storageRuleDocument:t}),children:e.jsx(Be,{})})})]})}const ud="REMOVE_STORAGERULE_DIALOG";function _W({storageRulesDocument:t,onRefresh:n,dialogProps:s,onOpen:o}){const{tag:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Entity"}),e.jsx(M,{children:"Type"}),e.jsx(M,{children:"ID"}),e.jsx(M,{children:"Count"}),e.jsx(M,{children:"Storage"}),e.jsx(M,{children:"Precedence"}),e.jsx(M,{children:"Inherited"}),e.jsx(M,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(NW,{storageRuleDocument:i,onRemove:o(ud)},`${i.appliesTo.id}_${i.appliesTo.type}_${i.id}`))})]}),e.jsx(ex,{...s,dialogName:ud,onSuccess:n})]})}const $W=st(_W);function kW({createModal:t,title:n,onOpen:s,...o}){return e.jsxs(N,{children:[t&&e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:n}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Q,{onClick:()=>s({modalName:t}),children:e.jsx(bt,{})})})})}),e.jsx(U,{children:e.jsx($W,{...o})})]})}const Mj=tt(kW);function WW({open:t,onClose:n,openSnackBar:s,onSuccess:o,entityType:r,entityId:i}){const a=c=>{s({messageContent:"Storage Rule Created"}),n(),o&&o(c)},l=()=>{s({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Storage Rule"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Uv,documentName:"storageRuleDocument",onSubmit:Qp,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,entityType:r,entityId:i})})]})}const wW=P(WW),Vr="STORAGERULE_DIALOG";class UW extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageRulesDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{openSnackBar:n,entityId:s,entityType:o}=this.props;try{en.getEntityStorageRule({entityId:s,entityType:o}).then(r=>this.setState({storageRulesDocument:r.data}))}catch{n({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}render(){const{entityId:n,entityType:s,titleComponent:o,tabComponent:r,title:i}=this.props,{storageRulesDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[o&&e.jsx(o,{onRefresh:this.onRefresh,codeModal:"StorageRulesDocument",code:a,createModal:Vr,title:i}),r&&e.jsx(r,{}),a&&e.jsx(Mj,{onRefresh:this.onRefresh,storageRulesDocument:a,createModal:o?void 0:Vr}),e.jsx(wW,{dialogName:Vr,onSuccess:this.onRefresh,entityId:n,entityType:s})]})}}const $a=q(UW);function VW(t){return e.jsx(K,{title:"Deletion Lock",helpTo:"/ref/deletion-lock.html",...t})}function GW(t){const{queryParams:n}=t;return rs.listDeletionLock({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function qW(t,n,s){const{queryParams:o}=t,{entityType:r,entityId:i}=s;return rs.listEntityDeletionLock({entity:r,entityId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function HW(t,n,s){const{deletionLockDocument:o}=t,r=s.lockId||o.id;return rs.updateDeletionLock({lockId:r,deletionLockDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function JW(t,n,s){const{deletionLockDocument:o}=t,r=s.entityType||o.entityType,i=s.entityId||o.entityId;return rs.createEntityDeletionLock({entity:r,entityId:i,deletionLockDocument:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}const zW=({entityType:t})=>e.jsxs(e.Fragment,{children:[!t&&e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"entityTypes",children:"Entity Types"}),e.jsxs(d,{name:"entityTypes",component:B,children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"collection",children:"Collection"}),e.jsx(g,{value:"file",children:"File"}),e.jsx(g,{value:"all",children:"All"})]})]}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"username",component:Y,loadOptions:ds,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"range",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"onlyEffective",component:E}),label:"Only Effective"}),e.jsx(w,{name:"metadata",label:"Metadata",component:se})]});function BW({error:t,handleSubmit:n,entityType:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:zW,entityType:s}),e.jsx("button",{type:"submit",hidden:!0})]})}const KW=v()(BW);function YW({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="DELETIONLOCKLIST_FILTER_FORM",changeForm:a,entityId:l,entityType:c}){const u=(j,C,S)=>{n&&n(j,C,S)},p=()=>{s({messageContent:"Error Listing Deletion Lock list",messageColor:"secondary"})},x=async()=>{await a(i,"queryParams.first",1),o(i)};return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx(KW,{form:i,onSubmit:c?qW:GW,onSubmitSuccess:u,onSubmitFail:p,onCancel:t,initialValues:{queryParams:{entityTypes:"all",onlyEffective:!1}},entityId:l,entityType:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:x,children:"Filter"})]})]})}const XW=A(P,D)(YW);function QW({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(XW,{...t})})})}function ZW({deletionLockType:t={}}){const{id:n,user:s,expiryTime:o,modified:r,entityType:i,entityId:a,isEffective:l,isInherited:c,isExpired:u}=t;return e.jsxs(je,{hover:!0,to:`/deletion-lock/${n}/`,children:[e.jsx(M,{children:n}),e.jsx(M,{children:s}),e.jsx(M,{children:o?Oe(o).toString():""}),e.jsx(M,{children:r?Oe(r).toString():""}),e.jsx(M,{children:i}),e.jsx(M,{children:a}),e.jsx(M,{children:l&&e.jsx(Dt,{})}),e.jsx(M,{children:c&&e.jsx(Dt,{})}),e.jsx(M,{children:u&&e.jsx(Dt,{})})]})}function ew({deletionLockListDocument:t,count:n=0,page:s=0,rowsPerPage:o=100,onChangePage:r,onChangeRowsPerPage:i}){const{lock:a=[]}=t,l=[100,250,500];return l.includes(o)||l.push(o),e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Lock ID"}),e.jsx(M,{children:"Username"}),e.jsx(M,{children:"Expiry Time"}),e.jsx(M,{children:"Modified"}),e.jsx(M,{children:"Entity Type"}),e.jsx(M,{children:"Entity ID"}),e.jsx(M,{children:"Effective"}),e.jsx(M,{children:"Inherited"}),e.jsx(M,{children:"Expired"})]})}),e.jsx(de,{children:a.map(c=>e.jsx(ZW,{deletionLockType:c},c.id))}),e.jsx(Ct,{children:e.jsx(je,{children:e.jsx(yt,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:St,rowsPerPageOptions:l})})})]})}function tw({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(ew,{...t})})})}const nw=({showMetadataType:t,isNew:n,entityId:s,entityType:o})=>e.jsxs(e.Fragment,{children:[!n&&e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"id",component:m,fullWidth:!0,disabled:!0}),e.jsx(d,{name:"user",component:m,fullWidth:!0,disabled:!0})]}),e.jsx(d,{name:"expiryTime",component:m,fullWidth:!0}),!n&&e.jsx(d,{name:"modified",component:m,fullWidth:!0,disabled:!0}),!o&&e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"entityType",children:"Entity Type"}),e.jsxs(d,{name:"entityType",component:B,required:n,disabled:!n,children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"collection",children:"Collection"}),e.jsx(g,{value:"file",children:"File"})]})]}),!s&&e.jsx(d,{name:"entityId",component:m,fullWidth:!0,required:n,disabled:!n}),!n&&e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"isEffective",component:E,disabled:!0}),label:"Effective"}),e.jsx(T,{control:e.jsx(d,{name:"isInherited",component:E,disabled:!0}),label:"Inherited"}),e.jsx(T,{control:e.jsx(d,{name:"isExpired",component:E,disabled:!0}),label:"Expired"})]}),t&&e.jsx(y,{name:"metadata",component:bn})]});function sw({error:t,handleSubmit:n,showMetadataType:s,isNew:o,entityId:r,entityType:i}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"deletionLockDocument",component:nw,entityId:r,entityType:i,showMetadataType:s,isNew:o}),e.jsx("button",{type:"submit",hidden:!0})]})}const Oj=v()(sw);function ow({open:t,onClose:n,onSuccess:s,openSnackBar:o,entityId:r,entityType:i}){const a=(c,u,p)=>{o({messageContent:"Deletion Lock Created"}),n(),s&&s(c,u,p)},l=()=>{o({messageContent:"Error Creating Deletion Lock",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Deletion Lock"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Oj,documentName:"deletionLockDocument",onSubmit:JW,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,entityId:r,entityType:i,initialStep:1,showMetadataType:!0,isNew:!0})})]})}const rw=P(ow),vn="DELETIONLOCKLIST_FILTER_FORM",md="DELETIONLOCK_CREATE_MODAL";class iw extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={deletionLockListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0}}componentDidMount(){document.title="VidiCore Admin | Deletion Lock",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(vn)}onSuccess(n){const s=n.data,{formValues:o={}}=this.props,{queryParams:r={}}=o,{first:i=1,number:a=100}=r,{count:l=0}=s,c=Math.ceil(l/a)-Math.ceil((l-i)/a);this.setState({count:l,rowsPerPage:a,page:c,deletionLockListDocument:s})}async onChangePage({page:n}){const{formValues:s={},changeForm:o}=this.props,{queryParams:r={}}=s,{number:i=100}=r,a=n*i;o(vn,"queryParams.first",a),await o(vn,"queryParams.number",i),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(vn,"queryParams.first",1),await s(vn,"queryParams.number",n),this.onRefresh()}render(){const{deletionLockListDocument:n,count:s,page:o,rowsPerPage:r}=this.state,{history:i,entityId:a,entityType:l,titleComponent:c=VW,title:u}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(c,{code:n,codeModal:"DeletionLockListDocument",onRefresh:this.onRefresh,createModal:md,createTooltip:"New Deletion Lock",title:u}),e.jsx(QW,{form:vn,onSuccess:this.onSuccess,entityId:a,entityType:l}),n&&e.jsx(tw,{deletionLockListDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,entityId:a,entityType:l}),e.jsx(rw,{dialogName:md,onSuccess:a?this.onRefresh:({data:p})=>i.push(`/deletion-lock/${p.id}`),entityId:a,entityType:l})]})}}const ho=A(D,Bt)(iw,vn),aw=({itemId:t})=>e.jsxs(F,{container:!0,alignItems:"center",children:[e.jsx(F,{item:!0,children:e.jsx(b,{variant:"h5",color:"textSecondary",children:"Item"})}),e.jsx(F,{item:!0,children:e.jsx(Q,{disabled:!0,children:e.jsx(Bn,{})})}),e.jsx(F,{item:!0,children:e.jsx(b,{variant:"h5",component:Pt,to:He.itemList({itemId:t}),style:{textDecoration:"none"},children:t})})]});function lw({itemId:t,onOpen:n,removeModal:s,transcodeModal:o,relationModal:r,thumbnailModal:i,posterModal:a,exportModal:l,exportImpModal:c,addToCollectionModal:u,startJobModal:p,title:x,createModal:j,createTooltip:C="New",removeAllShapesModal:S,importImpModal:L,breadcrumbList:ne,createShapeModal:Te,analyzeModal:Ie,...ke}){return e.jsx(K,{grandParentTitle:"Item",grandParentTo:He.itemList(),parentTitle:t,title:x,helpTo:"/ref/item/item.html",entityId:t,entityType:"item",removeModal:s,removeAllShapesModal:S,breadcrumbList:Array.isArray(ne)?[{title:"Item",to:He.itemList()},{title:t,to:He.item({itemId:t})},...ne]:void 0,actionComponent:e.jsxs(e.Fragment,{children:[j&&e.jsx(Ee,{title:C,children:e.jsx(Q,{onClick:()=>n({modalName:j}),children:e.jsx(bt,{})})}),e.jsxs(pt,{children:[e.jsx(g,{children:e.jsx(fe,{to:`/import?tab=IMPORTCOMPONENT_TAB&itemId=${t}`,children:e.jsx(b,{children:"Import Component"})})}),e.jsx(g,{children:e.jsx(fe,{to:`/import?tab=IMPORTSHAPE_TAB&itemId=${t}`,children:e.jsx(b,{children:"Import Shape"})})}),e.jsx(fe,{to:`/import?tab=IMPORTSIDECAR_TAB&itemId=${t}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Import Sidecar"})})}),L?e.jsx(g,{onClick:()=>n({modalName:L}),children:e.jsx(b,{color:"inherit",children:"Import IMF Package"})}):null,Te?e.jsx(g,{onClick:()=>n({modalName:Te}),children:e.jsx(b,{color:"inherit",children:"Create Shape"})}):null,e.jsx(fe,{to:`/import?tab=IMPORTSHAPEPLACEHOLDER_TAB&itemId=${t}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Create Shape Placeholder"})})}),e.jsx(g,{onClick:()=>n({modalName:u}),children:e.jsx(b,{children:"Add To Collection"})}),e.jsx(g,{onClick:()=>n({modalName:r}),children:e.jsx(b,{children:"Add Relation"})}),e.jsx(g,{onClick:()=>n({modalName:p}),children:e.jsx(b,{children:"Start Job"})}),e.jsx(g,{onClick:()=>n({modalName:Ie}),children:e.jsx(b,{children:"Analyze"})}),e.jsx(g,{onClick:()=>n({modalName:o}),children:e.jsx(b,{children:"Transcode"})}),e.jsx(g,{onClick:()=>n({modalName:i}),children:e.jsx(b,{children:"Create Thumbnail"})}),e.jsx(g,{onClick:()=>n({modalName:a}),children:e.jsx(b,{children:"Create Poster"})}),e.jsx(g,{onClick:()=>n({modalName:l}),children:e.jsx(b,{children:"Export"})}),e.jsx(g,{onClick:()=>n({modalName:c}),children:e.jsx(b,{children:"Export IMF Package"})}),e.jsx(g,{onClick:()=>n({modalName:s}),children:e.jsx(b,{color:"secondary",children:"Delete Item"})}),S?e.jsx(g,{onClick:()=>n({modalName:S}),children:e.jsx(b,{color:"secondary",children:"Delete All Shapes"})}):null]})]}),...ke})}const cw=tt(lw),dw=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"keepShapeTagMedia",label:"Keep Shape-Tag Media",component:m,fullWidth:!0}),e.jsx(d,{name:"keepShapeTagStorage",label:"Keep Shape-Tag Storage",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function uw({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:dw}),e.jsx("button",{type:"submit",hidden:!0})]})}const mw=v()(uw),hd="ITEM_DELETE_FORM";function hw({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Item Deleted"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Deleting Item",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Delete Item ${a}`}),e.jsx(ve,{children:e.jsx(mw,{form:hd,onSubmit:lN,onSubmitSuccess:l,onSubmitFail:c,itemId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(hd),children:"Delete"})]})]})}const pw=A(P,D)(hw),xw=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(T,{control:e.jsx(d,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(d,{name:"createPosters",label:"Poster Timecodes",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"destinationItem",component:m,fullWidth:!0}),e.jsx(d,{name:"original",label:"Reset Original",component:m,fullWidth:!0}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(d,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(d,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(T,{control:e.jsx(d,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(d,{name:"fastStartLength",component:m,fullWidth:!0})]});function jw({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:xw}),e.jsx("button",{type:"submit",hidden:!0})]})}const Lj=v()(jw),pd="EDIT_ITEM_TRANSCODE_FORM";function fw({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Transcode Job Created"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Start Transcode"}),e.jsx(X,{children:e.jsx(Lj,{form:pd,onSubmit:pN,onSubmitSuccess:l,onSubmitFail:c,itemId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(pd),children:"Start"})]})]})}const gw=A(P,D)(fw),bw=({variant:t})=>e.jsxs(e.Fragment,{children:[t!=="thumbnail"&&e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"createPosters",label:"Poster Timecode",component:oe,validate:[Z],simple:!0,required:!0,fullWidth:!0}),e.jsx(d,{name:"posterWidth",component:m,fullWidth:!0}),e.jsx(d,{name:"posterHeight",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"posterFormat",children:"Poster Format"}),e.jsxs(d,{name:"posterFormat",component:B,children:[e.jsx(g,{value:"jpeg",children:"JPEG"}),e.jsx(g,{value:"png",children:"PNG"})]})]})]}),t!=="poster"&&e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"createThumbnails",label:"Thumbnail Timecode",component:oe,validate:[Z],simple:!0,required:!0,fullWidth:!0}),e.jsx(d,{name:"thumbnailWidth",component:m,fullWidth:!0}),e.jsx(d,{name:"thumbnailHeight",component:m,fullWidth:!0})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(n=>e.jsx(g,{value:n,children:n},n))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(d,{name:"tag",label:"Shape-Tag Settings",component:m,fullWidth:!0}),e.jsx(d,{name:"version",label:"Item Essence ID",component:m,fullWidth:!0}),e.jsx(d,{name:"sourceTag",label:"Source Shape-Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(d,{name:"thumbnailService",label:"Thumbnail Service ID",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function Cw({error:t,handleSubmit:n,variant:s,itemId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!o&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:bw,variant:s}),e.jsx("button",{type:"submit",hidden:!0})]})}const yw=v()(Cw),xd="ITEM_THUMBNAIL_FORM";function Sw({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,variant:a,itemId:l}){const c=(p,x,j)=>{r({messageContent:"Thumbnail Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Thumbnail Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Start ${a?ie(a):"Thumbnail"} Job`}),e.jsx(X,{children:e.jsx(yw,{form:xd,onSubmit:xN,onSubmitSuccess:c,onSubmitFail:u,variant:a,itemId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(xd),children:"Start"})]})]})}const jd=A(P,D)(Sw),fd="ITEM_RELATION_FORM";function Rw({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Relation Created"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Creating Relation",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Item-To-Item Relation"}),e.jsx(X,{children:e.jsx(w0,{form:fd,onSubmit:fN,onSubmitSuccess:l,onSubmitFail:c,itemId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(fd),children:"Create"})]})]})}const Tw=A(P,D)(Rw),Iw=nn(eo.listExportLocation,500,{leading:!0,trailing:!1}),fs=t=>new Promise((n,s)=>{Iw().then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{const{exportLocation:r=[]}=o;let i=r;t&&t!=="*"&&(i=r.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())));const a=i.map(l=>({label:l.name,value:l.name}));n(a)}).catch(o=>{s(o)})}),Ew=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsx(d,{name:"locationName",label:"Export Location",component:Y,loadOptions:fs,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"template",label:"Export Template",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"version",component:m,fullWidth:!0})]});function vw({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:Ew}),e.jsx("button",{type:"submit",hidden:!0})]})}const Fw=v()(vw),gd="ITEM_EXPORT_FORM";function Aw({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Export Started"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Export Item"}),e.jsx(X,{children:e.jsx(Fw,{form:gd,onSubmit:iN,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,itemId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(gd),children:"Start"})]})]})}const Pw=A(P,D)(Aw),Dw=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsx(d,{name:"locationName",label:"Export Location",component:Y,loadOptions:fs,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"template",label:"Export Template",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"cplTrack",label:"CPL Track",component:m,fullWidth:!0}),e.jsx(d,{name:"version",component:m,fullWidth:!0})]});function Mw({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:Dw}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ow=v()(Mw),bd="ITEM_EXPORTIMP_FORM";function Lw({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Export Started"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Export Item IMF Package"}),e.jsx(X,{children:e.jsx(Ow,{form:bd,onSubmit:aN,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,itemId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(bd),children:"Start"})]})]})}const Nw=A(P,D)(Lw),_w=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0,required:!0}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(d,{name:"storageId",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"removeOldEssenceFiles",component:E,label:"Remove Old Essence Files"})}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(d,{name:"importTag",label:"Import Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0})]});function $w({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:_w}),e.jsx("button",{type:"submit",hidden:!0})]})}const kw=v()($w),Cd="ITEM_IMPORTIMP_FORM";function Ww({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Import Started"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Starting Import",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Import Item IMF Package"}),e.jsx(X,{children:e.jsx(kw,{form:Cd,onSubmit:s_,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,itemId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Cd),children:"Start"})]})]})}const ww=A(P,D)(Ww),Uw=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"updateItemMetadata",component:E}),label:"Update Item Metadata"})]});function Vw({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:Uw}),e.jsx(d,{name:"shapeDocument",component:mt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const Gw=v()(Vw),qw="ITEM_SHAPE_CREATE_FORM";function Hw({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,initialValues:l,form:c=qw}){const u=(x,j,C)=>{r({messageContent:"Shape Created"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Creating Shape",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Duplicate Shape"}),e.jsx(X,{children:e.jsx(Gw,{form:c,onSubmit:t_,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,itemId:a,initialValues:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(c),children:"Create"})]})]})}const Nj=A(P,D)(Hw),Jw=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"otif",label:"otif",component:hr})}),zw=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"otif",label:"otif",component:hr})}),Bw=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"model",component:m,fullWidth:!0})}),Kw=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"aspect",component:m,fullWidth:!0})}),Yw=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"tone",label:"tone",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"stream",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"channel",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"thresh",component:m,type:"number",fullWidth:!0})]}),ka=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"black",label:"Black",component:()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"threshold",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"percentage",component:m,type:"number",fullWidth:!0})]})}),e.jsx(y,{name:"bars",label:"Bars",component:()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"threshold",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"percentage",component:m,type:"number",fullWidth:!0})]})}),e.jsx(y,{name:"freeze",label:"Freeze",component:()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"threshold",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"time",component:m,type:"number",fullWidth:!0})]})}),e.jsx(w,{name:"channel",label:"channel",component:Yw}),e.jsx(y,{name:"audio",label:"Audio",component:Jw}),e.jsx(y,{name:"video",label:"Video",component:zw}),e.jsx(y,{name:"highlighter",label:"Highlighter",component:Bw}),e.jsx(y,{name:"smartcrop",label:"SmartCrop",component:Kw})]}),Xw=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"resourceId",label:"Resource ID",component:m,fullWidth:!0}),e.jsx(d,{name:"storageId",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"callbackId",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function Qw({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:Xw}),e.jsx(y,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:ka}),e.jsx("button",{type:"submit",hidden:!0})]})}const Zw=v()(Qw),eU="ITEM_ANALYZE_FORM";function tU({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,form:l=eU}){const c=(p,x,j)=>{r({messageContent:"Analyze Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Start Item Analyze Job"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(Zw,{form:l,onSubmit:bN,onSubmitSuccess:c,onSubmitFail:u,itemId:a,initialValues:{}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Start"})]})]})}const nU=A(P,D)(tU),sU=()=>e.jsxs(F,{container:!0,spacing:8,children:[e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"key",label:"key",component:m,fullWidth:!0})}),e.jsx(F,{item:!0,sm:6,children:e.jsx(d,{name:"value",label:"value",component:m,fullWidth:!0})})]}),oU=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Entity Type"}),e.jsxs(d,{name:"type",component:B,validate:[Z],children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"collection",children:"Collection"}),e.jsx(g,{value:"library",children:"Library"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"addItems",component:E}),label:"Add Items"}),e.jsx(w,{name:"metadata",label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0,component:sU})]});function rU({error:t,handleSubmit:n,collectionId:s,entityId:o,initialValues:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"collectionId",label:"Collection ID",component:m,fullWidth:!0}),!o&&e.jsx(d,{name:"entityId",label:"Entity ID",component:m,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:oU,initialValues:r}),e.jsx("button",{type:"submit",hidden:!0})]})}const iU=v()(rU),yd="COLLECTION_ENTITY_ADD_FORM";function aU({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,collectionId:a,entityId:l,entityType:c}){const u=(x,j,C)=>{r({messageContent:"Collection Entity Added"}),o&&o(x,j,C),s()},p=(x,j,C)=>{r({messageContent:"Error Adding Collection Entity",messageColor:"secondary"}),i&&i(x,j,C)};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Entity To Collection"}),e.jsx(X,{children:e.jsx(iU,{onSubmit:wN,onSubmitSuccess:u,onSubmitFail:p,form:yd,collectionId:a,entityId:l,initialValues:{queryParams:{type:c}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(yd),children:"Add"})]})]})}const _j=A(P,D)(aU);class Ys extends I.PureComponent{constructor(n){super(n),this.handleChange=this.handleChange.bind(this);const{meta:s,choices:o={}}=n,{initial:r={}}=s,i=Object.keys(o).find(a=>Object.keys(r).includes(a));this.state={value:i||""}}handleChange(n){const{value:s}=n.target,{value:o}=this.state,{value:r,onChange:i}=this.props.input;if(r){const a=We(r,{[s]:{$set:""},$unset:[o]});i(a)}else i({[s]:""});this.setState({value:s})}render(){const{children:n,label:s,choices:o={},input:r,...i}=this.props,{value:a}=this.state,l=a?o[a]:null;return e.jsxs(e.Fragment,{children:[e.jsx(Qs,{children:s}),e.jsx(ue,{...i,select:!0,value:a,FormHelperTextProps:{focused:!0},onChange:this.handleChange,children:n}),l]})}}const $j=()=>e.jsx(R,{name:"field",label:"Metadata Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0}),kj=()=>e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,creatable:!0,cacheOptions:!0,isClearable:!0}),Wj=()=>e.jsx(R,{name:"type",component:m,label:"URI Type",fullWidth:!0}),lU=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"priority",component:m,label:"Priority",type:"number",fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(R,{name:"permission",component:B,children:[e.jsx(g,{value:"READ",children:"Read"}),e.jsx(g,{value:"WRITE",children:"Write"}),e.jsx(g,{value:"ALL",children:"All"}),e.jsx(g,{value:"OWNER",children:"Owner"}),e.jsx(g,{value:"NONE",children:"None"})]})]}),e.jsx(Zn,{name:"grantor",label:"Grantor",isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(R,{name:"recursive",component:E}),label:"Recursive"})]}),cU=()=>e.jsx(T,{control:e.jsx(R,{name:"allowDuplicate",component:E}),label:"Allow Duplicate"});function dU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsxs(R,{name:"accessControlDocument",component:Ys,label:"Entity",fullWidth:!0,choices:{user:e.jsx(Zn,{name:"accessControlDocument.user",label:"User",isClearable:!0,fullWidth:!0}),group:e.jsx(Ca,{name:"accessControlDocument.group",label:"Group",isClearable:!0,fullWidth:!0})},children:[e.jsx(g,{value:"user",children:"User"}),e.jsx(g,{value:"group",children:"Group"})]}),e.jsxs(R,{name:"accessControlDocument.operation",component:Ys,label:"Operation",fullWidth:!0,choices:{metadata:e.jsx(re,{name:"accessControlDocument.operation.metadata",component:$j}),shape:e.jsx(re,{name:"accessControlDocument.operation.shape",component:kj}),uri:e.jsx(re,{name:"accessControlDocument.operation.uri",component:Wj})},children:[e.jsx(g,{value:"metadata",children:"Metadata"}),e.jsx(g,{value:"shape",children:"Shape"}),e.jsx(g,{value:"uri",children:"URI"})]}),e.jsx(re,{name:"accessControlDocument",component:lU}),e.jsx(re,{name:"queryParams",component:cU}),e.jsx("button",{type:"submit",hidden:!0})]})}const uU=v()(dU),Sd="EDIT_ACCESSCONTROL_FORM";function mU({submitForm:t,onClose:n,open:s,onSuccess:o,openSnackBar:r,entityType:i,entityId:a}){const l=()=>{r({messageContent:"Access Control Created"}),o&&o(),n()},c=()=>{r({messageContent:"Error Creating Access Control",messageColor:"secondary"})},u={queryParams:{allowDuplicate:!0}};return e.jsxs(k,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Create Access Control"}),e.jsx(X,{children:e.jsx(uU,{form:Sd,onSubmit:Q$,onSubmitSuccess:l,onSubmitFail:c,entityType:i,entityId:a,initialValues:u})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Sd),children:"Save"})]})]})}const Wa=A(P,D)(mU),hU=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"keepFiles",component:E}),label:"keepFiles"}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function pU({itemId:t,error:n,handleSubmit:s}){return e.jsxs("form",{onSubmit:s,children:[n&&e.jsx(b,{color:"error",children:n}),!t&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:hU}),e.jsx("button",{type:"submit",hidden:!0})]})}const xU=v()(pU),Rd="SHAPE_DELETE_ALL_FORM";function jU({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"All Shapes Deleted"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Deleting All Shapes",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Delete All Shapes"}),e.jsx(ve,{children:e.jsx(xU,{form:Rd,onSubmit:l_,onSubmitSuccess:l,onSubmitFail:c,itemId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(Rd),children:"Delete"})]})]})}const fU=A(P,D)(jU),wj="ITEM_METADATA_TAB",gU="ITEM_COLLECTION_TAB",bU="ITEM_SHAPE_TAB",CU="ITEM_URI_TAB",yU="ITEM_CONTENT_TAB",SU="ITEM_THUMBNAIL_TAB",RU="ITEM_POSTER_TAB",TU="ITEM_JOB_TAB",IU="ITEM_PROJECTION_TAB",EU="ITEM_RELATION_TAB",vU="ACCESS_TAB",FU="ACCESSMERGED_TAB",AU="STORAGERULE_TAB",PU="BULKYMETADATA_TAB",DU="DELETIONLOCK_TAB",MU="ITEM_VERSION_TAB",OU="ITEM_METADATACHANGESETLIST_TAB",LU="NOTIFICATION_TAB",NU="ITEM_SPRITESHEET_TAB",_U="ACCESSGRAPH_TAB",$U="METADATAGRAPH_TAB",Td="ITEM_REMOVE_DIALOG",Id="ITEM_TRANSCODE_DIALOG",Ed="ITEM_RELATION_DIALOG",vd="ITEM_THUMBNAIL_DIALOG",Fd="ITEM_POSTER_DIALOG",Ad="ITEM_EXPORT_DIALOG",Pd="ITEM_IMPEXPORT_DIALOG",Dd="COLLECTION_ENTITY_ADD_DIALOG",Md="JOB_CREATE_DIALOG",Od="ITEM_SHAPE_CREATE_DIALOG",Ld="ITEM_ACCESSCONTROL_ADD_DIALOG",Nd="ITEM_REMOVEALLSHAPES_DIALOG",_d="ITEM_IMPIMPORT_DIALOG",$d="ITEM_ANALYZE_DIALOG",Uj=[{tab:wj,listText:"Metadata",component:Xx,exact:!0,path:"/item/:itemId/metadata/"},{tab:yU,listText:"Content",component:K_,path:"/item/:itemId/content/"},{tab:OU,listText:"Changes",component:O$,path:"/item/:itemId/metadata/changes/"},{tab:gU,listText:"Collection",component:XN,path:"/item/:itemId/collection/"},{tab:bU,listText:"Shape",component:S_,path:"/item/:itemId/shape/"},{tab:MU,listText:"Version",component:I$,path:"/item/:itemId/version/"},{tab:CU,listText:"URI",component:n0,path:"/item/:itemId/uri/"},{tab:SU,listText:"Thumbnail",component:m0,path:"/item/:itemId/thumbnail/"},{tab:RU,listText:"Poster",component:c0,path:"/item/:itemId/poster/"},{tab:NU,listText:"Spritesheet",component:z$,path:"/item/:itemId/spritesheet/"},{tab:TU,listText:"Job",component:p0,path:"/item/:itemId/job/"},{tab:IU,listText:"Projection",component:S0,path:"/item/:itemId/projection/"},{tab:EU,listText:"Relation",component:Q0,path:"/item/:itemId/relation/"},{tab:vU,listText:"Direct Access",component:Na,path:"/item/:itemId/direct-access/"},{tab:FU,listText:"Merged Access",component:_a,path:"/item/:itemId/merged-access/"},{tab:_U,listText:"Access Graph",component:bj,path:"/item/:itemId/access/graph/"},{tab:$U,listText:"Metadata Graph",component:Cj,path:"/item/:itemId/metadata/graph/",entity:"item"},{tab:AU,listText:"Storage Rules",component:$a,path:"/item/:itemId/storage-rules/"},{tab:PU,listText:"Bulky Metadata",component:e$,path:"/item/:itemId/bulky-metadata/",exact:!0},{tab:DU,listText:"Deletion Locks",component:ho,path:"/item/:itemId/deletion-locks/"},{tab:LU,listText:"Notifications",component:Ej,path:"/item/:itemId/notification/",entityType:"item",exact:!0}],kU=({itemId:t})=>e.jsx(vt,{children:Uj.map(({path:n,listText:s,exact:o})=>e.jsx(Cn,{secondary:s,to:qe(n,{itemId:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},n))}),WU=t=>e.jsxs(Jt,{children:[e.jsx(H,{exact:!0,path:"/item/:itemId/bulky-metadata/:bulkyMetadataKey",render:()=>e.jsx(x$,{...t,title:"Bulky Metadata"}),...t}),e.jsx(H,{exact:!0,path:"/item/:itemId/notification/:notificationId",render:()=>e.jsx(Fj,{...t}),...t}),Uj.map(({path:n,component:s,listText:o,exact:r,...i})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,...i,title:o})},n)),e.jsx(H,{path:"*",render:()=>e.jsx(Xx,{...t,title:"Metadata"})})]});class wU extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{itemId:n}=this.props;document.title=`VidiCore Admin | Item | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{onChangeTab:n,tabValue:s,itemId:o,history:r}=this.props,i=a=>e.jsx(cw,{itemId:o,removeModal:Td,transcodeModal:Id,thumbnailModal:vd,relationModal:Ed,posterModal:Fd,exportModal:Ad,exportImpModal:Pd,addToCollectionModal:Dd,startJobModal:Md,addAccessControl:Ld,removeAllShapesModal:Nd,importImpModal:_d,createShapeModal:Od,analyzeModal:$d,...a});return e.jsxs(e.Fragment,{children:[e.jsx(Vt,{mainComponent:WU,listComponent:kU,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:i,itemId:o,entityId:o,entityType:"item",setOnRefresh:this.setOnRefresh}),e.jsx(pw,{dialogName:Td,onSuccess:()=>r.push("/item/?content=metadata%2Cthumbnail&baseURI=%2FAPInoauth%2F&terse=true&noauth-url=true"),itemId:o}),e.jsx(fU,{dialogName:Nd,onSuccess:this.onRefresh,itemId:o}),e.jsx(gw,{dialogName:Id,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(jd,{dialogName:vd,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o,variant:"thumbnail"}),e.jsx(jd,{dialogName:Fd,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o,variant:"poster"}),e.jsx(Tw,{dialogName:Ed,onSuccess:this.onRefresh,itemId:o}),e.jsx(Pw,{dialogName:Ad,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(Nw,{dialogName:Pd,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(ww,{dialogName:_d,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(Nj,{dialogName:Od,onSuccess:a=>r.push(`/item/${o}/shape/${a.data.id}/`),itemId:o}),e.jsx(_j,{dialogName:Dd,entityId:o,entityType:"item",onSuccess:this.onRefresh}),e.jsx(Wa,{dialogName:Ld,entityType:"item",entityId:o,onSuccess:this.onRefresh}),e.jsx(ux,{dialogName:Md,initialValues:{queryParams:{jobmetadata:[{key:"itemId",value:o}]}}}),e.jsx(nU,{dialogName:$d,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o})]})}}const UU=A(an(wj),et)(wU);function Vj({...t}){return e.jsx(Hx,{onSubmit:NN,...t})}function VU({...t}){return e.jsx(Kx,{onSubmit:_N,...t})}const GU=Rt(Vj);class qU extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSubmitTimeRepresentation=this.onSubmitTimeRepresentation.bind(this),this.onQuickEdit=this.onQuickEdit.bind(this),this.onQuickEditError=this.onQuickEditError.bind(this),this.state={metadataDocument:void 0,timeRepresentation:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){try{Xe.getCollectionMetadata({collectionId:n}).then(s=>this.setState({metadataDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}onQuickEditError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Updating Collection",messageColor:"secondary"})}onQuickEdit(n){const{collectionId:s}=this.props;try{return Xe.updateCollectionMetadata({collectionId:s,metadataDocument:n}).then(()=>Xe.getCollectionMetadata({collectionId:s})).then(o=>this.setState({metadataDocument:o.data})).catch(o=>{throw this.onQuickEditError(o),o})}catch(o){throw this.onQuickEditError(o),o}}onSubmitTimeRepresentation(n){this.setState({timeRepresentation:n})}render(){const{collectionId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataDocument:i,timeRepresentation:a}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(VU,{collectionId:n,onSuccess:l=>this.setState({metadataDocument:l.data})}),e.jsx(Yx,{onSubmit:this.onSubmitTimeRepresentation}),i&&e.jsx(GU,{collectionId:n,metadataDocument:i,timeRepresentation:a,onSuccess:this.onRefresh,onQuickEdit:this.onQuickEdit})]})}}const Gj=q(qU),qj=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"content",component:Y,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),e.jsx(d,{name:"field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(d,{name:"group",component:m,fullWidth:!0}),e.jsx(d,{name:"interval",component:m,fullWidth:!0}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"language",component:m,fullWidth:!0}),e.jsx(d,{name:"sampleRate",component:m,fullWidth:!0}),e.jsx(d,{name:"include",component:m,fullWidth:!0}),e.jsx(d,{name:"includeValues",component:m,fullWidth:!0}),e.jsx(d,{name:"revision",component:m,fullWidth:!0}),e.jsx(d,{name:"mergedType",component:m,fullWidth:!0}),e.jsx(d,{name:"mergedPermission",component:m,fullWidth:!0}),e.jsx(d,{name:"mergedExtradata",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(T,{control:e.jsx(d,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(T,{control:e.jsx(d,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"}),e.jsx(T,{control:e.jsx(d,{name:"terse",component:E}),label:"Terse"})]});function HU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:qj}),e.jsx("button",{type:"submit",hidden:!0})]})}const JU=v()(HU),Gr="COLLECTION_CONTENT_DISPLAY_FORM";function zU({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{o({messageContent:"Content Display Updated"}),n&&n(u,p,x)},c=(u,p,x)=>{o({messageContent:"Error Updating Content Display",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Content Display Options"})}),e.jsx(Ae,{children:e.jsx(JU,{form:Gr,onSubmit:kN,onSubmitSuccess:l,onSubmitFail:c,...a})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(Gr),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Gr),children:"Update"})]})]})}const BU=A(q,D)(zU),kd="REMOVE_COLLECTION_ENTITY_DIALOG";function KU({collectionDocument:t,onSuccess:n,onOpen:s,dialogProps:o}){const{content:r=[],id:i}=t,a=s(kd);return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"ID"}),e.jsx(O,{children:"Type"}),e.jsx(O,{})]})}),e.jsx(de,{children:r.map(l=>e.jsxs(ge,{hover:!0,children:[e.jsx(O,{children:e.jsx(fe,{to:`/${l.type.toLowerCase()}/${l.id}/`,children:l.id})}),e.jsx(O,{children:e.jsx(fe,{to:`/${l.type.toLowerCase()}/${l.id}/`,children:dt(l.type)})}),e.jsx(O,{children:e.jsx(Q,{onClick:()=>a({entityType:l.type,entityId:l.id}),children:e.jsx(Be,{})})})]},`${l.type}_${l.id}`))})]}),e.jsx(Zx,{dialogName:kd,onSuccess:n,collectionId:i,...o})]})}const YU=st(KU),XU=Rt(YU),QU=Rt(Vj);class ZU extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={collectionDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){const{setName:s}=this.props;try{Xe.getCollection({collectionId:n}).then(o=>{var r;this.setState({collectionDocument:o.data}),s&&s((r=o==null?void 0:o.data)==null?void 0:r.name)}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{collectionId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{collectionDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"CollectionDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(BU,{collectionId:n,onSuccess:a=>this.setState({collectionDocument:a.data})}),i&&e.jsxs(e.Fragment,{children:[e.jsx(XU,{collectionId:n,collectionDocument:i,onSuccess:this.onRefresh}),i.metadata&&e.jsx(QU,{collectionId:n,metadataDocument:i.metadata,onSuccess:()=>this.onRefresh()})]})]})}}const eV=A(P,q)(ZU),tV=Rt(ej);class nV extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){const s={field:"__collection,__ancestor_collection,__parent_collection"};try{Xe.getCollectionMetadata({collectionId:n,queryParams:Object.entries(s)}).then(o=>this.setState({metadataDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,collectionId:o,title:r}=this.props,{metadataDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"MetadataDocument",onRefresh:this.onRefresh,title:r}),s&&e.jsx(s,{}),i&&e.jsx(tV,{metadataDocument:i,onSuccess:this.onRefresh,entityType:"collection",entityId:o})]})}}const sV=q(nV);function oV(t){return fj(t)}function rV({...t}){return e.jsx(gj,{onSubmit:$N,...t})}class iV extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataChangeSetDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){try{Mt.listEntityMetadataChange({entity:"collection",entityId:n}).then(s=>this.setState({metadataChangeSetDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{collectionId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataChangeSetDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataChangeSetDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(rV,{collectionId:n,onSuccess:a=>this.setState({metadataChangeSetDocument:a.data})}),i&&e.jsx(oV,{collectionId:n,metadataChangeSetDocument:i})]})}}const aV=q(iV);function lV({open:t,onClose:n,openSnackBar:s,onSuccess:o,onFail:r,collectionId:i}){if(i===void 0)return null;const a=()=>{Xe.removeCollection({collectionId:i}).then(()=>{s({messageContent:"Collection Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing Collection",messageColor:"secondary"}),r&&r()})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Collection ${i}`}),e.jsx(X,{children:"This does not affect any entities within the collection."}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const cV=P(lV),dV=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsx(d,{name:"locationName",label:"Export Location",component:Y,loadOptions:fs,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"all",component:E}),label:"Allow Missing"}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"version",component:m,fullWidth:!0}),e.jsx(d,{name:"template",label:"Export Template",component:m,fullWidth:!0})]});function uV({error:t,handleSubmit:n,collectionId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"collectionId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:dV}),e.jsx("button",{type:"submit",hidden:!0})]})}const mV=v()(uV),hV="COLLECTION_EXPORT_FORM";function pV({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,collectionId:a,form:l=hV}){const c=(p,x,j)=>{r({messageContent:"Export Started"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Export Collection"}),e.jsx(X,{children:e.jsx(mV,{form:l,onSubmit:VN,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,collectionId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Start"})]})]})}const xV=A(P,D)(pV),jV=()=>e.jsx(d,{name:"name",component:m,fullWidth:!0});function fV({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:jV}),e.jsx("button",{type:"submit",hidden:!0})]})}const gV=v()(fV),Wd="COLLECTION_RENAME_FORM";function bV({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,collectionId:a,collectionDocument:l={}}){const c=(j,C,S)=>{r({messageContent:"Collection Name Updated"}),o&&o(j,C,S),s()},u=(j,C,S)=>{r({messageContent:"Error Updating Collection Name",messageColor:"secondary"}),i&&i(j,C,S)},{name:p}=l,x={queryParams:{name:p}};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Rename Collection"}),e.jsx(X,{children:e.jsx(gV,{onSubmit:WN,onSubmitSuccess:c,onSubmitFail:u,form:Wd,collectionId:a,initialValues:x})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Wd),children:"Update"})]})]})}const CV=A(P,D)(bV),yV=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"name",label:"Report Updated Folder Name",component:m,validate:[Z],fullWidth:!0})});function SV({error:t,handleSubmit:n,collectionId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"collectionId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:yV}),e.jsx("button",{type:"submit",hidden:!0})]})}const RV=v()(SV);function TV(t){const n=[];return n.getFirstValue=()=>{if(this.length!==0)return this[0]},t===void 0||t.forEach(s=>n.push(s.value)),n}function Hj(t){const n={};return t===void 0||t.forEach(s=>{const{name:o}=s,{value:r}=s,i=TV(r);if(n[o]){const a=n[o];n[o]=a.concat(i)}else n[o]=i}),n}function Jj(t){const n={};return t===void 0||t.forEach(s=>{const{name:o}=s,r=Hj(s.field),i=Jj(s.group);if(n[o]){const a=n[o].field,l=n[o].group;n[o]={name:o,field:Object.assign(a,r),group:Object.assign(l,i)}}else n[o]={name:o,field:r,group:i}}),n}function IV(t){const n={};return t===void 0||t.forEach(s=>{const{start:o,end:r}=s,i=`${o}_${r}`,a=Hj(s.field),l=Jj(s.group);n[i]={start:o,end:r,field:a,group:l}}),n}function EV(t){const n={};return t===void 0?n:{timespan:IV(t.timespan)}}const vV=Yg(f)(({theme:t})=>({background:t.palette.error.main,color:t.palette.error.contrastText,"&:hover":{backgroundColor:t.palette.error.dark}})),FV="COLLECTION_FOLDERMAPUPDATE_FORM",AV=(t,n={})=>{const s=typeof t;if(s==="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;const o=n==null?void 0:n.strType;if(o)return typeof o=="function"?o(t,n):o;throw new Error(`Unknown type ${s} for ${t}`)};function PV({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,collectionId:a,form:l=FV}){const[c,u]=I.useState(null);I.useEffect(()=>{t===!1||a===void 0||Xe.getCollectionMetadata({collectionId:a,queryParams:{field:"__folder_mapped",interval:"generic"}}).then(({data:S})=>{var Ie,ke,Qe,Rn;const L=EV(S),ne=(Rn=(Qe=(ke=(Ie=L==null?void 0:L.timespan)==null?void 0:Ie["-INF_+INF"])==null?void 0:ke.field)==null?void 0:Qe.__folder_mapped)==null?void 0:Rn[0],Te=AV(ne,{undefined:!1});u(Te)})},[t,a]);const p=(S,L,ne)=>{r({messageContent:"Folder Mapping Updated"}),s&&s(S,L,ne),n()},x=(S,L,ne)=>{r({messageContent:"Error Updating Folder Mapping",messageColor:"secondary"}),o&&o(S,L,ne)},j=()=>Xe.markFolderCollection({collectionId:a}).then(()=>{r({messageContent:"Folder Mapping Enabled"}),s&&s(),n()}).catch(S=>{r({messageContent:"Error Enabling Folder Mapping",messageColor:"secondary"}),o&&o(S)}),C=()=>Xe.unMarkFolderCollection({collectionId:a}).then(()=>{r({messageContent:"Collection No Longer Marked Mapped"}),s&&s(),n()}).catch(S=>{r({messageContent:"Error Unmarking Folder Mapping",messageColor:"secondary"}),o&&o(S)});return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:"md",children:[e.jsx($,{children:"Folder Mapped Collection"}),e.jsx(X,{children:{true:e.jsxs("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(RV,{form:l,onSubmit:GN,onSubmitSuccess:p,onSubmitFail:x,onCancel:n,collectionId:a}),e.jsx(V,{orientation:"vertical",flexItem:!0}),e.jsx("div",{children:e.jsx(vV,{variant:"contained",startIcon:e.jsx(at,{}),onClick:C,children:"Delete Mapping"})})]}),undefined:e.jsx(Zs,{})}[c]}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),{false:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:j,children:"Enable"}),true:e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Update"})}[c]]})]})}const DV=A(P,D)(PV),MV="COLLECTION_METADATA_TAB",OV="COLLECTION_COLLECTION_TAB",zj="COLLECTION_CONTENT_TAB",LV="ACCESS_TAB",NV="ACCESSMERGED_TAB",_V="STORAGERULE_TAB",$V="DELETIONLOCK_TAB",kV="COLLECTION_METADATACHANGESETLIST_TAB",WV="NOTIFICATION_TAB",wd="COLLECTION_REMOVE_DIALOG",Ud="COLLECTION_ACCESSCONTROL_ADD_DIALOG",Vd="COLLECTION_EXPORT_DIALOG",Gd="COLLECTION_RENAME_DIALOG",qd="COLLECTION_ENTITY_ADD_DIALOG",Hd="COLLECTION_FOLDERMAP_DIALOG",wV="ACCESSGRAPH_TAB",UV="METADATAGRAPH_TAB",Bj=[{tab:MV,listText:"Metadata",exact:!0,component:Gj,path:"/collection/:collectionId/metadata/"},{tab:zj,listText:"Content",component:eV,path:"/collection/:collectionId/content/"},{tab:kV,listText:"Changes",component:aV,path:"/collection/:collectionId/metadata/changes/"},{tab:OV,listText:"Collection",component:sV,path:"/collection/:collectionId/collection/"},{tab:LV,listText:"Direct Access",component:Na,path:"/collection/:collectionId/direct-access/"},{tab:NV,listText:"Merged Access",component:_a,path:"/collection/:collectionId/merged-access/"},{tab:_V,listText:"Storage Rules",component:$a,path:"/collection/:collectionId/storage-rules/"},{tab:$V,listText:"Deletion Locks",component:ho,path:"/collection/:collectionId/deletion-locks/"},{tab:WV,listText:"Notifications",component:Ej,path:"/collection/:collectionId/notification/",entityType:"collection",exact:!0},{tab:wV,listText:"Access Graph",component:bj,path:"/collection/:collectionId/access/graph/",entityType:"collection"},{tab:UV,listText:"Metadata Graph",component:Cj,path:"/collection/:collectionId/metadata/graph/",entity:"collection"}],VV=({collectionId:t})=>e.jsx(vt,{children:Bj.map(({path:n,listText:s,exact:o})=>e.jsx(Cn,{secondary:s,to:qe(n,{collectionId:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},n))}),GV=t=>e.jsxs(Jt,{children:[e.jsx(H,{exact:!0,path:"/item/:itemId/notification/:notificationId",render:()=>e.jsx(Fj,{...t}),...t}),Bj.map(({path:n,component:s,listText:o,exact:r,...i})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,...i,title:o})},n)),e.jsx(H,{path:"*",render:()=>e.jsx(Gj,{...t,title:"Metadata"})})]});class qV extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.setName=this.setName.bind(this),this.state={onRefresh:void 0,collectionName:void 0}}componentDidMount(){const{collectionId:n}=this.props;document.title=`VidiCore Admin | Collection | ${n}`}onRefresh(...n){const{onRefresh:s}=this.state;s&&s(...n)}setOnRefresh(n){this.setState({onRefresh:n})}setName(n){this.setState({collectionName:n})}render(){const{onChangeTab:n,tabValue:s,collectionId:o,history:r,onOpen:i}=this.props,{collectionName:a}=this.state,l=c=>e.jsx(K,{grandParentTitle:"Collection",grandParentTo:"/collection/",parentTitle:o,removeModal:wd,helpTo:"/ref/collection.html",entityId:o,entityType:"collection",addAccessControl:Ud,exportModal:Vd,titleChip:a,actionComponent:e.jsxs(pt,{children:[e.jsx(g,{onClick:()=>i({modalName:qd}),children:e.jsx(b,{children:"Add Entity"})}),e.jsx(g,{onClick:()=>i({modalName:Gd}),children:e.jsx(b,{children:"Rename"})}),e.jsx(g,{onClick:()=>i({modalName:Hd}),children:e.jsx(b,{children:"Map To Folder"})})]}),...c});return e.jsxs(e.Fragment,{children:[e.jsx(Vt,{mainComponent:GV,listComponent:VV,setOnRefresh:this.setOnRefresh,setName:this.setName,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:l,collectionId:o,entityId:o,entityType:"collection"}),e.jsx(cV,{dialogName:wd,onSuccess:()=>r.push("/collection/"),collectionId:o}),e.jsx(Wa,{dialogName:Ud,entityType:"collection",entityId:o,onSuccess:this.onRefresh}),e.jsx(_j,{dialogName:qd,onSuccess:this.onRefresh,collectionId:o}),e.jsx(CV,{dialogName:Gd,collectionId:o,onSuccess:this.onRefresh,collectionDocument:{name:a}}),e.jsx(DV,{dialogName:Hd,collectionId:o,onSuccess:this.onRefresh}),e.jsx(xV,{dialogName:Vd,onSuccess:c=>r.push(`/job/${c.data.jobId}/`),collectionId:o})]})}}const HV=A(an(zj),P)(qV),JV=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"index",value:t.index,hover:!0}),e.jsx(h,{title:"priority",value:t.priority,hover:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0}),e.jsx(h,{title:"start",value:t.start,variant:"timestamp",hover:!0}),e.jsx(h,{title:"finish",value:t.finish,variant:"timestamp",hover:!0}),e.jsx(h,{title:"indexesDone",value:t.indexesDone,hover:!0}),e.jsx(h,{title:"indexesTotal",value:t.indexesTotal,hover:!0})]});function zV({reindexRequestDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:JV})})}const BV=["FINISHED"],KV=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"],YV=["ABORTED"],XV=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"],QV=({reindexRequestDocument:t})=>{if(t===void 0)return null;let n=e.jsx(Le,{avatar:e.jsx(Qn,{}),label:"Unknown"});const{status:s}=t;return BV.includes(s)?n=e.jsx(Le,{avatar:e.jsx(Ut,{}),label:ie(s)}):KV.includes(s)?n=e.jsx(Le,{avatar:e.jsx(Qn,{}),label:ie(s)}):YV.includes(s)&&(n=e.jsx(Le,{avatar:e.jsx(Ft,{}),label:ie(s)})),n};function ZV({indexName:t,reindexRequestDocument:n,onSuccess:s,openSnackBar:o}){const r=i=>{np.updateReindex({indexName:t,queryParams:i}).then(()=>{const a=`Reindex Request ${t} Updated`;o({messageContent:a}),s&&s(t)}).catch(()=>{const a=`Error Updating Reindex ${t} Request`;o({messageContent:a,messageColor:"secondary"})})};return e.jsx(N,{children:e.jsxs(U,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:ie(t)}),action:e.jsx(QV,{reindexRequestDocument:n})}),e.jsx(U,{children:e.jsx(zV,{reindexRequestDocument:n})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{onClick:()=>r({status:"ABORTED"}),color:"secondary",children:"Cancel"}),e.jsx(f,{onClick:()=>r({status:"PAUSED"}),color:"primary",children:"Pause"}),e.jsx(f,{onClick:()=>r({status:"IN_PROGRESS"}),color:"primary",children:"Resume"}),e.jsx(f,{onClick:()=>r({status:"IN_QUEUE"}),color:"primary",children:"Start"})]})]})})}const e2=P(ZV),qr=["item","collection","acl","file","thumbnail"];class t2 extends I.PureComponent{constructor(n){super(n),this.onAutoRefresh=this.onAutoRefresh.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={item:void 0,collection:void 0,acl:void 0,file:void 0,thumbnail:void 0}}componentDidMount(){document.title="VidiCore Admin | Reindex",this.timer=setInterval(()=>this.onAutoRefresh(),2500),this.onRefresh()}componentWillUnmount(){clearInterval(this.timer),this.timer=void 0}onRefresh(){qr.forEach(n=>this.onFetch(n))}onRefreshError(n,s){const{openSnackBar:o}=this.props,r=`Error Loading ${s} Reindex Status`;o({messageContent:r,messageColor:"secondary"})}onAutoRefresh(){if(qr.find(s=>{const{[s]:o={}}=this.state,{status:r}=o;return XV.includes(r)})===void 0){clearInterval(this.timer),this.timer=void 0;return}this.onRefresh()}onFetch(n){try{np.getReindex({indexName:n}).then(s=>this.setState({[n]:s.data})).catch(s=>{if(!s.response){this.onRefreshError(s);return}if(s.response.status!==404){this.onRefreshError(s);return}this.setState({[n]:{}})})}catch(s){this.onRefreshError(s)}}render(){return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Reindex",helpTo:"/ref/metadata/reindex.html",onRefresh:this.onRefresh,code:this.state,codeModal:"All reindexRequestDocument"}),qr.map(n=>e.jsx(e2,{indexName:n,reindexRequestDocument:this.state[n],onSuccess:()=>{this.onFetch(n),this.timer===void 0&&(this.timer=setInterval(()=>this.onAutoRefresh(),2500))}},n))]})}}const n2=q(t2),s2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"encoderThreads",label:"encoderThreads",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"decoderOfferThreads",label:"decoderOfferThreads",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"apiURL",label:"apiURL",component:m,fullWidth:!0}),e.jsx(d,{name:"apiUsername",label:"apiUsername",component:m,fullWidth:!0}),e.jsx(d,{name:"apiPassword",label:"apiPassword",component:m,fullWidth:!0}),e.jsx(d,{name:"dataPath",label:"dataPath",component:m,fullWidth:!0}),e.jsx(d,{name:"presetPath",label:"presetPath",component:m,fullWidth:!0}),e.jsx(d,{name:"tempPath",label:"tempPath",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"bilinearEffects",component:E}),label:"Bilinear Effects"})]}),o2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",component:m,label:"Media Location Name",fullWidth:!0}),e.jsx(d,{name:"storageMethod",component:oe,label:"Media Location Storage Method",simple:!0,fullWidth:!0})]}),r2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"pattern",component:m,label:"Pattern",fullWidth:!0}),e.jsx(d,{name:"replacement",component:m,label:"Replacement",fullWidth:!0})]}),i2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"filter",component:m,label:"Filter",fullWidth:!0}),e.jsx(w,{name:"rewrite",label:"Rewrite",component:r2})]}),a2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"netmask",component:m,label:"Netmask",fullWidth:!0}),e.jsx(d,{name:"bandwidth",component:m,label:"Bandwidth",fullWidth:!0})]}),l2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"source",component:m,label:"Source",fullWidth:!0}),e.jsx(d,{name:"destination",component:m,label:"Destination",fullWidth:!0}),e.jsx(d,{name:"shapeTag",component:m,label:"Shape Tag",fullWidth:!0}),e.jsx(d,{name:"timeout",component:m,label:"Timeout",fullWidth:!0}),e.jsx(d,{name:"interval",component:m,label:"Interval",fullWidth:!0}),e.jsx(d,{name:"checks",component:m,label:"Checks",fullWidth:!0}),e.jsx(d,{name:"regex",component:m,label:"Regex",fullWidth:!0})]}),c2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"address",component:ht,label:"Address",fullWidth:!0,defaultValue:"http://"}),e.jsx(d,{name:"cleanup",component:m,label:"Cleanup",fullWidth:!0}),e.jsx(w,{name:"mediaLocation",label:"Media Location",component:o2})]}),d2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"url",component:ht,label:"URL",fullWidth:!0,defaultValue:"http://"}),e.jsx(d,{name:"tag",component:m,label:"Tag",fullWidth:!0}),e.jsx(d,{name:"State",component:m,label:"state",fullWidth:!0}),e.jsx(d,{name:"description",label:"Description",component:m,fullWidth:!0}),e.jsx(y,{name:"metadata",component:bn})]}),u2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"url",label:"URL",component:ht,fullWidth:!0,defaultValue:"http://"}),e.jsx(d,{name:"workspaceUrl",label:"Workspace Url",component:m,fullWidth:!0}),e.jsx(d,{name:"userWorkspaceUrl",label:"User Workspace Url",component:m,fullWidth:!0}),e.jsx(d,{name:"mxfServerWorkspacePath",label:"MXFServer Workspace Path",component:m,fullWidth:!0}),e.jsx(d,{name:"mxfServerUserId",label:"MXFServer User Id",component:m,fullWidth:!0}),e.jsx(d,{name:"mxfServerPathToStorage",label:"MXFServer Path To Storage",component:m,fullWidth:!0}),e.jsx(d,{name:"databaseName",label:"Database Name",component:m,fullWidth:!0}),e.jsx(d,{name:"description",label:"Description",component:m,fullWidth:!0}),e.jsx(d,{name:"atomShapes",label:"Atom Shapes",component:m,fullWidth:!0}),e.jsx(d,{name:"importShapes",label:"Import Shapes",component:m,fullWidth:!0}),e.jsx(d,{name:"detectAtom",label:"Detect Atom",component:m,fullWidth:!0}),e.jsx(d,{name:"enforceQuota",label:"Enforce Quota",component:m,fullWidth:!0}),e.jsx(d,{name:"fileImportPattern",label:"File Import Pattern",component:m,fullWidth:!0}),e.jsx(y,{name:"metadata",component:bn})]}),m2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"url",component:ht,label:"URL",fullWidth:!0,defaultValue:"http://"}),e.jsx(d,{name:"tag",label:"Tag",component:m,fullWidth:!0}),e.jsx(d,{name:"username",label:"Username",component:m,fullWidth:!0}),e.jsx(d,{name:"password",label:"Password",component:m,fullWidth:!0}),e.jsx(d,{name:"description",label:"Description",component:m,fullWidth:!0})]}),h2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"url",label:"url",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"useStartTLS",label:"Use StartTLS",component:m,fullWidth:!0}),e.jsx(d,{name:"userDN",label:"User DN",component:m,fullWidth:!0}),e.jsx(d,{name:"",label:"",component:m,fullWidth:!0}),e.jsx(d,{name:"usernameAttribute",label:"Username Attribute",component:m,fullWidth:!0}),e.jsx(d,{name:"userSearchFilter",label:"User Search Filter",component:m,fullWidth:!0}),e.jsx(d,{name:"bindDN",label:"Bind DN",component:m,fullWidth:!0}),e.jsx(d,{name:"bindPassword",label:"Bind Password",component:m,fullWidth:!0}),e.jsx(d,{name:"cacheLifetime",label:"Cache Lifetime",component:m,fullWidth:!0}),e.jsx(d,{name:"groupDN",label:"Group DN",component:m,fullWidth:!0}),e.jsx(d,{name:"groupSearchFilter",label:"Group Search Filter",component:m,fullWidth:!0}),e.jsx(d,{name:"realNameAttribute",label:"Real Name Attribute",component:m,fullWidth:!0}),e.jsx(d,{name:"groupnameAttribute",label:"Groupname Attribute",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"sync.createUsers",component:E}),label:"Create Users"}),e.jsx(T,{control:e.jsx(d,{name:"sync.createGroups",component:E}),label:"Create Groups"})]}),p2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"publicAddress",label:"Public Address",component:m,fullWidth:!0}),e.jsx(d,{name:"apiHost",label:"API Host",component:m,fullWidth:!0}),e.jsx(d,{name:"apiKey",label:"API Key",component:m,fullWidth:!0}),e.jsx(d,{name:"inputMethod",label:"Input Method",component:m,fullWidth:!0}),e.jsx(d,{name:"script",label:"Script",component:m,fullWidth:!0})]}),x2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"url",component:ht,label:"URL",fullWidth:!0,defaultValue:"vidinet://"}),e.jsx(d,{name:"name",label:"Name",component:m,fullWidth:!0}),e.jsx(d,{name:"endpoint",label:"Endpoint",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",label:"Scheme",component:oe,simple:!0,fullWidth:!0})]}),j2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"url",component:ht,label:"URL",fullWidth:!0,defaultValue:"http://"}),e.jsx(d,{name:"include",label:"Include",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"partyId",label:"Party ID",component:m,fullWidth:!0}),e.jsx(d,{name:"userId",label:"User ID",component:m,fullWidth:!0}),e.jsx(d,{name:"password",label:"Password",component:m,fullWidth:!0})]}),f2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"url",label:"URL",component:ht,fullWidth:!0,defaultValue:"http://"}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Resource Name"}),e.jsxs(d,{name:"type",component:B,required:!0,children:[e.jsx(g,{value:"TRANSCODER",children:"TRANSCODER"}),e.jsx(g,{value:"DIRECTORY",children:"DIRECTORY"})]})]}),e.jsx(d,{label:"Weight",name:"weight",component:m,fullWidth:!0}),e.jsx(d,{name:"maxJob",label:"Max Job",component:m,fullWidth:!0}),e.jsx(w,{name:"directAccess",label:"Direct Access",component:i2}),e.jsx(y,{name:"configuration",label:"Configuration",component:s2})]}),g2=()=>e.jsxs(e.Fragment,{children:[e.jsx(zs,{name:"path",label:"Path",component:ht}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"mode",children:"Mode"}),e.jsxs(d,{name:"mode",component:B,children:[e.jsx(g,{value:"READ_WRITE",children:"READ_WRITE"}),e.jsx(g,{value:"READ",children:"READ"}),e.jsx(g,{value:"NONE",children:"NONE"})]})]})]}),b2=({resourceType:t})=>{switch(t){case"network":return e.jsx(y,{name:"network",component:a2});case"transcoder":return e.jsx(y,{name:"transcoder",component:f2});case"externalTranscoder":return e.jsx(y,{name:"externalTranscoder",component:l2});case"cerify":return e.jsx(y,{name:"cerify",component:c2});case"thumbnail":return e.jsx(y,{name:"thumbnail",component:g2});case"finalcutserver":return e.jsx(y,{name:"finalcutserver",component:d2});case"mxfserver":return e.jsx(y,{name:"mxfserver",component:u2});case"signiant":return e.jsx(y,{name:"signiant",component:m2});case"ldap":return e.jsx(y,{name:"ldap",component:h2});case"cloudconvert":return e.jsx(y,{name:"cloudconvert",component:p2});case"vidinet":return e.jsx(y,{name:"vidinet",component:x2});case"eidr":return e.jsx(y,{name:"eidr",component:j2});default:return null}};function C2({error:t,handleSubmit:n,resourceType:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"resourceDocument",component:b2,resourceType:s}),e.jsx("button",{type:"submit",hidden:!0})]})}const Bo=v()(C2);function y2({handleSubmit:t,error:n}){return e.jsxs("form",{onSubmit:t,children:[n&&e.jsx(b,{color:"error",children:n}),e.jsxs(X,{children:[e.jsx(xn,{children:"Add built-in shape-tag templates."}),e.jsx(xn,{children:"These template tags have names that begin with double underscore and cannot be overwritten."})]}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ls="EDIT_SHAPETAG_PRESET",S2=v({form:Ls})(y2);function R2(t,n,s){const{resourceId:o,resourceType:r}=s,{resourceDocument:i}=t;return is.modifyResource({resourceType:r,resourceId:o,resourceDocument:i}).then(a=>({resourceDocument:a.data})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function wi(t,n,s){const{resourceType:o}=s,{resourceDocument:r}=t;return is.createResource({resourceType:o,resourceDocument:r}).then(i=>({resourceDocument:i.data})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const ys="EDIT_USER_PASSWORD_FORM",mn="EDIT_STORAGE_DETAILS_FORM",Ss="EDIT_THUMBNAIL_RESOURCE_FORM",Rs="EDIT_TRANSCODER_RESOURCE_FORM",Ts="EDIT_LICENSE_FORM",Is="EDIT_CONFIGURATIONPROPERTIES_SOLRPATH_FORM",Es="EDIT_CONFIGURATIONPROPERTIES_APIURI_FORM",Jd={storageDocument:{type:"LOCAL",autoDetect:!0,showImportables:!0,method:[{uri:"file:///media/",read:!0,write:!0,browse:!0}]}},T2={resourceDocument:{transcoder:{url:"http://vidicoder:8888/"}}},I2={resourceDocument:{thumbnail:{path:["file:///thumbnail/"]}}},E2={configurationPropertyDocument:{key:"apiUri",value:"http://vidicore:8080/API"}},v2={configurationPropertyDocument:{key:"solrPath",value:"http://solr:8983/solr"}};function F2({openSnackBar:t,submitForm:n}){const[s,o]=I.useState(),[r,i]=I.useState(0),[a,l]=I.useState([]),c=()=>{try{Bh.getVersion().then(({data:S})=>o(S))}catch{t({messageContent:"Error Loading Version Information",messageColor:"secondary"})}};I.useEffect(c,[]),I.useEffect(()=>{document.title="VidiCore Admin | Wizard"},[]);const u=()=>{r!==0&&i(r-1)},p=()=>i(r+1),x=S=>l([S,...a]),j=({stepName:S,messageContent:L,action:ne,canRetry:Te=!1})=>{t({messageContent:L}),Te===!1&&(p(),x(S)),ne&&ne()},C=({stepName:S,messageContent:L,action:ne,canRetry:Te=!1})=>{t({messageContent:L,messageColor:"secondary"}),Te===!1&&(p(),x(S)),ne&&ne()};return e.jsxs(ut,{activeStep:r,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Set Admin Password"}),e.jsxs(xe,{children:[e.jsx(Tx,{userName:"admin",onSubmit:Sx,initialValues:{passwordType:"raw"},onSubmitFail:()=>C({stepName:ys,messageContent:"Error Changing Password",canRetry:!0}),onSubmitSuccess:()=>j({stepName:ys,messageContent:"Password Changed"}),form:ys}),e.jsxs(ee,{children:[e.jsx(f,{onClick:p,children:"Skip"}),a.includes(ys)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(ys),children:"Save"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Upload License"}),e.jsxs(xe,{children:[s&&e.jsx(nx,{versionDocument:We(s,{licenseInfo:{$unset:["codecStatus"]}})}),e.jsx(sx,{form:Ts,onSubmit:ox,onSubmitSuccess:()=>j({stepName:Ts,messageContent:"License Updated"}),onSubmitFail:()=>C({stepName:Ts,messageContent:"Error Updating License",canRetry:!0})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Ts)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Ts),children:"Upload"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Add Storage"}),e.jsxs(xe,{children:[e.jsx(Pp,{form:mn,onSubmit:vi,initialValues:Jd,showMethod:!0,onSubmitSuccess:()=>j({stepName:mn,messageContent:"Storage Added"}),onSubmitFail:()=>C({stepName:mn,messageContent:"Error Adding Storage"})}),e.jsx(VT,{form:mn,onSubmit:vi,initialValues:Jd,showMethod:!0,onSubmitSuccess:()=>j({stepName:mn,messageContent:"Storage Added"}),onSubmitFail:()=>C({stepName:mn,messageContent:"Error Adding Storage"})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(mn)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(mn),children:"Save"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Add Transcoder"}),e.jsxs(xe,{children:[e.jsx(Bo,{form:Rs,resourceType:"transcoder",initialValues:T2,onSubmit:wi,onSubmitSuccess:()=>j({stepName:Rs,messageContent:"Transcoder Added"}),onSubmitFail:()=>C({stepName:Rs,messageContent:"Error Adding Transcoder"})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Rs)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Rs),children:"Save"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Add Thumbnail Store"}),e.jsxs(xe,{children:[e.jsx(Bo,{form:Ss,resourceType:"thumbnail",initialValues:I2,onSubmit:wi,onSubmitSuccess:()=>j({stepName:Ss,messageContent:"Thumbnail Store Added"}),onSubmitFail:()=>C({stepName:Ss,messageContent:"Error Adding Thumbnail Store"})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Ss)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Ss),children:"Save"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Set API URL"}),e.jsxs(xe,{children:[e.jsx(b,{children:"This is used by the transcoder to connect to the Vidispine API Server"}),e.jsx(Ii,{form:Es,onSubmit:qo,initialValues:E2,onSubmitSuccess:()=>j({stepName:Es,messageContent:"API URL Added"}),onSubmitFail:()=>C({stepName:Es,messageContent:"Error Adding API URL"}),destroyOnUnmount:!0,enableReinitialize:!0}),e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Es)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Es),children:"Save"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Add Solr Server"}),e.jsxs(xe,{children:[e.jsx(Ii,{form:Is,onSubmit:qo,initialValues:v2,onSubmitSuccess:()=>j({stepName:Is,messageContent:"Solr Server Added"}),onSubmitFail:()=>C({stepName:Is,messageContent:"Error Adding Solr Server"}),destroyOnUnmount:!0,enableReinitialize:!0}),e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Is)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Is),children:"Save"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Add Preset Shape Tags"}),e.jsxs(xe,{children:[e.jsx(S2,{onSubmit:GE,onSubmitSuccess:()=>j({stepName:Ls,messageContent:"Shape Tags Created"}),onSubmitFail:()=>C({stepName:Ls,messageContent:"Error Creating Shape Tags"})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Ls)?e.jsx(b,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Ls),children:"Save"})]})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Complete"}),e.jsxs(xe,{children:["All steps complete.",e.jsxs(ee,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{component:Pt,to:"/selftest",variant:"text",color:"primary",children:"Self Test"})]})]})]})]})}const A2=A(D,P)(F2);function P2({metadataFieldDocument:t={},onOpen:n}){return e.jsx(e.Fragment,{children:e.jsxs(Ge,{to:`/metadata-field/${t.name}/`,hover:!0,children:[e.jsx(M,{children:t.name}),e.jsx(M,{children:t.type}),e.jsx(M,{children:t.system&&e.jsx(Dt,{})}),e.jsx(M,{children:t.inheritance==="true"&&e.jsx(Dt,{})}),e.jsx(M,{disableOnClick:!0,children:e.jsx(Q,{onClick:()=>n({fieldName:t.name}),children:e.jsx(Be,{})})})]})})}function D2({open:t,onClose:n,openSnackBar:s,groupName:o,fieldName:r,onSuccess:i}){const a=()=>{Nt.removeFieldGroupField({groupName:o,fieldName:r}).then(()=>{const l=`${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Field",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove "${r}" From "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const M2=P(D2);function O2({open:t,onClose:n,history:s,openSnackBar:o,fieldName:r,onSuccess:i}){const a=()=>{jn.removeMetadataField({fieldName:r}).then(()=>{const l=`Metadata Field ${r} Removed`;o({messageContent:l}),s.push("/metadata-field/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Metadata Field",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Metadata Field "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Kj=P(O2),Hr="REMOVE_METADATAFIELD_DIALOG";function L2({metadataFieldListDocument:t=[],groupName:n,onRefresh:s,dialogProps:o,onOpen:r}){const{field:i=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Field Name"}),e.jsx(M,{children:"Type"}),e.jsx(M,{children:"System"}),e.jsx(M,{children:"Inheritance"}),e.jsx(M,{})]})}),e.jsx(de,{children:i.map(a=>e.jsx(P2,{metadataFieldDocument:a,onOpen:r(Hr)},a.name))})]}),n?e.jsx(M2,{...o,dialogName:Hr,groupName:n,onSuccess:s}):e.jsx(Kj,{...o,dialogName:Hr,onSuccess:s})]})}const Yj=st(L2);function N2({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(Yj,{...t})})})}const _2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"minInclusive",label:"minInclusive",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"maxInclusive",label:"maxInclusive",component:m,type:"number",fullWidth:!0})]}),$2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"minInclusive",label:"minInclusive",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"maxInclusive",label:"maxInclusive",component:m,type:"number",fullWidth:!0})]}),k2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"minInclusive",label:"minInclusive",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"maxInclusive",label:"maxInclusive",component:m,type:"number",fullWidth:!0})]}),W2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"minLength",label:"minLength",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"maxLength",label:"maxLength",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"pattern",label:"pattern",component:m,fullWidth:!0})]}),Xj=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"reference",component:E}),label:"Reference"}),e.jsx(d,{name:"min",label:"min",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"max",label:"max",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"name",label:"name",component:m,fullWidth:!0})]}),w2=t=>e.jsxs(B,{...t,children:[e.jsx(g,{value:"string",children:"String"}),e.jsx(g,{value:"integer",children:"Integer"}),e.jsx(g,{value:"float",children:"Float"}),e.jsx(g,{value:"boolean",children:"Boolean"}),e.jsx(g,{value:"date",children:"Date"}),e.jsx(g,{value:"timeCode",children:"Time Code"}),e.jsx(g,{value:"date-noindex",children:"Date (No Index)"}),e.jsx(g,{value:"date-sortable",children:"Date (Sortable)"}),e.jsx(g,{value:"float-noindex",children:"Float (No Index)"}),e.jsx(g,{value:"float-sortable",children:"Float (Sortable)"}),e.jsx(g,{value:"integer-noindex",children:"Integer (No Index)"}),e.jsx(g,{value:"integer-sortable",children:"Integer (Sortable)"}),e.jsx(g,{value:"long-noindex",children:"Long (No Index)"}),e.jsx(g,{value:"string-sortable",children:"String (Sortable)"}),e.jsx(g,{value:"string-exact",children:"String (Exact)"}),e.jsx(g,{value:"string-exact-sortable",children:"String (Exact Sortable)"}),e.jsx(g,{value:"string-noindex",children:"String (No Index)"}),e.jsx(g,{value:"boolean-noindex",children:"Boolean (No Index)"}),e.jsx(g,{value:"timeCode-noindex",children:"Time Code (No Index)"})]}),U2=t=>e.jsxs(B,{...t,children:[e.jsx(g,{value:"index",children:"index"}),e.jsx(g,{value:"noindex",children:"noindex"}),e.jsx(g,{value:"extend",children:"extend"})]}),V2=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"dataset",label:"dataset",component:m,fullWidth:!0}),e.jsx(d,{name:"levelProperty",label:"levelProperty",component:m,fullWidth:!0}),e.jsx(d,{name:"levelValue",label:"levelValue",component:m,fullWidth:!0}),e.jsx(d,{name:"value",label:"value",component:m,fullWidth:!0}),e.jsx(d,{name:"parent",label:"parent",component:m,fullWidth:!0}),e.jsx(d,{name:"validationGroup",label:"validationGroup",component:m,fullWidth:!0})]}),Qj=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"name",component:wt,fullWidth:!0}),e.jsx(d,{name:"defaultValue",label:"defaultValue",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"system",component:E}),label:"System"}),e.jsx(T,{control:e.jsx(d,{name:"sortable",component:E}),label:"Sortable"}),e.jsx(T,{control:e.jsx(d,{name:"inheritance",component:E}),label:"Inheritance"}),e.jsx(T,{control:e.jsx(d,{name:"fullText",component:E}),label:"Full Text"}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(d,{name:"type",component:w2})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"index",children:"Index"}),e.jsx(d,{name:"index",component:U2})]}),e.jsx(y,{name:"constraint",label:"constraint",component:V2}),e.jsx(y,{name:"schema",label:"schema",component:Xj}),e.jsx(y,{name:"values",label:"values",component:bn}),e.jsx(w,{name:"data",label:"data",component:se})]}),G2=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldDocument",component:Qj}),e.jsxs(d,{name:"metadataFieldDocument",component:Ys,label:"Restriction",fullWidth:!0,choices:{floatRestriction:e.jsx(y,{name:"metadataFieldDocument.floatRestriction",label:"floatRestriction",component:_2}),integerRestriction:e.jsx(y,{name:"metadataFieldDocument.integerRestriction",label:"integerRestriction",component:$2}),longRestriction:e.jsx(y,{name:"metadataFieldDocument.longRestriction",label:"longRestriction",component:k2}),stringRestriction:e.jsx(y,{name:"metadataFieldDocument.stringRestriction",label:"stringRestriction",component:W2})},children:[e.jsx(g,{value:"floatRestriction",children:"Float"}),e.jsx(g,{value:"integerRestriction",children:"Integer"}),e.jsx(g,{value:"longRestriction",children:"Long"}),e.jsx(g,{value:"stringRestriction",children:"String"})]}),e.jsx("button",{type:"submit",hidden:!0})]}),Zj=v()(G2);function ef(t,n,s){const{metadataFieldDocument:o}=t,r=s.fieldName||o.name;return jn.updateMetadataField({fieldName:r,metadataFieldDocument:o}).then(i=>({metadataFieldDocument:i.data})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function q2(t,n,s){const{metadataFieldValueConstraintListDocument:o}=t,r=s.fieldName||t.fieldName;return jn.getMetadataFieldAllowedValues({fieldName:r,metadataFieldValueConstraintListDocument:o}).then(i=>({constraintValueListDocument:i.data})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function H2({open:t,onClose:n,openSnackBar:s,history:o}){const r=a=>{const{metadataFieldDocument:l}=a,{name:c}=l,u=`Metadata Field ${c} Created`;s({messageContent:u}),o.push(`/metadata-field/${c}/`),n()},i=()=>{s({messageContent:"Error Creating Metadata Field",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Metadata Field"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Zj,documentName:"metadataFieldDocument",onSubmit:ef,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const J2=P(H2);function z2(t){return e.jsx(K,{title:"Metadata Field",helpTo:"/ref/metadata/field.html",...t})}const zd="METADATAFIELDLIST_CREATE_MODAL";class B2 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={metadataFieldListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Metadata Field"}onRefresh(){const{openSnackBar:n}=this.props;try{jn.listMetadataField().then(s=>this.setState({metadataFieldListDocument:s.data}))}catch{n({messageContent:"Error Loading Metadata Field List",messageColor:"secondary"})}}render(){const{metadataFieldListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(z2,{createModal:zd,onRefresh:this.onRefresh,code:n,codeModal:"MetadataFieldListDocument"}),n&&e.jsx(N2,{metadataFieldListDocument:n,onRefresh:this.onRefresh}),e.jsx(J2,{dialogName:zd})]})}}const K2=q(B2);function Y2({metadataFieldGroupDocument:t={},onOpen:n}){return e.jsxs(je,{to:`/field-group/${t.name}/`,hover:!0,children:[e.jsx(M,{children:e.jsx(fe,{to:`/field-group/${t.name}/`,children:t.name})}),e.jsx(M,{children:t.inheritance==="true"&&e.jsx(Dt,{})}),e.jsx(M,{disableOnClick:!0,children:e.jsx(Q,{onClick:()=>n({childGroupName:t.name,groupName:t.name}),children:e.jsx(Be,{})})})]})}function X2({open:t,onClose:n,history:s,openSnackBar:o,groupName:r,onSuccess:i}){const a=()=>{Nt.removeFieldGroup({groupName:r}).then(()=>{const l=`Field Group ${r} Removed`;o({messageContent:l}),s.push("/field-group/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Field Group",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Field Group "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const tf=P(X2);function Q2({open:t,onClose:n,openSnackBar:s,groupName:o,childGroupName:r,onSuccess:i}){const a=()=>{Nt.removeFieldGroupChild({groupName:o,childGroupName:r}).then(()=>{const l=`${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove "${r}" From "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Z2=P(Q2),Jr="REMOVE_FIELDGROUP_DIALOG";function eG({metadataFieldGroupListDocument:t=[],groupName:n,onRefresh:s,dialogProps:o,onOpen:r}){const{group:i=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Field Group Name"}),e.jsx(M,{children:"Inheritance"}),e.jsx(M,{padding:"checkbox"})]})}),e.jsx(de,{children:i.map(a=>e.jsx(Y2,{metadataFieldGroupDocument:a,onOpen:r(Jr)},a.name))})]}),n?e.jsx(Z2,{...o,dialogName:Jr,groupName:n,onSuccess:s}):e.jsx(tf,{...o,dialogName:Jr,onSuccess:s})]})}const nf=st(eG);function tG({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(nf,{...t})})})}const nG=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"field",component:m,fullWidth:!0}),e.jsx(d,{name:"fieldGroup",label:"fieldGroup",component:m,fullWidth:!0}),e.jsx(d,{name:"user",label:"user",component:m,fullWidth:!0}),e.jsx(d,{name:"group",label:"group",component:m,fullWidth:!0}),e.jsx(d,{name:"permission",label:"permission",component:m,fullWidth:!0})]}),sf=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"name",component:wt,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"inheritance",children:"Inheritance"}),e.jsxs(d,{name:"inheritance",component:B,children:[e.jsx(g,{value:"true",children:"True"}),e.jsx(g,{value:"false",children:"False"})]})]})]}),of=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"access",label:"access",component:nG})}),rf=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"field",label:"field",component:Qj})}),af=()=>e.jsx(e.Fragment,{children:e.jsx(y,{name:"schema",label:"schema",component:Xj})}),lf=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"data",label:"data",component:se})}),wa=()=>e.jsxs(e.Fragment,{children:[e.jsx(sf,{}),e.jsx(af,{}),e.jsx(rf,{}),e.jsx(w,{name:"group",label:"group",component:wa}),e.jsx(of,{}),e.jsx(lf,{})]}),sG=()=>e.jsx(e.Fragment,{children:e.jsx(w,{name:"group",label:"group",component:wa})}),oG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupDocument",component:lf}),e.jsx("button",{type:"submit",hidden:!0})]});v()(oG);const rG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupDocument",component:sf}),e.jsx("button",{type:"submit",hidden:!0})]}),iG=v()(rG),aG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupDocument",component:af}),e.jsx("button",{type:"submit",hidden:!0})]}),lG=v()(aG),cG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupDocument",component:rf}),e.jsx("button",{type:"submit",hidden:!0})]});v()(cG);const dG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupDocument",component:sG}),e.jsx("button",{type:"submit",hidden:!0})]});v()(dG);const uG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupDocument",component:of}),e.jsx("button",{type:"submit",hidden:!0})]}),mG=v()(uG),hG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupDocument",component:wa}),e.jsx("button",{type:"submit",hidden:!0})]}),pG=v()(hG);function cf(t,n,s){const{metadataFieldGroupDocument:o}=t,r=s.groupName||o.name;return Nt.updateFieldGroup({groupName:r,metadataFieldGroupDocument:o}).then(i=>({metadataFieldGroupDocument:i.data,groupName:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function xG(t,n,s){const{childGroupName:o}=t,{groupName:r}=s;return Nt.updateFieldGroupChild({groupName:r,childGroupName:o}).then(()=>({childGroupName:o,groupName:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function jG(t,n,s){const o=s.groupName||t.groupName,r=s.fieldName||t.fieldName;return Nt.updateFieldGroupField({groupName:o,fieldName:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function df(t){const{queryParams:n={},metadataFieldGroupSearchDocument:s={}}=t;return Nt.searchFieldGroup({metadataFieldGroupSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,metadataFieldGroupSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function fG({open:t,onClose:n,openSnackBar:s,history:o}){const r=a=>{const{groupName:l}=a,c=`Field Group ${l} Created`;s({messageContent:c}),o.push(`/field-group/${l}/`),n()},i=()=>{s({messageContent:"Error Creating Field Group",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Field Group"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:pG,documentName:"metadataFieldGroupDocument",onSubmit:cf,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const gG=P(fG);function bG(t){return e.jsx(K,{title:"Metadata Field Group",helpTo:"/ref/metadata/field-group.html",...t})}const Bd="FIELDGROUPLIST_CREATE_MODAL";class CG extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={metadataFieldGroupListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Field Group"}onRefresh(){const{openSnackBar:n}=this.props;try{Nt.listFieldGroup().then(s=>this.setState({metadataFieldGroupListDocument:s.data}))}catch{n({messageContent:"Error Loading Field Group List",messageColor:"secondary"})}}render(){const{metadataFieldGroupListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(bG,{createModal:Bd,onRefresh:this.onRefresh,code:n,codeModal:"FieldGroupListDocument"}),n&&e.jsx(tG,{metadataFieldGroupListDocument:n,onRefresh:this.onRefresh}),e.jsx(gG,{dialogName:Bd})]})}}const yG=q(CG);function SG(t){return e.jsx(K,{parentTitle:"Metadata Field Group",parentTo:"/field-group/",title:t.groupName,helpTo:"/ref/metadata/field-group.html",entityId:t.groupName,entityType:"field-group",...t})}function RG({metadataFieldGroupDocument:t,groupName:n,openSnackBar:s,onRefresh:o,...r}){const i="EDIT_FIELDGROUP_FORM",a=()=>{s({messageContent:"Field Group Saved"}),o&&o()},l=()=>{s({messageContent:"Error Updating Field Group",messageColor:"secondary"})},c={groupName:n},u={metadataFieldGroupDocument:t},p={metadataFieldGroupDocument:t};return e.jsx(_e,{formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:cf,formProps:c,displayProps:u,initialValues:p,...r})}const zr=P(RG),TG=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minInclusive",value:t.minInclusive}),e.jsx(h,{title:"maxInclusive",value:t.maxInclusive})]}),IG=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minInclusive",value:t.minInclusive}),e.jsx(h,{title:"maxInclusive",value:t.maxInclusive})]}),EG=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minInclusive",value:t.minInclusive}),e.jsx(h,{title:"maxInclusive",value:t.maxInclusive})]}),vG=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"pattern",value:t.pattern}),e.jsx(h,{title:"minLength",value:t.minLength}),e.jsx(h,{title:"maxLength",value:t.maxLength})]}),uf=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"reference",value:t.reference,hover:!0}),e.jsx(h,{title:"min",value:t.min,hover:!0}),e.jsx(h,{title:"max",value:t.max,hover:!0})]});function FG({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"type",value:t.type,hover:!0}),e.jsx(h,{title:"defaultValue",value:t.defaultValue,hover:!0}),e.jsx(h,{title:"system",value:t.system,variant:"boolean",hover:!0}),e.jsx(h,{title:"sortable",value:t.sortable,variant:"boolean",hover:!0}),e.jsx(h,{title:"inheritance",value:t.inheritance,variant:"boolean",hover:!0}),e.jsx(h,{title:"fullText",value:t.fullText,variant:"boolean",hover:!0}),e.jsx(h,{title:"index",value:t.index,hover:!0}),e.jsx(G,{title:"schema",component:uf,value:t.schema,hideNoValue:!0}),e.jsx(G,{title:"values",component:pa,value:t.values,hideNoValue:!0}),e.jsx(G,{title:"data",component:dr,value:t.data,hideNoValue:!0}),e.jsx(G,{title:"floatRestriction",value:t.floatRestriction,component:TG,hideNoValue:!0}),e.jsx(G,{title:"integerRestriction",value:t.integerRestriction,component:IG,hideNoValue:!0}),e.jsx(G,{title:"longRestriction",value:t.longRestriction,component:EG,hideNoValue:!0}),e.jsx(G,{title:"stringRestriction",value:t.stringRestriction,component:vG,hideNoValue:!0}),e.jsx(G,{value:t.constraint,component:({value:n={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"dataset",value:n.dataset}),e.jsx(h,{title:"levelProperty",value:n.levelProperty}),e.jsx(h,{title:"levelValue",value:n.levelValue}),e.jsx(h,{title:"value",value:n.value}),e.jsx(h,{title:"parent",value:n.parent}),e.jsx(h,{title:"validationGroup",value:n.validationGroup})]})})]})}const AG=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"field",value:t.field,hover:!0}),e.jsx(h,{title:"fieldGroup",value:t.fieldGroup,hover:!0}),e.jsx(h,{title:"user",value:t.user,hover:!0}),e.jsx(h,{title:"group",value:t.group,hover:!0}),e.jsx(h,{title:"permission",value:t.permission,hover:!0})]}),PG=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"inheritance",value:t.inheritance,variant:"boolean",hover:!0})]}),DG=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(G,{title:"schema",value:t.schema,component:uf,hideNoValue:!0})}),MG=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(te,{title:"access",value:t.access,component:AG})}),OG=({metadataFieldGroupDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:PG,value:t})}),LG=({metadataFieldGroupDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:DG,value:t})}),NG=({metadataFieldGroupDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:MG,value:t})}),_G=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"childGroupName",label:"Field Group",component:Y,loadOptions:kn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx("button",{type:"submit",hidden:!0})]}),$G=v()(_G),Kd="FIELDGROUP_CHILD_FORM";function kG({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i}){const a=c=>{const{childGroupName:u}=c,p=`Field Group ${u} Added`;o({messageContent:p}),s&&s(),n()},l=()=>{o({messageContent:"Error Adding Field Group",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Child Group"}),e.jsx(ve,{children:e.jsx($G,{form:Kd,onSubmit:xG,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,groupName:i})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Kd),children:"Save"})]})]})}const WG=A(P,D)(kG),Yd="ADD_FIELDGROUP_CHILD";function wG({groupName:t,onRefresh:n,metadataFieldGroupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:"Groups"}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"New",children:e.jsx(Q,{onClick:()=>o({modalName:Yd}),children:e.jsx(bt,{})})})})})}),e.jsx(U,{children:e.jsx(nf,{metadataFieldGroupListDocument:s,groupName:t,onRefresh:n})}),e.jsx(WG,{dialogName:Yd,groupName:t,onSuccess:n})]})}const UG=rn(wG),VG=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"fieldName",label:"Metadata Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx("button",{type:"submit",hidden:!0})]}),GG=v()(VG),Xd="FIELDGROUP_FIELD_FORM";function qG({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i}){const a=c=>{const{fieldName:u}=c,p=`Field ${u} Added`;o({messageContent:p}),s&&s(),n()},l=()=>{o({messageContent:"Error Adding Field",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Metadata Field To Field Group"}),e.jsx(ve,{children:e.jsx(GG,{form:Xd,onSubmit:jG,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,groupName:i})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Xd),children:"Save"})]})]})}const HG=A(P,D)(qG),Qd="ADD_FIELDGROUP_FIELD";function JG({groupName:t,onRefresh:n,metadataFieldGroupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(le,{disableTypography:!0,title:e.jsx(b,{variant:"subtitle1",children:"Metadata Fields"}),action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Add",children:e.jsx(Q,{onClick:()=>o({modalName:Qd}),children:e.jsx(bt,{})})})})})}),e.jsx(U,{children:e.jsx(Yj,{metadataFieldListDocument:s,groupName:t,onRefresh:n})}),e.jsx(HG,{dialogName:Qd,groupName:t,onSuccess:n})]})}const zG=rn(JG);function BG(t){return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsx(zr,{title:"Overview",formComponent:iG,displayComponent:OG,...t})}),e.jsx(N,{children:e.jsx(zr,{title:"Schema",formComponent:lG,displayComponent:LG,...t})}),e.jsx(N,{children:e.jsx(zG,{...t})}),e.jsx(N,{children:e.jsx(UG,{...t})}),e.jsx(N,{children:e.jsx(zr,{title:"Access",formComponent:mG,displayComponent:NG,...t})})]})}const Zd="FIELDGROUP_REMOVE_MODAL";class KG extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={simpleMetadataDocument:void 0,metadataFieldGroupDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Field Group | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Field Group | ${n}`)}onRefresh(){const{groupName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{Nt.getFieldGroup({groupName:n}).then(o=>this.setState({metadataFieldGroupDocument:o.data})),Nt.getSimpleMetadata({groupName:n}).then(o=>this.setState({simpleMetadataDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{groupName:n}=this.props,{simpleMetadataDocument:s,metadataFieldGroupDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(SG,{removeModal:Zd,onRefresh:this.onRefresh,groupName:n,code:o,codeModal:"MetadataFieldGroupDocument"}),o&&e.jsx(BG,{metadataFieldGroupDocument:o,groupName:n,onRefresh:this.onRefresh}),s&&e.jsx(us,{simpleMetadataList:s.field||[],onSuccess:this.onRefresh,entityType:"metadata-field/field-group",entityId:n}),e.jsx(tf,{dialogName:Zd,groupName:n})]})}}const YG=q(KG),XG=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"uri",label:"URI",component:m,helperText:"Make Sure To Percent Encode",fullWidth:!0}),e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(we,{name:"jobmetadata",label:"Job Metadata",component:$t,buttonLabel:"Add Job Metadata"})]});function QG({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:XG}),e.jsx("button",{type:"submit",hidden:!0})]})}const ZG=v()(QG),e3=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"original",label:"Original Shape Tag",component:m,helperText:"Reset original to this tag",fullWidth:!0}),e.jsx(T,{control:e.jsx(R,{name:"no-transcode",component:E}),label:"Disable Transcoding"}),e.jsx(T,{control:e.jsx(R,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(T,{control:e.jsx(R,{name:"overrideFastStart",component:E}),label:"Override Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"requireFastStart",component:E}),label:"Require Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"growing",component:E}),label:"Growing File"}),e.jsx(R,{name:"createPosters",label:"Poster Timecodes",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"fastStartLength",label:"Fast Start Length",component:m,fullWidth:!0}),e.jsx(R,{name:"storageId",label:"Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(R,{name:"thumbnailService",label:"Thumbnail Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"xmpfile",label:"XMP URI",component:m,fullWidth:!0}),e.jsx(R,{name:"sidecar",label:"Sidecar URIs/IDs",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"settings",label:"Access Control Setting",component:m,fullWidth:!0}),e.jsx(R,{name:"notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(R,{name:"importTag",label:"Default Shape Tag",component:oe,simple:!0,fullWidth:!0})]});function t3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:e3}),e.jsx("button",{type:"submit",hidden:!0})]})}const n3=v()(t3);function Br(t){const{queryParams:n,metadataDocument:s}=t;return On.createImportUri({queryParams:n,metadataDocument:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function Kr(t){const{queryParams:n,metadataDocument:s,upload:o}=t,{transferId:r}=n,i=o[0],{name:a}=i;return On.createImportRawPasskey({filename:a,queryParams:n,metadataDocument:s}).then(l=>{const{data:{data:c=[]}}=l,u=c.find(p=>p.key==="passkey").value;return On.createImportRawNoAuth({file:i,queryParams:{passkey:u,transferId:r}})}).catch(l=>{let c=l.message;throw l.response&&(c=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new _({_error:c})})}function Yr(t){const{queryParams:n,metadataDocument:s}=t;return On.createImportPlaceholder({queryParams:n,metadataDocument:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function Xr(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.component||t.component;return On.createImportComponent({itemId:r,component:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function s3(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return On.createImportItemSidecar({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const Tt=t=>class extends I.PureComponent{constructor(n){super(n),this.onBack=this.onBack.bind(this),this.onNext=this.onNext.bind(this),this.state={activeStep:0}}onBack(){const{activeStep:n}=this.state;n!==0&&this.setState({activeStep:n-1})}onNext(){const{activeStep:n}=this.state;this.setState({activeStep:n+1})}render(){const{activeStep:n}=this.state;return e.jsx(t,{onBack:this.onBack,onNext:this.onNext,activeStep:n,...this.props})}},Ns="EDIT_IMPORTURI_FORM";function o3({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"]},metadataDocument:{},...t},u=(x,j,C)=>{l({messageContent:"Job Started"}),n&&n(x,j,C)},p=(x,j,C)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,C)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"URI",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Ns),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"URI"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(ZG,{onSubmit:Br,initialValues:c,onSubmitSuccess:u,onSubmitFail:p,form:Ns,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:Br,initialValues:c,onSubmitSuccess:u,onSubmitFail:p,form:Ns,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(n3,{onSubmit:Br,initialValues:c,onSubmitSuccess:u,onSubmitFail:p,form:Ns,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const r3=A(Tt,P,D)(o3);class i3 extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | URI"}componentWillUnmount(){const{destroyForm:n}=this.props;n(Ns)}render(){const{history:n,...s}=this.props;return e.jsx(r3,{onSuccess:o=>n.push(`/job/${o.data.jobId}`),...s})}}const a3=D(i3),l3=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"container",component:m,type:"number",helperText:"Total Container Components",fullWidth:!0}),e.jsx(d,{name:"video",component:m,type:"number",helperText:"Total Video Components",fullWidth:!0}),e.jsx(d,{name:"audio",component:m,type:"number",helperText:"Total Audio Components",fullWidth:!0}),e.jsx(d,{name:"binary",component:m,type:"number",helperText:"Total Binary Components",fullWidth:!0})]});function c3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:l3}),e.jsx("button",{type:"submit",hidden:!0})]})}const d3=v()(c3),u3=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"frameDuration",label:"Frame Duration",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"settings",label:"Access Control Settings",component:m,fullWidth:!0}),e.jsx(d,{name:"importTag",label:"Default Shape Tag",component:oe,simple:!0,fullWidth:!0})]});function m3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:u3}),e.jsx("button",{type:"submit",hidden:!0})]})}const h3=v()(m3),_s="EDIT_IMPORTPLACEHOLDER_FORM";function p3({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c={queryParams:{container:1},metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]},...t},u=(x,j,C)=>{l({messageContent:"Placeholder Created"}),n&&n(x,j,C)},p=(x,j,C)=>{l({messageContent:"Error Creating Placeholder",messageColor:"secondary"}),s&&s(x,j,C)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Placeholder Item",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(_s),children:"Create"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Placeholder Item"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(d3,{onSubmit:Yr,initialValues:c,onSubmitSuccess:u,onSubmitFail:p,form:_s,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:Yr,initialValues:c,form:_s,onSubmitSuccess:u,onSubmitFail:p,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(h3,{onSubmit:Yr,initialValues:c,onSubmitSuccess:u,onSubmitFail:p,form:_s,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const x3=A(Tt,P,D)(p3);class j3 extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Placeholder"}componentWillUnmount(){const{destroyForm:n}=this.props;n(_s)}render(){const{history:n,...s}=this.props;return e.jsx(x3,{onSuccess:o=>n.push(`/item/${o.data.id}`),...s})}}const f3=D(j3),g3=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"uri",label:"URI",component:m,helperText:"Must be specified unless File Id is specified",fullWidth:!0}),e.jsx(R,{name:"fileId",label:"File ID",component:m,helperText:"Must be specified unless URI is specified",fullWidth:!0}),e.jsx(R,{name:"shapeId",label:"Shape ID",component:m,fullWidth:!0}),e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(we,{name:"jobmetadata",label:"Job Metadata",component:$t,buttonLabel:"Add Job Metadata"})]});function b3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"itemId",label:"Item Id",component:m,validate:[Z],required:!0,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"component",children:"Component"}),e.jsxs(R,{name:"component",component:B,children:[e.jsx(g,{value:"container",children:"Container"}),e.jsx(g,{value:"video",children:"Video"}),e.jsx(g,{value:"audio",children:"Audio"}),e.jsx(g,{value:"binary",children:"Binary"})]})]}),e.jsx(y,{name:"queryParams",component:g3}),e.jsx("button",{type:"submit",hidden:!0})]})}const C3=v()(b3),y3=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"original",label:"Original Shape Tag",component:m,helperText:"Reset original to this tag",fullWidth:!0}),e.jsx(T,{control:e.jsx(R,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(T,{control:e.jsx(R,{name:"no-transcode",component:E}),label:"Disable Transcoding"}),e.jsx(T,{control:e.jsx(R,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(T,{control:e.jsx(R,{name:"overrideFastStart",component:E}),label:"Override Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"requireFastStart",component:E}),label:"Require Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"growing",component:E}),label:"Growing File"}),e.jsx(R,{name:"createPosters",label:"Poster Timecodes",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"fastStartLength",label:"Fast Start Length",component:m,fullWidth:!0}),e.jsx(R,{name:"storageId",label:"Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(R,{name:"thumbnailService",label:"Thumbnail Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"xmpfile",label:"XMP URI",component:m,fullWidth:!0}),e.jsx(R,{name:"sidecar",label:"Sidecar URIs/IDs",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"settings",label:"Access Control Setting",component:m,fullWidth:!0}),e.jsx(R,{name:"notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(R,{name:"index",label:"Component Track",component:m,fullWidth:!0}),e.jsx(R,{name:"importTag",label:"Default Shape Tag",component:oe,simple:!0,fullWidth:!0})]});function S3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:y3}),e.jsx("button",{type:"submit",hidden:!0})]})}const R3=v()(S3),$s="EDIT_IMPORTCOMPONENT_FORM";function T3({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c=(x,j,C)=>{l({messageContent:"Job Started"}),n&&n(x,j,C)},u=(x,j,C)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,C)},p={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"],allowReimport:!1,...t.queryParams},component:"container",itemId:t.itemId};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Component",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o($s),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Component"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(C3,{onSubmit:Xr,initialValues:p,onSubmitSuccess:c,onSubmitFail:u,form:$s})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:Xr,initialValues:p,onSubmitSuccess:c,onSubmitFail:u,form:$s,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(R3,{onSubmit:Xr,initialValues:p,onSubmitSuccess:c,onSubmitFail:u,form:$s,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const I3=A(Tt,P,D)(T3);class E3 extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Component"}componentWillUnmount(){const{destroyForm:n}=this.props;n($s)}render(){const{history:n,location:s,...o}=this.props,r=new URLSearchParams(s.search),i=r.get("fileId"),a=r.get("itemId");return e.jsx(I3,{onSuccess:l=>n.push(`/job/${l.data.jobId}`),initialValues:{itemId:a,queryParams:{fileId:i}},...o})}}const v3=D(E3),F3=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"filename",label:"Filename",component:ue,fullWidth:!0}),e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(we,{name:"jobmetadata",label:"Job Metadata",component:$t,buttonLabel:"Add Job Metadata"})]});function A3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"upload",label:"Choose File",component:fa,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:F3}),e.jsx("button",{type:"submit",hidden:!0})]})}const P3=v()(A3),D3=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"transferId",label:"Transfer ID",component:m,disabled:!0,fullWidth:!0}),e.jsx(R,{name:"original",label:"Original Shape Tag",component:m,helperText:"Reset original to this tag",fullWidth:!0}),e.jsx(T,{control:e.jsx(R,{name:"no-transcode",component:E}),label:"Disable Transcoding"}),e.jsx(T,{control:e.jsx(R,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(T,{control:e.jsx(R,{name:"overrideFastStart",component:E}),label:"Override Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"requireFastStart",component:E}),label:"Require Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"growing",component:E}),label:"Growing File"}),e.jsx(R,{name:"createPosters",label:"Poster Timecodes",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"fastStartLength",label:"Fast Start Length",component:m,fullWidth:!0}),e.jsx(R,{name:"storageId",label:"Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(R,{name:"thumbnailService",label:"Thumbnail Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"xmpfile",label:"XMP URI",component:m,fullWidth:!0}),e.jsx(R,{name:"sidecar",label:"Sidecar URIs/IDs",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"settings",label:"Access Control Setting",component:m,fullWidth:!0}),e.jsx(R,{name:"notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Metadata",component:se}),e.jsx(R,{name:"importTag",label:"Default Shape Tag",component:oe,simple:!0,fullWidth:!0})]});function M3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:D3}),e.jsx("button",{type:"submit",hidden:!0})]})}const O3=v()(M3),Jn="EDIT_IMPORTRAW_FORM";function L3({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l,isFormSubmitting:c}){const u=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),p={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"],transferId:u},metadataDocument:{},...t},x=(C,S,L)=>{l({messageContent:"Job Started"}),n&&n(C,S,L)},j=(C,S,L)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(C,S,L)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Upload",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsxs("div",{style:{position:"relative"},children:[e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Jn),disabled:c,children:"Start"}),c&&e.jsx(Zs,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"File"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(P3,{onSubmit:Kr,initialValues:p,onSubmitSuccess:x,onSubmitFail:j,form:Jn,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:Kr,initialValues:p,onSubmitSuccess:x,onSubmitFail:j,form:Jn,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(O3,{onSubmit:Kr,initialValues:p,onSubmitSuccess:x,onSubmitFail:j,form:Jn,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const N3=A(Tt,P,D,Bt)(L3,Jn);class _3 extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Upload"}componentWillUnmount(){const{destroyForm:n}=this.props;n(Jn)}render(){const{history:n,...s}=this.props;return e.jsx(N3,{onSuccess:o=>n.push(`/job/${o.data.jobId}`),...s})}}const $3=D(_3),k3=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"filename",label:"File Name",component:m,fullWidth:!0}),e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(we,{name:"jobmetadata",label:"Job Metadata",component:$t,buttonLabel:"Add Job Metadata"})]});function W3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"fileId",label:"File ID",component:m,validate:[Z],required:!0,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:k3}),e.jsx("button",{type:"submit",hidden:!0})]})}const w3=v()(W3),U3=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"id",label:"External IDs",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"original",label:"Original Shape Tag",component:m,helperText:"Reset original to this tag",fullWidth:!0}),e.jsx(T,{control:e.jsx(R,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(T,{control:e.jsx(R,{name:"no-transcode",component:E}),label:"Disable Transcoding"}),e.jsx(T,{control:e.jsx(R,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(T,{control:e.jsx(R,{name:"overrideFastStart",component:E}),label:"Override Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"requireFastStart",component:E}),label:"Require Fast Start"}),e.jsx(T,{control:e.jsx(R,{name:"growing",component:E}),label:"Growing File"}),e.jsx(R,{name:"createPosters",label:"Poster Timecodes",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"fastStartLength",label:"Fast Start Length",component:m,fullWidth:!0}),e.jsx(R,{name:"storageId",label:"Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(R,{name:"thumbnailService",label:"Thumbnail Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"xmpfile",label:"XMP URI",component:m,fullWidth:!0}),e.jsx(R,{name:"sidecar",label:"Sidecar URIs/IDs",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"settings",label:"Access Control Setting",component:m,fullWidth:!0}),e.jsx(R,{name:"notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(R,{name:"importTag",label:"Default Shape Tag",component:oe,simple:!0,fullWidth:!0})]});function V3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:U3}),e.jsx("button",{type:"submit",hidden:!0})]})}const G3=v()(V3);function q3(t,n,s){const o=s.fileId||t.fileId,{state:r}=t;return Ke.updateFileState({fileId:o,state:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function H3(t,n,s){const o=s.fileId||t.fileId,{hash:r,queryParams:i}=t;return Ke.updateFileHash({fileId:o,hash:r,queryParams:i}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function J3(t,n,s){const o=s.fileId||t.fileId,{targetStorageId:r,queryParams:i}=t;return Ke.createFileMove({fileId:o,targetStorageId:r,queryParams:i}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function z3(t,n,s){const o=s.fileId||t.fileId,{queryParams:r}=t;return Ke.removeFile({fileId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function B3(t,n,s){const o=s.fileId||t.fileId,{queryParams:r}=t;return Ke.createFilePath({fileId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function K3(t,n,s){const o=s.fileId||t.fileId,{queryParams:r,file:i}=t;return Ke.updateFileRaw({fileId:o,file:i[0],queryParams:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function Y3(t,n,s){const o=s.fileId||t.fileId,{queryParams:r}=t;return Ke.getFile({fileId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function X3(t,n,s){const{storageId:o}=s,{queryParams:r}=t;return Ke.listFile({storageId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function Q3(t){const{fileDocument:n,queryParams:s,storageId:o}=t;return Ke.createFileEntity({storageId:o,fileDocument:n,queryParams:s}).catch(r=>{let i=r.message;throw r.response&&(i=JSON.stringify(r.response.data,(a,l)=>l===null?void 0:l)),new _({_error:i})})}function Qr(t,n,s){const{metadataDocument:o,queryParams:r}=t,i=s.fileId||t.fileId;return Ke.createFileImport({fileId:i,metadataDocument:o,queryParams:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function Z3(t,n,s){const{queryParams:o}=t,r=s.fileId||t.fileId;return Ke.analyzeFile({fileId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function eq(t,n,s){const{queryParams:o}=t,r=s.fileId||t.fileId;return Ke.analyzeFileImp({fileId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function tq(t,n,s){const{queryParams:o}=t,r=s.fileId||t.fileId;return Ke.createFileTemporaryCredentials({fileId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const ks="EDIT_IMPORTFILE_FORM";function nq({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c=(x,j,C)=>{l({messageContent:"Job Started"}),n&&n(x,j,C)},u=(x,j,C)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,C)},p={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"]},metadataDocument:{},...t};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"File",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(ks),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"File"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(w3,{onSubmit:Qr,initialValues:p,onSubmitSuccess:c,onSubmitFail:u,form:ks,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:Qr,initialValues:p,onSubmitSuccess:c,onSubmitFail:u,form:ks,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(G3,{onSubmit:Qr,initialValues:p,onSubmitSuccess:c,onSubmitFail:u,form:ks,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const sq=A(Tt,P,D)(nq);class oq extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | File"}componentWillUnmount(){const{destroyForm:n}=this.props;n(ks)}render(){const{history:n,location:s,...o}=this.props,i=new URLSearchParams(s.search).get("fileId");return e.jsx(sq,{onSuccess:a=>n.push(`/job/${a.data.jobId}`),initialValues:{fileId:i},...o})}}const rq=D(oq),iq=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"container",label:"Container",component:m,type:"number",fullWidth:!0,helperText:"Total Container Files"}),e.jsx(R,{name:"video",label:"Video",component:m,type:"number",helperText:"Total Video Files",fullWidth:!0}),e.jsx(R,{name:"audio",label:"Audio",component:m,helperText:"Total Audio Files",type:"number",fullWidth:!0}),e.jsx(R,{name:"binary",label:"Binary",component:m,type:"number",fullWidth:!0,helperText:"Total Binary Files"}),e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(R,{name:"frameDuration",label:"Frame Duration",component:m,type:"number",fullWidth:!0})]});function aq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"itemId",label:"Item Id",component:m,validate:[Z],required:!0,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:iq}),e.jsx(y,{name:"simpleMetadataDocument",label:"Metadata",component:bn}),e.jsx("button",{type:"submit",hidden:!0})]})}const lq=v()(aq),Ui="EDIT_IMPORTSHAPEPLACEHOLDER_FORM";function cq({initialValues:t,onSuccess:n,onFail:s,submitForm:o,openSnackBar:r}){const i={queryParams:{container:1,tag:["original"]},...t},a=(c,u,p)=>{r({messageContent:"Placeholder Shape Created"}),n&&n(c,u,p)},l=(c,u,p)=>{r({messageContent:"Error Creating Placeholder Shape",messageColor:"secondary"}),s&&s(c,u,p)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Placeholder Shape",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Ui),children:"Create"})}),e.jsx(N,{children:e.jsx(U,{children:e.jsx(lq,{onSubmit:n_,initialValues:i,onSubmitSuccess:a,onSubmitFail:l,form:Ui,destroyOnUnmount:!1})})})]})}const dq=A(Tt,P,D)(cq);class uq extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Shape Placeholder"}componentWillUnmount(){const{destroyForm:n}=this.props;n(Ui)}render(){const{location:n,history:s}=this.props,r=new URLSearchParams(n.search).get("itemId"),i=(a,l,c)=>{var x;const u=a==null?void 0:a.data,p=(x=c==null?void 0:c.values)==null?void 0:x.itemId;s.push(`/item/${p}/shape/${u}/`)};return e.jsx(dq,{initialValues:{itemId:r},onSuccess:i,...this.props})}}const mq=D(uq);function hq({error:t,handleSubmit:n}){return e.jsx("form",{onSubmit:n,style:{padding:"10px"},children:e.jsxs(F,{container:!0,direction:"row",alignItems:"center",children:[t&&e.jsx(F,{item:!0,xs:12,children:e.jsx(b,{color:"error",children:t})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"itemId",label:"Item Id",component:m,validate:[Z],required:!0,fullWidth:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"queryParams.uri",label:"URI",component:m,helperText:"Must be specified unless File Id is specified",fullWidth:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"queryParams.fileId",label:"File ID",component:m,helperText:"Must be specified unless URI is specified",fullWidth:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"queryParams.tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"queryParams.priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(we,{name:"queryParams.jobmetadata",label:"Job Metadata",component:$t,buttonLabel:"Add Job Metadata"})})]})})}const pq=v()(hq),xq=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(R,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(R,{name:"storageId",label:"Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Metadata",component:se})]});function jq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:xq}),e.jsx("button",{type:"submit",hidden:!0})]})}const fq=v()(jq),_o="EDIT_IMPORTSHAPE_FORM";function gq({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c={queryParams:{tag:["original"]},...t},u=(x,j,C)=>{l({messageContent:"Job Started"}),n&&n(x,j,C)},p=(x,j,C)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,C)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Shape",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(_o),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Shape"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(pq,{onSubmit:Zc,initialValues:c,onSubmitSuccess:u,onSubmitFail:p,form:_o,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(fq,{onSubmit:Zc,initialValues:c,onSubmitSuccess:u,onSubmitFail:p,form:_o,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const bq=A(Tt,P,D)(gq);class Cq extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Shape"}componentWillUnmount(){const{destroyForm:n}=this.props;n(_o)}render(){const{history:n,location:s,...o}=this.props,r=new URLSearchParams(s.search),i=r.get("fileId"),a=r.get("itemId");return e.jsx(bq,{onSuccess:l=>n.push(`/job/${l.data.jobId}`),initialValues:{itemId:a,queryParams:{fileId:i}},...o})}}const yq=D(Cq),Sq=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"id",label:"Entity ID",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Entity Type"}),e.jsxs(d,{name:"type",component:B,children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"library",children:"Library"}),e.jsx(g,{value:"collection",children:"Collection"})]})]})]}),mf=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"metadata",label:"metadata",component:ms}),e.jsx(w,{name:"content",label:"content",component:Sq})]}),hf=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",component:m,fullWidth:!0}),e.jsx(d,{name:"externalId",component:m,fullWidth:!0}),e.jsx(d,{name:"settings",component:m,fullWidth:!0})]}),Rq=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"collectionDocument",component:mf}),e.jsx("button",{type:"submit",hidden:!0})]}),Tq=v()(Rq),Iq=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:hf}),e.jsx("button",{type:"submit",hidden:!0})]}),Eq=v()(Iq),vq=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:hf}),e.jsx(y,{name:"collectionDocument",label:"collectionDocument",component:mf}),e.jsx("button",{type:"submit",hidden:!0})]}),Fq=v()(vq),$o="EDIT_COLLECTION_FORM";function Aq({onSuccess:t,onFail:n,submitForm:s,onNext:o,onBack:r,activeStep:i,openSnackBar:a}){const l=(u,p,x)=>{a({messageContent:"Collection Created"}),t&&t(u,p,x)},c=(u,p,x)=>{a({messageContent:"Error Creating Collection",messageColor:"secondary"}),n&&n(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Collection",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>s($o),children:"Create"})}),e.jsxs(ut,{activeStep:i,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Collection"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(Eq,{onSubmit:Ni,onSubmitSuccess:l,onSubmitFail:c,form:$o,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Document"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(Tq,{onSubmit:Ni,onSubmitSuccess:l,onSubmitFail:c,form:$o,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:r,children:"Back"})})]})})]})]})]})}const Pq=A(Tt,P,D)(Aq);class Dq extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Collection"}componentWillUnmount(){const{destroyForm:n}=this.props;n($o)}render(){const{history:n,...s}=this.props;return e.jsx(Pq,{onSuccess:o=>n.push(`/collection/${o.data.id}`),...s})}}const Mq=D(Dq),Oq=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"fileId",component:m,fullWidth:!0}),e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(T,{control:e.jsx(d,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]});function Lq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"itemId",component:m,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:Oq}),e.jsx("button",{type:"submit",hidden:!0})]})}const Nq=v()(Lq),_q=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:se}),e.jsx(d,{name:"storageId",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Metadata",component:se})]});function $q({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:_q}),e.jsx("button",{type:"submit",hidden:!0})]})}const kq=v()($q),ko="EDIT_IMPORTSHAPEESSENCE_FORM";function Wq({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l,itemId:c}){const u=(x,j,C)=>{l({messageContent:"Job Started"}),n&&n(x,j,C)},p=(x,j,C)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,C)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Essence",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(ko),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Essence"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(Nq,{onSubmit:Qc,initialValues:t,onSubmitSuccess:u,onSubmitFail:p,form:ko,destroyOnUnmount:!1,itemId:c})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(kq,{onSubmit:Qc,initialValues:t,onSubmitSuccess:u,onSubmitFail:p,form:ko,destroyOnUnmount:!1,itemId:c})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const wq=A(Tt,P,D)(Wq);class Uq extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Essence"}componentWillUnmount(){const{destroyForm:n}=this.props;n(ko)}render(){const{history:n,...s}=this.props;return e.jsx(wq,{onSuccess:o=>n.push(`/job/${o.data.jobId}`),...s})}}const Vq=D(Uq);function Gq({error:t,handleSubmit:n}){return e.jsx("form",{onSubmit:n,style:{padding:"10px"},children:e.jsxs(F,{container:!0,direction:"row",alignItems:"center",children:[t&&e.jsx(F,{item:!0,xs:12,children:e.jsx(b,{color:"error",children:t})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"itemId",label:"Item Id",component:m,validate:[Z],required:!0,fullWidth:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"queryParams.sidecar",label:"FileId / URI",component:m,helperText:"Either the id of the sidecar file or a URL for locating it",required:!0,fullWidth:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"queryParams.startTimeCode",label:"Start TimeCode",component:m,helperText:"Expected start time code of the content",fullWidth:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"queryParams.priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(we,{name:"queryParams.jobmetadata",label:"Job Metadata",component:$t,buttonLabel:"Add Job Metadata"})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(R,{name:"queryParams.notification",label:"Notification ID",component:m,helperText:"The placeholder job notification to use for this job",fullWidth:!0})}),e.jsx(F,{item:!0,xs:12,children:e.jsx(we,{name:"queryParams.notificationData",label:"Notification Data",component:$t,buttonLabel:"Add Notification Data"})})]})})}const qq=v()(Gq),Wo="EDIT_IMPORTSIDECAR_FORM";function Hq({initialValues:t,onSuccess:n,onFail:s,submitForm:o,activeStep:r,openSnackBar:i,itemId:a}){const l=(u,p,x)=>{i({messageContent:"Job Started"}),n&&n(u,p,x)},c=(u,p,x)=>{i({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Import",title:"Essence",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Wo),children:"Start"})}),e.jsx(ut,{activeStep:r,orientation:"vertical",children:e.jsxs(he,{children:[e.jsx(pe,{children:"Sidecar"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(qq,{onSubmit:s3,initialValues:t,onSubmitSuccess:l,onSubmitFail:c,form:Wo,destroyOnUnmount:!1,itemId:a})}),e.jsx(ee,{children:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Wo),children:"Start"})})]})})]})})]})}const Jq=A(Tt,P,D)(Hq);class zq extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Sidecar"}componentWillUnmount(){const{destroyForm:n}=this.props;n(Wo)}render(){const{history:n,location:s,...o}=this.props,r=new URLSearchParams(s.search),i=r.get("fileId"),a=r.get("itemId");return e.jsx(Jq,{onSuccess:l=>n.push(`/job/${l.data.jobId}`),initialValues:{itemId:a,queryParams:{sidecar:i}},...o})}}const Bq=D(zq);function Ua({listText:t,listItemProps:n={}}){return e.jsxs(tr,{style:{paddingLeft:8},disableGutters:!0,button:!0,...n,children:[e.jsx(ta,{children:e.jsx(ss,{style:{height:25,width:25},children:t[0]})}),e.jsx(na,{secondary:t})]})}const Kq="IMPORTURI_TAB",Yq="IMPORTPLACEHOLDER_TAB",Xq="IMPORTCOMPONENT_TAB",Qq="IMPORTRAW_TAB",pf="IMPORTFILE_TAB",Zq="IMPORTSHAPEPLACEHOLDER_TAB",eH="IMPORTSHAPE_TAB",tH="IMPORTCOLLECTION_TAB",nH="IMPORTSHAPEESSENCE_TAB",sH="IMPORTSIDECAR_TAB",Vi=[{tab:Kq,listText:"URI",component:a3},{tab:Yq,listText:"Placeholder Item",component:f3},{tab:Xq,listText:"Component",component:v3},{tab:Qq,listText:"Upload",component:$3},{tab:pf,listText:"File",component:rq},{tab:Zq,listText:"Placeholder Shape",component:mq},{tab:eH,listText:"Shape",component:yq},{tab:tH,listText:"Collection",component:Mq},{tab:nH,listText:"Essence",component:Vq},{tab:sH,listText:"Sidecar",component:Bq}],oH=({onChangeTab:t,tabValue:n})=>e.jsx(vt,{children:Vi.map(({tab:s,listText:o})=>e.jsx(Ua,{listText:o,listItemProps:{onClick:()=>t(null,s),selected:n===s||void 0}},o))});class rH extends I.PureComponent{render(){const{tabValue:n,onChangeTab:s,...o}=this.props,r=Vi.find(l=>l.tab===n)||Vi[0],{listText:i,component:a}=r;return e.jsx(Vt,{mainComponent:a,listComponent:oH,defaultOpen:!0,onChangeTab:s,tabValue:n,title:i,...o})}}const iH=an(pf)(rH);function aH(t){return e.jsx(K,{title:"File",helpTo:"/ref/storage/file.html",...t})}const po=["CLOSED","OPEN","NONE","LOST","TO_APPEAR","TO_BE_DELETED","BEING_READ","ARCHIVED","AWAITING_SYNC"],lH=["CLOSED","ARCHIVED"],cH=["NONE","OPEN","BEING_READ","AWAITING_SYNC"],dH=["CLOSED","OPEN","BEING_READ"],uH=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"id",label:"File IDs",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"path",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"ignorecase",component:E}),label:"Ignore Case"}),e.jsx(T,{control:e.jsx(d,{name:"recursive",component:E}),label:"Recursive"}),e.jsx(T,{control:e.jsx(d,{name:"wildcard",component:E}),label:"Wildcard"}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(T,{control:e.jsx(d,{name:"prefix",component:E}),label:"Prefix"}),e.jsx(d,{name:"hash",label:"Hashes",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"algorithm",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(d,{name:"state",component:B,children:po.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"methodType",component:m,fullWidth:!0}),e.jsx(d,{name:"storageType",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsx(w,{name:"methodMetadata",label:"Method Metadata",component:se}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"prefixFirst",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"prefixNumber",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(d,{name:"sort",component:oe,simple:!0,fullWidth:!0,disabled:!0}),e.jsx(d,{name:"storage",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),e.jsx(d,{name:"storageGroup",component:Y,loadOptions:ao,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),e.jsxs(z,{component:"fieldset",children:[e.jsx(yi,{component:"legend",children:"File Association"}),e.jsxs(d,{name:"filter",component:Ti,children:[e.jsx(T,{value:"all",control:e.jsx(It,{}),label:"All"}),e.jsx(T,{value:"item",control:e.jsx(It,{}),label:"With Item"}),e.jsx(T,{value:"noitem",control:e.jsx(It,{}),label:"Not Associated"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"excludeQueued",component:E}),label:"Exclude Queued"}),e.jsx(T,{control:e.jsx(d,{name:"includeItem",component:E}),label:"Include Item"})]});function mH({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:uH}),e.jsx("button",{type:"submit",hidden:!0})]})}const hH=v()(mH);function pH({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="FILE_FILTER_FORM",changeForm:a}){const l=(x,j,C)=>{n&&n(x,j,C)},c=()=>{s({messageContent:"Error Listing Files",messageColor:"secondary"})},u=async()=>{await a(i,"queryParams.first",0),o(i)},p={queryParams:{first:0,number:10,prefixFirst:0,prefixNumber:10}};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"File List Options"})}),e.jsx(Ae,{children:e.jsx(hH,{form:i,onSubmit:X3,onSubmitSuccess:l,onSubmitFail:c,onCancel:t,destroyOnUnmount:!1,initialValues:p})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:u,children:"Filter"})]})]})}const xH=A(P,D)(pH);function jH({filePrefixType:t,onChangePrefix:n}){if(!t)return null;const{prefix:s=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(je,{children:e.jsx(M,{children:"Prefix"})})}),e.jsx(de,{children:s.map(o=>e.jsx(je,{hover:!0,onClick:()=>n(o),children:e.jsx(M,{children:o})}))})]})}function fH({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(jH,{...t})})})}function Gn({orderBy:t,orderDirection:n,onChangeOrder:s,name:o}){return s?e.jsx(O,{children:e.jsx(gt,{active:t===o,direction:n||void 0,onClick:s(o),children:ie(o)})}):e.jsx(O,{children:ie(o)})}const xf=({fileDocument:t})=>{if(t===void 0)return null;const{state:n}=t;return lH.includes(n)?e.jsx(Le,{avatar:e.jsx(Ut,{}),label:ie(n.toLowerCase())}):cH.includes(n)?e.jsx(Le,{avatar:e.jsx(Qn,{}),label:ie(n.toLowerCase())}):e.jsx(Le,{avatar:e.jsx(Ft,{}),label:n?ie(n.toLowerCase()):"Unknown"})};function gH({fileDocument:t={}}){return e.jsxs(Ge,{to:`/file/${t.id}/`,hover:!0,children:[e.jsx(M,{children:t.path}),e.jsx(M,{children:t.id}),e.jsx(M,{children:e.jsx(xf,{fileDocument:t})}),e.jsx(M,{children:t.storage}),e.jsx(M,{children:so(t.size)}),e.jsx(M,{children:t.timestamp?Oe(t.timestamp).toString():""})]})}function Va({fileListDocument:t,onChangePage:n,onChangeRowsPerPage:s,rowsPerPageOptions:o,page:r,rowsPerPage:i,onChangeOrder:a,orderBy:l,orderDirection:c}){if(t===void 0)return null;const{file:u=[],hits:p=0}=t;return e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(Gn,{name:"filename",onChangeOrder:a,orderBy:l,orderDirection:c}),e.jsx(Gn,{name:"fileId",onChangeOrder:a,orderBy:l,orderDirection:c}),e.jsx(Gn,{name:"state",onChangeOrder:a,orderBy:l,orderDirection:c}),e.jsx(Gn,{name:"Storage"}),e.jsx(Gn,{name:"size",onChangeOrder:a,orderBy:l,orderDirection:c}),e.jsx(Gn,{name:"timestamp",onChangeOrder:a,orderBy:l,orderDirection:c})]})}),e.jsx(de,{children:u.map(x=>e.jsx(gH,{fileDocument:x},x.id))}),n&&s&&e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:p,page:r,rowsPerPage:i,onPageChange:n,onRowsPerPageChange:s,ActionsComponent:St,rowsPerPageOptions:o})})})]})})}const bH=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"path",component:m,fullWidth:!0}),e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(d,{name:"state",component:B,children:po.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"size",component:m,fullWidth:!0}),e.jsx(d,{name:"hash",component:m,fullWidth:!0}),e.jsx(d,{name:"timestamp",component:m,fullWidth:!0}),e.jsx(d,{name:"refreshFlag",component:m,fullWidth:!0}),e.jsx(y,{name:"metadata",component:_p})]}),CH=()=>e.jsx(e.Fragment,{children:e.jsx(T,{control:e.jsx(d,{name:"createOnly",component:E}),label:"Create Only"})});function yH({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"storageId",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),e.jsx(y,{name:"fileDocument",component:bH}),e.jsx(y,{name:"queryParams",component:CH}),e.jsx("button",{type:"submit",hidden:!0})]})}const SH=v()(yH),eu="FILE_ENTITY_FORM";function RH({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r}){const i=(l,c,u)=>{o({messageContent:"File Created"}),n(),s&&s(l,c,u)},a=()=>{o({messageContent:"Error Creating File",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New File Entity"}),e.jsx(X,{children:e.jsx(SH,{form:eu,onSubmit:Q3,onSubmitSuccess:i,onSubmitFail:a,onCancel:n})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(eu),children:"Save"})]})]})}const TH=A(P,D)(RH),IH=A(Rt,Wn)(Va),Ws="FILE_FILTER_FORM",tu="FILE_ENTITY_DIALOG";class EH extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this),this.onChangePrefix=this.onChangePrefix.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},fileSearchDocument:{sort:c}},this.state={fileListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | File",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Ws)}onSuccess(n){const{data:s,queryParams:o}=n;this.setState({fileListDocument:s,queryParams:o}),this.onSetUrlParams(o)}async onChangePrefix(n){const{changeForm:s}=this.props;await s(Ws,"queryParams.path",n),this.onRefresh()}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{fileListDocument:n,queryParams:s}=this.state,{history:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(aH,{code:n,codeModal:"FileListDocument",createModal:tu,onRefresh:this.onRefresh}),e.jsx(xH,{form:Ws,onSuccess:this.onSuccess}),n&&e.jsxs(e.Fragment,{children:[n.prefixes&&e.jsx(fH,{filePrefixType:n.prefixes,onChangePrefix:this.onChangePrefix}),e.jsx(IH,{fileListDocument:n,queryParams:s,form:Ws,sortField:"queryParams.sort"})]}),e.jsx(TH,{dialogName:tu,onSuccess:r=>o.push(`/file/${r.data.id}`)})]})}}const vH=A(D,Bt)(EH,Ws),FH=({fileId:t,fileName:n,openSnackBar:s})=>Ke.getFile({fileId:t,queryParams:{methodMetadata:[{key:"format",value:"SIGNED-AUTO"},{key:"contentDisposition",value:`attachment${n?`;+filename=${n}`:void 0}`}]}}).then(o=>{const{data:r}=o,{uri:i=[]}=r,[a]=i;a?(s&&s({messageContent:"Download Started"}),window.open(a,"_blank")):s&&s({messageContent:"Error Loading Download URL",messageColor:"secondary"})}).catch(()=>{s&&s({messageContent:"Error Loading Download URL",messageColor:"secondary"})}),AH=({fileDocument:t,openSnackBar:n})=>{if(t===void 0)return null;const{path:s,id:o,state:r}=t,i=s.replace(/^.*(\\|\/|:)/,"");if(!dH.includes(r))return null;const a=()=>FH({fileId:o,fileName:i,openSnackBar:n});return e.jsx(Ee,{title:"Download",children:e.jsx(Q,{onClick:a,children:e.jsx(Wh,{})})})},PH=Nn(AH),DH=({fileDocument:t,abandonModal:n,onOpen:s})=>t===void 0||!t.item?null:e.jsx(g,{onClick:()=>s({modalName:n}),children:e.jsx(b,{color:"secondary",children:"Abandon Item"})});function MH({fileId:t,onOpen:n,stateModal:s,moveModal:o,abandonModal:r,deleteModal:i,removeEntityModal:a,pathModal:l,overwriteModal:c,analyzeModal:u,impAnalyzeModal:p,uriModal:x,hashModal:j,fileDocument:C,breadcrumbList:S=[],...L}){return e.jsx(K,{helpTo:"/ref/storage/file.html",breadcrumbList:[{title:"File",to:He.fileList()},{title:t,to:He.file({fileId:t})},...S],iconList:e.jsx(e.Fragment,{children:C&&e.jsxs(e.Fragment,{children:[e.jsx(xf,{fileDocument:C}),e.jsx(PH,{fileDocument:C}),e.jsxs(pt,{children:[e.jsx(g,{onClick:()=>n({modalName:s}),children:e.jsx(b,{color:"inherit",children:"Change State"})}),e.jsx(g,{onClick:()=>n({modalName:x}),children:e.jsx(b,{color:"inherit",children:"Generate Temporary URI"})}),e.jsx(fe,{to:`/import?tab=IMPORTFILE_TAB&fileId=${t}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Import As Item"})})}),e.jsx(g,{children:e.jsx(fe,{to:`/import?tab=IMPORTSHAPE_TAB&fileId=${t}`,children:e.jsx(b,{children:"Import As Shape"})})}),e.jsx(fe,{to:`/import?tab=IMPORTCOMPONENT_TAB&fileId=${t}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Import To Component"})})}),e.jsx(fe,{to:`/import?tab=IMPORTSIDECAR_TAB&fileId=${t}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Import As Sidecar"})})}),e.jsx(fe,{to:`/import-imp/?tab=IMPORTIMP_FILE_TAB&fileId=${t}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Import As IMP"})})}),e.jsx(g,{onClick:()=>n({modalName:u}),children:e.jsx(b,{color:"inherit",children:"Shape Deduction"})}),e.jsx(g,{onClick:()=>n({modalName:p}),children:e.jsx(b,{color:"inherit",children:"IMP Deduction"})}),e.jsx(g,{onClick:()=>n({modalName:o}),children:e.jsx(b,{color:"inherit",children:"Copy/Move File"})}),e.jsx(g,{onClick:()=>n({modalName:l}),children:e.jsx(b,{color:"inherit",children:"Set New Path"})}),e.jsx(g,{onClick:()=>n({modalName:j}),children:e.jsx(b,{color:"inherit",children:"Set Checksum Hash"})}),e.jsx(g,{onClick:()=>n({modalName:c}),children:e.jsx(b,{color:"inherit",children:"Overwrite File Data"})}),e.jsx(DH,{fileDocument:L.code,abandonModal:r,onOpen:n}),e.jsx(g,{onClick:()=>n({modalName:a}),children:e.jsx(b,{color:"secondary",children:"Remove Entity"})}),e.jsx(g,{onClick:()=>n({modalName:i}),children:e.jsx(b,{color:"secondary",children:"Delete File"})})]})]})}),...L})}const OH=tt(MH),LH=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0}),e.jsx(h,{title:"path",value:t.path,hideNoValue:!0,hover:!0}),e.jsx(_t,{title:"uri",value:t.uri,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"state",value:t.state,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"size",value:t.size,variant:"bytes",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"hash",value:t.hash,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"timestamp",value:t.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"refreshFlag",value:t.refreshFlag,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"sequence",value:t.sequence,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"storage",value:t.storage,variant:"storageId",hideNoValue:!0,hover:!0}),e.jsx(te,{value:t.item,component:({value:n})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"item",value:n.id,variant:"itemId"}),e.jsx(te,{value:n.shape,component:({value:s})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"shape",variant:"shapeId",value:s.id,variantProps:{itemId:n.id}}),e.jsx(te,{value:s.component,component:({value:o})=>e.jsx(e.Fragment,{children:e.jsx(h,{title:"component",value:o.id,hideNoValue:!0,variant:"componentId",variantProps:{itemId:n.id,shapeId:s.id}})}),hideNoValue:!0})]}),hideNoValue:!0})]}),hideNoValue:!0,hover:!0,dense:!0}),e.jsx(te,{title:"range",value:t.range,component:({value:n})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:n.start}),e.jsx(h,{title:"count",value:n.count})]}),hideNoValue:!0,hover:!0}),e.jsx(h,{title:"type",value:t.type,hideNoValue:!0,hover:!0})]}),NH=({fileDocument:t})=>e.jsx(e.Fragment,{children:e.jsx(G,{component:LH,value:t})});function _H({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(NH,{...t})})})}const $H=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"methodType",component:m,fullWidth:!0}),e.jsx(d,{name:"storageType",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsx(w,{name:"methodMetadata",label:"Method Metadata",component:se}),e.jsx(T,{control:e.jsx(d,{name:"includeItem",component:E}),label:"Include Item"}),e.jsx(T,{control:e.jsx(d,{name:"includeShapes",component:E}),label:"Include Shapes"})]});function kH({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:$H}),e.jsx("button",{type:"submit",hidden:!0})]})}const WH=v()(kH);function wH({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="FILE_PARAMS_FORM",initialValues:a={},fileId:l}){const c=(p,x,j)=>{n&&n(p,x,j)},u=()=>{s({messageContent:"Error Requesting File",messageColor:"secondary"})};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"File Params"})}),e.jsx(Ae,{children:e.jsx(WH,{form:i,onSubmit:Y3,onSubmitSuccess:c,onSubmitFail:u,onCancel:t,destroyOnUnmount:!1,initialValues:a,fileId:l})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const UH=A(P,D)(wH),VH=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",label:"Job Metadata",component:se}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Data",component:se})]});function GH({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:VH}),e.jsx("button",{type:"submit",hidden:!0})]})}const qH=v()(GH),nu="FILE_DELETE_FORM";function HH({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{path:a,id:l}=i,c=(p,x,j)=>{o({messageContent:"File Delete Job Created"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Creating File Delete Job",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Delete File ${a||l}`}),e.jsx(X,{children:e.jsx(qH,{form:nu,onSubmit:z3,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,fileId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"primary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>r(nu),children:"Delete"})]})]})}const JH=A(P,D)(HH);function zH({open:t,onClose:n,openSnackBar:s,fileDocument:o,onSuccess:r}){if(o===void 0)return null;const{path:i,id:a}=o,l=()=>{Ke.abandonFile({fileId:a}).then(()=>{s({messageContent:"File Abandoned"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Abandoned File",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Abandon File ${i||a}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:l,color:"secondary",autoFocus:!0,children:"Abandon"})]})]})}const BH=P(zH);function KH({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(R,{name:"state",component:B,children:po.map(s=>e.jsx(g,{value:s,children:s},s))})]}),e.jsx("button",{type:"submit",hidden:!0})]})}const YH=v()(KH),su="FILE_STATE_FORM";function XH({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a,state:l}=i,c=()=>{o({messageContent:"File State Updated"}),s&&s(),n()},u=()=>{o({messageContent:"Error Updating File State",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Change File State"}),e.jsx(ve,{children:e.jsx(YH,{form:su,onSubmit:q3,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,fileId:a,initialValues:{state:l}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(su),children:"Save"})]})]})}const QH=A(P,D)(XH),ZH=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"move",children:"Action"}),e.jsxs(d,{name:"move",component:B,children:[e.jsx(g,{value:"false",children:"Copy"}),e.jsx(g,{value:"true",children:"Move"})]})]}),e.jsx(d,{name:"filename",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(d,{name:"timeRequirement",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"limitRate",component:m,type:"number",fullWidth:!0}),e.jsx(w,{name:"jobmetadata",label:"Job Metadata",component:se}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Data",component:se})]});function e5({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"targetStorageId",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:ZH}),e.jsx("button",{type:"submit",hidden:!0})]})}const t5=v()(e5),ou="FILE_MOVE_FORM";function n5({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Transfer Job Created"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Creating Transfer Job",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Move/Copy File"}),e.jsx(X,{children:e.jsx(t5,{form:ou,onSubmit:J3,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,fileId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(ou),children:"Start"})]})]})}const s5=A(P,D)(n5);function o5({open:t,onClose:n,openSnackBar:s,fileDocument:o,onSuccess:r}){if(o===void 0)return null;const{id:i}=o,a=()=>{Ke.removeFileEntity({fileId:i}).then(()=>{s({messageContent:"File Entity Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing File Entity",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove File ${i} Entity`}),e.jsx(X,{children:"This does not affect the physical file."}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const r5=P(o5),i5=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"path",component:m,fullWidth:!0,required:!0}),e.jsx(d,{name:"storage",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(d,{name:"state",component:B,children:po.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(T,{control:e.jsx(d,{name:"duplicate",component:E}),label:"Duplicate"})]});function a5({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:i5}),e.jsx("button",{type:"submit",hidden:!0})]})}const l5=v()(a5),ru="FILE_PATH_FORM";function c5({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"New Path Saved"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Saving Path",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Set New Path"}),e.jsx(X,{children:e.jsx(l5,{form:ru,onSubmit:B3,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,fileId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(ru),children:"Save"})]})]})}const d5=A(P,D)(c5),u5=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"transferId",component:m,fullWidth:!0,disabled:!0}),e.jsx(d,{name:"transferPriority",component:m,type:"number",fullWidth:!0})]});function m5({error:t,handleSubmit:n,submitting:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"file",component:fa,loading:s,required:!0,fullWidth:!0}),e.jsx(y,{name:"queryParams",component:u5}),e.jsx("button",{type:"submit",hidden:!0})]})}const h5=v()(m5),iu="FILE_OVERWRITE_FORM";function p5({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),{id:l}=i,c=(p,x,j)=>{o({messageContent:"File Uploaded"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Uploading File",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Overwrite File Data"}),e.jsx(X,{children:e.jsx(h5,{form:iu,onSubmit:K3,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,fileId:l,initialValues:{queryParams:{transferId:a}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(iu),children:"Upload"})]})]})}const x5=A(P,D)(p5),j5=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"resourceId",component:m,fullWidth:!0}),e.jsx(w,{name:"jobmetadata",label:"Job Metadata",component:se}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Data",component:se})]});function f5({error:t,handleSubmit:n,fileId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"fileId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:j5}),e.jsx("button",{type:"submit",hidden:!0})]})}const jf=v()(f5),au="FILE_ANALYZE_FORM";function g5({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Starting Shape Deduction Job"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Starting Shape Deduction Job",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Run Shape Deduction Job"}),e.jsx(X,{children:e.jsx(jf,{form:au,onSubmit:Z3,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,fileId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(au),children:"Start"})]})]})}const b5=A(P,D)(g5),lu="FILE_ANALYZE_FORM";function C5({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Starting IMP Deduction Job"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Starting IMP Deduction Job",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Run IMP Deduction Job"}),e.jsx(X,{children:e.jsx(jf,{form:lu,onSubmit:eq,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,fileId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(lu),children:"Start"})]})]})}const y5=A(P,D)(C5),S5=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"algorithm",component:m,fullWidth:!0})});function R5({error:t,handleSubmit:n,fileId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"fileId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"hash",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:S5}),e.jsx("button",{type:"submit",hidden:!0})]})}const T5=v()(R5),cu="FILE_HASH_FORM";function I5({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Checksum Hash Updated"}),s&&s(u,p,x),n()},c=()=>{o({messageContent:"Error Updating Checksum Hash",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Set File Checksum Hash"}),e.jsx(X,{children:e.jsx(T5,{form:cu,onSubmit:H3,onSubmitSuccess:l,onSubmitFail:c,onCancel:n,fileId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(cu),children:"Update"})]})]})}const E5=A(P,D)(I5),v5=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"scheme",children:"Scheme"}),e.jsxs(d,{name:"scheme",component:B,children:[e.jsx(g,{value:"https",children:"HTTPS"}),e.jsx(g,{value:"http",children:"HTTP"}),e.jsx(g,{value:"s3",children:"S3"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"write",component:E}),label:"Write"}),e.jsx(d,{name:"duration",component:m,fullWidth:!0}),e.jsx(d,{name:"sse-kms",component:m,fullWidth:!0}),e.jsx(d,{name:"kmsKeyId",component:m,fullWidth:!0})]});function F5({error:t,handleSubmit:n,fileId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"fileId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:v5}),e.jsx("button",{type:"submit",hidden:!0})]})}const A5=v()(F5),du="FILE_URI_FORM";function P5({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const[a,l]=I.useState(),{id:c}=i,u=(x,j,C)=>{const S="URI Generated",{data:L}=x;L&&l(L),o({messageContent:S}),s&&s(x,j,C)},p=()=>{o({messageContent:"Error Generating URI",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Generate Temporary URI"}),e.jsx(X,{children:a?e.jsx(cs,{uriListDocument:a,header:!1,onClick:x=>window.open(x)}):e.jsx(A5,{form:du,onSubmit:tq,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,fileId:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),a?e.jsx(f,{size:"small",color:"primary",onClick:()=>l(void 0),children:"Reset"}):e.jsx(f,{size:"small",color:"primary",onClick:()=>r(du),children:"Generate"})]})]})}const D5=A(P,D)(P5),uu="FILE_DELETE_DIALOG",mu="FILE_ABANDON_DIALOG",hu="FILE_STATE_DIALOG",pu="FILE_MOVE_DIALOG",xu="FILE_ENTITY_REMOVE_DIALOG",ju="FILE_PATH_DIALOG",fu="FILE_OVERWRITE_DIALOG",gu="FILE_ANALYZE_DIALOG",bu="FILE_IMP_ANALYZE_DIALOG",Cu="FILE_HASH_DIALOG",yu="FILE_URI_DIALOG",M5="FILE_PARAMS_FORM";let O5=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={fileDocument:void 0}}componentDidMount(){this.onRefresh();const{fileId:n}=this.props;document.title=`VidiCore Admin | File | ${n}`}UNSAFE_componentWillReceiveProps({fileId:n}){const{fileId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | File | ${n}`)}onRefresh(){const{fileId:n}=this.props;this.onFetch(n)}onFetch(n){const s={includeItem:!0};try{Ke.getFile({fileId:n,queryParams:s}).then(o=>this.setState({fileDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading File",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({fileDocument:s})}render(){const{fileDocument:n}=this.state,{fileId:s,titleComponent:o,history:r}=this.props;return e.jsxs(e.Fragment,{children:[o&&e.jsx(o,{code:n,fileDocument:n,codeModal:"FileDocument",onRefresh:this.onRefresh,deleteModal:uu,abandonModal:mu,stateModal:hu,moveModal:pu,removeEntityModal:xu,pathModal:ju,overwriteModal:fu,analyzeModal:gu,impAnalyzeModal:bu,uriModal:yu,hashModal:Cu}),n&&e.jsxs(e.Fragment,{children:[e.jsx(UH,{form:M5,onSuccess:this.onSuccess,fileId:s}),e.jsx(_H,{fileDocument:n}),e.jsx(us,{simpleMetadataDocument:n.metadata,onSuccess:this.onRefresh,entityType:"storage/file",entityId:s}),e.jsx(JH,{dialogName:uu,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(BH,{dialogName:mu,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(QH,{dialogName:hu,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(s5,{dialogName:pu,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(d5,{dialogName:ju,onSuccess:i=>r.push(`/file/${i.data.id}`),fileDocument:n}),e.jsx(r5,{dialogName:xu,onSuccess:()=>r.push("/file/"),fileDocument:n}),e.jsx(x5,{dialogName:fu,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(b5,{dialogName:gu,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(y5,{dialogName:bu,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(E5,{dialogName:Cu,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(D5,{dialogName:yu,onSuccess:this.onRefresh,fileDocument:n})]})]})}};const L5=P(O5);function N5(t){const{shapeDocument:n}=t;return n===void 0?null:e.jsxs(zt,{children:[e.jsx(sj,{...t}),e.jsx(oj,{...t}),e.jsx(ij,{...t}),e.jsx(aj,{...t}),e.jsx(rj,{...t}),e.jsx(lj,{...t})]})}class _5 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={shapeListDocument:void 0}}componentDidMount(){this.onRefresh();const{fileId:n}=this.props;document.title=`VidiCore Admin | File | ${n}`}UNSAFE_componentWillReceiveProps({fileId:n}){const{fileId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | File | ${n}`)}onRefresh(){const{fileId:n}=this.props;this.onFetch(n)}onFetch(n){try{Ke.listFileShapes({fileId:n}).then(s=>this.setState({shapeListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading File",messageColor:"secondary"})}render(){const{shapeListDocument:n}=this.state,{titleComponent:s,tabComponent:o}=this.props;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:n,codeModal:"ShapeListDocument",onRefresh:this.onRefresh,breadcrumbList:["Shape"]}),o&&e.jsx(o,{}),n&&n.shape&&n.shape.map(r=>e.jsx(N5,{shapeDocument:r}))]})}}const $5=P(_5),ff="FILE_OVERVIEW_TAB",k5="FILE_SHAPE_TAB",W5="DELETIONLOCK_TAB",gf=[{tab:ff,listText:"Overview",component:L5,path:"/file/:fileId/",exact:!0},{tab:k5,listText:"Shape",component:$5,path:"/file/:fileId/shape/"},{tab:W5,listText:"Deletion Locks",component:ho,path:"/file/:fileId/deletion-locks/"}],w5=t=>e.jsx(vt,{children:gf.map(({path:n,listText:s,exact:o})=>e.jsx(Cn,{secondary:s,to:qe(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),U5=t=>e.jsx(Jt,{children:gf.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class V5 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{fileId:n}=this.props;document.title=`VidiCore Admin | File | ${n}`,this.onRefresh()}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{fileId:n,onChangeTab:s,tabValue:o}=this.props,r=i=>e.jsx(OH,{fileId:n,...i});return e.jsx(Vt,{mainComponent:U5,listComponent:w5,defaultOpen:!0,onChangeTab:s,tabValue:o,titleComponent:r,fileId:n,entityId:n,entityType:"file",setOnRefresh:this.setOnRefresh})}}const G5=A(an(ff),et,P)(V5),q5=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"methodType",component:m,fullWidth:!0}),e.jsx(d,{name:"storageType",component:m,fullWidth:!0}),e.jsx(d,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0})]});function H5({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:q5}),e.jsx("button",{type:"submit",hidden:!0})]})}const J5=v()(H5),z5="FILE_SEARCH_PARAMS_FORM";function B5({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=z5,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Files",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"File Search Params"})}),e.jsx(Ae,{children:e.jsx(J5,{form:c,onSubmit:Px,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const K5=A(q,D,jt)(B5);function Y5({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"fileSearchDocument",component:mo}),e.jsx("button",{type:"submit",hidden:!0})]})}const X5=v()(Y5),Q5="FILE_SEARCH_FORM";function Z5({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=Q5,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Files",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{expandIcon:e.jsx(Yi,{}),children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"File Search Document"})}),e.jsx(U,{children:e.jsx(X5,{form:c,onSubmit:Px,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const e4=A(q,D,jt)(Z5),So="FILE_SEARCH_FORM",t4=A(Rt,Wn)(Va);class n4 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},fileSearchDocument:{sort:c}},this.state={fileListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | File",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(So)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({fileListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{fileListDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"File",helpTo:"/ref/search.html#search-files",onRefresh:this.onRefresh,code:n,codeModal:"FileListDocument"}),e.jsx(e4,{form:So,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(K5,{form:So,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(t4,{fileListDocument:n,queryParams:s,form:So,sortField:"queryParams.sort"})]})}}const s4=A(D)(n4);function o4(t){return e.jsx(K,{title:"Storage Rule",helpTo:"/ref/storage/storage-rule.html",...t})}function r4({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=a=>{s({messageContent:"Storage Rule Created"}),n(),o&&o(a)},i=()=>{s({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Storage Rule"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Hv,documentName:"storageRuleDocument",onSubmit:Qp,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const i4=P(r4),Su="STORAGERULE_DIALOG";class a4 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageRulesDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Storage Rule"}onRefresh(){const{openSnackBar:n}=this.props;try{en.listStorageRule().then(s=>this.setState({storageRulesDocument:s.data}))}catch{n({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}render(){const{storageRulesDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(o4,{onRefresh:this.onRefresh,code:n,codeModal:"StorageRulesDocument",createModal:Su}),n&&e.jsx(Mj,{onRefresh:this.onRefresh,storageRulesDocument:n}),e.jsx(i4,{dialogName:Su,onSuccess:this.onRefresh})]})}}const l4=q(a4);function c4(t){return e.jsx(K,{title:"Error Log",helpTo:"/ref/xml-schema.html?#schema-element-ErrorLogListDocument",...t})}function d4({errorLogDocument:t={}}){return e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.timestamp?Oe(t.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(M,{children:t.id}),e.jsx(M,{children:t.type}),e.jsx(M,{children:t.entityType}),e.jsx(M,{children:t.entityId}),e.jsx(M,{children:t.description})]})}function u4({errorLogListDocument:t={}}){const{errorLog:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Timestamp"}),e.jsx(M,{children:"ID"}),e.jsx(M,{children:"Type"}),e.jsx(M,{children:"Entity Type"}),e.jsx(M,{children:"Entity ID"}),e.jsx(M,{children:"Description"})]})}),e.jsx(de,{children:n.map(s=>e.jsx(d4,{errorLogDocument:s},s.id))})]})}function m4({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(u4,{...t})})})}class h4 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={errorLogListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Error Log",this.onRefresh()}onRefresh(){try{Xg.listErrorLogs().then(n=>this.setState({errorLogListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Error Logs",messageColor:"secondary"})}render(){const{errorLogListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(c4,{code:n,codeModal:"ErrorLogListDocument",onRefresh:this.onRefresh}),n&&e.jsx(m4,{errorLogListDocument:n})]})}}const p4=q(h4);function x4({vxaDocument:t={}}){return e.jsx(je,{to:`/vxa/${t.uuid}/`,hover:!0,children:e.jsx(M,{children:e.jsx(fe,{to:`/vxa/${t.uuid}/`,children:t.uuid})})})}function j4({vxaListDocument:t=[]}){const{vxa:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(je,{children:e.jsx(M,{children:"UUID"})})}),e.jsx(de,{children:n.map(s=>e.jsx(x4,{vxaDocument:s},s.uuid))})]})}function f4({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(j4,{...t})})})}const g4=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uuid",component:m,fullWidth:!0}),e.jsx(d,{name:"vxaname",label:"Name",component:m,fullWidth:!0}),e.jsx(d,{name:"vsip",label:"API IP",component:m,fullWidth:!0}),e.jsx(d,{name:"vsport",label:"API Port",component:m,fullWidth:!0}),e.jsx(d,{name:"ws",label:"Websocket URI",component:m,fullWidth:!0})]});function b4({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:g4}),e.jsx("button",{type:"submit",hidden:!0})]})}const C4=v()(b4);function y4(t){const{queryParams:n}=t;return nr.createVxa({queryParams:n}).then(s=>({vxaConfiguration:s.data,queryParams:n})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}const Ru="EDIT_AGENT_FORM";function S4({open:t,onClose:n,openSnackBar:s,onSuccess:o,submitForm:r}){const i=l=>{s({messageContent:"Agent Created"}),n(),o(l)},a=()=>{s({messageContent:"Error Creating Agent",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Agent"}),e.jsx(X,{children:e.jsx(C4,{form:Ru,onSubmit:y4,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ru),children:"Save"})]})]})}const R4=A(P,D)(S4);function T4({open:t,onClose:n,vxaConfiguration:s}){return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Agent Configuration"}),e.jsx(X,{children:e.jsx(h,{value:s,variant:"code"})}),e.jsx(W,{children:e.jsx(f,{size:"small",onClick:n,children:"Close"})})]})}const I4=A(P,D)(T4);function E4(t){return e.jsx(K,{title:"Agent",helpTo:"/ref/vsa.html",...t})}const Tu="VXA_CREATE_MODAL",Iu="VXA_CONFIG_MODAL";class v4 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={vxaListDocument:void 0,vxaConfiguration:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Agent"}onRefresh(){try{nr.listVxa().then(n=>this.setState({vxaListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Agent List",messageColor:"secondary"})}render(){const{vxaListDocument:n,vxaConfiguration:s}=this.state,{onOpen:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(E4,{createModal:Tu,onRefresh:this.onRefresh,code:n,codeModal:"VXAListDocument"}),n&&e.jsx(f4,{vxaListDocument:n,onRefresh:this.onRefresh}),e.jsx(R4,{dialogName:Tu,onSuccess:r=>{this.setState({vxaConfiguration:r.vxaConfiguration}),o({modalName:Iu}),this.onRefresh()}}),s&&e.jsx(I4,{dialogName:Iu,vxaConfiguration:s})]})}}const F4=P(v4),A4=({vxaDocument:t})=>{if(t===void 0)return null;const{status:n}=t;return n==="ONLINE"?e.jsx(Le,{avatar:e.jsx(Ut,{}),label:"Online"}):e.jsx(Le,{avatar:e.jsx(Ft,{}),label:"Offline"})};function P4({vxaUuid:t,...n}){return e.jsx(K,{helpTo:"/ref/vsa.html",title:t,parentTitle:"Agent",parentTo:"/vxa/",iconList:e.jsx(A4,{vxaDocument:n.code}),...n})}const bf=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"type",value:t.type,hover:!0}),e.jsx(h,{title:"url",value:t.url,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"version",value:t.version,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"reverseAddress",value:t.reverseAddress,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"reverseAddressDetected",value:t.reverseAddressDetected,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"directAccess",value:t.directAccess,hover:!0,hideNoValue:!0,variant:"list"}),e.jsx(h,{title:"state",value:t.state,hover:!0,hideNoValue:!0}),e.jsx(te,{title:"transcoder",value:t.transcoder,component:bf,hideNoValue:!0}),e.jsx(h,{title:"weight",value:t.weight,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"maxJob",value:t.maxJob,hover:!0,hideNoValue:!0})]}),D4=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(h,{title:"s3CredentialType",value:t,hover:!0})}),M4=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"vsClusterAddress",value:t.vsClusterAddress,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"uri",value:t.uri,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"lastSeen",value:t.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0})]}),O4=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"id",value:t.id,hover:!0}),e.jsx(h,{title:"path",value:t.path,hover:!0}),e.jsx(h,{title:"isCollectionStorage",value:t.isCollectionStorage,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"createProxiesStorage",value:t.createProxiesStorage,hover:!0,hideNoValue:!0})]}),L4=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uuid",value:t.uuid,hover:!0}),e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"uri",value:t.uri,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"lastSeen",value:t.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"user",value:t.user,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"allStorages",value:t.allStorages,variant:"boolean",hideNoValue:!0,hover:!0}),e.jsx(te,{title:"storage",value:t.storage,component:O4,hideNoValue:!0}),e.jsx(h,{title:"file",value:t.file,hover:!0,variant:"list",hideNoValue:!0}),e.jsx(h,{title:"instance",value:t.instance,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"vxaVersion",value:t.vxaVersion,hover:!0}),e.jsx(G,{component:D4,value:t.s3CredentialType,hideNoValue:!0}),e.jsx(h,{title:"transcoderVersion",value:t.transcoderVersion,hover:!0}),e.jsx(h,{title:"port",value:t.port,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"mode",value:t.mode,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"publicKey",value:t.publicKey,hover:!0,variant:"code",hideNoValue:!0}),e.jsx(h,{title:"vsClusterAddress",value:t.vsClusterAddress,hover:!0,hideNoValue:!0}),e.jsx(te,{title:"vsInstance",value:t.vsInstance,component:M4,hideNoValue:!0}),e.jsx(te,{title:"transcoder",value:t.transcoder,component:bf,hideNoValue:!0})]});function N4({vxaDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:L4,value:t})})}function _4({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(N4,{...t})})})}function $4({open:t,onClose:n,openSnackBar:s,vxaDocument:o,onSuccess:r}){if(o===void 0)return null;const{uuid:i}=o,a=()=>{nr.removeVxa({vxaUuid:i}).then(()=>{s({messageContent:"Agent Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Agent",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Agent ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const k4=P($4),Eu="REMOVE_AGENT_DIALOG";class W4 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={vxaDocument:void 0}}componentDidMount(){this.onRefresh();const{vxaUuid:n}=this.props;document.title=`VidiCore Admin | Agent | ${n}`}onRefresh(){const{vxaUuid:n}=this.props;try{nr.getVxa({vxaUuid:n}).then(s=>this.setState({vxaDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Agent",messageColor:"secondary"})}render(){const{vxaDocument:n}=this.state,{vxaUuid:s,history:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(P4,{onRefresh:this.onRefresh,code:n,codeModal:"VXADocument",removeModal:Eu,vxaUuid:s}),n&&e.jsx(_4,{vxaDocument:n}),e.jsx(k4,{dialogName:Eu,onSuccess:()=>o.push("/vxa/"),vxaDocument:n})]})}}const w4=P(W4),U4=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"first",component:m,fullWidth:!0}),e.jsx(d,{name:"number",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"autoRefresh",component:E}),label:"Auto Refresh"}),e.jsx(d,{name:"frequencyFrom",component:m,fullWidth:!0}),e.jsx(d,{name:"frequencyTo",component:m,fullWidth:!0}),e.jsx(d,{name:"updateMode",component:m,fullWidth:!0})]});function V4({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:U4})]})}const G4=v()(V4);function q4(t){const{queryParams:n,itemListDocument:s}=t;return on.createLibrary({itemListDocument:s,queryParams:n}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function H4(t){const{queryParams:n}=t;return on.listLibrary({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function J4(t,n,s){const{queryParams:o}=t,r=s.libraryId||t.libraryId;return on.getLibrary({libraryId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function z4(t,n,s){const{itemListDocument:o}=t,r=s.libraryId||t.libraryId;return on.updateLibrary({libraryId:r,itemListDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function B4(t,n,s){const{librarySettingsDocument:o}=t,r=s.libraryId||t.libraryId;return on.updateLibrarySettings({libraryId:r,librarySettingsDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function K4(t,n,s){const{metadataDocument:o,queryParams:r}=t,i=s.libraryId||t.libraryId;return on.updateLibraryItemMetadata({libraryId:i,metadataDocument:o,queryParams:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function Y4(t,n,s){const{queryParams:o}=t,r=s.libraryId||t.libraryId;return on.removeLibrary({libraryId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function X4(t,n,s){const{queryParams:o}=t,r=s.libraryId||t.libraryId;return on.getLibrary({libraryId:r,queryParams:o,path:`/API/library/${r}/export`,method:"POST"}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const Qt="LIBRARY_LIST_PARAMS_FORM";function Q4({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{n&&n(u,p,x)},c=(u,p,x)=>{o({messageContent:"Error Updating Library List",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Library List Options"})}),e.jsx(Ae,{children:e.jsx(G4,{form:Qt,onSubmit:H4,onSubmitSuccess:l,onSubmitFail:c,...a})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(Qt),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Qt),children:"Update"})]})]})}const Z4=A(q,D)(Q4),e6=()=>e.jsx(d,{name:"id",label:"Item ID",component:m,fullWidth:!0}),Cf=()=>e.jsx(w,{name:"item",label:"item",component:e6,withHeader:!1,arrayHeader:!0}),t6=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"externalId",component:m,fullWidth:!0})});function n6({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",label:"queryParams",component:t6}),e.jsx(y,{name:"itemListDocument",label:"itemListDocument ",component:Cf}),e.jsx("button",{type:"submit",hidden:!0})]})}const s6=v()(n6),vu="LIBRARY_CREATE_FORM";function o6({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i}){const a=(c,u,p)=>{r({messageContent:"Library Created"}),o&&o(c,u,p),s()},l=(c,u,p)=>{r({messageContent:"Error Creating Library",messageColor:"secondary"}),i&&i(c,u,p)};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Library"}),e.jsx(X,{children:e.jsx(s6,{onSubmit:q4,onSubmitSuccess:a,onSubmitFail:l,form:vu})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(vu),children:"Create"})]})]})}const r6=A(P,D)(o6),Fu="LIBRARY_CREATE_DIALOG";let i6=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.state={uriListDocument:void 0,page:0,rowsPerPage:100}}componentDidMount(){document.title="VidiCore Admin | Library",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Qt)}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(Qt,"queryParams.first",1),await s(Qt,"queryParams.number",n),this.setState({page:0,rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{rowsPerPage:s}=this.state,{formValues:o={},changeForm:r}=this.props,{queryParams:i={}}=o,{number:a=s}=i,l=n*a+1;r(Qt,"queryParams.first",l),await r(Qt,"queryParams.number",a),this.setState({page:n,rowsPerPage:a}),this.onRefresh()}render(){const{uriListDocument:n,page:s,rowsPerPage:o}=this.state,{history:r}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Library",helpTo:"/ref/library.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument",createModal:Fu}),e.jsx(Z4,{onSuccess:i=>this.setState({uriListDocument:i.data}),initialValues:{queryParams:{number:100,first:1}}}),n&&e.jsx(Et,{uriListDocument:n,linkTo:i=>`/library/${i}/`,page:s,rowsPerPage:o,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage}),e.jsx(r6,{dialogName:Fu,onSuccess:i=>r.push(`/library/${i.data.uri[0]}/`)})]})}};const a6=A(D,Bt)(i6,Qt),l6=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"username",component:m,disabled:!0,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"updateMode",children:"Update Mode"}),e.jsxs(d,{name:"updateMode",component:B,children:[e.jsx(g,{value:"REPLACE",children:"REPLACE"}),e.jsx(g,{value:"MERGE",children:"MERGE"}),e.jsx(g,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"autoRefresh",component:E}),label:"Auto Refresh"}),e.jsx(d,{name:"updateFrequency",component:m,fullWidth:!0}),e.jsx(d,{name:"lastUpdate",component:m,disabled:!0,fullWidth:!0}),e.jsx(y,{name:"query",label:"Query",component:mo})]});function c6({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(y,{name:"librarySettingsDocument",component:l6}),e.jsx("button",{type:"submit",hidden:!0})]})}const d6=v()(c6),yf=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"value",value:t.value,hideNoValue:!0}),e.jsx(h,{title:"No Escape",value:t.noescape,variant:"boolean",hideNoValue:!0})]}),Gi=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"value",value:t.value,hideNoValue:!0}),e.jsx(h,{title:"minimum",value:t.minimum,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"maximum",value:t.maximum,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"No Escape",value:t.noescape,variant:"boolean",hideNoValue:!0})]}),u6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{value:t.value[0],title:"start",component:Gi}),e.jsx(G,{value:t.value[1],title:"end",component:Gi}),e.jsx(h,{title:"Exclusive Minimum",value:t.exclusiveMinimum,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"Exclusive Maximum",value:t.exclusiveMaximum,variant:"boolean",hideNoValue:!0})]}),xo=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field Name",value:t.name,hideNoValue:!0}),e.jsx(te,{value:t.value,arrayTitle:"Field Value",component:Gi}),e.jsx(te,{value:t.range,arrayTitle:"Field Range",component:u6}),e.jsx(h,{title:"Field Target",value:t.target,hideNoValue:!0})]}),jo=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Group Name",value:t.name,hideNoValue:!0}),e.jsx(te,{value:t.field,arrayTitle:"Field",component:xo}),e.jsx(te,{value:t.group,arrayTitle:"Group",component:jo}),e.jsx(h,{title:"reference",value:t.reference,hideNoValue:!0})]}),Rr=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Operation",value:t.operation,hideNoValue:!0}),e.jsx(te,{value:t.operator,arrayTitle:"Operator",component:Rr}),e.jsx(te,{value:t.text,arrayTitle:"Text",component:yf}),e.jsx(te,{value:t.field,arrayTitle:"Field",component:xo}),e.jsx(te,{value:t.group,arrayTitle:"Group",component:jo}),e.jsx(_t,{title:"reference",value:t.reference,hideNoValue:!0})]}),m6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Filter Name",value:t.name,hideNoValue:!0}),e.jsx(h,{title:"Operation",value:t.operation,hideNoValue:!0}),e.jsx(te,{value:t.operator,arrayTitle:"Operator",component:Rr}),e.jsx(te,{value:t.field,arrayTitle:"Field",component:xo}),e.jsx(te,{value:t.group,arrayTitle:"Group",component:jo}),e.jsx(_t,{title:"reference",value:t.reference,hideNoValue:!0})]}),Xs=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(te,{value:t.field,arrayTitle:"Field",component:xo}),e.jsx(te,{value:t.group,arrayTitle:"Group",component:jo}),e.jsx(G,{value:t.operator,component:Rr})]}),Sf=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(Xs,{value:t}),e.jsx(G,{value:t.file,component:Xs,title:"File"})]}),h6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(Xs,{value:t}),e.jsx(G,{value:t.shape,component:Sf,title:"Shape"}),e.jsx(G,{value:t.file,component:Xs,title:"File"})]}),Rf=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:t.start,hideNoValue:!0}),e.jsx(h,{title:"End",value:t.end,hideNoValue:!0})]}),p6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field Name",value:t.name,hideNoValue:!0}),e.jsx(h,{title:"Field Value",value:t.value,hideNoValue:!0}),e.jsx(G,{value:t.range,arrayTitle:"Field Range",component:Rf})]}),x6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field",value:t.field,hideNoValue:!0}),e.jsx(te,{value:t.range,arrayTitle:"Range",component:Rf}),e.jsx(_t,{title:"exclude",value:t.exclude,hideNoValue:!0}),e.jsx(h,{title:"count",value:t.count,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"minCount",value:t.minCount,hideNoValue:!0}),e.jsx(h,{title:"maxResults",value:t.maxResults,hideNoValue:!0}),e.jsx(h,{title:"name",value:t.name,hideNoValue:!0})]}),j6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"field",value:t.field,hideNoValue:!0}),e.jsx(h,{title:"order",value:t.order,hideNoValue:!0})]}),f6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"field",value:t.field,hideNoValue:!0}),e.jsx(h,{title:"matchingOnly",value:t.matchingOnly,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"prefix",value:t.prefix,hideNoValue:!0}),e.jsx(h,{title:"suffix",value:t.suffix,hideNoValue:!0})]}),g6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"maximumSuggestions",value:t.maximumSuggestions,hideNoValue:!0}),e.jsx(h,{title:"accuracy",value:t.accuracy,hideNoValue:!0})]}),b6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"text",value:t.text,hideNoValue:!0}),e.jsx(h,{title:"field",value:t.field,hideNoValue:!0}),e.jsx(h,{title:"accuracy",value:t.accuracy,hideNoValue:!0})]}),C6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(G,{value:t.operator,component:Rr}),e.jsx(te,{value:t.text,arrayTitle:"Text",component:yf}),e.jsx(te,{value:t.field,arrayTitle:"Field",component:xo}),e.jsx(te,{value:t.group,arrayTitle:"Group",component:jo}),e.jsx(h,{title:"Intervals",value:t.intervals,hideNoValue:!0}),e.jsx(_t,{title:"reference",value:t.reference,hideNoValue:!0}),e.jsx(te,{value:t.filter,arrayTitle:"Filter",component:m6,hideNoValue:!0}),e.jsx(te,{value:t.facetFilter,arrayTitle:"Facet Filter",component:p6,hideNoValue:!0}),e.jsx(te,{value:t.facet,arrayTitle:"Facet",component:x6,hideNoValue:!0}),e.jsx(te,{value:t.sort,arrayTitle:"Sort",component:j6,hideNoValue:!0}),e.jsx(G,{value:t.highlight,component:f6,title:"Highlight",hideNoValue:!0}),e.jsx(G,{value:t.suggestion,component:g6,title:"Suggestion",hideNoValue:!0}),e.jsx(te,{value:t.autocomplete,arrayTitle:"autocomplete",component:b6,hideNoValue:!0}),e.jsx(G,{value:t.item,component:h6,title:"Item",hideNoValue:!0}),e.jsx(G,{value:t.shape,component:Sf,title:"Shape",hideNoValue:!0}),e.jsx(G,{value:t.file,component:Xs,title:"File",hideNoValue:!0}),e.jsx(h,{title:"Version",value:t.version,hideNoValue:!0})]}),y6=({value:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Library ID",value:t.id,hover:!0}),e.jsx(h,{title:"username",value:t.username,hover:!0}),e.jsx(h,{title:"updateMode",value:t.updateMode,hover:!0}),e.jsx(h,{title:"autoRefresh",value:t.autoRefresh,variant:"boolean",hover:!0}),e.jsx(h,{title:"updateFrequency",value:t.updateFrequency,hover:!0}),e.jsx(h,{title:"lastUpdate",value:t.lastUpdate,hover:!0}),e.jsx(G,{value:t.query,title:"Query",component:C6})]});function S6({librarySettingsDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:y6})})}function R6({librarySettingsDocument:t,openSnackBar:n,onSubmit:s,onSuccess:o,onFail:r,...i}){const a="LIBRARY_SETTINGS_FORM",l=(u,p,x)=>{n({messageContent:"Library Settings Updated"}),o&&o(u,p,x)},c=(u,p,x)=>{n({messageContent:"Error Updating Library Settings",messageColor:"secondary"}),r&&r(u,p,x)};return e.jsx(_e,{title:"Library Settings",formName:a,onSubmitSuccess:l,onSubmitFail:c,onSubmit:B4,displayProps:{librarySettingsDocument:t},formComponent:d6,displayComponent:S6,initialValues:{librarySettingsDocument:t},formProps:i})}const T6=q(R6);function I6({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(T6,{...t})})})}class E6 extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={librarySettingsDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({libraryId:n}){const{libraryId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Library | ${n}`)}onRefresh(){const{libraryId:n}=this.props;this.onFetch(n)}onFetch(n){try{on.getLibrarySettings({libraryId:n}).then(s=>this.setState({librarySettingsDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Library",messageColor:"secondary"})}render(){const{libraryId:n,titleComponent:s,tabComponent:o}=this.props,{librarySettingsDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"LibrarySettingsDocument",onRefresh:this.onRefresh}),o&&e.jsx(o,{}),r&&e.jsx(I6,{libraryId:n,librarySettingsDocument:r,onSuccess:this.onRefresh})]})}}const v6=q(E6),F6=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"})]});function A6({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:F6}),e.jsx(y,{name:"queryParams",component:co})]})}const P6=v()(A6),Zt="LIBRARY_CONTENT_PARAMS_FORM";function D6({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,libraryId:a,expanded:l,onChangeExpansion:c,...u}){const p=(j,C,S)=>{c&&c(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Updating Library Display",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:l,onChange:c,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Library Content Display Options"})}),e.jsx(Ae,{children:e.jsx(P6,{form:Zt,onSubmit:J4,onSubmitSuccess:p,onSubmitFail:x,libraryId:a,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(Zt),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Zt),children:"Update"})]})]})}const M6=A(q,D)(D6);function O6({itemListDocument:t}){if(t===void 0)return null;const{item:n=[]}=t;return n.map(s=>e.jsxs(I.Fragment,{children:[e.jsx(aw,{itemId:s.id}),e.jsx(dj,{itemDocument:s})]},s.id))}class L6 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeExpansion=this.onChangeExpansion.bind(this),this.state={itemListDocument:void 0,rowsPerPage:100,expanded:!1}}componentDidMount(){this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Zt)}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(Zt,"queryParams.first",1),await s(Zt,"queryParams.number",n),this.setState({rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{rowsPerPage:s}=this.state,{formValues:o={},changeForm:r}=this.props,{queryParams:i={}}=o,{number:a=s}=i,l=n*a+1;r(Zt,"queryParams.first",l),await r(Zt,"queryParams.number",a),this.setState({rowsPerPage:a}),this.onRefresh()}onChangeExpansion(n,s){this.setState({expanded:s})}render(){const{libraryId:n,titleComponent:s,tabComponent:o}=this.props,{itemListDocument:r,expanded:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"ItemListDocument",onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(M6,{libraryId:n,onSuccess:a=>this.setState({itemListDocument:a.data}),expanded:i,onChangeExpansion:this.onChangeExpansion,initialValues:{queryParams:{number:10,first:1}}}),r&&e.jsx(O6,{itemListDocument:r})]})}}const N6=A(D,Bt)(L6,Zt);function _6({libraryId:t,onOpen:n,removeModal:s,updateModal:o,itemMetadataModal:r,exportModal:i,title:a,createModal:l,createTooltip:c="New",...u}){return e.jsx(K,{grandParentTitle:"Library",grandParentTo:"/library/",parentTitle:t,title:a,helpTo:"/ref/library.html",entityId:t,entityType:"library",removeModal:s,exportModal:i,iconList:e.jsx(e.Fragment,{children:l&&e.jsx(Ee,{title:c,children:e.jsx(Q,{onClick:()=>n({modalName:l}),children:e.jsx(bt,{})})})}),actionComponent:e.jsxs(pt,{children:[e.jsx(g,{onClick:()=>n({modalName:o}),children:e.jsx(b,{children:"Add Item"})}),e.jsx(g,{onClick:()=>n({modalName:r}),children:e.jsx(b,{children:"Update Item Metadata"})}),e.jsx(g,{onClick:()=>n({modalName:r}),children:e.jsx(b,{children:"Update Item Metadata"})}),e.jsx(g,{onClick:()=>n({modalName:i}),children:e.jsx(b,{children:"Export"})}),e.jsx(g,{onClick:()=>n({modalName:s}),children:e.jsx(b,{color:"secondary",children:"Delete"})})]}),...u})}const $6=tt(_6),k6=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"async",component:E}),label:"Async"}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function W6({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"libraryId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:k6}),e.jsx("button",{type:"submit",hidden:!0})]})}const w6=v()(W6),Au="LIBRARY_REMOVE_FORM";function U6({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,libraryId:a}){const l=(u,p,x)=>{r({messageContent:"Library Deleted"}),s&&s(u,p,x),n()},c=(u,p,x)=>{r({messageContent:"Error Deleting Library",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Delete Library ${a}`}),e.jsx(ve,{children:e.jsx(w6,{form:Au,onSubmit:Y4,onSubmitSuccess:l,onSubmitFail:c,libraryId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(Au),children:"Delete"})]})]})}const V6=A(P,D)(U6);function G6({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(y,{name:"itemListDocument",label:"itemListDocument",component:Cf}),e.jsx("button",{type:"submit",hidden:!0})]})}const q6=v()(G6),Pu="LIBRARY_ITEM_ADD_FORM";function H6({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,libraryId:a}){const l=(u,p,x)=>{r({messageContent:"Library Updated"}),o&&o(u,p,x),s()},c=(u,p,x)=>{r({messageContent:"Error Updating Library",messageColor:"secondary"}),i&&i(u,p,x)};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Items To Library"}),e.jsx(X,{children:e.jsx(q6,{onSubmit:z4,onSubmitSuccess:l,onSubmitFail:c,libraryId:a,form:Pu})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Pu),children:"Update"})]})]})}const J6=A(P,D)(H6),z6=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function B6({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(y,{name:"metadataDocument",label:"MetadataDocument",component:ms}),e.jsx(y,{name:"queryParams",label:"queryParams",component:z6})]})}const K6=v()(B6),Du="LIBRARY_ITEM_METADATA_FORM";function Y6({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,libraryId:a}){const l=(u,p,x)=>{r({messageContent:"Item Metadata Updated"}),o&&o(u,p,x),s()},c=(u,p,x)=>{r({messageContent:"Error Updating Item Metadata",messageColor:"secondary"}),i&&i(u,p,x)};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Update Item Metadata"}),e.jsx(X,{children:e.jsx(K6,{onSubmit:K4,onSubmitSuccess:l,onSubmitFail:c,libraryId:a,form:Du,initialValues:{metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Du),children:"Update"})]})]})}const X6=A(P,D)(Y6),Q6=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsx(d,{name:"locationName",label:"Export Location",component:Y,loadOptions:fs,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"all",component:E}),label:"Allow Missing"}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"version",component:m,fullWidth:!0}),e.jsx(d,{name:"template",label:"Export Template",component:m,fullWidth:!0})]});function Z6({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"libraryId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:Q6}),e.jsx("button",{type:"submit",hidden:!0})]})}const eJ=v()(Z6),tJ="LIBRARY_EXPORT_FORM";function nJ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,libraryId:a,form:l=tJ}){const c=(p,x,j)=>{r({messageContent:"Export Started"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Export Library"}),e.jsx(X,{children:e.jsx(eJ,{form:l,onSubmit:X4,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,libraryId:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Start"})]})]})}const sJ=A(P,D)(nJ),Tf="LIBRARY_SETTINGS_TAB",oJ="LIBRARY_CONTENT_TAB",rJ="ACCESS_TAB",iJ="ACCESSMERGED_TAB",aJ="STORAGERULE_TAB",lJ="DELETIONLOCK_TAB",Mu="LIBRARY_REMOVE_DIALOG",Ou="LIBRARY_UPDATE_DIALOG",Lu="LIBRARY_ITEM_METADATA_DIALOG",Nu="LIBRARY_ACCESSCONTROL_ADD_DIALOG",_u="LIBRARY_EXPORT_DIALOG",If=[{tab:Tf,listText:"Settings",component:v6,path:"/library/:libraryId/settings/"},{tab:oJ,listText:"Content",component:N6,path:"/library/:libraryId/",exact:!0},{tab:rJ,listText:"Direct Access",component:Na,path:"/library/:libraryId/direct-access/"},{tab:iJ,listText:"Merged Access",component:_a,path:"/library/:libraryId/merged-access/"},{tab:aJ,listText:"Storage Rules",component:$a,path:"/library/:libraryId/storage-rules/"},{tab:lJ,listText:"Deletion Locks",component:ho,path:"/library/:libraryId/deletion-locks/"}],cJ=t=>e.jsx(vt,{children:If.map(({path:n,listText:s,exact:o})=>e.jsx(Cn,{secondary:s,to:qe(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),dJ=t=>e.jsx(Jt,{children:If.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class uJ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{libraryId:n}=this.props;document.title=`VidiCore Admin | Library | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{onChangeTab:n,tabValue:s,libraryId:o,history:r}=this.props,i=a=>e.jsx($6,{libraryId:o,removeModal:Mu,updateModal:Ou,itemMetadataModal:Lu,addAccessControl:Nu,exportModal:_u,...a});return e.jsxs(e.Fragment,{children:[e.jsx(Vt,{mainComponent:dJ,listComponent:cJ,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:i,libraryId:o,entityId:o,entityType:"library",setOnRefresh:this.setOnRefresh}),e.jsx(J6,{dialogName:Ou,libraryId:o}),e.jsx(V6,{dialogName:Mu,onSuccess:()=>r.push("/library/"),libraryId:o}),e.jsx(X6,{dialogName:Lu,libraryId:o}),e.jsx(Wa,{dialogName:Nu,entityType:"library",entityId:o,onSuccess:this.onRefresh}),e.jsx(sJ,{dialogName:_u,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),libraryId:o})]})}}const mJ=A(an(Tf),et)(uJ);function hJ({documentMetadata:t}){return e.jsxs(Ge,{hover:!0,to:`/document/${t.name}/`,children:[e.jsx(O,{children:t.name}),e.jsx(O,{})]})}function pJ({documentListDocument:t={},page:n=0,rowsPerPage:s=10,onChangePage:o,onChangeRowsPerPage:r}){const{document:i=[],hits:a=0}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Name"}),e.jsx(O,{})]})}),e.jsx(de,{children:i.map(l=>e.jsx(hJ,{documentMetadata:l},l.name))}),e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:a,page:n,rowsPerPage:s,colSpan:10,onPageChange:o,onRowsPerPageChange:r,ActionsComponent:St,rowsPerPageOptions:[100,500,1e3]})})})]})}function xJ({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(pJ,{...t})})})}const jJ=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"revision",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"skipForbidden",component:E}),label:"Skip Forbidden"})]});function fJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"documentMetadataName",label:"documentName",component:wt,fullWidth:!0}),e.jsx(y,{name:"metadataDocument",label:"metadataDocument",component:ms}),e.jsx(y,{name:"queryParams",label:"queryParams",component:jJ}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ef=v()(fJ);function vf(t,n,s){const{metadataDocument:o={},queryParams:r}=t,i=s.documentMetadataName||t.documentMetadataName;return to.updateDocumentMetadata({documentMetadataName:i,metadataDocument:o,queryParams:r}).then(a=>({documentMetadataName:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function gJ(t,n,s){const{queryParams:o}=t,r=s.documentMetadataName||t.documentMetadataName;return to.getDocumentMetadata({documentMetadataName:r,queryParams:o}).then(i=>({documentMetadataName:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const $u="EDIT_DOCUMENT_FORM";function bJ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i}){const a=(c,u,p)=>{r({messageContent:"Document Created"}),s&&s(c,u,p),n()},l=(c,u,p)=>{r({messageContent:"Error Creating Document",messageColor:"secondary"}),o&&o(c,u,p)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Document"}),e.jsx(ve,{children:e.jsx(Ef,{form:$u,onSubmit:vf,onSubmitSuccess:a,onSubmitFail:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i($u),children:"Save"})]})]})}const CJ=A(P,D)(bJ),ku="DOCUMENT_CREATE_DIALOG";class yJ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.state={documentListDocument:void 0,first:1,rowsPerPage:100,page:0}}componentDidMount(){document.title="VidiCore Admin | Document",this.onRefresh()}onRefresh(){const{first:n,rowsPerPage:s}=this.state;this.onFetch(n,s)}onFetch(n,s){const o={first:n,number:s};try{to.listDocumentMetadata({queryParams:o}).then(r=>this.setState({documentListDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Document List",messageColor:"secondary"})}onChangeRowsPerPage({target:{value:n}}={}){this.setState({first:1,rowsPerPage:n}),this.onFetch(1,n)}onChangePage({page:n}){const{rowsPerPage:s}=this.state,o=n*s+1;this.setState({page:n,first:o}),this.onFetch(o,s)}render(){const{page:n,rowsPerPage:s,documentListDocument:o}=this.state,{history:r}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Document",code:o,codeModal:"DocumentListDocument",onRefresh:this.onRefresh,createModal:ku}),e.jsx(xJ,{documentListDocument:o,page:n,rowsPerPage:s,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangePage:this.onChangePage}),e.jsx(CJ,{dialogName:ku,onSuccess:i=>r.push(`/document/${i.documentMetadataName}`)})]})}}const SJ=q(yJ);function RJ({metadataDocument:t,documentMetadataName:n,openSnackBar:s,onSuccess:o,onFail:r}){const i="EDIT_DOCUMENTMETADATA_FORM",a=(c,u,p)=>{s({messageContent:"Document Updated"}),o&&o(c,u,p)},l=(c,u,p)=>{s({messageContent:"Error Updating Document",messageColor:"secondary"}),r&&r(c,u,p)};return e.jsx(_e,{formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:vf,displayProps:{metadataDocument:t},initialValues:{metadataDocument:t,documentMetadataName:n},formComponent:Ef,displayComponent:Cr})}const TJ=q(RJ);function IJ({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(TJ,{...t})})})}function EJ({open:t,onClose:n,openSnackBar:s,documentMetadataName:o,onSuccess:r,onFail:i}){const a=()=>{to.removeDocumentMetadata({documentMetadataName:o}).then(()=>{s({messageContent:"Document Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Document",messageColor:"secondary"}),i&&i()})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Document ${o}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const vJ=P(EJ),FJ=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"interval",component:m,fullWidth:!0}),e.jsx(d,{name:"field",component:m,fullWidth:!0}),e.jsx(d,{name:"group",component:m,fullWidth:!0}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"language",component:m,fullWidth:!0}),e.jsx(d,{name:"samplerate",component:m,fullWidth:!0}),e.jsx(d,{name:"include",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(T,{control:e.jsx(d,{name:"defaultValue",component:E}),label:"Default Value"})]});function AJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:FJ})]})}const PJ=v()(AJ),Zr="DISPLAY_DOCUMENT_FORM";function DJ({onSuccess:t,onFail:n,openSnackBar:s,submitForm:o,resetForm:r,documentMetadataName:i}){const a=(c,u,p)=>{s({messageContent:"Display Updated"}),t&&t(c,u,p)},l=(c,u,p)=>{s({messageContent:"Error Updating Display",messageColor:"secondary"}),n&&n(c,u,p)};return e.jsxs(ye,{children:[e.jsx(Se,{children:"Display Options"}),e.jsx(Ae,{children:e.jsx(PJ,{form:Zr,onSubmit:gJ,onSubmitSuccess:a,onSubmitFail:l,documentMetadataName:i})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>r(Zr),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(Zr),children:"Update"})]})]})}const MJ=A(q,D)(DJ),Wu="DOCUMENT_REMOVE_DIALOG";class OJ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataDocument:void 0}}componentDidMount(){const{documentMetadataName:n}=this.props;document.title=`VidiCore Admin | Document | ${n}`,this.onRefresh()}onRefresh(){const{documentMetadataName:n}=this.props;try{to.getDocumentMetadata({documentMetadataName:n}).then(s=>this.setState({metadataDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Document",messageColor:"secondary"})}render(){const{documentMetadataName:n,history:s}=this.props,{metadataDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{parentTitle:"Document",parentTo:"/document/",title:n,code:o,codeModal:"MetadataDocument",onRefresh:this.onRefresh,removeModal:Wu}),e.jsx(MJ,{documentMetadataName:n,onSuccess:r=>this.setState({metadataDocument:r.data})}),n&&e.jsx(IJ,{metadataDocument:o,documentMetadataName:n,onSuccess:this.onRefresh}),e.jsx(vJ,{documentMetadataName:n,onSuccess:()=>s.push("/document/"),dialogName:Wu})]})}}const LJ=q(OJ);function NJ({handleSubmit:t}){return e.jsxs("form",{onSubmit:t,children:[e.jsx(R,{name:"queryParams.destinationItem",label:"Destination Item ID",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"queryParams.priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(R,{name:"queryParams.tag",label:"Shape Tag",component:oe,simple:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(R,{name:"queryParams.conformMetadata",component:E}),label:"Conform Metadata"}),e.jsx(T,{control:e.jsx(R,{name:"queryParams.createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(T,{control:e.jsx(R,{name:"queryParams.createPosters",component:E}),label:"Create Posters"}),e.jsx(R,{name:"queryParams.thumbnailService",label:"Thumbnail Storage ID",component:m,fullWidth:!0}),e.jsx(R,{name:"queryParams.original",label:"Reset Original Tag",component:m,fullWidth:!0}),e.jsx(R,{name:"queryParams.resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(R,{name:"queryParams.sourceTag",label:"Source Tags",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:"queryParams.notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(w,{name:"queryParams.notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(we,{name:"queryParams.jobmetadata",label:"Job Metadata",component:$t,buttonLabel:"Add Job Metadata"}),e.jsx("button",{type:"submit",hidden:!0})]})}const _J=v()(NJ);function $J({label:t}){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"numerator",component:m,label:t?`${t} Numerator`:"Numerator",type:"number"}),e.jsx(R,{name:"denominator",component:m,label:t?`${t} Denominator`:"Denominator",type:"number"})]})}function wu({label:t}){return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"samples",component:m,label:t?`${t} Sample`:"Sample",type:"number"}),e.jsx(re,{name:"timeBase",component:$J,label:t})]})}function kJ({fields:t,maxFields:n=1/0,minFields:s=0,label:o}){const r=()=>t.push({});return e.jsxs(e.Fragment,{children:[t.map((i,a)=>e.jsx(N,{children:e.jsxs(U,{children:[e.jsxs(F,{container:!0,direction:"row",justifyContent:"space-between",children:[e.jsx(F,{item:!0,sm:2,children:o&&e.jsxs(J,{shrink:!0,children:[o," ",a+1]})}),e.jsx(F,{item:!0,sm:2,children:s<t.length&&e.jsx(f,{size:"small",color:"secondary",onClick:()=>t.remove(a),children:"Remove Segment"})})]}),e.jsx(F,{container:!0,direction:"row",alignItems:"flex-end",spacing:16,children:e.jsxs(F,{item:!0,sm:8,children:[e.jsx(R,{name:`${i}.source.id`,component:m,label:"Source ID",fullWidth:!0}),e.jsx(F,{container:!0,direction:"row",justifyContent:"space-between",children:e.jsx(re,{name:`${i}.source.interval.start`,component:wu,label:"Start"})}),e.jsx(F,{container:!0,direction:"row",justifyContent:"space-between",children:e.jsx(re,{name:`${i}.source.interval.end`,component:wu,label:"End"})})]})},i)]})},i)),n>t.length&&e.jsx(F,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:e.jsx(Wt,{onClick:r,color:"primary",children:"Add Segment"})})]})}function WJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(we,{name:"conformRequestDocument.conform.timeline.segment",component:kJ,label:"Segment"}),e.jsx("button",{type:"submit",hidden:!0})]})}const wJ=v()(WJ);function UJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"conformRequestDocument.metadata",component:ms}),e.jsx("button",{type:"submit",hidden:!0})]})}const VJ=v()(UJ);function ei(t){const{conformRequestDocument:n,queryParams:s}=t;return Qg.createConform({conformRequestDocument:n,queryParams:s}).then(o=>o.json()).then(o=>({jobDocument:o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function ti(t,n){const{openSnackBar:s}=cr;n(s({messageContent:"Error Creating Conform Job",messageColor:"secondary"}))}function GJ(t,n){const{jobDocument:s}=t,{jobId:o}=s,{openSnackBar:r}=cr,i=`Job ${o} Created`;n(r({messageContent:i}))}const zn="EDIT_CONFORM_FORM";function qJ({submitForm:t,history:n}){const s=(r,i,a)=>{GJ(r,i);const{jobDocument:l}=r,{jobId:c}=l;n&&n.push(`/job/${c}`)},o={tag:["original"]};return e.jsxs(e.Fragment,{children:[e.jsxs(F,{container:!0,justifyContent:"space-between",children:[e.jsx(b,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Timeline"}),e.jsx(f,{color:"primary",onClick:()=>t(zn),children:"Start Conform"})]}),e.jsx(wJ,{form:zn,onSubmit:ei,onSubmitSuccess:s,onSubmitFail:ti}),e.jsx(b,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Settings"}),e.jsx(N,{children:e.jsx(U,{children:e.jsx(_J,{form:zn,onSubmit:ei,onSubmitSuccess:s,onSubmitFail:ti,initialValues:{queryParams:o}})})}),e.jsx(b,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Metadata"}),e.jsx(VJ,{form:zn,onSubmit:ei,onSubmitSuccess:s,onSubmitFail:ti})]})}const HJ=t=>({submitting:Qh(zn)(t)}),JJ={submitForm:it},zJ=ae(HJ,JJ)(qJ),Uu="CONFORM_CODE_MODAL";class BJ extends I.PureComponent{render(){const{modalName:n,closeModal:s,openModal:o,conformRequestDocument:r={},history:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(K,{openCode:()=>o({modalName:Uu}),title:"Conform"}),e.jsx(zJ,{history:i}),e.jsx(nt,{isOpen:n===Uu,toggleDialogue:s,code:r,title:"ConformRequestDocument"})]})}}function KJ(t){const{ui:{modalName:n}}=t;return{modalName:n,conformRequestDocument:Zi(zn)(t)}}const YJ={openSnackBar:be,closeModal:Ue,openModal:Ve},XJ=ae(KJ,YJ)(BJ),QJ=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Source ID",value:t.id,variant:t.type}),e.jsx(h,{title:"Source Type",value:t.type}),e.jsx(h,{title:"Source Location",value:t.loc})]});function ZJ({metadataEntryDocument:t}){if(t===void 0)return null;const{group:n,field:s,value:o,source:r}=t;return e.jsxs(e.Fragment,{children:[e.jsx(G,{value:n,component:Ta,title:"group",hideNoValue:!0}),e.jsx(G,{value:s,component:Ra,title:"field",hideNoValue:!0}),e.jsx(h,{title:"value",value:o,hideNoValue:!0}),e.jsx(G,{value:r,component:QJ,title:"source",hideNoValue:!0})]})}const e7=Rt(ZJ);class t7 extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataEntryDocument:void 0}}componentDidMount(){const{metadataUuid:n}=this.props;document.title=`VidiCore Admin | Metadata | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({metadataUuid:n}){const{metadataUuid:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Metadata | ${n}`)}onRefresh(){const{metadataUuid:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Metadata",messageColor:"secondary"})}onFetch(n){try{Mt.getMetadata({metadataUuid:n}).then(s=>this.setState({metadataEntryDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}render(){const{metadataUuid:n}=this.props,{metadataEntryDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{code:s,codeModal:"MetadataDocument",title:n,parentTitle:"Metadata",parentTo:"/search/field-group/",onRefresh:this.onRefresh}),e.jsx(e7,{metadataEntryDocument:s})]})}}const n7=q(t7);function s7({handleSubmit:t}){return e.jsxs("form",{onSubmit:t,children:[e.jsx(F,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:e.jsx(F,{item:!0,children:e.jsx(R,{name:"projectionId",label:"Projection Name",component:m,fullWidth:!0,required:!0})})}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ff=v()(s7);function o7({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"projectionDocument",component:mt,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ko=v()(o7);function r7(t,n,s){const{projectionId:o}=s,{projectionDocument:r}=t;return tn.updateProjectionOutgoing({projectionId:o,projectionDocument:r}).then(()=>({projectionDocument:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function i7(t,n,s){const{projectionId:o}=s,{projectionDocument:r}=t;return tn.updateProjectionIncoming({projectionId:o,projectionDocument:r}).then(()=>({projectionDocument:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function Vu(t){const{projectionDocument:n,projectionId:s}=t;return tn.updateProjectionOutgoing({projectionId:s,projectionDocument:n}).then(()=>({projectionId:s,projectionDocument:n})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function Gu(t){const{projectionDocument:n,projectionId:s}=t;return tn.updateProjectionIncoming({projectionId:s,projectionDocument:n}).then(()=>({projectionDocument:n,projectionId:s})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}const ni="EDIT_PROJECTION_OUTGOING_FORM";function a7({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r}){const i=(l,c,u)=>{n({messageContent:"Projection Created"}),s(),o&&o(l,c,u)},a=()=>{n({messageContent:"Error Creating Projection",messageColor:"secondary"})};return e.jsxs(k,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Outgoing Projection"}),e.jsxs(X,{children:[e.jsx(Ff,{form:ni,onSubmit:Vu,onSubmitSuccess:i,onSubmitFail:a}),e.jsx(Ko,{form:ni,onSubmit:Vu,onSubmitSuccess:i,onSubmitFail:a})]}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(ni),children:"Save"})]})]})}const l7=A(P,D)(a7),si="EDIT_PROJECTION_INCOMING_FORM";function c7({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r}){const i=(l,c,u)=>{n({messageContent:"Projection Created"}),s(),o&&o(l,c,u)},a=()=>{n({messageContent:"Error Creating Projection",messageColor:"secondary"})};return e.jsxs(k,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Incoming Projection"}),e.jsxs(X,{children:[e.jsx(Ff,{form:si,onSubmit:Gu,onSubmitSuccess:i,onSubmitFail:a}),e.jsx(Ko,{form:si,onSubmit:Gu,onSubmitSuccess:i,onSubmitFail:a})]}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(si),children:"Save"})]})]})}const d7=A(P,D)(c7);function u7({incomingDialog:t,outgoingDialog:n,onOpen:s,...o}){return e.jsx(K,{...o,actionComponent:e.jsxs(pt,{children:[e.jsx(g,{onClick:()=>s({modalName:t}),children:e.jsx(b,{children:"Create Incoming Projection"})}),e.jsx(g,{onClick:()=>s({modalName:n}),children:e.jsx(b,{children:"Create Outgoing Projection"})})]})})}const m7=tt(u7),qu="PROJECTION_OUTGOING_CREATE_MODAL",oi="PROJECTION_INCOMING_CREATE_MODAL";class h7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Projection",this.onRefresh()}onRefresh(){try{tn.listProjection().then(n=>this.setState({uriListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Projections",messageColor:"secondary"})}render(){const{uriListDocument:n}=this.state,{history:s}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(m7,{title:"Projection",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument",createModal:oi,incomingDialog:oi,outgoingDialog:qu}),e.jsx(Et,{uriListDocument:n,linkTo:o=>`/projection/${o}/`,titleCase:!0}),e.jsx(d7,{onSuccess:o=>s.push(`/projection/${o.projectionId}`),dialogName:oi}),e.jsx(l7,{onSuccess:o=>s.push(`/projection/${o.projectionId}`),dialogName:qu})]})}}const p7=q(h7),Hu="EDIT_PROJECTION_INCOMING_FORM",Ju="EDIT_PROJECTION_OUTGOING_FORM";function x7({submitForm:t,onSuccess:n,openSnackBar:s,projectionId:o,incomingProjectionDocument:r,outgoingProjectionDocument:i}){const a=(c,u,p)=>{s({messageContent:"Projection Updated"}),n&&n(c,u,p)},l=()=>{s({messageContent:"Error Updating Projection",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx(le,{title:e.jsx(b,{variant:"subtitle1",children:"Incoming"}),disableTypography:!0,action:e.jsx(f,{color:"primary",size:"small",variant:"contained",onClick:()=>t(Hu),children:"Save Incoming"})}),e.jsx(U,{children:e.jsx(Ko,{form:Hu,onSubmit:i7,onSubmitSuccess:a,onSubmitFail:l,initialValues:{projectionDocument:r},projectionId:o,enableReinitialize:!0})})]}),e.jsxs(N,{children:[e.jsx(le,{title:e.jsx(b,{variant:"subtitle1",children:"Outgoing"}),disableTypography:!0,action:e.jsx(f,{color:"primary",size:"small",variant:"contained",onClick:()=>t(Ju),children:"Save Outgoing"})}),e.jsx(U,{children:e.jsx(Ko,{form:Ju,onSubmit:r7,onSubmitSuccess:a,onSubmitFail:l,initialValues:{projectionDocument:i},projectionId:o,enableReinitialize:!0})})]})]})}const j7=A(q,D)(x7);function f7({open:t,onClose:n,openSnackBar:s,projectionId:o,onSuccess:r}){const i=()=>{tn.removeProjection({projectionId:o}).then(()=>{const a=`Projection ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Projection",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Projection "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const g7=P(f7),zu="PROJECTION_REMOVE_MODAL";class b7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={incomingProjectionDocument:"",outgoingProjectionDocument:"",isRefreshing:!0}}componentDidMount(){const{projectionId:n}=this.props;document.title=`VidiCore Admin | Projection | ${n}`,this.onRefresh()}onFetch(){const{projectionId:n}=this.props;try{Promise.all([tn.getProjectionIncoming({projectionId:n}).then(s=>fn(s.text())),tn.getProjectionOutgoing({projectionId:n}).then(s=>fn(s.text()))]).then(([s,o])=>{this.setState({incomingProjectionDocument:s,outgoingProjectionDocument:o,isRefreshing:!1})}).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefresh(){this.setState({isRefreshing:!0},this.onFetch())}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Projection",messageColor:"secondary"})}render(){const{projectionId:n,history:s}=this.props,{incomingProjectionDocument:o,outgoingProjectionDocument:r,isRefreshing:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:n,parentTitle:"Projection",parentTo:"/projection/",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,removeModal:zu}),!i&&e.jsx(j7,{projectionId:n,onRefresh:this.onRefresh,incomingProjectionDocument:o,outgoingProjectionDocument:r}),e.jsx(g7,{dialogName:zu,projectionId:n,onSuccess:()=>s.push("/projection/")})]})}}const C7=q(b7);function y7(t){return e.jsx(K,{grandParentTitle:"Metadata Field",grandParentTo:"/metadata-field/",parentTitle:t.fieldName,helpTo:"/ref/metadata/field.html",entityId:t.fieldName,entityType:"metadata-field",...t})}function S7({metadataFieldDocument:t,fieldName:n,openSnackBar:s,onRefresh:o}){const r="EDIT_METADATAFIELD_FORM",i=()=>{s({messageContent:"Metadata Field Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Metadata Field",messageColor:"secondary"})},l={fieldName:n},c={value:t},u={metadataFieldDocument:t};return e.jsx(_e,{formComponent:Zj,displayComponent:FG,formName:r,onSubmitSuccess:i,onSubmitFail:a,onSubmit:ef,formProps:l,displayProps:c,initialValues:u})}const R7=P(S7);function T7(t){return e.jsx(e.Fragment,{children:e.jsx(N,{children:e.jsx(R7,{...t})})})}class I7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={simpleMetadataDocument:void 0,metadataFieldDocument:void 0}}componentDidMount(){const{fieldName:n}=this.props;document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,fieldName:s}=this.props;try{jn.getMetadataField({fieldName:s,queryParams:{includeValues:!0}}).then(o=>this.setState({metadataFieldDocument:o.data})),jn.getSimpleMetadata({fieldName:s}).then(o=>this.setState({simpleMetadataDocument:o.data}))}catch{n({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:n,titleComponent:s,tabComponent:o}=this.props,{simpleMetadataDocument:r={},metadataFieldDocument:i}=this.state,{field:a=[]}=r;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataFieldDocument",onRefresh:this.onRefresh}),o&&e.jsx(o,{}),i&&e.jsx(T7,{metadataFieldDocument:i,onRefresh:this.onRefresh}),a&&e.jsx(us,{simpleMetadataList:a,onSuccess:this.onRefresh,entityType:"metadata-field",entityId:n})]})}}const E7=q(I7);function v7({constraintValueListDocument:t={}}){const{value:n=[]}=t;return e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Value"}),e.jsx(M,{children:"ID"})]})}),e.jsx(de,{children:n.map(s=>e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:s.value}),e.jsx(M,{children:s.id})]},s.value))})]})})}const F7=st(v7);function A7(t){return e.jsx(N,{children:e.jsx(F7,{...t})})}const P7=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"Metadata Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(d,{name:"value",component:m,fullWidth:!0}),e.jsx(d,{name:"id",component:m,fullWidth:!0})]}),D7=()=>e.jsx(w,{name:"constraint",component:P7,fullWidth:!0});function M7({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldValueConstraintListDocument",component:D7})]})}const O7=v()(M7),ri="METADATAFIELDALLOWEDVALUES_PARAMS_FORM";function L7({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,fieldName:a,...l}){const c=(p,x,j)=>{o({messageContent:"Allowed Values Updated"}),n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Allowed Values",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Constraint Values"})}),e.jsx(Ae,{children:e.jsx(O7,{form:ri,onSubmit:q2,onSubmitSuccess:c,onSubmitFail:u,fieldName:a,...l})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(ri),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(ri),children:"Update"})]})]})}const N7=A(q,D)(L7);class _7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={constraintValueListDocument:void 0}}componentDidMount(){const{fieldName:n}=this.props;document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,fieldName:s}=this.props;try{jn.getMetadataFieldAllowedValues({fieldName:s}).then(o=>this.setState({constraintValueListDocument:o.data}))}catch{n({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:n,titleComponent:s,tabComponent:o}=this.props,{constraintValueListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"ConstraintValueListDocument",onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(N7,{fieldName:n,onSuccess:i=>this.setState({constraintValueListDocument:i.constraintValueListDocument})}),r&&e.jsx(A7,{constraintValueListDocument:r,onRefresh:this.onRefresh})]})}}const $7=q(_7),Af="METADATAFIELD_OVERVIEW_TAB",k7="METADATAFIELD_ALLOWEDVALUES_TAB",qi=[{tab:Af,listText:"Overview",component:E7},{tab:k7,listText:"Allowed Values",component:$7}],W7=({onChangeTab:t,tabValue:n})=>e.jsx(vt,{children:qi.map(({tab:s,listText:o})=>e.jsx(Ua,{listText:o,listItemProps:{onClick:()=>t(null,s),selected:n===s||void 0}},o))}),Bu="METADATAFIELD_REMOVE_MODAL";class w7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{fieldName:n}=this.props;document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{fieldName:n,onChangeTab:s,tabValue:o}=this.props,r=qi.find(c=>c.tab===o)||qi[0],{listText:i,component:a}=r,l=c=>e.jsx(y7,{removeModal:Bu,fieldName:n,title:i,...c});return e.jsxs(e.Fragment,{children:[e.jsx(Vt,{onChangeTab:s,tabValue:o,fieldName:n,mainComponent:a,listComponent:W7,defaultOpen:!0,titleComponent:l,setOnRefresh:this.setOnRefresh}),e.jsx(Kj,{dialogName:Bu,fieldName:n})]})}}const U7=A(an(Af),q)(w7),Ku="NOTIFICATION_CREATE_DIALOG";class V7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){const{entityType:n}=this.props;document.title=`VidiCore Admin | ${dt(n)} Notification`,this.onRefresh()}UNSAFE_componentWillReceiveProps({entityType:n}){const{entityType:s}=this.props;s!==n&&(document.title=`VidiCore Admin | ${dt(n)} Notification`,this.onFetch(n))}onRefresh(){const{entityType:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(n){try{ct.listNotification({entityType:n}).then(s=>this.setState({uriListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}render(){const{entityType:n,history:s}=this.props,{uriListDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:dt(n),parentTitle:"Notification",parentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:o,codeModal:"URIListDocument",createModal:Ku,entityType:n}),e.jsx(Da,{uriListDocument:o,entityType:n}),e.jsx(Oa,{dialogName:Ku,entityType:n,onSuccess:r=>{const{data:i}=r,{uri:a}=i,l=a[0];s.push(`/notification/${n}/${l}`)}})]})}}const G7=P(V7),Yu="NOTIFICATION_REMOVE_DIALOG";let q7=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){const{entityType:n,notificationId:s}=this.props;document.title=`VidiCore Admin | Notification ${dt(n)} | ${s}`,this.onRefresh()}onRefresh(){const{entityType:n,notificationId:s}=this.props;try{ct.getNotification({notificationId:s,entityType:n}).then(o=>this.setState({notificationDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{notificationId:n,entityType:s,history:o}=this.props,{notificationDocument:r,isEditing:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:n,parentTitle:dt(s),parentTo:`/notification/${s}/`,grandParentTitle:"Notification",grandParentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:r,codeModal:"NotificationDocument",entityId:`notification/${n}`,entityType:s,removeModal:Yu}),e.jsx(vj,{notificationDocument:r,entityType:s,notificationId:n,isEditing:i,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),e.jsx(La,{dialogName:Yu,onSuccess:()=>o.push(`/notification/${s}/`),entityType:s,notificationId:n})]})}};const H7=q(q7),Hi="NOTIFICATIONPLACEHOLDER_EDIT_FORM";function J7({notificationId:t,notificationDocument:n,submitForm:s,onRefresh:o,isEditing:r,toggleEdit:i,valueSelector:a,openSnackBar:l}){if(n===void 0)return null;const c=()=>{l({messageContent:"Notification Updated"}),o&&o(),i&&i()},u=()=>{l({messageContent:"Error Updating Notification",messageColor:"secondary"})},{action:p}=n,x=e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:r,onChange:i});return e.jsx(zt,{children:e.jsxs(N,{children:[e.jsx(le,{title:"Action",action:x}),r?e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx(Ma,{notificationId:t,form:Hi,onSubmit:Wi,onSubmitSuccess:c,onSubmitFail:u,initialValues:{notificationDocument:n},valueSelector:a})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:()=>s(Hi),children:"Save"})})]}):e.jsx(U,{children:e.jsx(yj,{notificationId:t,action:p})})]})})}const z7=A(P,D,Bt)(J7,Hi),Xu="NOTIFICATION_REMOVE_DIALOG";class B7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){const{notificationId:n}=this.props;document.title=`VidiCore Admin | Notification | ${n}`,this.onRefresh()}onRefresh(){const{notificationId:n}=this.props;try{ct.getNotification({notificationId:n,entityType:"placeholder",path:`/API/notification/${n}/`}).then(s=>this.setState({notificationDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{notificationId:n,history:s}=this.props,{notificationDocument:o,isEditing:r}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:n,parentTitle:"Notification",parentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:o,codeModal:"NotificationDocument",entityId:n,entityType:"notification",removeModal:Xu}),e.jsx(z7,{notificationDocument:o,notificationId:n,isEditing:r,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),e.jsx(La,{dialogName:Xu,onSuccess:()=>s.push("/notification/"),notificationId:n})]})}}const K7=q(B7),Qu="NOTIFICATION_CREATE_DIALOG";class Y7 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Notifications",this.onRefresh()}onRefresh(){const{entityType:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(){try{ct.listNotification({entityType:"placeholder",path:"/API/notification/"}).then(n=>this.setState({uriListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}render(){const{history:n}=this.props,{uriListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Notification",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:s,codeModal:"URIListDocument",createModal:Qu}),e.jsxs(zt,{children:[e.jsx(Et,{uriListDocument:{uri:Ri},linkTo:o=>`/notification/${o}/`,header:!1,titleCase:!0}),e.jsx(Da,{uriListDocument:s})]}),e.jsx(Oa,{dialogName:Qu,onSuccess:o=>{const{data:r}=o,{uri:i}=r,a=i[0];n.push(`/notification/${a}`)}})]})}}const X7=P(Y7);function Q7({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(K,{title:"Import Settings",onRefresh:s,openCode:t,openAction:n})}function Z7({uriListDocument:t}){const n=s=>`/import/settings/${s}/`;return e.jsx(N,{children:e.jsx(U,{children:e.jsx(cs,{uriListDocument:t,linkTo:n})})})}const ez=({fields:t})=>e.jsxs(e.Fragment,{children:[e.jsx(J,{children:"Access Control"}),t.map((n,s)=>e.jsxs(I.Fragment,{children:[e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:16,style:{marginTop:"10px"},children:[e.jsxs(F,{item:!0,sm:8,children:[e.jsxs(R,{name:`${n}`,component:Ys,label:"Entity",fullWidth:!0,choices:{user:e.jsx(Zn,{name:`${n}.user`,label:"User",isClearable:!0,fullWidth:!0}),group:e.jsx(Ca,{name:`${n}.group`,label:"Group",isClearable:!0,fullWidth:!0})},children:[e.jsx(g,{value:"user",children:"User"}),e.jsx(g,{value:"group",children:"Group"})]}),e.jsx(R,{name:`${n}.priority`,component:m,label:"Priority",fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:`${n}.permission`,children:"Permission"}),e.jsxs(R,{name:`${n}.permission`,component:B,children:[e.jsx(g,{value:"READ",children:"Read"}),e.jsx(g,{value:"WRITE",children:"Write"}),e.jsx(g,{value:"ALL",children:"All"}),e.jsx(g,{value:"OWNER",children:"Owner"}),e.jsx(g,{value:"NONE",children:"None"})]})]}),e.jsx(Zn,{name:`${n}.grantor`,label:"Grantor",isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(R,{name:`${n}.recursive`,component:E}),label:"Recursive"}),e.jsxs(R,{name:`${n}.operation`,component:Ys,label:"Operation",fullWidth:!0,choices:{metadata:e.jsx(re,{name:`${n}.operation.metadata`,component:$j}),shape:e.jsx(re,{name:`${n}.operation.shape`,component:kj}),uri:e.jsx(re,{name:`${n}.operation.uri`,component:Wj})},children:[e.jsx(g,{value:"metadata",children:"Metadata"}),e.jsx(g,{value:"shape",children:"Shape"}),e.jsx(g,{value:"uri",children:"URI"})]})]}),e.jsx(F,{item:!0,sm:"auto",children:e.jsx(Q,{onClick:()=>t.remove(s),children:e.jsx(at,{})})})]}),e.jsx(V,{})]},n)),e.jsx(F,{item:!0,children:e.jsx(Wt,{onClick:()=>t.push(),color:"primary",children:"Add Access"})})]}),tz=()=>e.jsx(we,{name:"access",component:ez});function nz({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"importSettingsDocument",component:tz}),e.jsx("button",{type:"submit",hidden:!0})]})}const Pf=v()(nz);function sz(t,n,s){const{settingsId:o}=s,{importSettingsDocument:r}=t;return Hs.updateImportSettings({settingsId:o,importSettingsDocument:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function oz(t){const{importSettingsDocument:n}=t;return Hs.createImportSettings({importSettingsDocument:n}).then(s=>({importSettingsDocument:s.data})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}const Zu="EDIT_IMPORTSETTINGS_FORM";function rz({submitForm:t,closeModal:n,isOpen:s,history:o,openSnackBar:r}){const i=l=>{const{importSettingsDocument:c}=l,{id:u}=c,p=`Import Settings ${u} Created`;r({messageContent:p}),o.push(`/import/settings/${u}`),n()},a=()=>{r({messageContent:"Error Updating Import Settings",messageColor:"secondary"})};return e.jsxs(k,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Import Settings"}),e.jsx(X,{children:e.jsx(Pf,{form:Zu,onSubmit:oz,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Zu),children:"Save"})]})]})}const iz={submitForm:it,openSnackBar:be},az=ae(null,iz)(rz),em="IMPORTSETTINGSLIST_CODE_MODAL",tm="IMPORTSETTINGS_CREATE_MODAL";class lz extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Import Settings",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{Hs.listImportSettings().then(s=>s.json()).then(s=>this.setState({uriListDocument:s}))}catch{n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Q7,{openCode:()=>o({modalName:em}),openCreate:()=>o({modalName:tm}),onRefresh:this.onRefresh}),i&&e.jsx(Z7,{uriListDocument:i}),e.jsx(nt,{isOpen:n===em,toggleDialogue:s,code:i,title:"URIListDocument"}),e.jsx(az,{isOpen:n===tm,closeModal:s,history:r})]})}}function cz(t){const{ui:{modalName:n}}=t;return{modalName:n}}const dz={openSnackBar:be,closeModal:Ue,openModal:Ve},uz=ae(cz,dz)(lz);function mz({openCode:t,onRefresh:n,settingsId:s,openRemove:o}){return e.jsx(K,{title:s,parentTitle:"Import Settings",parentTo:"/import/settings/",openCode:t,onRefresh:n,actionComponent:e.jsx(Q,{onClick:o,children:e.jsx(Be,{})})})}function hz({importSettingsDocument:t={}}){const{access:n=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"ID",value:t.id}),n.map((s,o)=>e.jsxs(I.Fragment,{children:[e.jsx(V,{}),e.jsx(Aj,{access:s})]},o))]})}const nm="EDIT_IMPORTSETTINGS_FORM";let pz=class extends I.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{importSettingsDocument:n,submitForm:s,settingsId:o,onRefresh:r,openSnackBar:i}=this.props,{isEditing:a}=this.state,l={importSettingsDocument:n},c=()=>{this.toggleEdit(),i({messageContent:"Import Settings Saved"}),r&&r()},u=()=>{i({messageContent:"Error Updating Import Settings",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(le,{action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:a,onChange:this.toggleEdit})})})}),e.jsx(U,{children:a?e.jsx(Pf,{form:nm,initialValues:l,onSubmit:sz,onSubmitSuccess:c,onSubmitFail:u,settingsId:o}):e.jsx(hz,{importSettingsDocument:n})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>s(nm),size:"small",color:"primary",children:"Save"})]})]})]})}};const xz={submitForm:it,openSnackBar:be},jz=ae(null,xz)(pz);function fz({settingsId:t,importSettingsDocument:n,onRefresh:s}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(jz,{settingsId:t,importSettingsDocument:n,onRefresh:s})})})}function gz({closeModal:t,isOpen:n,settingsId:s,onRemove:o}){return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Import Settings "${s}"?`}),e.jsx(X,{children:e.jsx(xn,{children:"This may affect access to future imports."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:()=>o({settingsId:s}),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const sm="IMPORTSETTINGS_CODE_MODAL",om="IMPORTSETTINGS_REMOVE_MODAL";let bz=class extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRemove=this.onRemove.bind(this),this.state={importSettingsDocument:void 0}}componentDidMount(){const{settingsId:n}=this.props;document.title=`VidiCore Admin | Import Settings | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,settingsId:s}=this.props;Hs.getImportSettings({settingsId:s}).then(o=>o.json()).then(o=>this.setState({importSettingsDocument:o})).catch(()=>{n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})})}onRemove({settingsId:n}){const{openSnackBar:s,history:o,closeModal:r}=this.props;try{Hs.removeImportSettings({settingsId:n}).then(()=>{const i=`Import Settings ${n} Removed`;s({messageContent:i}),o.push("/import/settings/"),r()})}catch{s({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,settingsId:r}=this.props,{importSettingsDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(mz,{settingsId:r,openCode:()=>o({modalName:sm}),openRemove:()=>o({modalName:om}),onRefresh:this.onRefresh}),i&&e.jsx(fz,{settingsId:r,importSettingsDocument:i,onRefresh:this.onRefresh}),e.jsx(nt,{isOpen:n===sm,toggleDialogue:s,code:i,title:"ImportSettingsDocument"}),e.jsx(gz,{isOpen:n===om,closeModal:s,onRemove:this.onRemove,settingsId:r})]})}};function Cz(t,n){const{settingsId:s}=n.match.params,{ui:{modalName:o}}=t;return{settingsId:s,modalName:o}}const yz={openSnackBar:be,closeModal:Ue,openModal:Ve},Sz=ae(Cz,yz)(bz);function Rz({openCode:t,openCreate:n,onRefresh:s,userName:o}){return e.jsx(K,{title:"Import Access",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:o,parentTo:`/user/${o}/`,onRefresh:s,openCode:t,openAction:n})}function Tz({group:t,openRemove:n,openEdit:s}){return e.jsxs(ge,{hover:!0,children:[e.jsx(O,{children:e.jsx(fe,{to:`/group/${t.name}`,children:t.name})}),e.jsx(O,{children:t.permission}),e.jsx(O,{numeric:!0,onClick:o=>o.stopPropagation(),children:e.jsxs(pt,{children:[e.jsx(g,{onClick:s(t),children:e.jsx(b,{color:"inherit",children:"Edit"})}),e.jsx(g,{onClick:n(t),children:e.jsx(b,{color:"error",children:"Remove"})})]})})]})}function Iz({importAccessControlListDocument:t={},openRemove:n,openEdit:s}){const{group:o=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Group"}),e.jsx(O,{children:"Permission"}),e.jsx(O,{})]})}),e.jsx(de,{children:o.map(r=>e.jsx(Tz,{group:r,openRemove:n,openEdit:s},r.name))})]})}function Ez({importAccessControlListDocument:t,openRemove:n,openEdit:s}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(Iz,{importAccessControlListDocument:t,openRemove:n,openEdit:s})})})}function vz({closeModal:t,isOpen:n,groupName:s,onRemove:o}){return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove "${s}" Import Access?`}),e.jsx(X,{children:e.jsx(xn,{children:"This may affect access to future imports."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:o(s),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Fz=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(R,{name:"permission",component:B,children:[e.jsx(g,{value:"READ",children:"Read"}),e.jsx(g,{value:"WRITE",children:"Write"}),e.jsx(g,{value:"ALL",children:"All"}),e.jsx(g,{value:"OWNER",children:"Owner"}),e.jsx(g,{value:"NONE",children:"None"})]})]});function Az({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"groupName",label:"Group",component:Y,loadOptions:lo,cacheOptions:!0,isClearable:!0}),e.jsx(re,{name:"queryParams",component:Fz}),e.jsx("button",{type:"submit",hidden:!0})]})}const Pz=v()(Az),rm="EDIT_IMPORTACCESS_FORM";function Dz({submitForm:t,closeModal:n,isOpen:s,onRefresh:o,openSnackBar:r,group:i={},userName:a}){const l=()=>{r({messageContent:"Import Access Created"}),o&&o(),n()},c=()=>{r({messageContent:"Error Creating Import Access",messageColor:"secondary"})},{name:u,permission:p}=i,x={groupName:u,queryParams:{permission:p}};return e.jsxs(k,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Edit Import Access"}),e.jsx(X,{children:e.jsx(Pz,{form:rm,onSubmit:X$,onSubmitSuccess:l,onSubmitFail:c,initialValues:x,userName:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(rm),children:"Save"})]})]})}const Mz={submitForm:it,openSnackBar:be},Oz=ae(null,Mz)(Dz),im="IMPORTACCESS_CODE_MODAL",am="IMPORTACCESS_REMOVE_MODAL",ii="IMPORTACCESS_EDIT_MODAL";class Lz extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.openEdit=this.openEdit.bind(this),this.state={importAccessControlListDocument:void 0}}componentDidMount(){const{userName:n}=this.props;document.title=`VidiCore Admin | User | ${n} | Import Access`,this.onRefresh()}onRefresh(){const{openSnackBar:n,userName:s}=this.props,o={RunAs:s};Ot.getImportAccess({headers:o}).then(r=>r.json()).then(r=>this.setState({importAccessControlListDocument:r})).catch(()=>{n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})})}onRemove(n){const{openSnackBar:s,closeModal:o,userName:r}=this.props,i={RunAs:r};return()=>{Ot.removeImportAccessGroup({groupName:n,headers:i}).then(()=>{const a=`Import Access "${n}" Removed`;s({messageContent:a}),o(),this.onRefresh()}).catch(()=>{s({messageContent:"Error Removing Import Access",messageColor:"secondary"})})}}openRemove(n){const{openModal:s}=this.props;return()=>{const o=()=>s({modalName:am});this.setState({currentGroup:n},o)}}openEdit(n){const{openModal:s}=this.props;return()=>{const o=()=>s({modalName:ii});this.setState({currentGroup:n},o)}}render(){const{modalName:n,closeModal:s,openModal:o,userName:r}=this.props,{importAccessControlListDocument:i,currentGroup:a}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Rz,{openCode:()=>o({modalName:im}),openCreate:()=>o({modalName:ii}),onRefresh:this.onRefresh,userName:r}),i&&e.jsx(Ez,{importAccessControlListDocument:i,openRemove:this.openRemove,openEdit:this.openEdit}),e.jsx(nt,{isOpen:n===im,toggleDialogue:s,code:i,title:"ImportAccessControlListDocument"}),a&&e.jsx(vz,{isOpen:n===am,closeModal:s,onRemove:this.onRemove,groupName:a.name}),e.jsx(Oz,{isOpen:n===ii,closeModal:s,onRefresh:this.onRefresh,group:a,userName:r})]})}}function Nz(t,n){const{ui:{modalName:s}}=t,{userName:o}=n.match.params;return{userName:o,modalName:s}}const _z={openSnackBar:be,closeModal:Ue,openModal:Ve},$z=ae(Nz,_z)(Lz);function kz({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(K,{title:"Task Group",onRefresh:s,openCode:t,openAction:n})}function Wz({group:t}){return e.jsxs(Ge,{hover:!0,to:`/task-group/${t.name}/`,children:[e.jsx(O,{children:t.name}),e.jsx(O,{})]})}function wz({taskGroupListDocument:t={}}){const{group:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Name"}),e.jsx(O,{})]})}),e.jsx(de,{children:n.map(s=>e.jsx(Wz,{group:s},s.name))})]})}function Uz({taskGroupListDocument:t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(wz,{taskGroupListDocument:t})})})}const Vz=t=>e.jsx(m,{disabled:t.meta.initial!==void 0,onFocus:t.onFocus,onBlur:t.onBlur,...t}),Gz=({fields:t})=>e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsx(F,{item:!0,sm:10,children:e.jsx(R,{name:`${n}.id`,component:m,label:"Transcoder ID",fullWidth:!0})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(Q,{onClick:()=>t.remove(s),children:e.jsx(at,{})})})]},n)),e.jsx(Wt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Transcoder"})]}),qz=({fields:t})=>e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsx(F,{item:!0,sm:5,children:e.jsx(R,{name:`${n}.key`,component:m,label:"Data Key",fullWidth:!0})}),e.jsx(F,{item:!0,sm:5,children:e.jsx(R,{name:`${n}.value`,component:m,label:"Data Value",fullWidth:!0})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(Q,{onClick:()=>t.remove(s),children:e.jsx(at,{})})})]},n)),e.jsx(Wt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Data"})]}),Hz=({fields:t})=>e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(I.Fragment,{children:[e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsxs(F,{item:!0,sm:10,children:[e.jsx(R,{name:`${n}.type`,label:"Job Type",component:Y,loadOptions:oo,isMulti:!0,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(R,{name:`${n}.priority`,label:"Job Priority",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:`${n}.user`,label:"Job User",component:oe,simple:!0,fullWidth:!0}),e.jsx(R,{name:`${n}.group`,label:"Job Group",component:oe,simple:!0,fullWidth:!0})]}),e.jsx(F,{item:!0,sm:2,children:e.jsx(Q,{onClick:()=>t.remove(s),children:e.jsx(at,{})})})]},n),e.jsx(we,{name:`${n}.data`,component:qz})]},n)),e.jsx(Wt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Job"})]}),Jz=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"name",component:Vz,label:"Name",required:!0,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(R,{name:"priority",component:B,children:[e.jsx(g,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(g,{value:"HIGH",children:"HIGH"}),e.jsx(g,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(g,{value:"LOW",children:"LOW"}),e.jsx(g,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(R,{name:"maxConcurrency",component:m,label:"Max Concurrency",fullWidth:!0}),e.jsx(F,{container:!0,direction:"column",children:e.jsx(we,{name:"transcoder",component:Gz})}),e.jsx(F,{container:!0,direction:"column",children:e.jsx(we,{name:"job",component:Hz})}),e.jsx(re,{name:"metadata",component:bn})]});function zz({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"taskGroupDocument",component:Jz}),e.jsx("button",{type:"submit",hidden:!0})]})}const Df=v()(zz);function Mf(t){const{taskGroupDocument:n}=t,{name:s}=n;return Vo.updateTaskGroup({groupName:s,taskGroupDocument:n}).then(o=>({taskGroupDocument:o.data})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}const lm="EDIT_TASKGROUP_FORM";function Bz({submitForm:t,closeModal:n,isOpen:s,history:o,openSnackBar:r}){const i=l=>{const{taskGroupDocument:c}=l,{name:u}=c,p=`Task Group ${u} Created`;r({messageContent:p}),o.push(`/task-group/${u}`),n()},a=()=>{r({messageContent:"Error Creating Task Group",messageColor:"secondary"})};return e.jsxs(k,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Task Group"}),e.jsx(X,{children:e.jsx(Df,{form:lm,onSubmit:Mf,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(lm),children:"Save"})]})]})}const Kz={submitForm:it,openSnackBar:be},Yz=ae(null,Kz)(Bz),cm="TASKGROUPLIST_CODE_MODAL",dm="TASKGROUPLIST_CREATE_MODAL";class Xz extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={taskGroupListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Task Group",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{Vo.listTaskGroup().then(s=>s.json()).then(s=>this.setState({taskGroupListDocument:s}))}catch{n({messageContent:"Error Loading Task Groups",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{taskGroupListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(kz,{openCode:()=>o({modalName:cm}),openCreate:()=>o({modalName:dm}),onRefresh:this.onRefresh}),i&&e.jsx(Uz,{taskGroupListDocument:i}),e.jsx(nt,{isOpen:n===cm,toggleDialogue:s,code:i,title:"TaskGroupListDocument"}),e.jsx(Yz,{isOpen:n===dm,closeModal:s,history:r})]})}}function Qz(t){const{ui:{modalName:n}}=t;return{modalName:n}}const Zz={openSnackBar:be,closeModal:Ue,openModal:Ve},eB=ae(Qz,Zz)(Xz);function tB({openCode:t,onRefresh:n,groupName:s,openRemove:o}){return e.jsx(K,{title:s,parentTitle:"Task Group",parentTo:"/task-group/",openCode:t,onRefresh:n,actionComponent:e.jsx(Q,{onClick:o,children:e.jsx(Be,{})})})}const nB=({group:t})=>e.jsxs(e.Fragment,{children:[t.priority&&e.jsx(h,{title:"Priority",value:t.priority}),t.maxConcurrency&&e.jsx(h,{title:"Max Concurrency",value:t.maxConcurrency}),t.job&&e.jsxs(e.Fragment,{children:[t.job.map(n=>e.jsxs(I.Fragment,{children:[e.jsx(V,{}),e.jsx(h,{title:"Job Type",variant:"list",value:n.type}),e.jsx(h,{title:"Job Priority",variant:"list",value:n.priority}),e.jsx(h,{title:"Job User",variant:"list",value:n.user}),e.jsx(h,{title:"Job Group",variant:"list",value:n.group})]},n.type)),e.jsx(V,{})]}),t.transcoder&&e.jsxs(e.Fragment,{children:[t.transcoder.map(n=>e.jsxs(I.Fragment,{children:[e.jsx(V,{}),e.jsx(h,{title:"Transcoder",value:n.id})]},n.id)),e.jsx(V,{})]})]});function sB({taskGroupDocument:t}){return e.jsx(nB,{group:t})}const um="EDIT_TASKGROUP_FORM";class oB extends I.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{taskGroupDocument:n,submitForm:s,groupName:o,onRefresh:r,openSnackBar:i}=this.props,{isEditing:a}=this.state,l={taskGroupDocument:n},c=()=>{this.toggleEdit(),i({messageContent:"Task Group Saved"}),r&&r()},u=()=>{i({messageContent:"Error Updating Task Group",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(le,{action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:a,onChange:this.toggleEdit})})})}),e.jsx(U,{children:a?e.jsx(Df,{form:um,initialValues:l,onSubmit:Mf,onSubmitSuccess:c,onSubmitFail:u,groupName:o}):e.jsx(sB,{taskGroupDocument:n})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>s(um),size:"small",color:"primary",children:"Save"})]})]})]})}}const rB={submitForm:it,openSnackBar:be},iB=ae(null,rB)(oB);function Of(t){return t.editable?e.jsx($n,{...t}):e.jsx(kp,{...t})}function aB({groupName:t,taskGroupDocument:n,onRefresh:s}){const{metadata:o={}}=n;return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsx(iB,{groupName:t,taskGroupDocument:n,onRefresh:s})}),o&&e.jsx(N,{children:e.jsx(Of,{simpleMetadataList:o.field,entityType:"task-group",entityId:t,onSuccess:s,editable:!0})})]})}function lB({closeModal:t,isOpen:n,groupName:s,onRemove:o}){return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Task Group "${s}"?`}),e.jsx(X,{children:e.jsx(xn,{children:"This may affect access to future imports."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:()=>o({groupName:s}),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const mm="TASKGROUP_CODE_MODAL",hm="TASKGROUP_REMOVE_MODAL";class cB extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRemove=this.onRemove.bind(this),this.state={taskGroupDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Task Group | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,groupName:s}=this.props;Vo.getTaskGroup({groupName:s}).then(o=>o.json()).then(o=>this.setState({taskGroupDocument:o})).catch(()=>{n({messageContent:"Error Loading Task Group",messageColor:"secondary"})})}onRemove({groupName:n}){const{openSnackBar:s,history:o,closeModal:r}=this.props;try{Vo.removeTaskGroup({groupName:n}).then(()=>{const i=`Task Group ${n} Removed`;s({messageContent:i}),o.push("/task-group/"),r()})}catch{s({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,groupName:r}=this.props,{taskGroupDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(tB,{groupName:r,openCode:()=>o({modalName:mm}),openRemove:()=>o({modalName:hm}),onRefresh:this.onRefresh}),i&&e.jsx(aB,{groupName:r,taskGroupDocument:i,onRefresh:this.onRefresh}),e.jsx(nt,{isOpen:n===mm,toggleDialogue:s,code:i,title:"TaskGroupDocument"}),e.jsx(lB,{isOpen:n===hm,closeModal:s,onRemove:this.onRemove,groupName:r})]})}}function dB(t,n){const{groupName:s}=n.match.params,{ui:{modalName:o}}=t;return{groupName:s,modalName:o}}const uB={openSnackBar:be,closeModal:Ue,openModal:Ve},mB=ae(dB,uB)(cB);function hB({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(K,{title:"Quota",onRefresh:s,openCode:t,openAction:n})}function pB({closeModal:t,isOpen:n,ruleId:s,onRemove:o}){return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Quota "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:o(s),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const xB=({fields:t})=>e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsx(I.Fragment,{children:e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsxs(F,{item:!0,sm:10,children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:`${n}.name`,children:"Resource Name"}),e.jsxs(R,{name:`${n}.name`,component:B,required:!0,children:[e.jsx(g,{value:"item",children:"Item"}),e.jsx(g,{value:"storage",children:"Storage"})]})]}),e.jsx(R,{name:`${n}.limit`,label:"Resource Limit",component:m,fullWidth:!0,required:!0})]}),e.jsx(F,{item:!0,sm:2,children:e.jsx(Q,{onClick:()=>t.remove(s),children:e.jsx(at,{})})})]},n)},n)),e.jsx(Wt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Resource"})]}),jB=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"description",component:m,label:"Description",fullWidth:!0}),e.jsx(Zn,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),e.jsx(Ca,{name:"group",label:"Group",isClearable:!0,fullWidth:!0}),e.jsx(R,{name:"collection",component:m,label:"Collection",fullWidth:!0}),e.jsx(R,{name:"library",component:m,label:"Library",fullWidth:!0}),e.jsx(R,{name:"storage",component:m,label:"Storage",fullWidth:!0}),e.jsx(R,{name:"storageGroup",component:m,label:"Storage Group",fullWidth:!0}),e.jsx(R,{name:"tag",component:m,label:"Tag",fullWidth:!0}),e.jsx(F,{container:!0,direction:"column",children:e.jsx(we,{name:"resource",component:xB})})]});function fB({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"quotaRuleDocument",component:jB}),e.jsx("button",{type:"submit",hidden:!0})]})}const gB=v()(fB);function bB(t){if(!("filter"in t)&&typeof t.filter!="object")return t;const{filter:n}=t,s=(r,i,a)=>i.key&&i.value?`${r}${a>0?",":""}${i.key}%3D${i.value}`:r,o=n.reduce(s,"");return o!==""?We(t,{filter:{$set:o}}):We(t,{$unset:["filter"]})}function CB(t){const{quotaRuleDocument:n}=t;return Go.createQuota({quotaRuleDocument:n}).then(s=>({quotaRuleDocument:s.data})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}function yB(t){const{queryParams:n}=t,s=bB(n);return Go.listQuota({queryParams:s}).then(o=>({quotaRuleListDocument:o.data,queryParams:s})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}const pm="EDIT_QUOTA_FORM";function SB({submitForm:t,closeModal:n,isOpen:s,onRefresh:o,openSnackBar:r}){const i=c=>{const{quotaRuleDocument:u}=c,{id:p}=u,x=`Import Settings ${p} Created`;r({messageContent:x}),n(),o()},a=()=>{r({messageContent:"Error Creating Quota",messageColor:"secondary"})},l={quotaRuleDocument:{resource:[{}]}};return e.jsxs(k,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Quota"}),e.jsx(X,{children:e.jsx(gB,{form:pm,onSubmit:CB,onSubmitSuccess:i,onSubmitFail:a,initialValues:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(pm),children:"Save"})]})]})}const RB={submitForm:it,openSnackBar:be},TB=ae(null,RB)(SB),IB=({rule:t})=>e.jsxs(e.Fragment,{children:[t.user&&e.jsx(h,{title:"User",variant:"username",value:t.user}),t.group&&e.jsx(h,{title:"Group",variant:"group",value:t.group}),t.collection&&e.jsx(h,{title:"Collection",variant:"collection",value:t.collection}),t.library&&e.jsx(h,{title:"Library",variant:"library",value:t.library}),t.tag&&e.jsx(h,{title:"Shape Tag",variant:"shape-tag",value:t.tag}),t.storage&&e.jsx(h,{title:"Storage",variant:"storageId",value:t.storage}),t.storageGroup&&e.jsx(h,{title:"Storage Group",value:t.storageGroup}),t.resource&&e.jsxs(e.Fragment,{children:[t.resource.map(n=>e.jsxs(I.Fragment,{children:[e.jsx(V,{}),e.jsx(h,{title:"Resource Name",value:n.name}),e.jsx(h,{title:"Resource Limit",value:n.limit}),e.jsx(h,{title:"Resource Usage",value:n.usage}),e.jsx(sp,{variant:"determinate",value:n.usage/n.limit*100})]},n.name)),e.jsx(V,{})]}),e.jsx(h,{title:"Description",value:t.description}),e.jsx(h,{title:"Update Frequency",value:t.updateFrequency}),e.jsx(h,{title:"Last Update",variant:"timestamp",value:t.lastUpdate})]});function EB({quotaRuleDocument:t}){return e.jsx(IB,{rule:t})}function vB({quotaRuleDocument:t,openRemove:n}){const{id:s}=t;return e.jsx(N,{children:e.jsxs(U,{children:[e.jsx(le,{subheader:s,action:e.jsxs(e.Fragment,{children:[e.jsx(Q,{onClick:n(s),children:e.jsx(at,{})}),e.jsx(up,{entityId:s,entityType:"quota"})]})}),e.jsx(U,{children:e.jsx(EB,{quotaRuleDocument:t})})]})})}function FB({quotaRuleListDocument:t={},onRefresh:n,openRemove:s}){const{rule:o=[]}=t;return e.jsx(e.Fragment,{children:o.map(r=>e.jsx(vB,{quotaRuleDocument:r,onRefresh:n,openRemove:s},r.id))})}const AB=({fields:t})=>e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(F,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsx(F,{item:!0,sm:5,children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:`${n}.key`,children:"Filter Key"}),e.jsxs(R,{name:`${n}.key`,component:B,children:[e.jsx(g,{value:"user",children:"user"}),e.jsx(g,{value:"group",children:"group"}),e.jsx(g,{value:"storage",children:"storage"}),e.jsx(g,{value:"storageGroup",children:"storageGroup"}),e.jsx(g,{value:"collection",children:"collection"}),e.jsx(g,{value:"library",children:"library"}),e.jsx(g,{value:"tag",children:"tag"})]})]})}),e.jsx(F,{item:!0,sm:5,children:e.jsx(R,{name:`${n}.value`,component:m,label:"Filter Value",fullWidth:!0})}),e.jsx(F,{item:!0,sm:2,children:e.jsx(Q,{onClick:()=>t.remove(s),children:e.jsx(at,{})})})]},n)),e.jsx(Wt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Filter"})]}),PB=()=>e.jsxs(e.Fragment,{children:[e.jsx(F,{container:!0,direction:"column",children:e.jsx(we,{name:"filter",component:AB})}),e.jsx(T,{control:e.jsx(R,{name:"exceeded",component:E}),label:"Exceeded"}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"content",children:"Content"}),e.jsx(R,{name:"content",component:B,children:e.jsx(g,{value:"external",children:"External"})})]})]});function DB({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"queryParams",component:PB}),e.jsx("button",{type:"submit",hidden:!0})]})}const MB=v()(DB),xm="EDIT_QUOTA_FILTER_FORM";function OB({submitForm:t,onFilter:n,openSnackBar:s}){const o=a=>{const{quotaRuleListDocument:l,queryParams:c}=a;n({quotaRuleListDocument:l,queryParams:c})},r=()=>{s({messageContent:"Error Filtering Quota",messageColor:"secondary"})},i={queryParams:{exceeded:!1,filter:[{}]}};return e.jsx(N,{children:e.jsxs(U,{children:[e.jsx(le,{action:e.jsx(f,{size:"small",color:"primary",onClick:()=>t(xm),children:"Search"})}),e.jsx(U,{children:e.jsx(MB,{form:xm,onSubmit:yB,onSubmitSuccess:o,onSubmitFail:r,initialValues:i})})]})})}const LB={submitForm:it,openSnackBar:be},NB=ae(null,LB)(OB),jm="QUOTA_CODE_MODAL",fm="QUOTA_REMOVE_MODAL",gm="QUOTA_CREATE_MODAL";class _B extends I.Component{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.onFilter=this.onFilter.bind(this),this.state={quotaRuleListDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props,{queryParams:s}=this.state;Go.listQuota({queryParams:s}).then(o=>o.json()).then(o=>this.setState({quotaRuleListDocument:o})).catch(()=>{n({messageContent:"Error Loading Quota",messageColor:"secondary"})})}onFilter({quotaRuleListDocument:n,queryParams:s}){this.setState({quotaRuleListDocument:n,queryParams:s})}onRemove(n){const{openSnackBar:s,closeModal:o}=this.props;return()=>{Go.removeQuota({ruleId:n}).then(()=>{const r=`Quota "${n}" Removed`;s({messageContent:r}),o(),this.onRefresh()}).catch(()=>{s({messageContent:"Error Removing Quota",messageColor:"secondary"})})}}openRemove(n){const{openModal:s}=this.props;return()=>{const o=()=>s({modalName:fm});this.setState({currentRuleId:n},o)}}render(){const{quotaRuleListDocument:n,currentRuleId:s}=this.state,{closeModal:o,modalName:r,openModal:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(hB,{openCode:()=>i({modalName:jm}),openCreate:()=>i({modalName:gm}),onRefresh:this.onRefresh}),e.jsx(NB,{onFilter:this.onFilter,onRefresh:this.onRefresh}),e.jsx(FB,{quotaRuleListDocument:n,onRefresh:this.onRefresh,openRemove:this.openRemove}),s&&e.jsx(pB,{isOpen:r===fm,closeModal:o,onRemove:this.onRemove,ruleId:s}),e.jsx(TB,{isOpen:r===gm,closeModal:o,onRefresh:this.onRefresh}),e.jsx(nt,{isOpen:r===jm,toggleDialogue:o,code:n,title:"QuotaRuleListDocument"})]})}}function $B(t){const{ui:{modalName:n}}=t;return{modalName:n}}const kB={openSnackBar:be,closeModal:Ue,openModal:Ve},WB=ae($B,kB)(_B);function wB({onRefresh:t,openCode:n}){return e.jsx(K,{title:"Resource",onRefresh:t,openCode:n})}function UB({resourceType:t}){return e.jsx(Ge,{hover:!0,to:`/resource/${t}/`,children:e.jsx(O,{children:ie(t)})})}function VB({resourceTypeListDocument:t={}}){const{resourcetype:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(ge,{children:e.jsx(O,{children:"Resource Type"})})}),e.jsx(de,{children:n.map(s=>e.jsx(UB,{resourceType:s.type},s.type))})]})}function GB({resourceTypeListDocument:t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(VB,{resourceTypeListDocument:t})})})}const bm="RESOURCETYPELIST_CODE_MODAL";class qB extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={resourceTypeListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Resource",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{is.listResource().then(s=>this.setState({resourceTypeListDocument:s.data}))}catch{n({messageContent:"Error Loading Resource Types",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o}=this.props,{resourceTypeListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(wB,{openCode:()=>o({modalName:bm}),onRefresh:this.onRefresh}),r&&e.jsx(GB,{resourceTypeListDocument:r}),e.jsx(nt,{isOpen:n===bm,toggleDialogue:s,code:r,title:"ResourceTypeListDocument"})]})}}function HB(t,n){const{resourceType:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,resourceType:s}}const JB={openSnackBar:be,closeModal:Ue,openModal:Ve},zB=ae(HB,JB)(qB);function BB({resourceType:t,openCode:n,openCreate:s,onRefresh:o}){return e.jsx(K,{parentTitle:"Resource",parentTo:"/resource/",title:ie(t),onRefresh:o,openCode:n,openAction:s})}const KB=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.netmask}),e.jsx(O,{children:t.bandwidth})]}),YB=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.source}),e.jsx(O,{children:t.destination}),e.jsx(O,{children:t.shapeTag})]}),XB=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.url}),e.jsx(O,{children:t.version}),e.jsx(O,{children:t.state==="ONLINE"?e.jsx(Ut,{}):e.jsx(Ft,{})})]}),QB=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.path}),e.jsx(O,{children:t.state==="ONLINE"?e.jsx(Ut,{}):e.jsx(Ft,{})})]}),ZB=({resource:t})=>e.jsx(e.Fragment,{children:e.jsx(O,{children:t.address})}),e8=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.url}),e.jsx(O,{children:t.tag}),e.jsx(O,{children:t.state})]}),t8=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.url}),e.jsx(O,{children:t.workspaceUrl}),e.jsx(O,{children:t.userWorkspaceUrl})]}),n8=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.url}),e.jsx(O,{children:t.tag})]}),s8=({resource:t})=>e.jsx(e.Fragment,{children:e.jsx(O,{children:t.url})}),o8=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.publicAddress}),e.jsx(O,{children:t.apiHost})]}),r8=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.url}),e.jsx(O,{children:t.name}),e.jsx(O,{children:t.endpoint}),e.jsx(O,{children:t.state})]}),i8=({resource:t})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:t.url}),e.jsx(O,{children:t.partyId}),e.jsx(O,{children:t.userId})]}),a8=({resource:t,resourceType:n})=>{if(t[n]===void 0)return null;switch(n){case"network":return e.jsx(KB,{resource:t[n],resourceType:n});case"transcoder":return e.jsx(XB,{resource:t[n],resourceType:n});case"externalTranscoder":return e.jsx(YB,{resource:t[n],resourceType:n});case"cerify":return e.jsx(ZB,{resource:t[n],resourceType:n});case"thumbnail":return e.jsx(QB,{resource:t[n],resourceType:n});case"finalcutserver":return e.jsx(e8,{resource:t[n],resourceType:n});case"mxfserver":return e.jsx(t8,{resource:t[n],resourceType:n});case"signiant":return e.jsx(n8,{resource:t[n],resourceType:n});case"ldap":return e.jsx(s8,{resource:t[n],resourceType:n});case"cloudconvert":return e.jsx(o8,{resource:t[n],resourceType:n});case"vidinet":return e.jsx(r8,{resource:t[n],resourceType:n});case"eidr":return e.jsx(i8,{resource:t[n],resourceType:n});default:return e.jsx(O,{})}};function l8({resource:t,resourceType:n}){const{id:s}=t;return e.jsxs(Ge,{hover:!0,to:`/resource/${n}/${s}/`,children:[e.jsx(O,{children:s}),e.jsx(a8,{resource:t,resourceType:n})]})}const c8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"Netmask"}),e.jsx(O,{children:"Bandswidth"})]}),d8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"Source"}),e.jsx(O,{children:"Destination"}),e.jsx(O,{children:"Shape Tag"})]}),u8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"URL"}),e.jsx(O,{children:"Version"}),e.jsx(O,{children:"Status"})]}),m8=()=>e.jsx(e.Fragment,{children:e.jsx(O,{children:"Address"})}),h8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"URL"}),e.jsx(O,{children:"Tag"}),e.jsx(O,{children:"State"})]}),p8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"URL"}),e.jsx(O,{children:"Workspace Url"}),e.jsx(O,{children:"User Workspace Url"})]}),x8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"URL"}),e.jsx(O,{children:"Tag"})]}),j8=()=>e.jsx(e.Fragment,{children:e.jsx(O,{children:"URL"})}),f8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"Public Address"}),e.jsx(O,{children:"API Host"})]}),g8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"Url"}),e.jsx(O,{children:"Name"}),e.jsx(O,{children:"Endpoint"}),e.jsx(O,{children:"State"})]}),b8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"URL"}),e.jsx(O,{children:"Party ID"}),e.jsx(O,{children:"User ID"})]}),C8=()=>e.jsxs(e.Fragment,{children:[e.jsx(O,{children:"Path"}),e.jsx(O,{children:"Status"})]}),y8=({resourceType:t})=>{switch(t){case"network":return e.jsx(c8,{});case"transcoder":return e.jsx(u8,{});case"externalTranscoder":return e.jsx(d8,{});case"cerify":return e.jsx(m8,{});case"thumbnail":return e.jsx(C8,{});case"finalcutserver":return e.jsx(h8,{});case"mxfserver":return e.jsx(p8,{});case"signiant":return e.jsx(x8,{});case"ldap":return e.jsx(j8,{});case"cloudconvert":return e.jsx(f8,{});case"vidinet":return e.jsx(g8,{});case"eidr":return e.jsx(b8,{});default:return e.jsx(O,{})}};function S8({resourceListDocument:t={},resourceType:n}){const{resource:s=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"ID"}),e.jsx(y8,{resourceType:n})]})}),e.jsx(de,{children:s.map(o=>e.jsx(l8,{resource:o,resourceType:n},o.id))})]})}function R8({resourceListDocument:t,resourceType:n}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(S8,{resourceListDocument:t,resourceType:n})})})}function T8({closeModal:t,isOpen:n,history:s,openSnackBar:o,resourceType:r}){const i=l=>{const{resourceDocument:c}=l,{id:u}=c,p=`${r} ${u} Created`;o({messageContent:p}),s.push(`/resource/${r}/${u}`),t()},a=()=>{o({messageContent:"Error Creating Resource",messageColor:"secondary"})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`New ${ie(r)}`}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Bo,documentName:"resourceDocument",onSubmit:wi,onSubmitSuccess:i,onSubmitFail:a,onCancel:t,resourceType:r})})]})}const I8={openSnackBar:be},E8=ae(null,I8)(T8),Cm="RESOURCELIST_CODE_MODAL",ym="RESOURCE_CREATE_MODAL";class v8 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={resourceListDocument:void 0}}componentDidMount(){const{resourceType:n}=this.props;document.title=`VidiCore Admin | Resource | ${ie(n)}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({resourceType:n}){const{resourceType:s}=this.props;n!==s&&(this.setState({resourceListDocument:void 0}),this.onFetch(n),document.title=`VidiCore Admin | Resource | ${ie(n)}`)}onFetch(n){const{openSnackBar:s}=this.props;try{is.listResourceType({resourceType:n}).then(o=>this.setState({resourceListDocument:o.data}))}catch{s({messageContent:"Error Loading Resource List",messageColor:"secondary"})}}onRefresh(){const{resourceType:n}=this.props;this.onFetch(n)}render(){const{modalName:n,closeModal:s,openModal:o,resourceType:r,history:i}=this.props,{resourceListDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(BB,{openCode:()=>o({modalName:Cm}),openCreate:()=>o({modalName:ym}),onRefresh:this.onRefresh,resourceType:r}),a&&e.jsx(R8,{resourceType:r,resourceListDocument:a}),e.jsx(nt,{isOpen:n===Cm,toggleDialogue:s,code:a,title:"ResourceListDocument"}),e.jsx(E8,{resourceType:r,isOpen:n===ym,closeModal:s,history:i})]})}}function F8(t,n){const{resourceType:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,resourceType:s}}const A8={openSnackBar:be,closeModal:Ue,openModal:Ve},P8=ae(F8,A8)(v8);function D8({resourceType:t,resourceId:n,openCode:s,onRefresh:o,openRemove:r}){return e.jsx(K,{grandParentTitle:"Resource",grandParentTo:"/resource/",parentTitle:ie(t),parentTo:`/resource/${t}/`,title:n,onRefresh:o,openCode:s,actionComponent:e.jsx(Q,{onClick:r,children:e.jsx(Be,{})})})}const Lf=({metadata:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Metadata",value:""}),t.field&&t.field.map(n=>e.jsx(h,{title:n.key,value:n.value},n.key))]}),M8=({thumbnail:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Path",value:t.path}),e.jsx(h,{title:"Mode",value:t.mode})]}),O8=({network:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Netmask",value:t.netmask}),e.jsx(h,{title:"Bandwidth",value:t.bandwidth})]}),L8=({finalcutserver:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Tag",value:t.tag}),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Description",value:t.description}),e.jsx(Lf,{metadata:t.metadata})]}),N8=({cerify:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Address",value:t.address}),e.jsx(h,{title:"Cleanup",value:t.cleanup}),t.mediaLocation&&t.mediaLocation.map((n,s)=>e.jsxs(I.Fragment,{children:[e.jsx(h,{title:"Media Location Name",value:n.name}),e.jsx(h,{title:"Media Location Storage Method",variant:"list",value:n.storageMethod})]},s))]}),_8=({directAccess:t})=>e.jsx(e.Fragment,{children:e.jsx(h,{title:"Filter",value:t.filter})}),$8=({externalTranscoder:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Source",value:t.source}),e.jsx(h,{title:"Destination",value:t.destination}),e.jsx(h,{title:"Shape Tag",value:t.shapeTag}),e.jsx(h,{title:"Timeout",value:t.timeout}),e.jsx(h,{title:"Interval",value:t.interval}),e.jsx(h,{title:"Checks",value:t.checks}),e.jsx(h,{title:"Regex",value:t.regex})]}),k8=({transcoder:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:t.type}),e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Version",value:t.version}),e.jsx(h,{title:"Reverse Address",value:t.reverseAddress}),e.jsx(h,{title:"Reverse Address Detected",value:t.reverseAddressDetected}),e.jsx(h,{title:"Direct Access"}),t.directAccess&&t.directAccess.map((n,s)=>e.jsx(_8,{directAccess:n},s)),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Weight",value:t.weight}),e.jsx(h,{title:"Max Job",value:t.maxJob})]}),W8=({mxfserver:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Workspace Url",value:t.workspaceUrl}),e.jsx(h,{title:"User Workspace Url",value:t.userWorkspaceUrl}),e.jsx(h,{title:"MXFServer Workspace Path",value:t.mxfServerWorkspacePath}),e.jsx(h,{title:"MXFServer User Id",value:t.mxfServerUserId}),e.jsx(h,{title:"MXFServer Path To Storage",value:t.mxfServerPathToStorage}),e.jsx(h,{title:"Database Name",value:t.databaseName}),e.jsx(h,{title:"Storage ID",value:t.storageId}),e.jsx(h,{title:"Description",value:t.description}),e.jsx(h,{title:"Atom Shapes",value:t.atomShapes}),e.jsx(h,{title:"Import Shapes",value:t.importShapes}),e.jsx(h,{title:"Detect Atom",variant:"boolean",value:t.detectAtom}),e.jsx(h,{title:"Enforce Quota",variant:"boolean",value:t.enforceQuota}),e.jsx(h,{title:"File Import Pattern",value:t.fileImportPattern}),e.jsx(Lf,{metadata:t.metadata})]}),w8=({signiant:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Tag",value:t.tag}),e.jsx(h,{title:"Username",value:t.username}),e.jsx(h,{title:"Password",value:t.password}),e.jsx(h,{title:"Description",value:t.description})]}),U8=({ldap:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"url",variant:"list",value:t.url}),e.jsx(h,{title:"Use StartTLS",value:t.useStartTLS}),e.jsx(h,{title:"User DN",value:t.userDN}),e.jsx(h,{title:"Username Attribute",value:t.usernameAttribute}),e.jsx(h,{title:"User Search Filter",value:t.userSearchFilter}),e.jsx(h,{title:"Bind DN",value:t.bindDN}),e.jsx(h,{title:"Bind Password",value:t.bindPassword}),e.jsx(h,{title:"Cache Lifetime",value:t.cacheLifetime}),e.jsx(h,{title:"Group DN",value:t.groupDN}),e.jsx(h,{title:"Group Search Filter",value:t.groupSearchFilter}),e.jsx(h,{title:"Real Name Attribute",value:t.realNameAttribute}),e.jsx(h,{title:"Groupname Attribute",value:t.groupnameAttribute}),e.jsx(h,{title:"Username Format",value:t.usernameFormat}),t.sync&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Create Users",variant:"boolean",value:t.sync.createUsers}),e.jsx(h,{title:"Create Groups",variant:"boolean",value:t.sync.createGroups})]})]}),V8=({cloudconvert:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Public Address",value:t.publicAddress}),e.jsx(h,{title:"API Host",value:t.apiHost}),e.jsx(h,{title:"API Key",value:t.apiKey}),e.jsx(h,{title:"Input Method",value:t.inputMethod}),e.jsx(h,{title:"Script",value:t.script})]}),G8=({vidinet:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Name",value:t.name}),e.jsx(h,{title:"Endpoint",value:t.endpoint}),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Scheme",variant:"list",value:t.scheme})]}),q8=({eidr:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Include",variant:"list",value:t.include}),e.jsx(h,{title:"Party ID",value:t.partyId}),e.jsx(h,{title:"User ID",value:t.userId}),e.jsx(h,{title:"Password",value:t.password})]}),H8=({resourceType:t,resourceDocument:n})=>{switch(t){case"network":return e.jsx(O8,{network:n.network});case"transcoder":return e.jsx(k8,{transcoder:n.transcoder});case"externalTranscoder":return e.jsx($8,{externalTranscoder:n.externalTranscoder});case"cerify":return e.jsx(N8,{cerify:n.cerify});case"thumbnail":return e.jsx(M8,{thumbnail:n.thumbnail});case"finalcutserver":return e.jsx(L8,{finalcutserver:n.finalcutserver});case"mxfserver":return e.jsx(W8,{mxfserver:n.mxfserver});case"signiant":return e.jsx(w8,{signiant:n.signiant});case"ldap":return e.jsx(U8,{ldap:n.ldap});case"cloudconvert":return e.jsx(V8,{cloudconvert:n.cloudconvert});case"vidinet":return e.jsx(G8,{vidinet:n.vidinet});case"eidr":return e.jsx(q8,{eidr:n.eidr});default:return null}};function J8({resourceType:t,resourceDocument:n}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"ID",value:n.id}),e.jsx(H8,{resourceType:t,resourceDocument:n})]})}const Sm="EDIT_RESOURCE_FORM";class z8 extends I.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{resourceType:n,resourceId:s,resourceDocument:o,submitForm:r,onRefresh:i,openSnackBar:a}=this.props,{isEditing:l}=this.state,c={resourceDocument:o},u=()=>{this.toggleEdit(),a({messageContent:"Resource Saved"}),i&&i()},p=()=>{a({messageContent:"Error Updating Resource",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(le,{action:e.jsx(F,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(T,{control:e.jsx(Ht,{color:"primary"}),label:"Edit",checked:l,onChange:this.toggleEdit})})})}),e.jsx(U,{children:l?e.jsx(Bo,{form:Sm,initialValues:c,onSubmit:R2,onSubmitSuccess:u,onSubmitFail:p,resourceId:s,resourceType:n}):e.jsx(J8,{resourceDocument:o,resourceType:n})}),l&&e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>r(Sm),size:"small",color:"primary",children:"Save"})]})]})]})}}const B8={submitForm:it,openSnackBar:be},K8=ae(null,B8)(z8);function Y8({resourceType:t,resourceId:n,resourceDocument:s,onRefresh:o}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(K8,{resourceId:n,resourceType:t,resourceDocument:s,onRefresh:o})})})}function X8({closeModal:t,isOpen:n,resourceId:s,resourceType:o,history:r,openSnackBar:i}){const a=()=>{is.removeResource({resourceId:s,resourceType:o}).then(()=>{const l=`${o} ${s} Removed`;i({messageContent:l}),r.push(`/resource/${o}`),t()}).catch(()=>{i({messageContent:"Error Removing Resource",messageColor:"secondary"})})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove ${ie(o)} "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Rm="RESOURCELIST_CODE_MODAL",Tm="RESOURCE_REMOVE_MODAL";class Q8 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={resourceDocument:void 0}}componentDidMount(){const{resourceType:n,resourceId:s}=this.props;document.title=`VidiCore Admin | Resource | ${ie(n)} | ${s}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,resourceType:s,resourceId:o}=this.props;try{is.getResource({resourceType:s,resourceId:o}).then(r=>this.setState({resourceDocument:r.data}))}catch{n({messageContent:"Error Loading Resource",messageColor:"secondary"})}}render(){const{resourceType:n,resourceId:s,modalName:o,closeModal:r,openModal:i,openSnackBar:a,history:l}=this.props,{resourceDocument:c}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(D8,{openCode:()=>i({modalName:Rm}),openRemove:()=>i({modalName:Tm}),onRefresh:this.onRefresh,resourceType:n,resourceId:s}),c&&e.jsx(Y8,{onRefresh:this.onRefresh,resourceType:n,resourceId:s,resourceDocument:c}),e.jsx(nt,{isOpen:o===Rm,toggleDialogue:r,code:c,title:"ResourceDocument"}),e.jsx(X8,{isOpen:o===Tm,resourceType:n,resourceId:s,openSnackBar:a,closeModal:r,history:l})]})}}function Z8(t,n){const{resourceType:s,resourceId:o}=n.match.params,{ui:{modalName:r}}=t;return{modalName:r,resourceType:s,resourceId:o}}const e9={openSnackBar:be,closeModal:Ue,openModal:Ve},t9=ae(Z8,e9)(Q8);function n9({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(K,{title:"Storage Group",onRefresh:s,openCode:t,openAction:n})}function s9({storageGroup:t}){const{name:n}=t;return e.jsx(Ge,{hover:!0,to:`/storage-group/${n}/`,children:e.jsx(O,{children:n})})}function o9({storageGroupListDocument:t={}}){const{group:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(ge,{children:e.jsx(O,{children:"Storage Group Name"})})}),e.jsx(de,{children:n.map(s=>e.jsx(s9,{storageGroup:s},s.name))})]})}function r9({storageGroupListDocument:t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(o9,{storageGroupListDocument:t})})})}const i9=()=>e.jsx(e.Fragment,{children:e.jsx(R,{name:"name",component:m,label:"Group Name",fullWidth:!0})});function a9({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"storageGroupDocument",component:i9}),e.jsx("button",{type:"submit",hidden:!0})]})}const l9=v()(a9);function c9(t){const{storageGroupDocument:n}=t,{name:s}=n;return as.createStorageGroup({groupName:s}).then(()=>({storageGroupDocument:n})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function d9(t,n,s){const{groupName:o}=s,{storageId:r}=t;return as.addStorageGroupStorage({storageId:r,groupName:o}).then(()=>({storageId:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}const Im="EDIT_STORAGEGROUP_FORM";function u9({submitForm:t,closeModal:n,isOpen:s,history:o,openSnackBar:r}){const i=l=>{const{storageGroupDocument:c}=l,{name:u}=c,p=`Storage Group ${u} Created`;r({messageContent:p}),o.push(`/storage-group/${u}/`),n()},a=()=>{r({messageContent:"Error Creating Storage Group",messageColor:"secondary"})};return e.jsxs(k,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Storage Group"}),e.jsx(X,{children:e.jsx(l9,{form:Im,onSubmit:c9,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Im),children:"Save"})]})]})}const m9={submitForm:it,openSnackBar:be},h9=ae(null,m9)(u9),Em="STORAGEGROUP_LIST_CODE_MODAL",vm="STORAGEGROUP_CREATE_MODAL";class p9 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageGroupListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Storage Group",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{as.listStorageGroup().then(s=>this.setState({storageGroupListDocument:s.data}))}catch{n({messageContent:"Error Loading Storage Group List",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{storageGroupListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(n9,{openCode:()=>o({modalName:Em}),openCreate:()=>o({modalName:vm}),onRefresh:this.onRefresh}),i&&e.jsx(r9,{storageGroupListDocument:i}),e.jsx(nt,{isOpen:n===Em,toggleDialogue:s,code:i,title:"StorageGroupListDocument"}),e.jsx(h9,{isOpen:n===vm,closeModal:s,history:r})]})}}function x9(t){const{ui:{modalName:n}}=t;return{modalName:n}}const j9={openSnackBar:be,closeModal:Ue,openModal:Ve},f9=ae(x9,j9)(p9);function g9({groupName:t,openCode:n,onRefresh:s,openRemove:o,openAddStorage:r}){return e.jsx(K,{parentTitle:"Storage Group",parentTo:"/storage-group/",title:t,onRefresh:s,openCode:n,actionComponent:e.jsxs(pt,{children:[e.jsx(g,{onClick:r,children:e.jsx(b,{children:"Add Storage"})}),e.jsx(g,{onClick:o,children:e.jsx(b,{color:"error",children:"Remove Storage Group"})})]})})}function b9({storageDocument:t}){const{freeCapacity:n,capacity:s}=t,o=Math.round(n/s*100);return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:t.type}),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Capacity",value:`${so(t.capacity)} (${o}% Available)`})]})}function C9({closeModal:t,isOpen:n,groupName:s,storageId:o,onRefresh:r,openSnackBar:i}){const a=()=>{as.removeStorageGroupStorage({groupName:s,storageId:o}).then(()=>{const l=`Storage ${o} Removed`;i({messageContent:l}),t(),r()}).catch(()=>{i({messageContent:"Error Removing Storage",messageColor:"secondary"})})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Storage "${o}" From Storage Group "${s}"?`}),e.jsx(X,{children:e.jsx(xn,{children:"This operation does not delete the actual storages."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Fm="STORAGEGROUP_STORAGE_REMOVE_MODAL";function y9({storageDocument:t,openModal:n,modalName:s,openSnackBar:o,closeModal:r,groupName:i,onRefresh:a,storageId:l,history:c}){return e.jsxs(e.Fragment,{children:[e.jsx(le,{subheader:t.id,action:e.jsx(Q,{onClick:()=>n({modalName:Fm}),children:e.jsx(at,{})})}),e.jsx(U,{onClick:()=>c.push(`/storage/${l}`),children:e.jsx(b9,{storageDocument:t})}),e.jsx(C9,{isOpen:s===Fm,groupName:i,storageId:l,openSnackBar:o,closeModal:r,onRefresh:a})]})}function S9(t){const{ui:{modalName:n}}=t;return{modalName:n}}const R9={openSnackBar:be,closeModal:Ue,openModal:Ve},T9=ae(S9,R9)(ns(y9));function I9({groupName:t,storageDocument:n,onRefresh:s,storageId:o}){return e.jsx(N,{children:e.jsx(T9,{storageId:o,groupName:t,storageDocument:n,onRefresh:s})})}function E9({groupName:t,storageGroupDocument:n,onRefresh:s}){const{data:o,storage:r=[]}=n;return e.jsxs(e.Fragment,{children:[r.map(i=>e.jsx(I9,{storageId:i.id,groupName:t,storageDocument:i,onRefresh:s},i.id)),e.jsx(N,{children:e.jsx(Of,{simpleMetadataList:o,entityType:"storage/storage-group",entityId:t,onSuccess:s,editable:!0})})]})}function v9({closeModal:t,isOpen:n,groupName:s,history:o,openSnackBar:r}){const i=()=>{as.removeStorageGroup({groupName:s}).then(()=>{const a=`Storage Group ${s} Removed`;r({messageContent:a}),o.push("/storage-group/"),t()}).catch(()=>{r({messageContent:"Error Removing Storage Group",messageColor:"secondary"})})};return e.jsxs(k,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Storage Group "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function F9({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(R,{name:"storageId",component:m,label:"Storage ID",fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const A9=v()(F9),Am="EDIT_STORAGEGROUP_STORAGE_FORM";function P9({submitForm:t,closeModal:n,isOpen:s,onRefresh:o,openSnackBar:r,groupName:i}){const a=c=>{const{storageId:u}=c,p=`Storage ${u} Added`;r({messageContent:p}),n(),o()},l=()=>{r({messageContent:"Error Adding Storage Group",messageColor:"secondary"})};return e.jsxs(k,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Storage To Group"}),e.jsx(X,{children:e.jsx(A9,{form:Am,groupName:i,onSubmit:d9,onSubmitSuccess:a,onSubmitFail:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Am),children:"Save"})]})]})}const D9={submitForm:it,openSnackBar:be},M9=ae(null,D9)(P9),Pm="STORAGEGROUP_CODE_MODAL",Dm="STORAGEGROUP_REMOVE_MODAL",Mm="STORAGEGROUP_STORAGE_ADD_MODAL";class O9 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageGroupDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Storage Group | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,groupName:s}=this.props;try{as.getStorageGroup({groupName:s}).then(o=>this.setState({storageGroupDocument:o.data}))}catch{n({messageContent:"Error Loading Storage Group",messageColor:"secondary"})}}render(){const{groupName:n,modalName:s,closeModal:o,openModal:r,openSnackBar:i,history:a}=this.props,{storageGroupDocument:l}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(g9,{openCode:()=>r({modalName:Pm}),openRemove:()=>r({modalName:Dm}),openAddStorage:()=>r({modalName:Mm}),onRefresh:this.onRefresh,groupName:n}),l&&e.jsx(E9,{onRefresh:this.onRefresh,groupName:n,storageGroupDocument:l}),e.jsx(nt,{isOpen:s===Pm,toggleDialogue:o,code:l,title:"StorageGroupDocument"}),e.jsx(v9,{isOpen:s===Dm,groupName:n,openSnackBar:i,closeModal:o,history:a}),e.jsx(M9,{isOpen:s===Mm,closeModal:o,groupName:n,onRefresh:this.onRefresh})]})}}function L9(t,n){const{groupName:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,groupName:s}}const N9={openSnackBar:be,closeModal:Ue,openModal:Ve},_9=ae(L9,N9)(O9);function $9({...t}){return e.jsx(K,{title:"Auto Import Rule",helpTo:"/storage/auto-import.html",...t})}function k9({autoImportRule:t}){const{storage:n}=t;return e.jsxs(Ge,{hover:!0,to:`/auto-import/${n}/`,children:[e.jsx(O,{children:n}),e.jsx(O,{})]})}function W9({autoImportRuleListDocument:t={}}){const{rule:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Storage ID"}),e.jsx(O,{})]})}),e.jsx(de,{children:n.map(s=>e.jsx(k9,{autoImportRule:s},s.storage))})]})}function w9({autoImportRuleListDocument:t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(W9,{autoImportRuleListDocument:t})})})}const Om=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"pattern",label:"Filter Pattern",component:m,fullWidth:!0}),e.jsx(R,{name:"tag",label:"Filter Tag",component:oe,simple:!0,fullWidth:!0})]}),U9=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"storage",label:"Storage ID",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),e.jsx(T,{control:e.jsx(R,{name:"enabled",component:E}),label:"Enabled"}),e.jsx(T,{control:e.jsx(R,{name:"fileNameAsTitle",component:E}),label:"File Name As Title"}),e.jsx(T,{control:e.jsx(R,{name:"ignoreSidecarImport",component:E}),label:"Ignore Sidecar Import"}),e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(R,{name:"resourceId",label:"Resource ID",component:m,fullWidth:!0}),e.jsx(R,{name:"settingsId",label:"Settings ID",component:m,fullWidth:!0}),e.jsx(R,{name:"projection",label:"Projection",component:m,fullWidth:!0}),e.jsx(Zn,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),e.jsx(w,{name:"excludeFilter",label:"Exclude Filter",component:Om}),e.jsx(w,{name:"shapeTagFilter",label:"Shape Tag Filter",component:Om}),e.jsx(re,{name:"jobmetadata",component:_p,label:"Job Metadata"}),e.jsx(re,{name:"metadata",component:ms})]});function V9({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"autoImportRuleDocument",component:U9}),e.jsx("button",{type:"submit",hidden:!0})]})}const Nf=v()(V9);function _f(t,n,s){const{autoImportRuleDocument:o}=t,r=s.storageId||o.storage;return sr.updateAutoImport({storageId:r,autoImportRuleDocument:o}).then(()=>({autoImportRuleDocument:o})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function G9({open:t,onClose:n,history:s,openSnackBar:o}){const r=a=>{const{autoImportRuleDocument:l}=a,{storage:c}=l,u=`Auto Import Rules For ${c} Created`;o({messageContent:u}),s.push(`/auto-import/${c}/`),n()},i=()=>{o({messageContent:"Error Creating Auto Import Rule",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Auto Import Rule"}),e.jsx(X,{children:e.jsx(lt,{FormComponent:Nf,documentName:"autoImportRuleDocument",onSubmit:_f,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const q9=P(G9),Lm="AUTOIMPORT_CREATE_MODAL";class H9 extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={autoImportRuleListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Auto Import",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{sr.listAutoImport().then(s=>this.setState({autoImportRuleListDocument:s.data}))}catch{n({messageContent:"Error Loading Auto Import Rules",messageColor:"secondary"})}}render(){const{autoImportRuleListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx($9,{onRefresh:this.onRefresh,code:n,codeModal:"AutoImportRuleListDocument",createModal:Lm}),n&&e.jsx(w9,{autoImportRuleListDocument:n}),e.jsx(q9,{dialogName:Lm})]})}}const J9=q(H9);function z9({storageId:t,...n}){return e.jsx(K,{title:t,parentTitle:"Auto Import Rule",parentTo:"/auto-import/",helpTo:"/storage/auto-import.html",...n})}const Nm=t=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Pattern",value:t.pattern}),e.jsx(h,{title:"Tag",variant:"list",value:t.tag})]}),B9=({rule:t})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Storage ID",variant:"storageId",value:t.storage,hover:!0}),e.jsx(h,{title:"Enabled",variant:"boolean",value:t.enabled,hover:!0}),e.jsx(h,{title:"File Name As Title",variant:"boolean",value:t.fileNameAsTitle,hover:!0}),e.jsx(h,{title:"Ignore Sidecar Import",variant:"boolean",value:t.ignoreSidecarImport,hover:!0}),e.jsx(h,{title:"Shape Tags",variant:"list",value:t.tag,hover:!0}),e.jsx(h,{title:"Resource ID",value:t.resourceId,hover:!0}),e.jsx(h,{title:"Settings ID",value:t.settingsId,hover:!0}),e.jsx(h,{title:"Projection",value:t.projection,hover:!0}),e.jsx(h,{title:"User",variant:"user",value:t.user,hover:!0}),t.excludeFilter&&e.jsx(te,{title:"Exclude Filter",value:t.excludeFilter,component:Nm,hover:!0}),t.shapeTagFilter&&e.jsx(te,{title:"Shape Tag Filter",value:t.shapeTagFilter,component:Nm,hover:!0}),t.jobmetadata&&e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"caption",children:"Job Metadata"}),e.jsx(FI,{simpleMetadata:t.jobmetadata})]}),t.metadata&&e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"caption",children:"Metadata"}),e.jsx(Vx,{value:t.metadata})]})]});function K9({autoImportRuleDocument:t}){return e.jsx(B9,{rule:t})}function Y9({autoImportRuleDocument:t,storageId:n,openSnackBar:s,onRefresh:o}){const r=()=>{s({messageContent:"Auto Import Rule Saved"}),o&&o()},i=()=>{s({messageContent:"Error Updating Auto Import Rule",messageColor:"secondary"})},a={storageId:n},l={autoImportRuleDocument:t},c={autoImportRuleDocument:t};return e.jsx(_e,{formName:"EDIT_AUTOIMPORTRULE_FORM",onSubmitSuccess:r,onSubmitFail:i,onSubmit:_f,formComponent:Nf,formProps:a,displayComponent:K9,displayProps:l,initialValues:c})}const X9={openSnackBar:be},Q9=ae(null,X9)(Y9);function Z9({storageId:t,autoImportRuleDocument:n,onRefresh:s}){return e.jsx(N,{children:e.jsx(Q9,{storageId:t,autoImportRuleDocument:n,onRefresh:s})})}function eK({open:t,onClose:n,storageId:s,history:o,openSnackBar:r}){const i=()=>{sr.removeAutoImport({storageId:s}).then(()=>{const a=`Auto Import Rule ${s} Removed`;r({messageContent:a}),o.push("/auto-import/"),n()}).catch(()=>{r({messageContent:"Error Removing Storage Group",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Auto Import Rule From "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const tK=P(eK),_m="AUTOIMPORTRULE_REMOVE_MODAL";class nK extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={autoImportRuleDocument:void 0}}componentDidMount(){const{storageId:n}=this.props;document.title=`VidiCore Admin | Auto Import Rule | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,storageId:s}=this.props;try{sr.getAutoImport({storageId:s}).then(o=>this.setState({autoImportRuleDocument:o.data}))}catch{n({messageContent:"Error Loading Auto Import Rule",messageColor:"secondary"})}}render(){const{storageId:n}=this.props,{autoImportRuleDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(z9,{removeModal:_m,onRefresh:this.onRefresh,storageId:n,code:s,codeModal:"AutoImportRuleDocument"}),s&&e.jsx(Z9,{onRefresh:this.onRefresh,storageId:n,autoImportRuleDocument:s}),e.jsx(tK,{dialogName:_m,storageId:n})]})}}const sK=q(nK);function oK(t){return e.jsx(K,{title:"Stack Trace",helpTo:"/ref/vidispine-service.html",...t})}function rK({stacktrace:t}){return e.jsx(N,{children:e.jsx(U,{children:t?e.jsx(h,{value:t,variant:"code"}):e.jsx(F,{container:!0,justifyContent:"center",children:e.jsx(Zs,{size:100,color:"secondary"})})})})}class iK extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={stacktrace:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Stack Trace"}onRefresh(){const{openSnackBar:n}=this.props;this.setState({stacktrace:void 0});try{er.getStackTrace().then(s=>this.setState({stacktrace:s.data}))}catch{n({messageContent:"Error Loading Stack Trace",messageColor:"secondary"})}}render(){const{stacktrace:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(oK,{onRefresh:this.onRefresh}),e.jsx(rK,{onRefresh:this.onRefresh,stacktrace:n})]})}}const aK=q(iK);function lK(t){return e.jsx(K,{title:"Transfer",helpTo:"/ref/transfer.html",...t})}function cK(t,n,s){const o=s.transferId||t.transferId,{queryParams:r}=t;return op.updateTransferPriority({transferId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,c)=>c===null?void 0:c)),new _({_error:a})})}function dK(t){const{queryParams:n}=t;return op.listTransfer({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}const uK=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsxs(d,{name:"state",component:B,children:[e.jsx(g,{value:"TRANSFERRING",children:"Transferring"}),e.jsx(g,{value:"WAITING",children:"Waiting"}),e.jsx(g,{value:"FINISHED",children:"Finished"}),e.jsx(g,{value:"ABORTED",children:"Aborted"}),e.jsx(g,{value:"FAILED",children:"Failed"}),e.jsx(g,{value:"FINISHED_PART",children:"Finished Part"})]})]});function mK({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:uK}),e.jsx("button",{type:"submit",hidden:!0})]})}const hK=v()(mK);function pK({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="TRANSFER_FILTER_FORM"}){const a=(c,u,p)=>{n&&n(c,u,p)},l=()=>{s({messageContent:"Error Listing Transfers",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx(hK,{form:i,onSubmit:dK,onSubmitSuccess:a,onSubmitFail:l,onCancel:t,initialValues:{queryParams:{state:"FINISHED"}}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Filter"})]})]})}const xK=A(P,D)(pK);function jK({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(xK,{...t})})})}function fK({transferDocument:t={},onOpen:n}){return e.jsx(e.Fragment,{children:e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.name}),e.jsx(M,{children:t.state}),e.jsx(M,{children:t.priority}),e.jsx(M,{children:so(t.transferred)}),e.jsx(M,{children:e.jsx(fe,{to:`/file/${t.fileId}/`,children:t.fileId})}),e.jsx(M,{disableOnClick:!0,children:["TRANSFERRING","WAITING"].includes(t.state)&&e.jsx(Q,{onClick:()=>n({transferDocument:t}),children:e.jsx(Qo,{})})})]})})}const gK=()=>e.jsx(d,{name:"transferPriority",component:m,type:"number",fullWidth:!0});function bK({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:gK}),e.jsx("button",{type:"submit",hidden:!0})]})}const CK=v()(bK),$m="TRANSFER_PRIORITY_FORM";function yK({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,transferDocument:i}){if(i===void 0)return null;const{name:a,priority:l}=i,c=(p,x,j)=>{o({messageContent:"Transfer Updated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Updating Transfer",messageColor:"secondary"})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Change Transfer Priority"}),e.jsx(ve,{children:e.jsx(CK,{form:$m,onSubmit:cK,onSubmitSuccess:c,onSubmitFail:u,onCancel:n,transferId:a,initialValues:{priority:l}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r($m),children:"Save"})]})]})}const SK=A(P,D)(yK),km="TRANSFER_PRIORITY_DIALOG";function RK({transferListDocument:t,onSuccess:n,dialogProps:s,onOpen:o}){const{transfer:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Name"}),e.jsx(M,{children:"State"}),e.jsx(M,{children:"Priority"}),e.jsx(M,{children:"Transferred"}),e.jsx(M,{children:"File Id"}),e.jsx(M,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(fK,{transferDocument:i,onOpen:o(km)},i.name))})]}),e.jsx(SK,{...s,dialogName:km,onSuccess:n})]})}const TK=st(RK);function IK({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(TK,{...t})})})}const Wm="TRANSFER_FILTER_FORM";class EK extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={transferListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Transfers",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Wm)}onSuccess(n){this.setState({transferListDocument:n.data})}render(){const{transferListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(lK,{code:n,codeModal:"TransferListDocument",onRefresh:this.onRefresh}),e.jsx(jK,{form:Wm,onSuccess:this.onSuccess}),n&&e.jsx(IK,{transferListDocument:n,onSuccess:this.onRefresh})]})}}const vK=D(EK),FK=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"methodType",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"storageType",children:"StorageType"}),e.jsx(d,{name:"storageType",component:B,children:mr.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(d,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"includePlaceholder",component:E}),label:"Include Placeholder"}),e.jsx(T,{control:e.jsx(d,{name:"transient",component:E}),label:"Transient"})]});function AK({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:FK})]})}const PK=v()(AK),ai="SHAPE_PARAMS_FORM";function DK({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,shapeId:l,...c}){const u=(x,j,C)=>{o({messageContent:"Shape Display Updated"}),n&&n(x,j,C)},p=(x,j,C)=>{o({messageContent:"Error Updating Shape Display",messageColor:"secondary"}),s&&s(x,j,C)};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Shape Display Options"})}),e.jsx(Ae,{children:e.jsx(PK,{form:ai,onSubmit:r_,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l,...c})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(ai),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(ai),children:"Update"})]})]})}const MK=A(q,D)(DK),ze=t=>{let n=t.message;throw t.response&&(n=JSON.stringify(t.response.data,(s,o)=>o===null?void 0:o)),new _({_error:n})};function OK(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return kt.createComponent({itemId:r,shapeId:i,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function LK(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return kt.createComponentPlaceholder({itemId:r,shapeId:i,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function NK(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId;return kt.removeComponent({itemId:r,shapeId:i,componentId:a,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function _K(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,c=s.targetShapeId||t.targetShapeId,u=s.targetComponentId||t.targetComponentId;return kt.copyComponent({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:c,targetComponentId:u,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function $K(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,c=s.targetShapeId||t.targetShapeId,u=s.targetComponentId||t.targetComponentId;return kt.moveComponent({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:c,targetComponentId:u,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function kK(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,c=s.targetShapeId||t.targetShapeId;return kt.moveComponentToShape({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:c,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function WK(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,c=s.targetShapeId||t.targetShapeId;return kt.copyComponentToShape({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:c,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function wK(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.fileId||t.fileId;return kt.addComponentFile({itemId:r,shapeId:i,componentId:a,fileId:l,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function UK(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.fileId||t.fileId;return kt.removeComponentFile({itemId:r,shapeId:i,componentId:a,fileId:l,queryParams:o}).catch(ze)}catch(o){return ze(o)}}function VK(t,n,s){try{const{queryParams:o,analyzeJobDocument:r}=t,i=s.itemId||t.itemId,a=s.shapeId||t.shapeId,l=s.componentId||t.componentId;return kt.createComponentAnalyze({itemId:i,shapeId:a,componentId:l,analyzeJobDocument:r,queryParams:o}).catch(ze)}catch(o){return ze(o)}}const GK=()=>e.jsx(e.Fragment,{children:e.jsx(T,{control:e.jsx(d,{name:"keepFiles",component:E}),label:"keepFiles"})});function qK({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:GK}),e.jsx("button",{type:"submit",hidden:!0})]})}const HK=v()(qK),JK="SHAPE_COMPONENT_DELETE_FORM";function zK({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,form:u=JK}){const p=(j,C,S)=>{r({messageContent:"Shape Component"}),s&&s(j,C,S),n()},x=(j,C,S)=>{r({messageContent:"Error Deleting Component",messageColor:"secondary"}),o&&o(j,C,S)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Delete Component ${c}`}),e.jsx(ve,{children:e.jsx(HK,{form:u,onSubmit:NK,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(u),children:"Delete"})]})]})}const BK=A(P,D)(zK),KK=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(d,{name:"storageId",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"callbackId",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function YK({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:KK}),e.jsx(y,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:ka}),e.jsx("button",{type:"submit",hidden:!0})]})}const XK=v()(YK),QK="SHAPE_COMPONENT_ANALYZE_FORM";function ZK({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,form:u=QK}){const p=(j,C,S)=>{r({messageContent:"Analyze Job Created"}),s&&s(j,C,S),n()},x=(j,C,S)=>{r({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(j,C,S)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Start Component Analyze Job"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(XK,{form:u,onSubmit:VK,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Start"})]})]})}const eY=A(P,D)(ZK),tY=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function nY({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetItemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetShapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetComponentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:tY}),e.jsx("button",{type:"submit",hidden:!0})]})}const sY=v()(nY),oY="SHAPE_COMPONENT_COPY_FORM";function rY({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,form:u=oY}){const p=(j,C,S)=>{r({messageContent:"Component Copied"}),s&&s(j,C,S),n()},x=(j,C,S)=>{r({messageContent:"Error Copying Component",messageColor:"secondary"}),o&&o(j,C,S)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Copy Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(sY,{form:u,onSubmit:_K,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Copy"})]})]})}const iY=A(P,D)(rY),aY=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function lY({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetItemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetShapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:aY}),e.jsx("button",{type:"submit",hidden:!0})]})}const cY=v()(lY),dY="SHAPE_COMPONENT_COPY_SHAPE_FORM";function uY({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,form:u=dY}){const p=(j,C,S)=>{r({messageContent:"Component Copied"}),s&&s(j,C,S),n()},x=(j,C,S)=>{r({messageContent:"Error Copying Component",messageColor:"secondary"}),o&&o(j,C,S)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Copy Component To Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(cY,{form:u,onSubmit:WK,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Copy"})]})]})}const mY=A(P,D)(uY),hY=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function pY({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetItemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetShapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetComponentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:hY}),e.jsx("button",{type:"submit",hidden:!0})]})}const xY=v()(pY),jY="SHAPE_COMPONENT_MOVE_FORM";function fY({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,form:u=jY}){const p=(j,C,S)=>{r({messageContent:"Component Moved"}),s&&s(j,C,S),n()},x=(j,C,S)=>{r({messageContent:"Error Moving Component",messageColor:"secondary"}),o&&o(j,C,S)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Move Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(xY,{form:u,onSubmit:$K,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Move"})]})]})}const gY=A(P,D)(fY),bY=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function CY({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetItemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"targetShapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:bY}),e.jsx("button",{type:"submit",hidden:!0})]})}const yY=v()(CY),SY="SHAPE_COMPONENT_MOVE_SHAPE_FORM";function RY({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,form:u=SY}){const p=(j,C,S)=>{r({messageContent:"Component Moved"}),s&&s(j,C,S),n()},x=(j,C,S)=>{r({messageContent:"Error Moving Component",messageColor:"secondary"}),o&&o(j,C,S)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Move Component To Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(yY,{form:u,onSubmit:kK,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:c})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Move"})]})]})}const TY=A(P,D)(RY),IY=()=>e.jsx(e.Fragment,{children:e.jsx(T,{control:e.jsx(d,{name:"allowReimport",component:E}),label:"Allow Reimport"})});function EY({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r,fileId:i}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),!i&&e.jsx(d,{name:"fileId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:IY}),e.jsx("button",{type:"submit",hidden:!0})]})}const vY=v()(EY),FY="SHAPE_COMPONENT_ASSOCIATEFILE_FORM";function AY({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,fileId:u,form:p=FY}){const x=(C,S,L)=>{r({messageContent:"File Added"}),s&&s(C,S,L),n()},j=(C,S,L)=>{r({messageContent:"Error Adding Filet",messageColor:"secondary"}),o&&o(C,S,L)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Associate File With Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(vY,{form:p,onSubmit:wK,onSubmitSuccess:x,onSubmitFail:j,itemId:a,shapeId:l,componentId:c,fileId:u})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(p),children:"Add File"})]})]})}const PY=A(P,D)(AY);function DY({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r,fileId:i}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),!r&&e.jsx(d,{name:"componentId",component:m,validate:[Z],fullWidth:!0}),!i&&e.jsx(d,{name:"fileId",component:m,validate:[Z],fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const MY=v()(DY),OY="SHAPE_COMPONENT_UNASSOCIATEFILE_FORM";function LY({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:c,fileId:u,form:p=OY}){const x=(C,S,L)=>{r({messageContent:"File Unassociated"}),s&&s(C,S,L),n()},j=(C,S,L)=>{r({messageContent:"Error Unassociating File",messageColor:"secondary"}),o&&o(C,S,L)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Unassociate File From Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(MY,{form:p,onSubmit:UK,onSubmitSuccess:x,onSubmitFail:j,itemId:a,shapeId:l,componentId:c,fileId:u})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"primary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(p),children:"Unassociate File"})]})]})}const NY=A(P,D)(LY),wm="ITEM_SHAPE_CREATE_DIALOG",Um="SHAPE_COMPONENT_DELETE_DIALOG",Vm="SHAPE_COMPONENT_ANALYZE_DIALOG",Gm="SHAPE_COMPONENT_COPY_DIALOG",qm="SHAPE_COMPONENT_COPY_SHAPE_DIALOG",Hm="SHAPE_COMPONENT_MOVE_DIALOG",Jm="SHAPE_COMPONENT_MOVE_SHAPE_DIALOG",zm="SHAPE_COMPONENT_ASSOCIATE_FILE_DIALOG",Bm="SHAPE_COMPONENT_UNASSOCIATE_FILE_DIALOG";class _Y extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={shapeDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n}`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{De.getShape({itemId:n,shapeId:s,queryParams:{includePlaceholder:!0}}).then(o=>this.setState({shapeDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({shapeDocument:s})}render(){const{titleComponent:n,tabComponent:s,shapeId:o,itemId:r,history:i}=this.props,{shapeDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"ShapeDocument",onRefresh:this.onRefresh,breadcrumbList:["Overview"],createShapeModal:wm}),s&&e.jsx(s,{}),e.jsx(MK,{shapeId:o,itemId:r,onSuccess:this.onSuccess,initialValues:{queryParams:{includePlaceholder:!0}}}),a&&e.jsxs(e.Fragment,{children:[e.jsx(cj,{shapeDocument:a,shapeId:o,itemId:r,onRefresh:this.onRefresh,ShapeComponentMenuProps:{removeModal:Um,analyzeModal:Vm,copyToComponentModal:Gm,copyToShapeModal:qm,moveToComponentModal:Hm,moveToShapeModal:Jm,associateFileModal:zm,removeFileModal:Bm}}),e.jsx(Nj,{dialogName:wm,onSuccess:l=>i.push(`/item/${r}/shape/${l.data.id}/`),itemId:r,initialValues:{shapeDocument:JSON.stringify(a,null,2)}}),e.jsx(iY,{dialogName:Gm,onSuccess:(l,c,u)=>i.push(`/item/${u.values.targetItemId}/shape/${l.data.id}/`),itemId:r,shapeId:o}),e.jsx(mY,{dialogName:qm,onSuccess:(l,c,u)=>i.push(`/item/${u.values.targetItemId}/shape/${l.data.id}/`),itemId:r,shapeId:o}),e.jsx(gY,{dialogName:Hm,onSuccess:this.onRefresh,itemId:r,shapeId:o}),e.jsx(TY,{dialogName:Jm,onSuccess:this.onRefresh,itemId:r,shapeId:o}),e.jsx(BK,{dialogName:Um,shapeId:o,itemId:r,onSuccess:this.onRefresh,initialValues:{queryParams:{keepFiles:!0}}}),e.jsx(eY,{dialogName:Vm,shapeId:o,itemId:r,onSuccess:l=>i.push(`/job/${l.data.jobId}/`)}),e.jsx(PY,{dialogName:zm,shapeId:o,itemId:r,onSuccess:this.onRefresh}),e.jsx(NY,{dialogName:Bm,shapeId:o,itemId:r,onSuccess:this.onRefresh})]})]})}}const $Y=q(_Y),Km="BULKYMETADATA_SHAPE_DOWNLOAD_DIALOG";class kY extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s,bulkyMetadataKey:o}){const{shapeId:r,bulkyMetadataKey:i}=this.props;(r!==n||i!==o)&&(this.onFetch(s,n,o),document.title=`VidiCore Admin | Shape | ${n}`)}onRefresh(){const{itemId:n,shapeId:s,bulkyMetadataKey:o}=this.props;this.onFetch(n,s,o)}onFetch(n,s,o){try{sn.getShapeBulkyMetadata({itemId:n,shapeId:s,key:o}).then(r=>this.setState({bulkyMetadataDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,bulkyMetadataKey:o,itemId:r,shapeId:i}=this.props,{bulkyMetadataDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:qe("/item/:itemId/shape/:shapeId/bulky-metadata/",{itemId:r,shapeId:i})},o],downloadModal:Km}),s&&e.jsx(s,{}),a&&e.jsx(va,{bulkyMetadataDocument:a}),e.jsx(Aa,{dialogName:Km,itemId:r,shapeId:i,bulkyMetadataKey:o})]})}}const WY=A(et,q)(kY);class wY extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n}`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{sn.listShapeBulkyMetadata({itemId:n,shapeId:s}).then(o=>this.setState({uriListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,itemId:o,shapeId:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,breadcrumbList:["Bulky Metadata"]}),s&&e.jsx(s,{}),i&&e.jsx(Et,{uriListDocument:i,linkTo:a=>`/item/${o}/shape/${r}/bulky-metadata/${a}/`})]})}}const UY=q(wY);class VY extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n} | Graph`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){const{useGraphViz:o=!0}=this.props;try{o?De.getShapeGraphDot({itemId:n,shapeId:s}).then(r=>{this.setState({graphDot:r.data})}).catch(r=>this.onRefreshError(r)):De.getShapeGraph({itemId:n,shapeId:s,responseType:"blob"}).then(r=>{this.setState({graphImage:r.data})}).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:n,useGraphViz:s=!0}=this.props,{graphImage:o,graphDot:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["Graph"],code:r,codeModal:"DOT",codeVariant:"text"}),s===!1&&o?e.jsx("img",{alt:"graph",src:URL.createObjectURL(o),style:{width:"100%"}}):null,s===!0&&r?e.jsx(pr,{dot:r,width:"100%",height:"80vh"}):null]})}}const GY=q(VY);class qY extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={cpl:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n} | CPL`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{De.getShapeCpl({itemId:n,shapeId:s}).then(o=>{this.setState({cpl:o.data})}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:n}=this.props,{cpl:s}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["CPL"]}),s&&e.jsx(ls,{value:fn(s)||"",options:{readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}})]})}}const HY=q(qY),JY=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"methodType",component:m,fullWidth:!0}),e.jsx(d,{name:"storageType",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsx(w,{name:"methodMetadata",label:"Method Metadata",component:se}),e.jsx(T,{control:e.jsx(d,{name:"includeItem",component:E}),label:"Include Item"}),e.jsx(T,{control:e.jsx(d,{name:"closedFiles",component:E}),label:"Closed Files"})]});function zY({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:JY}),e.jsx("button",{type:"submit",hidden:!0})]})}const BY=v()(zY);function KY({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="SHAPE_FILE_PARAMS_FORM",initialValues:a={},itemId:l,shapeId:c}){const u=(x,j,C)=>{n&&n(x,j,C)},p=()=>{s({messageContent:"Error Requesting File",messageColor:"secondary"})};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"File Params"})}),e.jsx(Ae,{children:e.jsx(BY,{form:i,onSubmit:i_,onSubmitSuccess:u,onSubmitFail:p,onCancel:t,destroyOnUnmount:!1,initialValues:a,itemId:l,shapeId:c})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const YY=A(P,D)(KY),XY=Rt(Va);class QY extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={fileListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n} | File`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{De.getShape({itemId:n,shapeId:s,path:`/API/item/${n}/shape/${s}/file`}).then(o=>{const r=o.data;this.setState({fileListDocument:r})}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({fileListDocument:s})}render(){const{titleComponent:n,itemId:s,shapeId:o}=this.props,{fileListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["Files"],code:r,codeModal:"FileListDocument"}),e.jsx(YY,{shapeId:o,itemId:s,onSuccess:this.onSuccess}),r&&e.jsx(XY,{fileListDocument:r})]})}}const ZY=q(QY),eX=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"keepFiles",component:E}),label:"keepFiles"}),e.jsx(T,{control:e.jsx(d,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function tX({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:eX}),e.jsx("button",{type:"submit",hidden:!0})]})}const nX=v()(tX),Ym="SHAPE_DELETE_FORM";function sX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const c=(p,x,j)=>{r({messageContent:"Shape Deleted"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Deleting Shape",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Delete Shape ${l}`}),e.jsx(ve,{children:e.jsx(nX,{form:Ym,onSubmit:a_,onSubmitSuccess:c,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(Ym),children:"Delete"})]})]})}const oX=A(P,D)(sX),Xm="EDIT_SHAPE_TRANSCODE_FORM";function rX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const c=(p,x,j)=>{r({messageContent:"Transcode Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Start Transcode"}),e.jsx(X,{children:e.jsx(Lj,{form:Xm,onSubmit:c_,onSubmitSuccess:c,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Xm),children:"Start"})]})]})}const iX=A(P,D)(rX),aX=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"extractCc",children:"Extract closed captions as metadata"}),e.jsxs(d,{name:"extractCc",component:B,children:[e.jsx(g,{value:"true",children:"true"}),e.jsx(g,{value:"mcc",children:"mcc"})]})]})," ",e.jsx(T,{control:e.jsx(d,{name:"ccFromVideo",component:E}),label:"Extract closed captions from video tracks as well as data tracks"}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function lX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:aX}),e.jsx("button",{type:"submit",hidden:!0})]})}const cX=v()(lX),dX="SHAPE_DEDUCTION_FORM";function uX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:c=dX}){const u=(x,j,C)=>{r({messageContent:"Shape Deduction Job Created"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Creating Shape Deduction Job",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Start Shape Deduction"}),e.jsx(X,{children:e.jsx(cX,{form:c,onSubmit:d_,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(c),children:"Start"})]})]})}const mX=A(P,D)(uX),hX=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"resourceId",label:"Resource ID",component:m,fullWidth:!0}),e.jsx(d,{name:"storageId",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"callbackId",component:m,fullWidth:!0}),e.jsx(d,{name:"preset",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function pX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:hX}),e.jsx(y,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:ka}),e.jsx("button",{type:"submit",hidden:!0})]})}const xX=v()(pX),jX="SHAPE_ANALYZE_FORM";function fX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:c=jX}){const u=(x,j,C)=>{r({messageContent:"Analyze Job Created"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Start Shape Analyze Job"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(xX,{form:c,onSubmit:j_,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l,initialValues:{}})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(c),children:"Start"})]})]})}const gX=A(P,D)(fX),bX=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"fileId",label:"File ID",component:m,fullWidth:!0}),e.jsx(d,{name:"uri",label:"URI",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function CX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",label:"queryParams",component:bX}),e.jsx("button",{type:"submit",hidden:!0})]})}const yX=v()(CX),Qm="SHAPE_ADD_COMPONENT_FORM";function SX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const c=(p,x,j)=>{r({messageContent:"Add Component Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Add Component Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Import Component To Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(yX,{form:Qm,onSubmit:OK,onSubmitSuccess:c,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Qm),children:"Start"})]})]})}const RX=A(P,D)(SX),TX=["container","audio","video","binary"],IX=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(R,{name:"type",component:B,children:TX.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(R,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0})]});function EX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),s===void 0?e.jsx(R,{name:"itemId",label:"Item ID",component:m,validate:[Z],required:!0,fullWidth:!0}):null,o===void 0?e.jsx(R,{name:"shapeId",label:"Shape ID",component:m,validate:[Z],required:!0,fullWidth:!0}):null,e.jsx(y,{name:"queryParams",component:IX}),e.jsx("button",{type:"submit",hidden:!0})]})}const vX=v()(EX),FX="SHAPE_CREATECOMPONENTPLACEHOLDER_FORM";function AX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:c=FX}){const u=(x,j,C)=>{r({messageContent:"Component Placeholder Created"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Creating Placeholder Component",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Create Component Placeholder"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(vX,{form:c,onSubmit:LK,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(c),children:"Create"})]})]})}const PX=A(P,D)(AX);function DX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"tagName",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const $f=v()(DX),Zm="SHAPE_ADD_TAG_FORM";function MX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const c=(p,x,j)=>{r({messageContent:"Shape Tag Added"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Adding Shape Tag",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Shape Tags"}),e.jsx(X,{style:{minHeight:200},children:e.jsx($f,{form:Zm,onSubmit:u_,onSubmitSuccess:c,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Zm),children:"Add"})]})]})}const OX=A(P,D)(MX),eh="SHAPE_REMOVE_TAG_FORM";function LX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const c=(p,x,j)=>{r({messageContent:"Shape Tag Removed"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Removing Shape Tag",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove Shape Tags"}),e.jsx(X,{style:{minHeight:200},children:e.jsx($f,{form:eh,onSubmit:p_,onSubmitSuccess:c,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(eh),children:"Remove"})]})]})}const NX=A(P,D)(LX);function _X({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"mimeType",component:m,validate:[Z],fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const $X=v()(_X),kX="SHAPE_ADD_MIMETYPE_FORM";function WX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:c=kX}){const u=(x,j,C)=>{r({messageContent:"Mime-Type Added"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Adding Mime-Type",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Add Mime-Type"}),e.jsx(X,{style:{minHeight:200},children:e.jsx($X,{form:c,onSubmit:m_,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(c),children:"Add"})]})]})}const wX=A(P,D)(WX);function UX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(d,{name:"mimeType",component:m,validate:[Z],fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const VX=v()(UX),GX="SHAPE_REMOVE_MIMETYPE_FORM";function qX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:c=GX}){const u=(x,j,C)=>{r({messageContent:"Mime-Type Removed"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Removing Mime-Type",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove Mime-Type"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(VX,{form:c,onSubmit:x_,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(c),children:"Remove"})]})]})}const HX=A(P,D)(qX),JX=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsx(d,{name:"locationName",label:"Export Location",component:Y,loadOptions:fs,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(d,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(d,{name:"track",component:m,fullWidth:!0})]});function zX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:JX}),e.jsx("button",{type:"submit",hidden:!0})]})}const BX=v()(zX),KX="SHAPE_EXPORT_FORM";function YX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:c=KX}){const u=(x,j,C)=>{r({messageContent:"Export Started"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Export Shape"}),e.jsx(X,{children:e.jsx(BX,{form:c,onSubmit:f_,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(c),children:"Start"})]})]})}const XX=A(P,D)(YX),QX=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0}),e.jsx(d,{name:"locationName",label:"Export Location",component:Y,loadOptions:fs,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(d,{name:"projection",label:"Projection",component:Y,loadOptions:yn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",component:se,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(w,{name:"jobmetadata",component:se,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(T,{control:e.jsx(d,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(d,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(d,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(d,{name:"track",component:m,fullWidth:!0}),e.jsx(d,{name:"cplTrack",label:"CPL Track",component:m,fullWidth:!0})]});function ZX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),!s&&e.jsx(d,{name:"itemId",component:m,validate:[Z],fullWidth:!0}),!o&&e.jsx(d,{name:"shapeId",component:m,validate:[Z],fullWidth:!0}),e.jsx(y,{name:"queryParams",component:QX}),e.jsx("button",{type:"submit",hidden:!0})]})}const eQ=v()(ZX),tQ="SHAPE_EXPORTIMP_FORM";function nQ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:c=tQ}){const u=(x,j,C)=>{r({messageContent:"Export Started"}),s&&s(x,j,C),n()},p=(x,j,C)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(x,j,C)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Export Shape IMF Package"}),e.jsx(X,{children:e.jsx(eQ,{form:c,onSubmit:g_,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(c),children:"Start"})]})]})}const sQ=A(P,D)(nQ),oQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{name:"container",label:"Container",component:m,type:"number",fullWidth:!0,helperText:"Total Container Files"}),e.jsx(R,{name:"video",label:"Video",component:m,type:"number",helperText:"Total Video Files",fullWidth:!0}),e.jsx(R,{name:"audio",label:"Audio",component:m,helperText:"Total Audio Files",type:"number",fullWidth:!0}),e.jsx(R,{name:"binary",label:"Binary",component:m,type:"number",fullWidth:!0,helperText:"Total Binary Files"}),e.jsx(R,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(R,{name:"frameDuration",label:"Frame Duration",component:m,type:"number",fullWidth:!0})]});function rQ({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),s===void 0?e.jsx(R,{name:"itemId",label:"Item ID",component:m,validate:[Z],required:!0,fullWidth:!0}):null,o===void 0?e.jsx(R,{name:"shapeId",label:"Shape ID",component:m,validate:[Z],required:!0,fullWidth:!0}):null,e.jsx(y,{name:"queryParams",component:oQ}),e.jsx("button",{type:"submit",hidden:!0})]})}const iQ=v()(rQ),th="SHAPE_PLACEHOLDERUPDATE_FORM";function aQ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const c=(p,x,j)=>{r({messageContent:"Placeholder Shape Updated"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Updating Placeholder Shape",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Update Placeholder Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(iQ,{form:th,onSubmit:h_,onSubmitSuccess:c,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(th),children:"Update"})]})]})}const lQ=A(P,D)(aQ),nh="SHAPE_REMOVE_DIALOG",sh="SHAPE_TRANSCODE_DIALOG",oh="SHAPE_ANALYZE_DIALOG",rh="SHAPE_ADD_TAG_DIALOG",ih="SHAPE_REMOVE_TAG_DIALOG",ah="SHAPE_ADD_MIMETYPE_DIALOG",lh="SHAPE_REMOVE_MIMETYPE_DIALOG",ch="SHAPE_ADD_COMPONENT_DIALOG",dh="SHAPE_EXPORT_DIALOG",uh="SHAPE_IMPEXPORT_DIALOG",mh="SHAPE_DEDUCTION_DIALOG",hh="SHAPE_PLACEHOLDERUPDATE_DIALOG",ph="SHAPE_CREATEPLACEHOLDERCOMPONENT_DIALOG",kf=[{listText:"Overview",component:$Y,path:"/item/:itemId/shape/:shapeId/",exact:!0},{listText:"Bulky Metadata",component:UY,path:"/item/:itemId/shape/:shapeId/bulky-metadata/"},{listText:"Files",component:ZY,path:"/item/:itemId/shape/:shapeId/file/"},{listText:"Graph",component:GY,path:"/item/:itemId/shape/:shapeId/graph/"},{listText:"CPL",component:HY,path:"/item/:itemId/shape/:shapeId/cpl/"}],cQ=({itemId:t,shapeId:n})=>e.jsx(vt,{children:kf.map(({path:s,listText:o,exact:r})=>e.jsx(Cn,{secondary:o,to:qe(s,{itemId:t,shapeId:n}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:r},s))}),dQ=t=>e.jsxs(Jt,{children:[e.jsx(H,{exact:!0,path:"/item/:itemId/shape/:shapeId/bulky-metadata/:bulkyMetadataKey",render:()=>e.jsx(WY,{...t,title:"Bulky Metadata"}),...t}),kf.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))]});class uQ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{shapeId:n}=this.props;document.title=`VidiCore Admin | Shape | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{itemId:n,shapeId:s,history:o}=this.props,r=i=>e.jsx(tj,{onRefresh:this.onRefresh,shapeId:s,itemId:n,removeModal:nh,transcodeModal:sh,deductionModal:mh,analyzeTagModal:oh,addTagModal:rh,removeTagModal:ih,addMimeTypeModal:ah,removeMimeTypeModal:lh,addComponentModal:ch,exportModal:dh,exportImpModal:uh,placeholderUpdateModal:hh,createPlaceholderComponentModal:ph,...i});return e.jsxs(e.Fragment,{children:[e.jsx(Vt,{shapeId:s,itemId:n,mainComponent:dQ,listComponent:cQ,defaultOpen:!0,titleComponent:r,setOnRefresh:this.setOnRefresh}),e.jsx(oX,{dialogName:nh,onSuccess:()=>o.push(`/item/${n}`),itemId:n,shapeId:s}),e.jsx(iX,{dialogName:sh,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(mX,{dialogName:mh,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(gX,{dialogName:oh,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(RX,{dialogName:ch,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(OX,{dialogName:rh,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(NX,{dialogName:ih,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(wX,{dialogName:ah,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(HX,{dialogName:lh,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(lQ,{dialogName:hh,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(PX,{dialogName:ph,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(XX,{dialogName:dh,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(sQ,{dialogName:uh,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s})]})}}const mQ=A(et)(uQ),hQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0})]});function pQ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:hQ}),e.jsx(y,{name:"queryParams",component:qj}),e.jsx("button",{type:"submit",hidden:!0})]})}const xQ=v()(pQ),jQ="COLLECTION_SEARCH_PARAMS_FORM";function fQ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=jQ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Collections",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Collection Search Params"})}),e.jsx(Ae,{children:e.jsx(xQ,{form:c,onSubmit:Qx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const gQ=A(q,D,jt)(fQ),bQ="COLLECTION_SEARCH_FORM";function CQ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=bQ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Collections",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item Search Document"})}),e.jsx(U,{children:e.jsx(Sa,{form:c,onSubmit:Qx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const yQ=A(q,D,jt)(CQ),xh="EDIT_COLLECTION_FORM";function SQ({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i}){const a=(c,u,p)=>{r({messageContent:"Collection Created"}),o&&o(c,u,p),s()},l=(c,u,p)=>{r({messageContent:"Error Creating Collection",messageColor:"secondary"}),i&&i(c,u,p)};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Collection"}),e.jsx(X,{children:e.jsx(Fq,{onSubmit:Ni,onSubmitSuccess:a,onSubmitFail:l,form:xh})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(xh),children:"Create"})]})]})}const RQ=A(P,D)(SQ),jh="COLLECTION_CREATE_DIALOG",Ro="COLLECTION_SEARCH_FORM",TQ=A(Rt,Wn)(kL);class IQ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:c}},this.state={collectionListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Collection",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Ro)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({collectionListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{collectionListDocument:n,queryParams:s}=this.state,{history:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Collection",helpTo:"/ref/collection.html",onRefresh:this.onRefresh,code:n,codeModal:"CollectionListDocument",createModal:jh}),e.jsxs(F,{container:!0,spacing:1,children:[e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(yQ,{form:Ro,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(gQ,{form:Ro,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(TQ,{collectionListDocument:n,queryParams:s,form:Ro}),e.jsx(RQ,{dialogName:jh,onSuccess:r=>o.push(`/collection/${r.data.id}`)})]})}}const EQ=A(D)(IQ),vQ="ITEM_SEARCH_FORM";function FQ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=vQ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item Search Document"})}),e.jsx(U,{children:e.jsx(Sa,{form:c,onSubmit:zx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const AQ=A(q,D,jt)(FQ),PQ=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"result",children:"Result"}),e.jsxs(d,{name:"result",component:B,children:[e.jsx(g,{value:"list",children:"List"}),e.jsx(g,{value:"library",children:"Library"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(T,{control:e.jsx(d,{name:"save",component:E}),label:"Save"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"library",component:m,fullWidth:!0}),e.jsx(d,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(d,{name:"updateFrequency",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"updateMode",children:"Update Mode"}),e.jsxs(d,{name:"updateMode",component:B,children:[e.jsx(g,{value:"REPLACE",children:"REPLACE"}),e.jsx(g,{value:"MERGE",children:"MERGE"}),e.jsx(g,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"autoRefresh",component:E}),label:"Auto Refresh"})]});function DQ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:PQ}),e.jsx(y,{name:"queryParams",component:co}),e.jsx("button",{type:"submit",hidden:!0})]})}const MQ=v()(DQ),OQ="ITEM_SEARCH_PARAMS_FORM";function LQ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=OQ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item Search Params"})}),e.jsx(Ae,{children:e.jsx(MQ,{form:c,onSubmit:zx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const NQ=A(q,D,jt)(LQ),Wf=A(Rt,Wn)(_L),_Q=()=>e.jsx(F,{container:!0,justifyContent:"center",alignItems:"center",children:e.jsx(F,{item:!0,children:e.jsx(Zg,{style:{fontSize:200}})})}),$Q=({itemType:t={},history:n})=>{const{thumbnails:s={},id:o}=t,{uri:r=[]}=s,[i]=r,a=n?()=>n.push(`/item/${o}/`):void 0;return e.jsxs(eb,{style:{padding:"10px",minWidth:"350px"},onClick:a,children:[i?e.jsx("img",{src:i,alt:i}):e.jsx(N,{children:e.jsx(_Q,{})}),e.jsx(oa,{title:o})]})},wf=ns($Q);function kQ({itemListDocument:t,queryParams:n={},history:s}){if(t===void 0)return null;const{item:o=[]}=t,{terse:r,content:i=[]}=n,a=i.includes("thumbnail"),l=c=>()=>s.push(`/item/${c}/`);return e.jsx(e.Fragment,{children:o.map(c=>e.jsxs(N,{onClick:l(c.id),children:[e.jsx(le,{subheader:`Item ${c.id}`}),e.jsx(U,{children:e.jsxs(F,{container:!0,children:[a&&e.jsx(F,{item:!0,children:e.jsx(rp,{cellHeight:"auto",children:e.jsx(wf,{itemType:c})})}),e.jsxs(F,{item:!0,xs:12,sm:!0,children:[e.jsx(h,{title:"itemId",value:c.id}),r&&c.terse&&Object.keys(c.terse).map(u=>e.jsx(h,{title:u,value:c.terse[u]&&c.terse[u].value},u))]})]})})]},c.id))})}const Uf=ns(kQ);function Vf({itemListDocument:t}){if(t===void 0)return null;const{item:n=[]}=t;return e.jsx(rp,{cellHeight:"auto",children:n.map(s=>e.jsx(wf,{itemType:s},s.id))})}const Yo="CARD_VIEW",Xo="GRID_VIEW",Mn="ROW_VIEW";function Gf({isActive:t=Mn,onChange:n}){const s=o=>()=>n(o);return e.jsxs(F,{container:!0,children:[e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Row",children:e.jsx(Q,{onClick:s(Mn),children:e.jsx(tb,{color:t===Mn?"action":"disabled"})})})}),e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Card",children:e.jsx(Q,{onClick:s(Yo),children:e.jsx(nb,{color:t===Yo?"action":"disabled"})})})}),e.jsx(F,{item:!0,children:e.jsx(Ee,{title:"Grid",children:e.jsx(Q,{onClick:s(Xo),children:e.jsx(sb,{color:t===Xo?"action":"disabled"})})})})]})}const qn="ITEM_SEARCH_FORM";class WQ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this),this.onChangeView=this.onChangeView.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:c}},this.state={itemListDocument:void 0,viewLayout:Mn}}componentDidMount(){document.title="VidiCore Admin | Item",setTimeout(this.onRefresh,10)}onRefresh(){const{submitForm:n}=this.props;n(qn)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({itemListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onChangeView(n){this.setState({viewLayout:n})}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{itemListDocument:n,queryParams:s,viewLayout:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Item",helpTo:"/ref/item/item.html",onRefresh:this.onRefresh,code:n,codeModal:"ItemListDocument"}),e.jsxs(F,{container:!0,spacing:1,children:[e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(AQ,{form:qn,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(NQ,{form:qn,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(Gf,{onChange:this.onChangeView,isActive:o}),o===Mn&&e.jsx(Wf,{form:qn,itemListDocument:n,queryParams:s}),o===Yo&&e.jsx(Uf,{form:qn,itemListDocument:n,queryParams:s}),o===Xo&&e.jsx(Vf,{form:qn,itemListDocument:n,queryParams:s})]})}}const wQ=A(D)(WQ),qf=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"Group Name",component:Y,loadOptions:kn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"group",component:qf,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(d,{name:"reference",component:m,fullWidth:!0})]}),Hf=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(d,{name:"operation",component:B,children:[e.jsx(g,{value:"AND",children:"AND"}),e.jsx(g,{value:"OR",children:"OR"}),e.jsx(g,{value:"NOT",children:"NOT"})]})]}),e.jsx(w,{name:"operator",component:Hf,label:"operator",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"text",component:gr,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"group",component:qf,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(d,{name:"reference",component:oe,simple:!0,fullWidth:!0})]}),UQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"start",component:m,fullWidth:!0}),e.jsx(d,{name:"end",component:m,fullWidth:!0})]}),VQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(d,{name:"value",component:m,fullWidth:!0}),e.jsx(y,{name:"range",label:"Range",component:UQ})]}),GQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"field",label:"Field",component:Y,loadOptions:ot,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(d,{name:"order",component:B,children:[e.jsx(g,{value:"ascending",children:"Ascending"}),e.jsx(g,{value:"descending",children:"Descending"})]})]})]}),qQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"text",component:gr,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"field",component:Sn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(y,{name:"operator",label:"operator",component:Hf,button:!0,initialDisplay:!1}),e.jsx(y,{name:"item",label:"item join",component:ya,button:!0,initialDisplay:!1}),e.jsx(w,{name:"filter",component:Mx,label:"filter",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"facetFilter",component:VQ,label:"facetFilter",withHeader:!1,arrayHeader:!0}),e.jsx(w,{name:"facet",component:_x,label:"facet",withHeader:!1,arrayHeader:!0}),e.jsx(y,{name:"highlight",label:"highlight",component:$x,button:!0,initialDisplay:!1}),e.jsx(w,{name:"sort",component:GQ,label:"sort",withHeader:!1,arrayHeader:!0})]});function HQ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataGroupSearchDocument",component:qQ}),e.jsx("button",{type:"submit",hidden:!0})]})}const JQ=v()(HQ),zQ="ITEM_METADATAGROUPSEARCH_FORM";function BQ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=zQ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Metadata Group Search Document"})}),e.jsx(U,{children:e.jsx(JQ,{form:c,onSubmit:Bx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const KQ=A(q,D,jt)(BQ),YQ=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"result",children:"Result"}),e.jsxs(d,{name:"result",component:B,children:[e.jsx(g,{value:"list",children:"List"}),e.jsx(g,{value:"library",children:"Library"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(T,{control:e.jsx(d,{name:"save",component:E}),label:"Save"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"library",component:m,fullWidth:!0}),e.jsx(d,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(d,{name:"updateFrequency",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"updateMode",children:"Update Mode"}),e.jsxs(d,{name:"updateMode",component:B,children:[e.jsx(g,{value:"REPLACE",children:"REPLACE"}),e.jsx(g,{value:"MERGE",children:"MERGE"}),e.jsx(g,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),e.jsx(T,{control:e.jsx(d,{name:"autoRefresh",component:E}),label:"Auto Refresh"})]});function XQ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:YQ}),e.jsx(y,{name:"queryParams",component:co}),e.jsx("button",{type:"submit",hidden:!0})]})}const QQ=v()(XQ),ZQ="ITEM_METADATAGROUPSEARCH_PARAMS_FORM";function eZ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=ZQ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Item Search Params"})}),e.jsx(Ae,{children:e.jsx(QQ,{form:c,onSubmit:Bx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const tZ=A(q,D,jt)(eZ),Hn="ITEM_METADATAGROUPSEARCH_FORM";class nZ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this),this.onChangeView=this.onChangeView.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},metadataGroupSearchDocument:{sort:c}},this.state={itemListDocument:void 0,viewLayout:Mn}}componentDidMount(){document.title="VidiCore Admin | Item Metadata Group Search",setTimeout(this.onRefresh,10)}onRefresh(){const{submitForm:n}=this.props;n(Hn)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({itemListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onChangeView(n){this.setState({viewLayout:n})}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{itemListDocument:n,queryParams:s,viewLayout:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Item",helpTo:"/ref/item/item.html",onRefresh:this.onRefresh,code:n,codeModal:"ItemListDocument"}),e.jsxs(F,{container:!0,spacing:1,children:[e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(KQ,{form:Hn,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(F,{item:!0,xs:12,sm:6,children:e.jsx(tZ,{form:Hn,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(Gf,{onChange:this.onChangeView,isActive:o}),o===Mn&&e.jsx(Wf,{form:Hn,itemListDocument:n,queryParams:s}),o===Yo&&e.jsx(Uf,{form:Hn,itemListDocument:n,queryParams:s}),o===Xo&&e.jsx(Vf,{form:Hn,itemListDocument:n,queryParams:s})]})}}const sZ=A(D)(nZ),oZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"content",component:Y,isMulti:!0,options:[{value:"component",label:"Component"},{value:"metadata",label:"Metadata"},{value:"essenceVersion",label:"Essence Version"},{value:"tag",label:"Tag"},{value:"mimeType",label:"Mime Type"},{value:"*",label:"All"}],fullWidth:!0}),e.jsx(d,{name:"methodType",component:m,fullWidth:!0}),e.jsx(d,{name:"storageType",component:m,fullWidth:!0}),e.jsx(d,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(d,{name:"scheme",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"count",component:E}),label:"Count"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0})]});function rZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:oZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const iZ=v()(rZ),aZ="SHAPE_SEARCH_PARAMS_FORM";function lZ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=aZ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Shapes",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Params"})}),e.jsx(Ae,{children:e.jsx(iZ,{form:c,onSubmit:Ax,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const cZ=A(q,D,jt)(lZ);function dZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"shapeSearchDocument",component:mo}),e.jsx("button",{type:"submit",hidden:!0})]})}const uZ=v()(dZ),mZ="SHAPE_SEARCH_FORM";function hZ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=mZ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Shapes",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{expandIcon:e.jsx(Yi,{}),children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Document"})}),e.jsx(U,{children:e.jsx(uZ,{form:c,onSubmit:Ax,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const pZ=A(q,D,jt)(hZ),vs=({orderBy:t,orderDirection:n,onChangeOrder:s,name:o})=>s?e.jsx(O,{children:e.jsx(gt,{active:t===o,direction:n||void 0,onClick:s(o),children:ie(o)})}):e.jsx(O,{children:ie(o)}),xZ=({shapeType:t})=>{const{id:n,item:s=[],mimeType:o=[],essenceVersion:r,tag:i=[]}=t,a=s.map(u=>u.id),[l]=a,c=l?`/item/${l}/shape/${n}/`:void 0;return e.jsxs(Ge,{to:c,hover:!0,children:[e.jsx(O,{children:n}),e.jsx(O,{children:e.jsx(No,{labels:a})}),e.jsx(O,{children:r}),e.jsx(O,{children:e.jsx(No,{labels:o})}),e.jsx(O,{children:e.jsx(No,{labels:i})})]})};function jZ({shapeListDocument:t,onChangePage:n,onChangeRowsPerPage:s,rowsPerPageOptions:o,page:r,rowsPerPage:i,onChangeOrder:a,orderBy:l,orderDirection:c}){if(t===void 0)return null;const{shape:u=[],hits:p=0}=t;return e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(vs,{name:"shapeId"}),e.jsx(vs,{name:"itemId",onChangeOrder:a,orderBy:l,orderDirection:c}),e.jsx(vs,{name:"essenceVersion"}),e.jsx(vs,{name:"mimeType",onChangeOrder:a,orderBy:l,orderDirection:c}),e.jsx(vs,{name:"shapeTag",onChangeOrder:a,orderBy:l,orderDirection:c})]})}),e.jsx(de,{children:u.map(x=>e.jsx(xZ,{shapeType:x},x.id))}),n&&s&&e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:p,page:r,rowsPerPage:i,onPageChange:n,onRowsPerPageChange:s,ActionsComponent:St,rowsPerPageOptions:o})})})]})})}const To="SHAPE_SEARCH_FORM",fZ=A(Rt,Wn)(jZ);class gZ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:c}},this.state={shapeListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Shape",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(To)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({shapeListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{shapeListDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Shape",helpTo:"/ref/item/shape.html",onRefresh:this.onRefresh,code:n,codeModal:"ShapeListDocument"}),e.jsx(pZ,{form:To,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(cZ,{form:To,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(fZ,{shapeListDocument:n,queryParams:s,form:To,sortField:"shapeSearchDocument.sort"})]})}}const bZ=A(D)(gZ),CZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"source",component:Y,isMulti:!0,options:[{value:"item",label:"item"},{value:"collection",label:"collection"},{value:"global",label:"global"},{value:"document",label:"document"}],fullWidth:!0}),e.jsx(d,{name:"group",component:Y,loadOptions:kn,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(d,{name:"data",component:m,fullWidth:!0}),e.jsx(T,{control:e.jsx(d,{name:"traverse",component:E}),label:"Traverse"}),e.jsx(T,{control:e.jsx(d,{name:"includeValue",component:E}),label:"Include Value"}),e.jsx(T,{control:e.jsx(d,{name:"includeDefinition",component:E}),label:"Include Definition"}),e.jsx(T,{control:e.jsx(d,{name:"includeSource",component:E}),label:"Include Source"}),e.jsx(d,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(d,{name:"number",component:m,type:"number",fullWidth:!0})]});function yZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:CZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const SZ=v()(yZ),RZ="FIELDGROUP_SEARCH_PARAMS_FORM";function TZ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=RZ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Params"})}),e.jsx(Ae,{children:e.jsx(SZ,{form:c,onSubmit:df,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const IZ=A(q,D,jt)(TZ);function EZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"metadataFieldGroupSearchDocument",component:mo}),e.jsx("button",{type:"submit",hidden:!0})]})}const vZ=v()(EZ),FZ="FIELDGROUP_SEARCH_FORM";function AZ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:c=FZ,...u}){const p=(j,C,S)=>{l&&l(null,!1),n&&n(j,C,S)},x=(j,C,S)=>{o({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),s&&s(j,C,S)};return e.jsxs(ye,{expanded:a,onChange:l,children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Document"})}),e.jsx(U,{children:e.jsx(vZ,{form:c,onSubmit:df,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>i(c),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(c),children:"Update"})]})]})}const PZ=A(q,D,jt)(AZ),fh=({orderBy:t,orderDirection:n,onChangeOrder:s,name:o})=>s?e.jsx(O,{children:e.jsx(gt,{active:t===o,direction:n||void 0,onClick:s(o),children:ie(o)})}):e.jsx(O,{children:ie(o)}),DZ=({fieldGroupType:t})=>{const{name:n,uuid:s}=t;return e.jsxs(Ge,{to:`/metadata/${s}/`,hover:!0,children:[e.jsx(O,{children:s}),e.jsx(O,{children:n})]})};function MZ({metadataFieldResultDocument:t,onChangePage:n,onChangeRowsPerPage:s,rowsPerPageOptions:o,page:r,rowsPerPage:i}){if(t===void 0)return null;const{group:a=[],hits:l=0}=t;return e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(fh,{name:"uuid"}),e.jsx(fh,{name:"name"})]})}),e.jsx(de,{children:a.map(c=>e.jsx(DZ,{fieldGroupType:c},c.uuid))}),n&&s&&e.jsx(Ct,{children:e.jsx(ge,{children:e.jsx(yt,{count:l,page:r,rowsPerPage:i,onPageChange:n,onRowsPerPageChange:s,ActionsComponent:St,rowsPerPageOptions:o})})})]})})}const Io="FIELDGROUP_SEARCH_FORM",OZ=A(Rt,Wn)(MZ);class LZ extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,c=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:c}},this.state={metadataFieldResultDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Field Group",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Io)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({metadataFieldResultDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{metadataFieldResultDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Field Groups",helpTo:"/ref/metadata/field-group.html",onRefresh:this.onRefresh,code:n,codeModal:"MetadataFieldResultDocument"}),e.jsx(PZ,{form:Io,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(IZ,{form:Io,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(OZ,{metadataFieldResultDocument:n,queryParams:s,form:Io,sortField:"metadataFieldGroupSearchDocument.sort"})]})}}const NZ=A(D)(LZ),_Z=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",component:m,fullWidth:!0,required:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(T,{control:e.jsx(d,{name:"noCPLreimport",component:E}),label:"No CPL Reimport"}),e.jsx(T,{control:e.jsx(d,{name:"no-transcode",component:E}),label:"No Transcode"}),e.jsx(T,{control:e.jsx(d,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]});function $Z({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:_Z}),e.jsx("button",{type:"submit",hidden:!0})]})}const kZ=v()($Z),WZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(T,{control:e.jsx(d,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(T,{control:e.jsx(d,{name:"growing",component:E}),label:"Growing"}),e.jsx(w,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:se}),e.jsx(d,{name:"original",component:m,label:"Reset Original",fullWidth:!0}),e.jsx(d,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(d,{name:"createPosters",component:m,fullWidth:!0}),e.jsx(d,{name:"fastStartLength",component:m,fullWidth:!0}),e.jsx(d,{name:"storageId",component:m,fullWidth:!0}),e.jsx(d,{name:"xmpfile",component:m,fullWidth:!0}),e.jsx(d,{name:"sidecar",component:m,fullWidth:!0}),e.jsx(d,{name:"settings",component:m,fullWidth:!0}),e.jsx(d,{name:"importTag",component:m,fullWidth:!0}),e.jsx(d,{name:"resourceId",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Metadata",component:se})]});function wZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:WZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const UZ=v()(wZ);function li(t){const{queryParams:n,metadataDocument:s}=t;return On.createImportImp({queryParams:n,metadataDocument:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new _({_error:r})})}function ci(t,n,s){const{queryParams:o,metadataDocument:r}=t,i=s.fileId||t.fileId;return Ke.createFileImportAssetMap({fileId:i,queryParams:o,metadataDocument:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}function di(t,n,s){const{queryParams:o,metadataDocument:r}=t,i=s.storageId||t.storageId;return Ke.createFilePathImportAssetMap({storageId:i,queryParams:o,metadataDocument:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}const ws="EDIT_IMPORTIMPURL_FORM";function VZ({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c=(p,x,j)=>{l({messageContent:"Job Started"}),n&&n(p,x,j)},u=(p,x,j)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{grandParentTitle:"Import",parentTitle:"IMF",title:"URL",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(ws),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"IMP URL"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(kZ,{onSubmit:li,initialValues:t,onSubmitSuccess:c,onSubmitFail:u,form:ws,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:li,initialValues:t,form:ws,onSubmitSuccess:c,onSubmitFail:u,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(UZ,{onSubmit:li,initialValues:t,onSubmitSuccess:c,onSubmitFail:u,form:ws,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const GZ=A(Tt,P,D)(VZ);class qZ extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | IMF | Import URL"}componentWillUnmount(){const{destroyForm:n}=this.props;n(ws)}render(){const{history:n}=this.props;return e.jsx(GZ,{initialValues:{metadataDocument:{}},onSuccess:s=>n.push(`/job/${s.data.jobId}`)})}}const HZ=D(qZ),JZ=()=>e.jsxs(e.Fragment,{children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(T,{control:e.jsx(d,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(T,{control:e.jsx(d,{name:"no-transcode",component:E}),label:"No Transcode"}),e.jsx(T,{control:e.jsx(d,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]});function zZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"fileId",component:m,fullWidth:!0,required:!0}),e.jsx(y,{name:"queryParams",component:JZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const BZ=v()(zZ),KZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(T,{control:e.jsx(d,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(w,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:se}),e.jsx(d,{name:"original",component:m,label:"Reset Original",fullWidth:!0}),e.jsx(d,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(d,{name:"createPosters",component:m,fullWidth:!0}),e.jsx(d,{name:"fastStartLength",component:m,fullWidth:!0}),e.jsx(d,{name:"settings",component:m,fullWidth:!0}),e.jsx(d,{name:"importTag",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Metadata",component:se})]});function YZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:KZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const XZ=v()(YZ),Us="EDIT_IMPORTIMPFILE_FORM";function QZ({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c=(p,x,j)=>{l({messageContent:"Job Started"}),n&&n(p,x,j)},u=(p,x,j)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{grandParentTitle:"Import",parentTitle:"IMF",title:"File",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Us),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"IMP File"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(BZ,{onSubmit:ci,initialValues:t,onSubmitSuccess:c,onSubmitFail:u,form:Us,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:ci,initialValues:t,form:Us,onSubmitSuccess:c,onSubmitFail:u,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(XZ,{onSubmit:ci,initialValues:t,onSubmitSuccess:c,onSubmitFail:u,form:Us,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const ZZ=A(Tt,P,D)(QZ);class eee extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | IMF | Import File"}componentWillUnmount(){const{destroyForm:n}=this.props;n(Us)}render(){const{history:n,location:s}=this.props,r=new URLSearchParams(s.search).get("fileId");return e.jsx(ZZ,{initialValues:{fileId:r,metadataDocument:{}},onSuccess:i=>n.push(`/job/${i.data.jobId}`)})}}const tee=D(eee),nee=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"path",component:m,fullWidth:!0,required:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(d,{name:"priority",component:B,children:Me.map(t=>e.jsx(g,{value:t,children:t},t))})]}),e.jsx(T,{control:e.jsx(d,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(T,{control:e.jsx(d,{name:"createOnly",component:E}),label:"Create Only"}),e.jsx(T,{control:e.jsx(d,{name:"no-transcode",component:E}),label:"No Transcode"}),e.jsx(T,{control:e.jsx(d,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(d,{name:"tag",label:"Shape Tag",component:Y,loadOptions:Pe,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(d,{name:"state",component:B,children:po.map(t=>e.jsx(g,{value:t,children:t},t))})]})]});function see({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"storageId",label:"Storage ID",component:Y,loadOptions:xt,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),e.jsx(y,{name:"queryParams",component:nee}),e.jsx("button",{type:"submit",hidden:!0})]})}const oee=v()(see),ree=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{control:e.jsx(d,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(T,{control:e.jsx(d,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(w,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:se}),e.jsx(d,{name:"original",component:m,label:"Reset Original",fullWidth:!0}),e.jsx(d,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(d,{name:"createPosters",component:m,fullWidth:!0}),e.jsx(d,{name:"fastStartLength",component:m,fullWidth:!0}),e.jsx(d,{name:"settings",component:m,fullWidth:!0}),e.jsx(d,{name:"importTag",component:m,fullWidth:!0}),e.jsx(d,{name:"notification",component:m,fullWidth:!0}),e.jsx(w,{name:"notificationData",label:"Notification Metadata",component:se})]});function iee({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:ree}),e.jsx("button",{type:"submit",hidden:!0})]})}const aee=v()(iee),Vs="EDIT_IMPORTIMPPATH_FORM";function lee({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const c=(p,x,j)=>{l({messageContent:"Job Started"}),n&&n(p,x,j)},u=(p,x,j)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{grandParentTitle:"Import",parentTitle:"IMF",title:"Path",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Vs),children:"Start"})}),e.jsxs(ut,{activeStep:a,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"IMP Path"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(oee,{onSubmit:di,initialValues:t,onSubmitSuccess:c,onSubmitFail:u,form:Vs,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Metadata"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(cn,{onSubmit:di,initialValues:t,form:Vs,onSubmitSuccess:c,onSubmitFail:u,destroyOnUnmount:!1})}),e.jsxs(ee,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Advanced"}),e.jsx(xe,{children:e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(aee,{onSubmit:di,initialValues:t,onSubmitSuccess:c,onSubmitFail:u,form:Vs,destroyOnUnmount:!1})}),e.jsx(ee,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const cee=A(Tt,P,D)(lee);class dee extends I.PureComponent{componentDidMount(){document.title="VidiCore Admin | IMF | Import Path"}componentWillUnmount(){const{destroyForm:n}=this.props;n(Vs)}render(){const{history:n}=this.props;return e.jsx(cee,{initialValues:{metadataDocument:{}},onSuccess:s=>n.push(`/job/${s.data.jobId}`)})}}const uee=D(dee),Jf="IMPORTIMP_URL_TAB",mee="IMPORTIMP_PATH_TAB",hee="IMPORTIMP_FILE_TAB",Ji=[{tab:Jf,listText:"URL",component:HZ},{tab:mee,listText:"Path",component:uee},{tab:hee,listText:"File",component:tee}],pee=({onChangeTab:t,tabValue:n})=>e.jsx(vt,{children:Ji.map(({tab:s,listText:o})=>e.jsx(Ua,{listText:o,listItemProps:{onClick:()=>t(null,s),selected:n===s||void 0}},o))});class xee extends I.PureComponent{render(){const{tabValue:n,onChangeTab:s,...o}=this.props,r=Ji.find(l=>l.tab===n)||Ji[0],{listText:i,component:a}=r;return e.jsx(Vt,{mainComponent:a,listComponent:pee,defaultOpen:!0,onChangeTab:s,tabValue:n,title:i,...o})}}const jee=an(Jf)(xee),fee=t=>e.jsx(K,{title:"Scheduled Requests",helpTo:"/ref/scheduled-requests.html",...t});function gee(t){const{queryParams:n}=t;return or.listScheduledRequest({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new _({_error:o})})}const bee=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsxs(d,{name:"state",component:B,children:[e.jsx(g,{value:"WAITING",children:"Waiting"}),e.jsx(g,{value:"SUCCESS",children:"Success"}),e.jsx(g,{value:"CONNECTION_FAILURE",children:"Connection Failure"}),e.jsx(g,{value:"BAD_REQUEST",children:"Bad Request"})]})]});function Cee({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:bee}),e.jsx("button",{type:"submit",hidden:!0})]})}const yee=v()(Cee);function See({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i}){const a=(c,u,p)=>{n&&n(c,u,p)},l=()=>{s({messageContent:"Error Listing Scheduled Requests",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx(yee,{form:i,onSubmit:gee,onSubmitSuccess:a,onSubmitFail:l,onCancel:t})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Filter"})]})]})}const Ree=A(P,D)(See),Tee=({...t})=>e.jsx(N,{children:e.jsx(U,{children:e.jsx(Ree,{...t})})});function Iee({scheduledRequestType:t={},onOpen:n,onRemove:s}){return e.jsx(e.Fragment,{children:e.jsxs(je,{hover:!0,children:[e.jsx(M,{children:t.id}),e.jsx(M,{children:t.user}),e.jsx(M,{children:t.state}),e.jsx(M,{children:t.created?Oe(t.created).toString():""}),e.jsx(M,{children:t.date?Oe(t.date).toString():""}),e.jsx(M,{children:t.executed?Oe(t.executed).toString():""}),e.jsxs(M,{disableOnClick:!0,children:[e.jsx(Q,{onClick:()=>n({scheduledRequestType:t}),children:e.jsx(ob,{})}),e.jsx(Q,{onClick:()=>s({scheduledRequestType:t}),children:e.jsx(at,{})})]})]})})}function Eee({scheduledRequestType:t,openSnackBar:n}){const{id:s,request:o={},response:r={}}=t,{contentType:i}=r,[a,l]=I.useState(),c=()=>{r.hasBody&&or.getScheduledRequestResponse({requestId:s}).then(({data:u})=>l(u)).catch(()=>{n({messageContent:"Error Loading Request Response",messageColor:"secondary"})})};return I.useEffect(c,[]),e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URI",value:o.uri,hover:!0}),e.jsx(h,{title:"Method",value:o.method,hover:!0}),e.jsx(h,{title:"Request Body",value:o.body,variant:"code",hover:!0,hideNoValue:!0}),r.statusCode&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Response Status",value:r.statusCode,hover:!0}),e.jsx(h,{title:"Response Content-Type",value:r.contentType,hover:!0}),a&&e.jsx(h,{title:"Response Body",value:i==="application/json"?JSON.stringify(a):a,variant:i,hover:!0,hideNoValue:!0})]})]})}function vee({open:t,onClose:n,scheduledRequestType:s,openSnackBar:o}){if(!s)return null;const{id:r}=s;return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Scheduled Request ${r}`}),e.jsx(X,{children:e.jsx(Eee,{scheduledRequestType:s,openSnackBar:o})}),e.jsx(W,{children:e.jsx(f,{onClick:n,color:"primary",children:"Close"})})]})}const Fee=P(vee);function Aee({open:t,onClose:n,openSnackBar:s,onSuccess:o,scheduledRequestType:r}){if(!r)return null;const{id:i}=r,a=()=>{or.removeScheduledRequest({requestId:i}).then(()=>{s({messageContent:"Scheduled Request Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing Scheduled Request",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Scheduled Request ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Pee=P(Aee),gh="SCHEDULEDREQUEST_REMOVE_DIALOG",bh="SCHEDULEDREQUEST_DETAIL_DIALOG";function Dee({scheduledRequestListDocument:t,onSuccess:n,dialogProps:s,onOpen:o}){const{scheduledRequest:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"ID"}),e.jsx(M,{children:"User"}),e.jsx(M,{children:"State"}),e.jsx(M,{children:"Created"}),e.jsx(M,{children:"Date"}),e.jsx(M,{children:"Executed"}),e.jsx(M,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(Iee,{scheduledRequestType:i,onOpen:o(bh),onRemove:o(gh)},i.id))})]}),e.jsx(Fee,{...s,dialogName:bh}),e.jsx(Pee,{...s,dialogName:gh,onSuccess:n})]})}const Mee=st(Dee),Oee=({...t})=>e.jsx(N,{children:e.jsx(U,{children:e.jsx(Mee,{...t})})});function Lee({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{or.removeAllScheduledRequest().then(()=>{s({messageContent:"All Scheduled Requests Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing All Scheduled Requests",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"Remove All Scheduled Requests"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Nee=P(Lee),Ch="SCHEDULED_FILTER_FORM",yh="SCHEDULED_REMOVEALL",_ee=D(({submitForm:t})=>{document.title="VidiCore Admin | Scheduled Requests";const n=()=>{t(Ch)},[s,o]=I.useState(),r=({data:i})=>o(i);return I.useEffect(n,[]),e.jsxs(e.Fragment,{children:[e.jsx(fee,{code:s,codeModal:"ScheduledRequestListDocument",onRefresh:n,removeModal:yh}),e.jsx(Tee,{form:Ch,onSuccess:r}),s&&e.jsx(Oee,{scheduledRequestListDocument:s,onSuccess:n}),e.jsx(Nee,{dialogName:yh,onSuccess:n})]})}),$ee=t=>{const n=Object.keys(t);if(n.length===0)return"";const s=(r,i,a)=>{if(typeof t[i]>"u")return r;const l=a>0?"&":"";return`${r}${l}${i}=${t[i]}`};return n.reduce(s,"?")},kee=t=>{const n="/APInoauth/stitch/",{queryParams:s}=t,{uri:o,...r}=s,i=o.reduce((c,u,p)=>{const x=p>0?"&":"";return`${c}${x}uri=${encodeURIComponent(u)}`},""),a=$ee(r);return`${n}${a||"?"}&${i}`},Wee=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"uri",label:"URI",component:oe,simple:!0,fullWidth:!0}),e.jsx(d,{name:"geometry",component:m,fullWidth:!0}),e.jsx(d,{name:"tile",component:m,fullWidth:!0}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"format",children:"Format"}),e.jsxs(d,{name:"format",component:B,children:[e.jsx(g,{value:"png",children:"PNG"}),e.jsx(g,{value:"jpeg",children:"JPG"})]})]}),e.jsx(d,{name:"background",component:m,fullWidth:!0})]});function wee({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:Wee}),e.jsx("button",{type:"submit",hidden:!0})]})}const Uee=v()(wee),ui="STITCH_FORM";function Vee({submitForm:t,resetForm:n,openSnackBar:s,onSuccess:o,onFail:r,url:i}){const a=(c,u,p)=>{s({messageContent:"Image Stitched"}),o&&o(c,u,p)},l=(c,u,p,x)=>{s({messageContent:"Error Stitching Image",messageColor:"secondary"}),r&&r(c,u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx(U,{children:e.jsx(Uee,{onSubmit:kee,onSubmitSuccess:a,onSubmitFail:l,form:ui})}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>n(ui),children:"Reset"}),e.jsx(f,{variant:"text",color:"primary",onClick:()=>t(ui),children:"Get"})]})]}),e.jsx(N,{children:e.jsx(U,{children:e.jsx(F,{container:!0,justifyContent:"center",children:i&&e.jsx("img",{src:i,alt:i})})})})]})}const Gee=A(q,D)(Vee);class qee extends I.PureComponent{constructor(n){super(n),this.state={url:void 0}}componentDidMount(){document.title="VidiCore Admin | Stitch"}render(){const{url:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Stitch Images",helpTo:"/ref/misc/stitching.html"}),e.jsx(Gee,{url:n,onSuccess:s=>this.setState({url:s}),onFail:()=>this.setState({url:void 0})})]})}}function Hee({lockId:t,...n}){return e.jsx(K,{helpTo:"/ref/deletion-lock.html",title:t,parentTitle:"Deletion Lock",parentTo:"/deletion-lock/",...n})}const Jee=({value:t={},showMetadataType:n=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Lock ID",value:t.id}),e.jsx(h,{title:"User",value:t.user,variant:"username"}),e.jsx(h,{title:"Expiry Time",value:t.expiryTime,variant:"timestring"}),e.jsx(h,{title:"Modified",value:t.modified,variant:"timestring"}),e.jsx(h,{title:"Entity Type",value:t.entityType,to:t.entityType?`/${t.entityType.toLowerCase()}/`:void 0,variant:"link"}),e.jsx(h,{title:"Entity ID",value:t.entityId,to:t.entityId?`/${t.entityType.toLowerCase()}/${t.entityId}/`:void 0,variant:"link"}),e.jsx(h,{title:"Effective",value:t.isEffective,variant:"boolean"}),e.jsx(h,{title:"Inherited",value:t.isInherited,variant:"boolean"}),e.jsx(h,{title:"Expired",value:t.isExpired,variant:"boolean"}),n&&e.jsx(G,{value:t.metadata,component:pa})]});function zee({deletionLockDocument:t,showMetadataType:n}){return e.jsx(e.Fragment,{children:e.jsx(G,{value:t,component:Jee,showMetadataType:n})})}function Bee({deletionLockDocument:t,lockId:n,openSnackBar:s,onRefresh:o}){const r="EDIT_DELETIONLOCK_FORM",i=()=>{s({messageContent:"Deletion Lock Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Deletion Lock",messageColor:"secondary"})};return e.jsx(_e,{formComponent:Oj,displayComponent:zee,formName:r,onSubmitSuccess:i,onSubmitFail:a,onSubmit:HW,formProps:{lockId:n},displayProps:{deletionLockDocument:t},initialValues:{deletionLockDocument:t}})}const Kee={openSnackBar:be},Yee=ae(null,Kee)(Bee);function Xee(t){return e.jsx(e.Fragment,{children:e.jsx(N,{children:e.jsx(Yee,{...t})})})}function Qee({open:t,onClose:n,openSnackBar:s,lockId:o,onSuccess:r}){const i=()=>{rs.removeDeletionLock({lockId:o}).then(()=>{const a=`Deletion Lock ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Deletion Lock",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Deletion Lock "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Zee=P(Qee),Sh="DELETIONLOCK_REMOVE_DIALOG";class ete extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.state={deletionLockDocument:void 0}}componentDidMount(){this.onRefresh();const{lockId:n}=this.props;document.title=`VidiCore Admin | Deletion Lock | ${n}`}onRefresh(){const{lockId:n}=this.props;this.onFetch(n)}onFetch(n){try{rs.getDeletionLock({lockId:n}).then(({data:s})=>this.setState({deletionLockDocument:s})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Deletion Lock",messageColor:"secondary"})}render(){const{deletionLockDocument:n}=this.state,{lockId:s,history:o,entityId:r,entityType:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(Hee,{onRefresh:this.onRefresh,code:n,codeModal:"DeletionLockDocument",lockId:s,removeModal:Sh}),n&&e.jsxs(e.Fragment,{children:[e.jsx(Xee,{deletionLockDocument:n,lockId:s,onRefresh:this.onRefresh,entityId:r,entityType:i}),e.jsx(us,{simpleMetadataDocument:n.metadata,onSuccess:this.onRefresh,entityType:"deletion-lock",entityId:s})]}),e.jsx(Zee,{dialogName:Sh,lockId:s,onSuccess:()=>o.push("/deletion-lock/")})]})}}const tte=P(ete);function nte({datasetId:t,onOpen:n}){return e.jsx(e.Fragment,{children:e.jsxs(je,{to:`/metadata-dataset/${t}/`,hover:!0,children:[e.jsx(M,{children:e.jsx(fe,{to:`/metadata-dataset/${t}/`,children:t})}),e.jsx(M,{disableOnClick:!0,children:e.jsx(Q,{onClick:()=>n({datasetId:t}),children:e.jsx(Be,{})})})]})})}function ste({open:t,onClose:n,history:s,openSnackBar:o,datasetId:r,onSuccess:i}){const a=()=>{rr.removeMetadataDataset({datasetId:r}).then(()=>{const l=`Metadata Dataset ${r} Removed`;o({messageContent:l}),s.push("/metadata-dataset/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Metadata Dataset",messageColor:"secondary"})})};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Metadata Dataset "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const zf=P(ste),Rh="REMOVE_METADATAFIELD_DIALOG";function ote({metadataDatasetListDocument:t=[],onRefresh:n,dialogProps:s,onOpen:o}){const{dataset:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Dataset Name"}),e.jsx(M,{})]})}),e.jsx(de,{children:r.map(({name:i})=>e.jsx(nte,{datasetId:i,onOpen:o(Rh)},i))})]}),e.jsx(zf,{...s,dialogName:Rh,onSuccess:n})]})}const rte=st(ote);function ite({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(rte,{...t})})})}const ate=()=>e.jsx(d,{name:"id-seed",label:"id-seed",component:m,fullWidth:!0}),lte=()=>e.jsxs(z,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"contentType",children:"Model"}),e.jsxs(d,{name:"contentType",component:B,children:[e.jsx(g,{value:"application/rdf+xml",children:"RDF"}),e.jsx(g,{value:"text/turtle",children:"TURTLE"}),e.jsx(g,{value:"application/ld+json",children:"LD+JSON"})]})]}),cte=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"datasetId",label:"name",component:wt,fullWidth:!0}),e.jsx(y,{name:"headers",component:lte}),e.jsx(y,{name:"queryParams",component:ate}),e.jsx(d,{name:"body",label:"body",component:mt,options:{theme:"material",mode:"application/ld+json",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]}),Bf=v()(cte);function Kf(t,n,s){const{body:o,headers:r}=t,i=s.datasetId||t.datasetId;return rr.updateMetadataMigration({datasetId:i,body:o,headers:{accept:r.contentType,contentType:r.contentType}}).then(a=>({body:a.data,datasetId:i})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(c,u)=>u===null?void 0:u)),new _({_error:l})})}const Th="EDIT_METADATADATASET_FORM";function dte({submitForm:t,open:n,onClose:s,openSnackBar:o,history:r}){const i=l=>{const{datasetId:c}=l,u=`Metadata Dataset ${c} Created`;o({messageContent:u}),r.push(`/metadata-dataset/${c}/`),s()},a=()=>{o({messageContent:"Error Creating Metadata Dataset",messageColor:"secondary"})};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Metadata Dataset"}),e.jsx(X,{children:e.jsx(Bf,{form:Th,onSubmit:Kf,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Th),children:"Save"})]})]})}const ute=A(P,D)(dte);function mte(t){return e.jsx(K,{title:"Metadata Dataset",helpTo:"/ref/metadata/dataset-ref.html",...t})}const Ih="METADATADATASETLIST_CREATE_MODAL";class hte extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={metadataDatasetListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Metadata Dataset"}onRefresh(){const{openSnackBar:n}=this.props;try{rr.listMetadataDataset().then(s=>this.setState({metadataDatasetListDocument:s.data}))}catch{n({messageContent:"Error Loading Metadata Dataset List",messageColor:"secondary"})}}render(){const{metadataDatasetListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(mte,{createModal:Ih,onRefresh:this.onRefresh,code:n,codeModal:"MetadataDatasetListDocument"}),n&&e.jsx(ite,{metadataDatasetListDocument:n,onRefresh:this.onRefresh}),e.jsx(ute,{dialogName:Ih})]})}}const pte=q(hte);function xte(t){return e.jsx(K,{parentTitle:"Metadata Dataset",parentTo:"/metadata-dataset/",title:t.datasetId,helpTo:"/ref/metadata/dataset-ref.html",entityId:t.datasetId,entityType:"metadata-dataset",...t})}function jte({value:t}){return e.jsx(h,{title:"body",value:t,variant:"application/ld+json"})}const fte="EDIT_METADATADATASET_FORM";function gte({body:t,datasetId:n,openSnackBar:s,onRefresh:o}){const r=()=>{s({messageContent:"Metadata Dataset Saved"}),o&&o()},i=()=>{s({messageContent:"Error Updating Metadata Dataset",messageColor:"secondary"})},a={datasetId:n},l={value:t},c={datasetId:n,body:t,headers:{contentType:"application/ld+json"}};return e.jsx(_e,{formComponent:Bf,displayComponent:jte,formName:fte,onSubmitSuccess:r,onSubmitFail:i,onSubmit:Kf,formProps:a,displayProps:l,initialValues:c})}const bte=P(gte);function Cte(t){return e.jsx(e.Fragment,{children:e.jsx(N,{children:e.jsx(bte,{...t})})})}const Eh="METADATADATASET_REMOVE_MODAL";class yte extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={body:void 0}}componentDidMount(){const{datasetId:n}=this.props;document.title=`VidiCore Admin | Metadata Dataset | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,datasetId:s}=this.props;try{rr.getMetadataDataset({datasetId:s,headers:{accept:"application/ld+json"}}).then(o=>this.setState({body:o.request.responseText}))}catch{n({messageContent:"Error Getting Metadata Dataset",messageColor:"secondary"})}}render(){const{datasetId:n}=this.props,{body:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(xte,{removeModal:Eh,onRefresh:this.onRefresh,datasetId:n,code:s?JSON.parse(s):void 0,codeModal:"body"}),s&&e.jsx(Cte,{body:s,datasetId:n,onRefresh:this.onRefresh}),e.jsx(zf,{dialogName:Eh,datasetId:n})]})}}const Ste=q(yte),Rte=()=>({logo:{text:"100%",textAlign:"center"}});function Tte({classes:t}){return e.jsx(b,{className:t.text,children:"Page does not exist"})}const Ite=Ce(Rte)(Tte);function Ete({jobProblemType:t}){const[n]=t.job,s=n?`/job/${t.job}/`:void 0;return e.jsxs(Ge,{to:s,hover:!0,children:[e.jsx(M,{children:t.job}),e.jsx(M,{children:t.type}),e.jsx(M,{children:t.id}),e.jsx(M,{children:t.data?JSON.stringify(t.data):null})]})}function vte({jobProblemListDocument:t}){const{problem:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(je,{children:[e.jsx(M,{children:"Job"}),e.jsx(M,{children:"Type"}),e.jsx(M,{children:"ID"}),e.jsx(M,{children:"Data"})]})}),e.jsx(de,{children:n.map(s=>e.jsx(Ete,{jobProblemType:s},s.id))})]})}function Fte({...t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(vte,{...t})})})}class Ate extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={jobProblemListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Problems"}onRefresh(){const{openSnackBar:n}=this.props;try{qt.listJob({path:"/API/job/problem"}).then(s=>this.setState({jobProblemListDocument:s.data}))}catch{n({messageContent:"Error Loading Job Problems",messageColor:"secondary"})}}render(){const{jobProblemListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Job Problems",helpTo:"/ref/job.html",onRefresh:this.onRefresh,code:n,codeModal:"JobProblemListDocument"}),n&&e.jsx(Fte,{jobProblemListDocument:n})]})}}const Pte=q(Ate);function Dte({metadata:t,componentId:n,itemId:s,shapeId:o,onRefresh:r,...i}){const a=s!==void 0||o!==void 0||n!==void 0?`${s}/shape/${o}/component/${n}`:void 0;return e.jsx($n,{simpleMetadataDocument:{field:t},titleProps:{variant:"subtitle2"},onSuccess:r,entityType:"item",entityId:a,...i})}function Mte({componentDocument:t,itemId:n,shapeId:s,componentId:o,onRefresh:r}){if(t===void 0)return null;const{metadata:i,file:a}=t;return e.jsx(N,{children:e.jsxs(U,{children:[e.jsx(nj,{title:"Files",value:a}),e.jsx(Dte,{title:"Metadata",metadata:i,onRefresh:r,itemId:n,shapeId:s,componentId:o})]})})}function Ote(t){const{componentDocument:n}=t;return n===void 0?null:e.jsx(zt,{children:e.jsx(Mte,{...t})})}class Lte extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={componentDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s,componentId:o}){const{componentId:r}=this.props;r!==o&&(this.onFetch(s,n,o),document.title=`VidiCore Admin | Component | ${o}`)}onRefresh(){const{itemId:n,shapeId:s,componentId:o}=this.props;this.onFetch(n,s,o)}onFetch(n,s,o){try{kt.getComponent({itemId:n,shapeId:s,componentId:o,queryParams:{full:!0}}).then(r=>this.setState({componentDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Component",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({componentDocument:s})}render(){const{titleComponent:n,tabComponent:s,shapeId:o,itemId:r,componentId:i}=this.props,{componentDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"ComponentDocument",onRefresh:this.onRefresh,breadcrumbList:["Overview"]}),s&&e.jsx(s,{}),a&&e.jsx(e.Fragment,{children:e.jsx(Ote,{componentDocument:a,shapeId:o,itemId:r,componentId:i,onRefresh:this.onRefresh})})]})}}const Nte=q(Lte),vh="BULKYMETADATA_COMPONENT_DOWNLOAD_DIALOG";class _te extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s,componentId:o,bulkyMetadataKey:r}){const{componentId:i,bulkyMetadataKey:a}=this.props;(i!==o||a!==r)&&(this.onFetch(s,n,o,r),document.title=`VidiCore Admin | Component | ${o}`)}onRefresh(){const{itemId:n,shapeId:s,componentId:o,bulkyMetadataKey:r}=this.props;this.onFetch(n,s,o,r)}onFetch(n,s,o,r){try{sn.getComponentBulkyMetadata({itemId:n,shapeId:s,componentId:o,key:r}).then(i=>this.setState({bulkyMetadataDocument:i.data})).catch(i=>this.onRefreshError(i))}catch(i){this.onRefreshError(i)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,bulkyMetadataKey:o,itemId:r,shapeId:i,componentId:a}=this.props,{bulkyMetadataDocument:l}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:l,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:qe("/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/",{itemId:r,shapeId:i,componentId:a})},o],downloadModal:vh}),s&&e.jsx(s,{}),l&&e.jsx(va,{bulkyMetadataDocument:l}),e.jsx(Aa,{dialogName:vh,itemId:r,shapeId:i,componentId:a,bulkyMetadataKey:o})]})}}const $te=A(et,q)(_te);class kte extends I.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({componentId:n,shapeId:s,itemId:o}){const{componentId:r}=this.props;r!==n&&(this.onFetch(o,s,n),document.title=`VidiCore Admin | Component | ${n}`)}onRefresh(){const{itemId:n,shapeId:s,componentId:o}=this.props;this.onFetch(n,s,o)}onFetch(n,s,o){try{sn.listComponentBulkyMetadata({itemId:n,shapeId:s,componentId:o}).then(r=>this.setState({uriListDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Component",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,itemId:o,shapeId:r,componentId:i}=this.props,{uriListDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"URIListDocument",onRefresh:this.onRefresh,breadcrumbList:["Bulky Metadata"]}),s&&e.jsx(s,{}),a&&e.jsx(Et,{uriListDocument:a,linkTo:l=>`/item/${o}/shape/${r}/component/${i}/bulky-metadata/${l}/`})]})}}const Wte=q(kte);function wte({title:t,itemId:n,shapeId:s,componentId:o,breadcrumbList:r=[],...i}){return e.jsx(K,{breadcrumbList:Array.isArray(r)?[{title:"Item",to:He.itemList()},{title:n,to:He.item({itemId:n})},{title:"Shape",to:He.shapeList({itemId:n})},{title:s,to:He.shape({itemId:n,shapeId:s})},{title:"Component",to:He.componentList({itemId:n,shapeId:s})},{title:o,to:He.component({itemId:n,shapeId:s,componentId:o})},...r]:void 0,...i})}const Ute=tt(wte),Yf=[{listText:"Overview",component:Nte,path:"/item/:itemId/shape/:shapeId/component/:componentId/",exact:!0},{listText:"Bulky Metadata",component:Wte,path:"/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/"}],Vte=({itemId:t,shapeId:n,componentId:s})=>e.jsx(vt,{children:Yf.map(({path:o,listText:r,exact:i})=>e.jsx(Cn,{secondary:r,to:qe(o,{itemId:t,shapeId:n,componentId:s}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:i},o))}),Gte=t=>e.jsxs(Jt,{children:[e.jsx(H,{exact:!0,path:"/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/:bulkyMetadataKey",render:()=>e.jsx($te,{...t,title:"Bulky Metadata"}),...t}),Yf.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(H,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))]});class qte extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{componentId:n}=this.props;document.title=`VidiCore Admin | Component | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{itemId:n,shapeId:s,componentId:o}=this.props,r=i=>e.jsx(Ute,{onRefresh:this.onRefresh,shapeId:s,itemId:n,componentId:o,...i});return e.jsx(e.Fragment,{children:e.jsx(Vt,{shapeId:s,itemId:n,componentId:o,mainComponent:Gte,listComponent:Vte,defaultOpen:!0,titleComponent:r,setOnRefresh:this.setOnRefresh})})}}const Hte=A(et)(qte);function Jte({analyzePresetListDocument:t={}}){const{preset:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(me,{children:e.jsxs(ge,{children:[e.jsx(O,{children:"Preset Name"}),e.jsx(O,{})]})}),e.jsx(de,{children:n.map(({name:s})=>e.jsxs(Ge,{hover:!0,to:`/analyze-preset/${s}/`,children:[e.jsx(O,{children:s}),e.jsx(O,{})]},s))})]})}function zte({analyzePresetListDocument:t}){return e.jsx(N,{children:e.jsx(U,{children:e.jsx(Jte,{analyzePresetListDocument:t})})})}const Bte=Ye(t=>{const{queryParams:n}=t;return ir.listAnalyzePreset({queryParams:n})}),Xf=Ye((t,n,s)=>{const{analyzePresetDocument:o}=t,r=s.preset||t.preset||o.name;return ir.getAnalyzePreset({preset:r,body:o,method:"PUT"})}),Kte=()=>e.jsx(T,{control:e.jsx(d,{name:"includeDocument",component:E}),label:"Include Document"});function Yte({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"queryParams",component:Kte}),e.jsx("button",{type:"submit",hidden:!0})]})}const Xte=v()(Yte),zi="ANALYSEPRESETLISTPARAMS_FORM";function Qte({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i=zi}){const a=(c,u,p)=>{n&&n(c,u,p)},l=()=>{s({messageContent:"Error Listing Analyze Presets",messageColor:"secondary"})};return e.jsxs(ye,{children:[e.jsx(Se,{children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Query Params"})}),e.jsx(Ae,{children:e.jsx(Xte,{form:i,onSubmit:Bte,onSubmitSuccess:a,onSubmitFail:l,onCancel:t,initialValues:{queryParams:{includeDocument:!1}}})}),e.jsx(V,{}),e.jsxs(ee,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const Zte=A(P,D)(Qte),ene=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"key",label:"key",component:m,fullWidth:!0}),e.jsx(d,{name:"value",label:"value",component:mt,fullWidth:!0})]}),tne=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"name",label:"name",component:wt,fullWidth:!0}),e.jsx(w,{name:"data",label:"data",component:ene})]}),nne=({error:t,handleSubmit:n})=>e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(y,{name:"analyzePresetDocument",component:tne}),e.jsx("button",{type:"submit",hidden:!0})]}),Qf=v()(nne);function sne({open:t,onClose:n,openSnackBar:s,onSuccess:o,onFail:r}){const i=l=>{const{preset:c}=l,u=`Analyze Preset ${c} Created`;s({messageContent:u}),n(),o&&o(l)},a=l=>{s({messageContent:"Error Creating Analyze Preset",messageColor:"secondary"}),r&&r(l)};return e.jsxs(k,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:"New Analyze Preset"}),e.jsx(ve,{children:e.jsx(lt,{FormComponent:Qf,documentName:"analyzePresetDocument",onSubmit:Xf,onSubmitSuccess:i,onSubmitFail:a,onCancel:n})})]})}const one=P(sne),Fh="ANALYZEPRESET_CREATE_MODAL";class rne extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={analyzePresetListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Analyze Presets",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(zi)}onSuccess(n){const{data:s}=n;this.setState({analyzePresetListDocument:s})}render(){const{history:n}=this.props,{analyzePresetListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Analyze Preset",helpTo:"/ref/analyze-preset.html",onRefresh:this.onRefresh,code:s,codeModal:"AnalyzePresetListDocument",createModal:Fh}),e.jsx(Zte,{form:zi,onSuccess:this.onSuccess}),s&&e.jsx(zte,{analyzePresetListDocument:s}),e.jsx(one,{dialogName:Fh,onSuccess:({data:o})=>n.push(`/analyze-preset/${o.name}`)})]})}}const ine=A(D,q)(rne),ane=t=>{switch(t){case"batonTestPlan":return"application/xml";default:return}},lne=({value:t={}})=>e.jsx(e.Fragment,{children:e.jsx(h,{title:t.key,value:t.value,variant:ane(t.key)})}),cne=({value:t={}})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(te,{arrayTitle:"Data",value:t.data,component:lne})]});function dne({analyzePresetDocument:t}){return e.jsx(e.Fragment,{children:e.jsx(G,{component:cne,value:t})})}const une="EDIT_ANALYZEPRESET_FORM";function mne({analyzePresetDocument:t,preset:n,openSnackBar:s,onSuccess:o,onFail:r}){const i=()=>{s({messageContent:"Analyze Preset Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Analyze Preset",messageColor:"secondary"}),r&&r()};return e.jsx(_e,{formName:une,onSubmitSuccess:i,onSubmitFail:a,onSubmit:Xf,formProps:{preset:n},displayProps:{analyzePresetDocument:t},initialValues:{analyzePresetDocument:t},displayComponent:dne,formComponent:Qf})}const hne=P(mne);function pne(t){return e.jsx(N,{children:e.jsx(hne,{...t})})}function xne({preset:t,open:n,onClose:s,openSnackBar:o,onSuccess:r}){const i=()=>{ir.getAnalyzePreset({preset:t,method:"DELETE"}).then(()=>{const a=`Analyze Preset ${t} Removed`;o({messageContent:a}),s(),r&&r({preset:t})}).catch(()=>{o({messageContent:"Error Removing Analyze Preset",messageColor:"secondary"})})};return e.jsxs(k,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx($,{children:`Remove Analyze Preset "${t}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:s,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const jne=P(xne),Ah="ANALYZEPRESET_REMOVE_MODAL";class fne extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={analyzePresetDocument:void 0}}componentDidMount(){const{preset:n}=this.props;document.title=`VidiCore Admin | Analyze Preset | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,preset:s}=this.props;try{ir.getAnalyzePreset({preset:s}).then(o=>this.setState({analyzePresetDocument:o.data}))}catch{n({messageContent:"Error Getting Analyze Preset",messageColor:"secondary"})}}render(){const{preset:n,history:s}=this.props,{analyzePresetDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:n,parentTitle:"Analyze Preset",parentTo:"/analyze-preset/",helpTo:"/ref/analyze-preset.html",onRefresh:this.onRefresh,code:o,codeModal:"AnalyzePresetDocument",removeModal:Ah}),o&&e.jsx(pne,{preset:n,analyzePresetDocument:o,onRefresh:this.onRefresh}),e.jsx(jne,{dialogName:Ah,preset:n,onSuccess:()=>s.push("/analyze-preset/")})]})}}const gne=q(fne);const bne=[{name:"24.1.1",url:"https://vidispine.github.io/vidicore-openapi-generator/24.1.1/VidiCore%20-%2024.1.1.openapi.json"}],Cne=ea(t=>({Swagger:{'& *[class^="opblock"]':{color:`${t.palette.text.primary} !important`},"& .opblock-title":{color:"#3b4151 !important"},"& .parameter__in":{color:`${t.palette.text.primary}`},'& *[class^="parameter"]':{color:`${t.palette.text.secondary}`},'& *[class^="opblock"] p':{color:`${t.palette.text.primary} !important`},'& *[class^="opblock"] li':{color:`${t.palette.text.primary} !important`},'& *[class^="opblock"] td':{color:`${t.palette.text.secondary} !important`},'& *[class^="opblock"] h4':{color:`${t.palette.text.primary} !important`},'& *[class^="opblock"] h5':{color:`${t.palette.text.secondary} !important`},"& .authorization__btn":{display:"none"},"& .copy-to-clipboard":{display:"none"},"& .opblock .opblock-section-header h4 ":{color:`${t.palette.text.secondary} !important`},"& .opblock-section-header":{backgroundColor:`${t.palette.action.hover} !important`}},Filter:{"& .filter-container input":{borderRadius:t.shape.borderRadius,fontFamily:t.typography.fontFamily,backgroundColor:t.palette.background.paper,color:t.palette.text.primary},"& .filter":{padding:0}},Operations:{}})),yne=({getComponent:t})=>{const n=t("operations",!0),s=t("FilterContainer",!0),o=Cne();return e.jsxs("div",{className:Lt(["swagger-ui",o.Swagger]),children:[e.jsx("div",{className:o.Filter,children:e.jsx(s,{})}),e.jsx("div",{className:o.Operations,children:e.jsx(n,{})})]})},Sne=()=>({components:{SwaggerLayout:yne}}),Rne=t=>{const{baseURL:n}=$e.defaultClient.defaults,s={...t.getState().toJSON().spec.json};return s.servers=[{url:n}],t.specActions.updateJsonSpec(s)},Tne=t=>{if(t.loadSpec)return t;const{Authorization:n,RunAs:s}=$e.defaultClient.defaults.headers;return t.headers.Authorization=n,s&&(t.headers.RunAs=s),t},Ine=()=>e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Swagger",linkTo:"https://swagger.io/docs/specification/about/"}),e.jsx(N,{children:e.jsx(U,{children:e.jsx(rb,{url:bne[0].url,docExpansion:!1,filter:!0,tryItOutEnabled:!0,plugins:[Sne],layout:"SwaggerLayout",onComplete:Rne,requestInterceptor:Tne})})})]}),Ene=({palette:t})=>({barColorPrimary:{backgroundColor:{light:"rgb(3, 102, 214)",dark:"rgb(88, 166, 255)"}[t.type]},colorPrimary:{backgroundColor:"#005d9f"}});class vne extends I.PureComponent{constructor(n){super(n),this.onShow=this.onShow.bind(this),this.onHide=this.onHide.bind(this),this.onDelayHide=this.onDelayHide.bind(this),this.onClear=this.onClear.bind(this),this.requestInterceptor=$e.defaultClient.interceptors.request.use(s=>(this.onShow(),s)),this.responseInterceptor=$e.defaultClient.interceptors.response.use(s=>(this.onDelayHide(),s),s=>(this.onDelayHide(),Promise.reject(s))),this.state={isLoading:!1}}componentWillUnmount(){$e.defaultClient.interceptors.request.eject(this.requestInterceptor),$e.defaultClient.interceptors.response.eject(this.responseInterceptor),this.onClear()}onShow(){this.onClear(),this.setState({isLoading:!0})}onHide(){this.setState({isLoading:!1}),this.onClear()}onDelayHide(){this.timer=setInterval(()=>this.onHide(),1e3)}onClear(){clearInterval(this.timer),this.timer=void 0}render(){const{isLoading:n}=this.state,{classes:s}=this.props;return e.jsx("div",{children:e.jsx(sp,{variant:n?"indeterminate":"determinate",color:"primary",classes:{colorPrimary:s.colorPrimary,barColorPrimary:s.barColorPrimary},value:100})})}}const Fne=Ce(Ene)(vne);function Ane(t,n){const[s,o]=t.length>n.length?[t,n]:[n,t],r=Math.floor(s.length/2)-1,i=[],a=[];for(let x=0;x<o.length;x++){const j=o[x],C=Math.max(0,x-r),S=Math.min(x+r+1,s.length);for(let L=C;L<S;L++)if(a[L]===void 0&&j===s[L]){i[x]=a[L]=j;break}}const l=i.join(""),c=a.join(""),u=l.length;let p=0;for(let x=0;x<l.length;x++)l[x]!==c[x]&&(p+=1);return u>0?(u/o.length+u/s.length+(u-Math.floor(p/2))/u)/3:0}function Pne(t,n,s=.2){const o=Ane(t,n);let r=0;for(let i=0;i<t.length&&t[i]===n[i];i++)r+=1;return o+Math.min(r,4)*s*(1-o)}function Dne(t,n){const{synonyms:s=[]}=n;let o=null;return s.every(r=>{const i=Pne(r.trim().toLowerCase(),t.trim().toLowerCase());return!((o===null||i>o.similarity)&&(o={similarity:i,value:r},i===1))}),{score:o.similarity,closestSynonym:o.value,option:n}}function Mne(t,n,s=0){return n.map(r=>Dne(t,r)).filter(({score:r})=>r>=s).sort((r,i)=>i.score-r.score)}const One=[{value:t=>`/item/${t}`,label:"Item",synonyms:["item"],siteId:!0},{value:t=>`/collection/${t}`,label:"Collection",synonyms:["collection"],siteId:!0},{value:t=>`/storage/${t}`,label:"Storage",synonyms:["storage"],siteId:!0},{value:t=>`/file/${t}`,label:"File",synonyms:["file"],siteId:!0},{value:t=>`/user/${t}`,label:"User",synonyms:["user"],siteId:!1},{value:t=>`/group/${t}`,label:"Group",synonyms:["group"],siteId:!1},{value:t=>`/metadata-field/${t}`,label:"Metadata Field",synonyms:["metadata","field","md"],siteId:!1},{value:t=>`/field-group/${t}`,label:"Field Group",synonyms:["fieldgroup","fg"],siteId:!1},{value:t=>`/job/${t}`,label:"Job",synonyms:["job"],siteId:!0}],Lne=[{value:"/new-job/",label:"New Job"},{value:"/job",label:"Job List"},{value:"/job/problem",label:"Job Problems"},{value:"/jobtype/",label:"Job Types"},{value:"/search/",label:"Search Items & Collections"},{value:He.itemList(),label:"Search Items"},{value:"/collection/",label:"Search Collections"},{value:"/shape/",label:"Search Shapes"},{value:"/item/metadata-group/",label:"Search Item By Metadata Group"},{value:"/library/",label:"Search Libraries"},{value:"/library/",label:"Search Libraries"},{value:"/storage/",label:"Storages"},{value:"/file/",label:"Files"},{value:"/search/file/",label:"Search Files"},{value:"/storage-rule/",label:"Storage Rules"},{value:"/import/?tab=IMPORTPLACEHOLDER_TAB",label:"Create Item"},{value:"/import/?tab=IMPORTCOLLECTION_TAB",label:"Create Collection"},{value:"/import/?tab=IMPORTSHAPEPLACEHOLDER_TAB",label:"Create Shape"},{value:"/import/?tab=IMPORTFILE_TAB",label:"Import File"},{value:"/import/?tab=IMPORTRAW_TAB",label:"Upload"},{value:"/import/?tab=IMPORTURI_TAB",label:"Import URIs"},{value:"/import/?tab=IMPORTSHAPE_TAB",label:"Import Shape"},{value:"/import/?tab=IMPORTCOMPONENT_TAB",label:"Import Component"},{value:"/import-imp/?tab=IMPORTIMP_URL_TAB",label:"Import IMP URL"},{value:"/import-imp/?tab=IMPORTIMP_PATH_TAB",label:"Import IMP Path"},{value:"/import-imp/?tab=IMPORTIMP_FILE_TAB",label:"Import IMP File"},{value:"/vxa/",label:"VSA Server Agents"},{value:"/resource/transcoder/",label:"Transcoders"},{value:"/resource/thumbnail/",label:"Thumbnail Paths"},{value:"/resource/vidinet/",label:"Vidinet"},{value:"/export-location",label:"Export Locations"},{value:"/user/",label:"Users"},{value:"/group/",label:"Groups"},{value:"/metadata-field/",label:"Metadata Fields"},{value:"/metadata-dataset/",label:"Metadata Datasets"},{value:"/field-group/",label:"Metadata Field Groups"},{value:"/debug/echo/",label:"XML Echo"},{value:"/javascript/test/",label:"Javascript Test"},{value:"/wizard/",label:"Wizard"},{value:"/shape-tag/",label:"Shape Tags"},{value:"/version/",label:"Version"},{value:"/selftest/",label:"Self Test"},{value:"/log",label:"Audit Log"},{value:"/error/",label:"Error Log"},{value:"/reindex/",label:"Re-Index"},{value:"/service/",label:"Services"},{value:"/configuration/properties/",label:"Configuration Properties"},{value:"/configuration/job-pool/",label:"Job Pools"},{value:"/configuration/path-alias/",label:"Path Alias"},{value:"/external-id/",label:"External Identifiers"},{value:"/document/",label:"Document"},{value:"/conform/",label:"Conform"},{value:"/projection/",label:"Projection"},{value:"/notification/",label:"Notification"},{value:"/notification/item/",label:"Item Notification"},{value:"/notification/collection/",label:"Collection Notification"},{value:"/notification/job/",label:"Job Notification"},{value:"/notification/storage/",label:"Storage Notification"},{value:"/notification/file/",label:"File Notification"},{value:"/notification/quota/",label:"Quota Notification"},{value:"/notification/group/",label:"Group Notification"},{value:"/notification/document/",label:"Document Notification"},{value:"/import/settings/",label:"Import Settings"},{value:"/task-group/",label:"Task Groups"},{value:"/quota/",label:"Quota"},{value:"/storage-group/",label:"Storage Groups"},{value:"/auto-import/",label:"Auto Import Rules"},{value:"/service/stacktrace/",label:"Stack Trace"},{value:"/transfer/",label:"Import Transfers"},{value:"/configuration/",label:"Configuration"},{value:"/configuration/ftp-pool/",label:"FTP Pool"},{value:"/scheduled-request/",label:"Scheduled Requests"},{value:"/stitch/",label:"Stitch"},{value:"/deletion-lock/",label:"Deletion Locks"},{value:"/analyze-preset/",label:"Analyze Presets"},{value:"/swagger/",label:"Swagger"}],Nne=ea({Option:{"&:hover $ValueIcon":{visibility:"visible"}},ValueWrapper:{display:"flex",width:"100%",justifyContent:"space-between","&:hover $ValueIcon":{visibility:"visible"}},ValueLink:{textDecoration:"none",color:"inherit",flexGrow:1},ValueIcon:{color:"inherit",visibility:"hidden"}}),_ne=t=>{var l;const n=Nne(),{value:s,__isNew__:o,label:r}=t.data||{},{fuzzyRef:i}=t.selectProps;let a=s;if(o===!0&&((l=i==null?void 0:i.current)!=null&&l.value)){const{entityId:c,value:u}=i.current;typeof u=="function"?a=u(c):a=u}return a?e.jsx(Ba.Option,{...t,className:n.Option,children:e.jsxs("div",{className:n.ValueWrapper,children:[e.jsx(Pt,{className:n.ValueLink,to:a,children:r}),e.jsx(Ee,{title:"Open in new tab",children:e.jsx(Pt,{className:n.ValueIcon,to:a,target:"_blank",rel:"noopener",children:e.jsx(ib,{fontSize:"small"})})})]})}):Ba.Option(t)};function Zf({onChange:t,...n}){const s=wh(),o=I.useRef(),r=I.useCallback(c=>{var u;try{const p=Mne(c,One,.5),x=(u=p==null?void 0:p[0])==null?void 0:u.option;return x?(o.current=x,!0):(o.current=void 0,!1)}catch{return!1}},[]),i=I.useCallback(c=>{var p;const u=(p=o==null?void 0:o.current)==null?void 0:p.label;if(u){let[,...x]=c.split(" ");if(x=x.join(" "),x)return o.current.siteId&&(x=x.toUpperCase(),/^\d/.test(x)&&(x=`VX-${x}`)),o.current.entityId=x,`Go to ${u} ${x}`}return"Keep typing...."},[]),a=I.useCallback(()=>{var c,u;if((c=o==null?void 0:o.current)!=null&&c.entityId&&((u=o==null?void 0:o.current)!=null&&u.value)){const{entityId:p,value:x}=o.current;typeof x=="function"?s.push(x(p)):s.push(x)}o.current=void 0},[]),l=I.useCallback(c=>{t&&t(c),s.push(c.value)},[s,t]);return e.jsx(cT,{value:"",options:Lne,label:"Search for endpoint...",formatCreateLabel:i,isValidNewOption:r,components:{Option:_ne},fuzzyRef:o,onChange:l,onCreateOption:a,...n})}function $ne(t){return e.jsx(ra,{...t,children:e.jsx("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})})}const eg=I.forwardRef((t,n)=>e.jsx(Q,{color:"inherit",href:"https://github.com/vidispine/admin-tool",target:"_blank",rel:"noopener noreferrer",disableRipple:!0,ref:n,children:e.jsx($ne,{})}));function kne(t){return e.jsxs(ra,{...t,viewBox:"0 0 76.64 76.21",children:[e.jsx("defs",{children:e.jsx("style",{children:".cls-1{fill:#7c74bd;}.cls-2{fill:#6dc3c5;}.cls-3{fill:#0068a9;}.cls-4{fill:#44a8aa;fill-rule:evenodd;}"})}),e.jsx("title",{children:"Vidispine-icon-RGB"}),e.jsx("g",{id:"Layer_2","data-name":"Layer 2",children:e.jsxs("g",{id:"Layer_1-2","data-name":"Layer 1-2",children:[e.jsx("rect",{className:"cls-1",width:"21.3",height:"21.35"}),e.jsx("rect",{className:"cls-2",x:"55.27",y:"0.01",width:"21.36",height:"21.35"}),e.jsx("rect",{className:"cls-3",y:"27.19",width:"21.3",height:"21.35"}),e.jsx("path",{className:"cls-4",d:"M55.27,48.54A21.36,21.36,0,0,0,76.64,27.19H55.27Z"}),e.jsx("rect",{className:"cls-3",y:"54.86",width:"21.3",height:"21.35"}),e.jsx("path",{className:"cls-4",d:"M27.61,76.21A21.35,21.35,0,0,0,49,54.86H27.61Z"})]})})]})}const Wne=I.forwardRef(({IconButtonProps:t={},IconProps:n={}},s)=>e.jsx(Q,{color:"inherit",href:"https://vidispine.com",target:"_blank",rel:"noopener noreferrer",disableRipple:!0,ref:s,...t,children:e.jsx(kne,{...n})})),wne=t=>({root:{backgroundColor:{light:"rgb(36, 41, 46)",dark:"rgb(22, 27, 34)"}[t.palette.type],color:{light:"rgb(255, 255, 255)",dark:"rgb(240, 246, 252)"}[t.palette.type],zIndex:t.zIndex.drawer+1},VidispineIcon:{width:15,height:15},VidispineButton:{width:24,height:24,backgroundColor:{light:"rgb(255, 255, 255)",dark:"rgb(240, 246, 252)"}[t.palette.type],padding:2,borderRadius:20}});function Une({toggleMainMenu:t,toggleHistory:n,classes:s,onLogout:o,userName:r,baseUrl:i}){const a=aT(),[l,c]=I.useState(yp("paletteType")||"system"),p=Gh("(prefers-color-scheme: dark)")?"dark":"light",x=j=>{j!==null&&(c(j),j==="system"?(document.cookie="paletteType=;path=/;max-age=31536000",a({paletteType:p})):(document.cookie=`paletteType=${j};path=/;max-age=31536000`,a({paletteType:j})))};return e.jsxs(ar,{elevation:0,classes:{root:s.root},position:"fixed",children:[e.jsxs(lr,{disableGutters:!0,variant:"dense",children:[e.jsx(Q,{onClick:t,color:"inherit",children:e.jsx(ab,{})}),e.jsx(Q,{onClick:n,color:"inherit",children:e.jsx(lb,{})}),e.jsx(b,{variant:"subtitle2",color:"inherit",children:i}),e.jsx(cb,{xsDown:!0,children:e.jsx("div",{style:{flex:1,justifyContent:"center",alignItems:"center",display:"flex"},children:e.jsx("div",{style:{maxWidth:540,width:"100%"},children:e.jsx(Zf,{variant:"outlined"})})})}),{light:e.jsx(Ee,{title:"Light Theme",children:e.jsx(Q,{onClick:()=>x("dark"),color:"inherit",children:e.jsx(db,{})})}),dark:e.jsx(Ee,{title:"Dark Theme",children:e.jsx(Q,{onClick:()=>x("system"),color:"inherit",children:e.jsx(ub,{})})}),system:e.jsx(Ee,{title:"Auto Theme",children:e.jsx(Q,{onClick:()=>x("light"),color:"inherit",children:e.jsx(mb,{})})})}[l],e.jsx(Ee,{title:"GitHub",children:e.jsx(eg,{})}),e.jsx(Ee,{title:"Vidispine",children:e.jsx(Wne,{IconProps:{className:s.VidispineIcon},IconButtonProps:{className:s.VidispineButton}})}),e.jsxs(pt,{icon:e.jsx(hb,{}),iconProps:{color:"inherit"},children:[e.jsx(g,{disabled:!0,children:e.jsx(b,{children:`User: ${r}`})}),e.jsx(fe,{to:`/user/${r}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Profile"})})}),e.jsx(fe,{to:`/import/access/${r}`,children:e.jsx(g,{children:e.jsx(b,{color:"inherit",children:"Import Access"})})}),e.jsx(g,{onClick:o,children:e.jsx(b,{color:"error",children:"Sign out"})})]})]}),e.jsx(Fne,{})]})}const Vne=Ce(wne)(Une),Gne=t=>({appBar:{position:"relative",backgroundColor:t.palette.background.default},dialogRoot:{justifyContent:"flex-start"},scrollPaper:{width:"85%",backgroundColor:t.palette.background.default}}),qne=I.forwardRef((t,n)=>e.jsx(pb,{direction:"down",ref:n,...t}));function Hne({classes:t,open:n,onClose:s}){const o=({to:a,primary:l})=>e.jsx(tr,{button:!0,to:a,component:Pt,onClick:s,children:e.jsx(na,{secondary:l})}),r=({subheader:a,children:l})=>e.jsx(vt,{component:"nav",subheader:e.jsx(xb,{disableSticky:!0,children:a}),children:l}),i={lg:2,md:3,sm:6,xs:12};return e.jsxs(k,{fullScreen:!0,open:n,onClose:s,TransitionComponent:qne,classes:{root:t.dialogRoot,scrollPaper:t.scrollPaper},children:[e.jsx(ar,{elevation:0,className:t.appBar,children:e.jsx(lr,{disableGutters:!0,variant:"dense",children:e.jsxs(F,{container:!0,alignItems:"flex-start",children:[e.jsx(F,{item:!0,children:e.jsx(Q,{onClick:s,children:e.jsx(ia,{})})}),e.jsx(F,{item:!0,xs:8,children:e.jsx(Zf,{onChange:s})})]})})}),e.jsx(X,{children:e.jsxs(F,{container:!0,alignItems:"flex-start",children:[e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Workflow",children:[e.jsx(o,{to:"/new-job/",primary:"New Job"}),e.jsx(o,{to:"/job",primary:"Job List"}),e.jsx(o,{to:"/job/problem/",primary:"Job Problems"}),e.jsx(o,{to:"/jobtype/",primary:"Job Types"}),e.jsx(o,{to:"/task-group/",primary:"Task Groups"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Search",children:[e.jsx(o,{to:"/search/",primary:"Items & Collections"}),e.jsx(o,{to:He.itemList(),primary:"Items"}),e.jsx(o,{to:"/collection/",primary:"Collections"}),e.jsx(o,{to:"/shape/",primary:"Shapes"}),e.jsx(o,{to:"/search/file/",primary:"Files"}),e.jsx(o,{to:"/library/",primary:"Libraries"}),e.jsx(o,{to:"/search/field-group/",primary:"Field Groups"}),e.jsx(o,{to:"/item/metadata-group/",primary:"Item By Metadata Group"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Storage",children:[e.jsx(o,{to:"/storage/",primary:"Storages"}),e.jsx(o,{to:"/file/",primary:"Files"}),e.jsx(o,{to:"/storage-rule/",primary:"Storage Rules"}),e.jsx(o,{to:"/quota/",primary:"Quota"}),e.jsx(o,{to:"/storage-group/",primary:"Storage Groups"}),e.jsx(o,{to:"/auto-import/",primary:"Auto Import Rules"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Create",children:[e.jsx(o,{to:"/import/?tab=IMPORTPLACEHOLDER_TAB",primary:"Item"}),e.jsx(o,{to:"/import/?tab=IMPORTCOLLECTION_TAB",primary:"Collection"}),e.jsx(o,{to:"/import/?tab=IMPORTSHAPEPLACEHOLDER_TAB",primary:"Shape"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Import",children:[e.jsx(o,{to:"/import/?tab=IMPORTFILE_TAB",primary:"File"}),e.jsx(o,{to:"/import/?tab=IMPORTRAW_TAB",primary:"Upload"}),e.jsx(o,{to:"/import/?tab=IMPORTURI_TAB",primary:"URIs"}),e.jsx(o,{to:"/import/?tab=IMPORTSHAPE_TAB",primary:"Shape"}),e.jsx(o,{to:"/import/?tab=IMPORTCOMPONENT_TAB",primary:"Component"}),e.jsx(o,{to:"/import/settings/",primary:"Settings"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"IMF",children:[e.jsx(o,{to:"/import-imp/?tab=IMPORTIMP_URL_TAB",primary:"Import From URL"}),e.jsx(o,{to:"/import-imp/?tab=IMPORTIMP_PATH_TAB",primary:"Import From Path"}),e.jsx(o,{to:"/import-imp/?tab=IMPORTIMP_FILE_TAB",primary:"Import From File"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Resources",children:[e.jsx(o,{to:"/vxa/",primary:"Server Agents"}),e.jsx(o,{to:"/resource/transcoder/",primary:"Transcoders"}),e.jsx(o,{to:"/resource/thumbnail/",primary:"Thumbnail Paths"}),e.jsx(o,{to:"/export-location",primary:"Export Locations"}),e.jsx(o,{to:"/resource/vidinet/",primary:"Vidinet"}),e.jsx(o,{to:"/resource/",primary:"All Resources"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Authentication",children:[e.jsx(o,{to:"/user/",primary:"Users"}),e.jsx(o,{to:"/group/",primary:"Groups"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Metadata",children:[e.jsx(o,{to:"/metadata-field/",primary:"Fields"}),e.jsx(o,{to:"/field-group/",primary:"Field Groups"}),e.jsx(o,{to:"/document/",primary:"Document"}),e.jsx(o,{to:"/projection/",primary:"Projection"}),e.jsx(o,{to:"/metadata-dataset/",primary:"Datasets"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Utils",children:[e.jsx(o,{to:"/debug/echo/",primary:"XML Echo"}),e.jsx(o,{to:"/javascript/test/",primary:"Javascript Test"}),e.jsx(o,{to:"/stitch/",primary:"Stitch"}),e.jsx(o,{to:"/wizard/",primary:"Wizard"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Transcoding",children:[e.jsx(o,{to:"/shape-tag/",primary:"Shape Tags"}),e.jsx(o,{to:"/conform/",primary:"Conform Media"}),e.jsx(o,{to:"/analyze-preset/",primary:"Analyze Presets"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Information",children:[e.jsx(o,{to:"/swagger/",primary:"Swagger"}),e.jsx(o,{to:"/version/",primary:"Version"}),e.jsx(o,{to:"/selftest/",primary:"Self Test"}),e.jsx(o,{to:"/log",primary:"Audit Log"}),e.jsx(o,{to:"/error/",primary:"Error Log"}),e.jsx(o,{to:"/transfer/",primary:"Import Transfers"}),e.jsx(o,{to:"/scheduled-request/",primary:"Scheduled Requests"}),e.jsx(o,{to:"/deletion-lock/",primary:"Deletion Locks"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"System",children:[e.jsx(o,{to:"/reindex/",primary:"Re-Index"}),e.jsx(o,{to:"/service/",primary:"Services"}),e.jsx(o,{to:"/service/stacktrace/",primary:"Stack Trace"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Configuration",children:[e.jsx(o,{to:"/configuration/properties/",primary:"Properties"}),e.jsx(o,{to:"/configuration/job-pool/",primary:"Job Pool"}),e.jsx(o,{to:"/configuration/ftp-pool/",primary:"FTP Pool"}),e.jsx(o,{to:"/configuration/path-alias/",primary:"Path Alias"}),e.jsx(o,{to:"/external-id/",primary:"External Identifiers"}),e.jsx(o,{to:"/configuration/",primary:"All Configuration"})]})}),e.jsx(F,{item:!0,...i,children:e.jsxs(r,{subheader:"Notification",children:[e.jsx(o,{to:"/notification/item/",primary:"Item"}),e.jsx(o,{to:"/notification/collection/",primary:"Collection"}),e.jsx(o,{to:"/notification/job/",primary:"Job"}),e.jsx(o,{to:"/notification/",primary:"All Notification"})]})})]})}),e.jsx(W,{children:e.jsx(b,{variant:"caption",children:`Last Commit: ${{}.VITE_GIT_COMMIT}`||"Last Commit: UNKNOWN"})})]})}const Jne=A(tt,Ce(Gne))(Hne),zne=["accept","content-type","authorization"],Bne=({method:t,fullUrl:n,requestHeaders:s,requestData:o,requestContentType:r})=>{const i=[];let a;const l=new URL(n);l.pathname.startsWith("/API/")?(i.push("api"),i.push(`path('${l.pathname.replace("/API/","")}')`)):(i.push("http"),i.push(`uri('${l.origin}${l.pathname}')`)),Object.entries(s).filter(([C])=>!zne.includes(C.toLowerCase())).forEach(([C,S])=>i.push(`header('${C}', '${S}')`)),[...l.searchParams.entries()].forEach(([C,S])=>i.push(`queryParam('${C}', '${S}')`));const p=r&&r.toLowerCase()==="application/json";o!==void 0&&(a=`const requestBody = ${p?jb(o,{indent:"  "}):`\`${o}\``};`,i.push("input(requestBody)"),p||i.push(`dataType('${r}')`)),i.push(`${t.toLowerCase()}();`);const x=i.join("").length;i[1]=[i[0],i[1]].join("."),i.splice(0,1);const j=i.join(x>100?`
  .`:".");return a?[a,j].join(`

`):j};function Kne({request:t,onClick:n,label:s="Go To JavaScript Test"}){const o=Bne(t),r=n?()=>n(o):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(h,{value:o,variant:"code",codeProps:{lineNumbers:!1,mode:"javascript"}}),r&&s?e.jsx(f,{variant:"text",startIcon:e.jsx(ip,{}),onClick:r,children:s}):null]})}const Eo=t=>String(t).replaceAll("'","'\\''"),Yne=({method:t,fullUrl:n,requestHeaders:s,requestData:o,requestContentType:r})=>{const i=[];return i.push(`curl '${Eo(n)}'`),i.push(`--request ${t}`),Object.entries(s).forEach(([a,l])=>i.push(`--header '${Eo(`${a}: ${l}`)}'`)),o&&(r==="application/json"?i.push(`--data-raw '${Eo(JSON.stringify(o))}'`):i.push(`--data-raw '${Eo(o)}'`)),i.join(` \\
`)};function Xne({request:t,onClick:n,label:s}){const o=Yne(t),r=n?()=>n(o):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(h,{value:o,variant:"code",codeProps:{lineNumbers:!1,mode:"shell"}}),r&&s?e.jsx(f,{variant:"text",startIcon:e.jsx(ip,{}),onClick:r,children:s}):null]})}const mi="TRANSFORM_CURL",hi="TRANSFORM_JAVASCRIPTAPI",Qne=t=>({appBar:{position:"relative",backgroundColor:t.palette.background.default},scrollPaper:{width:"85%",backgroundColor:t.palette.background.default},dialogRoot:{justifyContent:"flex-start"},displayToolbar:{display:"flex",width:"100%",alignContent:"center",justifyContent:"space-between",paddingRight:t.spacing(2)},transformButtonList:{display:"flex",gap:t.spacing(2)}});class Zne extends I.PureComponent{constructor(n){super(n),this.onRequest=this.onRequest.bind(this),this.onResponse=this.onResponse.bind(this),this.onClose=this.onClose.bind(this),this.onTransform=this.onTransform.bind(this),this.maxReponsesLength=20,this.requestInterceptor=$e.defaultClient.interceptors.request.use(s=>(s.requestId=Math.random().toString(36).substr(2,12),this.onRequest(s),s)),this.responseInterceptor=$e.defaultClient.interceptors.response.use(s=>(this.onResponse(s),s),s=>(this.onResponse({...s.response,config:s.config}),Promise.reject(s))),this.state={recentResponses:[],displayResponse:void 0,transformResponse:void 0}}componentWillUnmount(){$e.defaultClient.interceptors.request.eject(this.requestInterceptor),$e.defaultClient.interceptors.response.eject(this.responseInterceptor)}onRequest(n){if(!n)return;const{recentResponses:s}=this.state,{requestId:o,headers:r={},data:i,method:a,url:l,baseURL:c}=n;let{url:u}=n;c&&(u=[c,l].join(""));const p=new URL(u),x=Array.from(p.searchParams),j={};Object.entries(r).forEach(([ke,Qe])=>{typeof Qe=="string"&&(j[ke]=Qe)});let C,S;const L=ke=>ke.toLowerCase()==="content-type",ne=Object.keys(j).find(L);if(ne&&i)switch(S=j[ne].toLowerCase(),S){case"application/xml":C=fn(i);break;case"application/json":typeof i=="string"?C=JSON.parse(i):C=i;break;case"application/javascript":C=i;break;case"text/plain":C=i;break}const Ie=[{requestId:o,url:l,fullUrl:u,baseURL:c,method:a.toUpperCase(),requestData:C,requestHeaders:j,requestParams:x,requestContentType:S},...s].slice(0,this.maxReponsesLength);this.setState({recentResponses:Ie})}onResponse(n){if(!n)return;const{recentResponses:s}=this.state,{config:o={},status:r,headers:i={},data:a}=n,{requestId:l}=o;let c,u;const p=ne=>ne.toLowerCase()==="content-type",x=Object.keys(i).find(p);if(x)switch(u=i[x].toLowerCase(),u){case"application/xml":c=fn(a);break;case"application/json":c=a;break;case"application/javascript":c=a;break;case"text/plain":c=a;break}const j={status:r,responseData:c,responseHeaders:i,responseContentType:u},C=s.findIndex(ne=>ne.requestId===l),S=[...s];if(C>=0){const ne=s[C];S[C]={...ne,...j}}else S.unshift(j);const L=S.slice(0,this.maxReponsesLength);this.setState({recentResponses:L})}onClose(){const{onClose:n}=this.props;n(),this.setState({displayResponse:void 0,transformResponse:void 0})}onTransform(n){const{transformResponse:s}=this.state;this.setState({transformResponse:s===n?void 0:n})}render(){const{classes:n,open:s,history:o}=this.props,{recentResponses:r,displayResponse:i,transformResponse:a}=this.state;return s===!1?null:e.jsxs(k,{fullScreen:!0,open:s,onClose:this.onClose,classes:{root:n.dialogRoot,scrollPaper:n.scrollPaper},children:[e.jsx(ar,{elevation:0,className:n.appBar,children:e.jsx(lr,{disableGutters:!0,variant:"dense",children:i?e.jsxs("div",{className:n.displayToolbar,children:[e.jsx(Q,{onClick:()=>this.setState({displayResponse:void 0,transformResponse:void 0}),style:{padding:4},children:e.jsx(zh,{})}),e.jsxs("div",{className:n.transformButtonList,children:[e.jsx(f,{variant:"outlined",size:"small",onClick:()=>this.onTransform(hi),children:a===hi?"Hide Javascript API":"Show Javascript API"}),e.jsx(f,{variant:"outlined",size:"small",onClick:()=>this.onTransform(mi),children:a===mi?"Hide cURL":"Show cURL"})]})]}):e.jsx(Q,{onClick:this.onClose,children:e.jsx(ia,{})})})}),i?e.jsxs(X,{children:[a===mi?e.jsx(Xne,{request:i}):null,a===hi?e.jsx(Kne,{request:i,onClick:l=>{o.push({pathname:"/javascript/test/",state:{initialValues:{javascriptDocument:l}}}),this.onClose()}}):null,a===void 0?e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:i.fullUrl,hover:!0}),e.jsx(h,{title:"Method",value:i.method,hover:!0}),e.jsx(h,{title:"Status",value:i.status,hover:!0}),e.jsx(te,{arrayTitle:"Request Params",value:i.requestParams,component:({value:[l,c]})=>e.jsx(h,{title:l,value:c,hover:!0,titleStartCase:!1})}),e.jsx(te,{arrayTitle:"Request Headers",value:Object.entries(i.requestHeaders),component:({value:l})=>{const[c]=l;let[,u]=l;return c&&["authorization"].includes(c.toLowerCase())&&(u=u.replace(/[^*]/g,"•")),e.jsx(h,{title:c,value:u,hover:!0,titleStartCase:!1})}}),i.requestContentType==="application/json"?e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"subtitle2",children:"Request Data"}),e.jsx(bi,{src:i.requestData,theme:"solarized",displayDataTypes:!1,collapsed:!1,enableClipboard:l=>navigator.clipboard.writeText(JSON.stringify(l.src,null,"	")),displayObjectSize:!1,name:!1})]}):e.jsx(h,{title:"Request Data",value:i.requestData,variant:"code",hover:!0,hideNoValue:!0}),i.responseHeaders&&e.jsx(te,{arrayTitle:"Response Headers",value:Object.entries(i.responseHeaders),component:({value:l})=>e.jsx(h,{title:l[0],value:l[1],hover:!0,titleStartCase:!1})}),i.responseData&&e.jsx(e.Fragment,{children:i.responseContentType==="application/json"?e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"subtitle2",children:"Response Data"}),e.jsx(bi,{src:i.responseData,theme:"solarized",displayDataTypes:!1,collapsed:2,enableClipboard:l=>navigator.clipboard.writeText(JSON.stringify(l.src,null,"	")),name:!1})]}):e.jsx(h,{title:"Response Data",value:i.responseData,variant:"code",hover:!0,hideNoValue:!0})})]}):null]}):e.jsx(ce,{children:e.jsx(de,{children:r.map(l=>e.jsxs(je,{hover:!0,onClick:()=>this.setState({displayResponse:l}),children:[e.jsx(M,{children:l.url}),e.jsx(M,{children:l.method}),e.jsx(M,{children:l.status||"Pending"})]},l.requestId))})})]})}}const ese=A(rn,Ce(Qne))(Zne);function tse({closeSnackBar:t,isOpen:n=!1,messageContent:s,actionButton:o,messageColor:r="inherit"}){const i=[o,e.jsx(Q,{"aria-label":"Close",color:"inherit",onClick:t,children:e.jsx(ia,{})},"close")],a=e.jsx(b,{color:r,id:"message-id",children:s});return e.jsx(fb,{open:n,autoHideDuration:6e3,onClose:t,message:a,action:i,anchorOrigin:{vertical:"bottom",horizontal:"left"}})}function nse(t){const{ui:{snackBar:n}}=t;return{...n}}const sse={closeSnackBar:cp},ose=ae(nse,sse)(tse),Ph="HISTORY_DIALOG",Dh="MAINMENU_DIALOG";function rse({onOpen:t,unsetToken:n,unsetRunAs:s,unsetResponseInterceptor:o,userName:r,baseUrl:i}){const a=()=>t({modalName:Ph}),l=()=>t({modalName:Dh}),c=()=>{n(),s(),o()};return e.jsxs("div",{style:{zIndex:1,minWidth:"100%"},children:[e.jsx(Jne,{dialogName:Dh}),e.jsx(ese,{dialogName:Ph}),e.jsx(Vne,{onLogout:c,userName:r,toggleMainMenu:l,toggleHistory:a,baseUrl:i}),e.jsx("main",{style:{marginLeft:"10px",marginRight:"10px",marginTop:48},children:e.jsxs(Jt,{children:[e.jsx(H,{exact:!0,path:"/collection/",component:EQ}),e.jsx(H,{path:"/collection/:collectionId/",component:HV}),e.jsx(H,{exact:!0,path:"/configuration/",component:Zb}),e.jsx(H,{exact:!0,path:"/configuration/properties/",component:Xy}),e.jsx(H,{exact:!0,path:"/configuration/indexing/",component:ty}),e.jsx(H,{exact:!0,path:"/configuration/ftp-pool/",component:xy}),e.jsx(H,{exact:!0,path:"/configuration/job-pool/",component:Ay}),e.jsx(H,{exact:!0,path:"/configuration/path-alias/",component:OS}),e.jsx(H,{exact:!0,path:"/configuration/metrics/",component:hS}),e.jsx(H,{exact:!0,path:"/configuration/logreport/",component:RS}),e.jsx(H,{exact:!0,path:"/configuration/cors/",component:ZS}),e.jsx(H,{exact:!0,path:"/configuration/auth/",component:uR}),e.jsx(H,{exact:!0,path:"/configuration/bulkymetadata/",component:kR}),e.jsx(H,{exact:!0,path:"/configuration/purging/",component:tT}),e.jsx(H,{exact:!0,path:"/configuration/job-priority/",component:RT}),e.jsx(H,{exact:!0,path:"/resource/",component:zB}),e.jsx(H,{exact:!0,path:"/resource/:resourceType/",component:P8}),e.jsx(H,{exact:!0,path:"/resource/:resourceType/:resourceId/",component:t9}),e.jsx(H,{exact:!0,path:"/storage/",component:fI}),e.jsx(H,{exact:!0,path:"/storage/:storageId/",component:eE}),e.jsx(H,{exact:!0,path:"/storage/:storageId/method/:storageMethodId",component:uE}),e.jsx(H,{exact:!0,path:"/shape-tag/",component:YE}),e.jsx(H,{exact:!0,path:"/shape-tag/:tagName/",component:nF}),e.jsx(H,{exact:!0,path:"/version/",component:CF}),e.jsx(H,{exact:!0,path:"/swagger/",component:Ine}),e.jsx(H,{exact:!0,path:"/service/",component:NF}),e.jsx(H,{exact:!0,path:"/jobtype/",component:BF}),e.jsx(H,{path:"/task-definition/jobtype/:taskDefinitionType",component:SA}),e.jsx(H,{exact:!0,path:"/debug/echo",component:MA}),e.jsx(H,{exact:!0,path:"/javascript/test",component:wA}),e.jsx(H,{exact:!0,path:"/log",component:nP}),e.jsx(H,{exact:!0,path:"/job",component:SP}),e.jsx(H,{exact:!0,path:"/job/problem/",component:Pte}),e.jsx(H,{exact:!0,path:"/job/:jobId/",component:rD}),e.jsx(H,{exact:!0,path:"/export-location",component:gD}),e.jsx(H,{exact:!0,path:"/export-location/:locationName/",component:FD}),e.jsx(H,{exact:!0,path:"/selftest/",component:LD}),e.jsx(H,{exact:!0,path:"/group/",component:CM}),e.jsx(H,{exact:!0,path:"/group/:groupName/",component:zM}),e.jsx(H,{exact:!0,path:"/user/",component:TO}),e.jsx(H,{path:"/user/:userName/",component:k1}),e.jsx(H,{exact:!0,path:"/external-id/",component:eL}),e.jsx(H,{exact:!0,path:"/search/",component:HL}),e.jsx(H,{exact:!0,path:"/search/file/",component:s4}),e.jsx(H,{exact:!0,path:"/search/field-group/",component:NZ}),e.jsx(H,{exact:!0,path:"/item/",component:wQ}),e.jsx(H,{exact:!0,path:"/item/metadata-group/",component:sZ}),e.jsx(H,{exact:!0,path:"/shape",component:bZ}),e.jsx(H,{path:"/item/:itemId/shape/:shapeId/component/:componentId/",component:Hte}),e.jsx(H,{path:"/item/:itemId/shape/:shapeId/",component:mQ}),e.jsx(H,{path:"/item/:itemId/",component:UU}),e.jsx(H,{exact:!0,path:"/reindex/",component:n2}),e.jsx(H,{exact:!0,path:"/wizard/",component:A2}),e.jsx(H,{exact:!0,path:"/metadata-field/",component:K2}),e.jsx(H,{exact:!0,path:"/field-group/",component:yG}),e.jsx(H,{exact:!0,path:"/field-group/:groupName",component:YG}),e.jsx(H,{exact:!0,path:"/import",component:iH}),e.jsx(H,{exact:!0,path:"/import-imp",component:jee}),e.jsx(H,{exact:!0,path:"/file/",component:vH}),e.jsx(H,{path:"/file/:fileId/",component:G5}),e.jsx(H,{exact:!0,path:"/storage-rule/",component:l4}),e.jsx(H,{exact:!0,path:"/error/",component:p4}),e.jsx(H,{exact:!0,path:"/vxa/",component:F4}),e.jsx(H,{exact:!0,path:"/vxa/:vxaUuid/",component:w4}),e.jsx(H,{exact:!0,path:"/new-job/",component:aD}),e.jsx(H,{exact:!0,path:"/library/",component:a6}),e.jsx(H,{path:"/library/:libraryId/",component:mJ}),e.jsx(H,{exact:!0,path:"/document/",component:SJ}),e.jsx(H,{path:"/document/:documentMetadataName",component:LJ}),e.jsx(H,{path:"/metadata/:metadataUuid/",component:n7}),e.jsx(H,{exact:!0,path:"/conform/",component:XJ}),e.jsx(H,{exact:!0,path:"/projection/",component:p7}),e.jsx(H,{path:"/projection/:projectionId",component:C7}),e.jsx(H,{path:"/metadata-field/:fieldName",component:U7}),e.jsx(H,{exact:!0,path:"/notification/",component:X7}),e.jsx(H,{exact:!0,path:`/notification/:entityType(${Ri.join("|")})/`,component:G7}),e.jsx(H,{exact:!0,path:`/notification/:entityType(${Ri.join("|")})/:notificationId`,component:H7}),e.jsx(H,{exact:!0,path:"/notification/:notificationId",component:K7}),e.jsx(H,{exact:!0,path:"/import/settings/",component:uz}),e.jsx(H,{exact:!0,path:"/import/settings/:settingsId",component:Sz}),e.jsx(H,{exact:!0,path:"/import/access/:userName",component:$z}),e.jsx(H,{exact:!0,path:"/task-group/",component:eB}),e.jsx(H,{exact:!0,path:"/task-group/:groupName/",component:mB}),e.jsx(H,{exact:!0,path:"/quota/",component:WB}),e.jsx(H,{exact:!0,path:"/storage-group/",component:f9}),e.jsx(H,{exact:!0,path:"/storage-group/:groupName/",component:_9}),e.jsx(H,{exact:!0,path:"/auto-import/",component:J9}),e.jsx(H,{exact:!0,path:"/auto-import/:storageId/",component:sK}),e.jsx(H,{exact:!0,path:"/service/stacktrace/",component:aK}),e.jsx(H,{exact:!0,path:"/transfer/",component:vK}),e.jsx(H,{exact:!0,path:"/scheduled-request/",component:_ee}),e.jsx(H,{exact:!0,path:"/stitch/",component:qee}),e.jsx(H,{exact:!0,path:"/deletion-lock/",component:ho}),e.jsx(H,{exact:!0,path:"/deletion-lock/:lockId/",component:tte}),e.jsx(H,{exact:!0,path:"/external-id/:entityType/:entityId",component:Jc}),e.jsx(H,{exact:!0,path:"/external-id/:entityType/:entitySubType/:entityId",component:Jc}),e.jsx(H,{exact:!0,path:"/metadata-dataset/",component:pte}),e.jsx(H,{exact:!0,path:"/metadata-dataset/:datasetId/",component:Ste}),e.jsx(H,{exact:!0,path:"/analyze-preset/",component:ine}),e.jsx(H,{exact:!0,path:"/analyze-preset/:preset/",component:gne}),e.jsx(gb,{exact:!0,from:"/",push:!0,to:"/job"}),e.jsx(H,{path:"*",component:Ite})]})}),e.jsx(ose,{})]})}const ise=A(_n,tt)(rse);function ase(t){const{baseUrl:n}=t,s=dp(n);return e.jsx(bb,{basename:s,children:e.jsx(ise,{...t})})}const Mh=(t,{secretKey:n,headers:s={}})=>s.token||n?void 0:Z(t),lse=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"username",label:"Username",component:m,fullWidth:!0,validate:[Mh],variant:"outlined",margin:"dense",size:"small"}),e.jsx(d,{name:"password",label:"Password",type:"password",component:m,fullWidth:!0,validate:[Mh],variant:"outlined",margin:"dense"})]}),cse=()=>e.jsx(e.Fragment,{children:e.jsx(T,{control:e.jsx(d,{name:"autoRefresh",component:E}),label:"Remember Me"})});function dse({error:t,handleSubmit:n,onTestUrl:s,useProxy:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(d,{name:"baseUrl",label:"VidiCore Server",component:m,required:!0,onBlur:(r,i)=>s(i),fullWidth:!0,autoFocus:!0,validate:[Z,uF],variant:"outlined",margin:"dense",useStartCase:!1,disabled:o}),e.jsx(re,{name:"headers",component:lse}),e.jsx(re,{name:"queryParams",component:cse}),e.jsx("button",{type:"submit",hidden:!0})]})}const use=v()(dse),mse=()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"token",label:"Token",component:m,fullWidth:!0,variant:"outlined",margin:"dense"}),e.jsx(d,{name:"runAs",label:"Login As User",component:m,fullWidth:!0,variant:"outlined",margin:"dense"})]}),hse=()=>e.jsx(e.Fragment,{children:e.jsx(d,{name:"seconds",label:"Timeout ",component:m,helperText:"Seconds",fullWidth:!0,variant:"outlined",margin:"dense"})});function pse({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(b,{color:"error",children:t}),e.jsx(re,{name:"headers",component:mse}),e.jsx(re,{name:"queryParams",component:hse}),e.jsx(d,{name:"accessKey",label:"Access Key",component:m,fullWidth:!0,variant:"outlined",margin:"dense"}),e.jsx(d,{name:"secretKey",label:"Secret Key",component:m,fullWidth:!0,variant:"outlined",margin:"dense"}),e.jsx("button",{type:"submit",hidden:!0})]})}const xse=v()(pse),pi="LOGIN_FORM";function jse({onSuccess:t,onFail:n,openSnackBar:s,submitForm:o,...r}){const i=(l,c,u)=>{s({messageContent:"Login Success"}),t&&t(l,c,u)},a=(l,c,u)=>{s({messageContent:"Error Logging In",messageColor:"secondary"}),n&&n(l,c,u)};return e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsx(use,{form:pi,onSubmit:yc,onSubmitSuccess:i,onSubmitFail:a,...r}),e.jsxs(ye,{children:[e.jsx(Se,{style:{padding:0},children:e.jsx(b,{variant:"subtitle2",color:"textSecondary",children:"Advanced"})}),e.jsx(Ae,{style:{padding:0},children:e.jsx(xse,{form:pi,onSubmit:yc,onSubmitSuccess:i,onSubmitFail:a,...r})})]})]}),e.jsx(W,{children:e.jsx(f,{variant:"outlined",color:"primary",onClick:()=>o(pi),fullWidth:!0,children:"Log In"})})]})}const fse=A(Nn,D)(jse);function gse({open:t=!1,onClose:n,onSuccess:s,onError:o,openSnackBar:r,loadingInit:i,setLoadingInit:a}){const l=()=>{a(!0),ap.createInit().then(()=>{a(!1),r({messageContent:"Init Success"}),n(),s&&s()}).catch(()=>{a(!1),r({messageContent:"Error Running Init",messageColor:"secondary"}),o&&o()})};return e.jsxs(k,{open:t,onClose:n,maxWidth:!1,children:[e.jsx($,{children:"Run API Init?"}),e.jsx(ve,{children:"This is required for new Vidispine installations."}),e.jsx(V,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"inherit",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",variant:"outlined",onClick:l,disabled:i,children:i?e.jsx(Zs,{color:"primary",size:16}):"Run"})]})]})}const bse=A(Nn)(gse),Cse=`<CORSConfigurationDocument xmlns="http://xml.vidispine.com/schema/vidispine">
    <entry>
        <request>
            <origin>${window.location.origin}</origin>
        </request>
        <response>
            <allowOrigin>${window.location.origin}</allowOrigin>
            <allowMethods>OPTIONS,GET,HEAD,POST,PUT,DELETE</allowMethods>
            <allowHeaders>accept,content-type,authorization,index,size,runas</allowHeaders>
            <allowMaxAge>600</allowMaxAge>
        </response>
    </entry>
</CORSConfigurationDocument>`,yse=`{
  "entry": [
    {
      "request": [
        {
          "origin": [
            "${window.location.origin}"
          ]
        }
      ],
      "response": {
        "allowOrigin": "${window.location.origin}",
        "allowMethods": [
          "OPTIONS,GET,HEAD,POST,PUT,DELETE"
        ],
        "allowHeaders": [
          "accept,content-type,authorization,index,size,runas"
        ],
        "allowMaxAge": 600
      }
    }
  ]
}`,Sse=`curl '{YOUR_VIDICORE_SERVER}/API/javascript/test' \\
-uadmin -X POST -H 'content-type: application/javascript' -H 'Accept: application/json' \\
--data-raw 'const cors = api.path('\\''configuration/cors'\\'').get();
if (!Array.isArray(cors.entry)) cors.entry = [];
cors.entry.push({
  request: [
    {
      origin: ['\\''${window.location.origin}'\\''],
    },
  ],
  response: {
    allowOrigin: '\\''${window.location.origin}'\\'',
    allowMethods: ['\\''OPTIONS,GET,HEAD,POST,PUT,DELETE'\\''],
    allowHeaders: ['\\''accept,content-type,authorization,index,size,runas'\\''],
    allowMaxAge: 600,
  },
});
api.path('\\''configuration/cors'\\'').input(cors).put();
api.path('\\''configuration/cors'\\'').get();
'
`,Rse="XML_TAB",Tse="JSON_TAB",Oh="CURL_TAB";function Ise({open:t,onClose:n,baseUrl:s}){const[o,r]=I.useState(Oh),i=(a,l)=>r(l);return e.jsxs(k,{open:t,onClose:n,maxWidth:!1,children:[e.jsx($,{children:"Configure CORS"}),e.jsx(ve,{children:"Cross-Origin must be configured on the VidiCore server to allow browser requests from this location."}),e.jsxs(ve,{children:[e.jsxs(Ki,{value:o,onChange:i,children:[e.jsx(An,{label:"XML",value:Rse}),e.jsx(An,{label:"JSON",value:Tse}),e.jsx(An,{label:"cURL",value:Oh})]}),{XML_TAB:e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Request",value:`PUT ${s}/API/configuration/cors`,variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),e.jsx(h,{title:"Body",value:Cse,variant:"xml",codeProps:{lineNumbers:!1}})]}),JSON_TAB:e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Request",value:`PUT ${s}/API/configuration/cors`,variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),e.jsx(h,{title:"Body",value:yse,variant:"json",codeProps:{lineNumbers:!1}})]}),CURL_TAB:e.jsx(h,{value:Sse.replace("{YOUR_VIDICORE_SERVER}",s),variant:"code",codeProps:{lineNumbers:!1,mode:"shell"}})}[o]]}),e.jsx(ve,{children:e.jsx(lp,{href:"https://apidoc.vidispine.com/latest/system/property.html#cors-configuration",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",children:"View API Documentation"})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"inherit",onClick:n,children:"Close"})})]})}const Ese=tt(Ise);function vse(t){return e.jsxs(ra,{...t,viewBox:"0 0 438.16 305.58",children:[e.jsx("defs",{children:e.jsx("style",{children:`
            .cls-1{fill:#0068a9;}
            .cls-2{fill:#fff;}
            .cls-3{fill:#7c74bd;}
            .cls-4{fill:#6dc3c5;}
            .cls-5{fill:#44a8aa;}
            .cls-5{fill:#44a8aa;}
            .cls-6{fill:#000;}
            `})}),e.jsx("title",{children:"Vidispine-stacked-RGB"}),e.jsx("rect",{className:"cls-1",x:"42.11",y:"221.36",width:"353.3",height:"42.11"}),e.jsx("path",{className:"cls-2",d:"M83.35,251.09l-1.91-4.88H74.19l-1.76,4.88H69.88l7.18-18.79h1.63L86,251.09Zm-4.72-12.74c-.17-.47-.32-.89-.43-1.27s-.22-.73-.29-1.05h0c-.08.35-.18.7-.3,1.07s-.26.77-.43,1.22L75.08,244h5.51Z"}),e.jsx("path",{className:"cls-2",d:"M97.16,251.09v-8.16a9.18,9.18,0,0,0-.07-1.17,3.33,3.33,0,0,0-.31-1.07,2,2,0,0,0-.67-.78,2,2,0,0,0-1.17-.29,3.69,3.69,0,0,0-1.09.16,6.22,6.22,0,0,0-1,.43,7.76,7.76,0,0,0-1,.6c-.3.22-.59.45-.85.68v9.6H88.52V237.64h2.1l.31,1.55q.58-.44,1.14-.78a8,8,0,0,1,1.12-.59,6.88,6.88,0,0,1,1.19-.38,6.16,6.16,0,0,1,1.32-.13,4.27,4.27,0,0,1,1.45.26,3.56,3.56,0,0,1,1.28.84,4.28,4.28,0,0,1,.91,1.47,6.24,6.24,0,0,1,.34,2.2v9Z"}),e.jsx("path",{className:"cls-2",d:"M121.66,251.09l-1.91-4.88H112.5l-1.76,4.88h-2.55l7.19-18.79H117l7.3,18.79Zm-4.72-12.74c-.17-.47-.32-.89-.43-1.27s-.21-.73-.29-1.05h0c-.08.35-.18.7-.29,1.07s-.27.77-.44,1.22L113.39,244h5.51Z"}),e.jsx("path",{className:"cls-2",d:"M133.56,240.09a2.9,2.9,0,0,0-1.34-.31,3,3,0,0,0-1.37.36,7.81,7.81,0,0,0-1.53,1.11v9.84h-2.49V237.64h2.06l.35,1.52a10.39,10.39,0,0,1,1.15-.95,6.21,6.21,0,0,1,1-.56,4,4,0,0,1,.83-.27,3.81,3.81,0,0,1,.75-.07,3,3,0,0,1,.94.14,3.23,3.23,0,0,1,.69.3Z"}),e.jsx("path",{className:"cls-2",d:"M142.2,251.17h-1.91L135,237.64h2.56l3.67,10.24h0l4-10.24h2.47Z"}),e.jsx("path",{className:"cls-2",d:"M157.58,251.09l-.54-1.28a6.42,6.42,0,0,1-.73.58,5.63,5.63,0,0,1-.91.5,6.46,6.46,0,0,1-1.1.35,6.74,6.74,0,0,1-1.33.13,4.61,4.61,0,0,1-1.62-.29,3.86,3.86,0,0,1-1.33-.82,4,4,0,0,1-.91-1.32,4.27,4.27,0,0,1-.34-1.75,3.85,3.85,0,0,1,1.41-3.17,6.7,6.7,0,0,1,4.07-1.23l2.62-.08v-.51a3.56,3.56,0,0,0-.21-1.31,2.08,2.08,0,0,0-.58-.87,2.13,2.13,0,0,0-.89-.48,3.92,3.92,0,0,0-1.11-.15,5.8,5.8,0,0,0-1.14.11,5.64,5.64,0,0,0-.95.27,5.25,5.25,0,0,0-.79.37c-.23.14-.45.28-.64.42l-.94-1.71a8.56,8.56,0,0,1,1.22-.75,7,7,0,0,1,1.21-.47,7.34,7.34,0,0,1,1.22-.25,10.58,10.58,0,0,1,1.27-.07,7.42,7.42,0,0,1,1.94.24,4.09,4.09,0,0,1,1.54.79,3.82,3.82,0,0,1,1,1.44,5.82,5.82,0,0,1,.37,2.19v4.51c0,.8,0,1.46,0,2s0,1,.05,1.33a6.17,6.17,0,0,0,.09.81,4.48,4.48,0,0,0,.12.47Zm-.71-6.37-2.45.08a4.37,4.37,0,0,0-2.39.63,1.85,1.85,0,0,0-.74,1.57,2.57,2.57,0,0,0,.16.9,1.89,1.89,0,0,0,.46.72,2.21,2.21,0,0,0,.78.49,3,3,0,0,0,1.07.18,4.27,4.27,0,0,0,1.06-.13,4.92,4.92,0,0,0,.87-.31,3.44,3.44,0,0,0,.68-.43,4.59,4.59,0,0,0,.5-.44Z"}),e.jsx("path",{className:"cls-2",d:"M169.27,251a5.94,5.94,0,0,1-2,.37,3.82,3.82,0,0,1-1.37-.22,2.45,2.45,0,0,1-.94-.6,2.55,2.55,0,0,1-.55-.93,3.8,3.8,0,0,1-.18-1.21v-8.74H162v-2h2.24v-3l2.53-.79v3.8h4.15l-.82,2h-3.33v7.89a1.89,1.89,0,0,0,.32,1.23,1.17,1.17,0,0,0,1,.4,3.08,3.08,0,0,0,.68-.08l.63-.21a4.21,4.21,0,0,0,.56-.29c.17-.1.32-.21.46-.31l.74,1.71A7.72,7.72,0,0,1,169.27,251Z"}),e.jsx("path",{className:"cls-2",d:"M179.4,237.31a6.59,6.59,0,0,1,2.53.47,5.82,5.82,0,0,1,2,1.35,6.35,6.35,0,0,1,1.38,2.27,8.88,8.88,0,0,1,.47,3,8.71,8.71,0,0,1-.49,3,6.63,6.63,0,0,1-1.41,2.3,5.79,5.79,0,0,1-2,1.3,6.72,6.72,0,0,1-2.51.45,6,6,0,0,1-4.34-1.64,6.13,6.13,0,0,1-1.44-2.33,8.84,8.84,0,0,1-.49-3,8.56,8.56,0,0,1,.49-3,6.63,6.63,0,0,1,1.41-2.3,5.86,5.86,0,0,1,1.94-1.32A6.31,6.31,0,0,1,179.4,237.31Zm0,2.08a3.39,3.39,0,0,0-1.59.36,3.25,3.25,0,0,0-1.17,1,5.1,5.1,0,0,0-.72,1.56,7.8,7.8,0,0,0-.24,2,7.59,7.59,0,0,0,.26,2,4.62,4.62,0,0,0,.75,1.56,3.36,3.36,0,0,0,1.19,1,3.45,3.45,0,0,0,1.59.36,3.31,3.31,0,0,0,1.57-.36,3.43,3.43,0,0,0,1.17-1,4.84,4.84,0,0,0,.73-1.57,8.29,8.29,0,0,0,0-4,4.52,4.52,0,0,0-.74-1.56,3.23,3.23,0,0,0-1.18-1A3.51,3.51,0,0,0,179.37,239.39Z"}),e.jsx("path",{className:"cls-2",d:"M207.33,246.35a4.43,4.43,0,0,1-.47,2.06,4.7,4.7,0,0,1-1.29,1.58,6.13,6.13,0,0,1-1.95,1,7.82,7.82,0,0,1-2.42.36,10.4,10.4,0,0,1-1.74-.14,10.75,10.75,0,0,1-1.46-.36,9.47,9.47,0,0,1-1.19-.5,10,10,0,0,1-.95-.56l1.14-1.95a5.33,5.33,0,0,0,.72.46,7.12,7.12,0,0,0,1,.44,7.27,7.27,0,0,0,1.14.32,6,6,0,0,0,1.3.14,5.17,5.17,0,0,0,1.23-.15,3.84,3.84,0,0,0,1.14-.46,2.71,2.71,0,0,0,.83-.82,2.13,2.13,0,0,0,.32-1.2,2.59,2.59,0,0,0-.34-1.34,4.54,4.54,0,0,0-.91-1.06,9.17,9.17,0,0,0-1.29-.9l-1.49-.85c-.5-.29-1-.6-1.48-.92a7.31,7.31,0,0,1-1.29-1.12,5.18,5.18,0,0,1-1-1.46,5,5,0,0,1-.35-1.92,4.84,4.84,0,0,1,.37-1.87,4.28,4.28,0,0,1,1.1-1.53,5.29,5.29,0,0,1,1.77-1,7.31,7.31,0,0,1,2.39-.37,9.47,9.47,0,0,1,2.56.3,10.55,10.55,0,0,1,1.76.64l0,2.5a9.36,9.36,0,0,0-1.94-.89,7.05,7.05,0,0,0-2.24-.36,5.3,5.3,0,0,0-1.22.14,3.13,3.13,0,0,0-1,.42,2.19,2.19,0,0,0-.69.73,2.12,2.12,0,0,0-.26,1.07,2.35,2.35,0,0,0,.36,1.3,4.14,4.14,0,0,0,.93,1.05,9.53,9.53,0,0,0,1.32.9l1.51.87c.52.3,1,.61,1.51,1A7.32,7.32,0,0,1,206,243a5.35,5.35,0,0,1,.94,1.47A4.62,4.62,0,0,1,207.33,246.35Z"}),e.jsx("path",{className:"cls-2",d:"M216.74,252.12a15,15,0,0,1-1.37,2.95,7.06,7.06,0,0,1-1.48,1.73,4.32,4.32,0,0,1-1.59.82,7.2,7.2,0,0,1-1.67.2,6.55,6.55,0,0,1-1.5-.15,10.54,10.54,0,0,1-1.2-.39l.62-1.93a4,4,0,0,0,.92.34,4.6,4.6,0,0,0,1.11.12,2.85,2.85,0,0,0,1.14-.24,3.29,3.29,0,0,0,1.08-.8,6.28,6.28,0,0,0,1-1.45,12.85,12.85,0,0,0,.83-2.17l-6.09-13.51h2.67l4.61,10.52h.08l3.53-10.52h2.5Z"}),e.jsx("path",{className:"cls-2",d:"M232.77,247.34a3.78,3.78,0,0,1-.41,1.85,3.51,3.51,0,0,1-1.11,1.25,5,5,0,0,1-1.67.71,9.52,9.52,0,0,1-2,.22,9.79,9.79,0,0,1-1.38-.09A9.11,9.11,0,0,1,225,251a8.8,8.8,0,0,1-1-.36,8.27,8.27,0,0,1-.79-.41l.88-1.91a6.54,6.54,0,0,0,.66.36,5.34,5.34,0,0,0,.8.34,5.06,5.06,0,0,0,.91.25,4.77,4.77,0,0,0,1,.1,4.55,4.55,0,0,0,1.07-.12,3.15,3.15,0,0,0,.85-.36,1.86,1.86,0,0,0,.55-.57,1.43,1.43,0,0,0,.2-.77,1.67,1.67,0,0,0-.26-.94,2.83,2.83,0,0,0-.69-.69,5.15,5.15,0,0,0-1-.53c-.37-.16-.75-.32-1.13-.5a12,12,0,0,1-1.13-.57,4.39,4.39,0,0,1-1-.77,3.7,3.7,0,0,1-.69-1.08,3.82,3.82,0,0,1-.26-1.51,3.45,3.45,0,0,1,.29-1.43,3.21,3.21,0,0,1,.87-1.18,4.51,4.51,0,0,1,1.46-.79,6.56,6.56,0,0,1,2-.29,9.07,9.07,0,0,1,2,.2,10.11,10.11,0,0,1,1.58.51v2.16l-.78-.31c-.26-.1-.53-.18-.81-.26a7.76,7.76,0,0,0-.89-.19,6.24,6.24,0,0,0-1-.07,4.39,4.39,0,0,0-.91.09,2.18,2.18,0,0,0-.73.28,1.28,1.28,0,0,0-.66,1.17,1.4,1.4,0,0,0,.27.86,2.75,2.75,0,0,0,.7.65,7.19,7.19,0,0,0,1,.52l1.16.52c.39.18.77.38,1.15.6a4.42,4.42,0,0,1,1,.78,3.61,3.61,0,0,1,.7,1.07A3.54,3.54,0,0,1,232.77,247.34Z"}),e.jsx("path",{className:"cls-2",d:"M241.94,251a5.94,5.94,0,0,1-2,.37,3.79,3.79,0,0,1-1.37-.22,2.38,2.38,0,0,1-.94-.6,2.42,2.42,0,0,1-.55-.93,3.8,3.8,0,0,1-.18-1.21v-8.74h-2.25v-2h2.25v-3l2.53-.79v3.8h4.15l-.82,2h-3.33v7.89a1.89,1.89,0,0,0,.32,1.23,1.17,1.17,0,0,0,1,.4,2.93,2.93,0,0,0,.67-.08c.22-.06.43-.13.64-.21a4.21,4.21,0,0,0,.56-.29c.17-.1.32-.21.46-.31l.74,1.71A7.91,7.91,0,0,1,241.94,251Z"}),e.jsx("path",{className:"cls-2",d:"M248.4,244.9a5,5,0,0,0,.29,1.7,4.13,4.13,0,0,0,.82,1.39,3.89,3.89,0,0,0,1.33.95,4.41,4.41,0,0,0,1.8.35,5.15,5.15,0,0,0,1.72-.3,8.85,8.85,0,0,0,1.55-.7l.71,1.73a6.8,6.8,0,0,1-2.1,1,8.49,8.49,0,0,1-2.36.35,6.31,6.31,0,0,1-2.85-.6,5.89,5.89,0,0,1-2-1.59,6.45,6.45,0,0,1-1.17-2.29,9.34,9.34,0,0,1-.38-2.71,8.77,8.77,0,0,1,.4-2.7,6.84,6.84,0,0,1,1.14-2.18,5.62,5.62,0,0,1,1.79-1.46,5.16,5.16,0,0,1,2.34-.53,5.56,5.56,0,0,1,2.36.49,4.91,4.91,0,0,1,1.76,1.41,6.45,6.45,0,0,1,1.08,2.18,9.73,9.73,0,0,1,.38,2.85v.66Zm5.76-3.26a3.5,3.5,0,0,0-.55-1.15,2.89,2.89,0,0,0-.91-.83,2.67,2.67,0,0,0-1.29-.31,2.72,2.72,0,0,0-1.26.29,3.05,3.05,0,0,0-1,.78,3.28,3.28,0,0,0-.61,1.14,4.73,4.73,0,0,0-.2,1.37h6A4.78,4.78,0,0,0,254.16,241.64Z"}),e.jsx("path",{className:"cls-2",d:"M277.32,251.09v-8.65a6.88,6.88,0,0,0-.09-1.15,2.55,2.55,0,0,0-.31-.93,1.57,1.57,0,0,0-.63-.62,2.2,2.2,0,0,0-1.06-.22,4,4,0,0,0-1.16.16,5.41,5.41,0,0,0-1.05.44,7.16,7.16,0,0,0-.91.6c-.28.23-.55.44-.8.66a1.72,1.72,0,0,1,0,.33v9.38h-2.52v-8.58a8.72,8.72,0,0,0-.08-1.17,3.09,3.09,0,0,0-.31-1,1.68,1.68,0,0,0-.64-.63,2.12,2.12,0,0,0-1.07-.23,3.68,3.68,0,0,0-1.15.17,5.81,5.81,0,0,0-1,.44,7.34,7.34,0,0,0-.92.61c-.29.22-.55.44-.8.67v9.68h-2.53V237.64h2.11l.3,1.57a9.94,9.94,0,0,1,2.45-1.44,6.27,6.27,0,0,1,2.29-.46,3.63,3.63,0,0,1,2.12.6,3.32,3.32,0,0,1,1.26,1.58,10.15,10.15,0,0,1,1.18-.92,10.87,10.87,0,0,1,1.24-.68,8.81,8.81,0,0,1,1.25-.43,5.06,5.06,0,0,1,1.2-.15,5.38,5.38,0,0,1,1.55.22,3.32,3.32,0,0,1,1.33.72,3.51,3.51,0,0,1,.92,1.34,5.39,5.39,0,0,1,.35,2.07v9.43Z"}),e.jsx("path",{className:"cls-2",d:"M292.12,247.34a3.89,3.89,0,0,1-.41,1.85,3.64,3.64,0,0,1-1.12,1.25,5,5,0,0,1-1.67.71,9.38,9.38,0,0,1-2,.22,10,10,0,0,1-1.38-.09,8.6,8.6,0,0,1-1.15-.24,8.27,8.27,0,0,1-1-.36,7,7,0,0,1-.78-.41l.87-1.91q.3.18.66.36a5.83,5.83,0,0,0,.8.34,5.17,5.17,0,0,0,.92.25,4.74,4.74,0,0,0,1,.1,4.49,4.49,0,0,0,1.07-.12,3.15,3.15,0,0,0,.85-.36,1.86,1.86,0,0,0,.55-.57,1.43,1.43,0,0,0,.2-.77,1.6,1.6,0,0,0-.26-.94,2.66,2.66,0,0,0-.69-.69,5.15,5.15,0,0,0-1-.53l-1.13-.5c-.38-.17-.76-.36-1.13-.57a4.12,4.12,0,0,1-1-.77,3.53,3.53,0,0,1-.7-1.08,4,4,0,0,1-.26-1.51,3.62,3.62,0,0,1,.29-1.43,3.32,3.32,0,0,1,.87-1.18,4.51,4.51,0,0,1,1.46-.79,6.56,6.56,0,0,1,2-.29,9.23,9.23,0,0,1,2,.2,10.33,10.33,0,0,1,1.57.51v2.16l-.78-.31c-.26-.1-.53-.18-.81-.26a7.76,7.76,0,0,0-.89-.19,6.24,6.24,0,0,0-1-.07,4.39,4.39,0,0,0-.91.09,2.18,2.18,0,0,0-.73.28,1.33,1.33,0,0,0-.49.48,1.36,1.36,0,0,0-.17.69,1.4,1.4,0,0,0,.27.86,2.64,2.64,0,0,0,.71.65,6.22,6.22,0,0,0,1,.52l1.15.52c.39.18.77.38,1.15.6a4.21,4.21,0,0,1,1,.78,3.61,3.61,0,0,1,.7,1.07A3.38,3.38,0,0,1,292.12,247.34Z"}),e.jsx("path",{className:"cls-2",d:"M314.84,245.46a6.41,6.41,0,0,1-.34,2,4.63,4.63,0,0,1-1.11,1.81,5.57,5.57,0,0,1-2,1.31,8.35,8.35,0,0,1-3.12.51h-5.08V232.36h5.46a5.81,5.81,0,0,1,2.26.41,4.68,4.68,0,0,1,1.58,1.09,4.37,4.37,0,0,1,.92,1.49,4.79,4.79,0,0,1,.3,1.64,4.64,4.64,0,0,1-.62,2.48,4.35,4.35,0,0,1-1.77,1.62v0a4.15,4.15,0,0,1,1.38.45,4.2,4.2,0,0,1,1.14.92,4.33,4.33,0,0,1,.76,1.31A4.82,4.82,0,0,1,314.84,245.46Zm-9.16-10.85v5.79H308a3.32,3.32,0,0,0,1.11-.19,3,3,0,0,0,1-.57,3,3,0,0,0,.7-.94,2.9,2.9,0,0,0,.27-1.28,2.74,2.74,0,0,0-.78-2.06,3.42,3.42,0,0,0-2.43-.75Zm6.45,11a3,3,0,0,0-.23-1.17,2.54,2.54,0,0,0-.7-.93,3.13,3.13,0,0,0-1.14-.63,5,5,0,0,0-1.57-.23h-2.81v6.19h2.58a5.32,5.32,0,0,0,1.68-.24,3.62,3.62,0,0,0,1.21-.67,2.82,2.82,0,0,0,.73-1A3.27,3.27,0,0,0,312.13,245.61Z"}),e.jsx("path",{className:"cls-2",d:"M324.85,240.09a2.86,2.86,0,0,0-1.33-.31,3,3,0,0,0-1.37.36,7.26,7.26,0,0,0-1.53,1.11v9.84h-2.5V237.64h2.07l.34,1.52a10.39,10.39,0,0,1,1.15-.95,7.31,7.31,0,0,1,1-.56,4,4,0,0,1,.83-.27,3.91,3.91,0,0,1,.76-.07,3,3,0,0,1,.94.14,3.13,3.13,0,0,1,.68.3Z"}),e.jsx("path",{className:"cls-2",d:"M335.49,251.09l-.54-1.28a6.42,6.42,0,0,1-.73.58,5.63,5.63,0,0,1-.91.5,6.46,6.46,0,0,1-1.1.35,6.9,6.9,0,0,1-1.33.13,4.61,4.61,0,0,1-1.62-.29,3.77,3.77,0,0,1-1.33-.82,3.89,3.89,0,0,1-.91-1.32,4.27,4.27,0,0,1-.34-1.75,3.85,3.85,0,0,1,1.41-3.17,6.68,6.68,0,0,1,4.07-1.23l2.62-.08v-.51a3.56,3.56,0,0,0-.21-1.31,2.13,2.13,0,0,0-1.47-1.35,3.92,3.92,0,0,0-1.11-.15,5.91,5.91,0,0,0-2.09.38,5.25,5.25,0,0,0-.79.37c-.23.14-.45.28-.64.42l-1-1.71a9.23,9.23,0,0,1,1.23-.75,6.71,6.71,0,0,1,1.21-.47,7.34,7.34,0,0,1,1.22-.25,10.46,10.46,0,0,1,1.27-.07,7.42,7.42,0,0,1,1.94.24,4,4,0,0,1,1.53.79,3.84,3.84,0,0,1,1,1.44,5.82,5.82,0,0,1,.37,2.19v4.51c0,.8,0,1.46,0,2s0,1,.05,1.33a6.17,6.17,0,0,0,.09.81,4.48,4.48,0,0,0,.12.47Zm-.71-6.37-2.46.08a4.33,4.33,0,0,0-2.38.63,1.85,1.85,0,0,0-.74,1.57,2.57,2.57,0,0,0,.15.9,2,2,0,0,0,.47.72,2.21,2.21,0,0,0,.78.49,2.93,2.93,0,0,0,1.07.18,4.33,4.33,0,0,0,1.06-.13,4.92,4.92,0,0,0,.87-.31,3.44,3.44,0,0,0,.68-.43,5.78,5.78,0,0,0,.5-.44Z"}),e.jsx("path",{className:"cls-2",d:"M349.79,251.09v-8.16a9.18,9.18,0,0,0-.07-1.17,3.33,3.33,0,0,0-.31-1.07,2,2,0,0,0-.67-.78,2,2,0,0,0-1.17-.29,3.69,3.69,0,0,0-1.09.16,6.22,6.22,0,0,0-1,.43,7.76,7.76,0,0,0-1,.6,10.12,10.12,0,0,0-.85.68v9.6h-2.49V237.64h2.1l.31,1.55q.58-.44,1.14-.78a8,8,0,0,1,1.12-.59,6.88,6.88,0,0,1,1.19-.38,6.16,6.16,0,0,1,1.32-.13,4.27,4.27,0,0,1,1.45.26,3.56,3.56,0,0,1,1.28.84,4.28,4.28,0,0,1,.91,1.47,6.24,6.24,0,0,1,.34,2.2v9Z"}),e.jsx("path",{className:"cls-2",d:"M365.31,251.08a11.43,11.43,0,0,1-2.69.29,8.42,8.42,0,0,1-2.72-.43,6.28,6.28,0,0,1-2.24-1.27,6,6,0,0,1-1.51-2.13,7.35,7.35,0,0,1-.57-3,7.64,7.64,0,0,1,.55-2.9,7,7,0,0,1,1.51-2.28,6.93,6.93,0,0,1,2.25-1.5,7.24,7.24,0,0,1,2.8-.54,9.23,9.23,0,0,1,1.14.06,6.6,6.6,0,0,1,.87.14V231h2.53v19.41A8.22,8.22,0,0,1,365.31,251.08Zm-.61-11.35-.38-.11-.41-.1a3.46,3.46,0,0,0-.49-.06,5.92,5.92,0,0,0-.62,0,4.78,4.78,0,0,0-1.81.34,4.21,4.21,0,0,0-1.49,1,4.67,4.67,0,0,0-1,1.56,5.35,5.35,0,0,0-.38,2,5.9,5.9,0,0,0,.31,2,4,4,0,0,0,.91,1.54,4.33,4.33,0,0,0,1.52,1,5.73,5.73,0,0,0,2.12.37,5.17,5.17,0,0,0,.95-.09,3.71,3.71,0,0,0,.78-.23Z"}),e.jsx("path",{className:"cls-6",d:"M93,190V140.73h7.6V190Z"}),e.jsx("path",{className:"cls-6",d:"M138.27,191c-13.75,0-25.31-8-25.31-25,0-15.31,11.35-26.56,25.41-26.56a31,31,0,0,1,8,.84V118.26H154v69.23C151,189.26,145.25,191,138.27,191Zm8.12-43.63a19,19,0,0,0-7.6-1.25c-9.69,0-18.12,7.6-18.12,19.37,0,11.14,6.14,19,19,19a18,18,0,0,0,6.77-1.24Z"}),e.jsx("path",{className:"cls-6",d:"M168.89,190V140.73h7.6V190Z"}),e.jsx("path",{className:"cls-6",d:"M201.28,191a27,27,0,0,1-14.58-3.75l2.92-5.93a22.73,22.73,0,0,0,12,3.54c6,0,10.42-2.71,10.42-7.29,0-12.08-22.39-7.81-22.39-25.1,0-7.08,5.1-13,16.35-13a29.21,29.21,0,0,1,12.39,2.61v6.66c-3.44-1.46-7-2.92-12.08-2.92s-9.17,1.78-9.17,6.25c0,11,22.81,8.23,22.81,24.37C219.92,186.76,211.38,191,201.28,191Z"}),e.jsx("path",{className:"cls-6",d:"M246.17,191a21,21,0,0,1-8.23-1.56v23.2h-7.6V142.81c3.33-1.14,9.06-3.33,16.14-3.33,14.89,0,24.37,9.58,24.37,25.31C270.85,182,258.45,191,246.17,191Zm.2-44.67a26.65,26.65,0,0,0-8.43,1.25v34.88a16.83,16.83,0,0,0,7.91,2c10.31,0,17.29-7.39,17.29-19.58C263.14,152,255.33,146.36,246.37,146.36Z"}),e.jsx("path",{className:"cls-6",d:"M283.14,190V140.73h7.6V190Z"}),e.jsx("path",{className:"cls-6",d:"M337.19,190v-30.3c0-6.15-1-13-8.54-13-6,0-11.45,4.27-15.31,7.7V190h-7.6V140.73H312l1,5.83c5.83-4.27,10.73-7.08,17.6-7.08,7.08,0,14.16,5.1,14.16,17.39V190Z"}),e.jsx("path",{className:"cls-6",d:"M363.85,166.66c0,9.38,5.42,17.71,16.35,17.71a23.4,23.4,0,0,0,11.67-3.54l2.29,5.2c-3.54,2.92-9.79,5-15.52,5-15.41,0-22.91-12.6-22.91-26.66,0-14.27,8.12-24.89,20-24.89,12.7,0,19.68,10.1,19.68,25.41v1.77Zm12-20.72c-7.29,0-11.87,6.46-11.87,14.27h23.22C387.18,153.33,383.33,145.94,375.83,145.94Z"}),e.jsx("path",{className:"cls-6",d:"M49.3,183a24.13,24.13,0,0,0,8.54-2.84,24.86,24.86,0,0,0,6.83-5.52,25.84,25.84,0,0,0,4.54-7.6,24.68,24.68,0,0,0,1.67-9V140.9h7.19V158a31.49,31.49,0,0,1-2.56,12.64,32.45,32.45,0,0,1-7,10.24,33.54,33.54,0,0,1-10.29,6.93,31.47,31.47,0,0,1-12.63,2.56H42.11V140.9H49.3Z"}),e.jsx("rect",{className:"cls-3",x:"189.74",y:"42.11",width:"18.58",height:"18.58"}),e.jsx("rect",{className:"cls-4",x:"238.2",y:"42.11",width:"18.58",height:"18.58"}),e.jsx("rect",{className:"cls-1",x:"189.74",y:"66.34",width:"18.58",height:"18.58"}),e.jsx("path",{className:"cls-5",d:"M238.2,84.92a18.57,18.57,0,0,0,18.57-18.58H238.2V84.92"}),e.jsx("rect",{className:"cls-1",x:"189.74",y:"90.57",width:"18.58",height:"18.58"}),e.jsx("path",{className:"cls-5",d:"M214,109.15a18.57,18.57,0,0,0,18.57-18.58H214v18.58"})]})}const Fse=vse,Lh="INIT_DIALOG",Nh="HELP_DIALOG",{VITE_VERSION:Ase}={VITE_VERSION:"24.3.0",VITE_NAME:"@vidispine/admin-tool",VITE_VIDISPINE_URL:"",BASE_URL:"https://vidispine.github.io/admin-tool",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Pse=t=>qh({...t,palette:{type:"light"}});class Dse extends I.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onTestUrl=this.onTestUrl.bind(this),this.state={selfTestDocument:void 0,loading:!1,loadingInit:!1}}componentDidMount(){document.title="VidiCore Admin";const{baseUrl:n}=this.props;n&&this.onRefresh()}async onRefresh(){const{onOpen:n,useProxy:s}=this.props;this.setState({selfTestDocument:void 0}),await this.setState({loading:!0});try{Zh.listSelfTest({noAuth:!0,baseURL:s?window.location.origin:this.props.baseUrl}).then(({data:o})=>{this.setState({selfTestDocument:o,loading:!1});const{status:r,test:i=[]}=o;let a;r==="warning"&&(a=i.find(l=>{const{name:c,test:u=[]}=l;return c==="database"?u.find(p=>{const{message:x=[]}=p;return x.find(j=>j.includes("did APIInit run?"))}):!1})),a&&n({modalName:Lh})}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;this.setState({loading:!1,selfTestDocument:{status:"failed"}}),n({messageContent:"Error Contacting Server",messageColor:"secondary"})}onSuccess({data:n,userName:s,runAs:o,baseUrl:r}){if(r){const u=encodeURIComponent(r),p=Si()?encodeURIComponent(Si()):void 0,x=window.location.pathname.replace(/(.+?)\/+$/,"$1");if(!x.includes(u)){let j;p&&x.includes(p)?j=x.replace(p,u):j=x==="/"?[u,"/"].join(""):[x,u,""].join("/"),window.history.pushState({},"",j)}}const{setUserName:i,setToken:a,setRunAs:l,setResponseInterceptor:c}=this.props;o&&l(o,r),c(),i(s,r),a(n,r)}onTestUrl(n){const{setBaseUrl:s}=this.props;s(n),this.onRefresh()}render(){const{selfTestDocument:n,loading:s,loadingInit:o}=this.state,{userName:r,baseUrl:i,onOpen:a,useProxy:l}=this.props,c={headers:{username:r,accept:"text/plain"},queryParams:{autoRefresh:!0,seconds:604800},baseUrl:i},{status:u}=n||{};return e.jsxs(Hh,{theme:Pse,children:[e.jsxs(F,{container:!0,children:[e.jsx(F,{item:!0,sm:4,children:e.jsxs(N,{elevation:0,square:!0,style:{height:"100vh"},children:[e.jsx(F,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:"100%"},children:e.jsxs(F,{item:!0,children:[e.jsx(F,{container:!0,alignItems:"center",justifyContent:"center",direction:"row",style:{height:35,marginBottom:20},children:n&&e.jsx(ba,{selfTestDocument:n,clickable:!0,onClick:this.onRefresh,loading:s})}),e.jsx(fse,{initialValues:c,onSuccess:this.onSuccess,onTestUrl:this.onTestUrl,status:u,useProxy:l})]})}),e.jsx(ar,{color:"inherit",style:{top:"auto",bottom:0,backgroundColor:"black",color:"white"},square:!0,elevation:0,children:e.jsx(lr,{variant:"dense",children:e.jsxs(F,{container:!0,justifyContent:"flex-end",alignItems:"center",children:[e.jsx(lp,{href:"https://github.com/vidispine/admin-tool",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",style:{marginRight:5},children:"VidiCore Admin"}),e.jsx(b,{variant:"body2",color:"inherit",children:`v${Ase}`}),e.jsx(eg,{}),e.jsx(Q,{color:"inherit",disableRipple:!0,onClick:()=>a({modalName:Nh}),children:e.jsx(Cb,{})})]})})})]})}),e.jsx(F,{item:!0,sm:8,style:{background:"linear-gradient(-45deg,#b0c800,#0068a9 0,#0068a9 33%,#002749 100%,#b0c800 0)"},container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:e.jsx(Fse,{alt:"VidiCore Admin Tool",style:{height:"inherit",width:"25vw",minWidth:"100px",backgroundColor:"#fff"}})})]}),e.jsx(bse,{dialogName:Lh,onSuccess:this.onRefresh,loadingInit:o,setLoadingInit:p=>this.setState({loadingInit:p})}),e.jsx(Ese,{dialogName:Nh,baseUrl:i})]})}}const Mse=A(tt,Nn)(Dse),Ose=`
    color:white;
    background-color:black;
    padding: 8px;
    font-weight: 600;
    font-family: Courier;
    font-size: 16px;
`,Lse=()=>{console.info(`%c🎉🎉🎉    Welcome to the VidiCore admin-tool!    🎉🎉🎉
👻👻👻     Try using the "VidiCore" object    👻👻👻
🤖🤖🤖    https://vidispine.github.io/vdt-api/   🤖🤖🤖
👻👻👻    Try using the "vdtjs" object   👻👻👻
🤖🤖🤖 https://vidispine.github.io/vdt/dev/?path=/docs/vdt-js-overview--docs 🤖🤖🤖`,Ose),window.VidiCore=Object.keys(Dr).reduce((t,n)=>{const s=Object.keys(Dr[n]).reduce((o,r)=>{const i=Dr[n][r],a=l=>i(l).then(c=>(console.log(c.data),c));return{...o,[r]:a}},{});return{...t,[n]:s}},{}),window.vdtjs=yb},xi="VIDISPINE-TOKEN",ji="VIDISPINE-USERNAME",fi="VIDISPINE-RUNAS",gi="VIDISPINE-IS-AUTHENTICATED",_h="VIDISPINE-SERVER-URL";class Nse extends I.Component{constructor(n){super(n),this.setUserName=this.setUserName.bind(this),this.unsetUserName=this.unsetUserName.bind(this),this.setToken=this.setToken.bind(this),this.unsetToken=this.unsetToken.bind(this),this.setRunAs=this.setRunAs.bind(this),this.unsetRunAs=this.unsetRunAs.bind(this),this.setBaseUrl=this.setBaseUrl.bind(this),this.unsetBaseUrl=this.unsetBaseUrl.bind(this),this.setResponseInterceptor=this.setResponseInterceptor.bind(this),this.unsetResponseInterceptor=this.unsetResponseInterceptor.bind(this),this.cookieVidispineUrl=Nb(),this.windowVidispineUrl=$b(),this.envVidispineUrl=_b(),this.pathVidispineUrl=Si();const s=this.pathVidispineUrl||this.windowVidispineUrl||this.envVidispineUrl||this.cookieVidispineUrl;this.useProxy=s!==void 0&&(s===this.windowVidispineUrl||s===this.envVidispineUrl),this.basename=dp(s);const{cookies:o}=this.props,r=o.get(xi,{path:this.basename}),i=o.get(ji,{path:this.basename}),a=o.get(fi,{path:this.basename});if(o.get(gi,{path:Xt})==="true"&&this.cookieVidispineUrl&&this.pathVidispineUrl===void 0){const c=window.location.pathname.replace(/(.+?)\/+$/,"$1"),u=encodeURIComponent(this.cookieVidispineUrl),p=c==="/"?[u,"/"].join(""):[c,u,""].join("/");window.history.pushState({},"",p),window.location.reload()}s&&s!=="undefined"&&($e.defaultClient.defaults.baseURL=this.useProxy?window.location.origin:s),r&&r!=="undefined"&&($e.defaultClient.defaults.headers.Authorization=`token ${r}`,this.setResponseInterceptor(),Lse()),a&&a!=="undefined"&&($e.defaultClient.defaults.headers.RunAs=a),this.state={token:r!=="undefined"?r:void 0,userName:i!=="undefined"?i:void 0,runAs:a!=="undefined"?a:void 0,baseUrl:s!=="undefined"?s:void 0}}setUserName(n,s){const{cookies:o}=this.props;o.set(ji,n,{path:Vn(s)}),this.setState({userName:n})}setToken(n,s){const{cookies:o}=this.props;o.set(xi,n,{path:Vn(s)}),o.set(gi,!0,{path:Xt}),$e.defaultClient.defaults.headers.Authorization=`token ${n}`,this.setState({token:n}),this.setResponseInterceptor()}setResponseInterceptor(){const{openSnackBar:n}=this.props;this.responseInterceptor=$e.defaultClient.interceptors.response.use(s=>s,s=>{if(s.response&&s.response.status)s.response.status===401&&(n({messageContent:"Logged Out",messageColor:"secondary"}),setTimeout(()=>this.unsetToken(),1e3));else{const{config:{baseURL:o}={}}=s;this.checkOnline||(this.checkOnline=!0,ap.getSelfTest({baseURL:o}).then(()=>{n({messageContent:"Logged Out",messageColor:"secondary"}),setTimeout(()=>this.unsetToken(),1e3),this.checkOnline=!1}).catch(()=>{n({messageContent:"Server Offline",messageColor:"secondary"}),this.checkOnline=!1}))}return Promise.reject(s)})}setRunAs(n,s){const{cookies:o}=this.props;o.set(fi,n,{path:Vn(s)}),$e.defaultClient.defaults.headers.RunAs=n,this.setState({runAs:n})}setBaseUrl(n){const{cookies:s}=this.props;s.set(_h,n,{path:Xt}),this.windowVidispineUrl!==n&&(this.useProxy=!1),$e.defaultClient.defaults.baseURL=this.useProxy?window.location.origin:n,this.setState({baseUrl:n})}unsetResponseInterceptor(){this.responseInterceptor&&$e.defaultClient.interceptors.response.eject(this.responseInterceptor)}unsetUserName(){const{cookies:n}=this.props,{baseUrl:s}=this.state;n.remove(ji,{path:Vn(s)}),this.setState({userName:void 0}),this.unsetToken()}unsetToken(){const{cookies:n}=this.props,{baseUrl:s}=this.state;n.remove(xi,{path:Vn(s)}),n.remove(gi,{path:Xt}),delete $e.defaultClient.defaults.headers.Authorization,this.setState({token:void 0})}unsetRunAs(){const{cookies:n}=this.props,{baseUrl:s}=this.state;n.remove(fi,{path:Vn(s)}),delete $e.defaultClient.defaults.headers.RunAs,this.setState({runAs:void 0})}unsetBaseUrl(){const{cookies:n}=this.props;n.remove(_h,{path:Xt}),delete $e.defaultClient.defaults.baseURL,this.setState({baseUrl:void 0})}render(){const{token:n,userName:s,runAs:o,baseUrl:r}=this.state,{loginComponent:i,appComponent:a,...l}=this.props;return n?e.jsx(a,{userName:o||s,baseUrl:r,unsetResponseInterceptor:this.unsetResponseInterceptor,unsetUserName:this.unsetUserName,unsetToken:this.unsetToken,unsetRunAs:this.unsetRunAs,useProxy:this.useProxy,...l}):e.jsx(i,{userName:s,runAs:o,baseUrl:r,setUserName:this.setUserName,setToken:this.setToken,setBaseUrl:this.setBaseUrl,setRunAs:this.setRunAs,setResponseInterceptor:this.setResponseInterceptor,unsetUserName:this.unsetUserName,unsetToken:this.unsetToken,unsetRunAs:this.unsetRunAs,useProxy:this.useProxy,...l})}}const _se=A(Nn,Sb)(Nse),$se={modalName:void 0,isMainMenuOpen:!1,isLoading:!1,snackBar:{isOpen:!1}};function kse(t){return{...t,modalName:null}}function Wse(t){return{...t,snackBar:{isOpen:!1}}}function wse(t,n){const s={isOpen:!0,...n};return{...t,snackBar:s}}function Use(t=$se,n){switch(n.type){case ma:return{...t,isLoading:n.isLoading};case ua:return wse(t,n);case da:return Wse(t);case aa:return kse(t);case la:return{...t,...n};case ca:return{...t,isMainMenuOpen:n.isMainMenuOpen}}return t}const Vse=Rb({ui:Use,form:Tb});function Gse({preloadedState:t}){return Ib(Vse,t)}const qse=Eb(),Hse=Gse({history:qse});vb.render(e.jsx(Fb,{store:Hse,children:e.jsx(iT,{children:e.jsx(_se,{loginComponent:Mse,appComponent:ase})})}),document.getElementById("root"));
