import{r as T,u as mp,c as hp,j as e,T as pp,C as pb,d as ma,a as xb,f as jb,b as fb,e as Ce,S as gb,I as ee,g as ha,h as C,w as mo,i as I,k as q,n as lr,l as je,G as O,F as R,m as on,o as V,D as U,A as te,B as f,s as xt,p as xe,q as $n,t as le,R as xp,v as jp,x as Kt,y as Se,z as qe,E as cr,H as ve,J as Ct,L as wt,N as pa,K as Ue,M as bb,O as Cb,P as dr,Q as yb,U as Sb,V as ye,W as Rb,X as J,Y as Re,Z as L,_ as Rt,$ as Tb,a0 as ae,a1 as jt,a2 as F,a3 as $,a4 as _,a5 as N,a6 as W,a7 as Eb,a8 as Oi,a9 as X,aa as Ib,ab as vb,ac as as,ad as al,ae as Ab,af as ll,ag as et,ah as fp,ai as Fb,aj as b,ak as Vt,al as ur,am as Me,an as lt,ao as Ae,ap as Fe,aq as xa,ar as Wn,as as ja,at as Li,au as gp,av as Mb,aw as me,ax as ce,ay as ue,az as A,aA as de,aB as Db,aC as bp,aD as Pb,aE as fe,aF as ge,aG as Ie,aH as Ob,aI as Lb,aJ as Nb,aK as _b,aL as Cp,aM as Mt,aN as Pt,aO as Ot,aP as $b,aQ as Wb,aR as cl,aS as oo,aT as kb,aU as yp,aV as wb,aW as Ub,aX as Vb,aY as Gb,aZ as Qt,a_ as nt,a$ as G,b0 as Sp,b1 as qb,b2 as gs,b3 as Hb,b4 as Bb,b5 as zb,b6 as ct,b7 as ft,b8 as rn,b9 as pt,ba as Jb,bb as ze,bc as Rp,bd as Jt,be as Pn,bf as Qe,bg as Dt,bh as ho,bi as hn,bj as Kb,bk as ds,bl as Yb,bm as mr,bn as fa,bo as Qb,bp as Xb,bq as bs,br as ga,bs as Fn,bt as ba,bu as Zb,bv as eC,bw as Ni,bx as Wt,by as Cs,bz as Gn,bA as yt,bB as mn,bC as gt,bD as bt,bE as B,bF as xn,bG as Xt,bH as $e,bI as nn,bJ as dl,bK as tC,bL as nC,bM as po,bN as hr,bO as us,bP as Tp,bQ as Ca,bR as ya,bS as Sa,bT as sC,bU as Je,bV as oC,bW as rC,bX as Ep,bY as Ra,bZ as iC,b_ as aC,b$ as lC,c0 as pr,c1 as xr,c2 as cC,c3 as Ip,c4 as dC,c5 as we,c6 as Mn,c7 as an,c8 as Ve,c9 as ro,ca as He,cb as jr,cc as sn,cd as Qo,ce as vp,cf as Ap,cg as Ta,ch as uC,ci as mC,cj as Fp,ck as hC,cl as pC,cm as xC,cn as jC,co as jn,cp as fr,cq as Xo,cr as Mp,cs as Dp,ct as ys,cu as gr,cv as fC,cw as Ss,cx as Pp,cy as br,cz as Rs,cA as gC,cB as Zo,cC as bC,cD as CC,cE as yC,cF as SC,cG as RC,cH as TC,cI as EC,cJ as Op,cK as IC,cL as vC,cM as AC,cN as Lp,cO as Cr,cP as FC,cQ as MC,cR as Np,cS as _p,cT as DC,cU as Ur,cV as PC,cW as OC,cX as LC,cY as NC,cZ as _C}from"./vendor-975f17f2.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function $p(t){const s=`; ${document.cookie}`.split(`; ${t}=`);if(s.length===2)return s.pop().split(";").shift()}const Wp=T.createContext(()=>{throw new Error("Forgot to wrap component in `ThemeProvider`")}),$C="#7c74bd",WC="#0068a9",kC="#44a8aa",wC="#6DC3C5",ul="#df5f5f",UC=['"Open Sans"',"Helvetica","Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",");function VC({children:t}){const s=mp("(prefers-color-scheme: dark)")?"dark":"light",[o,r]=T.useReducer((l,d)=>{switch(d.type){case"CHANGE":return{...l,paletteType:d.payload.paletteType||l.paletteType};default:throw new Error(`Unrecognized type ${d.type}`)}},{}),{paletteType:i=s}=o;T.useEffect(()=>{const l=$p("paletteType")||s;r({type:"CHANGE",payload:{paletteType:l}})},[s]);const a=T.useMemo(()=>hp({overrides:{MuiAccordion:{root:{marginTop:4,marginBottom:4}},MuiTablePagination:{root:{overflow:"visible"}},MuiButton:{textSecondary:{color:ul}},WAMuiChipInput:{root:{marginBottom:l=>l.helperText?20:void 0}},MuiFormHelperText:{root:{fontStyle:"italic",marginBottom:8}}},props:{MuiTextField:{InputLabelProps:{shrink:!0}},MuiInputLabel:{shrink:!0},MuiPaper:{square:!0,elevation:0},MuiCard:{square:!0,elevation:0,variant:"outlined"},MuiTable:{component:"div"},MuiTableBody:{component:"div"},MuiTableCell:{component:"div"},MuiTableFooter:{component:"div"},MuiTableHead:{component:"div"},MuiTablePagination:{component:"div"},MuiTableRow:{component:"div"},MuiAccordion:{square:!0,elevation:0},MuiAccordionSummary:{expandIcon:e.jsx(ma,{})},WAMuiChipInput:{InputLabelProps:{shrink:!0}}},palette:{type:i,primary:{main:WC},secondary:{main:$C},success:{light:wC,main:kC},error:{main:ul},background:{default:{light:"rgb(246, 248, 250)",dark:"rgb(9, 12, 16)"}[i],paper:{light:"rgb(255, 255, 255)",dark:"rgb(13, 17, 23)"}[i]},text:{primary:{light:"rgba(0, 0, 0, 0.87)",dark:"rgb(201, 209, 217)"}[i],secondary:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(139, 148, 158)"}[i]}},action:{active:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(201, 209, 217)"}[i]},divider:{light:"rgba(0, 0, 0, 0.12)",dark:"rgb(48, 54, 61)"}[i],typography:{fontFamily:UC}}),[i]);return e.jsxs(pp,{theme:a,children:[e.jsx(pb,{}),e.jsx(Wp.Provider,{value:r,children:t})]})}function GC(){const t=T.useContext(Wp);return T.useCallback(n=>t({type:"CHANGE",payload:n}),[t])}const Ea="MODAL_RESET",Ia="MODAL_RECEIVE",va="MAINMENU_TOGGLE",Aa="SNACKBAR_RESET",Fa="SNACKBAR_RECEIVE",Ma="LOADING_RECEIVE";function st(){return{type:Ea}}function ot({modalName:t,...n}){return{type:Ia,modalName:t,...n}}function qC(t=!1){return{type:Ma,isLoading:t}}function HC(t){return{type:va,isMainMenuOpen:t}}function BC(){return(t,n)=>{const{isMainMenuOpen:s}=n().ui;t(HC(!s))}}function kp(){return{type:Aa}}function Le({...t}){return{type:Fa,...t}}const yr=Object.freeze(Object.defineProperty({__proto__:null,LOADING_RECEIVE:Ma,MAINMENU_TOGGLE:va,MODAL_RECEIVE:Ia,MODAL_RESET:Ea,SNACKBAR_RECEIVE:Fa,SNACKBAR_RESET:Aa,closeModal:st,closeSnackBar:kp,openModal:ot,openSnackBar:Le,setLoading:qC,toggleMainMenu:BC},Symbol.toStringTag,{value:"Module"})),zC={modalName:void 0,isMainMenuOpen:!1,isLoading:!1,snackBar:{isOpen:!1}};function JC(t){return{...t,modalName:null}}function KC(t){return{...t,snackBar:{isOpen:!1}}}function YC(t,n){const s={isOpen:!0,...n};return{...t,snackBar:s}}function QC(t=zC,n={}){switch(n.type){case Ma:return{...t,isLoading:n.isLoading};case Fa:return YC(t,n);case Aa:return KC(t);case Ea:return JC(t);case Ia:return{...t,...n};case va:return{...t,isMainMenuOpen:n.isMainMenuOpen}}return t}const XC=xb({ui:QC,form:jb});function ZC({preloadedState:t}){return fb(XC,t)}let Bt="https://vidispine.github.io/admin-tool";Bt&&Bt.startsWith("http")?(Bt=new URL(Bt),Bt=Bt.pathname.replace(/(.+?)\/+$/,"$1")):(Bt=new URL(Bt,window.location.origin),Bt=Bt.pathname.replace(/(.+?)\/+$/,"$1"));const kt=Bt,wp=t=>t===void 0?kt:[kt.replace(/\/+$/,""),encodeURIComponent(t)].join("/"),ey=(t="VIDISPINE-SERVER-URL")=>{const n={};if(document.cookie.split("; ").forEach(s=>{const[o,r]=s.split("=");n[o]=r}),n[t])return decodeURIComponent(n[t])},ty=(t="VITE_VIDISPINE_URL")=>{try{return{VITE_VERSION:"25.3.0",VITE_NAME:"@vidispine/admin-tool",VITE_VIDISPINE_URL:"",VITE_GIT_COMMIT:"ec3e5a6",BASE_URL:"https://vidispine.github.io/admin-tool",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[t]!==""?{VITE_VERSION:"25.3.0",VITE_NAME:"@vidispine/admin-tool",VITE_VIDISPINE_URL:"",VITE_GIT_COMMIT:"ec3e5a6",BASE_URL:"https://vidispine.github.io/admin-tool",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[t]:void 0}catch{return}},ny=(t="VIDISPINE_URL")=>window[t]!==`$${t}`&&window[t]!==""?window[t]:void 0,sy=(t="CONTAINER_PROXY")=>window[t]!==`$${t}`&&window[t]!==""&&window[t]!=="false"&&window[t]!=="False"?!0:void 0,_i=()=>{const t=window.location.pathname.replace(kt,"").replace(/^\/+/,"");if(t===void 0)return;const[n]=t.split("/");try{const s=decodeURIComponent(n);return s.startsWith("http")?s:void 0}catch{return}},Zn=t=>{const n=kt.replace(/^\/+/,""),s=encodeURIComponent(t);return`${n!==""&&!n.startsWith("/")?"/":""}${n}/${s}${s.endsWith("/")?"":"/"}`},$i=["item","collection","job","storage","file","quota","group","document","deletion-lock"];function oy({closeSnackBar:t,isOpen:n=!1,messageContent:s,actionButton:o,messageColor:r="inherit"}){const i=[o,e.jsx(ee,{"aria-label":"Close",color:"inherit",onClick:t,children:e.jsx(ha,{})},"close")],a=e.jsx(C,{color:r,id:"message-id",children:s});return e.jsx(gb,{open:n,autoHideDuration:6e3,onClose:t,message:a,action:i,anchorOrigin:{vertical:"bottom",horizontal:"left"}})}function ry(t){const{ui:{snackBar:n}}=t;return{...n}}const iy={closeSnackBar:kp},ay=Ce(ry,iy)(oy),fn=t=>class extends T.Component{constructor(n){super(n),this.state={hasError:null}}componentDidCatch(){this.setState({hasError:!0}),console.error(this.props)}render(){const{hasError:n}=this.state;return n?e.jsx(C,{color:"error",children:"Unable to render component (see console)"}):e.jsx(t,{...this.props})}};function ly(t,n){const{match:s={}}=n,{params:o={}}=s;return{...o}}const We=t=>Ce(ly,null)(mo(t));function cy(t,n){const{dialogName:s,isOpen:o}=n,{ui:{modalName:r,...i}}=t;let a=s!==void 0&&r===s;return o!==void 0&&(a=o),a?{open:a,currentDialog:r,modalName:r,...i}:{open:a,currentDialog:r,modalName:r}}const dy={onClose:st,onOpen:ot},tt=t=>Ce(cy,dy)(t),gn=I(tt,We),ml=t=>{let n=t.message;throw{}.NODE_ENV!=="production"&&console.error(t),t.response&&(n=JSON.stringify(t.response.data,(s,o)=>o===null?void 0:o)),new q({_error:n})},he=t=>(n,s,o,...r)=>{try{return t(n,s,o,...r).catch(ml)}catch(i){throw ml(i)}},uy=he(t=>{const{queryParams:n}=t;return lr.listAnalyzePreset({queryParams:n})}),Up=he((t,n,s)=>{const{analyzePresetDocument:o}=t,r=s.preset||t.preset||o.name;return lr.getAnalyzePreset({preset:r,body:o,method:"PUT"})}),my={openSnackBar:Le},Ts=t=>Ce(null,my)(t),H=I(Ts,We),v=I(tt,Ts,We);class hy extends T.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.onSubmitSuccess=this.onSubmitSuccess.bind(this),this.state={isEditing:n.defaultEditing||!1}}onSubmitSuccess(n,s,o){const{onSubmitSuccess:r}=this.props;this.toggleEdit(),r(n,s,o)}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{submitForm:n,initialValues:s,formComponent:o,formProps:r={},displayComponent:i,displayProps:a={},formName:l,onSubmit:d,onSubmitFail:u,title:p,iconList:x}=this.props,{isEditing:j}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:p}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsxs(O,{item:!0,children:[x,o&&e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:j,onChange:this.toggleEdit})]})})}),e.jsx(V,{children:j?o&&e.jsx(o,{form:l,initialValues:s,onSubmit:d,onSubmitSuccess:this.onSubmitSuccess,onSubmitFail:u,...r}):i&&e.jsx(i,{...a})}),j&&o&&e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>n(l),variant:"contained",size:"large",color:"primary",children:"Save"})]})]})]})}}const py={submitForm:xt},Ge=Ce(null,py)(hy),xy=t=>({FormControlLabel:{height:t.typography.subtitle1.lineHeight}});function jy({className:t,title:n,value:s,classes:o,titleStartCase:r=!0}){return e.jsx("div",{className:t,children:e.jsx(R,{classes:{root:o.FormControlLabel},control:e.jsx($n,{checked:s==="true"||s===!0,indeterminate:s===""||s===void 0,disabled:!0}),label:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:r?le(n):n})})})}const fy=xe(xy)(jy);function ms(t,n,s){if(t)try{return JSON.stringify(typeof t=="string"?JSON.parse(t):t,null,n||2)}catch(o){if(s===!0)return t;throw o}}function pn(t){const n=" ".repeat(2),s=/(>)(<)(\/*)/g;let o=0;return t.replace(s,`$1\r
$2$3`).split(`\r
`).map(r=>{let i=0;return r.match(/.+<\/\w[^>]*>$/)?i=0:r.match(/^<\/\w/)&&o>0?o-=1:r.match(/^<\w[^>]*[^/]>.*$/)?i=1:i=0,o+=i,n.repeat(o-i)+r}).join(`\r
`)}const gy={CodeMirror:{"& .CodeMirror":{height:"100%",width:"100%",maxWidth:"90vw"}}};class by extends T.Component{constructor(n){super(n),this.cmRef=this.cmRef.bind(this)}cmRef(n){this.jsonRef=n}render(){const{value:n,classes:s,className:o}=this.props;return this.jsonRef&&this.jsonRef.codeMirror.setValue(n),e.jsx(xp,{codeMirrorInstance:jp,ref:this.cmRef,...this.props,className:Kt([o,s.CodeMirror])})}}const Es=xe(gy)(by);function Cy({title:t,value:n,variant:s,titleGridProps:o,titleStartCase:r=!0,codeProps:i={},noWrapTitle:a=!0,hideCode:l=!1,onTextClick:d,isValueHidden:u,toggleHideValue:p}){let x=n||"",j;switch(s){case"json":case"application/json":x=ms(n)||"",j="application/json";break;case"xml":case"application/xml":x=pn(n)||"",j="xml";break;case"application/ld+json":x=ms(n,2,!0)||"",j="application/ld+json";break}return e.jsxs("div",{children:[t!==void 0&&e.jsxs(O,{container:!0,direction:"row",alignItems:"center",wrap:"nowrap",children:[e.jsx(O,{md:3,sm:4,xs:6,...o,item:!0,children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",onClick:d,noWrap:a,children:r?le(t):t})}),l===!0&&e.jsx(f,{onClick:p,size:"small",variant:"outlined",children:`${u?"Show":"Hide"} ${r?le(t):t}`})]}),(l===!1||u===!1)&&e.jsx(Es,{value:x,onClick:d,options:{mode:j,readOnly:!0,theme:"material",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...i}})]})}const hl=fn(Cy),yy=new URLSearchParams({content:"metadata",field:["title","originalFilename"],terse:!0}),ie={itemList:t=>Se(`/item/?${yy.toString()}`,t),item:t=>Se("/item/:itemId",t),shapeList:t=>Se("/item/:itemId/shape/",t),shape:t=>Se("/item/:itemId/shape/:shapeId",t),componentList:t=>Se("/item/:itemId/shape/:shapeId/component/",t),component:t=>Se("/item/:itemId/shape/:shapeId/component/:componentId/",t),itemVersionList:t=>Se("/item/:itemId/version/",t),itemBulkyMetadataList:t=>Se("/item/:itemId/bulky-metadata/",t),itemSequenceList:t=>Se("/item/:itemId/sequence/",t),itemSequence:t=>Se("/item/:itemId/sequence/:format/",t),fileList:t=>Se("/file/",t),file:t=>Se("/file/:fileId",t),storageList:t=>Se("/storage/",t),storage:t=>Se("/storage/:storageId",t),storageFile:t=>Se("/storage/:storageId/file/",t),secretList:t=>Se("/secret/",t),secret:t=>Se("/secret/:alias",t),shapeTagList:t=>Se("/shape-tag/",t),shapeTag:t=>Se("/shape-tag/:tagName",t),user:t=>Se("/user/:userName/",{...t,userName:encodeURI(t.userName)}),userAccessKey:t=>Se("/user/:userName/key",{...t,userName:encodeURI(t.userName)}),importAccessUser:t=>Se("/import/access/:userName",{...t,userName:encodeURI(t.userName)}),group:t=>Se("/group/:groupName/",{...t,groupName:encodeURI(t.groupName)}),metadataFieldList:t=>Se("/metadata-field/",t),metadataField:t=>Se("/metadata-field/:fieldName/",t),fieldGroupList:t=>Se("/field-group/",t),fieldGroup:t=>Se("/field-group/:groupName/",t)};function Sy(t,n){if(t===void 0||Number.isNaN(t))return"";if(t===0)return"0";let s,o=t;t<0&&(s=!0,o=-t);const r=parseInt(Math.floor(Math.log(o)/Math.log(1024)),10);return r===0?`${t} ${n[r]}`:`${s?"-":""}${(t/1024**r).toFixed(1)} ${n[r]}`}function xo(t){return Sy(t,["Bytes","KB","MB","GB","TB","PB","EB"])}const St=t=>t[0].toUpperCase()+t.toLowerCase().slice(1);function Vp({data:t,fileName:n}){const s=window.URL.createObjectURL(new Blob([t])),o=document.createElement("a");o.href=s,o.setAttribute("download",n),o.click(),window.URL.revokeObjectURL(s)}function Ry(t){const n=qe(t),s=qe(),o=qe.duration(s.diff(n));return`${parseInt(o.asMinutes(),10)} minutes`}function Gp(t,n){if(t===void 0||Number.isNaN(t))return"";if(t===0)return"0";const s=parseInt(Math.floor(Math.log(t)/Math.log(1e3)),10);return s===0?`${t} ${n[s]})`:`${(t/1e3**s).toFixed(1)} ${n[s]}`}function Ty(t){return Gp(t,["bps","Kbps","Mbps","Gbps","Tbps"])}function Ey(t){return Gp(t,["Hz","kHz","mHz","gHz","tHz"])}function qp(t){return e.jsx(cr,{...t,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})})}const Iy=xe(t=>({label:{color:t.palette.common.white}}))(f);function vy({value:t,...n}){const[s,o]=T.useState(!1),r=()=>{navigator.clipboard.writeText(typeof t=="object"?JSON.stringify(t):t),o(!0)},i=()=>o(!1);return e.jsx(ve,{placement:"right",enterDelay:1e3,enterNextDelay:500,leaveDelay:0,arrow:!0,onOpen:i,title:e.jsx(Iy,{variant:"text",size:"small",endIcon:s?e.jsx(Ct,{}):e.jsx(qp,{}),onClick:r,children:s?"Copied":"Copy to clipboard"}),interactive:!0,...n})}let ls="",so=null,Uo=null,Hp=null;function Da(){ls="",so!==null&&so.disconnect(),Uo!==null&&(window.clearTimeout(Uo),Uo=null)}function pl(t){const n=["BUTTON","INPUT","SELECT","TEXTAREA"],s=["A","AREA"];return n.includes(t.tagName)&&!t.hasAttribute("disabled")||s.includes(t.tagName)&&t.hasAttribute("href")}function xl(){let t=null;if(ls==="#")t=document.body;else{const n=ls.replace("#","");t=document.getElementById(n),t===null&&ls==="#top"&&(t=document.body)}if(t!==null){Hp(t);const n=t.getAttribute("tabindex");return n===null&&!pl(t)&&t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),n===null&&!pl(t)&&(t.blur(),t.removeAttribute("tabindex")),Da(),!0}return!1}function Ay(t){window.setTimeout(()=>{xl()===!1&&(so===null&&(so=new MutationObserver(xl)),so.observe(document,{attributes:!0,childList:!0,subtree:!0}),Uo=window.setTimeout(()=>{Da()},t||1e4))},0)}function Bp(t){return T.forwardRef((n,s)=>{let o="";typeof n.to=="string"&&n.to.includes("#")?o=`#${n.to.split("#").slice(1).join("#")}`:typeof n.to=="object"&&typeof n.to.hash=="string"&&(o=n.to.hash);const r={};t===pa&&(r.isActive=(x,j)=>x&&x.isExact&&j.hash===o);const i=x=>{Da(),ls=n.elementId?`#${n.elementId}`:o,n.onClick&&n.onClick(x),ls!==""&&!x.defaultPrevented&&x.button===0&&(!n.target||n.target==="_self")&&!(x.metaKey||x.altKey||x.ctrlKey||x.shiftKey)&&(Hp=n.scroll||(j=>n.smooth?j.scrollIntoView({behavior:"smooth"}):j.scrollIntoView()),Ay(n.timeout))},{scroll:a,smooth:l,timeout:d,elementId:u,...p}=n;return e.jsx(t,{...r,...p,onClick:i,ref:s,children:n.children})})}const Fy=Bp(wt);Bp(pa);const My={textDecoration:"none",color:"inherit"},Dy=T.forwardRef((t,n)=>e.jsx(Fy,{ref:n,style:My,...t,onClick:s=>s.stopPropagation()})),Py={textDecoration:"none",color:"inherit"},be=T.forwardRef((t,n)=>e.jsx(wt,{ref:n,style:Py,...t,onClick:s=>s.stopPropagation()})),Oy=t=>({overflowWrapAnywhere:{overflowWrap:"anywhere"},fitContent:{width:"fit-content"},overflowBreakWord:{overflowWrap:"break-word"},wordBreak:{wordBreak:"break-all"},text:{...t.typography.subtitle2,color:t.palette.text.primary}}),Ee=T.forwardRef(({color:t="textPrimary",variant:n="subtitle2",value:s,...o},r)=>e.jsx(vy,{value:s,children:e.jsx(C,{ref:r,color:t,variant:n,...o})})),Ly=T.forwardRef(({variant:t,variantProps:n,capitalize:s,classes:o={},to:r,onDelete:i,isEdit:a=!1,inputRef:l,error:d,className:u,wordBreak:p=!0,...x},j)=>{const{value:g}=x;if(g===void 0)return null;const y=Kt(o.overflowWrapAnywhere,o.fitContent,u,{[o.wordBreak]:p});let D,se;switch(t){case"checkbox":D=e.jsx($n,{...x,ref:j,checked:g,disabled:!0});break;case"component":D=g;break;case"aspectratio":typeof g=="object"&&g.horizontal!==void 0&&(D=e.jsx(Ee,{...x,ref:j,className:y,children:`Horizontal:${g.horizontal} Vertical:${g.vertical}`}));break;case"duration":if(typeof g=="object"&&g.started!==void 0){const re=qe(g.started),_e=qe(g.finished),ke=qe.duration(_e.diff(re)).humanize();D=e.jsx(Ee,{...x,ref:j,className:y,children:ke})}break;case"metadataFieldValue":D=e.jsx(Ee,{...x,ref:j,className:y,value:g==null?void 0:g.value,children:g==null?void 0:g.value}),se=e.jsx("form",{noValidate:!0,autoComplete:"off",style:{width:"100%"},children:e.jsx(bb,{defaultValue:g==null?void 0:g.value,fullWidth:!0,multiline:!0,error:d,className:o.text,inputRef:l,onFocus:re=>re.currentTarget.setSelectionRange(re.currentTarget.value.length,re.currentTarget.value.length)})});break;case"fromnow":D=e.jsx(Ee,{...x,ref:j,className:y,children:Ry(g)});break;case"timestring":D=e.jsx(Ee,{...x,ref:j,className:y,children:g?qe(g).toString():""});break;case"timestamp":D=e.jsx(Ee,{...x,ref:j,className:y,...x,children:g});break;case"seconds":D=e.jsx(Ee,{...x,ref:j,className:y,children:qe.duration(g,"seconds").humanize()});break;case"rational":typeof g=="object"&&g.denominator!==void 0&&(D=e.jsx(Ee,{...x,ref:j,className:y,children:`${g.numerator}/${g.denominator}`}));break;case"resolution":typeof g=="object"&&g.width!==void 0&&(D=e.jsx(Ee,{...x,ref:j,className:y,children:`Width:${g.width} Height:${g.height}`}));break;case"timebase":typeof g=="object"&&g.denominator!==void 0&&(D=e.jsx(Ee,{...x,ref:j,className:y,children:`${g.denominator}/${g.numerator}`}));break;case"timecode":typeof g=="object"&&g.samples!==void 0&&(D=e.jsx(Ee,{...x,ref:j,className:y,children:`${g.samples}@${g.timeBase.denominator}/${g.timeBase.numerator}`}));break;case"fps":if(typeof g=="object"&&g.denominator!==void 0){const re=+(g.denominator/g.numerator).toFixed(2);D=e.jsx(Ee,{...x,ref:j,className:y,children:`${re} fps`})}break;case"fps-reverse":if(typeof g=="object"&&g.denominator!==void 0){const re=+(g.numerator/g.denominator).toFixed(2);D=e.jsx(Ee,{...x,ref:j,className:y,children:`${re} fps`})}break;case"bitrate":D=e.jsx(Ee,{...x,ref:j,className:y,children:Ty(g)});break;case"percent":D=e.jsx(Ee,{...x,className:y,ref:j,children:`${parseInt(g,10)||0}%`});break;case"frequency":D=e.jsx(Ee,{...x,ref:j,className:y,children:Ey(g)});break;case"bytes":D=e.jsx(Ee,{...x,ref:j,className:y,children:xo(g)});break;case"link":D=e.jsx(Ee,{...x,ref:j,className:y,children:r?e.jsx(be,{to:r,children:g}):g});break;case"username":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:ie.user({userName:g}),children:g})});break;case"group":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:ie.group({groupName:g}),children:g})});break;case"shape-tag":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/shape-tag/${g}/`,children:g})});break;case"metadata-field":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/metadata-field/${g}/`,children:g})});break;case"item":case"itemId":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/item/${g}/`,children:g})});break;case"shapeId":case"shape":{n!=null&&n.itemId&&(D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/item/${n.itemId}/shape/${g}/`,children:g})}));break}case"componentId":{n!=null&&n.itemId&&(n!=null&&n.shapeId)&&(D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(Dy,{to:`/item/${n.itemId}/shape/${n.shapeId}#${g}`,children:g})}));break}case"collectionId":case"collection":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/collection/${g}/`,children:g})});break;case"library":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/library/${g}/`,children:g})});break;case"documentMetadataName":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/document/${g}`,children:g})});break;case"document":D=e.jsx(Ee,{...x,ref:j,children:e.jsx(be,{to:`/document/${g}`,children:g})});break;case"dataset":D=e.jsx(Ee,{...x,ref:j,children:e.jsx(be,{to:`/metadata-dataset/${g}/`,children:g})});break;case"fileId":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/file/${g}/`,children:g})});break;case"fileIdList":D=g.split(",").map(re=>T.createElement(Ee,{...x,ref:j,className:y,key:re},e.jsx(be,{to:`/file/${re}/`,children:re})));break;case"storageId":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/storage/${g}/`,children:g})});break;case"jobtype":D=e.jsx(Ee,{...x,ref:j,className:y,children:e.jsx(be,{to:`/task-definition/jobtype/${g}/`,children:g})});break;case"boolean":D=e.jsxs(Ee,{...x,ref:j,className:y,children:[(g==="true"||g===!0)&&"True",(g==="false"||g===!1)&&"False"]});break;case"list":Array.isArray(g)&&(D=g.map(re=>T.createElement(Ue,{...x,value:re,ref:j,key:re,label:re,onDelete:i?_e=>i(_e,re):void 0})));break;case"commaseparatedlist":D=g.split(",").map(re=>T.createElement(Ee,{...x,value:re,className:o.overflowWrapAnywhere,ref:j,key:re},s?St(re):re.toString()));break;case"row":Array.isArray(g)&&(D=g.map(re=>T.createElement(Ee,{...x,value:re,className:o.overflowWrapAnywhere,ref:j,key:re},s?St(re):re.toString())));break;default:t&&console.warn(`TextGrid: Unknown variant=${t}`),D=e.jsx(Ee,{...x,className:y,ref:j,children:s?St(g):g.toString()});break}return a&&se?se:D}),Ny=xe(Oy)(Ly),_y=t=>({onHover:{minHeight:t.spacing(4),"&:hover":{backgroundColor:t.palette.action.hover}},default:{minHeight:t.spacing(4)},TitleGridItem:{},TitleTypography:{},ValueGridItem:{flexGrow:1},EditIconButton:{visibility:"hidden"},EditIcon:{},root:{alignItems:"center","&:hover $EditIconButton":{visibility:"visible"}},EditGridItem:{marginLeft:t.spacing(.5)},CheckIcon:{color:t.palette.success.main},CancelIcon:{color:t.palette.error.main}});function $y({className:t,title:n,value:s,variant:o,variantProps:r,capitalize:i=!1,titleGridProps:a,valueGridProps:l,titleTypographyProps:d={},valueTypographyProps:u={},classes:p,hover:x=!1,hideNoValue:j=!1,titleStartCase:g=!0,codeProps:y={},onClick:D,onDelete:se,disableOnClick:re=!0,noWrap:_e=!1,noWrapTitle:Oe=!0,hideCode:ke=!1,initialHideValue:$t=!0,to:Rn,onEdit:tn}){const Tn=T.useRef(),[En,Ls]=T.useState(!1),[Fo,Kn]=T.useState(!1),Mo=T.useCallback(async()=>{if(!tn||!Tn)return;const cn=Tn.current.value;try{await tn(cn,s),Kn(!1),Ls(!1)}catch{Kn(!0)}},[tn,s]),$r=()=>Ls(cn=>!cn),Wr=()=>{Ls(!1),Kn(!1)};T.useEffect(()=>{En&&Tn&&Tn.current.focus()},[En]);const Yn=Kt(t,p.root,{[p.onHover]:x,[p.default]:!x}),Qn=re?cn=>cn.stopPropagation():D,[Do,kr]=T.useState($t),Xn=()=>kr(cn=>!cn);if(j&&(s===void 0||Array.isArray(s)&&s.length===0))return null;switch(o){case"code":case"text/plain":case"json":case"application/json":case"application/ld+json":case"xml":case"application/xml":return e.jsx(hl,{title:n,value:s,variant:o,titleGridProps:a,titleStartCase:g,codeProps:y,noWrapTitle:Oe,hideCode:ke,onTextClick:Qn,toggleHideValue:Xn,isValueHidden:Do});case"application/javascript":case"javascript":return e.jsx(hl,{title:n,value:s,variant:o,titleGridProps:a,titleStartCase:g,codeProps:{mode:"javascript",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...y},noWrapTitle:Oe,hideCode:ke,onTextClick:Qn,toggleHideValue:Xn,isValueHidden:Do});case"boolean":return e.jsx(fy,{className:Yn,title:n,value:s,titleStartCase:g});default:return e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",className:Yn,alignItems:"flex-start",children:[e.jsx(O,{md:3,sm:4,xs:6,className:p.TitleGridItem,...a,item:!0,children:e.jsx(C,{color:"textSecondary",variant:"subtitle2",onClick:Qn,noWrap:Oe,className:p.TitleTypography,...d,children:g?le(n):n})}),e.jsx(O,{xs:"auto",className:p.ValueGridItem,...l,item:!0,children:e.jsx(Ny,{...u,value:s,variant:o,variantProps:r,capitalize:i,onClick:Qn,noWrap:_e,to:Rn,onDelete:se,isEdit:En,inputRef:Tn,error:Fo})}),tn&&e.jsx(O,{item:!0,className:p.EditGridItem,children:En===!0?e.jsxs(e.Fragment,{children:[e.jsx(ve,{title:"Save",arrow:!0,children:e.jsx(ee,{className:p.CheckIconButton,size:"small",onClick:Mo,children:e.jsx(Ct,{className:p.CheckIcon})})}),e.jsx(ve,{title:"Cancel",arrow:!0,children:e.jsx(ee,{className:p.CancelIconButton,size:"small",onClick:Wr,children:e.jsx(Cb,{className:p.CancelIcon})})})]}):e.jsx(ve,{title:"Edit",arrow:!0,children:e.jsx(ee,{className:p.EditIconButton,size:"small",onClick:$r,disableRipple:!0,children:e.jsx(dr,{className:p.EditIcon})})})})]})}}const h=fn(xe(_y)($y)),Wy=t=>({onHover:{"&:hover":{backgroundColor:t.palette.action.hover}},withMargin:{marginLeft:10},withPadding:{paddingTop:10,paddingBottom:10}});function ky({title:t,titleKey:n,value:s,classes:o,arrayTitle:r,arrayStartCase:i=!1,component:a,hover:l=!0,dense:d=!1,hideNoValue:u=!1,titleStartCase:p=!0,arrayKey:x,...j}){return u&&s===void 0||u&&s.length===0||!Array.isArray(s)?null:e.jsxs(e.Fragment,{children:[r&&e.jsx(C,{variant:"subtitle2",children:i?le(r):r}),s.map((g,y)=>e.jsxs("div",{className:Kt({[o.onHover]:l,[o.withMargin]:d===!1}),children:[t&&!n&&e.jsx(C,{variant:"subtitle2",children:p?le(`${t} ${y+1}`):`${t} ${y+1}`}),n&&t&&e.jsx(C,{variant:"subtitle2",children:p?le(`${t} ${g[n]}`):`${t} ${g[n]}`}),n&&!t&&e.jsx(C,{variant:"subtitle2",children:p?le(g[n]):g[n]}),e.jsx("div",{className:Kt({[o.withMargin]:d===!1}),children:e.jsx(a,{value:g,...j})})]},x?g[x]:y))]})}const Z=fn(xe(Wy)(ky)),wy=t=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:t.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}});function Uy({title:t,value:n,classes:s,component:o,hover:r=!1,hideNoValue:i=!1,titleStartCase:a=!0,dense:l=!1,...d}){return i&&n===void 0?null:e.jsxs("div",{className:r?s.onHover:s.noHover,children:[t&&e.jsx(C,{variant:"subtitle2",children:a?le(t):t}),typeof n=="object"&&e.jsx("div",{className:l?void 0:s.marginLeft,children:e.jsx(o,{value:n,...d})})]})}const w=fn(xe(wy)(Uy)),Vy=t=>{switch(t){case"batonTestPlan":return"application/xml";default:return}};function Gy({value:t={}}){return e.jsx(h,{title:t.key,value:t.value,variant:Vy(t.key)})}function qy({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(Z,{arrayTitle:"Data",value:t.data,component:Gy})]})}function Hy({analyzePresetDocument:t}){return e.jsx(w,{component:qy,value:t})}const By=t=>!t.render,jl=t=>t!==void 0?Number(t):t;function jo(t,n){class s extends T.Component{getRenderedComponent(){return this.component}render(){return T.createElement(t,{...n(this.props),ref:By(t)?null:r=>this.component=r})}}return s.displayName=`ReduxFormMaterialUI${t.name}`,s}const zy=jo($n,({input:{onChange:t,value:n,...s},meta:o,onChange:r,defaultChecked:i,...a})=>({...s,...a,checked:!!n,onChange:(l,d)=>{t(d)}})),Wi=jo(yb,({input:{onChange:t,value:n,...s},meta:o,onChange:r,...i})=>({...s,...i,value:n,onChange:(a,l)=>{t(l),r&&r(l)}})),zp=({hasHelperText:t=!0,meta:{touched:n,error:s,warning:o}={},input:r,...i})=>{const a=n&&(s||o)?{...i,...r,error:!!(s||o)}:{...r,...i};return n&&t&&(s||o)&&(a.helperText=s||o),a},K=jo(Sb,({input:{onChange:t,value:n,onBlur:s,...o},onChange:r,defaultValue:i,...a})=>({...zp({...a,hasHelperText:!1}),...o,value:n,onChange:l=>{t(l.target.value),r&&r(l.target.value)},onBlur:()=>s(n)}));jo(on,({input:{onChange:t,value:n,...s},checked:o,meta:r,...i})=>({...s,...i,onChange:t,checked:!!n}));const m=jo(ye,({defaultValue:t,...n})=>({...zp(n)}));const Jy={root:{},label:{},input:{},helper:{},CodeMirror:{"& .CodeMirror":{height:"100%",width:"100%",maxWidth:"90vw"}}};function Ky({classes:t,className:n,style:s,error:o,warning:r,options:i={},label:a,cmRef:l,input:d={},meta:u={}}){return i.mode==="javascript"&&i.lint!==!1&&i.lint!==void 0&&(window.JSHINT=Rb.JSHINT),e.jsxs("div",{className:Kt([n,t.root]),style:s,children:[a&&e.jsx(J,{error:!!(o||r),className:t.label,children:a}),e.jsx(xp,{codeMirrorInstance:jp,options:{theme:"material",...i},className:Kt([t.input,t.CodeMirror]),ref:l,...d}),!!(u.touched&&u.error)&&e.jsx(Re,{error:!0,className:t.helper,children:u.error})]})}const dt=xe(Jy)(Ky),Yy=t=>({nameAsTitle:n=!0,useStartCase:s=!0,...o})=>{let{label:r}=o;!r&&n?r=o.name&&s?le(o.name):o.name:r=o.label&&s?le(o.label):o.label;const i=o.title&&s?le(o.title):o.title;return e.jsx(t,{...o,title:i,label:r})},c=Yy(L),Qy={button:{padding:"unset",minWidth:"unset"}};function Xy({classes:t,children:n,...s}){return e.jsx(f,{className:t.button,disableFocusRipple:!0,disableRipple:!0,...s,children:n})}const Zt=xe(Qy)(Xy),Zy=t=>({onHover:{"&:hover":{backgroundColor:t.palette.action.hover}},noHover:{},marginLeft:{marginLeft:"10px"},header:{display:"flex",gap:t.spacing(1),alignItems:"center"}});function fl({removeLabel:t,fields:n,index:s,label:o}){return t?e.jsx(f,{size:"small",color:"secondary",onClick:()=>n.remove(s),children:`Remove ${o}`}):e.jsx(ee,{onClick:()=>n.remove(s),children:e.jsx(jt,{})})}function eS({fields:t,label:n,typeComponent:s,classes:o,removeLabel:r,hover:i=!0,labelStartCase:a=!0,maxOccurs:l=1/0,dense:d=!1,withHeader:u=!0,direction:p="column",arrayHeader:x=!1}){const j=a?le(n):n;return e.jsxs("div",{children:[x&&e.jsxs("div",{className:o.header,children:[e.jsx(C,{variant:"subtitle2",children:j}),e.jsx(ee,{onClick:()=>t.push(),size:"small",color:"primary",children:e.jsx(Tb,{})})]}),t.map((g,y)=>e.jsxs("div",{className:i?o.onHover:o.noHover,children:[e.jsxs(O,{container:!0,direction:"row-reverse",justifyContent:"space-between",alignItems:"baseline",children:[e.jsx(O,{item:!0,sm:"auto",children:p!=="row"&&e.jsx(fl,{index:y,removeLabel:r,fields:t,label:j})}),u&&e.jsx(C,{variant:"subtitle2",children:`${j} ${y+1}`})]}),p==="row"?e.jsxs(O,{container:!0,direction:"row",children:[e.jsx(O,{item:!0,sm:11,children:e.jsx(ae,{name:`${g}`,component:s})}),e.jsx(O,{item:!0,sm:"auto",children:e.jsx(fl,{index:y,removeLabel:r,fields:t,label:j})})]}):e.jsx("div",{className:d?void 0:o.marginLeft,children:e.jsx(ae,{name:`${g}`,component:s})})]},`${g}`)),(t.length>0&&t.length!==l||x===!1&&t.length===0&&t.length!==l)&&e.jsx(Zt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:j?`Add ${j}`:"Add"})]})}function tS({component:t,...n}){return e.jsx(Rt,{component:eS,typeComponent:t,...n})}const k=fn(xe(Zy)(tS)),nS=t=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:t.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},withLabel:{borderLeft:`1px solid ${t.palette.divider}`,paddingLeft:t.spacing(2),marginLeft:t.spacing(2)},header:{display:"flex",gap:t.spacing(1),alignItems:"center"}});function sS({label:t,hover:n=!1,classes:s,labelStartCase:o=!0,button:r=!1,initialDisplay:i=!0,...a}){const[l,d]=T.useState(i),u=l===!0?"Hide":"Show";return e.jsx("div",{children:e.jsxs("div",{className:n?s.onHover:s.noHover,children:[e.jsxs("div",{className:s.header,children:[t&&e.jsx(C,{variant:"subtitle2",children:o?le(t):t}),r===!0&&e.jsx(Zt,{onClick:()=>d(p=>!p),color:"primary",children:u})]}),l===!0&&e.jsx("div",{className:t?s.withLabel:void 0,children:e.jsx(ae,{...a})})]})})}const S=xe(nS)(sS);function at(t){var n,s;return e.jsx(m,{disabled:((n=t==null?void 0:t.meta)==null?void 0:n.initial)!==void 0&&((s=t==null?void 0:t.meta)==null?void 0:s.initial)!=="",onFocus:t==null?void 0:t.onFocus,onBlur:t==null?void 0:t.onBlur,...t})}function oS(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"key",label:"key",component:m,fullWidth:!0}),e.jsx(c,{name:"value",label:"value",component:dt,fullWidth:!0})]})}function rS(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"name",component:at,fullWidth:!0}),e.jsx(k,{name:"data",label:"data",component:oS})]})}function iS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"analyzePresetDocument",component:rS}),e.jsx("button",{type:"submit",hidden:!0})]})}const Jp=F()(iS),aS="EDIT_ANALYZEPRESET_FORM";function lS({analyzePresetDocument:t,preset:n,openSnackBar:s,onSuccess:o,onFail:r}){const i=()=>{s({messageContent:"Analyze Preset Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Analyze Preset",messageColor:"secondary"}),r&&r()};return e.jsx(Ge,{formName:aS,onSubmitSuccess:i,onSubmitFail:a,onSubmit:Up,formProps:{preset:n},displayProps:{analyzePresetDocument:t},initialValues:{analyzePresetDocument:t},displayComponent:Hy,formComponent:Jp})}const cS=v(lS);function dS(t){return e.jsx($,{children:e.jsx(cS,{...t})})}function uS({preset:t,open:n,onClose:s,openSnackBar:o,onSuccess:r}){const i=()=>{lr.getAnalyzePreset({preset:t,method:"DELETE"}).then(()=>{const a=`Analyze Preset ${t} Removed`;o({messageContent:a}),s(),r&&r({preset:t})}).catch(()=>{o({messageContent:"Error Removing Analyze Preset",messageColor:"secondary"})})};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Analyze Preset "${t}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:s,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const mS=v(uS);function hS({entityId:t,entityType:n,history:s}){return e.jsx(ve,{title:"External Id",children:e.jsx(ee,{onClick:()=>s.push(`/external-id/${n}/${t}`),children:e.jsx(Eb,{})})})}const Kp=mo(hS);function pS({code:t,...n}){let s=t;return typeof s=="string"&&(s=JSON.parse(s)),e.jsx(Oi,{src:s,theme:"solarized",displayDataTypes:!1,collapsed:!1,displayObjectSize:!1,name:!1,enableClipboard:o=>navigator.clipboard.writeText(JSON.stringify(o.src,null,"	")),...n})}function xS({code:t,options:n={},...s}){return e.jsx(Es,{value:pn(t)||"",options:{readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...n},...s})}function jS({code:t,options:n={},...s}){return e.jsx(Es,{value:pn(t)||"",options:{readOnly:!0,theme:"material",mode:"text/plain",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...n},...s})}function fS({code:t,variant:n="json"}){let s=null;switch(n){case"text/plain":case"text/vtt":case"text":s=jS;break;case"application/xml":case"xml":s=xS;break;case"application/json":case"json":s=pS;break}return e.jsx(s,{code:t})}const Yp=fn(fS);function gS({code:t,variant:n,title:s,open:o,onClose:r}){return e.jsx(_,{open:o,onClose:r,fullWidth:!0,maxWidth:!1,children:o&&e.jsxs(e.Fragment,{children:[e.jsx(N,{children:s||""}),e.jsx(X,{children:e.jsx(Yp,{code:t,variant:n})}),e.jsx(W,{children:e.jsx(f,{onClick:r,color:"primary",children:"Close"})})]})})}const ut=v(gS);class mt extends T.PureComponent{constructor(n){super(n),this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.renderChildren=this.renderChildren.bind(this),this.state={menuAnchor:null}}openMenu({currentTarget:n}){this.setState({menuAnchor:n})}closeMenu(){this.setState({menuAnchor:null})}renderChildren(){const{children:n}=this.props;return T.Children.map(n,s=>T.isValidElement(s)?T.cloneElement(s,{onClick:(...o)=>{s.props.onClick&&s.props.onClick(...o),this.closeMenu()}}):s)}render(){const{menuAnchor:n}=this.state,{icon:s,children:o=[],iconProps:r={}}=this.props,i=this.renderChildren(o);return i.length===0?e.jsx("div",{}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{onClick:this.openMenu,...r,children:s||e.jsx(Ib,{})}),e.jsx(vb,{id:"simple-menu",anchorEl:n,open:!!n,onClose:this.closeMenu,children:i})]})}}function bS({code:t}){const[n,s]=T.useState(!1),o=()=>{t!==void 0&&(navigator.clipboard.writeText(typeof t=="object"?JSON.stringify(t,null,2):t),s(!0))};return T.useEffect(()=>{if(n===!1)return;const r=setTimeout(()=>s(!1),3e3);return()=>{clearTimeout(r)}},[n]),e.jsx(ve,{title:n===!0?"Copied":"Copy to clipboard",children:e.jsx(ee,{onClick:o,children:n?e.jsx(Ct,{}):e.jsx(qp,{})})})}function CS({menuList:t=[],onOpen:n}){return!Array.isArray(t)||t.length<1?null:e.jsx(mt,{children:t.map(({menuComponent:s,onClick:o,modalName:r,color:i="inherit",label:a})=>s||(a?e.jsx(b,{onClick:o||r&&n?()=>n({modalName:r}):void 0,children:e.jsx(C,{color:i,children:a})},a):null))})}function yS({title:t,openCode:n,openAction:s,actionComponent:o,iconList:r,breadcrumbList:i,parentTitle:a,grandParentTo:l,grandParentTitle:d,parentTo:u,entityId:p,entityType:x,onRefresh:j,autoRefresh:g,onChangeAutoRefresh:y,autoRefreshLabel:D="Background Refresh",helpTo:se,linkTo:re,linkToTitle:_e,codeModal:Oe,onOpen:ke,createModal:$t,createModalTitle:Rn="New",removeModal:tn,downloadModal:Tn,code:En,codeVariant:Ls,titleChip:Fo,addAccessControl:Kn,menuList:Mo,style:$r={}}){const Wr=e.jsxs(O,{container:!0,alignItems:"center",children:[Array.isArray(i)?i.filter(Ht=>Ht!=null).map((Ht,db,ub)=>{const rl=db+1===ub.length,wr=rl?"inherit":"textSecondary";let Po=null,il=null;if(Ht.to){const{to:mb,title:hb=""}=Ht;Po=e.jsx(C,{variant:"h5",color:wr,component:wt,to:mb,style:{textDecoration:"none",color:"inherit"},children:hb})}else Ht.title?Po=e.jsx(C,{variant:"h5",color:wr,children:Ht.title}):Po=e.jsx(C,{variant:"h5",color:wr,children:Ht});return rl===!1&&(il=e.jsx(O,{item:!0,children:e.jsx(ee,{disabled:!0,children:e.jsx(as,{})})})),e.jsxs(T.Fragment,{children:[Po,il]},Ht.to||Ht.title||Ht)}):e.jsxs(e.Fragment,{children:[d&&e.jsx(O,{item:!0,children:l?e.jsx(C,{variant:"h5",color:"textSecondary",component:wt,to:l,style:{textDecoration:"none"},children:d}):e.jsx(C,{variant:"h5",color:"textSecondary",children:d})}),d&&a?e.jsx(O,{item:!0,children:e.jsx(ee,{disabled:!0,children:e.jsx(as,{})})}):null,a?e.jsx(O,{item:!0,children:u?e.jsx(C,{variant:"h5",color:"textSecondary",component:wt,to:u,style:{textDecoration:"none"},children:a}):e.jsx(C,{variant:"h5",color:"textSecondary",children:a})}):null,a&&t&&e.jsx(O,{item:!0,children:e.jsx(ee,{disabled:!0,children:e.jsx(as,{})})}),e.jsx(O,{item:!0,children:e.jsx(C,{variant:"h5",children:t})})]}),Fo&&e.jsx(Ue,{label:Fo})]});let Yn;n?Yn=e.jsx(ve,{title:"Code",children:e.jsx(ee,{onClick:n,children:e.jsx(al,{})})}):Oe&&(Yn=e.jsx(ve,{title:"Code",children:e.jsx(ee,{onClick:()=>ke({modalName:Oe}),children:e.jsx(al,{})})}));const Qn=e.jsx(bS,{code:En}),Do=y&&e.jsx(R,{control:e.jsx(on,{checked:g,onChange:y}),label:D}),kr=j&&e.jsx(ve,{title:"Refresh",children:e.jsx(ee,{onClick:j,children:e.jsx(Ab,{})})});let Xn;s?Xn=e.jsx(ee,{onClick:s,children:e.jsx(Vt,{})}):$t&&(Xn=e.jsx(ve,{title:Rn,children:e.jsx(ee,{onClick:()=>ke({modalName:$t}),children:e.jsx(Vt,{})})}));const cn=se&&e.jsx(ve,{title:"API Guide",children:e.jsx("a",{href:`https://apidoc.vidispine.com/latest${se}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(ee,{children:e.jsx(ll,{})})})}),ol=re&&e.jsx(ve,{title:_e||re,children:e.jsx("a",{href:re,target:"_blank",rel:"noopener noreferrer",children:e.jsx(ee,{children:e.jsx(ll,{})})})}),ob=tn&&e.jsx(ve,{title:"Delete",children:e.jsx(ee,{onClick:()=>ke({modalName:tn}),children:e.jsx(et,{})})}),rb=Tn&&e.jsx(ve,{title:"Download",children:e.jsx(ee,{onClick:()=>ke({modalName:Tn}),children:e.jsx(fp,{})})}),ib=p&&e.jsx(Kp,{entityId:p,entityType:x}),ab=Kn&&e.jsx(ve,{title:"Add ACL",children:e.jsx(ee,{onClick:()=>ke({modalName:Kn}),children:e.jsx(Fb,{})})}),lb=o||Xn,cb=Mo?e.jsx(CS,{menuList:Mo,onOpen:ke}):null;return e.jsxs("div",{style:$r,children:[e.jsxs(O,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"baseline",children:[e.jsx(O,{item:!0,children:Wr}),e.jsx(O,{item:!0,children:e.jsxs(O,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Do,rb,ob,cn,ol,ab,ib,Qn,Yn,kr,r,lb,cb]})})]}),En&&e.jsx(ut,{dialogName:Oe,code:En,title:Oe,variant:Ls})]})}const Y=v(yS),gl="ANALYZEPRESET_REMOVE_MODAL";class SS extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={analyzePresetDocument:void 0}}componentDidMount(){const{preset:n}=this.props;document.title=`VidiCore Admin | Analyze Preset | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,preset:s}=this.props;try{lr.getAnalyzePreset({preset:s}).then(o=>this.setState({analyzePresetDocument:o.data}))}catch{n({messageContent:"Error Getting Analyze Preset",messageColor:"secondary"})}}render(){const{preset:n,history:s}=this.props,{analyzePresetDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:n,parentTitle:"Analyze Preset",parentTo:"/analyze-preset/",helpTo:"/ref/analyze-preset.html",onRefresh:this.onRefresh,code:o,codeModal:"AnalyzePresetDocument",removeModal:gl}),o&&e.jsx(dS,{preset:n,analyzePresetDocument:o,onRefresh:this.onRefresh}),e.jsx(mS,{dialogName:gl,preset:n,onSuccess:()=>s.push("/analyze-preset/")})]})}}const RS=H(SS);function TS(t){var n;return e.jsx(X,{...t,className:(n=t==null?void 0:t.classes)==null?void 0:n.root})}const Ne=xe({root:{overflow:"visible"}})(TS);function ES(t){const{xmlDocument:n}=t;return ur.echo({xmlDocument:n}).then(s=>s.data).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function IS(t){const{jsonDocument:n}=t;try{return n?JSON.parse(n):void 0}catch(s){throw new q({_error:s.message})}}function vS(t){try{return JSON.stringify(t,null,2)}catch(n){throw new q({_error:n.message})}}function AS(t){var n;return e.jsx(Me,{...t,classes:{transition:(n=t==null?void 0:t.classes)==null?void 0:n.root}})}const bl=xe({root:{overflow:"visible"}})(AS);function FS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"jsonDocument",component:dt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}function MS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"xmlDocument",component:dt,options:{theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const DS=F()(FS),PS=F()(MS),Vo="EDIT_JSON_FORM",Go="EDIT_XML_FORM",Vr="JSON_TAB",Gr="XML_TAB",qo="EDIT_WIZARD_FORM";class OS extends T.PureComponent{constructor(n){super(n),this.onBack=this.onBack.bind(this),this.onNext=this.onNext.bind(this),this.onSkip=this.onSkip.bind(this),this.onGetValues=this.onGetValues.bind(this),this.onChangeTab=this.onChangeTab.bind(this),this.state={activeStep:n.initialStep||1,jsonDocument:void 0,xmlDocument:void 0,tabValue:Gr}}componentWillUnmount(){const{destroyForm:n}=this.props;n(Go)}onBack(n){const{activeStep:s}=this.state;s!==0&&this.setState(({activeStep:o})=>({activeStep:o-1,jsonDocument:n,tabValue:Vr}))}onNext(n){const{activeStep:s}=this.state;this.setState({activeStep:s+1,jsonDocument:n})}onSkip(){const{activeStep:n}=this.state;this.setState({activeStep:n+1,jsonDocument:""})}onChangeTab(n,s){this.setState({tabValue:s})}onGetValues(){const{formValues:n,stopSubmitForm:s,documentName:o}=this.props;try{const r=vS(n[o]);this.onBack(r)}catch(r){const{errors:i={}}=r,{_error:a=r.message}=i;s(qo,{_error:a})}}render(){const{submitForm:n,documentName:s,FormComponent:o,isJSONFormDirty:r,isXMLFormDirty:i,onCancel:a,initialStep:l,...d}=this.props,{activeStep:u,jsonDocument:p,xmlDocument:x,tabValue:j}=this.state,g={[s]:p};return e.jsxs(lt,{activeStep:u,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:s}),e.jsxs(bl,{children:[e.jsxs(xa,{value:j,onChange:this.onChangeTab,children:[e.jsx(Wn,{label:"JSON",value:Vr}),e.jsx(Wn,{label:"XML",value:Gr})]}),j===Vr&&e.jsxs(e.Fragment,{children:[e.jsx(DS,{form:Vo,onSubmitSuccess:this.onNext,onSubmit:IS,initialValues:{jsonDocument:p}}),e.jsxs(te,{children:[a&&e.jsx(f,{size:"small",color:"secondary",onClick:a,children:"Cancel"}),p===void 0&&e.jsx(f,{onClick:this.onSkip,children:"Skip"}),r&&e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Vo),children:"Next"}),!r&&p!==void 0&&e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Vo),children:"Next"})]})]}),j===Gr&&e.jsxs(e.Fragment,{children:[e.jsx(PS,{form:Go,onSubmitSuccess:this.onNext,onSubmit:ES,initialValues:{xmlDocument:x},destroyOnUnmount:!1}),e.jsxs(te,{children:[a&&e.jsx(f,{size:"small",color:"secondary",onClick:a,children:"Cancel"}),e.jsx(f,{onClick:this.onSkip,children:"Skip"}),i&&e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Go),children:"Next"})]})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Form"}),e.jsxs(bl,{children:[e.jsx(o,{form:qo,initialValues:g,...d}),e.jsxs(te,{children:[e.jsx(U,{}),a&&e.jsx(f,{size:"small",color:"secondary",onClick:a,children:"Cancel"}),e.jsx(f,{onClick:this.onGetValues,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(qo),children:"Save"})]})]})]})]})}}function LS(t){return{formValues:ja(qo)(t),isJSONFormDirty:Li(Vo)(t),isXMLFormDirty:Li(Go)(t)}}const NS={openSnackBar:Le,submitForm:xt,destroyForm:gp,stopSubmitForm:Mb},rt=Ce(LS,NS)(OS);function _S({open:t,onClose:n,openSnackBar:s,onSuccess:o,onFail:r}){const i=l=>{const{preset:d}=l,u=`Analyze Preset ${d} Created`;s({messageContent:u}),n(),o&&o(l)},a=l=>{s({messageContent:"Error Creating Analyze Preset",messageColor:"secondary"}),r&&r(l)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Analyze Preset"}),e.jsx(Ne,{children:e.jsx(rt,{FormComponent:Jp,documentName:"analyzePresetDocument",onSubmit:Up,onSubmitSuccess:i,onSubmitFail:a,onCancel:n})})]})}const $S=v(_S),WS=()=>({TableRow:{textDecoration:"none",cursor:({onClick:t})=>t?"pointer":void 0}});function kS({classes:t,to:n,...s}){const o=n?wt:void 0;return e.jsx(me,{className:t.TableRow,component:o,to:n,...s})}const Be=xe(WS)(kS);function wS({analyzePresetListDocument:t={}}){const{preset:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Preset Name"}),e.jsx(A,{})]})}),e.jsx(de,{children:n.map(({name:s})=>e.jsxs(Be,{hover:!0,to:`/analyze-preset/${s}/`,children:[e.jsx(A,{children:s}),e.jsx(A,{})]},s))})]})}function US({analyzePresetListDocument:t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(wS,{analyzePresetListDocument:t})})})}const VS={submitForm:xt,resetForm:Db,changeForm:bp,destroyForm:gp,initializeForm:Pb},M=t=>Ce(null,VS)(t);function E(t){return e.jsx(zy,{value:t==null?void 0:t.input.checked,checked:t==null?void 0:t.input.checked,onClick:()=>t==null?void 0:t.input.onChange(!(t!=null&&t.input.checked)),indeterminate:(t==null?void 0:t.input.value)==="",...t})}const GS=()=>e.jsx(R,{control:e.jsx(c,{name:"includeDocument",component:E}),label:"Include Document"});function qS({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:GS}),e.jsx("button",{type:"submit",hidden:!0})]})}const HS=F()(qS),ki="ANALYSEPRESETLISTPARAMS_FORM";function BS({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i=ki}){const a=(d,u,p)=>{n&&n(d,u,p)},l=()=>{s({messageContent:"Error Listing Analyze Presets",messageColor:"secondary"})};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Query Params"})}),e.jsx(Ie,{children:e.jsx(HS,{form:i,onSubmit:uy,onSubmitSuccess:a,onSubmitFail:l,onCancel:t,initialValues:{queryParams:{includeDocument:!1}}})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const zS=I(v,M)(BS),Cl="ANALYZEPRESET_CREATE_MODAL";class JS extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={analyzePresetListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Analyze Presets",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(ki)}onSuccess(n){const{data:s}=n;this.setState({analyzePresetListDocument:s})}render(){const{history:n}=this.props,{analyzePresetListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Analyze Preset",helpTo:"/ref/analyze-preset.html",onRefresh:this.onRefresh,code:s,codeModal:"AnalyzePresetListDocument",createModal:Cl}),e.jsx(zS,{form:ki,onSuccess:this.onSuccess}),s&&e.jsx(US,{analyzePresetListDocument:s}),e.jsx($S,{dialogName:Cl,onSuccess:({data:o})=>n.push(`/analyze-preset/${o.name}`)})]})}}const KS=I(M,H)(JS),YS={onClose:st,onOpen:ot},Ze=t=>Ce(null,YS)(class extends T.PureComponent{constructor(n){super(n),this.onOpen=this.onOpen.bind(this),this.state={dialogProps:void 0}}onOpen(n){const{onOpen:s}=this.props;return o=>{this.setState({dialogProps:o},()=>s({modalName:n}))}}render(){const{dialogProps:n}=this.state;return e.jsx(t,{...this.props,dialogProps:n,onOpen:this.onOpen})}}),QS=t=>({root:{flexShrink:0,color:t.palette.text.secondary}});function XS({classes:t,count:n,page:s,rowsPerPage:o,onChangePage:r,onPageChange:i}){const a=i||r;return e.jsxs("div",{className:t.root,children:[e.jsx(ee,{onClick:()=>a({page:0}),disabled:s===0,children:e.jsx(Ob,{})}),e.jsx(ee,{onClick:()=>a({page:s-1}),disabled:s===0,children:e.jsx(Lb,{})}),e.jsx(ee,{onClick:()=>a({page:s+1}),disabled:s>=Math.ceil(n/o)-1,children:e.jsx(Nb,{})}),e.jsx(ee,{onClick:()=>a({page:Math.max(0,Math.ceil(n/o)-1)}),disabled:s>=Math.ceil(n/o)-1,children:e.jsx(_b,{})})]})}const Lt=xe(QS)(XS);function P({disableOnClick:t,onClick:n,...s}){const o=t?r=>r.stopPropagation():n;return e.jsx(A,{onClick:o,...s})}function Te({to:t,...n}){const s=Cp(),{onClick:o}=n,r=t?()=>s.push(t):o;return e.jsx(me,{onClick:r,style:{cursor:r?"pointer":"auto"},...n})}const ZS=()=>({wordBreak:{wordBreak:"break-all"},noBreak:{whiteSpace:"nowrap"}});function eR({classes:t,entry:n={},onOpenBody:s}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:n.timestamp?qe(n.timestamp).toString():""}),e.jsx(P,{children:e.jsx(be,{to:`/username/${n.username}/`,children:n.username})}),e.jsx(P,{children:n.method}),e.jsx(P,{className:t.wordBreak,children:n.path}),e.jsx(P,{className:t.wordBreak,children:n.queryParameters}),e.jsx(P,{children:n.responseCode}),e.jsx(P,{children:n.body?e.jsx(f,{onClick:()=>s({code:n.body,variant:n.contentType?n.contentType.split(";")[0]:"text"}),variant:"outlined",children:"Body"}):null})]})}const tR=xe(ZS)(eR),yl="AUDIT_BODY_MODAL";function nR({auditLogDocument:t,count:n=0,page:s=0,rowsPerPage:o=100,onChangePage:r,onChangeRowsPerPage:i,onChangeOrder:a,orderDirection:l,dialogProps:d,onOpen:u}){const{entry:p=[]}=t,x=[100,250,500];return x.includes(o)||x.push(o),e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:e.jsx(Mt,{active:l!==void 0,direction:l,onClick:a,children:"Timestamp"})}),e.jsx(P,{children:"username"}),e.jsx(P,{children:"Method"}),e.jsx(P,{children:"Path"}),e.jsx(P,{children:"Query Parameters"}),e.jsx(P,{children:"Response Code"}),e.jsx(P,{children:"Body"})]})}),e.jsx(de,{children:p.map((j,g)=>e.jsx(tR,{entry:j,onOpenBody:u(yl)},g))}),e.jsx(Pt,{children:e.jsx(Te,{children:e.jsx(Ot,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:Lt,rowsPerPageOptions:x})})})]}),e.jsx(ut,{...d,dialogName:yl})]})}const sR=Ze(nR);function oR({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(sR,{...t})})})}function rR(t){const{queryParams:n}=t;return $b.listAuditLog({path:"/API/log/",queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}const Qp={container:(t,n)=>{var s,o;return{...t,fontSize:(o=(s=n==null?void 0:n.selectProps)==null?void 0:s.typography)==null?void 0:o.htmlFontSize,color:n.isDisabled?n.selectProps.palette.text.disabled:"inherit"}},valueContainer:t=>({...t,paddingLeft:0}),control:(t,n)=>({...t,backgroundColor:n.selectProps.palette.selected,borderRadius:"0",borderWidth:n.selectProps.variant==="outlined"?"1px 1px 1px 1px":"0 0 1px 0",boxShadow:"none",borderColor:n.selectProps.palette.type==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",color:n.isDisabled?n.selectProps.palette.text.disabled:"inherit"}),dropdownIndicator:t=>({...t,padding:"2px"}),indicatorsContainer:(t,n)=>({...t,color:"inherit",visibility:n.isDisabled?"hidden":void 0}),indicatorSeparator:t=>({...t,background:"inherit"}),input:(t,n)=>({...t,color:n.isDisabled?n.selectProps.palette.text.disabled:"inherit",visibility:n.isDisabled?"visible":void 0}),menu:(t,n)=>({...t,backgroundColor:n.selectProps.palette.background.paper,borderRadius:"0px",zIndex:1500}),option:(t,n)=>({...t,color:n.selectProps.palette.text.primary,backgroundColor:n.isFocused?n.selectProps.palette.action.focus:n.isSelected?n.selectProps.palette.action.focus.selected:n.selectProps.palette.action.focus.hover}),placeholder:t=>({...t,paddingLeft:4,lineHeight:1}),singleValue:t=>({...t,height:32}),singleValueLabel:(t,n)=>{const{palette:s}=n.selectProps,o=s.type==="light"?s.grey[300]:s.grey[700],r=s.getContrastText(o);return{...t,color:r,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8}},multiValue:(t,n)=>{const{palette:s}=n.selectProps,o=s.type==="light"?s.grey[300]:s.grey[700];return{...t,borderRadius:32/2,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:o}},multiValueLabel:(t,n)=>{const{palette:s}=n.selectProps,o=s.type==="light"?s.grey[300]:s.grey[700],r=s.getContrastText(o);return{...t,paddingLeft:8,paddingRight:8,color:r}},multiValueRemove:(t,n)=>{const{palette:s}=n.selectProps,o=cl(s.text.primary,.26);return{...t,color:o,cursor:"pointer",margin:"0 5px 0 -6px",":hover":{color:cl(o,.4)}}}};function Xp(t){return e.jsx(oo.MultiValueRemove,{...t,children:e.jsx(kb,{})})}function Zp(t){return e.jsx(oo.ClearIndicator,{...t,children:e.jsx(yp,{})})}function ex(t){return e.jsx(oo.DropdownIndicator,{...t,children:e.jsx(wb,{})})}class iR extends T.Component{constructor(n){super(n),this.handleChange=this.handleChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleUpdate=this.handleUpdate.bind(this),this.theme=this.theme.bind(this);const{input:{value:s}={}}=this.props,{optionLabelKey:o="label",optionValueKey:r="value",isMulti:i}=n;let a,l;if(i&&s){let d=s;Array.isArray(s)||(d=s.split(",")),a=d.map(u=>({[o]:u,[r]:u}))}else a=s&&{[o]:s,[r]:s},l=s;this.state={inputValue:l,valueOption:a}}handleUpdate(n){this.setState({inputValue:n})}handleChange(n){const{input:{name:s,onChange:o},meta:{dispatch:r,form:i},optionValueKey:a="value",isMulti:l,multiResetToArray:d=!1}=this.props;let u="";n?l?n.length>0?u=n.map(p=>p[a]):(u=d?[]:"",this.handleInputChange(u)):u=n[a]:this.handleInputChange(u),this.setState({valueOption:n}),o(u),r&&r(bp(i,s,u))}handleInputChange(n){const{isMulti:s}=this.props;if(s&&n.length===0){this.setState({inputValue:void 0});return}this.setState({inputValue:n})}theme(n){const{theme:s}=this.props,{typography:o}=s;return{typography:o,...n,borderRadius:0,spacing:{...n.spacing,menuGutter:0},colors:{...n.colors,primary:s.palette.text.primary},fontFamily:o.fontFamily}}render(){const{input:n={},meta:s={},theme:o,components:r={},...i}=this.props,{palette:a,typography:l}=o,{optionLabelKey:d="label",optionValueKey:u="value",creatable:p=!1,getOptionLabel:x=Rn=>Rn[d],getOptionValue:j=Rn=>Rn[u],loadOptions:g,disableInitial:y,isDisabled:D,InputLabelProps:se={},placeholder:re=""}=i,{valueOption:_e,inputValue:Oe}=this.state;let ke=D;y&&(ke=s.initial!==void 0&&s.initial!=="");let $t=Ub;return g&&($t=p?Vb:Gb),e.jsxs(e.Fragment,{children:[i.label&&e.jsx(J,{required:i.required,...se,children:i.label}),e.jsx($t,{...i,...n,components:{MultiValueRemove:Xp,ClearIndicator:Zp,DropdownIndicator:ex,...r},id:n.name,styles:Qp,getOptionLabel:x,getOptionValue:j,value:_e,inputValue:Oe,onInputChange:this.handleInputChange,onChange:this.handleChange,placeholder:re,onBlur:()=>!0,onFocus:()=>!0,isDisabled:ke,palette:a,typography:l,theme:this.theme})]})}}const z=Wb(iR),aR=Qt(nt.listUser,500,{leading:!0,trailing:!1}),bn=async t=>{const{data:n}=await aR(),{user:s=[]}=n;let o=s;return t&&t!=="*"&&(o=s.filter(i=>i.userName.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i.userName,value:i.userName}))},lR=t=>t==null?void 0:t.value;function hs(t){return e.jsx(L,{component:z,loadOptions:bn,cacheOptions:!0,parse:lR,createable:!0,...t})}const cR=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"method",children:"Method"}),e.jsxs(c,{name:"method",component:K,children:[e.jsx(b,{value:"GET",children:"GET"}),e.jsx(b,{value:"PUT",children:"PUT"}),e.jsx(b,{value:"POST",children:"POST"}),e.jsx(b,{value:"DELETE",children:"DELETE"})]})]}),e.jsx(c,{name:"path",component:m,fullWidth:!0}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"rows",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"username",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),e.jsx(c,{name:"starttime",component:m,fullWidth:!0}),e.jsx(c,{name:"endtime",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"wildcard",component:E}),label:"Wildcard"}),e.jsx(R,{control:e.jsx(c,{name:"performCount",component:E}),label:"Perform Count"}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"sort",children:"Sort"}),e.jsxs(c,{name:"sort",component:K,children:[e.jsx(b,{value:"desc",children:"Descending"}),e.jsx(b,{value:"asc",children:"Ascending"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"body",component:E}),label:"Body"})]});function dR({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:cR}),e.jsx("button",{type:"submit",hidden:!0})]})}const uR=F()(dR);function mR({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="AUDITLOG_FILTER_FORM",changeForm:a}){const l=(p,x,j)=>{n&&n(p,x,j)},d=()=>{s({messageContent:"Error Listing Audit Log",messageColor:"secondary"})},u=async()=>{await a(i,"queryParams.first",0),o(i)};return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(uR,{form:i,onSubmit:rR,onSubmitSuccess:l,onSubmitFail:d,onCancel:t,initialValues:{queryParams:{performCount:!1}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:u,children:"Filter"})]})]})}const hR=I(v,M)(mR);function pR({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(hR,{...t})})})}function xR(t){return e.jsx(Y,{title:"Audit Log",helpTo:"/ref/audit-trail.html",...t})}const jR=t=>n=>({formValues:ja(t)(n),isFormDirty:Li(t)(n),isFormSubmitting:Sp(t)(n),valueSelector:s=>qb(t)(n,s)}),Gt=(t,n)=>Ce(jR(n))(t),vn="AUDITLOG_FILTER_FORM";class fR extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.state={auditLogDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderDirection:void 0}}componentDidMount(){document.title="VidiCore Admin | Audit Log",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(vn)}onSuccess(n){const s=n.data,{formValues:o={}}=this.props,{queryParams:r={}}=o,{first:i=0,rows:a=100}=r,{count:l=0}=s,d=Math.ceil(l/a)-Math.ceil((l-i)/a);this.setState({count:l,rowsPerPage:a,page:d,auditLogDocument:s})}async onChangePage({page:n}){const{formValues:s={},changeForm:o}=this.props,{queryParams:r={}}=s,{rows:i=100}=r,a=n*i;o(vn,"queryParams.first",a),await o(vn,"queryParams.rows",i),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(vn,"queryParams.first",0),await s(vn,"queryParams.rows",n),this.onRefresh()}async onChangeOrder(){const{changeForm:n}=this.props,{orderDirection:s}=this.state;let o;s===void 0?o="desc":s==="desc"&&(o="asc"),this.setState({orderDirection:o}),await n(vn,"queryParams.sort",o),this.onRefresh()}render(){const{auditLogDocument:n,count:s,page:o,rowsPerPage:r,orderDirection:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(xR,{code:n,codeModal:"AuditLogDocument",onRefresh:this.onRefresh}),e.jsx(pR,{form:vn,onSuccess:this.onSuccess}),n&&e.jsx(oR,{auditLogDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderDirection:i})]})}}const gR=I(M,Gt)(fR,vn);function tx(t,n,s){const{autoImportRuleDocument:o}=t,r=s.storageId||t.storageId||o.storage;return gs.updateAutoImport({storageId:r,autoImportRuleDocument:o}).then(()=>({autoImportRuleDocument:o})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}const io="text",wi="smpte",Ui="seconds",bR="PAL",CR="NTSC",yR="NTSC30",SR="23.98",RR="24";function Sl({to:t,from:n,value:s,toOptions:o,fromOptions:r,conform:i}){if(t===n)return s;let a;switch(n){case io:a=zb(s,r);break;case Ui:a=Bb(s,r);break;case wi:a=Hb(s,r);break;default:return s}switch(i&&(a=a.conformTimeBase(i)),t){case io:return a.toText(o);case Ui:return a.toSeconds(o);case wi:return a.toSmpte(o);default:return s}}function TR({value:t,title:n,arrayKey:s,...o}){return o.hideNoValue&&t===void 0||!Array.isArray(t)||o.hideNoValue&&t.lenght===0?null:t.map((r,i)=>e.jsx(h,{title:i===0?n:"",value:r,...o},s?r[s]:i))}const Yt=fn(TR);function Pa({value:t={},onEdit:n}){const{value:s=[]}=t,r=n&&!t.name.startsWith("__")&&t.inheritance===void 0?(i,a)=>n({field:[{name:t.name,uuid:t.uuid,value:[{uuid:a.uuid,value:i}]}]}):void 0;return e.jsx(Yt,{title:t.name,value:s,variant:"metadataFieldValue",titleStartCase:!1,titleGridProps:{xl:2},titleTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},valueTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},hover:!0,onEdit:r})}function Oa({value:t={},onEdit:n}){const o=n&&t.inheritance===void 0?r=>n({group:[{name:t.name,uuid:t.uuid,...r}]}):void 0;return e.jsxs("div",{style:{marginLeft:10},children:[e.jsx(Z,{arrayTitle:"Fields",value:t.field,component:Pa,titleStartCase:!1,hideNoValue:!0,onEdit:o}),e.jsx(Z,{arrayTitle:"Groups",title:"Group",titleKey:"name",value:t.group,component:Oa,titleStartCase:!1,hideNoValue:!0,onEdit:o})]})}function ER({value:t={},timeRepresentation:n,onEdit:s}){const{start:o,end:r,field:i,group:a}=t,l=Sl({from:io,to:n==null?void 0:n.to,conform:n==null?void 0:n.conform,value:o}),d=Sl({from:io,to:n==null?void 0:n.to,conform:n==null?void 0:n.conform,value:r}),u=s?p=>s({timespan:[{start:o,end:r,...p}]}):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:`Start: ${l}`,value:`End: ${d}`,titleStartCase:!1,titleTypographyProps:{variant:"subtitle2",color:"textPrimary"}}),e.jsx(Z,{arrayTitle:"Fields",value:i,component:Pa,titleStartCase:!1,hideNoValue:!0,onEdit:u}),e.jsx(Z,{arrayTitle:"Groups",title:"Group",titleKey:"name",value:a,component:Oa,titleStartCase:!1,hideNoValue:!0,onEdit:u})]})}function nx({value:t={},timeRepresentation:n,onEdit:s}){return e.jsx(Z,{arrayTitle:"Timespans",value:t.timespan,dense:!0,component:ER,timeRepresentation:n,onEdit:s})}function Sr({metadataDocument:t,timeRepresentation:n,onEdit:s}){return e.jsx(w,{value:t,component:nx,timeRepresentation:n,onEdit:s})}function Vn(t){if(t.startsWith("transcodeShapeDocument")||t.startsWith("assetMapShapeDocument")||t.startsWith("batonTestPlan")||t.endsWith("transcodePreset")||t.match(/shapeDocument\d+$/g)||t.startsWith("imf/essenceDescriptors")||t.match(/imf_opl_\d+$/g))return"xml";switch(t){case"item":return"itemId";case"waitForJobId":return"job";case"itemId":return"itemId";case"fileId":return"fileIdList";case"sourceFileId":return"fileId";case"destinationFileId":return"fileId";case"originalFileId":return"fileId";case"fileIds":return"fileIdList";case"username":return"username";case"destinationStorageId":return"storageId";case"sourceStorageId":return"storageId";case"storageId":return"storageId";case"shapeDocument":return"xml";case"result":return"xml";case"jobDocument":return"xml";case"jobStatusDocument":return"xml";case"conformXML":return"xml";case"metadata":return"xml";case"importCompositionPlaylists":return"xml";case"shapeListDocument":return"xml";case"importAssetMap":return"xml";case"importPackingList":return"xml";case"cognitive":return"xml";case"fabricXML":return"xml";case"originalShapeIdsStruct":return"json";case"filePathMap":return"commaseparatedlist";case"sourceUris":return"commaseparatedlist";case"sourceFileIds":return"fileIdList";case"fileItemMapping":return"commaseparatedlist";case"shapeIds":return"commaseparatedlist";case"filenameScript":return"javascript";case"imf_locale":return"xml";case"imf_opl":return"xml";case"__values":return"xml";default:return}}function sx({simpleMetadataList:t=[]}){return t.map(n=>e.jsx(h,{title:n.key,value:n.value,titleStartCase:!1,variant:Vn(n.key),hideCode:!0,hover:!0},n.key))}const IR=({simpleMetadata:t})=>{const{field:n=[]}=t;return n.map(s=>e.jsx(h,{title:s.key,value:s.value,titleStartCase:!1,variant:Vn(s.key),hideCode:!0},s.key))};function Rl({pattern:t,tag:n}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Pattern",value:t}),e.jsx(h,{title:"Tag",variant:"list",value:n})]})}function vR({rule:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Storage ID",variant:"storageId",value:t.storage,hover:!0}),e.jsx(h,{title:"Enabled",variant:"boolean",value:t.enabled,hover:!0}),e.jsx(h,{title:"File Name As Title",variant:"boolean",value:t.fileNameAsTitle,hover:!0}),e.jsx(h,{title:"Ignore Sidecar Import",variant:"boolean",value:t.ignoreSidecarImport,hover:!0}),e.jsx(h,{title:"Shape Tags",variant:"list",value:t.tag,hover:!0}),e.jsx(h,{title:"Resource ID",value:t.resourceId,hover:!0}),e.jsx(h,{title:"Settings ID",value:t.settingsId,hover:!0}),e.jsx(h,{title:"Projection",value:t.projection,hover:!0}),e.jsx(h,{title:"User",variant:"user",value:t.user,hover:!0}),t.excludeFilter&&e.jsx(Z,{title:"Exclude Filter",value:t.excludeFilter,component:Rl,hover:!0}),t.shapeTagFilter&&e.jsx(Z,{title:"Shape Tag Filter",value:t.shapeTagFilter,component:Rl,hover:!0}),t.jobmetadata&&e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"caption",children:"Job Metadata"}),e.jsx(IR,{simpleMetadata:t.jobmetadata})]}),t.metadata&&e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"caption",children:"Metadata"}),e.jsx(nx,{value:t.metadata})]})]})}function AR({autoImportRuleDocument:t}){return e.jsx(vR,{rule:t})}const Q=t=>t?void 0:"Required",FR=(t="")=>{const n=/https?:\/\/[-a-zA-Z0-9@:%._+~#=]{2,256}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/gi,s=new RegExp(n);return t.match(s)?void 0:"Not a URL"},MR=Qt(ct.listFieldGroup,500,{leading:!0,trailing:!1}),qn=async t=>{const{data:n}=await MR(),{group:s=[]}=n;let o=s;return t&&t!=="*"&&(o=s.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i.name,value:i.name}))},DR=[{name:"__user"},{name:"__collection"},{name:"__collection_size"},{name:"__ancestor_collection"},{name:"__ancestor_collection_size"},{name:"__shape"},{name:"__shape_size"},{name:"__shape_last_added"},{name:"__placeholder_shape_size"},{name:"__version"},{name:"__version_size"},{name:"__storage"},{name:"__storage_size"},{name:"__storagegroup"},{name:"__storagegroup_size"},{name:"__sequence"},{name:"__sequence_size"},{name:"__metadata_last_modified"},{name:"____metadataFieldGroup"},{name:"__externalId"},{name:"__child_collection"},{name:"__child_collection_size"},{name:"__parent_collection"},{name:"__parent_collection_size"},{name:"__items_size"},{name:"__folder_mapped"},{name:"__child_folder_collection"},{name:"__parent_folder_collection"},{name:"__parent_folder_collection"},{name:"__deletion_lock_expiry"}],PR=Qt(ft.listMetadataField,500,{leading:!0,trailing:!1}),it=async t=>{const{data:n}=await PR(),{field:s=[]}=n,o=s.concat(DR);let r=o;if(t&&t!=="*"){const a=t.toLowerCase();r=o.filter(l=>l.name.toLowerCase().includes(a))}return r.map(a=>({label:a.name,value:a.name}))};function OR(){return e.jsxs(O,{container:!0,spacing:8,children:[e.jsx(O,{item:!0,sm:10,children:e.jsx(c,{name:"value",component:m,fullWidth:!0})}),e.jsx(O,{item:!0,sm:2,children:e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"mode",children:"Mode"}),e.jsxs(c,{name:"mode",component:K,children:[e.jsx(b,{value:"add",children:"Add"}),e.jsx(b,{value:"remove",children:"Remove"})]})]})})]})}function ox(){return e.jsxs(O,{container:!0,spacing:8,children:[e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"name",label:"Field Name",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0})}),e.jsx(O,{item:!0,sm:6,children:e.jsx(k,{name:"value",label:"value",withHeader:!1,direction:"row",component:OR})})]})}function rx(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"Group Name",component:z,loadOptions:qn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(k,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:ox}),e.jsx(k,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:rx})]})}function LR(){return e.jsxs(e.Fragment,{children:[e.jsxs(O,{container:!0,spacing:8,children:[e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"start",component:m,fullWidth:!0})}),e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"end",component:m,fullWidth:!0})})]}),e.jsx(k,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:ox}),e.jsx(k,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:rx})]})}function Is(){return e.jsx(k,{name:"timespan",label:"timespan",arrayHeader:!0,withHeader:!1,hover:!1,removeLabel:!0,component:LR})}function NR({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataDocument",component:Is}),e.jsx("button",{type:"submit",hidden:!0})]})}const Cn=F()(NR),_R=Qt(rn.listShapeTag,500,{leading:!0,trailing:!1}),De=async t=>{const{data:n}=await _R(),{uri:s=[]}=n;let o=s;return t&&t!=="*"&&(o=s.filter(i=>i.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i,value:i}))},$R=Qt(pt.listStorage,500,{leading:!0,trailing:!1}),Ke=async t=>{const{data:n}=await $R(),{storage:s=[]}=n;let o=s.map(i=>i.id);return t&&t!=="*"&&(o=o.filter(i=>i.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i,value:i}))},WR={chipContainer:{minWidth:260}};function kR({classes:t,input:n,simple:s=!1,...o}){const r=d=>{if(d.target.value){const u=s?[d.target.value]:[{value:d.target.value}];if(typeof n.value=="object"){const p=ze(n.value,{$push:u});n.onBlur(p)}else n.onBlur(u)}else n.onBlur(n.value)},i=(d,u)=>{const p=ze(n.value,{$splice:[[u,1]]});n.onChange(p)},a=typeof n.value=="string"?void 0:n.value,l=s?void 0:{value:"value",text:"value"};return e.jsx(Jb,{...n,...o,dataSourceConfig:l,value:a,onDelete:i,onBlur:r,classes:{chipContainer:t.chipContainer}})}const pe=xe(WR)(kR);function wR({fields:t,onRestore:n}){const s=o=>{const r=t.get(o);n&&n(r,o),t.remove(o)};return e.jsxs(e.Fragment,{children:[t.length>0&&e.jsx(J,{shrink:!0,children:"Removed"}),t.map((o,r)=>e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[e.jsx(O,{item:!0,sm:5,children:e.jsx(L,{name:`${o}.key`,component:m,label:"Key",disabled:!0,fullWidth:!0})}),e.jsx(O,{item:!0,sm:5,children:e.jsx(O,{item:!0,children:e.jsx(L,{name:`${o}.value`,component:m,label:"Value",disabled:!0,fullWidth:!0})})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(ee,{onClick:()=>s(r),children:e.jsx(Rp,{})})})]},o))]})}function UR(t){var n;return e.jsx(m,{disabled:((n=t==null?void 0:t.meta)==null?void 0:n.initial)!==void 0,onFocus:t==null?void 0:t.onFocus,onBlur:t==null?void 0:t.onBlur,...t})}function Rr({fields:t,buttonLabel:n,label:s,onAdd:o,onRemove:r}){const i=()=>{t.push(),o&&o()},a=l=>{const d=t.get(l);r&&r(d,l),t.remove(l)};return e.jsxs(O,{container:!0,direction:"column",children:[e.jsx(J,{shrink:!0,children:s}),t.map((l,d)=>e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[e.jsx(O,{item:!0,sm:5,children:e.jsx(L,{name:`${l}.key`,component:UR,label:"Key",fullWidth:!0})}),e.jsx(O,{item:!0,sm:5,children:e.jsx(O,{item:!0,children:e.jsx(L,{name:`${l}.value`,component:m,label:"Value",fullWidth:!0})})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(ee,{onClick:()=>a(d),children:e.jsx(jt,{})})})]},d)),e.jsx(O,{item:!0,children:e.jsx(Zt,{onClick:i,color:"primary",style:{marginTop:10},children:n||"Add Metadata"})})]})}function ix(){return e.jsx(Rt,{name:"field",component:Rr})}function Tl(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"pattern",label:"Filter Pattern",component:m,fullWidth:!0}),e.jsx(L,{name:"tag",label:"Filter Tag",component:pe,simple:!0,fullWidth:!0})]})}function VR(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(L,{name:"enabled",component:E}),label:"Enabled"}),e.jsx(R,{control:e.jsx(L,{name:"fileNameAsTitle",component:E}),label:"File Name As Title"}),e.jsx(R,{control:e.jsx(L,{name:"ignoreSidecarImport",component:E}),label:"Ignore Sidecar Import"}),e.jsx(L,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),e.jsx(L,{name:"resourceId",label:"Resource ID",component:m,fullWidth:!0}),e.jsx(L,{name:"settingsId",label:"Settings ID",component:m,fullWidth:!0}),e.jsx(L,{name:"projection",label:"Projection",component:m,fullWidth:!0}),e.jsx(hs,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),e.jsx(k,{name:"excludeFilter",label:"Exclude Filter",component:Tl}),e.jsx(k,{name:"shapeTagFilter",label:"Shape Tag Filter",component:Tl}),e.jsx(ae,{name:"jobmetadata",component:ix,label:"Job Metadata"}),e.jsx(ae,{name:"metadata",component:Is})]})}function GR({error:t,handleSubmit:n,storageId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(L,{name:"storageId",label:"Storage ID",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,validate:[Q]}),e.jsx(ae,{name:"autoImportRuleDocument",component:VR}),e.jsx("button",{type:"submit",hidden:!0})]})}const ax=F()(GR);function qR({autoImportRuleDocument:t,storageId:n,openSnackBar:s,onRefresh:o}){const r=()=>{s({messageContent:"Auto Import Rule Saved"}),o&&o()},i=()=>{s({messageContent:"Error Updating Auto Import Rule",messageColor:"secondary"})},a={storageId:n},l={autoImportRuleDocument:t},d={autoImportRuleDocument:t};return e.jsx(Ge,{formName:"EDIT_AUTOIMPORTRULE_FORM",onSubmitSuccess:r,onSubmitFail:i,onSubmit:tx,formComponent:ax,formProps:a,displayComponent:AR,displayProps:l,initialValues:d,storageId:n})}const HR={openSnackBar:Le},BR=Ce(null,HR)(qR);function zR({storageId:t,autoImportRuleDocument:n,onRefresh:s}){return e.jsx($,{children:e.jsx(BR,{storageId:t,autoImportRuleDocument:n,onRefresh:s})})}function JR({storageId:t,open:n,onClose:s,history:o,openSnackBar:r}){const i=l=>{const{autoImportRuleDocument:d}=l,{storage:u}=d,p=`Auto Import Rules For ${u} Created`;r({messageContent:p}),o.push(`/auto-import/${u}/`),s()},a=()=>{r({messageContent:"Error Creating Auto Import Rule",messageColor:"secondary"})};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Auto Import Rule"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:ax,documentName:"autoImportRuleDocument",onSubmit:tx,onSubmitSuccess:i,onSubmitFail:a,onCancel:s,storageId:t})})]})}const lx=v(JR);function KR({open:t,onClose:n,openSnackBar:s,storageId:o,onSuccess:r}){const i=()=>{gs.disableAutoImport({storageId:o}).then(()=>{s({messageContent:"Auto Import Rule Disabled"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Disabling Auto Import Rule ",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Disable ${o} Auto Import Rule`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Close"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Disable"})]})]})}const YR=v(KR);function QR({open:t,onClose:n,openSnackBar:s,storageId:o,onSuccess:r}){const i=()=>{gs.enableAutoImport({storageId:o}).then(()=>{s({messageContent:"Auto Import Rule Enabled"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Enabling Auto Import Rule ",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Enable ${o} Auto Import Rule`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Close"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Enable"})]})]})}const XR=v(QR);function ZR({open:t,onClose:n,storageId:s,history:o,openSnackBar:r}){const i=()=>{gs.removeAutoImport({storageId:s}).then(()=>{const a=`Auto Import Rule ${s} Removed`;r({messageContent:a}),o.push("/auto-import/"),n()}).catch(()=>{r({messageContent:"Error Removing Storage Group",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Auto Import Rule From "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const eT=v(ZR),qr="AUTOIMPORTRULE_REMOVE_MODAL",Hr="AUTOIMPORT_CREATE_MODAL",El="AUTOIMPORTRULE_DISABLE_DIALOG",Il="AUTOIMPORTRULE_ENABLE_DIALOG";class tT extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={autoImportRuleDocument:void 0}}componentDidMount(){const{storageId:n}=this.props;document.title=`VidiCore Admin | Auto Import Rule | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,storageId:s}=this.props;try{gs.getAutoImport({storageId:s}).then(o=>this.setState({autoImportRuleDocument:o.data}))}catch{n({messageContent:"Error Loading Auto Import Rule",messageColor:"secondary"})}}render(){const{storageId:n}=this.props,{autoImportRuleDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:n,parentTitle:"Auto Import Rule",parentTo:"/auto-import/",helpTo:"/storage/auto-import.html",removeModal:qr,onRefresh:this.onRefresh,storageId:n,code:s,codeModal:"AutoImportRuleDocument",createModal:Hr,menuList:[{label:"Create Rule",modalName:Hr},{label:"Enable Rule",modalName:Il},{label:"Disable Rule",modalName:El,color:"secondary"},{label:"Delete Rule",modalName:qr,color:"secondary"}]}),s&&e.jsx(zR,{onRefresh:this.onRefresh,storageId:n,autoImportRuleDocument:s}),e.jsx(eT,{dialogName:qr,storageId:n}),e.jsx(lx,{dialogName:Hr,storageId:n}),e.jsx(YR,{dialogName:El,storageId:n,onSuccess:this.onRefresh}),e.jsx(XR,{dialogName:Il,storageId:n,onSuccess:this.onRefresh})]})}}const cx=H(tT);function nT({autoImportRule:t}){const{storage:n}=t;return e.jsxs(Be,{hover:!0,to:`/auto-import/${n}/`,children:[e.jsx(A,{children:n}),e.jsx(A,{})]})}function sT({autoImportRuleListDocument:t={}}){const{rule:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Storage ID"}),e.jsx(A,{})]})}),e.jsx(de,{children:n.map(s=>e.jsx(nT,{autoImportRule:s},s.storage))})]})}function oT({autoImportRuleListDocument:t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(sT,{autoImportRuleListDocument:t})})})}function rT({...t}){return e.jsx(Y,{title:"Auto Import Rule",helpTo:"/storage/auto-import.html",...t})}const vl="AUTOIMPORT_CREATE_MODAL";class iT extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={autoImportRuleListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Auto Import",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{gs.listAutoImport().then(s=>this.setState({autoImportRuleListDocument:s.data}))}catch{n({messageContent:"Error Loading Auto Import Rules",messageColor:"secondary"})}}render(){const{autoImportRuleListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(rT,{onRefresh:this.onRefresh,code:n,codeModal:"AutoImportRuleListDocument",createModal:vl}),n&&e.jsx(oT,{autoImportRuleListDocument:n}),e.jsx(lx,{dialogName:vl})]})}}const aT=H(iT),lT=he((t,n,s)=>{const{groupName:o,queryParams:r}=t,{userName:i}=s,a={RunAs:i};return Jt.updateImportAccessGroup({groupName:o,queryParams:r,headers:a})}),cT=he((t,n,s)=>{const{accessControlDocument:o,queryParams:r}=t,i=s.entityType||t.entityType,a=s.entityId||t.entityId;return Jt.createEntityAccess({entityType:i,entityId:a,queryParams:r,accessControlDocument:o})}),dT=he((t,n,s)=>{const{queryParams:o={}}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Jt.getEntityAccessMerged({entityType:r,entityId:i,queryParams:o})}),uT=he((t,n,s)=>{const{queryParams:o={}}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Jt.listEntityAccess({entityType:r,entityId:i,queryParams:o})}),mT=he((t,n,s)=>{const{queryParams:o={}}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Jt.getEntityAccessGraphDot({entityType:r,entityId:i,queryParams:o})}),hT=Qt(Pn.listGroup,500,{leading:!0,trailing:!1}),Hn=async t=>{const{data:n}=await hT(),{group:s=[]}=n;let o=s;return t&&t!=="*"&&(o=s.filter(i=>i.groupName.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i.groupName,value:i.groupName}))},pT=t=>t==null?void 0:t.value;function La(t){return e.jsx(L,{component:z,loadOptions:Hn,cacheOptions:!0,parse:pT,createable:!0,...t})}let ao=class extends T.PureComponent{constructor(n){super(n),this.handleChange=this.handleChange.bind(this);const{meta:s,choices:o={}}=n,{initial:r={}}=s,i=Object.keys(o).find(a=>Object.keys(r).includes(a));this.state={value:i||""}}handleChange(n){const{value:s}=n.target,{value:o}=this.state,{input:r}=this.props,{value:i,onChange:a}=r;if(i){const l=ze(i,{[s]:{$set:""},$unset:[o]});a(l)}else a({[s]:""});this.setState({value:s})}render(){const{children:n,label:s,choices:o={},input:r,...i}=this.props,{value:a}=this.state,l=a?o[a]:null;return e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:s}),e.jsx(ye,{...i,select:!0,value:a,FormHelperTextProps:{focused:!0},onChange:this.handleChange,children:n}),l]})}};function dx(){return e.jsx(L,{name:"field",label:"Metadata Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0})}function ux(){return e.jsx(L,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,creatable:!0,cacheOptions:!0,isClearable:!0})}function mx(){return e.jsx(L,{name:"type",component:m,label:"URI Type",fullWidth:!0})}function xT(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"priority",component:m,label:"Priority",type:"number",fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(L,{name:"permission",component:K,children:[e.jsx(b,{value:"READ",children:"Read"}),e.jsx(b,{value:"WRITE",children:"Write"}),e.jsx(b,{value:"ALL",children:"All"}),e.jsx(b,{value:"OWNER",children:"Owner"}),e.jsx(b,{value:"NONE",children:"None"})]})]}),e.jsx(hs,{name:"grantor",label:"Grantor",isClearable:!0,fullWidth:!0}),e.jsx(R,{control:e.jsx(L,{name:"recursive",component:E}),label:"Recursive"})]})}function jT(){return e.jsx(R,{control:e.jsx(L,{name:"allowDuplicate",component:E}),label:"Allow Duplicate"})}function fT({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsxs(L,{name:"accessControlDocument",component:ao,label:"Entity",fullWidth:!0,choices:{user:e.jsx(hs,{name:"accessControlDocument.user",label:"User",isClearable:!0,fullWidth:!0}),group:e.jsx(La,{name:"accessControlDocument.group",label:"Group",isClearable:!0,fullWidth:!0})},children:[e.jsx(b,{value:"user",children:"User"}),e.jsx(b,{value:"group",children:"Group"})]}),e.jsxs(L,{name:"accessControlDocument.operation",component:ao,label:"Operation",fullWidth:!0,choices:{metadata:e.jsx(ae,{name:"accessControlDocument.operation.metadata",component:dx}),shape:e.jsx(ae,{name:"accessControlDocument.operation.shape",component:ux}),uri:e.jsx(ae,{name:"accessControlDocument.operation.uri",component:mx})},children:[e.jsx(b,{value:"metadata",children:"Metadata"}),e.jsx(b,{value:"shape",children:"Shape"}),e.jsx(b,{value:"uri",children:"URI"})]}),e.jsx(ae,{name:"accessControlDocument",component:xT}),e.jsx(ae,{name:"queryParams",component:jT}),e.jsx("button",{type:"submit",hidden:!0})]})}const gT=F()(fT),Al="EDIT_ACCESSCONTROL_FORM";function bT({submitForm:t,onClose:n,open:s,onSuccess:o,openSnackBar:r,entityType:i,entityId:a}){const l=()=>{r({messageContent:"Access Control Created"}),o&&o(),n()},d=()=>{r({messageContent:"Error Creating Access Control",messageColor:"secondary"})},u={queryParams:{allowDuplicate:!0}};return e.jsxs(_,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Create Access Control"}),e.jsx(X,{children:e.jsx(gT,{form:Al,onSubmit:cT,onSubmitSuccess:l,onSubmitFail:d,entityType:i,entityId:a,initialValues:u})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Al),children:"Save"})]})]})}const Na=I(v,M)(bT);function CT(t,n,s){const{metadataDocument:o={},queryParams:r}=t,i=s.collectionId||t.collectionId;return Qe.updateCollectionMetadata({collectionId:i,metadataDocument:o,queryParams:r}).then(a=>({collectionId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function yT(t,n,s){const{queryParams:o={}}=t,r=s.collectionId||t.collectionId;return Qe.getCollectionMetadata({collectionId:r,queryParams:o}).then(i=>({collectionId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function ST(t,n,s){const{queryParams:o={}}=t,r=s.collectionId||t.collectionId;return Dt.listEntityMetadataChange({entity:"collection",entityId:r,queryParams:o}).then(i=>({collectionId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function RT(t,n,s){const{queryParams:o={}}=t,r=s.collectionId||t.collectionId;return Qe.getCollection({collectionId:r,queryParams:o}).then(i=>({collectionId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function hx(t){const{queryParams:n={},itemSearchDocument:s={}}=t;return Qe.searchCollection({itemSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,itemSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function Vi(t){const{queryParams:n={},collectionDocument:s={}}=t;return Qe.createCollection({collectionDocument:s,queryParams:n}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function TT(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId;return Qe.renameCollection({collectionId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function ET(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId,i=s.entityId||t.entityId;return Qe.addCollectionEntity({collectionId:r,entityId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function IT(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId,i=s.entityId||t.entityId;return Qe.removeCollectionEntity({collectionId:r,entityId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function vT(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId;return Qe.getCollection({collectionId:r,queryParams:o,path:`/API/collection/${r}/export`,method:"POST"}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function AT(t,n,s){const{queryParams:o}=t,r=s.collectionId||t.collectionId;return Qe.updateFolderCollection({collectionId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function FT(t,n,s){const{queryParams:o={}}=t,r=s.collectionId||t.collectionId;return Qe.collectionSequence({collectionId:r,queryParams:{mode:"COLLECTION_ORDER",...o}}).then(i=>({collectionId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function MT(){return e.jsxs(O,{container:!0,spacing:8,children:[e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"key",label:"key",component:m,fullWidth:!0})}),e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"value",label:"value",component:m,fullWidth:!0})})]})}const DT=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Entity Type"}),e.jsxs(c,{name:"type",component:K,validate:[Q],children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"collection",children:"Collection"}),e.jsx(b,{value:"library",children:"Library"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"addItems",component:E}),label:"Add Items"}),e.jsx(k,{name:"metadata",label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0,component:MT})]});function PT({error:t,handleSubmit:n,collectionId:s,entityId:o,initialValues:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"collectionId",label:"Collection ID",component:m,fullWidth:!0}),!o&&e.jsx(c,{name:"entityId",label:"Entity ID",component:m,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:DT,initialValues:r}),e.jsx("button",{type:"submit",hidden:!0})]})}const OT=F()(PT),Fl="COLLECTION_ENTITY_ADD_FORM";function LT({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,collectionId:a,entityId:l,entityType:d}){const u=(x,j,g)=>{r({messageContent:"Collection Entity Added"}),o&&o(x,j,g),s()},p=(x,j,g)=>{r({messageContent:"Error Adding Collection Entity",messageColor:"secondary"}),i&&i(x,j,g)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Entity To Collection"}),e.jsx(X,{children:e.jsx(OT,{onSubmit:ET,onSubmitSuccess:u,onSubmitFail:p,form:Fl,collectionId:a,entityId:l,initialValues:{queryParams:{type:d}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Fl),children:"Add"})]})]})}const px=I(v,M)(LT),Pe=["HIGHEST","HIGH","MEDIUM","LOW","LOWEST","IMMEDIATE"],NT=Qt(ho.listExportLocation,500,{leading:!0,trailing:!1}),vs=async t=>{const{data:n}=await NT(),{exportLocation:s=[]}=n;let o=s;return t&&t!=="*"&&(o=s.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i.name,value:i.name}))},_T=Qt(hn.listProjection,500,{leading:!0,trailing:!1}),On=async t=>{const{data:n}=await _T(),{uri:s=[]}=n;let o=s;return t&&t!=="*"&&(o=s.filter(i=>i.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i,value:i}))};function ne({dense:t=!0}){return t?e.jsxs(O,{container:!0,spacing:8,children:[e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"key",label:"key",component:m,fullWidth:!0})}),e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"value",label:"value",component:m,fullWidth:!0})})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"key",label:"key",component:m,fullWidth:!0}),e.jsx(c,{name:"value",label:"value",component:m,fullWidth:!0})]})}function Ln({dense:t=!0}){return e.jsx(k,{name:"field",arrayHeader:"field",withHeader:!1,component:ne,dense:t})}const $T=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0}),e.jsx(c,{name:"locationName",label:"Export Location",component:z,loadOptions:vs,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"all",component:E}),label:"Allow Missing"}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"version",component:m,fullWidth:!0}),e.jsx(c,{name:"template",label:"Export Template",component:m,fullWidth:!0})]});function WT({error:t,handleSubmit:n,collectionId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"collectionId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:$T}),e.jsx("button",{type:"submit",hidden:!0})]})}const kT=F()(WT),wT="COLLECTION_EXPORT_FORM";function UT({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,collectionId:a,form:l=wT}){const d=(p,x,j)=>{r({messageContent:"Export Started"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Export Collection"}),e.jsx(X,{children:e.jsx(kT,{form:l,onSubmit:vT,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,collectionId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Start"})]})]})}const VT=I(v,M)(UT);function GT(t){const n=[];return n.getFirstValue=()=>{if(this.length!==0)return this[0]},t===void 0||t.forEach(s=>n.push(s.value)),n}function xx(t){const n={};return t===void 0||t.forEach(s=>{const{name:o}=s,{value:r}=s,i=GT(r);if(n[o]){const a=n[o];n[o]=a.concat(i)}else n[o]=i}),n}function jx(t){const n={};return t===void 0||t.forEach(s=>{const{name:o}=s,r=xx(s.field),i=jx(s.group);if(n[o]){const a=n[o].field,l=n[o].group;n[o]={name:o,field:Object.assign(a,r),group:Object.assign(l,i)}}else n[o]={name:o,field:r,group:i}}),n}function qT(t){const n={};return t===void 0||t.forEach(s=>{const{start:o,end:r}=s,i=`${o}_${r}`,a=xx(s.field),l=jx(s.group);n[i]={start:o,end:r,field:a,group:l}}),n}function HT(t){const n={};return t===void 0?n:{timespan:qT(t.timespan)}}const BT=Kb(f)(({theme:t})=>({background:t.palette.error.main,color:t.palette.error.contrastText,"&:hover":{backgroundColor:t.palette.error.dark}})),zT=()=>e.jsx(c,{name:"name",label:"Report Updated Folder Name",component:m,validate:[Q],fullWidth:!0});function JT({error:t,handleSubmit:n,collectionId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"collectionId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:zT}),e.jsx("button",{type:"submit",hidden:!0})]})}const KT=F()(JT),YT="COLLECTION_FOLDERMAPUPDATE_FORM",QT=(t,n={})=>{const s=typeof t;if(s==="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;const o=n==null?void 0:n.strType;if(o)return typeof o=="function"?o(t,n):o;throw new Error(`Unknown type ${s} for ${t}`)};function XT({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,collectionId:a,form:l=YT}){const[d,u]=T.useState(null);T.useEffect(()=>{t===!1||a===void 0||Qe.getCollectionMetadata({collectionId:a,queryParams:{field:"__folder_mapped",interval:"generic"}}).then(({data:y})=>{var _e,Oe,ke,$t;const D=HT(y),se=($t=(ke=(Oe=(_e=D==null?void 0:D.timespan)==null?void 0:_e["-INF_+INF"])==null?void 0:Oe.field)==null?void 0:ke.__folder_mapped)==null?void 0:$t[0],re=QT(se,{undefined:!1});u(re)})},[t,a]);const p=(y,D,se)=>{r({messageContent:"Folder Mapping Updated"}),s&&s(y,D,se),n()},x=(y,D,se)=>{r({messageContent:"Error Updating Folder Mapping",messageColor:"secondary"}),o&&o(y,D,se)},j=()=>Qe.markFolderCollection({collectionId:a}).then(()=>{r({messageContent:"Folder Mapping Enabled"}),s&&s(),n()}).catch(y=>{r({messageContent:"Error Enabling Folder Mapping",messageColor:"secondary"}),o&&o(y)}),g=()=>Qe.unMarkFolderCollection({collectionId:a}).then(()=>{r({messageContent:"Collection No Longer Marked Mapped"}),s&&s(),n()}).catch(y=>{r({messageContent:"Error Unmarking Folder Mapping",messageColor:"secondary"}),o&&o(y)});return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:"md",children:[e.jsx(N,{children:"Folder Mapped Collection"}),e.jsx(X,{children:{true:e.jsxs("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(KT,{form:l,onSubmit:AT,onSubmitSuccess:p,onSubmitFail:x,onCancel:n,collectionId:a}),e.jsx(U,{orientation:"vertical",flexItem:!0}),e.jsx("div",{children:e.jsx(BT,{variant:"contained",startIcon:e.jsx(jt,{}),onClick:g,children:"Delete Mapping"})})]}),undefined:e.jsx(ds,{})}[d]}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),{false:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:j,children:"Enable"}),true:e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Update"})}[d]]})]})}const ZT=I(v,M)(XT);function eE({open:t,onClose:n,openSnackBar:s,onSuccess:o,onFail:r,collectionId:i}){if(i===void 0)return null;const a=()=>{Qe.removeCollection({collectionId:i}).then(()=>{s({messageContent:"Collection Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing Collection",messageColor:"secondary"}),r&&r()})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Collection ${i}`}),e.jsx(X,{children:"This does not affect any entities within the collection."}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const tE=v(eE),nE=()=>e.jsx(c,{name:"name",component:m,fullWidth:!0});function sE({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:nE}),e.jsx("button",{type:"submit",hidden:!0})]})}const oE=F()(sE),Ml="COLLECTION_RENAME_FORM";function rE({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,collectionId:a,collectionDocument:l={}}){const d=(j,g,y)=>{r({messageContent:"Collection Name Updated"}),o&&o(j,g,y),s()},u=(j,g,y)=>{r({messageContent:"Error Updating Collection Name",messageColor:"secondary"}),i&&i(j,g,y)},{name:p}=l,x={queryParams:{name:p}};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Rename Collection"}),e.jsx(X,{children:e.jsx(oE,{onSubmit:TT,onSubmitSuccess:d,onSubmitFail:u,form:Ml,collectionId:a,initialValues:x})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Ml),children:"Update"})]})]})}const iE=I(v,M)(rE),aE=t=>({drawer:{flexShrink:0,whiteSpace:"nowrap"},paper:{marginTop:54},drawerOpen:{width:t.spacing(25),paddingRight:t.spacing(1),transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerClose:{width:t.spacing(18),paddingRight:t.spacing(1),transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},paperAnchorDockedLeft:{borderRight:"none"}});class lE extends T.PureComponent{constructor(n){super(n),this.handleDrawerOpen=this.handleDrawerOpen.bind(this),this.handleDrawerClose=this.handleDrawerClose.bind(this),this.state={open:n.defaultOpen||!1}}handleDrawerOpen(){this.setState({open:!0})}handleDrawerClose(){this.setState({open:!1})}render(){const{classes:n,listComponent:s,mainComponent:o,...r}=this.props,{open:i}=this.state;return e.jsxs("div",{style:{display:"flex"},children:[e.jsxs(Yb,{variant:"permanent",className:Kt(n.drawer,{[n.drawerOpen]:i,[n.drawerClose]:!i}),classes:{paper:Kt(n.paper,{[n.drawerOpen]:i,[n.drawerClose]:!i}),paperAnchorDockedLeft:n.paperAnchorDockedLeft},open:!0,children:[e.jsx(mr,{button:!0,onClick:i?this.handleDrawerClose:this.handleDrawerOpen,disableRipple:!0,disableGutters:!0,children:e.jsx(fa,{children:i?e.jsx(Qb,{}):e.jsx(Xb,{})})}),e.jsx(s,{...r})]}),e.jsx("div",{style:{flexGrow:1},children:e.jsx(o,{...r})})]})}}const Tt=xe(aE)(lE);function Nt(t){const{icon:n=!1,primary:s,secondary:o,to:r,exact:i,...a}=t,l=s&&s[0]||o&&o[0],d=T.useMemo(()=>T.forwardRef((u,p)=>e.jsx(pa,{to:r,exact:i,ref:p,...u})),[r,i]);return e.jsx("li",{children:e.jsxs(mr,{button:!0,component:d,activeClassName:"Mui-selected",...a,children:[n&&l!==void 0?e.jsx(fa,{children:e.jsx(bs,{style:{height:25,width:25},children:l})}):null,e.jsx(ga,{primary:s,secondary:o})]})})}const ln=t=>n=>class extends T.PureComponent{constructor(s){super(s),this.onChangeTab=this.onChangeTab.bind(this);const r=new URLSearchParams(s.location.search).get("tab");this.state={tabValue:r||t}}onChangeTab(s,o){const{history:r}=this.props;r.push({search:`?tab=${o}`}),this.setState({tabValue:o})}render(){const{tabValue:s}=this.state;return e.jsx(n,{...this.props,tabValue:s,onChangeTab:this.onChangeTab})}};function cE({uri:t}){return e.jsx(h,{title:"URI Type",value:t.type})}function dE({shape:t}){return e.jsx(h,{title:"Shape Tag",variant:"shape-tag",value:t.tag})}function uE({metadata:t}){return e.jsx(h,{title:"Metadata Field",variant:"metadata-field",value:t.field})}function fx({access:t}){return e.jsxs(e.Fragment,{children:[t.user&&e.jsx(h,{title:"User",variant:"username",value:t.user}),t.group&&e.jsx(h,{title:"Group",variant:"group",value:t.group}),e.jsx(h,{title:"Permission",value:t.permission}),e.jsx(h,{title:"Grantor",variant:"username",value:t.grantor}),e.jsx(h,{title:"Recursive",variant:"boolean",value:t.recursive}),e.jsx(h,{title:"Priority",value:t.priority}),t.operation&&t.operation.uri&&e.jsx(cE,{uri:t.operation.uri}),t.operation&&t.operation.shape&&e.jsx(dE,{shape:t.operation.shape}),t.operation&&t.operation.metadata&&e.jsx(uE,{metadata:t.operation.metadata})]})}function mE({accessControlDocument:t}){return e.jsx(fx,{access:t})}function hE({accessControlDocument:t,entityType:n,entityId:s,openRemove:o}){const{id:r,permission:i}=t;let a;return i!=="OWNER"&&(a=e.jsx(ee,{onClick:o(r),children:e.jsx(jt,{})})),e.jsxs(e.Fragment,{children:[e.jsx(je,{subheader:t.id,action:a}),e.jsx(V,{children:e.jsx(mE,{accessControlDocument:t,entityType:n,entityId:s})})]})}function pE({accessControlDocument:t,onRefresh:n,entityType:s,entityId:o,openRemove:r}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(hE,{accessControlDocument:t,onRefresh:n,entityType:s,entityId:o,openRemove:r})})})}function xE({accessControlListDocument:t={},onRefresh:n,entityType:s,entityId:o,openRemove:r,openCreate:i}){const{access:a=[]}=t;return e.jsxs(e.Fragment,{children:[i&&e.jsx(je,{action:e.jsx(ee,{onClick:i,children:e.jsx(Vt,{})})}),a.map(l=>e.jsx(pE,{accessControlDocument:l,onRefresh:n,entityType:s,entityId:o,openRemove:r},l.id))]})}const jE=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"additionalUserInfo",component:E}),label:"Additional User Info"}),e.jsx(R,{control:e.jsx(c,{name:"additionalGroupInfo",component:E}),label:"Additional Group Info"})]});function fE({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:jE,fullWidth:!0})]})}const gE=F()(fE),gx="ACCESS_PARAMS_FORM";function bE({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,entityType:a,entityId:l,form:d=gx,...u}){const p=(j,g,y)=>{n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Updating Access Control Display",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Access Control Params"})}),e.jsx(Ie,{children:e.jsx(O,{container:!0,children:e.jsx(O,{item:!0,xs:!0,children:e.jsx(gE,{form:d,onSubmit:uT,onSubmitSuccess:p,onSubmitFail:x,entityType:a,entityId:l,...u})})})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const CE=I(H,M)(bE);function yE({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r,accessId:i,entityId:a,entityType:l}){const d=()=>{Jt.removeEntityAccess({accessId:i,entityId:a,entityType:l}).then(u=>{const p=`Access Control "${i}" Removed`;s({messageContent:p}),n(),o&&o(u)}).catch(u=>{s({messageContent:"Error Removing Access Control",messageColor:"secondary"}),r&&r(u)})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Import Setting ${i} ?`}),e.jsx(X,{children:e.jsx(Fn,{children:"Users may no longer be able to access this."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:d,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const SE=v(yE),Dl="ACCESSCONTROL_REMOVE_MODAL";let RE=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.state={accessControlListDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(gx)}openRemove(n){const{onOpen:s}=this.props;return()=>s({modalName:Dl,accessId:n})}render(){const{accessControlListDocument:n}=this.state,{entityType:s,entityId:o,titleComponent:r,tabComponent:i,title:a}=this.props;return e.jsxs(e.Fragment,{children:[r&&e.jsx(r,{onRefresh:this.onRefresh,codeModal:"AccessControlListDocument",code:n,title:a}),i&&e.jsx(i,{}),e.jsx(CE,{entityId:o,entityType:s,onSuccess:l=>this.setState({accessControlListDocument:l.data})}),e.jsx(xE,{accessControlListDocument:n,entityType:s,entityId:o,onRefresh:this.onRefresh,openRemove:this.openRemove}),e.jsx(SE,{dialogName:Dl,entityId:o,entityType:s,onSuccess:this.onRefresh})]})}};const _a=I(M,v)(RE);function TE({metadataFieldGroupPermission:t}){return e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:t==null?void 0:t.name}),e.jsx(A,{children:t==null?void 0:t.permission}),e.jsx(A,{children:t==null?void 0:t.fieldGroup}),e.jsx(A,{children:t==null?void 0:t.field}),e.jsx(A,{children:t==null?void 0:t.username})]})}function EE({metadataFieldGroupPermissionList:t=[]}){return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Name"}),e.jsx(A,{children:"Permission"}),e.jsx(A,{children:"Field Group"}),e.jsx(A,{children:"Field"}),e.jsx(A,{children:"Username"})]})}),e.jsx(de,{children:t.map(n=>e.jsx(TE,{metadataFieldGroupPermission:n},n.username))})]})}function IE({metadataFieldPermission:t}){return e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:t==null?void 0:t.name}),e.jsx(A,{children:t==null?void 0:t.permission}),e.jsx(A,{children:t==null?void 0:t.username})]})}function vE({metadataFieldPermissionList:t=[]}){return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Name"}),e.jsx(A,{children:"Permission"}),e.jsx(A,{children:"Username"})]})}),e.jsx(de,{children:t.map(n=>e.jsx(IE,{metadataFieldPermission:n},n.username))})]})}const AE=ba(t=>({root:n=>({"& > *":{marginBottom:t.spacing(n.mb)}})}));function en({mb:t=2,children:n}){const s=AE({mb:t});return e.jsx("div",{className:s.root,children:n})}function FE({access:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Permission",value:t.permission}),e.jsx(h,{title:"Type",value:t.type}),e.jsx(h,{title:"Priority",value:t.priority,hideNoValue:!0}),e.jsx(h,{title:"Rank",value:t.rank}),e.jsx(h,{title:"User",variant:"username",value:t.username,hideNoValue:!0}),e.jsx(h,{title:"Group",variant:"group",value:t.group,hideNoValue:!0}),e.jsx(h,{title:"Grantor",variant:"username",value:t.grantor,hideNoValue:!0}),e.jsx(h,{title:"Extra Data",value:t.extradata,hideNoValue:!0}),e.jsx(h,{title:"Collection",variant:"collection",value:t.collection,hideNoValue:!0}),e.jsx(h,{title:"Library",variant:"library",value:t.library,hideNoValue:!0}),e.jsx(h,{title:"Super User",variant:"boolean",value:t.superUser,hideNoValue:!0}),e.jsx(h,{title:"Matches",variant:"boolean",value:t.matches,hideNoValue:!0}),e.jsx(h,{title:"ID",value:t.id,hideNoValue:!0}),e.jsx(h,{title:"Effective Permission",value:t.effectivePermission,hideNoValue:!0}),e.jsx(h,{title:"originalDisabledGrantor",value:t.originalDisabledGrantor,variant:"list",hideNoValue:!0})]})}function ME({query:t}){return e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:t==null?void 0:t.username}),e.jsx(A,{children:t==null?void 0:t.permission}),e.jsx(A,{children:t==null?void 0:t.type}),e.jsx(A,{children:t==null?void 0:t.extradata}),e.jsx(A,{children:t==null?void 0:t.item}),e.jsx(A,{})]})}function DE({queryList:t=[]}){return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Username"}),e.jsx(A,{children:"Permission"}),e.jsx(A,{children:"Type"}),e.jsx(A,{children:"Extra Data"}),e.jsx(A,{children:"Item"})]})}),e.jsx(de,{children:t.map(n=>e.jsx(ME,{query:n},n.username))})]})}function $a({accessControlMergedDocument:t={}}){const{access:n,field:s,fieldGroup:o,query:r}=t;return e.jsxs(en,{children:[Array.isArray(n)?n.map(i=>e.jsx($,{children:e.jsx(V,{children:e.jsx(FE,{access:i})})},JSON.stringify(i))):null,Array.isArray(s)?e.jsx($,{children:e.jsx(V,{children:e.jsx(vE,{metadataFieldPermissionList:s})})}):null,Array.isArray(o)?e.jsx($,{children:e.jsx(V,{children:e.jsx(EE,{metadataFieldGroupPermissionList:o})})}):null,Array.isArray(r)?e.jsx($,{children:e.jsx(V,{children:e.jsx(DE,{queryList:r})})}):null]})}const PE=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"username",label:"User",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(c,{name:"permission",component:K,children:[e.jsx(b,{value:"NONE",children:"None"}),e.jsx(b,{value:"READ",children:"Read"}),e.jsx(b,{value:"WRITE",children:"Write"}),e.jsx(b,{value:"ALL",children:"All"}),e.jsx(b,{value:"OWNER",children:"Owner"})]})]}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsxs(c,{name:"type",component:K,children:[e.jsx(b,{value:"GENERIC",children:"Generic"}),e.jsx(b,{value:"URI",children:"URI"}),e.jsx(b,{value:"SHAPE",children:"Shape"}),e.jsx(b,{value:"METADATA",children:"Metadata"})]})]}),e.jsx(c,{name:"extradata",label:"Extra Data",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"additionalUserInfo",component:E}),label:"Additional User Info"}),e.jsx(R,{control:e.jsx(c,{name:"additionalGroupInfo",component:E}),label:"Additional Group Info"})]});function OE({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:PE,fullWidth:!0})]})}const LE=F()(OE),bx="ACCESS_MERGED_PARAMS_FORM";function NE({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,entityType:a,entityId:l,form:d=bx,...u}){const p=(j,g,y)=>{n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Updating Access Control Merged Display",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Access Control Merged Options"})}),e.jsx(Ie,{children:e.jsx(O,{container:!0,children:e.jsx(O,{item:!0,xs:!0,children:e.jsx(LE,{form:d,onSubmit:dT,onSubmitSuccess:p,onSubmitFail:x,entityType:a,entityId:l,...u})})})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const _E=I(H,M)(NE);class $E extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={accessControlMergedDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(bx)}render(){const{accessControlMergedDocument:n}=this.state,{titleComponent:s,tabComponent:o,entityId:r,entityType:i,title:a}=this.props;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{onRefresh:this.onRefresh,codeModal:"AccessControlMergedDocument",code:n,title:a}),o&&e.jsx(o,{}),e.jsx(_E,{entityId:r,entityType:i,onSuccess:l=>this.setState({accessControlMergedDocument:l.data})}),e.jsx($a,{accessControlMergedDocument:n})]})}}const Wa=M($E),WE=t=>({root:{"& .edge:hover":{"& path":{stroke:t.palette.error.main},"& text":{fill:t.palette.error.main},"& polygon":{stroke:t.palette.error.main}},"& polygon":{fill:t.palette.background.paper,stroke:t.palette.text.primary},"& path":{stroke:t.palette.text.primary},"& text":{fill:t.palette.text.primary,fontFamily:t.typography.fontFamily,fontSize:t.typography.body2.fontSize}}});let kE=0;const wE=()=>`graphviz${kE++}`;function UE({classes:t,className:n,dot:s,...o}){const r=T.useMemo(wE,[]);return T.useEffect(()=>{Zb(`#${r}`,{fit:!0,zoom:!0,useWorker:!1,...o}).renderDot(s)},[s,r,o]),e.jsx("div",{className:Kt([n,t.root]),id:r})}const Tr=xe(WE)(UE);function ka({initialAuto:t=!1,ButtonBaseProps:n={},...s}){const[o,r]=T.useState(t?"auto":"100%"),i=()=>r(a=>a==="100%"?"auto":"100%");return e.jsx(eC,{onClick:i,disableRipple:!0,style:{width:o},...n,children:e.jsx("img",{style:{width:o},...s})})}const VE=()=>({ImgContainer:{display:"flex",justifyContent:"center"}});function GE({classes:t,useGraphViz:n,graphDot:s,graphImage:o}){return e.jsxs(e.Fragment,{children:[n&&s?e.jsx(Tr,{dot:s,width:"100%",height:"80vh"}):null,n===!1&&o?e.jsx("div",{className:t.ImgContainer,children:e.jsx(ka,{src:URL.createObjectURL(o),initialAuto:!1})}):null]})}const qE=xe(VE)(GE),HE=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsxs(c,{name:"type",component:K,children:[e.jsx(b,{value:"ancestor",children:"Ancestor"}),e.jsx(b,{value:"grant",children:"Grant"})]})]}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"users",children:"Users"}),e.jsxs(c,{name:"users",component:K,children:[e.jsx(b,{value:"true",children:"True"}),e.jsx(b,{value:"false",children:"False"})]})]}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"users",children:"Groups"}),e.jsxs(c,{name:"groups",component:K,children:[e.jsx(b,{value:"true",children:"True"}),e.jsx(b,{value:"false",children:"False"})]})]})]});function BE({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:HE})]})}const zE=F()(BE),JE="ACCESS_GRAPH_PARAMS_FORM";function KE({entityId:t,entityType:n,onSubmit:s,onSuccess:o,onFail:r,openSnackBar:i,submitForm:a,resetForm:l,form:d=JE,defaultExpanded:u=!0,...p}){const x=(g,y,D)=>{o&&o(g,y,D)},j=(g,y,D)=>{i({messageContent:"Error Updating Access Graph",messageColor:"secondary"}),r&&r(g,y,D)};return e.jsxs(fe,{defaultExpanded:u,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Access Graph Options"})}),e.jsx(Ie,{children:e.jsx(zE,{form:d,onSubmit:mT,onSubmitSuccess:x,onSubmitFail:j,entityId:t,entityType:n,...p})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>l(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>a(d),children:"Update"})]})]})}const YE=I(H,M)(KE),Pl="ACCESS_GRAPH_FORM";class QE extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){const{entityId:n,entityType:s}=this.props;try{Jt.getEntityAccessGraphDot({entityType:s,entityId:n}).then(o=>this.setState({graphDot:o.data})).catch(this.onRefreshError),Jt.getEntityAccessGraph({entityType:s,entityId:n,responseType:"blob"}).then(o=>{this.setState({graphImage:o.data})}).catch(this.onRefreshError)}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Access Graph",messageColor:"secondary"})}onRefresh(){const{submitForm:n}=this.props;n(Pl)}onSuccess({request:n,data:s}){const{entityId:o,entityType:r}=this.props,i=n==null?void 0:n.responseURL,a=new URL(i),l=Object.fromEntries(a.searchParams);this.setState({graphDot:s}),Jt.getEntityAccessGraph({entityType:r,entityId:o,queryParams:l,responseType:"blob"}).then(d=>{this.setState({graphImage:d.data})}).catch(this.onRefreshError)}render(){const{graphDot:n,graphImage:s}=this.state,{entityType:o,entityId:r,titleComponent:i,tabComponent:a,title:l,useGraphViz:d=!1}=this.props;return e.jsxs(e.Fragment,{children:[i&&e.jsx(i,{onRefresh:this.onRefresh,code:n,codeModal:"DOT",codeVariant:"text",title:l}),a&&e.jsx(a,{}),e.jsx(YE,{entityType:o,entityId:r,form:Pl,initialValues:{},onSuccess:this.onSuccess}),e.jsx(qE,{useGraphViz:d,graphDot:n,graphImage:s})]})}}const Cx=M(QE),XE=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Entity Type"}),e.jsxs(c,{name:"type",component:K,validate:[Q],children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"collection",children:"Collection"}),e.jsx(b,{value:"library",children:"Library"})]})]});function ZE({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"collectionId",label:"Collection ID",component:m,fullWidth:!0}),e.jsx(c,{name:"entityId",label:"Entity ID",component:m,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:XE})]})}const eI=F()(ZE),Ol="COLLECTION_ENTITY_REMOVE_FORM";function tI({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,collectionId:a,entityId:l,entityType:d}){const u=(x,j,g)=>{r({messageContent:"Collection Entity Removed"}),o&&o(x,j,g),s()},p=(x,j,g)=>{r({messageContent:"Error Removing Collection Entity",messageColor:"secondary"}),i&&i(x,j,g)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove Entity From Collection"}),e.jsx(X,{children:e.jsx(eI,{onSubmit:IT,onSubmitSuccess:u,onSubmitFail:p,form:Ol,collectionId:a,entityId:l,initialValues:{entityId:l,collectionId:a,queryParams:{type:d}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>t(Ol),children:"Remove"})]})]})}const yx=I(v,M)(tI),nI=["__collection","__ancestor_collection","__parent_collection"],Ll="REMOVE_COLLECTION_ENTITY_DIALOG",Nl="Parent",sI="Ancestor";function oI({metadataDocument:t={},onSuccess:n,dialogProps:s,entityType:o,entityId:r,onOpen:i}){const a=[],{timespan:l=[]}=t,d=l.find(p=>p.start==="-INF"&&p.end==="+INF");if(d){const{field:p=[]}=d;p.forEach(x=>{if(nI.includes(x.name)){const{value:j=[]}=x,g=j.find(y=>y.value);if(g){const y=x.name==="__collection"||x.name==="__parent_collection"?Nl:sI;a.push({relation:y,id:g.value})}}})}const u=i(Ll);return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{children:"Type"}),e.jsx(A,{})]})}),e.jsx(de,{children:a.map(p=>e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:e.jsx(be,{to:`/collection/${p.id}/`,children:p.id})}),e.jsx(A,{children:e.jsx(be,{to:`/collection/${p.id}/`,children:p.relation})}),e.jsx(A,{children:p.relation===Nl?e.jsx(ee,{size:"small",onClick:()=>u({collectionId:p.id}),children:e.jsx(et,{})}):null})]},`${p.relation}_${p.id}`))})]}),e.jsx(yx,{dialogName:Ll,onSuccess:n,entityType:o,entityId:r,...s})]})}const Sx=Ze(oI),Et=t=>n=>e.jsx($,{children:e.jsx(V,{children:e.jsx(t,{...n})})}),rI=Et(Sx);class iI extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){const s={field:"__collection,__ancestor_collection,__parent_collection"};try{Qe.getCollectionMetadata({collectionId:n,queryParams:Object.entries(s)}).then(o=>this.setState({metadataDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,collectionId:o,title:r}=this.props,{metadataDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"MetadataDocument",onRefresh:this.onRefresh,title:r}),s&&e.jsx(s,{}),i&&e.jsx(rI,{metadataDocument:i,onSuccess:this.onRefresh,entityType:"collection",entityId:o})]})}}const aI=H(iI),Rx=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"content",component:z,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),e.jsx(c,{name:"field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"group",component:m,fullWidth:!0}),e.jsx(c,{name:"interval",component:m,fullWidth:!0}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"language",component:m,fullWidth:!0}),e.jsx(c,{name:"sampleRate",component:m,fullWidth:!0}),e.jsx(c,{name:"include",component:m,fullWidth:!0}),e.jsx(c,{name:"includeValues",component:m,fullWidth:!0}),e.jsx(c,{name:"revision",component:m,fullWidth:!0}),e.jsx(c,{name:"mergedType",component:m,fullWidth:!0}),e.jsx(c,{name:"mergedPermission",component:m,fullWidth:!0}),e.jsx(c,{name:"mergedExtradata",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(R,{control:e.jsx(c,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(R,{control:e.jsx(c,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"}),e.jsx(R,{control:e.jsx(c,{name:"terse",component:E}),label:"Terse"})]});function lI({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Rx}),e.jsx("button",{type:"submit",hidden:!0})]})}const cI=F()(lI),Br="COLLECTION_CONTENT_DISPLAY_FORM";function dI({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{o({messageContent:"Content Display Updated"}),n&&n(u,p,x)},d=(u,p,x)=>{o({messageContent:"Error Updating Content Display",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Content Display Options"})}),e.jsx(Ie,{children:e.jsx(cI,{form:Br,onSubmit:RT,onSubmitSuccess:l,onSubmitFail:d,...a})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(Br),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Br),children:"Update"})]})]})}const uI=I(H,M)(dI),_l="REMOVE_COLLECTION_ENTITY_DIALOG";function mI({collectionDocument:t,onSuccess:n,onOpen:s,dialogProps:o}){const{content:r=[],id:i}=t,a=s(_l);return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{children:"Type"}),e.jsx(A,{})]})}),e.jsx(de,{children:r.map(l=>e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:e.jsx(be,{to:`/${l.type.toLowerCase()}/${l.id}/`,children:l.id})}),e.jsx(A,{children:e.jsx(be,{to:`/${l.type.toLowerCase()}/${l.id}/`,children:St(l.type)})}),e.jsx(A,{children:e.jsx(ee,{onClick:()=>a({entityType:l.type,entityId:l.id}),children:e.jsx(et,{})})})]},`${l.type}_${l.id}`))})]}),e.jsx(yx,{dialogName:_l,onSuccess:n,collectionId:i,...o})]})}const hI=Ze(mI),pI=["user","itemId"];function xI(t){const{value:n}=t;return{value:n}}function Tx(t,n){const{name:s,value:o=[]}=n;if(s.startsWith("__")||pI.includes(s))return t;const r=o.map(xI);return t.push({name:s,value:r}),t}function Ex(t){const{name:n,field:s=[],group:o=[]}=t,r=s.reduce(Tx,[]),i=o.map(Ex);return{name:n,field:r,group:i}}function jI(t){const{start:n,end:s,field:o=[],group:r=[]}=t,i=o.reduce(Tx,[]),a=r.map(Ex);return{start:n,end:s,field:i,group:a}}function fI(t){if(t===void 0)return{};const{timespan:n=[]}=t;return{timespan:n.map(jI)}}function gI({metadataDocument:t,openSnackBar:n,onSubmit:s,onSuccess:o,onFail:r,title:i,timeRepresentation:a,onQuickEdit:l,...d}){const u="EDIT_METADATA_FORM",p=(g,y,D)=>{n({messageContent:"Metadata Updated"}),o&&o(g,y,D)},x=(g,y,D)=>{n({messageContent:"Error Updating Metadata",messageColor:"secondary"}),r&&r(g,y,D)},j=fI(t);return e.jsx(Ge,{title:i,formName:u,onSubmitSuccess:p,onSubmitFail:x,onSubmit:s,displayProps:{metadataDocument:t,timeRepresentation:a,onEdit:l},initialValues:{metadataDocument:j},formComponent:Cn,displayComponent:Sr,formProps:d})}const Ix=H(gI);function vx({...t}){return e.jsx(Ix,{onSubmit:CT,...t})}const bI=Et(hI),CI=Et(vx);class yI extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={collectionDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){const{setName:s}=this.props;try{Qe.getCollection({collectionId:n}).then(o=>{var r;this.setState({collectionDocument:o.data}),s&&s((r=o==null?void 0:o.data)==null?void 0:r.name)}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{collectionId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{collectionDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"CollectionDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(uI,{collectionId:n,onSuccess:a=>this.setState({collectionDocument:a.data})}),i&&e.jsxs(e.Fragment,{children:[e.jsx(bI,{collectionId:n,collectionDocument:i,onSuccess:this.onRefresh}),i.metadata&&e.jsx(CI,{collectionId:n,metadataDocument:i.metadata,onSuccess:()=>this.onRefresh()})]})]})}}const SI=I(v,H)(yI),RI=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"group",component:z,loadOptions:qn,cacheOptions:!0,isClearable:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(c,{name:"interval",component:m,fullWidth:!0}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"language",component:m,fullWidth:!0}),e.jsx(c,{name:"samplerate",component:m,fullWidth:!0}),e.jsx(c,{name:"revision",component:m,fullWidth:!0}),e.jsx(c,{name:"include",component:m,fullWidth:!0}),e.jsx(c,{name:"from",component:m,fullWidth:!0}),e.jsx(c,{name:"to",component:m,fullWidth:!0}),e.jsx(c,{name:"includeConstraintValue",component:m,fullWidth:!0}),e.jsx(c,{name:"includeExtraData",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(R,{control:e.jsx(c,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(R,{control:e.jsx(c,{name:"starttc",component:E}),label:"Start TC"}),e.jsx(R,{control:e.jsx(c,{name:"terse",component:E}),label:"Terse"}),e.jsx(R,{control:e.jsx(c,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"})]});function TI({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:RI})]})}const EI=F()(TI),zr="METADATA_DISPLAY_FORM";function II({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{o({messageContent:"Display Updated"}),n&&n(u,p,x)},d=(u,p,x)=>{o({messageContent:"Error Updating Display",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Metadata Display Options"})}),e.jsx(Ie,{children:e.jsx(EI,{form:zr,onSubmit:t,onSubmitSuccess:l,onSubmitFail:d,...a})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(zr),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(zr),children:"Update"})]})]})}const Ax=I(H,M)(II);function vI({...t}){return e.jsx(Ax,{onSubmit:yT,...t})}function AI({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsxs(G,{component:"fieldset",children:[e.jsx(Ni,{component:"legend",children:"Display"}),e.jsxs(c,{name:"to",component:Wi,children:[e.jsx(R,{value:io,control:e.jsx(Wt,{}),label:"Text"}),e.jsx(R,{value:wi,control:e.jsx(Wt,{}),label:"SMPTE"}),e.jsx(R,{value:Ui,control:e.jsx(Wt,{}),label:"Seconds"})]})]}),e.jsxs(G,{component:"fieldset",children:[e.jsx(Ni,{component:"legend",children:"Conform"}),e.jsxs(c,{name:"conform",component:Wi,children:[e.jsx(R,{value:"",control:e.jsx(Wt,{}),label:"As Original"}),e.jsx(R,{value:bR,control:e.jsx(Wt,{}),label:"PAL"}),e.jsx(R,{value:CR,control:e.jsx(Wt,{}),label:"NTSC"}),e.jsx(R,{value:yR,control:e.jsx(Wt,{}),label:"NTSC30"}),e.jsx(R,{value:SR,control:e.jsx(Wt,{}),label:"23.98"}),e.jsx(R,{value:RR,control:e.jsx(Wt,{}),label:"24"})]})]}),e.jsxs(G,{component:"fieldset",children:[e.jsx(c,{name:"conform.denominator",component:m,label:"Denominator",type:"number",parse:jl}),e.jsx(c,{name:"conform.numerator",component:m,label:"Numerator",type:"number",parse:jl})]})]})}const FI=F()(AI),MI="TIME_REPRESENTATION_FORM";function DI({onSuccess:t,onFail:n,openSnackBar:s,submitForm:o,resetForm:r,formName:i=MI,...a}){const l=(u,p,x)=>{s({messageContent:"Time Representation Updated"}),t&&t(u,p,x)},d=(u,p,x)=>{s({messageContent:"Error Updating Time Representation",messageColor:"secondary"}),n&&n(u,p,x)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Time Representation Options"})}),e.jsx(Ie,{children:e.jsx(FI,{form:i,onSubmitSuccess:l,onSubmitFail:d,...a})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const Fx=I(H,M)(DI),PI=Et(vx);class OI extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSubmitTimeRepresentation=this.onSubmitTimeRepresentation.bind(this),this.onQuickEdit=this.onQuickEdit.bind(this),this.onQuickEditError=this.onQuickEditError.bind(this),this.state={metadataDocument:void 0,timeRepresentation:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){try{Qe.getCollectionMetadata({collectionId:n}).then(s=>this.setState({metadataDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}onQuickEditError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Updating Collection",messageColor:"secondary"})}onQuickEdit(n){const{collectionId:s}=this.props;try{return Qe.updateCollectionMetadata({collectionId:s,metadataDocument:n}).then(()=>Qe.getCollectionMetadata({collectionId:s})).then(o=>this.setState({metadataDocument:o.data})).catch(o=>{throw this.onQuickEditError(o),o})}catch(o){throw this.onQuickEditError(o),o}}onSubmitTimeRepresentation(n){this.setState({timeRepresentation:n})}render(){const{collectionId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataDocument:i,timeRepresentation:a}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(vI,{collectionId:n,onSuccess:l=>this.setState({metadataDocument:l.data})}),e.jsx(Fx,{onSubmit:this.onSubmitTimeRepresentation}),i&&e.jsx(PI,{collectionId:n,metadataDocument:i,timeRepresentation:a,onSuccess:this.onRefresh,onQuickEdit:this.onQuickEdit})]})}}const Mx=H(OI);function LI({changesetId:t,onOpen:n,trimModal:s,removeModal:o}){return e.jsxs(mt,{children:[s?e.jsx(b,{onClick:()=>n({modalName:s,changesetId:t}),children:e.jsx(C,{children:"Trim"})}):null,o?e.jsx(b,{onClick:()=>n({modalName:o,changesetId:t}),children:e.jsx(C,{color:"secondary",children:"Delete Changeset"})}):null]})}const NI=tt(LI);function Dx({metadataChangeSetDocument:t,MetadataChangeSetMenuProps:n,...s}){const{changeSet:o}=t;return o===void 0||!Array.isArray(o)?null:o.map(r=>e.jsxs($,{id:r.id,children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:`Change Set - ${r.id}`}),action:n?e.jsx(NI,{changesetId:r.id,...n}):void 0}),e.jsx(V,{children:e.jsx(Sr,{metadataDocument:r.metadata,...s})})]}))}function _I(t){return Dx(t)}const $I=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"group",component:z,loadOptions:qn,cacheOptions:!0,isClearable:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(c,{name:"change",component:m,fullWidth:!0}),e.jsx(c,{name:"first",component:m,fullWidth:!0}),e.jsx(c,{name:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"interval",component:m,fullWidth:!0}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"language",component:m,fullWidth:!0}),e.jsx(c,{name:"samplerate",component:m,fullWidth:!0}),e.jsx(c,{name:"include",component:m,fullWidth:!0}),e.jsx(c,{name:"from",component:m,fullWidth:!0}),e.jsx(c,{name:"to",component:m,fullWidth:!0}),e.jsx(c,{name:"includeConstraintValue",component:m,fullWidth:!0}),e.jsx(c,{name:"includeExtraData",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"starttc",component:E}),label:"Start TC"}),e.jsx(R,{control:e.jsx(c,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(R,{control:e.jsx(c,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"}),e.jsx(R,{control:e.jsx(c,{name:"conflict",component:E}),label:"Conflict"})]});function WI({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:$I})]})}const kI=F()(WI),Jr="METADATACHANGESETLIST_FORM";function wI({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{o({messageContent:"Changeset List Updated"}),n&&n(u,p,x)},d=(u,p,x)=>{o({messageContent:"Error Updating Changeset List",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Metadata Changeset List Options"})}),e.jsx(Ie,{children:e.jsx(kI,{form:Jr,onSubmit:t,onSubmitSuccess:l,onSubmitFail:d,...a})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(Jr),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Jr),children:"Update"})]})]})}const Px=I(H,M)(wI);function UI({...t}){return e.jsx(Px,{onSubmit:ST,...t})}function VI({open:t,onClose:n,openSnackBar:s,onSuccess:o,entity:r,entityId:i,changesetId:a}){const l=()=>{Dt.removeEntityMetadataChange({entity:r,entityId:i,changesetId:a}).then(()=>{const d=`Change Set ${a} Removed`;s&&s({messageContent:d}),n&&n(),o&&o()}).catch(()=>{s&&s({messageContent:"Error Removing Change Set",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Change Set ${a}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:l,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Ox=v(VI);function GI({open:t,onClose:n,openSnackBar:s,onSuccess:o,entity:r,entityId:i,changesetId:a}){const l=()=>{Dt.trimEntityMetadataChange({entity:r,entityId:i,changesetId:a}).then(()=>{const d=`Change Set ${a} Trimmed`;s&&s({messageContent:d}),n&&n(),o&&o()}).catch(()=>{s&&s({messageContent:"Error Trimming Change Set",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Trim Change Set ${a}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:l,color:"secondary",autoFocus:!0,children:"Trim"})]})]})}const Lx=v(GI),$l="COLLECTION_METADATACHANGESET_DELETE_DIALOG",Wl="COLLECTION_METADATACHANGESET_TRIM_DIALOG";class qI extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataChangeSetDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Collection | ${n}`)}onRefresh(){const{collectionId:n}=this.props;this.onFetch(n)}onFetch(n){try{Dt.listEntityMetadataChange({entity:"collection",entityId:n}).then(s=>this.setState({metadataChangeSetDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{collectionId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataChangeSetDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataChangeSetDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(UI,{collectionId:n,onSuccess:a=>this.setState({metadataChangeSetDocument:a.data})}),i&&e.jsx(_I,{collectionId:n,metadataChangeSetDocument:i,MetadataChangeSetMenuProps:{removeModal:$l,trimModal:Wl}}),e.jsx(Ox,{dialogName:$l,entity:"collection",entityId:n,onSuccess:this.onRefresh}),e.jsx(Lx,{dialogName:Wl,entity:"collection",entityId:n,onSuccess:this.onRefresh})]})}}const HI=H(qI),BI=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"mode",children:"mode"}),e.jsxs(c,{name:"mode",component:K,children:[e.jsx(b,{value:"COLLECTION_ORDER",children:"COLLECTION_ORDER"}),e.jsx(b,{value:"ITEM_START_TC",children:"ITEM_START_TC"}),e.jsx(b,{value:"METADATA",children:"METADATA"})]})]}),e.jsx(c,{name:"field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"sort",children:"sort"}),e.jsxs(c,{name:"sort",component:K,children:[e.jsx(b,{value:"asc",children:"Ascending"}),e.jsx(b,{value:"desc",children:"Descending"})]})]})]});function zI({error:t,handleSubmit:n,...s}){return e.jsxs("form",{onSubmit:n,...s,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:BI}),e.jsx("button",{type:"submit",hidden:!0})]})}const JI=F()(zI),Ho="COLLECTION_SEQUENCE_PARAMS_FORM";function KI({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{n&&n(u,p,x)},d=(u,p,x)=>{o({messageContent:"Error Loading Collection Sequence",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Collection Sequence Options"})}),e.jsx(Ie,{children:e.jsx(JI,{form:Ho,onSubmit:FT,onSubmitSuccess:l,onSubmitFail:d,initialValues:{queryParams:{mode:"COLLECTION_ORDER"}},style:{width:"100%"},...a})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(Ho),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ho),children:"Update"})]})]})}const YI=I(H,M)(KI);function QI({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"requireFastStart",value:t.requireFastStart,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"analyzeDuration",value:t.analyzeDuration,variant:"boolean",hover:!0,hideNoValue:!0})]})}function Gi({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0,hideNoValue:!0})]})}function qi({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"horizontal",value:t.horizontal,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"vertical",value:t.vertical,hover:!0,hideNoValue:!0})]})}function XI({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"top",value:t.top,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bottom",value:t.bottom,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"left",value:t.left,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"right",value:t.right,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"padColor",value:t.padColor,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"rotate",value:t.rotate,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"pixelAspectRatio",value:t.pixelAspectRatio,component:qi,hideNoValue:!0}),e.jsx(w,{title:"targetDAR",value:t.targetDAR,component:qi,hideNoValue:!0})]})}function kn({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"key",value:t.key,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"value",value:t.value,hover:!0,hideNoValue:!0})]})}function Vs({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"numerator",value:t.numerator,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"denominator",value:t.denominator,hover:!0,hideNoValue:!0})]})}const fo=Vs;function zt({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"samples",value:t.samples,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,component:fo,title:"timeBase",value:t.timeBase})]})}function ZI({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stream",value:t.stream,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"channel",value:t.channel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"gain",value:t.gain,hover:!0,hideNoValue:!0})]})}function Nx({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:"input",value:t.input,component:ZI}),e.jsx(h,{title:"silence",value:t.silence,variant:"boolean",hover:!0,hideNoValue:!0})]})}function ev({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"uri",value:t.uri,hover:!0,hideNoValue:!0})]})}function _x({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uuid",value:t.uuid,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"versionMajor",value:t.versionMajor,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"versionMinor",value:t.versionMinor,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"versionPatch",value:t.versionPatch,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"configuration",value:t.configuration,component:kn}),e.jsx(Z,{title:"resource",value:t.resource,component:ev})]})}function tv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"format",value:t.format,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,title:"framerate",component:fo,value:t.framerate}),e.jsx(h,{title:"channel",value:t.channel,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stream",value:t.stream,variant:"list",hover:!0,hideNoValue:!0})]})}function nv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"format",value:t.format,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,title:"framerate",component:fo,value:t.framerate}),e.jsx(h,{title:"channel",value:t.channel,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stream",value:t.stream,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preset",value:t.preset,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"noAudio",value:t.noAudio,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"setting",value:t.setting,component:kn}),e.jsx(Z,{title:"mix",value:t.mix,component:Nx}),e.jsx(w,{hideNoValue:!0,title:"otif",component:_x,value:t.otif}),e.jsx(h,{title:"monoFile",value:t.monoFile,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"allChannel",value:t.allChannel,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"output",value:t.output,component:tv})]})}function sv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,title:"framerate",component:fo,value:t.framerate}),e.jsx(h,{title:"channel",value:t.channel,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preset",value:t.preset,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"setting",value:t.setting,component:kn}),e.jsx(Z,{title:"mix",value:t.mix,component:Nx})]})}function ov({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"codec",value:t.codec,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,title:"framerate",component:fo,value:t.framerate}),e.jsx(w,{hideNoValue:!0,title:"resolution",component:Gi,value:t.resolution}),e.jsx(w,{hideNoValue:!0,title:"scaling",component:XI,value:t.scaling}),e.jsx(w,{hideNoValue:!0,title:"displayWidth",component:Vs,value:t.displayWidth}),e.jsx(w,{hideNoValue:!0,title:"displayHeight",component:Vs,value:t.displayHeight}),e.jsx(w,{hideNoValue:!0,title:"displayXOffset",component:Vs,value:t.displayXOffset}),e.jsx(w,{hideNoValue:!0,title:"displayYOffset",component:Vs,value:t.displayYOffset}),e.jsx(w,{hideNoValue:!0,title:"containerSAR",component:qi,value:t.containerSAR}),e.jsx(h,{title:"forceCFR",value:t.forceCFR,hover:!0,hideNoValue:!0,variant:"boolean"}),e.jsx(h,{title:"gopSize",value:t.gopSize,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"maxBFrames",value:t.maxBFrames,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"pixelFormat",value:t.pixelFormat,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preset",value:t.preset,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"profile",value:t.profile,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"noVideo",value:t.noVideo,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"stripParameterSets",value:t.stripParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"addParameterSets",value:t.addParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"parameterSets",value:t.parameterSets,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"setting",value:t.setting,component:kn}),e.jsx(h,{title:"burnTimecode",value:t.burnTimecode,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"burnSubtitles",value:t.burnSubtitles,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"imageQuality",value:t.imageQuality,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,title:"otif",component:_x,value:t.otif})]})}function rv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:t.start,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"count",value:t.count,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"wildcard",value:t.wildcard,hover:!0,hideNoValue:!0})]})}function $x({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{hideNoValue:!0,title:"start",component:zt,value:t.start}),e.jsx(w,{hideNoValue:!0,title:"end",component:zt,value:t.end})]})}function iv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uri",value:t.uri,variant:"list",hover:!0}),e.jsx(Z,{name:"range",title:"range",component:rv,value:t.range}),e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"x",value:t.x,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"y",value:t.y,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,title:"interval",component:$x,value:t.interval}),e.jsx(h,{title:"opacity",value:t.opacity,hover:!0,hideNoValue:!0})]})}function av({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"line",value:t.line,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"align",value:t.align,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"x",value:t.x,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"y",value:t.y,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"xRel",value:t.xRel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"yRel",value:t.yRel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"horizontalBase",value:t.horizontalBase,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"verticalBase",value:t.verticalBase,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"font",value:t.font,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"size",value:t.size,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"sizeRel",value:t.sizeRel,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"r",value:t.r,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"g",value:t.g,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"b",value:t.b,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"a",value:t.a,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outline",value:t.outline,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineSize",value:t.outlineSize,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineR",value:t.outlineR,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineG",value:t.outlineG,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineB",value:t.outlineB,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"outlineA",value:t.outlineA,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"language",value:t.language,hover:!0,hideNoValue:!0})]})}function lv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{hideNoValue:!0,title:"text",component:av,value:t.text}),e.jsx(w,{hideNoValue:!0,title:"interval",component:$x,value:t.interval}),e.jsx(h,{title:"opacity",value:t.opacity,hover:!0,hideNoValue:!0})]})}function cv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:t.start,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0})]})}function Wx({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"description",value:t.description,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"format",value:t.format,hover:!0,hideNoValue:!0})]})}function kx({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{hideNoValue:!0,component:nv,value:t.audio}),e.jsx(w,{hideNoValue:!0,title:"audioTrack",component:sv,value:t.audioTrack})]})}function wx({value:t={}}){return e.jsx(w,{component:ov,value:t.video})}function Ux({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{hideNoValue:!0,hover:!1,title:"overlay",component:iv,value:t.overlay}),e.jsx(Z,{hideNoValue:!0,hover:!1,title:"textOverlay",component:lv,value:t.textOverlay})]})}function Vx({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"startTimecode",value:t.startTimecode,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,name:"fastStartSetting",title:"fastStartSetting",component:QI,value:t.fastStartSetting}),e.jsx(h,{title:"faceDetect",value:t.faceDetect,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preserveEDL",value:t.preserveEDL,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"addClipName",value:t.addClipName,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"preferredSourceTag",value:t.preferredSourceTag,hover:!0,hideNoValue:!0}),e.jsx(Z,{name:"shapeMetadata",title:"shapeMetadata",component:kn,value:t.shapeMetadata}),e.jsx(w,{hideNoValue:!0,name:"maxChunkDuration",title:"maxChunkDuration",component:zt,value:t.maxChunkDuration}),e.jsx(Z,{name:"demuxerSetting",title:"demuxerSetting",component:kn,value:t.demuxerSetting}),e.jsx(Z,{name:"muxerSetting",title:"muxerSetting",component:kn,value:t.muxerSetting}),e.jsx(w,{hideNoValue:!0,name:"sequenceOutput",title:"sequenceOutput",component:cv,value:t.SequenceOutputType})]})}function Gx({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{hideNoValue:!0,name:"thumbnailResolution",title:"thumbnailResolution",component:Gi,value:t.thumbnailResolution}),e.jsx(h,{title:"thumbnailBackground",value:t.thumbnailBackground,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,name:"thumbnailPeriod",title:"thumbnailPeriod",component:zt,value:t.thumbnailPeriod}),e.jsx(h,{title:"thumbnailPlugin",value:t.thumbnailPlugin,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,name:"posterResolution",title:"posterResolution",component:Gi,value:t.posterResolution}),e.jsx(h,{title:"posterBackground",value:t.posterBackground,hover:!0,hideNoValue:!0})]})}function dv({value:t={}}){return e.jsx(h,{value:t.script,variant:"javascript"})}function uv({transcodePresetDocument:t}){return e.jsx(w,{component:Wx,value:t})}function mv({transcodePresetDocument:t}){return e.jsx(w,{component:kx,value:t})}function hv({transcodePresetDocument:t}){return e.jsx(w,{component:wx,value:t})}function pv({transcodePresetDocument:t}){return e.jsx(w,{component:Gx,value:t})}function xv({transcodePresetDocument:t}){return e.jsx(w,{component:Ux,value:t})}function jv({transcodePresetDocument:t}){return e.jsx(w,{component:Vx,value:t})}function fv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{component:Wx,value:t}),e.jsx(w,{component:kx,value:t}),e.jsx(w,{component:wx,value:t}),e.jsx(w,{component:Gx,value:t}),e.jsx(w,{component:Ux,value:t}),e.jsx(w,{component:Vx,value:t}),e.jsx(w,{component:dv,value:t})]})}function gv({dense:t,value:n={}}){return t?e.jsx(h,{title:n.key,value:n.value,hover:!0,hideNoValue:!0,titleStartCase:!1,variant:Vn(n.key)}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"key",value:n.key}),e.jsx(h,{title:"value",value:n.value,variant:Vn(n.key)})]})}function As({value:t={},dense:n=!0}){return e.jsx(Z,{title:n?void 0:"field",value:t.field,dense:n,component:gv})}function yn({value:t={},dense:n=!0}){return n?e.jsx(h,{title:t.key,value:t.value,hover:!0,hideNoValue:!0,titleStartCase:!1,variant:Vn(t.key)}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"key",value:t.key}),e.jsx(h,{title:"value",value:t.value,variant:Vn(t.key)})]})}function Gs({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"numerator",value:t.numerator,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"denominator",value:t.denominator,hover:!0,hideNoValue:!0})]})}const cs=Gs;function ps({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"samples",value:t.samples,hover:!0,hideNoValue:!0}),e.jsx(w,{hideNoValue:!0,component:cs,title:"timeBase",value:t.timeBase})]})}function bv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0,hideNoValue:!0})]})}function kl({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"horizontal",value:t.horizontal,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"vertical",value:t.vertical,hover:!0,hideNoValue:!0})]})}function Cv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{hideNoValue:!0,title:"start",component:ps,value:t.start}),e.jsx(w,{hideNoValue:!0,title:"end",component:ps,value:t.end})]})}function yv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"value",value:t.value,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"position",value:t.position,hover:!0,hideNoValue:!0})]})}function Sv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"point",component:yv,value:t.point})]})}function Rv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"timeBase",component:zt,value:t.timeBase,hideNoValue:!0}),e.jsx(Z,{title:"parameter",component:Sv,value:t.parameter})]})}function Tv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"externalVideoMedia",value:t.externalVideoMedia,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"item",value:t.item,hover:!0,hideNoValue:!0,variant:"itemId"}),e.jsx(h,{title:"sourceTrack",value:t.sourceTrack,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"in",component:zt,value:t.in,hideNoValue:!0}),e.jsx(w,{title:"out",component:zt,value:t.out,hideNoValue:!0}),e.jsx(w,{title:"sourceIn",component:zt,value:t.sourceIn,hideNoValue:!0}),e.jsx(w,{title:"sourceOut",component:zt,value:t.sourceOut,hideNoValue:!0}),e.jsx(Z,{title:"effect",component:Rv,value:t.effect}),e.jsx(h,{title:"reference",value:t.reference,hover:!0,hideNoValue:!0})]})}function Ev({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"in",component:zt,value:t.in,hideNoValue:!0}),e.jsx(w,{title:"out",component:zt,value:t.out,hideNoValue:!0}),e.jsx(h,{title:"wipe",value:t.wipe,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"transition",value:t.transition,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"horizRepeat",value:t.horizRepeat,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"vertRepeat",value:t.vertRepeat,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"startPercentage",value:t.startPercentage,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"endPercentage",value:t.endPercentage,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"reverse",value:t.reverse,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"borderWidth",value:t.borderWidth,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"borderColor",value:t.borderColor,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"color",value:t.color,hover:!0,hideNoValue:!0})]})}function Iv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"audio",value:t.audio,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"segment",component:Tv,value:t.segment}),e.jsx(Z,{title:"transition",component:Ev,value:t.transition})]})}function vv({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"track",component:Iv,value:t.track}),e.jsx(w,{title:"override",component:fv,hideNoValue:!0,value:t.override}),e.jsx(Z,{title:"setting",value:t.setting,component:yn,hover:!0,hideNoValue:!0})]})}function Av({sequenceDocument:t}){return e.jsx(w,{value:t,component:vv})}const Fv=Et(Av);class Mv extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={sequenceDocument:void 0}}componentDidMount(){const{collectionId:n}=this.props;document.title=`VidiCore Admin | Collection | ${n} | Sequence`,this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:n}){const{collectionId:s}=this.props;s!==n&&(this.onRefresh(),document.title=`VidiCore Admin | Collection | ${n} | Sequence`)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Collection Sequence",messageColor:"secondary"})}onRefresh(){const{submitForm:n}=this.props;n(Ho)}render(){const{collectionId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{sequenceDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"SequenceDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(YI,{collectionId:n,onSuccess:a=>this.setState({sequenceDocument:a.data})}),i&&e.jsx(Fv,{collectionId:n,sequenceDocument:i,onSuccess:this.onRefresh})]})}}const Dv=I(M,v)(Mv);function Pv({deletionLockType:t={}}){const{id:n,user:s,expiryTime:o,modified:r,entityType:i,entityId:a,isEffective:l,isInherited:d,isExpired:u}=t;return e.jsxs(Te,{hover:!0,to:`/deletion-lock/${n}/`,children:[e.jsx(P,{children:n}),e.jsx(P,{children:s}),e.jsx(P,{children:o?qe(o).toString():""}),e.jsx(P,{children:r?qe(r).toString():""}),e.jsx(P,{children:i}),e.jsx(P,{children:a}),e.jsx(P,{children:l&&e.jsx(Ct,{})}),e.jsx(P,{children:d&&e.jsx(Ct,{})}),e.jsx(P,{children:u&&e.jsx(Ct,{})})]})}function Ov({deletionLockListDocument:t,count:n=0,page:s=0,rowsPerPage:o=100,onChangePage:r,onChangeRowsPerPage:i}){const{lock:a=[]}=t,l=[100,250,500];return l.includes(o)||l.push(o),e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Lock ID"}),e.jsx(P,{children:"Username"}),e.jsx(P,{children:"Expiry Time"}),e.jsx(P,{children:"Modified"}),e.jsx(P,{children:"Entity Type"}),e.jsx(P,{children:"Entity ID"}),e.jsx(P,{children:"Effective"}),e.jsx(P,{children:"Inherited"}),e.jsx(P,{children:"Expired"})]})}),e.jsx(de,{children:a.map(d=>e.jsx(Pv,{deletionLockType:d},d.id))}),e.jsx(Pt,{children:e.jsx(Te,{children:e.jsx(Ot,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:Lt,rowsPerPageOptions:l})})})]})}function Lv({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Ov,{...t})})})}function Nv(t){const{queryParams:n}=t;return Cs.listDeletionLock({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function _v(t,n,s){const{queryParams:o}=t,{entityType:r,entityId:i}=s;return Cs.listEntityDeletionLock({entity:r,entityId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function $v(t,n,s){const{deletionLockDocument:o}=t,r=s.lockId||o.id;return Cs.updateDeletionLock({lockId:r,deletionLockDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function Wv(t,n,s){const{deletionLockDocument:o}=t,r=s.entityType||o.entityType,i=s.entityId||o.entityId;return Cs.createEntityDeletionLock({entity:r,entityId:i,deletionLockDocument:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}const kv=({entityType:t})=>e.jsxs(e.Fragment,{children:[!t&&e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"entityTypes",children:"Entity Types"}),e.jsxs(c,{name:"entityTypes",component:K,children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"collection",children:"Collection"}),e.jsx(b,{value:"file",children:"File"}),e.jsx(b,{value:"all",children:"All"})]})]}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"username",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"range",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"onlyEffective",component:E}),label:"Only Effective"}),e.jsx(k,{name:"metadata",label:"Metadata",component:ne})]});function wv({error:t,handleSubmit:n,entityType:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:kv,entityType:s}),e.jsx("button",{type:"submit",hidden:!0})]})}const Uv=F()(wv);function Vv({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="DELETIONLOCKLIST_FILTER_FORM",changeForm:a,entityId:l,entityType:d}){const u=(j,g,y)=>{n&&n(j,g,y)},p=()=>{s({messageContent:"Error Listing Deletion Lock list",messageColor:"secondary"})},x=async()=>{await a(i,"queryParams.first",1),o(i)};return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(Uv,{form:i,onSubmit:d?_v:Nv,onSubmitSuccess:u,onSubmitFail:p,onCancel:t,initialValues:{queryParams:{entityTypes:"all",onlyEffective:!1}},entityId:l,entityType:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:x,children:"Filter"})]})]})}const Gv=I(v,M)(Vv);function qv({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Gv,{...t})})})}function Hv(t){return e.jsx(Y,{title:"Deletion Lock",helpTo:"/ref/deletion-lock.html",...t})}function Bv({showMetadataType:t,isNew:n,entityId:s,entityType:o}){return e.jsxs(e.Fragment,{children:[!n&&e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"id",component:m,fullWidth:!0,disabled:!0}),e.jsx(c,{name:"user",component:m,fullWidth:!0,disabled:!0})]}),e.jsx(c,{name:"expiryTime",component:m,fullWidth:!0}),!n&&e.jsx(c,{name:"modified",component:m,fullWidth:!0,disabled:!0}),!o&&e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"entityType",children:"Entity Type"}),e.jsxs(c,{name:"entityType",component:K,required:n,disabled:!n,children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"collection",children:"Collection"}),e.jsx(b,{value:"file",children:"File"})]})]}),!s&&e.jsx(c,{name:"entityId",component:m,fullWidth:!0,required:n,disabled:!n}),!n&&e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"isEffective",component:E,disabled:!0}),label:"Effective"}),e.jsx(R,{control:e.jsx(c,{name:"isInherited",component:E,disabled:!0}),label:"Inherited"}),e.jsx(R,{control:e.jsx(c,{name:"isExpired",component:E,disabled:!0}),label:"Expired"})]}),t&&e.jsx(S,{name:"metadata",component:Ln})]})}function zv({error:t,handleSubmit:n,showMetadataType:s,isNew:o,entityId:r,entityType:i}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"deletionLockDocument",component:Bv,entityId:r,entityType:i,showMetadataType:s,isNew:o}),e.jsx("button",{type:"submit",hidden:!0})]})}const qx=F()(zv);function Jv({open:t,onClose:n,onSuccess:s,openSnackBar:o,entityId:r,entityType:i}){const a=(d,u,p)=>{o({messageContent:"Deletion Lock Created"}),n(),s&&s(d,u,p)},l=()=>{o({messageContent:"Error Creating Deletion Lock",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Deletion Lock"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:qx,documentName:"deletionLockDocument",onSubmit:Wv,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,entityId:r,entityType:i,initialStep:1,showMetadataType:!0,isNew:!0})})]})}const Kv=v(Jv),_n="DELETIONLOCKLIST_FILTER_FORM",wl="DELETIONLOCK_CREATE_MODAL";class Yv extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={deletionLockListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0}}componentDidMount(){document.title="VidiCore Admin | Deletion Lock",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(_n)}onSuccess(n){const s=n.data,{formValues:o={}}=this.props,{queryParams:r={}}=o,{first:i=1,number:a=100}=r,{count:l=0}=s,d=Math.ceil(l/a)-Math.ceil((l-i)/a);this.setState({count:l,rowsPerPage:a,page:d,deletionLockListDocument:s})}async onChangePage({page:n}){const{formValues:s={},changeForm:o}=this.props,{queryParams:r={}}=s,{number:i=100}=r,a=n*i;o(_n,"queryParams.first",a),await o(_n,"queryParams.number",i),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(_n,"queryParams.first",1),await s(_n,"queryParams.number",n),this.onRefresh()}render(){const{deletionLockListDocument:n,count:s,page:o,rowsPerPage:r}=this.state,{history:i,entityId:a,entityType:l,titleComponent:d=Hv,title:u}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(d,{code:n,codeModal:"DeletionLockListDocument",onRefresh:this.onRefresh,createModal:wl,createTooltip:"New Deletion Lock",title:u}),e.jsx(qv,{form:_n,onSuccess:this.onSuccess,entityId:a,entityType:l}),n&&e.jsx(Lv,{deletionLockListDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,entityId:a,entityType:l}),e.jsx(Kv,{dialogName:wl,onSuccess:a?this.onRefresh:({data:p})=>i.push(`/deletion-lock/${p.id}`),entityId:a,entityType:l})]})}}const go=I(M,Gt)(Yv,_n);function Qv({open:t,onClose:n,openSnackBar:s,onSuccess:o,externalIdentifierDocument:r,entityType:i,entityId:a}){if(r===void 0)return null;const{externalId:l}=r,d=()=>{Gn.removeExternalId({externalId:l,entityType:i,entityId:a}).then(()=>{const u=`External ID ${l} Removed`;s({messageContent:u}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing External ID",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove External ID "${l}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:d,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Xv=v(Qv);function Zv({externalIdentifierDocument:t={},onRemove:n}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:t.externalId}),e.jsx(P,{children:t.namespace}),e.jsx(P,{children:t.entityId}),e.jsx(P,{children:t.entityType}),e.jsx(P,{disableOnClick:!0,children:e.jsx(ee,{onClick:()=>n({externalIdentifierDocument:t}),children:e.jsx(et,{})})})]})}const Ul="EXTERNALID_REMOVE_DIALOG";function eA({externalIdentifierListDocument:t,onRefresh:n,dialogProps:s,onOpen:o,entityType:r,entityId:i}){const{id:a=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"External Id"}),e.jsx(P,{children:"Namespace"}),e.jsx(P,{children:"Entity Id"}),e.jsx(P,{children:"Entity Type"}),e.jsx(P,{})]})}),e.jsx(de,{children:a.map(l=>e.jsx(Zv,{externalIdentifierDocument:l,onRemove:o(Ul)},l.externalId))})]}),e.jsx(Xv,{...s,dialogName:Ul,onSuccess:n,entityType:r,entityId:i})]})}const tA=Ze(eA);function nA({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(tA,{...t})})})}function Hx(t,n,s){const{externalIdentifierNamespaceDocument:o}=t,r=s.idName||o.name;return Gn.updateExternalIdNamespace({idName:r,externalIdentifierNamespaceDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function sA(t,n,s){const{externalId:o}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return Gn.createExternalId({externalId:o,entityId:i,entityType:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function oA({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"externalId",component:m,required:!0,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const rA=F()(oA),Vl="EXTERNALID_FORM";function iA({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,entityType:i,entityId:a}){const l=(u,p,x)=>{o({messageContent:"External ID Created"}),n(),s&&s(u,p,x)},d=()=>{o({messageContent:"Error Creating External ID",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Create External ID"}),e.jsx(X,{children:e.jsx(rA,{form:Vl,onSubmit:sA,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,entityType:i,entityId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Vl),children:"Save"})]})]})}const aA=I(v,M)(iA);function lA({open:t,onClose:n,openSnackBar:s,onSuccess:o,entityType:r,entityId:i}){const a=()=>{Gn.removeAllExternalId({entityType:r,entityId:i}).then(()=>{s({messageContent:"All External IDs Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing External IDs",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove All External IDs For "${i}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const cA=v(lA);function dA({entityType:t,entityId:n,...s}){return e.jsx(Y,{title:"External ID",grandParentTitle:le(t),parentTitle:n,parentTo:`/${t}/${n}/`,grandParentTo:`/${t}/`,helpTo:"/ref/external-id.html",...s})}const Gl="EXTERNALID_CREATE_MODAL",ql="EXTERNALID_REMOVEALL_MODAL";class uA extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={externalIdentifierListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | External ID"}onRefresh(){const{entityType:n,entityId:s,entitySubType:o}=this.props;try{Gn.listExternalId({entityType:o?`${n}/${o}`:n,entityId:s}).then(r=>this.setState({externalIdentifierListDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading External ID List",messageColor:"secondary"})}render(){const{externalIdentifierListDocument:n}=this.state,{entityType:s,entityId:o,entitySubType:r}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(dA,{createModal:Gl,onRefresh:this.onRefresh,removeModal:ql,code:n,codeModal:"ExternalIdentifierListDocument",entityType:r?`${s}/${r}`:s,entityId:o}),n&&e.jsx(nA,{externalIdentifierListDocument:n,onRefresh:this.onRefresh,entityType:r?`${s}/${r}`:s,entityId:o}),e.jsx(aA,{dialogName:Gl,onSuccess:this.onRefresh,entityType:r?`${s}/${r}`:s,entityId:o}),e.jsx(cA,{dialogName:ql,onSuccess:this.onRefresh,entityType:r?`${s}/${r}`:s,entityId:o})]})}}const Dn=H(uA),mA=()=>({ImgContainer:{display:"flex",justifyContent:"center"}});function hA({classes:t,useGraphViz:n,graphDot:s,graphImage:o}){return e.jsxs(e.Fragment,{children:[n&&s?e.jsx(Tr,{dot:s,width:"100%",height:"80vh"}):null,n===!1&&o?e.jsx("div",{className:t.ImgContainer,children:e.jsx(ka,{src:URL.createObjectURL(o),initialAuto:!1})}):null]})}const pA=xe(mA)(hA);function xA(t,n,s){const{entityType:o,entityId:r}=s,{simpleMetadataDocument:i,removedKeys:a=[]}=t,d=[new Promise((u,p)=>{Dt.updateSimpleMetadata({entityType:o,entityId:r,simpleMetadataDocument:i}).then(()=>u()).catch(()=>p())})];return a.forEach(u=>{const{key:p}=u,x=new Promise((j,g)=>{Dt.removeSimpleMetadataKey({entityType:o,entityId:r,key:p}).then(()=>j()).catch(()=>g())});d.push(x)}),Promise.all(d).catch(u=>{let p=u.message;throw u.response&&(p=JSON.stringify(u.response.data,(x,j)=>j===null?void 0:j)),new q({_error:p})})}function jA(t,n){const{openSnackBar:s}=yr;n(s({messageContent:"Error Updating Metadata",messageColor:"secondary"}))}function fA(t,n){const{openSnackBar:s}=yr;n(s({messageContent:"Metadata Updated"}))}const gA=he((t,n,s)=>{const{queryParams:o={}}=t,r=s.entity||t.entity,i=s.entityId||t.entityId;return Dt.getEntityMetadataGraphDot({entity:r,entityId:i,queryParams:o})}),bA=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{shrink:!0,htmlFor:"groupBy",children:"Group By"}),e.jsxs(c,{name:"groupBy",component:K,children:[e.jsx(b,{value:"change",children:"change"}),e.jsx(b,{value:"none",children:"none"})]})]});function CA({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:bA})]})}const yA=F()(CA),SA="METADATA_GRAPH_PARAMS_FORM";function RA({entityId:t,entity:n,onSubmit:s,onSuccess:o,onFail:r,openSnackBar:i,submitForm:a,resetForm:l,form:d=SA,defaultExpanded:u=!0,...p}){const x=(g,y,D)=>{o&&o(g,y,D)},j=(g,y,D)=>{i({messageContent:"Error Updating Metadata Graph",messageColor:"secondary"}),r&&r(g,y,D)};return e.jsxs(fe,{defaultExpanded:u,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Metadata Graph Options"})}),e.jsx(Ie,{children:e.jsx(yA,{form:d,onSubmit:gA,onSubmitSuccess:x,onSubmitFail:j,entityId:t,entity:n,...p})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>l(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>a(d),children:"Update"})]})]})}const TA=I(H,M)(RA),Hl="METADATA_GRAPH_FORM";class EA extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){const{entityId:n,entity:s}=this.props;try{Dt.getEntityMetadataGraphDot({entity:s,entityId:n}).then(o=>this.setState({graphDot:o.data})).catch(this.onRefreshError),Dt.getEntityMetadataGraph({entity:s,entityId:n,responseType:"blob"}).then(o=>{this.setState({graphImage:o.data})}).catch(this.onRefreshError)}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Metadata Graph",messageColor:"secondary"})}onRefresh(){const{submitForm:n}=this.props;n(Hl)}onSuccess({request:n,data:s}){const{entityId:o,entity:r}=this.props,i=n==null?void 0:n.responseURL,a=new URL(i),l=Object.fromEntries(a.searchParams);this.setState({graphDot:s}),Dt.getEntityMetadataGraph({entity:r,entityId:o,queryParams:l,responseType:"blob"}).then(d=>{this.setState({graphImage:d.data})}).catch(this.onRefreshError)}render(){const{graphDot:n,graphImage:s}=this.state,{entity:o,entityId:r,titleComponent:i,tabComponent:a,title:l,useGraphViz:d=!0}=this.props;return e.jsxs(e.Fragment,{children:[i&&e.jsx(i,{onRefresh:this.onRefresh,code:n,codeModal:"DOT",codeVariant:"text",title:l}),a&&e.jsx(a,{}),e.jsx(TA,{entity:o,entityId:r,form:Hl,initialValues:{},onSuccess:this.onSuccess}),e.jsx(pA,{useGraphViz:d,graphDot:n,graphImage:s})]})}}const Bx=I(M,v)(EA),lo=t=>{var s;const n=((s=t==null?void 0:t.response)==null?void 0:s.data)||"";return JSON.stringify(n,(o,r)=>r===null?void 0:r)};function Hi(t,n,s){try{const o=s.notificationId||t.notificationId,r=s.entityType||t.entityType,i=s.entityId||t.entityId,{notificationDocument:a}=t;return i!==void 0?yt.updateNotificationEntity({notificationId:o,entityType:r,entityId:i,notificationDocument:a}).catch(l=>{let d=l.message;throw l.response&&(d=lo(l)),new q({_error:d})}):yt.updateNotification({notificationId:o,entityType:r,notificationDocument:a}).catch(l=>{let d=l.message;throw l.response&&(d=lo(l)),new q({_error:d})})}catch(o){throw new q({_error:o.message})}}function Bl(t){try{const{notificationDocument:n}=t,s="/API/notification";return yt.createNotification({entityType:"placeholder",notificationDocument:n,path:s}).then(o=>({...o})).catch(o=>{let r=o.message;throw o.response&&(r=lo(o)),new q({_error:r})})}catch(n){throw new q({_error:n.message})}}function zl(t,n,s){try{const{notificationDocument:o}=t,r=s.entityType||Object.keys(o.trigger)[0],i=s.entityId||t.entityId;return i!==void 0?yt.createNotificationEntity({entityId:i,entityType:r,notificationDocument:o}).then(a=>({...a,entityType:r,entityId:i})).catch(a=>{let l=a.message;throw a.response&&(l=lo(a)),new q({_error:l})}):yt.createNotification({entityType:r,notificationDocument:o}).then(a=>({...a,entityType:r})).catch(a=>{let l=a.message;throw a.response&&(l=lo(a)),new q({_error:l})})}catch(o){throw new q({_error:o.message})}}function Fs({...t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Extra Data",value:t.extradata}),e.jsx(h,{title:"Retry",value:t.retry}),e.jsx(h,{title:"Synchronous",value:t.synchronous}),e.jsx(h,{title:"Group",value:t.group})]})}function IA({action:{http:t}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Method",value:t.method}),e.jsx(h,{title:"Timeout",value:t.timeout}),e.jsx(Fs,{...t})]})}function vA({action:{ejb:t}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Bean",value:t.bean}),e.jsx(h,{title:"Method",value:t.method}),t.data&&t.data.map(n=>e.jsx(h,{title:n.key,value:n.value})),e.jsx(Fs,{...t})]})}function AA({action:{jms:t}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Queue",value:t.queue}),e.jsx(h,{title:"Queue Factory",value:t.queueFactory}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Username",value:t.username}),e.jsx(h,{title:"Password",value:t.password}),e.jsx(Fs,{...t})]})}function FA({action:{sqs:t}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Queue",value:t.queue}),e.jsx(h,{title:"Endpoint",value:t.endpoint}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Access Key",value:t.accessKey}),e.jsx(h,{title:"Secret Key",value:t.secret}),e.jsx(h,{title:"Role ARN",value:t.roleArn}),e.jsx(h,{title:"RoleSession Name",value:t.roleSessionName}),e.jsx(h,{title:"Role External ID",value:t.roleExternalId}),e.jsx(h,{title:"Message Group ID",value:t.messageGroupId}),e.jsx(Fs,{...t})]})}function MA({action:{sns:t}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Topic",value:t.topic}),e.jsx(h,{title:"Endpoint",value:t.endpoint}),e.jsx(h,{title:"Content Type",value:t.contentType}),e.jsx(h,{title:"Access Key",value:t.accessKey}),e.jsx(h,{title:"Secret Key",value:t.secret}),e.jsx(h,{title:"Role ARN",value:t.roleArn}),e.jsx(h,{title:"RoleSession Name",value:t.roleSessionName}),e.jsx(h,{title:"Role External ID",value:t.roleExternalId}),e.jsx(Fs,{...t})]})}function DA({action:{javascript:t}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{value:t.script,variant:"code",codeProps:{mode:"application/javascript"}}),e.jsx(Fs,{...t})]})}function Bi(t={}){if("http"in t)return"http";if("ejb"in t)return"ejb";if("jms"in t)return"jms";if("sqs"in t)return"sqs";if("sns"in t)return"sns";if("javascript"in t)return"javascript"}function zx({action:t={}}){let n=null;const s=Bi(t);switch(s){case"http":n=IA;break;case"ejb":n=vA;break;case"jms":n=AA;break;case"sqs":n=FA;break;case"sns":n=MA;break;case"javascript":n=DA;break}return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Action Type",value:s}),e.jsx(n,{action:t})]})}class It extends T.PureComponent{constructor(n){super(n),this.handleChange=this.handleChange.bind(this),this.state={[n.name]:n.initialvalue}}handleChange(n){return s=>{const{[n]:o}=this.state,{onChange:r}=this.props;r&&r(s,s.target.value,o,n),this.setState({[n]:s.target.value})}}render(){const{children:n,ValueComponent:s,label:o,...r}=this.props,{name:i}=this.props,{[i]:a}=this.state,l=s&&s(a);return e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:o}),e.jsx(ye,{...r,select:!0,value:a,FormHelperTextProps:{focused:!0},onChange:this.handleChange(i),children:n}),l]})}}function Ms(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"retry",label:"Retry",component:m,fullWidth:!0,required:!0}),e.jsx(L,{name:"synchronous",label:"Synchronous",component:m,fullWidth:!0}),e.jsx(L,{name:"extradata",label:"Extra Data",component:m,fullWidth:!0}),e.jsx(L,{name:"group",label:"Group",component:m,fullWidth:!0})]})}function PA(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"url",label:"URL",component:m,fullWidth:!0}),e.jsx(L,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(L,{name:"method",label:"Method",component:m,fullWidth:!0}),e.jsx(L,{name:"timeout",label:"Timeout",component:m,fullWidth:!0,required:!0}),e.jsx(Ms,{})]})}function OA(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"bean",label:"Bean",component:m,fullWidth:!0}),e.jsx(L,{name:"method",label:"Method",component:m,fullWidth:!0}),e.jsx(Rt,{name:"data",component:Rr,label:"Data",buttonLabel:"Add Data"}),e.jsx(Ms,{})]})}function LA(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"Queue",label:"Queue",component:m,fullWidth:!0}),e.jsx(L,{name:"queueFactory",label:"Queue Factory",component:m,fullWidth:!0}),e.jsx(L,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(L,{name:"username",label:"Username",component:m,fullWidth:!0}),e.jsx(L,{name:"password",label:"Password",component:m,fullWidth:!0}),e.jsx(Ms,{})]})}function NA(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"queue",label:"Queue",component:m,fullWidth:!0}),e.jsx(L,{name:"endpoint",label:"Endpoint",component:m,fullWidth:!0}),e.jsx(L,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(L,{name:"accessKey",label:"Access Key",component:m,fullWidth:!0}),e.jsx(L,{name:"secret",label:"Secret Key",component:m,fullWidth:!0}),e.jsx(L,{name:"roleArn",label:"Role ARN",component:m,fullWidth:!0}),e.jsx(L,{name:"roleSessionName",label:"Role Session Name",component:m,fullWidth:!0}),e.jsx(L,{name:"roleExternalId",label:"Role External ID",component:m,fullWidth:!0}),e.jsx(L,{name:"messageGroupId",label:"Message Group ID",component:m,fullWidth:!0}),e.jsx(Ms,{})]})}function _A(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"topic",label:"Topic",component:m,fullWidth:!0}),e.jsx(L,{name:"endpoint",label:"Endpoint",component:m,fullWidth:!0}),e.jsx(L,{name:"contentType",label:"Content Type",component:m,fullWidth:!0}),e.jsx(L,{name:"accessKey",label:"Access Key",component:m,fullWidth:!0}),e.jsx(L,{name:"secret",label:"Secret Key",component:m,fullWidth:!0}),e.jsx(L,{name:"roleArn",label:"Role ARN",component:m,fullWidth:!0}),e.jsx(L,{name:"roleSessionName",label:"Role Session Name",component:m,fullWidth:!0}),e.jsx(L,{name:"roleExternalId",label:"Role External ID",component:m,fullWidth:!0}),e.jsx(Ms,{})]})}function $A(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"script",component:dt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),e.jsx(Ms,{})]})}function WA(t){const{initialValues:n={},valueSelector:s,dirty:o}=t;let r;if(o){const l=s("notificationDocument.action");r=Bi(l)}else{const{notificationDocument:l={}}=n,{action:d={}}=l;r=Bi(d)}function i(l){switch(l){case"http":return e.jsx(ae,{name:"http",component:PA,...t});case"ejb":return e.jsx(ae,{name:"ejb",component:OA,...t});case"jms":return e.jsx(ae,{name:"jms",component:LA,...t});case"sqs":return e.jsx(ae,{name:"sqs",component:NA,...t});case"sns":return e.jsx(ae,{name:"sns",component:_A,...t});case"javascript":return e.jsx(ae,{name:"javascript",component:$A,...t});default:return null}}const a=(l,d,u,p)=>{const x=s(p);if(x){const j=ze(x,{[d]:{$set:{}},$unset:[u]});t==null||t.change(p,j)}else t==null||t.change(p,{})};return e.jsxs(It,{label:"Action Type",initialvalue:r,fullWidth:!0,onChange:a,ValueComponent:i,name:"notificationDocument.action",children:[e.jsx(b,{value:"http",children:"HTTP"}),e.jsx(b,{value:"ejb",children:"EJB"}),e.jsx(b,{value:"jms",children:"JMS"}),e.jsx(b,{value:"sqs",children:"SQS"}),e.jsx(b,{value:"sns",children:"SNS"}),e.jsx(b,{value:"javascript",children:"Javascript"})]})}function kA(t){return e.jsxs("form",{onSubmit:t==null?void 0:t.handleSubmit,children:[(t==null?void 0:t.error)&&e.jsx(C,{color:"error",children:t==null?void 0:t.error}),e.jsx(ae,{...t,name:"notificationDocument.action",component:WA}),e.jsx("button",{type:"submit",hidden:!0})]})}const wa=F()(kA);function zi(t={}){let n;return t===void 0||("update"in t?n="update":"stop"in t?n="stop":"finished"in t?n="finished":"fail"in t?n="fail":"create"in t&&(n="create")),n}function Ji(t){let n;return t===void 0||("job"in t?n="job":"metadata"in t?n="metadata":"collection"in t?n="collection":"item"in t?n="item":"storage"in t?n="storage":"file"in t?n="file":"group"in t?n="group":"shape"in t?n="shape":"access"in t?n="access":"quota"in t?n="quota":"document"in t?n="document":"deletionLock"in t&&(n="deletionLock")),n}function wA({trigger:{job:t}}){const n=zi(t);return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Action",value:n}),e.jsx(h,{title:"Placeholder",value:t.placeholder}),t.filter&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:t.filter.type}),e.jsx(h,{title:"Step",value:t.filter.step}),t.filter.jobdata&&e.jsxs(e.Fragment,{children:[t.filter.jobdata.key&&e.jsx(h,{title:"Job Data Key",value:t.filter.jobdata.key}),t.filter.jobdata["key-regex"]&&e.jsx(h,{title:"Job Data Key Regex",value:t.filter.jobdata["key-regex"]}),t.filter.jobdata.value&&e.jsx(h,{title:"Job Data Value",value:t.filter.jobdata.value}),t.filter.jobdata["value-regex"]&&e.jsx(h,{title:"Job Data Value Regex",value:t.filter.jobdata["value-regex"]})]})]}),t.contentFilters&&e.jsx(h,{title:"Content Filters",variant:"list",value:t.contentFilters.contentFilter})]})}function Jx({trigger:{metadata:t}}){let n;return"modify"in t&&(n="modify"),e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Action",value:n}),n==="modify"&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field",value:t.modify.field}),e.jsx(h,{title:"Language",value:t.modify.language}),e.jsx(h,{title:"Track",value:t.modify.track}),e.jsx(h,{title:"Interval",value:t.modify.interval})]})]})}function Kx({trigger:{item:t}}){let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function UA({trigger:{collection:t}}){let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t?n="delete":"item"in t?n="item":"metadata"in t&&(n="metadata"),e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Action",value:n}),n==="metadata"&&e.jsx(Jx,{trigger:{metadata:t.metadata}}),n==="item"&&e.jsx(Kx,{trigger:{trigger:{item:t.item}}})]})}function VA({trigger:{storage:t}}){let n;return"filename"in t?n="filename":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function GA({trigger:{file:t}}){let n;return"new"in t?n="new":"change"in t?n="change":"hash"in t?n="hash":"close"in t?n="close":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function qA({trigger:{group:t}}){let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function HA({trigger:{shape:t}}){let n;return"modify"in t?n="modify":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function BA({trigger:{access:t}}){let n;return"change"in t?n="change":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function zA({trigger:{quota:t}}){let n;return"warning"in t?n="warning":"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function JA({trigger:{document:t}}){let n;return"create"in t?n="create":"delete"in t&&(n="delete"),e.jsx(h,{title:"Trigger Action",value:n})}function KA({trigger:{deletionLock:t}}){let n;return"create"in t?n="create":"delete"in t?n="delete":"modify"in t?n="modify":"effective"in t?n="effective":"expire"in t&&(n="expire"),e.jsx(h,{title:"Trigger Action",value:n})}function YA({trigger:t={}}){let n=null;const s=Ji(t);switch(s){case"job":n=wA;break;case"metadata":n=Jx;break;case"collection":n=UA;break;case"item":n=Kx;break;case"storage":n=VA;break;case"file":n=GA;break;case"group":n=qA;break;case"shape":n=HA;break;case"access":n=BA;break;case"quota":n=zA;break;case"document":n=JA;break;case"deletionLock":n=KA;break}return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Trigger Entity",value:s}),e.jsx(n,{trigger:t})]})}function QA(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.item";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"})]})}function XA(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.storage";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"}),e.jsx(b,{value:"filename",children:"Filename"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"}),e.jsx(L,{name:"filename",type:"hidden",component:"input"})]})}function ZA(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.file";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"new",children:"New"}),e.jsx(b,{value:"change",children:"Change"}),e.jsx(b,{value:"hash",children:"Hash"}),e.jsx(b,{value:"close",children:"Close"}),e.jsx(b,{value:"delete",children:"Delete"})]}),e.jsx(L,{name:"new",type:"hidden",component:"input"}),e.jsx(L,{name:"change",type:"hidden",component:"input"}),e.jsx(L,{name:"hash",type:"hidden",component:"input"}),e.jsx(L,{name:"close",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"})]})}function eF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.group";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"}),e.jsx(b,{value:"modify",children:"Modify"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"}),e.jsx(L,{name:"modify",type:"hidden",component:"input"})]})}function tF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.shape";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"}),e.jsx(b,{value:"modify",children:"Modify"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"}),e.jsx(L,{name:"modify",type:"hidden",component:"input"})]})}function nF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.access";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"}),e.jsx(b,{value:"change",children:"Change"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"}),e.jsx(L,{name:"change",type:"hidden",component:"input"})]})}function sF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.quota";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"}),e.jsx(b,{value:"warning",children:"Warning"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"}),e.jsx(L,{name:"warning",type:"hidden",component:"input"})]})}function oF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.document";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"})]})}function rF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.deletionLock";let i;if(o){const l=s(r);i=l&&Object.keys(l)[0]}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{item:u}=d;i=u&&Object.keys(u)[0]}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"}),e.jsx(b,{value:"delete",children:"Modify"}),e.jsx(b,{value:"delete",children:"Effective"}),e.jsx(b,{value:"delete",children:"Expire"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"}),e.jsx(L,{name:"modify",type:"hidden",component:"input"}),e.jsx(L,{name:"effective",type:"hidden",component:"input"}),e.jsx(L,{name:"expire",type:"hidden",component:"input"})]})}function iF(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"field",component:m,label:"Field",fullWidth:!0}),e.jsx(L,{name:"language",component:m,label:"Language",fullWidth:!0}),e.jsx(L,{name:"track",component:m,label:"Track",fullWidth:!0}),e.jsx(L,{name:"interval",component:m,label:"Interval",fullWidth:!0})]})}function Yx(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.metadata";let i;if(o){const d=s(r);i=d&&Object.keys(d)[0]}else try{const{notificationDocument:d={}}=n,{trigger:u={}}=d;if(u.collection){const{collection:{metadata:p}={}}=u;i=p&&Object.keys(p)[0]}else{const{metadata:p}=u;i=p&&Object.keys(p)[0]}}catch(d){console.log(d)}const a=(d,u,p)=>{const x=s(r),j={};if(x){const g=ze(x,{[u]:{$set:j},$unset:[p]});t==null||t.change(r,g)}else t==null||t.change(r,{[u]:j})};function l(d){switch(d){case"modify":return e.jsx(ae,{...t,name:"modify",component:iF,id:`${r}.modify`});default:return null}}return e.jsxs(e.Fragment,{children:[e.jsx(It,{label:"Metadata Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,ValueComponent:l,children:e.jsx(b,{value:"modify",children:"Modify"})}),e.jsx(L,{name:"modify",type:"hidden",component:"input"})]})}function aF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.collection";let i;if(o){const d=s(r);i=d&&Object.keys(d)[0]}else{const{notificationDocument:d={}}=n,{trigger:u={}}=d,{collection:p}=u;i=p&&Object.keys(p)[0]}const a=(d,u,p)=>{const x=s(r),j=u==="metadata"?{}:"";if(x){const g=ze(x,{[u]:{$set:j},$unset:[p]});t==null||t.change(r,g)}else t==null||t.change(r,{[u]:j})};function l(d){switch(d){case"metadata":return e.jsx(ae,{name:"metadata",component:Yx,id:`${r}.metadata`,...t});default:return null}}return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,ValueComponent:l,children:[e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"delete",children:"Delete"}),e.jsx(b,{value:"modify",children:"Modify"}),e.jsx(b,{value:"metadata",children:"Metadata"})]}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"delete",type:"hidden",component:"input"}),e.jsx(L,{name:"modify",type:"hidden",component:"input"}),e.jsx(L,{name:"metadata",type:"hidden",component:"input"})]})}function lF(){return e.jsx(L,{name:"contentFilter",label:"Content Filter",component:pe,simple:!0,fullWidth:!0})}function cF(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"key",component:m,label:"Key",fullWidth:!0}),e.jsx(L,{name:"value",component:m,label:"Value",fullWidth:!0}),e.jsx(L,{name:"key-regex",component:m,label:"Key Regex",fullWidth:!0}),e.jsx(L,{name:"value-regex",component:m,label:"Value Regex",fullWidth:!0})]})}function dF(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"type",component:m,label:"Filter Type",fullWidth:!0}),e.jsx(L,{name:"step",component:m,label:"Filter Step",type:"number",fullWidth:!0}),e.jsx(ae,{name:"jobdata",component:cF})]})}function uF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger.job";let i;if(o){const l=s(r);i=zi(l)}else{const{notificationDocument:l={}}=n,{trigger:d={}}=l,{job:u}=d;i=zi(u)}const a=(l,d,u)=>{const p=s(r),x="";if(p){const j=ze(p,{[d]:{$set:x},$unset:[u]});t==null||t.change(r,j)}else t==null||t.change(r,{[d]:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(It,{label:"Trigger Action",initialvalue:i,fullWidth:!0,onChange:a,name:r,children:[e.jsx(b,{value:"update",children:"Update"}),e.jsx(b,{value:"create",children:"Create"}),e.jsx(b,{value:"stop",children:"Stop"}),e.jsx(b,{value:"finish",children:"Finish"}),e.jsx(b,{value:"fail",children:"Fail"})]}),e.jsx(ae,{name:"filter",component:dF}),e.jsx(ae,{name:"contentFilters",component:lF}),e.jsx(L,{name:"fail",type:"hidden",component:"input"}),e.jsx(L,{name:"stop",type:"hidden",component:"input"}),e.jsx(L,{name:"create",type:"hidden",component:"input"}),e.jsx(L,{name:"finish",type:"hidden",component:"input"}),e.jsx(R,{control:e.jsx(L,{name:"placeholder",component:E}),label:"Placeholder"})]})}function mF(t){const{initialValues:n={},valueSelector:s,dirty:o}=t,r=(t==null?void 0:t.id)||"notificationDocument.trigger";let i;if(o){const d=s(r);i=Ji(d)}else{const{notificationDocument:d={}}=n,{trigger:u={}}=d;i=Ji(u)}function a(d){switch(d){case"job":return e.jsx(ae,{name:"job",component:uF,...t});case"item":return e.jsx(ae,{name:"item",component:QA,...t});case"metadata":return e.jsx(ae,{name:"metadata",component:Yx,...t});case"collection":return e.jsx(ae,{name:"collection",component:aF,...t});case"storage":return e.jsx(ae,{name:"storage",component:XA,...t});case"file":return e.jsx(ae,{name:"file",component:ZA,...t});case"shape":return e.jsx(ae,{name:"shape",component:tF,...t});case"group":return e.jsx(ae,{name:"group",component:eF,...t});case"access":return e.jsx(ae,{name:"access",component:nF,...t});case"quota":return e.jsx(ae,{name:"quota",component:sF,...t});case"document":return e.jsx(ae,{name:"document",component:oF,...t});case"deletionLock":return e.jsx(ae,{name:"deletionLock",component:rF,...t});default:return null}}const l=(d,u,p)=>{const x=s(r),j={};if(x){const g=ze(x,{[u]:{$set:j},$unset:[p]});t==null||t.change(r,g)}else t==null||t.change(r,{[u]:j})};return e.jsxs(It,{label:"Trigger Entity",initialvalue:i,fullWidth:!0,onChange:l,ValueComponent:a,name:r,children:[e.jsx(b,{value:"job",children:"Job"}),e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"metadata",children:"Metadata"}),e.jsx(b,{value:"collection",children:"Collection"}),e.jsx(b,{value:"storage",children:"Storage"}),e.jsx(b,{value:"file",children:"File"}),e.jsx(b,{value:"shape",children:"Shape"}),e.jsx(b,{value:"group",children:"Group"}),e.jsx(b,{value:"access",children:"Access"}),e.jsx(b,{value:"quota",children:"Quota"}),e.jsx(b,{value:"access",children:"Access"}),e.jsx(b,{value:"document",children:"Document"}),e.jsx(b,{value:"deletionLock",children:"Deletion Lock"})]})}function hF(t){return e.jsxs("form",{onSubmit:t==null?void 0:t.handleSubmit,children:[(t==null?void 0:t.error)&&e.jsx(C,{color:"error",children:t==null?void 0:t.error}),e.jsx(ae,{...t,name:"notificationDocument.trigger",component:mF}),e.jsx("button",{type:"submit",hidden:!0})]})}const Qx=F()(hF),qs="NOTIFICATION_EDIT_FORM";function pF({notificationId:t,entityType:n,entityId:s,notificationDocument:o,submitForm:r,onRefresh:i,isEditing:a,toggleEdit:l,valueSelector:d,openSnackBar:u}){if(o===void 0)return null;const p=()=>{u({messageContent:"Notification Updated"}),i&&i(),l&&l()},x=()=>{u({messageContent:"Error Updating Notification",messageColor:"secondary"})},{action:j,trigger:g}=o,y=e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:a,onChange:l});return e.jsxs(en,{children:[g&&e.jsxs($,{children:[e.jsx(je,{title:"Trigger",action:y}),a?e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(Qx,{notificationId:t,entityType:n,entityId:s,form:qs,onSubmit:Hi,onSubmitSuccess:p,onSubmitFail:x,initialValues:{notificationDocument:o},valueSelector:d})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:()=>r(qs),children:"Save"})})]}):e.jsx(V,{children:e.jsx(YA,{notificationId:t,trigger:g,entityType:n,entityId:s})})]}),e.jsxs($,{children:[e.jsx(je,{title:"Action",action:y}),a?e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(wa,{notificationId:t,entityType:n,entityId:s,form:qs,onSubmit:Hi,onSubmitSuccess:p,onSubmitFail:x,initialValues:{notificationDocument:o},valueSelector:d})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:()=>r(qs),children:"Save"})})]}):e.jsx(V,{children:e.jsx(zx,{notificationId:t,action:j,entityType:n,entityId:s})})]})]})}const Xx=I(v,M,Gt)(pF,qs);function xF({open:t,onClose:n,openSnackBar:s,notificationId:o,entityType:r,entityId:i,onSuccess:a}){const l=()=>{const x=`/API/notification/${o}`;yt.removeNotification({notificationId:o,entityType:"placeholder",path:x}).then(()=>{const j=`Notification ${o} Removed`;s({messageContent:j}),n(),a&&a()}).catch(()=>{s({messageContent:"Error Removing Notification",messageColor:"secondary"})})},d=()=>{yt.removeNotification({notificationId:o,entityType:r}).then(()=>{const x=`Notification ${o} Removed`;s({messageContent:x}),n(),a&&a()}).catch(()=>{s({messageContent:"Error Removing Notification",messageColor:"secondary"})})},u=()=>{yt.removeNotificationEntity({notificationId:o,entityType:r,entityId:i}).then(()=>{const x=`Notification ${o} Removed`;s({messageContent:x}),n(),a&&a()}).catch(()=>{s({messageContent:"Error Removing Notification",messageColor:"secondary"})})};let p=l;return i&&r?p=u:r&&(p=d),e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Notification ${o}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:p,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Ua=v(xF),Jl="NOTIFICATION_REMOVE_DIALOG";class jF extends T.PureComponent{constructor(n){super(n),this.onSetTitle=this.onSetTitle.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){this.onSetTitle(),this.onRefresh()}onSetTitle(){const{entityType:n,entityId:s,notificationId:o}=this.props;document.title=`VidiCore Admin | ${St(n)} ${s} | ${o}`}onRefresh(){const{entityType:n,entityId:s,notificationId:o}=this.props;try{yt.getNotificationEntity({notificationId:o,entityType:n,entityId:s}).then(r=>this.setState({notificationDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{notificationId:n,entityType:s,entityId:o,history:r}=this.props,{notificationDocument:i,isEditing:a}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{breadcrumbList:[{to:`/${s}/`,title:St(s)},{to:`/${s}/${o}`,title:o},{to:`/${s}/${o}/notification/`,title:"Notification"},{title:n}],helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:i,codeModal:"NotificationDocument",entityId:`notification/${n}`,entityType:s,removeModal:Jl}),e.jsx(Xx,{notificationDocument:i,entityType:s,entityId:o,notificationId:n,isEditing:a,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),e.jsx(Ua,{dialogName:Jl,onSuccess:()=>r.push(`/${s}/${o}/notification/`),entityType:s,entityId:o,notificationId:n})]})}}const Zx=I(We,H)(jF),Bo="NOTIFICATION_CREATE_FORM";function fF({open:t,onClose:n,onSuccess:s,submitForm:o,entityType:r,entityId:i,valueSelector:a,openSnackBar:l}){const d=(x,j,g)=>{l({messageContent:"Notification Created"}),s&&s(x,j,g),n()},u=()=>{l({messageContent:"Error Creating Notification",messageColor:"secondary"})},p={entityId:i,notificationDocument:{action:{}}};return r&&(p.notificationDocument.trigger={},r==="deletion-lock"?p.notificationDocument.trigger.deletionLock={}:p.notificationDocument.trigger[r]={}),e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:r?`New ${St(r)} Notification`:"New Notification"}),e.jsxs(X,{children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Trigger"}),e.jsx(Qx,{entityType:r,form:Bo,onSubmit:r?zl:Bl,onSubmitSuccess:d,onSubmitFail:u,valueSelector:a,initialValues:p})]}),e.jsx(C,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Action"}),e.jsx(wa,{entityType:r,form:Bo,onSubmit:r?zl:Bl,onSubmitSuccess:d,onSubmitFail:u,valueSelector:a,initialValues:p})]}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(Bo),children:"Save"})]})]})}const Va=I(v,M,Gt)(fF,Bo);function gF({uri:t,linkTo:n,textTo:s,onClick:o,titleCase:r=!1}){const i={};let a=t;s&&(a=s(t)),n&&(i.to=n(t)),o&&(i.onClick=()=>o(t));const l=r?le(a):a;return e.jsxs(Be,{hover:!0,...i,children:[e.jsx(A,{children:l}),e.jsx(A,{})]})}function Ds({uriListDocument:t={},sort:n=!1,page:s,rowsPerPage:o,onChangePage:r,onChangeRowsPerPage:i,header:a=!0,...l}){const{hits:d=0}=t,u=T.useMemo(()=>Array.isArray(t==null?void 0:t.uri)?n===!0?t.uri.sort():typeof n=="function"?t.uri.sort(n):t.uri:[],[n,t]),p=[10,100,250];return p.includes(o)||p.push(o),e.jsxs(ce,{children:[a===!0&&e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{})]})}),e.jsx(de,{children:u.map(x=>e.jsx(gF,{uri:x,...l},x))}),r&&i&&e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:d,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:Lt,rowsPerPageOptions:p})})})]})}function Ga({uriListDocument:t,entityType:n,entityId:s}){if(t===void 0)return null;const o=d=>`/notification/${n}/${d.split("/").pop()}/`,r=d=>`/${n}/${s}/notification/${d.split("/").pop()}/`;let a=d=>`/notification/${d.split("/").pop()}/`;s&&n?a=r:n&&(a=o);const l=d=>d.split("/").pop();return e.jsx($,{children:e.jsx(V,{children:e.jsx(Ds,{uriListDocument:t,linkTo:a,textTo:l})})})}const Kl="NOTIFICATION_CREATE_DIALOG";class bF extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onSetTitle=this.onSetTitle.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onSetTitle(),this.onRefresh()}UNSAFE_componentWillReceiveProps({entityType:n,entityId:s}){const{entityType:o,entityId:r}=this.props;(o!==n||r!==s)&&(this.onSetTitle(),this.onFetch(n))}onSetTitle(){const{entityType:n,entityId:s}=this.props;document.title=`VidiCore Admin | ${St(n)} ${s} Notification`}onRefresh(){const{entityType:n,entityId:s}=this.props;this.onFetch(n,s)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(n,s){try{yt.listNotificationEntity({entityType:n,entityId:s}).then(o=>this.setState({uriListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}render(){const{entityType:n,entityId:s,history:o}=this.props,{uriListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{grandParentTitle:St(n),grandParentTo:`/${n}/`,parentTitle:s,title:"Notification",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:r,codeModal:"URIListDocument",createModal:Kl,entityType:n}),e.jsx(Ga,{uriListDocument:r,entityType:n,entityId:s}),e.jsx(Va,{dialogName:Kl,entityType:n,entityId:s,onSuccess:i=>{const{data:a}=i,{uri:l}=a,d=l[0];o.push(`/${n}/${s}/notification/${d}`)}})]})}}const ej=v(bF);function CF(t,n,s){const{storageRuleDocument:o}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId,a=s.tagName||t.tagName;return mn.updateEntityStorageRuleTag({entityType:r,entityId:i,tagName:a,storageRuleDocument:o}).then(()=>({storageRuleDocument:o})).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}function tj(t,n,s){const{storageRuleDocument:o}=t,r=s.entityType||t.entityType,i=s.entityId||t.entityId;return(s.tagName||t.tagName)!==void 0?CF(t,n,s):mn.updateEntityStorageRule({entityType:r,entityId:i,storageRuleDocument:o}).then(()=>({storageRuleDocument:o})).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}function nj(t,n,s){const{storageRuleDocument:o}=t,r=s.tagName||o.tag;return mn.updateStorageRuleShapeTag({tagName:r,storageRuleDocument:o}).then(()=>({storageRuleDocument:o})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}const yF=Qt(pt.listStorage,500,{leading:!0,trailing:!1}),bo=async t=>{const{data:n}=await yF(),{group:s=[]}=n;let o=s.map(i=>i.name);return t&&t!=="*"&&(o=o.filter(i=>i.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i,value:i}))};function SF(){return e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"value",children:"Criteria"}),e.jsxs(c,{name:"value",component:K,children:[e.jsx(b,{value:"bandwidth",children:"bandwidth"}),e.jsx(b,{value:"capacity",children:"capacity"})]})]})}function sj(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"storage",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,createable:!0}),e.jsx(c,{name:"group",label:"Storage Group",component:z,loadOptions:bo,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,createable:!0})]})}function RF(){return e.jsxs(e.Fragment,{children:[e.jsx(sj,{}),e.jsx(c,{name:"any",component:m,fullWidth:!0})]})}function TF(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"level",type:"number",component:m,fullWidth:!0}),e.jsx(SF,{})]})}function EF(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"id",component:m,fullWidth:!0}),e.jsx(c,{name:"type",component:m,fullWidth:!0})]})}function qa(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"storageCount",type:"number",component:m,fullWidth:!0}),e.jsx(k,{name:"priority",label:"Priority",component:TF}),e.jsx(R,{control:e.jsx(c,{name:"inherited",component:E}),label:"Inherited"}),e.jsx(c,{name:"storage",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,createable:!0}),e.jsx(c,{name:"group",label:"Storage Group",component:z,loadOptions:bo,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,createable:!0}),e.jsx(S,{name:"not",label:"not",component:RF}),e.jsx(S,{name:"pool",label:"pool",component:sj}),e.jsx(S,{name:"appliesTo",label:"appliesTo",component:EF}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"precedence",children:"Precedence"}),e.jsxs(c,{name:"precedence",component:K,children:[e.jsx(b,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(b,{value:"HIGH",children:"HIGH"}),e.jsx(b,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(b,{value:"LOW",children:"LOW"}),e.jsx(b,{value:"LOWEST",children:"LOWEST"})]})]})]})}function IF({error:t,handleSubmit:n,tagName:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),s===void 0?e.jsx(c,{name:"tagName",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,createable:!0}):null,e.jsx(S,{name:"storageRuleDocument",component:qa}),e.jsx("button",{type:"submit",hidden:!0})]})}const oj=F()(IF);function vF({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"storageRuleDocument",component:qa}),e.jsx("button",{type:"submit",hidden:!0})]})}const AF=F()(vF);function FF({error:t,handleSubmit:n,tagName:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),s!==void 0?e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"entityType",children:"Type"}),e.jsxs(c,{name:"entityType",component:K,children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"collection",children:"Collection"}),e.jsx(b,{value:"library",children:"Library"})]})]}),e.jsx(c,{name:"entityId",component:m,fullWidth:!0})]}):null,e.jsx(S,{name:"storageRuleDocument",component:qa}),e.jsx("button",{type:"submit",hidden:!0})]})}const MF=F()(FF);function DF({open:t,onClose:n,openSnackBar:s,onSuccess:o,entityType:r,entityId:i}){const a=d=>{s({messageContent:"Storage Rule Created"}),n(),o&&o(d)},l=()=>{s({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Storage Rule"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:oj,documentName:"storageRuleDocument",onSubmit:tj,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,entityType:r,entityId:i})})]})}const PF=v(DF);function OF({open:t,onClose:n,openSnackBar:s,storageRuleDocument:o,onSuccess:r}){if(o===void 0)return null;const{appliesTo:i={},id:a}=o,{type:l,id:d}=i,u=l.toLowerCase();let p;return l==="GENERIC"?p=()=>{mn.removeStorageRuleShapeTag({tagName:d}).then(()=>{s({messageContent:"Storage Rule Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})})}:a==="default"?p=()=>{mn.removeEntityStorageRule({entityType:u,entityId:d}).then(()=>{s({messageContent:"Storage Rule Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})})}:p=()=>{mn.removeEntityStorageRuleTag({entityType:u,entityId:d,tagName:a}).then(()=>{s({messageContent:"Storage Rule Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})})},e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Storage Rule ${le(u)} For ${d} On ${a}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:p,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const rj=v(OF);function zo({labels:t=[]}){return e.jsx(O,{container:!0,children:t.map(n=>e.jsx(O,{item:!0,sm:2,children:e.jsx(Ue,{label:n})},n))})}function LF({storageRuleDocument:t,onRemove:n}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:t.appliesTo.id}),e.jsx(P,{children:t.appliesTo.type}),e.jsx(P,{children:t.id}),e.jsx(P,{children:t.storageCount}),e.jsx(P,{children:e.jsx(zo,{labels:t.storage})}),e.jsx(P,{children:t.precedence}),e.jsx(P,{children:t.inherited===!0&&e.jsx(Ct,{})}),e.jsx(P,{disableOnClick:!0,children:e.jsx(ee,{onClick:()=>n({storageRuleDocument:t}),children:e.jsx(et,{})})})]})}const Yl="REMOVE_STORAGERULE_DIALOG";function NF({storageRulesDocument:t,onRefresh:n,dialogProps:s,onOpen:o}){const{tag:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Entity"}),e.jsx(P,{children:"Type"}),e.jsx(P,{children:"ID"}),e.jsx(P,{children:"Count"}),e.jsx(P,{children:"Storage"}),e.jsx(P,{children:"Precedence"}),e.jsx(P,{children:"Inherited"}),e.jsx(P,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(LF,{storageRuleDocument:i,onRemove:o(Yl)},`${i.appliesTo.id}_${i.appliesTo.type}_${i.id}`))})]}),e.jsx(rj,{...s,dialogName:Yl,onSuccess:n})]})}const _F=Ze(NF);function ij(t){return e.jsx($,{children:e.jsx(V,{children:e.jsx(_F,{...t})})})}const Kr="STORAGERULE_DIALOG";class $F extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageRulesDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{openSnackBar:n,entityId:s,entityType:o}=this.props;try{mn.getEntityStorageRule({entityId:s,entityType:o}).then(r=>this.setState({storageRulesDocument:r.data}))}catch{n({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}render(){const{entityId:n,entityType:s,titleComponent:o,tabComponent:r,title:i}=this.props,{storageRulesDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[o&&e.jsx(o,{onRefresh:this.onRefresh,codeModal:"StorageRulesDocument",code:a,createModal:Kr,title:i}),r&&e.jsx(r,{}),a&&e.jsx(ij,{onRefresh:this.onRefresh,storageRulesDocument:a,createModal:o?void 0:Kr}),e.jsx(PF,{dialogName:Kr,onSuccess:this.onRefresh,entityId:n,entityType:s})]})}}const Ha=H($F),WF="COLLECTION_METADATA_TAB",kF="COLLECTION_COLLECTION_TAB",aj="COLLECTION_CONTENT_TAB",wF="ACCESS_TAB",UF="ACCESSMERGED_TAB",VF="STORAGERULE_TAB",GF="DELETIONLOCK_TAB",qF="COLLECTION_METADATACHANGESETLIST_TAB",HF="NOTIFICATION_TAB",Yr="COLLECTION_REMOVE_DIALOG",Ql="COLLECTION_ACCESSCONTROL_ADD_DIALOG",Xl="COLLECTION_EXPORT_DIALOG",Zl="COLLECTION_RENAME_DIALOG",ec="COLLECTION_ENTITY_ADD_DIALOG",tc="COLLECTION_FOLDERMAP_DIALOG",BF="ACCESSGRAPH_TAB",zF="METADATAGRAPH_TAB",JF="SEQUENCE_TAB",KF="EXTERNALID_TAB",lj=[{tab:WF,listText:"Metadata",exact:!0,component:Mx,path:"/collection/:collectionId/metadata/"},{tab:aj,listText:"Content",component:SI,path:"/collection/:collectionId/content/"},{tab:qF,listText:"Changes",component:HI,path:"/collection/:collectionId/metadata/changes/"},{tab:kF,listText:"Collection",component:aI,path:"/collection/:collectionId/collection/"},{tab:wF,listText:"Direct Access",component:_a,path:"/collection/:collectionId/direct-access/"},{tab:UF,listText:"Merged Access",component:Wa,path:"/collection/:collectionId/merged-access/"},{tab:VF,listText:"Storage Rules",component:Ha,path:"/collection/:collectionId/storage-rules/"},{tab:GF,listText:"Deletion Locks",component:go,path:"/collection/:collectionId/deletion-locks/"},{tab:HF,listText:"Notifications",component:ej,path:"/collection/:collectionId/notification/",entityType:"collection",exact:!0},{tab:BF,listText:"Access Graph",component:Cx,path:"/collection/:collectionId/access/graph/",entityType:"collection"},{tab:zF,listText:"Metadata Graph",component:Bx,path:"/collection/:collectionId/metadata/graph/",entity:"collection"},{tab:JF,listText:"Sequence",component:Dv,path:"/collection/:collectionId/sequence-document/",entity:"collection"},{tab:KF,listText:"External ID",component:Dn,path:"/collection/:collectionId/external-id/",entity:"collection"}],YF=({collectionId:t})=>e.jsx(gt,{children:lj.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,{collectionId:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},n))}),QF=t=>e.jsxs(bt,{children:[e.jsx(B,{exact:!0,path:"/item/:itemId/notification/:notificationId",render:()=>e.jsx(Zx,{...t}),...t}),lj.map(({path:n,component:s,listText:o,exact:r,...i})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,...i,title:o})},n)),e.jsx(B,{path:"*",render:()=>e.jsx(Mx,{...t,title:"Metadata"})})]});class XF extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.setName=this.setName.bind(this),this.state={onRefresh:void 0,collectionName:void 0}}componentDidMount(){const{collectionId:n}=this.props;document.title=`VidiCore Admin | Collection | ${n}`}onRefresh(...n){const{onRefresh:s}=this.state;s&&s(...n)}setOnRefresh(n){this.setState({onRefresh:n})}setName(n){this.setState({collectionName:n})}render(){const{onChangeTab:n,tabValue:s,collectionId:o,history:r,onOpen:i}=this.props,{collectionName:a}=this.state,l=d=>e.jsx(Y,{grandParentTitle:"Collection",grandParentTo:"/collection/",parentTitle:o,removeModal:Yr,helpTo:"/ref/collection.html",entityId:o,entityType:"collection",addAccessControl:Ql,exportModal:Xl,titleChip:a,actionComponent:e.jsxs(mt,{children:[e.jsx(b,{onClick:()=>i({modalName:ec}),children:e.jsx(C,{children:"Add Entity"})}),e.jsx(b,{onClick:()=>i({modalName:Zl}),children:e.jsx(C,{children:"Rename"})}),e.jsx(b,{onClick:()=>i({modalName:tc}),children:e.jsx(C,{children:"Map To Folder"})}),e.jsx(b,{onClick:()=>i({modalName:Yr}),children:e.jsx(C,{color:"secondary",children:"Delete Collection"})})]}),...d});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{mainComponent:QF,listComponent:YF,setOnRefresh:this.setOnRefresh,setName:this.setName,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:l,collectionId:o,entityId:o,entityType:"collection"}),e.jsx(tE,{dialogName:Yr,onSuccess:()=>r.push("/collection/"),collectionId:o}),e.jsx(Na,{dialogName:Ql,entityType:"collection",entityId:o,onSuccess:this.onRefresh}),e.jsx(px,{dialogName:ec,onSuccess:this.onRefresh,collectionId:o}),e.jsx(iE,{dialogName:Zl,collectionId:o,onSuccess:this.onRefresh,collectionDocument:{name:a}}),e.jsx(ZT,{dialogName:tc,collectionId:o,onSuccess:this.onRefresh}),e.jsx(VT,{dialogName:Xl,onSuccess:d=>r.push(`/job/${d.data.jobId}/`),collectionId:o})]})}}const ZF=I(ln(aj),v)(XF);function eM(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"id",label:"Entity ID",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Entity Type"}),e.jsxs(c,{name:"type",component:K,children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"library",children:"Library"}),e.jsx(b,{value:"collection",children:"Collection"})]})]})]})}function cj(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"metadata",label:"metadata",component:Is}),e.jsx(k,{name:"content",label:"content",component:eM})]})}const dj=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",component:m,fullWidth:!0}),e.jsx(c,{name:"externalId",component:m,fullWidth:!0}),e.jsx(c,{name:"settings",component:m,fullWidth:!0})]});function tM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"collectionDocument",component:cj}),e.jsx("button",{type:"submit",hidden:!0})]})}const nM=F()(tM);function sM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:dj}),e.jsx("button",{type:"submit",hidden:!0})]})}const oM=F()(sM);function rM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:dj}),e.jsx(S,{name:"collectionDocument",label:"collectionDocument",component:cj}),e.jsx("button",{type:"submit",hidden:!0})]})}const iM=F()(rM),nc="EDIT_COLLECTION_FORM";function aM({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i}){const a=(d,u,p)=>{r({messageContent:"Collection Created"}),o&&o(d,u,p),s()},l=(d,u,p)=>{r({messageContent:"Error Creating Collection",messageColor:"secondary"}),i&&i(d,u,p)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Collection"}),e.jsx(X,{children:e.jsx(iM,{onSubmit:Vi,onSubmitSuccess:a,onSubmitFail:l,form:nc})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(nc),children:"Create"})]})]})}const lM=I(v,M)(aM);function Qr({orderBy:t,orderDirection:n,onChangeOrder:s,name:o}){return s?e.jsx(A,{children:e.jsx(Mt,{active:t===o,direction:n||void 0,onClick:s(o),children:le(o)})}):e.jsx(A,{children:le(o)})}const cM=(t,n)=>{var o;const s=(o=t==null?void 0:t.terse)==null?void 0:o[n];return Array.isArray(s)?s.map(({value:i})=>i).filter(i=>i!==void 0).join(", "):s==null?void 0:s.value};function uj({collectionType:t,terse:n,fieldList:s,withName:o=!0,children:r}){return e.jsxs(Be,{to:`/collection/${t.id}/`,hover:!0,children:[r,e.jsx(A,{children:t.id}),o&&e.jsx(A,{children:t.name}),n&&t.terse&&s.map(i=>e.jsx(A,{children:cM(t,i)},i))]})}function dM({collectionListDocument:t,queryParams:n={},onChangePage:s,onChangeRowsPerPage:o,rowsPerPageOptions:r,page:i,rowsPerPage:a,onChangeOrder:l,orderBy:d,orderDirection:u}){if(t===void 0)return null;const{collection:p=[],hits:x=0}=t,{terse:j,field:g=[]}=n;let y=g;return Array.isArray(g)||(y=g.split(",")),e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(Qr,{name:"collectionId",onChangeOrder:l,orderBy:d,orderDirection:u}),e.jsx(Qr,{name:"name",onChangeOrder:l,orderBy:d,orderDirection:u}),j&&y.map(D=>e.jsx(Qr,{name:D,onChangeOrder:l,orderBy:d,orderDirection:u},D))]})}),e.jsx(de,{children:p.map(D=>e.jsx(uj,{collectionType:D,fieldList:y,terse:j},D.id))}),s&&o&&e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:x,page:i,rowsPerPage:a,onPageChange:s,onRowsPerPageChange:o,ActionsComponent:Lt,rowsPerPageOptions:r})})})]})}const vt=t=>class extends T.PureComponent{constructor(n){super(n),this.onChangeExpansion=this.onChangeExpansion.bind(this);const{defaultExpanded:s=!1}=n;this.state={expanded:s}}onChangeExpansion(n,s){this.setState({expanded:s})}render(){const{expanded:n}=this.state;return e.jsx(t,{onChangeExpansion:this.onChangeExpansion,expanded:n,...this.props})}};function Er(){return e.jsxs(O,{container:!0,children:[e.jsx(O,{item:!0,sm:10,children:e.jsx(c,{name:"value",component:m,fullWidth:!0})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(R,{control:e.jsx(c,{name:"noescape",component:E}),label:"No Escape"})})]})}function Ki(){return e.jsxs(O,{container:!0,children:[e.jsx(O,{item:!0,sm:6,children:e.jsx(c,{name:"value",component:m,fullWidth:!0})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(R,{control:e.jsx(c,{name:"noescape",component:E}),label:"No Escape"})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(R,{control:e.jsx(c,{name:"minimum",component:E}),label:"Minimum"})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(R,{control:e.jsx(c,{name:"maximum",component:E}),label:"Maximum"})})]})}function uM(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"value[0]",component:Ki,label:"Start",button:!0,initialDisplay:!1}),e.jsx(S,{name:"value[1]",component:Ki,label:"End"}),e.jsx(R,{control:e.jsx(c,{name:"exclusiveMinimum",component:E}),label:"Exclusive Minimum"}),e.jsx(R,{control:e.jsx(c,{name:"exclusiveMaximum",component:E}),label:"Exclusive Maximum"})]})}function Nn(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"Field Name",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(k,{name:"value",component:Ki,label:"Field Value",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"range",component:uM,label:"Range",withHeader:!1,arrayHeader:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"target",children:"Target"}),e.jsxs(c,{name:"target",component:K,children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"shape",children:"Shape"}),e.jsx(b,{value:"file",children:"File"})]})]})]})}function Co(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"Group Name",component:z,loadOptions:qn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"group",component:Co,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(c,{name:"reference",component:m,fullWidth:!0})]})}function Ir(){return e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(c,{name:"operation",component:K,children:[e.jsx(b,{value:"AND",children:"AND"}),e.jsx(b,{value:"OR",children:"OR"}),e.jsx(b,{value:"NOT",children:"NOT"})]})]}),e.jsx(k,{name:"operator",component:Ir,label:"operator",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"text",component:Er,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"group",component:Co,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(c,{name:"reference",component:pe,simple:!0,fullWidth:!0})]})}function mj(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(c,{name:"operation",component:K,children:[e.jsx(b,{value:"AND",children:"AND"}),e.jsx(b,{value:"OR",children:"OR"}),e.jsx(b,{value:"NOT",children:"NOT"})]})]}),e.jsx(k,{name:"operator",component:Ir,label:"operator",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"group",component:Co,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(c,{name:"reference",component:pe,simple:!0,fullWidth:!0})]})}function xs(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"operator",label:"operator",component:Ir,button:!0,initialDisplay:!1}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"group",component:Co,label:"group",withHeader:!1,arrayHeader:!0})]})}function hj(){return e.jsxs(e.Fragment,{children:[e.jsx(xs,{}),e.jsx(S,{name:"file",component:xs,label:"File Join",button:!0,initialDisplay:!1})]})}function Ba(){return e.jsxs(e.Fragment,{children:[e.jsx(xs,{}),e.jsx(S,{name:"shape",label:"Shape Join",component:hj,button:!0,initialDisplay:!1}),e.jsx(S,{name:"file",component:xs,label:"File Join",button:!0,initialDisplay:!1})]})}function pj(){return e.jsxs(e.Fragment,{children:[e.jsx(xs,{}),e.jsx(k,{name:"collection",component:pj,label:"Collection Join",withHeader:!1,arrayHeader:!0}),e.jsx(S,{name:"item",component:Ba,label:"Item Join",button:!0,initialDisplay:!1}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"relation",children:"Relation"}),e.jsxs(c,{name:"relation",component:K,children:[e.jsx(b,{value:""}),e.jsx(b,{value:"child",children:"Child"}),e.jsx(b,{value:"parent",children:"Parent"}),e.jsx(b,{value:"descendant",children:"Descendant"}),e.jsx(b,{value:"ancestor",children:"Ancestor"})]})]})]})}function xj(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"start",component:m,fullWidth:!0}),e.jsx(c,{name:"end",component:m,fullWidth:!0})]})}function mM(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(c,{name:"value",component:m,fullWidth:!0}),e.jsx(S,{name:"range",label:"Range",component:xj})]})}function jj(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(k,{name:"range",component:xj,label:"range",withHeader:!1,arrayHeader:!0}),e.jsx(c,{name:"exclude",component:pe,simple:!0,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(c,{name:"minCount",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"maxResults",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"name",component:m,fullWidth:!0})]})}function hM(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(c,{name:"order",component:K,children:[e.jsx(b,{value:"ascending",children:"Ascending"}),e.jsx(b,{value:"descending",children:"Descending"})]})]})]})}function fj(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,isMulti:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"matchingOnly",component:E}),label:"Matching Only"}),e.jsx(c,{name:"prefix",component:m,fullWidth:!0}),e.jsx(c,{name:"suffix",component:m,fullWidth:!0})]})}function pM(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"maximumSuggestions",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"accuracy",component:m,type:"number",fullWidth:!0})]})}function xM(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"text",component:m,fullWidth:!0}),e.jsx(c,{name:"field",label:"Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(c,{name:"accuracy",component:m,type:"number",fullWidth:!0})]})}function yo(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"text",component:Er,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"group",component:Co,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(S,{name:"operator",label:"operator",component:Ir,button:!0,initialDisplay:!1}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"intervals",children:"Intervals"}),e.jsxs(c,{name:"intervals",component:K,children:[e.jsx(b,{value:"generic",children:"Generic"}),e.jsx(b,{value:"timed",children:"Timed"}),e.jsx(b,{value:"all",children:"All"})]})]}),e.jsx(k,{name:"filter",component:mj,label:"filter",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"facetFilter",component:mM,label:"facetFilter",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"facet",component:jj,label:"facet",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"sort",component:hM,label:"sort",withHeader:!1,arrayHeader:!0}),e.jsx(S,{name:"highlight",label:"highlight",component:fj,button:!0,initialDisplay:!1}),e.jsx(S,{name:"suggestion",label:"suggestion",component:pM,button:!0,initialDisplay:!1}),e.jsx(k,{name:"autocomplete",component:xM,label:"autocomplete",withHeader:!1,arrayHeader:!0}),e.jsx(c,{name:"version",component:m,fullWidth:!0,type:"number"}),e.jsx(c,{name:"reference",component:m,fullWidth:!0,type:"string"}),e.jsx(k,{name:"collection",label:"collection join",component:pj,button:!0,initialDisplay:!1}),e.jsx(S,{name:"item",label:"item join",component:Ba,button:!0,initialDisplay:!1}),e.jsx(S,{name:"shape",label:"shape join",component:hj,button:!0,initialDisplay:!1}),e.jsx(S,{name:"file",label:"file join",component:xs,button:!0,initialDisplay:!1})]})}function jM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"itemSearchDocument",component:yo}),e.jsx("button",{type:"submit",hidden:!0})]})}const za=F()(jM),fM="COLLECTION_SEARCH_FORM";function gM({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=fM,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Collections",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item Search Document"})}),e.jsx(V,{children:e.jsx(za,{form:d,onSubmit:hx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const bM=I(H,M,vt)(gM),CM=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0})]});function yM({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:CM}),e.jsx(S,{name:"queryParams",component:Rx}),e.jsx("button",{type:"submit",hidden:!0})]})}const SM=F()(yM),RM="COLLECTION_SEARCH_PARAMS_FORM";function TM({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=RM,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Collections",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Collection Search Params"})}),e.jsx(Ie,{children:e.jsx(SM,{form:d,onSubmit:hx,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const EM=I(H,M,vt)(TM),IM=t=>class extends T.PureComponent{constructor(n){super(n),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this);const{page:s=0,rowsPerPage:o=10,orderBy:r,orderDirection:i}=n;this.state={page:s,rowsPerPage:o,orderBy:r,orderDirection:i}}onChangeRowsPerPage({target:{value:n}}={}){const{onChangeRowsPerPage:s}=this.props,o=0;this.setState({page:o,rowsPerPage:n}),s&&s({page:o,rowsPerPage:n})}onChangePage({page:n}){const{onChangePage:s}=this.props,{rowsPerPage:o}=this.state;this.setState({page:n}),s&&s({page:n,rowsPerPage:o})}onChangeOrder(n){return()=>{const{onChangeOrder:s}=this.props,{orderDirection:o,orderBy:r}=this.state;let i="",a="";n!==r?(a=n,i="desc"):o==="desc"&&(a=n,i="asc");const l=0;this.setState({orderBy:a,orderDirection:i,page:l}),s&&s({orderBy:a,orderDirection:i,page:l})}}render(){const{page:n,rowsPerPage:s,orderBy:o,orderDirection:r}=this.state,i=[10,100,250];return i.includes(s)||i.push(s),e.jsx(t,{...this.props,page:n,rowsPerPage:s,rowsPerPageOptions:i,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:o,orderDirection:r,onChangeOrder:this.onChangeOrder})}},vM=t=>class extends T.PureComponent{constructor(n){super(n),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{orderBy:o="",orderDirection:r=""}=s;let{first:i=1,number:a=10}=s;Number.isInteger(i)||(i=parseInt(i,10)),(Number.isNaN(i)||i<=0)&&(i=1),Number.isInteger(a)||(a=parseInt(a,10)),(Number.isNaN(a)||a<=0)&&(a=10);const l=Math.floor((i-1)/a);this.state={page:l,rowsPerPage:a,orderBy:o,orderDirection:r}}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}async onChangeRowsPerPage({rowsPerPage:n}){const{changeForm:s,firstField:o="queryParams.first",numberField:r="queryParams.number",submitForm:i,form:a}=this.props,l=1;s(a,o,l),await s(a,r,n),this.onSetUrlParams({first:l,number:n}),i(a)}async onChangePage({page:n,rowsPerPage:s}){const{formValues:o={},changeForm:r,firstField:i="queryParams.first",numberField:a="queryParams.number",submitForm:l,form:d}=this.props,{queryParams:u={}}=o,{number:p=s}=u,x=n*p+1;r(d,i,x),await r(d,a,p),this.onSetUrlParams({first:x,number:p}),l(d)}async onChangeOrder({orderBy:n,orderDirection:s}){const{changeForm:o,submitForm:r,sortField:i="itemSearchDocument.sort",firstField:a="queryParams.first",form:l}=this.props,d=i.startsWith("queryParams");let u=d?void 0:[];if(n)if(d===!1){const x=`${s}ending`;u=[{field:n,order:x}]}else u=`${n} ${s}`;const p=1;o(l,i,u),await o(l,a,p),this.onSetUrlParams({orderDirection:s,orderBy:n,first:p}),r(l)}render(){const{page:n,rowsPerPage:s,orderBy:o,orderDirection:r}=this.state;return e.jsx(t,{page:n,rowsPerPage:s,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:o,orderDirection:r,onChangeOrder:this.onChangeOrder,...this.props})}},Bn=I(We,M,vM,IM),sc="COLLECTION_CREATE_DIALOG",Oo="COLLECTION_SEARCH_FORM",AM=I(Et,Bn)(dM);class FM extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:d}},this.state={collectionListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Collection",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Oo)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({collectionListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{collectionListDocument:n,queryParams:s}=this.state,{history:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Collection",helpTo:"/ref/collection.html",onRefresh:this.onRefresh,code:n,codeModal:"CollectionListDocument",createModal:sc}),e.jsxs(O,{container:!0,spacing:1,children:[e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(bM,{form:Oo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(EM,{form:Oo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(AM,{collectionListDocument:n,queryParams:s,form:Oo}),e.jsx(lM,{dialogName:sc,onSuccess:r=>o.push(`/collection/${r.data.id}`)})]})}}const MM=I(M)(FM);function DM({title:t,itemId:n,shapeId:s,componentId:o,breadcrumbList:r=[],...i}){return e.jsx(Y,{breadcrumbList:Array.isArray(r)?[{title:"Item",to:ie.itemList()},{title:n,to:ie.item({itemId:n})},{title:"Shape",to:ie.shapeList({itemId:n})},{title:s,to:ie.shape({itemId:n,shapeId:s})},{title:"Component",to:ie.componentList({itemId:n,shapeId:s})},{title:o,to:ie.component({itemId:n,shapeId:s,componentId:o})},...r]:void 0,...i})}const PM=tt(DM);function OM({value:t={}}){return e.jsx(h,{title:t.key,value:t.value})}function LM({value:t={}}){return e.jsx(Z,{value:t.entry,component:OM})}function NM({value:t={}}){return e.jsx(Z,{value:t.map,component:LM})}function _M({value:t}){return e.jsxs("div",{style:{marginBottom:4},children:[t.value&&e.jsx(h,{title:`Start:${t.start} End:${t.end}`,value:t.value,titleStartCase:!1,titleTypographyProps:{noWrap:!1}}),t.maps&&e.jsx(w,{title:`Start: ${t.start} End: ${t.end}`,titleStartCase:!1,value:t.maps,component:NM})]})}function Ja({bulkyMetadataDocument:t}){const{field:n=[]}=t;return e.jsx(Z,{value:n,component:_M})}const js=t=>{let n=t.message;throw t.response&&(n=JSON.stringify(t.response.data,(s,o)=>o===null?void 0:o)),new q({_error:n})},Ka=(t={})=>Object.entries(t).reduce((n,[s,o])=>({...n,[s]:encodeURIComponent(o)}),{});function $M(t,n,s){try{const o=Ka(t.queryParams),r=s.itemId||t.itemId,i=s.bulkyMetadataKey||t.bulkyMetadataKey;return xn.getItemBulkyMetadata({itemId:r,key:i,path:`/API/item/${r}/metadata/bulky/${i}/as-file`,headers:{accept:"application/octet-stream"},queryParams:o,transitional:{silentJSONParsing:!1,forcedJSONParsing:!1}}).catch(js)}catch(o){return js(o)}}function WM(t,n,s){try{const o=Ka(t.queryParams),r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.bulkyMetadataKey||t.bulkyMetadataKey;return xn.getShapeBulkyMetadata({itemId:r,shapeId:i,key:a,path:`/API/item/${r}/shape/${i}/metadata/bulky/${a}/as-file`,headers:{accept:"application/octet-stream"},queryParams:o,transitional:{silentJSONParsing:!1,forcedJSONParsing:!1}}).catch(js)}catch(o){return js(o)}}function kM(t,n,s){try{const o=Ka(t.queryParams),r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.bulkyMetadataKey||t.bulkyMetadataKey;return xn.getComponentBulkyMetadata({itemId:r,shapeId:i,componentId:a,key:l,path:`/API/item/${r}/shape/${i}/component/${a}/metadata/bulky/${l}/as-file`,headers:{accept:"application/octet-stream"},queryParams:o,transitional:{silentJSONParsing:!1,forcedJSONParsing:!1}}).catch(js)}catch(o){return js(o)}}const wM=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"stream",label:"Stream Index",component:m,fullWidth:!0}),e.jsx(c,{name:"channel",label:"Audio Channel",component:m,fullWidth:!0}),e.jsx(c,{name:"itemTrack",label:"Item Track",component:m,fullWidth:!0}),e.jsx(c,{name:"extraMapValues",label:"Extra Map Values",component:m,fullWidth:!0})]});function UM({error:t,handleSubmit:n,itemId:s,bulkyMetadataKey:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"bulkyMetadataKey",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:wM}),e.jsx("button",{type:"submit",hidden:!0})]})}const VM=F()(UM),GM="BULKYMETADATA_DOWNLOAD_FORM",qM=(t={})=>{const{"content-disposition":n}=t;if(n===void 0)return;const o=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n),r=o==null?void 0:o[1];if(r!==void 0)return r.replace(/['"]/g,"")};function HM({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,bulkyMetadataKey:u,form:p=GM}){let x=$M;l?x=WM:d&&(x=kM);const j=(y,D,se)=>{r({messageContent:"Download Started"});const{data:_e,headers:Oe}=y,ke=qM(Oe)||u;Vp({data:_e,fileName:ke}),s&&s(y,D,se),n()},g=(y,D,se)=>{r({messageContent:"Error Starting Download",messageColor:"secondary"}),o&&o(y,D,se)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Download ${u}`}),e.jsx(Ne,{children:e.jsx(VM,{form:p,onSubmit:x,onSubmitSuccess:j,onSubmitFail:g,itemId:a,shapeId:l,componentId:d,bulkyMetadataKey:u,initialValues:{queryParams:{start:"-INF",end:"+INF"}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(p),children:"Download"})]})]})}const Ya=I(v,M)(HM),oc="BULKYMETADATA_COMPONENT_DOWNLOAD_DIALOG";class BM extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s,componentId:o,bulkyMetadataKey:r}){const{componentId:i,bulkyMetadataKey:a}=this.props;(i!==o||a!==r)&&(this.onFetch(s,n,o,r),document.title=`VidiCore Admin | Component | ${o}`)}onRefresh(){const{itemId:n,shapeId:s,componentId:o,bulkyMetadataKey:r}=this.props;this.onFetch(n,s,o,r)}onFetch(n,s,o,r){try{xn.getComponentBulkyMetadata({itemId:n,shapeId:s,componentId:o,key:r}).then(i=>this.setState({bulkyMetadataDocument:i.data})).catch(i=>this.onRefreshError(i))}catch(i){this.onRefreshError(i)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,bulkyMetadataKey:o,itemId:r,shapeId:i,componentId:a}=this.props,{bulkyMetadataDocument:l}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:l,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:Se("/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/",{itemId:r,shapeId:i,componentId:a})},o],downloadModal:oc}),s&&e.jsx(s,{}),l&&e.jsx(Ja,{bulkyMetadataDocument:l}),e.jsx(Ya,{dialogName:oc,itemId:r,shapeId:i,componentId:a,bulkyMetadataKey:o})]})}}const zM=I(We,H)(BM);function Ut({title:t,uriListDocument:n,...s}){return n===void 0?null:e.jsxs($,{children:[t&&e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:t})}),e.jsx(V,{children:e.jsx(Ds,{uriListDocument:n,...s})})]})}class JM extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({componentId:n,shapeId:s,itemId:o}){const{componentId:r}=this.props;r!==n&&(this.onFetch(o,s,n),document.title=`VidiCore Admin | Component | ${n}`)}onRefresh(){const{itemId:n,shapeId:s,componentId:o}=this.props;this.onFetch(n,s,o)}onFetch(n,s,o){try{xn.listComponentBulkyMetadata({itemId:n,shapeId:s,componentId:o}).then(r=>this.setState({uriListDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Component",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,itemId:o,shapeId:r,componentId:i}=this.props,{uriListDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"URIListDocument",onRefresh:this.onRefresh,breadcrumbList:["Bulky Metadata"]}),s&&e.jsx(s,{}),a&&e.jsx(Ut,{uriListDocument:a,linkTo:l=>`/item/${o}/shape/${r}/component/${i}/bulky-metadata/${l}/`})]})}}const KM=H(JM);function YM({fileType:t}){return e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:e.jsx(be,{to:`/file/${t.id}/`,children:t.id})}),e.jsx(A,{children:t.size&&t.size>-1&&xo(t.size)}),e.jsx(A,{children:t.state}),e.jsx(A,{children:t.timestamp?qe(t.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(A,{children:t.path}),e.jsx(A,{children:t.hash}),e.jsx(A,{children:e.jsx(be,{to:`/storage/${t.storage}/`,children:t.storage})})]},t.id)}function gj({value:t,hideNoValue:n,title:s="Files"}){return n&&t===void 0?null:e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"subtitle2",children:s}),e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{children:"Size"}),e.jsx(A,{children:"State"}),e.jsx(A,{children:"Timestamp"}),e.jsx(A,{children:"Path"}),e.jsx(A,{children:"Hash"}),e.jsx(A,{children:"Storage"})]})}),Array.isArray(t)&&e.jsx(de,{children:t.map(o=>e.jsx(YM,{fileType:o},o.id))})]})]})}function Qa(t){return e.jsx(Rt,{...t,name:"field",component:Rr})}function QM({error:t,handleSubmit:n,onAdd:s,array:o,initialValues:r}){const i=l=>{if(l){const{simpleMetadataDocument:d={}}=r,{field:u=[]}=d;u.find(x=>x.key===l.key)&&o.push("removedKeys",l)}},a=l=>{l&&o.push("simpleMetadataDocument.field",l)};return e.jsxs("form",{onSubmit:n,style:{padding:"10px"},children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(ae,{name:"simpleMetadataDocument",component:Qa,onAdd:s,onRemove:i}),e.jsx(Rt,{name:"removedKeys",component:wR,onRestore:a}),e.jsx("button",{type:"submit",hidden:!0})]})}const XM=F()(QM),rc="EDIT_SIMPLE_METADATA_FORM",ZM=()=>({CardHeader:{paddingBottom:0},CardContent:{paddingTop:0},CardHeaderTypography:{}});class eD extends T.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{simpleMetadataDocument:n,submitForm:s,entityType:o,entityId:r,onSuccess:i,title:a="Metadata",titleProps:l={},CardHeaderProps:d={},classes:u}=this.props,{isEditing:p}=this.state;let{simpleMetadataList:x}=this.props,j={simpleMetadataDocument:{field:x}};n&&(j={simpleMetadataDocument:n},x=n.field||[]);const g=(y,D,se)=>{fA(y,D),this.toggleEdit(),i&&i(y,D,se)};return e.jsxs(e.Fragment,{children:[e.jsx(je,{className:u.CardHeader,title:e.jsx(C,{variant:"subtitle1",className:u.CardHeaderTypography,...l,children:a}),disableTypography:!0,action:r!==void 0?e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:p,onChange:this.toggleEdit})})}):void 0,...d}),e.jsx(V,{className:u.CardContent,children:p?e.jsx(XM,{form:rc,initialValues:j,onSubmit:xA,onSubmitSuccess:g,onSubmitFail:jA,entityType:o,entityId:r}):e.jsx(sx,{simpleMetadataList:x})}),p&&e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>s(rc),size:"small",color:"primary",children:"Save"})]})]})]})}}const tD={submitForm:xt},zn=Ce(null,tD)(xe(ZM)(eD));function nD({metadata:t,componentId:n,itemId:s,shapeId:o,onRefresh:r,...i}){const a=s!==void 0||o!==void 0||n!==void 0?`${s}/shape/${o}/component/${n}`:void 0;return e.jsx(zn,{simpleMetadataDocument:{field:t},titleProps:{variant:"subtitle2"},onSuccess:r,entityType:"item",entityId:a,...i})}function sD({componentDocument:t,itemId:n,shapeId:s,componentId:o,onRefresh:r}){if(t===void 0)return null;const{metadata:i,file:a}=t;return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(gj,{title:"Files",value:a}),e.jsx(nD,{title:"Metadata",metadata:i,onRefresh:r,itemId:n,shapeId:s,componentId:o})]})})}function oD(t){const{componentDocument:n}=t;return n===void 0?null:e.jsx(en,{children:e.jsx(sD,{...t})})}class rD extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={componentDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s,componentId:o}){const{componentId:r}=this.props;r!==o&&(this.onFetch(s,n,o),document.title=`VidiCore Admin | Component | ${o}`)}onRefresh(){const{itemId:n,shapeId:s,componentId:o}=this.props;this.onFetch(n,s,o)}onFetch(n,s,o){try{Xt.getComponent({itemId:n,shapeId:s,componentId:o,queryParams:{full:!0}}).then(r=>this.setState({componentDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Component",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({componentDocument:s})}render(){const{titleComponent:n,tabComponent:s,shapeId:o,itemId:r,componentId:i}=this.props,{componentDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"ComponentDocument",onRefresh:this.onRefresh,breadcrumbList:["Overview"]}),s&&e.jsx(s,{}),a&&e.jsx(oD,{componentDocument:a,shapeId:o,itemId:r,componentId:i,onRefresh:this.onRefresh})]})}}const iD=H(rD),bj=[{listText:"Overview",component:iD,path:"/item/:itemId/shape/:shapeId/component/:componentId/",exact:!0},{listText:"Bulky Metadata",component:KM,path:"/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/"}],aD=({itemId:t,shapeId:n,componentId:s})=>e.jsx(gt,{children:bj.map(({path:o,listText:r,exact:i})=>e.jsx(Nt,{primary:r,to:Se(o,{itemId:t,shapeId:n,componentId:s}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:i},o))}),lD=t=>e.jsxs(bt,{children:[e.jsx(B,{exact:!0,path:"/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/:bulkyMetadataKey",render:()=>e.jsx(zM,{...t,title:"Bulky Metadata"}),...t}),bj.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))]});class cD extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{componentId:n}=this.props;document.title=`VidiCore Admin | Component | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{itemId:n,shapeId:s,componentId:o}=this.props,r=i=>e.jsx(PM,{onRefresh:this.onRefresh,shapeId:s,itemId:n,componentId:o,...i});return e.jsx(Tt,{shapeId:s,itemId:n,componentId:o,mainComponent:lD,listComponent:aD,defaultOpen:!0,titleComponent:r,setOnRefresh:this.setOnRefresh})}}const dD=I(We)(cD);class uD extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Configuration",this.onRefresh()}onRefresh(){try{$e.getConfiguration().then(n=>this.setState({uriListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job Pools",messageColor:"secondary"})}render(){const{uriListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Configuration",helpTo:"/ref/property.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument"}),n&&e.jsx(Ut,{uriListDocument:n,linkTo:s=>`/configuration/${s}/`,titleCase:!0})]})}}const mD=v(uD);function er(t){const{configurationPropertyDocument:n}=t;return $e.updatePropertiesConfiguration({configurationPropertyDocument:n}).then(()=>({configurationPropertyDocument:n})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function hD(t){const{indexingConfigurationDocument:n}=t;return $e.updateIndexingConfiguration({indexingConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function pD(t){const{jobPoolListDocument:n}=t;return $e.updateJobPoolConfiguration({jobPoolListDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function xD(t){const{ftpPoolConfigurationDocument:n}=t;return $e.updateFtpPoolConfiguration({ftpPoolConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function jD(t){const{metricsConfigurationDocument:n}=t;return $e.updateMetricsConfiguration({metricsConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function fD(t){const{pathAliasConfigurationDocument:n}=t;return $e.updatePathAliasConfiguration({pathAliasConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function gD(t){const{logReportConfigurationDocument:n}=t;return $e.updateLogReportConfiguration({logReportConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function bD(t){const{databasePurgingConfigurationDocument:n}=t;return $e.updateDatabasePurgingConfiguration({databasePurgingConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function CD(t){const{corsConfigurationDocument:n}=t;return $e.updateCorsConfiguration({corsConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function yD(t){const{oAuth2ConfigurationDocument:n}=t;return $e.updateAuthConfiguration({oAuth2ConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function SD(t){const{bulkyMetadataConfigurationDocument:n}=t;return $e.updateBulkyMetadataConfiguration({bulkyMetadataConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function RD(t){const{jobPriorityConfigurationDocument:n}=t;return $e.updateJobPriorityConfiguration({jobPriorityConfigurationDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function TD({value:{metadataInDatabase:t,metadataOnStorage:n,storageStatus:s}={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"metadataInDatabase",value:t,hover:!0}),e.jsx(h,{title:"metadataOnStorage",value:n,hover:!0}),e.jsx(h,{title:"storageStatus",value:s,hover:!0})]})}function ED({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uri",value:t.uri,hover:!0}),e.jsx(h,{title:"Storage Disabled",value:t.storageDisabled,variant:"boolean",hover:!0}),e.jsx(w,{value:t.status,component:TD})]})}function ID({bulkyMetadataConfigurationDocument:t}){return e.jsx(w,{value:t,component:ED})}const ic="file",ac="s3",lc="ftp",cc="sftp",dc="http",uc="https",mc="omms",hc="ds3",pc="azure",xc="gs",jc="vxa",Cj="universal",fc="vidinet",yj=(t="")=>{if(t==="universal:/")return{href:t,protocol:"universal"};let n=!1,s=t;t.startsWith("direct+")&&(n=!0,s=s.replace("direct+",""));const o=/(?:([^:]*):\/\/)?(?:([^:@]*)(?::([^@]*))?@)?(?:([^/:]*)\.(?=[^./:]*\.[^./:]*))?([^./:]*)(?:\.([^/.:]*))?(?::([0-9]*))?(\/[^?#]*(?=.*?\/)\/)?([^?#]*)?(?:\?([^#]*))?(?:#(.*))?/,[r,i,a,l,d,u,p,x,j,g,y,D]=o.exec(s);let se;d===""?se=`${se}.`:d!==void 0&&(se=`${d}.`),u&&(se=`${se||""}${u}`),p===""?se=`${se}.`:p!==void 0&&(se=`${se}.${p}`);let re={};y&&(re=y.split("&").map(Oe=>Oe.split("=")).reduce((Oe,ke)=>({...Oe,[ke[0]]:ke[1]}),{}));const _e=`${j||""}${g&&g!=="/"?g:""}`;return{href:r,protocol:i,username:a,password:l,port:x,path:_e||void 0,file:g,hash:D,host:se,queryParams:re,subdomain:d,domain:u,tld:p,direct:n}},vD=(t={},n=void 0)=>{let s={};n&&(s=yj(n));const{direct:o,protocol:r,username:i,password:a,host:l,port:d,path:u,queryParams:p}={...s,...t};if(r===Cj)return"universal:/";let x="";if(o&&(x="direct+"),r&&(x=`${x}${r}://`),i&&(x=`${x}${i}@`),a&&x.endsWith("@")&&(x=`${x.split("@")[0]}:${a}@`),l&&(x=`${x}${l}`),d&&(x=`${x}:${d}`),u&&(u.startsWith("/")||x.endsWith("/")?x=`${x}${u}`:x=`${x}/${u}`),p){const g=Object.entries(p).filter(y=>y[1]!=="").map(y=>y.join("=")).join("&");g&&(x=`${x}?${g}`)}return x};function Ye({onChange:t,value:n,...s}){return e.jsx(ye,{value:decodeURIComponent(n),onChange:({target:{value:o,...r},...i})=>t({...i,target:{...r,value:encodeURIComponent(o)}}),...s})}class AD extends T.PureComponent{constructor(n){super(n),this.onChange=this.onChange.bind(this)}onChange(n){return(s,o)=>{const{name:r,value:i,onChange:a}=this.props;let l;if(n===r)l={[r]:s.target.value};else{const d=n.split(".").reverse(),u=(j,g)=>({[g]:j});let p={$set:s.target.value};o!==void 0&&(p={$set:o});const x=d.reduce(u,p);l=ze(i,x)}a(l)}}render(){const{children:n,choices:s={},name:o="",value:r={},...i}=this.props,a=r[o],l=a?s[a]:null;return e.jsxs(e.Fragment,{children:[e.jsx(ye,{select:!0,value:a||"",FormHelperTextProps:{focused:!0},onChange:this.onChange(o),fullWidth:!0,children:n}),l&&e.jsx(l,{...i,value:r,onChange:this.onChange})]})}}const Sn=(t,n)=>s=>{if(t==="path"&&!s.target.value.endsWith("/")){const r={target:{value:`${s.target.value}/`}};n(r)}};function FD({value:t={queryParams:{}},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx($n,{checked:t.direct,onChange:n("direct"),value:t.direct.toString()}),label:"Direct"}),e.jsx(ye,{label:"Bucket",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Folder",value:t.path||"/",onChange:n("path"),onBlur:Sn("path",n("path")),fullWidth:!0}),e.jsx(Ye,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"Secret Key",value:t.password||"",onChange:n("password"),fullWidth:!0}),e.jsx(Ye,{label:"Role ARN",value:t.queryParams.roleArn||"",onChange:n("queryParams.roleArn"),fullWidth:!0}),e.jsx(Ye,{label:"Role External ID",value:t.queryParams.roleExternalId||"",onChange:n("queryParams.roleExternalId"),fullWidth:!0}),e.jsx(ye,{label:"Endpoint",value:t.queryParams.endpoint||"",onChange:n("queryParams.endpoint"),fullWidth:!0}),e.jsx(ye,{label:"Region",value:t.queryParams.region||"",onChange:n("queryParams.region"),fullWidth:!0}),e.jsx(ye,{label:"STS Region",value:t.queryParams.stsRegion||"",onChange:n("queryParams.stsRegion"),fullWidth:!0}),e.jsxs(ye,{select:!0,fullWidth:!0,value:t.queryParams.storageClass||"",onChange:n("queryParams.storageClass"),label:"Storage Class",children:[e.jsx(b,{value:""}),e.jsx(b,{value:"standard",children:"Standard"}),e.jsx(b,{value:"infrequent",children:"Infrequent"}),e.jsx(b,{value:"reduced",children:"Reduced"}),e.jsx(b,{value:"onezone-infrequent",children:"Onezone Infrequent"})]}),e.jsx(ye,{label:"SSE Algorithm",value:t.queryParams.sseAlgorithm||"",onChange:n("queryParams.sseAlgorithm"),fullWidth:!0}),e.jsx(ye,{label:"SSE Key ID",value:t.queryParams.sseKeyId||"",onChange:n("queryParams.sseKeyId"),fullWidth:!0}),e.jsx(ye,{label:"Accelerate Transfer",value:t.queryParams.accelerate||"",onChange:n("queryParams.accelerate"),fullWidth:!0}),e.jsx(ye,{label:"Bucket Owner Full Control",value:t.queryParams.bucketOwnerFullControl||"",onChange:n("queryParams.bucketOwnerFullControl"),fullWidth:!0}),e.jsxs(ye,{select:!0,fullWidth:!0,value:t.queryParams.retrievalTier||"",onChange:n("queryParams.retrievalTier"),label:"Retrieval Tier",children:[e.jsx(b,{value:""}),e.jsx(b,{value:"Expedited",children:"Expedited"}),e.jsx(b,{value:"Standard",children:"Standard"}),e.jsx(b,{value:"Bulk",children:"Bulk"})]})]})}function MD({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Bucket",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Folder",value:t.path||"/",onChange:n("path"),fullWidth:!0}),e.jsx(Ye,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"Secret Key",value:t.password||"",onChange:n("password"),fullWidth:!0}),e.jsx(ye,{label:"Endpoint",value:t.queryParams.endpoint||"",onChange:n("queryParams.endpoint"),fullWidth:!0}),e.jsx(ye,{label:"Chunk Ready Timeout",value:t.queryParams.chunkReadyTimeout||"",onChange:n("queryParams.chunkReadyTimeout"),fullWidth:!0}),e.jsxs(ye,{select:!0,fullWidth:!0,value:t.queryParams.checksumType||"",onChange:n("queryParams.checksumType"),label:"Checksum Type",children:[e.jsx(b,{value:""}),e.jsx(b,{value:"md5",children:"md5"}),e.jsx(b,{value:"crc32",children:"crc32"}),e.jsx(b,{value:"crc32c",children:"crc32c"})]})]})}function DD({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Account Name",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Container",value:t.path||"/",onBlur:Sn("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Ye,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0})]})}function PD({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Bucket",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(Ye,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(ye,{label:"Project",value:t.queryParams.project||"",onChange:n("queryParams.project"),fullWidth:!0}),e.jsx(ye,{label:"Account",value:t.queryParams.account||"",onChange:n("queryParams.account"),fullWidth:!0})]})}function OD({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Resource ID",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(Ye,{label:"Access Key",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"Secret Key",value:t.password||"",onChange:n("password"),fullWidth:!0})]})}function LD({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Path",value:t.path||"/",onBlur:Sn("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Ye,{label:"Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]})}function ND({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Path",value:t.path||"/",onBlur:Sn("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Ye,{label:"Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]})}function _D({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Port",value:t.port||"",onChange:n("port"),fullWidth:!0}),e.jsx(ye,{label:"Path",value:t.path||"/",onChange:n("path"),onBlur:Sn("path",n("path")),fullWidth:!0}),e.jsx(Ye,{label:"URL Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"URL Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]})}function $D({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Port",value:t.port||"",onChange:n("port"),fullWidth:!0}),e.jsx(ye,{label:"Path",value:t.path||"/",onBlur:Sn("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Ye,{label:"URL Username",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"URL Password",value:t.password||"",onChange:n("password"),fullWidth:!0})]})}function WD({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Host",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"ClusterID/VaultID",value:t.path||"/",onBlur:Sn("path",n("path")),onChange:n("path"),fullWidth:!0}),e.jsx(Ye,{label:"User ID",value:t.username||"",onChange:n("username"),fullWidth:!0}),e.jsx(Ye,{label:"User Key",value:t.password||"",onChange:n("password"),fullWidth:!0})]})}function kD({value:t={},onChange:n}){return e.jsx(ye,{label:"Path",value:t.path||"/",onChange:n("path"),onBlur:Sn("path",n("path")),fullWidth:!0})}function wD({value:t={},onChange:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ye,{label:"Agent UUID",value:t.host||"",onChange:n("host"),fullWidth:!0}),e.jsx(ye,{label:"Share",value:t.path||"/",onChange:n("path"),onBlur:Sn("path",n("path")),fullWidth:!0})]})}function At(t){const{defaultValue:n,input:{value:s}}=t,o=yj(s||n),r=a=>{var d;const l=vD(a);(d=t==null?void 0:t.input)==null||d.onChange(l)},{path:i}=o;return e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:`${(t==null?void 0:t.label)||"URL"}: ${s||n||""}`}),e.jsxs(AD,{choices:{[ic]:kD,[ac]:FD,[lc]:LD,[cc]:ND,[dc]:_D,[uc]:$D,[mc]:WD,[hc]:MD,[pc]:DD,[xc]:PD,[jc]:wD,[fc]:OD},value:{...o,path:i||"/"},onChange:r,name:"protocol",children:[e.jsx(b,{value:ic,children:"File"}),e.jsx(b,{value:dc,children:"HTTP"}),e.jsx(b,{value:ac,children:"S3"}),e.jsx(b,{value:lc,children:"FTP"}),e.jsx(b,{value:cc,children:"SFTP"}),e.jsx(b,{value:uc,children:"HTTPS"}),e.jsx(b,{value:mc,children:"Matrix Store"}),e.jsx(b,{value:hc,children:"Spectra BlackPearl"}),e.jsx(b,{value:pc,children:"Azure"}),e.jsx(b,{value:xc,children:"Google Storage"}),e.jsx(b,{value:jc,children:"Vidispine Agent"}),e.jsx(b,{value:Cj,children:"Universal"}),e.jsx(b,{value:fc,children:"Vidinet"})]})]})}function UD(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",label:"uri",component:At,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"storageDisabled",component:E}),label:"Storage Disabled"})]})}function VD({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"bulkyMetadataConfigurationDocument",component:UD}),e.jsx("button",{type:"submit",hidden:!0})]})}const GD=F()(VD),qD="EDIT_BULKYMETADATA_FORM";function HD({bulkyMetadataConfigurationDocument:t,openSnackBar:n,onSuccess:s,formName:o=qD}){const r=(a,l,d)=>{n({messageContent:"Bulky Metadata Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating Bulky Metadata Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:SD,displayProps:{bulkyMetadataConfigurationDocument:t},initialValues:{bulkyMetadataConfigurationDocument:t},formComponent:GD,displayComponent:ID})}const BD=H(HD);function zD(t){return e.jsx($,{children:e.jsx(BD,{...t})})}function JD({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r}){const i=()=>{$e.updateBulkyMetadataConfiguration({bulkyMetadataConfigurationDocument:{uri:null}}).then(()=>{s({messageContent:"Bulky Metadata Configuration Removed"}),o&&o(),n()}).catch(()=>{s({messageContent:"Error Removing Bulky Metadata Configuration",messageColor:"secondary"}),r&&r()})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove Bulky Metadata Configuration?"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const KD=v(JD),gc="BULKYMETADATACONFIGURATION_REMOVE_MODAL";class YD extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Bulky Metadata"}onRefresh(){try{$e.getBulkyMetadataConfiguration().then(n=>this.setState({bulkyMetadataConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata Configuration",messageColor:"secondary"})}render(){const{bulkyMetadataConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Bulky Metadata",helpTo:"/ref/property.html#bulky-metadata-storage-configuration",onRefresh:this.onRefresh,code:n,codeModal:"BulkyMetadataConfigurationDocument",removeModal:gc}),n&&e.jsx(zD,{bulkyMetadataConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(KD,{dialogName:gc,onSuccess:this.onRefresh})]})}}const QD=H(YD);function XD({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"method",value:t.method,variant:"list",hover:!0}),e.jsx(h,{title:"origin",value:t.origin,variant:"list",hover:!0}),e.jsx(h,{title:"originRegex",value:t.originRegex,variant:"list",hover:!0}),e.jsx(h,{title:"pathRegex",value:t.pathRegex,variant:"list",hover:!0}),e.jsx(Z,{title:"headerRegex",value:t.headerRegex,component:yn})]})}function ZD({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"allowOrigin",value:t.allowOrigin,hover:!0}),e.jsx(h,{title:"allowMethods",value:t.allowMethods,variant:"list",hover:!0}),e.jsx(h,{title:"allowHeaders",value:t.allowHeaders,variant:"list",hover:!0}),e.jsx(h,{title:"allowMaxAge",value:t.allowMaxAge,hover:!0}),e.jsx(Z,{title:"allowOtherHeader",value:t.allowOtherHeader,component:yn})]})}function eP({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:"request",value:t.request,component:XD}),e.jsx(w,{title:"response",value:t.response,component:ZD})]})}function tP({value:t={}}){return e.jsx(Z,{title:"entry",value:t.entry,component:eP})}function nP({corsConfigurationDocument:t}){return e.jsx(w,{value:t,component:tP})}function sP(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"method",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"origin",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"originRegex",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"pathRegex",component:pe,simple:!0,fullWidth:!0}),e.jsx(k,{name:"headerRegex",label:"headerRegex",component:ne,fullWidth:!0})]})}function oP(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"allowOrigin",component:m,fullWidth:!0}),e.jsx(c,{name:"allowMethods",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"allowHeaders",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"allowMaxAge",component:m,fullWidth:!0}),e.jsx(k,{name:"allowOtherHeader",label:"allowOtherHeader",component:ne,fullWidth:!0})]})}function rP(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"request",label:"request",component:sP}),e.jsx(S,{name:"response",label:"response",component:oP})]})}function iP(){return e.jsx(k,{name:"entry",label:"entry",component:rP})}function aP({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"corsConfigurationDocument",component:iP}),e.jsx("button",{type:"submit",hidden:!0})]})}const lP=F()(aP);function cP({corsConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_CORS_FORM",r=(a,l,d)=>{n({messageContent:"CORS Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating CORS Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:CD,displayProps:{corsConfigurationDocument:t},initialValues:{corsConfigurationDocument:t},formComponent:lP,displayComponent:nP})}const dP=H(cP);function uP(t){return e.jsx($,{children:e.jsx(dP,{...t})})}class mP extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={corsConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | CORS"}onRefresh(){try{$e.getCorsConfiguration().then(n=>this.setState({corsConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Cors Configuration",messageColor:"secondary"})}render(){const{corsConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"CORS",helpTo:"/ref/property.html#cors-configuration",onRefresh:this.onRefresh,code:n,codeModal:"CORSConfigurationDocument"}),n&&e.jsx(uP,{corsConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const hP=H(mP);function pP({value:{age:t,forceAge:n}={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:t,hover:!0}),e.jsx(h,{title:"Force Age",value:n,hover:!0})]})}function xP({value:{age:t,uri:n,compress:s,batch:o,body:r}={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:t,hover:!0}),e.jsx(h,{title:"URI",value:n,hover:!0}),e.jsx(h,{title:"Compress",value:s,variant:"boolean",hover:!0}),e.jsx(h,{title:"Batch",value:o,hover:!0}),e.jsx(h,{title:"Body",value:r,variant:"boolean",hover:!0})]})}function jP({value:{age:t,uri:n,compress:s}={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:t,hover:!0}),e.jsx(h,{title:"URI",value:n,hover:!0}),e.jsx(h,{title:"Compress",value:s,variant:"boolean",hover:!0})]})}function fP({value:{age:t,uri:n,compress:s,batch:o,forceAge:r}={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Age",value:t,hover:!0}),e.jsx(h,{title:"Force Age",value:r,hover:!0}),e.jsx(h,{title:"URI",value:n,hover:!0}),e.jsx(h,{title:"Compress",value:s,variant:"boolean",hover:!0}),e.jsx(h,{title:"batch",value:o,hover:!0})]})}function gP({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Change Log",value:t.changeLog,component:pP}),e.jsx(w,{title:"Audit Trail",value:t.auditTrail,component:xP}),e.jsx(w,{title:"job",value:t.job,component:jP}),e.jsx(w,{title:"Transfer Log",value:t.transferLog,component:fP})]})}function bP({databasePurgingConfigurationDocument:t}){return e.jsx(w,{value:t,component:gP})}const CP=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"forceAge",component:m,type:"number",fullWidth:!0})]}),yP=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"uri",label:"uri",component:At,fullWidth:!0}),e.jsx(R,{label:"Compress",control:e.jsx(c,{name:"compress",component:E})}),e.jsx(c,{name:"batch",component:m,type:"number",fullWidth:!0}),e.jsx(R,{label:"Body",control:e.jsx(c,{name:"body",component:E})})]}),SP=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"uri",label:"uri",component:At,fullWidth:!0}),e.jsx(R,{label:"Compress",control:e.jsx(c,{name:"compress",component:E})})]}),RP=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"age",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"forceAge",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"uri",label:"uri",component:At,fullWidth:!0}),e.jsx(R,{label:"Compress",control:e.jsx(c,{name:"compress",component:E})}),e.jsx(c,{name:"batch",component:m,type:"number",fullWidth:!0})]});function TP(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"changeLog",label:"Change Log",component:CP}),e.jsx(S,{name:"auditTrail",label:"Audit Trail",component:yP}),e.jsx(S,{name:"job",label:"Job",component:SP}),e.jsx(S,{name:"transferLog",label:"Transfer Log",component:RP})]})}function EP({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"databasePurgingConfigurationDocument",component:TP}),e.jsx("button",{type:"submit",hidden:!0})]})}const IP=F()(EP),vP="EDIT_DATABASEPURGING_FORM";function AP({databasePurgingConfigurationDocument:t,openSnackBar:n,onSuccess:s,formName:o=vP}){const r=(a,l,d)=>{n({messageContent:"Database Purging Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating Database Purging Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:bD,displayProps:{databasePurgingConfigurationDocument:t},initialValues:{databasePurgingConfigurationDocument:t},formComponent:IP,displayComponent:bP})}const FP=H(AP);function MP(t){return e.jsx($,{children:e.jsx(FP,{...t})})}function DP({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r}){const i=()=>{$e.updateDatabasePurgingConfiguration({databasePurgingConfigurationDocument:{changeLog:{},auditTrail:{},job:{},transferLog:{}}}).then(()=>{s({messageContent:"Database Purging Configuration Removed"}),o&&o(),n()}).catch(()=>{s({messageContent:"Error Removing Database Purging Configuration",messageColor:"secondary"}),r&&r()})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove Database Purging Configuration?"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const PP=v(DP),bc="DATABASEPURGING_REMOVE_DIALOG";class OP extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={databasePurgingConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Database Purging"}onRefresh(){try{$e.getDatabasePurgingConfiguration().then(n=>this.setState({databasePurgingConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Database Purging Configuration",messageColor:"secondary"})}render(){const{databasePurgingConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Database Purging",helpTo:"/ref/property.html#database-purging-configuration",onRefresh:this.onRefresh,code:n,codeModal:"databasePurgingConfigurationDocument",removeModal:bc}),n&&e.jsx(MP,{databasePurgingConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(PP,{dialogName:bc,onSuccess:this.onRefresh})]})}}const LP=H(OP);function NP({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minSize",value:t.minSize,hover:!0}),e.jsx(h,{title:"maxSize",value:t.maxSize,hover:!0}),e.jsx(h,{title:"evictionInterval",value:t.evictionInterval,hover:!0}),e.jsx(h,{title:"minIdleTime",value:t.minIdleTime,hover:!0})]})}function _P({value:t={}}){return e.jsx(w,{value:t.pool,component:NP,dense:!0})}function $P({ftpPoolConfigurationDocument:t}){return e.jsx(w,{value:t,component:_P})}function WP(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"minSize",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"maxSize",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"evictionInterval",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"minIdleTime",component:m,type:"number",fullWidth:!0})]})}function kP(){return e.jsx(S,{name:"pool",component:WP})}function wP({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"ftpPoolConfigurationDocument",component:kP}),e.jsx("button",{type:"submit",hidden:!0})]})}const UP=F()(wP);function VP({ftpPoolConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_FTPPOOL_FORM",r=(a,l,d)=>{n({messageContent:"FTP Pool Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating FTP Pool Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:xD,displayProps:{ftpPoolConfigurationDocument:t},initialValues:{ftpPoolConfigurationDocument:t},formComponent:UP,displayComponent:$P})}const GP=H(VP);function qP(t){return e.jsx($,{children:e.jsx(GP,{...t})})}function HP({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{$e.removeFtpPoolConfiguration().then(()=>{s({messageContent:"FTP Pool Configuration Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing FTP Pool Configuratio",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove All FTP Pool Configuration"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const BP=v(HP),Cc="FTPPOOL_REMOVE_DIALOG";class zP extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={ftpPoolConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | FTP Pool"}onRefresh(){try{$e.getFtpPoolConfiguration().then(n=>this.setState({ftpPoolConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading FTP Pool Configuration",messageColor:"secondary"})}render(){const{ftpPoolConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"FTP Pool",helpTo:"/ref/property.html#ftp-pool-configuration",onRefresh:this.onRefresh,code:n,codeModal:"FtpPoolConfigurationDocument",removeModal:Cc}),n&&e.jsx(qP,{ftpPoolConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(BP,{dialogName:Cc,onSuccess:this.onRefresh})]})}}const JP=H(zP);function KP({name:t,fullText:n}={}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t,hover:!0}),e.jsx(h,{title:"fullText",value:n,variant:"boolean",hover:!0})]})}function YP({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"solrPath",value:t.solrPath,hover:!0}),e.jsx(h,{title:"solrCollection",value:t.solrCollection,hover:!0}),e.jsx(h,{title:"zookeeperHost",value:t.zookeeperHost,variant:"list",hover:!0}),e.jsx(h,{title:"elasticsearchPath",value:t.elasticsearchPath,hover:!0}),e.jsx(h,{title:"commitInterval",value:t.concurrentJobs,hover:!0}),e.jsx(h,{title:"softCommitInterval",value:t.softCommitInterval,hover:!0}),e.jsx(h,{title:"autoSoftCommit",value:t.autoSoftCommit,variant:"boolean",hover:!0}),e.jsx(h,{title:"pingAttempts",value:t.pingAttempts,hover:!0}),e.jsx(h,{title:"pingTimeout",value:t.pingTimeout,hover:!0}),e.jsx(h,{title:"queryTimeout",value:t.queryTimeout,hover:!0}),e.jsx(Z,{value:t.fieldDefault,component:KP,arrayTitle:"Pools",dense:!0})]})}function QP({indexingConfigurationDocument:t}){return e.jsx(w,{value:t,component:YP})}function XP(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"fullText",component:E}),label:"Full Text"})]})}function ZP(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"solrPath",component:m,fullWidth:!0}),e.jsx(c,{name:"solrCollection",component:m,fullWidth:!0}),e.jsx(c,{name:"zookeeperHost",component:m,fullWidth:!0}),e.jsx(c,{name:"elasticsearchPath",component:m,fullWidth:!0}),e.jsx(c,{name:"commitInterval",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"softCommitInterval",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"autoSoftCommit",component:E}),label:"Auto Soft Commit"}),e.jsx(c,{name:"pingAttempts",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"pingTimeout",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"queryTimeout",component:m,type:"number",fullWidth:!0}),e.jsx(k,{name:"fieldDefault",label:"fieldDefault",component:XP})]})}function eO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"indexingConfigurationDocument",component:ZP}),e.jsx("button",{type:"submit",hidden:!0})]})}const tO=F()(eO);function nO({indexingConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_INDEXING_FORM",r=(a,l,d)=>{n({messageContent:"Indexing Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating Indexing Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:hD,displayProps:{indexingConfigurationDocument:t},initialValues:{indexingConfigurationDocument:t},formComponent:tO,displayComponent:QP})}const sO=H(nO);function oO(t){return e.jsx($,{children:e.jsx(sO,{...t})})}class rO extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={indexingConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Indexing"}onRefresh(){try{$e.getIndexingConfiguration().then(n=>this.setState({indexingConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Indexing Configuration",messageColor:"secondary"})}render(){const{indexingConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Indexing",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#indexing-settings",onRefresh:this.onRefresh,code:n,codeModal:"IndexingConfigurationDocument"}),n&&e.jsx(oO,{indexingConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const iO=H(rO);function aO({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"priorityThreshold",value:t.priorityThreshold,hover:!0}),e.jsx(h,{title:"size",value:t.size,hover:!0})]})}function lO({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"concurrentJobs",value:t.concurrentJobs,hover:!0}),e.jsx(Z,{value:t.pool,component:aO,arrayTitle:"Pools",dense:!0})]})}function cO({jobPoolListDocument:t}){return e.jsx(w,{value:t,component:lO})}function dO(){return e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priorityThreshold",children:"Priority Threshold"}),e.jsx(c,{name:"priorityThreshold",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"size",component:m,type:"number",fullWidth:!0})]})}function uO(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"concurrentJobs",component:m,type:"number",fullWidth:!0}),e.jsx(k,{name:"pool",label:"Pool",component:dO})]})}function mO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"jobPoolListDocument",component:uO}),e.jsx("button",{type:"submit",hidden:!0})]})}const hO=F()(mO);function pO({jobPoolListDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_JOBPOOL_FORM",r=(a,l,d)=>{n({messageContent:"Job Pool Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating Job Pool Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:pD,displayProps:{jobPoolListDocument:t},initialValues:{jobPoolListDocument:t},formComponent:hO,displayComponent:cO})}const xO=H(pO);function jO(t){return e.jsx($,{children:e.jsx(xO,{...t})})}function fO({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{$e.removeAllJobPoolConfiguration().then(()=>{s({messageContent:"Job Pool Configuration Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing Job Pool Configuration",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove All Job Pool Configuration"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const gO=v(fO),yc="JOBPOOL_REMOVE_DIALOG";class bO extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={jobPoolListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Pools"}onRefresh(){try{$e.getJobPoolConfiguration().then(n=>this.setState({jobPoolListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job Pool Configuration",messageColor:"secondary"})}render(){const{jobPoolListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Job Pool",helpTo:"/ref/property.html#job-pool-configuration",onRefresh:this.onRefresh,code:n,codeModal:"JobPoolListDocument",removeModal:yc}),n&&e.jsx(jO,{jobPoolListDocument:n,onSuccess:this.onRefresh}),e.jsx(gO,{dialogName:yc,onSuccess:this.onRefresh})]})}}const CO=H(bO);function yO({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:t==null?void 0:t.type,hover:!0}),e.jsx(h,{title:"Value",value:t==null?void 0:t.value,hover:!0})]})}function SO({value:t={}}){return e.jsx(Z,{title:"Job Type",value:t.job,titleKey:"type",component:yO})}function RO({jobPriorityConfigurationDocument:t}){return e.jsx(w,{value:t,component:SO})}const TO=Qt(nn.listJobType,500,{leading:!0,trailing:!1}),So=async t=>{const{data:n}=await TO(),{uri:s=[]}=n;let o=s;return t&&t!=="*"&&(o=s.filter(i=>i.toLowerCase().includes(t.toLowerCase()))),o.map(i=>({label:i,value:i}))},EO=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"type",label:"Type",component:z,loadOptions:So,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"value",children:"Priority"}),e.jsx(c,{name:"value",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]})]});function IO(){return e.jsx(k,{name:"job",label:"Job Type",component:EO,fullWidth:!0})}function vO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"jobPriorityConfigurationDocument",component:IO}),e.jsx("button",{type:"submit",hidden:!0})]})}const AO=F()(vO),FO="EDIT_JOBPRIORITY_FORM";function MO({jobPriorityConfigurationDocument:t,openSnackBar:n,onSuccess:s,formName:o=FO}){const r=(a,l,d)=>{n({messageContent:"Job Priority Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating Job Priority Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:RD,displayProps:{jobPriorityConfigurationDocument:t},initialValues:{jobPriorityConfigurationDocument:t},formComponent:AO,displayComponent:RO})}const DO=H(MO);function PO(t){return e.jsx($,{children:e.jsx(DO,{...t})})}function OO({open:t,onClose:n,openSnackBar:s,onSuccess:o,onError:r}){const i=()=>{$e.updateJobPriorityConfiguration({jobPriorityConfigurationDocument:{}}).then(()=>{s({messageContent:"Job Priority Configuration Removed"}),o&&o(),n()}).catch(()=>{s({messageContent:"Error Removing Job Priority Configuration",messageColor:"secondary"}),r&&r()})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove Job Priority Configuration?"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const LO=v(OO),Sc="JOBPRIORITY_REMOVE_DIALOG";let NO=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={jobPriorityConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Priority"}onRefresh(){try{$e.getJobPriorityConfiguration().then(n=>this.setState({jobPriorityConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job Priority Configuration",messageColor:"secondary"})}render(){const{jobPriorityConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Job Priority",helpTo:"/ref/property.html#jdefault-job-priority-configuration",onRefresh:this.onRefresh,code:n,codeModal:"JobPriorityConfigurationDocument",removeModal:Sc}),n&&e.jsx(PO,{jobPriorityConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(LO,{dialogName:Sc,onSuccess:this.onRefresh})]})}};const _O=H(NO);function $O({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"path",value:t.path,hover:!0}),e.jsx(h,{title:"expiryTime",value:t.expiryTime,hover:!0}),e.jsx(h,{title:"uploadUri",value:t.uploadUri,hover:!0}),e.jsx(h,{title:"certificate",value:t.certificate,hover:!0}),e.jsx(h,{title:"clientKey",value:t.clientKey,hover:!0}),e.jsx(h,{title:"clientCertificate",value:t.clientCertificate,hover:!0})]})}function WO({logReportConfigurationDocument:t}){return e.jsx(w,{value:t,component:$O})}function kO(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"path",component:m,fullWidth:!0}),e.jsx(c,{name:"expiryTime",component:m,fullWidth:!0}),e.jsx(c,{name:"uploadUri",component:m,fullWidth:!0}),e.jsx(c,{name:"certificate",component:m,fullWidth:!0}),e.jsx(c,{name:"clientKey",component:m,fullWidth:!0}),e.jsx(c,{name:"clientCertificate",component:m,fullWidth:!0})]})}function wO({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"logReportConfigurationDocument",component:kO}),e.jsx("button",{type:"submit",hidden:!0})]})}const UO=F()(wO);function VO({logReportConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_LOGREPORT_FORM",r=(a,l,d)=>{n({messageContent:"LogReport Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating LogReport Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:gD,displayProps:{logReportConfigurationDocument:t},initialValues:{logReportConfigurationDocument:t},formComponent:UO,displayComponent:WO})}const GO=H(VO);function qO(t){return e.jsx($,{children:e.jsx(GO,{...t})})}class HO extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={logReportConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Log Report"}onRefresh(){try{$e.getLogReportConfiguration().then(n=>this.setState({logReportConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Log Report Configuration",messageColor:"secondary"})}render(){const{logReportConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Log Report",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#logreport-settings",onRefresh:this.onRefresh,code:n,codeModal:"LogReportConfigurationDocument"}),n&&e.jsx(qO,{logReportConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const BO=H(HO);function zO({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"host",value:t.host,hover:!0}),e.jsx(h,{title:"port",value:t.port,hover:!0}),e.jsx(h,{title:"prefix",value:t.prefix,hover:!0}),e.jsx(h,{title:"tags",value:t.tags,variant:"boolean",hover:!0}),e.jsx(Yt,{value:t.exclude,title:"Exclude Filter",hover:!0}),e.jsx(Yt,{value:t.include,title:"Include Filter",hover:!0})]})}function JO({value:t={}}){return e.jsx(w,{value:t.statsd,component:zO,dense:!0})}function KO({metricsConfigurationDocument:t}){return e.jsx(w,{value:t,component:JO})}const YO=t=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:t.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}});function QO({fields:t,label:n,classes:s,hover:o=!0,labelStartCase:r=!0,fieldComponent:i,...a}){return e.jsxs("div",{children:[t.map((l,d)=>e.jsxs("div",{className:o?s.onHover:s.noHover,children:[e.jsxs(O,{container:!0,direction:"row-reverse",justifyContent:"space-between",alignItems:"baseline",children:[e.jsx(O,{item:!0,sm:"auto",children:e.jsx(ee,{onClick:()=>t.remove(d),children:e.jsx(jt,{})})}),n&&e.jsx(C,{variant:"subtitle2",children:r?le(`${n} ${d+1}`):`${n} ${d+1}`})]}),e.jsx("div",{className:s.marginLeft,children:e.jsx(L,{name:`${l}`,component:i,...a})})]},l)),e.jsx(Zt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:n?`Add ${n}`:"Add"})]})}function XO({component:t,...n}){const s=xe(YO)(QO);return e.jsx(Rt,{component:s,fieldComponent:t,...n})}const co=fn(XO);function ZO(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"host",component:m,fullWidth:!0}),e.jsx(c,{name:"port",component:m,fullWidth:!0}),e.jsx(c,{name:"prefix",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"tags",component:E}),label:"Tags"}),e.jsx(co,{name:"exclude",label:"Exclude Filter",component:m,fullWidth:!0}),e.jsx(co,{name:"include",label:"Include Filter",component:m,fullWidth:!0})]})}function eL(){return e.jsx(S,{name:"statsd",component:ZO})}function tL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metricsConfigurationDocument",component:eL}),e.jsx("button",{type:"submit",hidden:!0})]})}const nL=F()(tL);function sL({metricsConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_METRICS_FORM",r=(a,l,d)=>{n({messageContent:"Metrics Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating Metrics Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:jD,displayProps:{metricsConfigurationDocument:t},initialValues:{metricsConfigurationDocument:t},formComponent:nL,displayComponent:KO})}const oL=H(sL);function rL(t){return e.jsx($,{children:e.jsx(oL,{...t})})}class iL extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metricsConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Metrics"}onRefresh(){try{$e.getMetricsConfiguration().then(n=>this.setState({metricsConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Metrics Configuration",messageColor:"secondary"})}render(){const{metricsConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Metrics",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#metrics-settings",onRefresh:this.onRefresh,code:n,codeModal:"MetricsConfigurationDocument"}),n&&e.jsx(rL,{metricsConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const aL=H(iL);function lL({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"federationMetadataURI",value:t.federationMetadataURI,hover:!0}),e.jsx(h,{title:"federationMetadataInterval",value:t.federationMetadataInterval,hover:!0}),e.jsx(h,{title:"expectedAudience",value:t.expectedAudience,hover:!0}),e.jsx(h,{title:"validationEndpoint",value:t.validationEndpoint,hover:!0}),e.jsx(h,{title:"tokenUser",value:t.tokenUser,hover:!0}),e.jsx(h,{title:"x509Certificate",value:t.x509Certificate,hover:!0})]})}function cL({oAuth2ConfigurationDocument:t}){return e.jsx(w,{value:t,component:lL})}function dL(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"federationMetadataURI",component:m,fullWidth:!0}),e.jsx(c,{name:"federationMetadataInterval",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"expectedAudience",component:m,fullWidth:!0}),e.jsx(c,{name:"validationEndpoint",component:m,fullWidth:!0}),e.jsx(c,{name:"tokenUser",component:m,fullWidth:!0}),e.jsx(c,{name:"x509Certificate",component:m,fullWidth:!0,multiline:!0})]})}function uL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"oAuth2ConfigurationDocument",component:dL}),e.jsx("button",{type:"submit",hidden:!0})]})}const mL=F()(uL);function hL({oAuth2ConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_AUTH_FORM",r=(a,l,d)=>{n({messageContent:"OAuth2 Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating OAuth2 Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:yD,displayProps:{oAuth2ConfigurationDocument:t},initialValues:{oAuth2ConfigurationDocument:t},formComponent:mL,displayComponent:cL})}const pL=H(hL);function xL(t){return e.jsx($,{children:e.jsx(pL,{...t})})}function jL({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{$e.removeAuthConfiguration().then(()=>{s({messageContent:"OAuth2 Configuration Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing OAuth2 Configuration",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove All OAuth2 Configuration"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const fL=v(jL),Rc="AUTH_REMOVE_DIALOG";class gL extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={oAuth2ConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | OAuth2"}onRefresh(){try{$e.getAuthConfiguration().then(n=>this.setState({oAuth2ConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading OAuth2 Configuration",messageColor:"secondary"})}render(){const{oAuth2ConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"OAuth2",helpTo:"/ref/property.html#oauth2-configuration",onRefresh:this.onRefresh,code:n,codeModal:"OAuth2ConfigurationDocument",removeModal:Rc}),n&&e.jsx(xL,{oAuth2ConfigurationDocument:n,onSuccess:this.onRefresh}),e.jsx(fL,{dialogName:Rc,onSuccess:this.onRefresh})]})}}const bL=H(gL);function CL(){return e.jsx(co,{name:"alias",label:"Alias",component:m,fullWidth:!0})}function yL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"pathAliasConfigurationDocument",component:CL}),e.jsx("button",{type:"submit",hidden:!0})]})}const SL=F()(yL);function RL({pathAlias:t}){return e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:t}),e.jsx(A,{})]})}function TL({pathAliasConfigurationDocument:t}){const{alias:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Alias"}),e.jsx(A,{})]})}),e.jsx(de,{children:n.map(s=>e.jsx(RL,{pathAlias:s},s))})]})}function EL({pathAliasConfigurationDocument:t,openSnackBar:n,onSuccess:s}){const o="EDIT_PATHALIAS_FORM",r=(a,l,d)=>{n({messageContent:"Path Alias Configuration Updated"}),s&&s(a,l,d)},i=()=>{n({messageContent:"Error Updating Path Alias Configuration",messageColor:"secondary"})};return e.jsx(Ge,{formName:o,onSubmitSuccess:r,onSubmitFail:i,onSubmit:fD,displayProps:{pathAliasConfigurationDocument:t},initialValues:{pathAliasConfigurationDocument:t},formComponent:SL,displayComponent:TL})}const IL=H(EL);function vL(t){return e.jsx($,{children:e.jsx(IL,{...t})})}class AL extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={pathAliasConfigurationDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Path Alias",this.onRefresh()}onRefresh(){try{$e.getPathAliasConfiguration().then(n=>this.setState({pathAliasConfigurationDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Path Alias Configuration",messageColor:"secondary"})}render(){const{pathAliasConfigurationDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Path Alias",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#path-alias-configuration",onRefresh:this.onRefresh,code:n,codeModal:"PathAliasConfigurationDocument"}),n&&e.jsx(vL,{pathAliasConfigurationDocument:n,onSuccess:this.onRefresh})]})}}const FL=H(AL);function Tc(t,n){if(!t)return 0;const s=t.toLowerCase(),o=n.toLowerCase();let r=0,i=0,a=0;for(let l=0;l<n.length&&!(i>=t.length);l+=1)o[l]===s[i]?(r+=10,r+=a*5,a+=1,(l===0||[" ","_","-"].includes(n[l-1]))&&(r+=15),n[l]===t[i]&&(r+=2),i+=1):(a=0,r-=1);return i<t.length?0:(r-=n.length-i,Math.max(r,0))}function ML(t,n,s=.5,o=void 0){return n.map(r=>{if(Array.isArray(o)){const a=Math.max(...o.map(l=>Tc(t,r[l])));return{item:r,score:a}}const i=o?r[o]:r;return{item:r,score:Tc(t,i)}}).filter(r=>r.score>s).sort((r,i)=>i.score-r.score).map(r=>r.item)}const DL=150;function Ro({options:t,optionsKey:n,minScore:s=.5,onChange:o,...r}){const[i,a]=T.useState(""),l=Qt(p=>{if(p===""||p===void 0){o(t);return}const x=ML(p,t,s,n);o(x)},DL),d=p=>{var j;a(p.target.value);const x=(j=p==null?void 0:p.target)==null?void 0:j.value;l(x)},u=()=>{a(""),l("")};return e.jsx(ye,{placeholder:"Search",InputProps:{startAdornment:e.jsx(dl,{position:"start",children:e.jsx(tC,{})}),endAdornment:i?e.jsx(dl,{position:"end",children:e.jsx(ee,{onClick:u,onMouseDown:u,children:e.jsx(yp,{})})}):void 0},...r,onChange:d,value:i})}const PL=t=>(n={},s={})=>n[t].localeCompare(s[t],void 0,{sensitivity:"base"});function OL(t){var n;return e.jsx(ce,{...t,className:(n=t==null?void 0:t.classes)==null?void 0:n.root})}const LL=xe({root:{tableLayout:"fixed"}})(OL);function NL(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"key",label:"Key",component:at,fullWidth:!0}),e.jsx(c,{name:"value",label:"Value",component:m,fullWidth:!0,multiline:!0})]})}function _L({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"configurationPropertyDocument",component:NL}),e.jsx("button",{type:"submit",hidden:!0})]})}const Yi=F()(_L);function $L(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"key",label:"Key",component:m,fullWidth:!0}),e.jsx(c,{name:"value",label:"Value",component:dt,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,lint:{esversion:11},highlightLines:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,autoCloseBrackets:!0,foldGutter:!0,autofocus:!0}})]})}function WL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"configurationPropertyDocument",component:$L}),e.jsx("button",{type:"submit",hidden:!0})]})}const kL=F()(WL),Xr="CONFIGURATIONPROPERTIES_FORM",Qi="TEXT_TAB",Ec="JAVASCRIPT_TAB";function wL({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,configurationPropertyDocument:i,tabValue:a,onChangeTab:l}){const d=x=>{const{configurationPropertyDocument:{key:j}}=x,g=`Configuration Property ${j} Updated`;o({messageContent:g}),s&&s(),n()},u=()=>{o({messageContent:"Error Updating Configuration Property",messageColor:"secondary"})};let p=!1;return i&&i.key&&i.key.startsWith("javascript-")&&(p=!0),e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Edit Configuration Property"}),e.jsxs(Ne,{children:[p===!1&&e.jsxs(xa,{value:a,onChange:l,children:[e.jsx(Wn,{label:"Text",value:Qi}),e.jsx(Wn,{label:"Javascript",value:Ec})]}),!p&&a===Qi&&e.jsx(Yi,{form:Xr,onSubmit:er,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,initialValues:{configurationPropertyDocument:i},destroyOnUnmount:!1,enableReinitialize:!0}),(p||a===Ec)&&e.jsx(kL,{form:Xr,onSubmit:er,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,initialValues:i?{configurationPropertyDocument:i}:{configurationPropertyDocument:{key:"javascript-"}},destroyOnUnmount:!1,enableReinitialize:!0})]}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Xr),children:"Save"})]})]})}const Sj=I(v,M,ln(Qi))(wL);function UL({open:t,onClose:n,openSnackBar:s,propertyKey:o,onSuccess:r}){const i=()=>{$e.removePropertiesConfiguration({key:o}).then(()=>{const a=`Configuration Property ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Configuration Property",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Configuration Property "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const VL=v(UL);function GL({configurationPropertyDocument:t={},onRemove:n,onEdit:s}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:t.key}),e.jsx(P,{children:e.jsx(C,{noWrap:!0,children:t.value})}),e.jsx(P,{children:t.lastChange?qe(t.lastChange).fromNow().toString():""}),e.jsxs(P,{disableOnClick:!0,children:[e.jsx(ee,{onClick:()=>n({propertyKey:t.key}),children:e.jsx(et,{})}),e.jsx(ee,{onClick:()=>s({configurationPropertyDocument:t}),children:e.jsx(dr,{})})]})]})}const Ic="REMOVE_CONFIGURATIONPROPERTIES_DIALOG",vc="CONFIGURATIONPROPERTIES_EDIT_MODAL";function qL({configurationPropertyListDocument:t=[],onRefresh:n,dialogProps:s,onOpen:o}){const{property:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(LL,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Key"}),e.jsx(P,{children:"Value"}),e.jsx(P,{children:"Last Changed"}),e.jsx(P,{})]})}),e.jsx(de,{children:r.sort(PL("key")).map(i=>e.jsx(GL,{configurationPropertyDocument:i,onRemove:o(Ic),onEdit:o(vc)},i.key))})]}),e.jsx(VL,{...s,dialogName:Ic,onSuccess:n}),e.jsx(Sj,{...s,dialogName:vc,onSuccess:n})]})}const HL=Ze(qL);function BL({configurationPropertyListDocument:t,...n}){const s=(t==null?void 0:t.property)||[],[o,r]=T.useState(s),i={...t,property:o};return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(Ro,{variant:"outlined",fullWidth:!0,options:s,onChange:r,optionsKey:"key",minScore:.5}),e.jsx(HL,{configurationPropertyListDocument:i,...n})]})})}const Ac="CONFIGURATIONPROPERTIES_CREATE_MODAL";class zL extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={configurationPropertyListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Configuration Properties",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{$e.getPropertiesConfiguration().then(s=>this.setState({configurationPropertyListDocument:s.data}))}catch{n({messageContent:"Error Getting Configuration Properties",messageColor:"secondary"})}}render(){const{configurationPropertyListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Properties",helpTo:"/ref/property.html#configuration-properties",createModal:Ac,onRefresh:this.onRefresh,code:n,codeModal:"ConfigurationPropertyListDocument"}),n&&e.jsx(BL,{configurationPropertyListDocument:n,onRefresh:this.onRefresh}),e.jsx(Sj,{dialogName:Ac,onSuccess:this.onRefresh})]})}}const JL=H(zL),Zr=async t=>{try{const{conformRequestDocument:n,queryParams:s}=t,{data:o}=await nC.createConform({conformRequestDocument:n,queryParams:s});return{jobDocument:o}}catch(n){let s=n.message;throw n.response&&(s=JSON.stringify(n.response.data,(o,r)=>r===null?void 0:r)),new q({_error:s})}};function ei(t,n){const{openSnackBar:s}=yr;n(s({messageContent:"Error Creating Conform Job",messageColor:"secondary"}))}function KL(t,n){const{jobDocument:s}=t,{jobId:o}=s,{openSnackBar:r}=yr,i=`Job ${o} Created`;n(r({messageContent:i}))}function YL({label:t}){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"numerator",component:m,label:t?`${t} Numerator`:"Numerator",type:"number"}),e.jsx(L,{name:"denominator",component:m,label:t?`${t} Denominator`:"Denominator",type:"number"})]})}function Fc({label:t}){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"samples",component:m,label:t?`${t} Sample`:"Sample",type:"number"}),e.jsx(ae,{name:"timeBase",component:YL,label:t})]})}function QL({fields:t,maxFields:n=1/0,minFields:s=0,label:o}){const r=()=>t.push({});return e.jsxs(e.Fragment,{children:[t.map((i,a)=>e.jsx($,{children:e.jsxs(V,{children:[e.jsxs(O,{container:!0,direction:"row",justifyContent:"space-between",children:[e.jsx(O,{item:!0,sm:2,children:o&&e.jsxs(J,{shrink:!0,children:[o," ",a+1]})}),e.jsx(O,{item:!0,sm:2,children:s<t.length&&e.jsx(f,{size:"small",color:"secondary",onClick:()=>t.remove(a),children:"Remove Segment"})})]}),e.jsx(O,{container:!0,direction:"row",alignItems:"flex-end",spacing:16,children:e.jsxs(O,{item:!0,sm:8,children:[e.jsx(L,{name:`${i}.source.id`,component:m,label:"Source ID",fullWidth:!0}),e.jsx(O,{container:!0,direction:"row",justifyContent:"space-between",children:e.jsx(ae,{name:`${i}.source.interval.start`,component:Fc,label:"Start"})}),e.jsx(O,{container:!0,direction:"row",justifyContent:"space-between",children:e.jsx(ae,{name:`${i}.source.interval.end`,component:Fc,label:"End"})})]})},i)]})},i)),n>t.length&&e.jsx(O,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:e.jsx(Zt,{onClick:r,color:"primary",children:"Add Segment"})})]})}function XL({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(Rt,{name:"conformRequestDocument.conform.timeline.segment",component:QL,label:"Segment"}),e.jsx("button",{type:"submit",hidden:!0})]})}const ZL=F()(XL);function eN({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"conformRequestDocument.metadata",component:Is}),e.jsx("button",{type:"submit",hidden:!0})]})}const tN=F()(eN);function nN({handleSubmit:t}){return e.jsxs("form",{onSubmit:t,children:[e.jsx(L,{name:"queryParams.destinationItem",label:"Destination Item ID",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(L,{name:"queryParams.priority",component:K,children:[e.jsx(b,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(b,{value:"HIGH",children:"HIGH"}),e.jsx(b,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(b,{value:"LOW",children:"LOW"}),e.jsx(b,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(L,{name:"queryParams.tag",label:"Shape Tag",component:pe,simple:!0,fullWidth:!0}),e.jsx(R,{control:e.jsx(L,{name:"queryParams.conformMetadata",component:E}),label:"Conform Metadata"}),e.jsx(R,{control:e.jsx(L,{name:"queryParams.createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(R,{control:e.jsx(L,{name:"queryParams.createPosters",component:E}),label:"Create Posters"}),e.jsx(L,{name:"queryParams.thumbnailService",label:"Thumbnail Storage ID",component:m,fullWidth:!0}),e.jsx(L,{name:"queryParams.original",label:"Reset Original Tag",component:m,fullWidth:!0}),e.jsx(L,{name:"queryParams.resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(L,{name:"queryParams.sourceTag",label:"Source Tags",component:pe,simple:!0,fullWidth:!0}),e.jsx(L,{name:"queryParams.notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(k,{name:"queryParams.notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(Rt,{name:"queryParams.jobmetadata",label:"Job Metadata",component:Rr,buttonLabel:"Add Job Metadata"}),e.jsx("button",{type:"submit",hidden:!0})]})}const sN=F()(nN),rs="EDIT_CONFORM_FORM";function oN({submitForm:t,history:n}){const s=(r,i,a)=>{KL(r,i);const{jobDocument:l}=r,{jobId:d}=l;n&&n.push(`/job/${d}`)},o={tag:["original"]};return e.jsxs(e.Fragment,{children:[e.jsxs(O,{container:!0,justifyContent:"space-between",children:[e.jsx(C,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Timeline"}),e.jsx(f,{color:"primary",onClick:()=>t(rs),children:"Start Conform"})]}),e.jsx(ZL,{form:rs,onSubmit:Zr,onSubmitSuccess:s,onSubmitFail:ei}),e.jsx(C,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Settings"}),e.jsx($,{children:e.jsx(V,{children:e.jsx(sN,{form:rs,onSubmit:Zr,onSubmitSuccess:s,onSubmitFail:ei,initialValues:{queryParams:o}})})}),e.jsx(C,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Metadata"}),e.jsx(tN,{form:rs,onSubmit:Zr,onSubmitSuccess:s,onSubmitFail:ei})]})}const rN=t=>({submitting:Sp(rs)(t)}),iN={submitForm:xt},aN=Ce(rN,iN)(oN),Mc="CONFORM_CODE_MODAL";class lN extends T.PureComponent{render(){const{modalName:n,closeModal:s,openModal:o,conformRequestDocument:r={},history:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{openCode:()=>o({modalName:Mc}),title:"Conform"}),e.jsx(aN,{history:i}),e.jsx(ut,{isOpen:n===Mc,toggleDialogue:s,code:r,title:"ConformRequestDocument"})]})}}function cN(t){const{ui:{modalName:n}}=t;return{modalName:n,conformRequestDocument:ja(rs)(t)}}const dN={openSnackBar:Le,closeModal:st,openModal:ot},uN=Ce(cN,dN)(lN);function mN({value:t={},showMetadataType:n=!1}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Lock ID",value:t.id}),e.jsx(h,{title:"User",value:t.user,variant:"username"}),e.jsx(h,{title:"Expiry Time",value:t.expiryTime,variant:"timestring"}),e.jsx(h,{title:"Modified",value:t.modified,variant:"timestring"}),e.jsx(h,{title:"Entity Type",value:t.entityType,to:t.entityType?`/${t.entityType.toLowerCase()}/`:void 0,variant:"link"}),e.jsx(h,{title:"Entity ID",value:t.entityId,to:t.entityId?`/${t.entityType.toLowerCase()}/${t.entityId}/`:void 0,variant:"link"}),e.jsx(h,{title:"Effective",value:t.isEffective,variant:"boolean"}),e.jsx(h,{title:"Inherited",value:t.isInherited,variant:"boolean"}),e.jsx(h,{title:"Expired",value:t.isExpired,variant:"boolean"}),n&&e.jsx(w,{value:t.metadata,component:As})]})}function hN({deletionLockDocument:t,showMetadataType:n}){return e.jsx(w,{value:t,component:mN,showMetadataType:n})}function pN({deletionLockDocument:t,lockId:n,openSnackBar:s,onRefresh:o}){const r="EDIT_DELETIONLOCK_FORM",i=()=>{s({messageContent:"Deletion Lock Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Deletion Lock",messageColor:"secondary"})};return e.jsx(Ge,{formComponent:qx,displayComponent:hN,formName:r,onSubmitSuccess:i,onSubmitFail:a,onSubmit:$v,formProps:{lockId:n},displayProps:{deletionLockDocument:t},initialValues:{deletionLockDocument:t}})}const xN={openSnackBar:Le},jN=Ce(null,xN)(pN);function fN(t){return e.jsx($,{children:e.jsx(jN,{...t})})}function gN({open:t,onClose:n,openSnackBar:s,lockId:o,onSuccess:r}){const i=()=>{Cs.removeDeletionLock({lockId:o}).then(()=>{const a=`Deletion Lock ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Deletion Lock",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Deletion Lock "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const bN=v(gN);function CN({lockId:t,...n}){return e.jsx(Y,{helpTo:"/ref/deletion-lock.html",title:t,parentTitle:"Deletion Lock",parentTo:"/deletion-lock/",...n})}const yN=t=>({root:{padding:t.spacing(2),"&:last-child":{paddingBottom:t.spacing(3)}}});function SN({classes:t,...n}){return e.jsx($,{classes:t,children:e.jsx(zn,{...n})})}const Jn=xe(yN)(SN),Dc="DELETIONLOCK_REMOVE_DIALOG";class RN extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.state={deletionLockDocument:void 0}}componentDidMount(){this.onRefresh();const{lockId:n}=this.props;document.title=`VidiCore Admin | Deletion Lock | ${n}`}onRefresh(){const{lockId:n}=this.props;this.onFetch(n)}onFetch(n){try{Cs.getDeletionLock({lockId:n}).then(({data:s})=>this.setState({deletionLockDocument:s})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Deletion Lock",messageColor:"secondary"})}render(){const{deletionLockDocument:n}=this.state,{lockId:s,history:o,entityId:r,entityType:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(CN,{onRefresh:this.onRefresh,code:n,codeModal:"DeletionLockDocument",lockId:s,removeModal:Dc}),n&&e.jsxs(e.Fragment,{children:[e.jsx(fN,{deletionLockDocument:n,lockId:s,onRefresh:this.onRefresh,entityId:r,entityType:i}),e.jsx(Jn,{simpleMetadataDocument:n.metadata,onSuccess:this.onRefresh,entityType:"deletion-lock",entityId:s})]}),e.jsx(bN,{dialogName:Dc,lockId:s,onSuccess:()=>o.push("/deletion-lock/")})]})}}const TN=v(RN);function Rj(t,n,s){const{metadataDocument:o={},queryParams:r}=t,i=s.documentMetadataName||t.documentMetadataName;return po.updateDocumentMetadata({documentMetadataName:i,metadataDocument:o,queryParams:r}).then(a=>({documentMetadataName:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function EN(t,n,s){const{queryParams:o}=t,r=s.documentMetadataName||t.documentMetadataName;return po.getDocumentMetadata({documentMetadataName:r,queryParams:o}).then(i=>({documentMetadataName:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}const IN=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"revision",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"skipForbidden",component:E}),label:"Skip Forbidden"})]});function vN({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"documentMetadataName",label:"documentName",component:at,fullWidth:!0}),e.jsx(S,{name:"metadataDocument",label:"metadataDocument",component:Is}),e.jsx(S,{name:"queryParams",label:"queryParams",component:IN}),e.jsx("button",{type:"submit",hidden:!0})]})}const Tj=F()(vN);function AN({metadataDocument:t,documentMetadataName:n,openSnackBar:s,onSuccess:o,onFail:r}){const i="EDIT_DOCUMENTMETADATA_FORM",a=(d,u,p)=>{s({messageContent:"Document Updated"}),o&&o(d,u,p)},l=(d,u,p)=>{s({messageContent:"Error Updating Document",messageColor:"secondary"}),r&&r(d,u,p)};return e.jsx(Ge,{formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:Rj,displayProps:{metadataDocument:t},initialValues:{metadataDocument:t,documentMetadataName:n},formComponent:Tj,displayComponent:Sr})}const FN=H(AN);function MN({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(FN,{...t})})})}const DN=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"interval",component:m,fullWidth:!0}),e.jsx(c,{name:"field",component:m,fullWidth:!0}),e.jsx(c,{name:"group",component:m,fullWidth:!0}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"language",component:m,fullWidth:!0}),e.jsx(c,{name:"samplerate",component:m,fullWidth:!0}),e.jsx(c,{name:"include",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(R,{control:e.jsx(c,{name:"defaultValue",component:E}),label:"Default Value"})]});function PN({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:DN})]})}const ON=F()(PN),ti="DISPLAY_DOCUMENT_FORM";function LN({onSuccess:t,onFail:n,openSnackBar:s,submitForm:o,resetForm:r,documentMetadataName:i}){const a=(d,u,p)=>{s({messageContent:"Display Updated"}),t&&t(d,u,p)},l=(d,u,p)=>{s({messageContent:"Error Updating Display",messageColor:"secondary"}),n&&n(d,u,p)};return e.jsxs(fe,{children:[e.jsx(ge,{children:"Display Options"}),e.jsx(Ie,{children:e.jsx(ON,{form:ti,onSubmit:EN,onSubmitSuccess:a,onSubmitFail:l,documentMetadataName:i})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(ti),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(ti),children:"Update"})]})]})}const NN=I(H,M)(LN);function _N({open:t,onClose:n,openSnackBar:s,documentMetadataName:o,onSuccess:r,onFail:i}){const a=()=>{po.removeDocumentMetadata({documentMetadataName:o}).then(()=>{s({messageContent:"Document Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Document",messageColor:"secondary"}),i&&i()})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Document ${o}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const $N=v(_N),Pc="DOCUMENT_REMOVE_DIALOG";class WN extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataDocument:void 0}}componentDidMount(){const{documentMetadataName:n}=this.props;document.title=`VidiCore Admin | Document | ${n}`,this.onRefresh()}onRefresh(){const{documentMetadataName:n}=this.props;try{po.getDocumentMetadata({documentMetadataName:n}).then(s=>this.setState({metadataDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Document",messageColor:"secondary"})}render(){const{documentMetadataName:n,history:s}=this.props,{metadataDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Document",parentTo:"/document/",title:n,code:o,codeModal:"MetadataDocument",onRefresh:this.onRefresh,removeModal:Pc}),e.jsx(NN,{documentMetadataName:n,onSuccess:r=>this.setState({metadataDocument:r.data})}),n&&e.jsx(MN,{metadataDocument:o,documentMetadataName:n,onSuccess:this.onRefresh}),e.jsx($N,{documentMetadataName:n,onSuccess:()=>s.push("/document/"),dialogName:Pc})]})}}const kN=H(WN),Oc="EDIT_DOCUMENT_FORM";function wN({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i}){const a=(d,u,p)=>{r({messageContent:"Document Created"}),s&&s(d,u,p),n()},l=(d,u,p)=>{r({messageContent:"Error Creating Document",messageColor:"secondary"}),o&&o(d,u,p)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Document"}),e.jsx(Ne,{children:e.jsx(Tj,{form:Oc,onSubmit:Rj,onSubmitSuccess:a,onSubmitFail:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Oc),children:"Save"})]})]})}const UN=I(v,M)(wN);function VN({documentMetadata:t}){return e.jsxs(Be,{hover:!0,to:`/document/${t.name}/`,children:[e.jsx(A,{children:t.name}),e.jsx(A,{})]})}function GN({documentListDocument:t={},page:n=0,rowsPerPage:s=10,onChangePage:o,onChangeRowsPerPage:r}){const{document:i=[],hits:a=0}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Name"}),e.jsx(A,{})]})}),e.jsx(de,{children:i.map(l=>e.jsx(VN,{documentMetadata:l},l.name))}),e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:a,page:n,rowsPerPage:s,colSpan:10,onPageChange:o,onRowsPerPageChange:r,ActionsComponent:Lt,rowsPerPageOptions:[100,500,1e3]})})})]})}function qN({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(GN,{...t})})})}const Lc="DOCUMENT_CREATE_DIALOG";class HN extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.state={documentListDocument:void 0,first:1,rowsPerPage:100,page:0}}componentDidMount(){document.title="VidiCore Admin | Document",this.onRefresh()}onRefresh(){const{first:n,rowsPerPage:s}=this.state;this.onFetch(n,s)}onFetch(n,s){const o={first:n,number:s};try{po.listDocumentMetadata({queryParams:o}).then(r=>this.setState({documentListDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Document List",messageColor:"secondary"})}onChangeRowsPerPage({target:{value:n}}={}){this.setState({first:1,rowsPerPage:n}),this.onFetch(1,n)}onChangePage({page:n}){const{rowsPerPage:s}=this.state,o=n*s+1;this.setState({page:n,first:o}),this.onFetch(o,s)}render(){const{page:n,rowsPerPage:s,documentListDocument:o}=this.state,{history:r}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Document",code:o,codeModal:"DocumentListDocument",onRefresh:this.onRefresh,createModal:Lc}),e.jsx(qN,{documentListDocument:o,page:n,rowsPerPage:s,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangePage:this.onChangePage}),e.jsx(UN,{dialogName:Lc,onSuccess:i=>r.push(`/document/${i.documentMetadataName}`)})]})}}const BN=H(HN);function zN(t){const{xmlDocument:n}=t;return ur.echo({xmlDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}const JN={};function KN({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"xmlDocument",component:dt,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],autofocus:!0,extraKeys:{"Cmd-Enter":()=>n(),"Ctrl-Enter":()=>n()}}})]})}const YN=F()(xe(JN)(KN)),Nc="ECHO_FORM",QN=`<ItemSearchDocument xmlns="http://xml.vidispine.com/schema/vidispine">
  <field>
    <name>title</name>
    <value>example.mp4</value>
  </field>
</ItemSearchDocument>`,XN=t=>({SplitterContainer:{height:"80vh"},SquareCard:{height:"100%"},CardContent:{height:"100%"},EchoForm:{height:"100%",overflow:"auto"},ResultContainer:{height:"100%",overflow:"auto"},ResultTypography:{minHeight:32},CodeMirror:{"& .CodeMirror-gutters":{backgroundColor:({error:n})=>n!==void 0?Sa.A700:"unset",text:({error:n})=>n!==void 0?t.palette.common.white:"unset"}}});function ZN({classes:t,submitForm:n,openSnackBar:s,onSuccess:o,onFail:r,result:i,error:a}){var x;const l=hr(),d=((x=l==null?void 0:l.palette)==null?void 0:x.type)==="light"?us.Light:us.Dark,u=(j,g,y)=>{s({messageContent:"Convert Success"}),o&&o(j,g,y)},p=(j,g,y,D)=>{s({messageContent:"Error Converting XML",messageColor:"secondary"}),r&&r(j,g,y,D)};return e.jsxs(e.Fragment,{children:[e.jsx(je,{title:"XML Echo",action:e.jsx(f,{variant:"outlined",color:"primary",onClick:()=>n(Nc),startIcon:e.jsx(Tp,{}),children:"Convert (ctrl-enter)"})}),e.jsx("div",{className:t.SplitterContainer,children:e.jsxs(Ca,{direction:ya.Horizontal,gutterTheme:d,children:[e.jsx($,{className:t.SquareCard,children:e.jsxs(V,{className:t.CardContent,children:[e.jsx(C,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:"Input XML"}),e.jsx(YN,{form:Nc,onSubmit:zN,onSubmitSuccess:u,onSubmitFail:p,className:t.EchoForm,initialValues:{xmlDocument:QN}})]})}),e.jsx($,{className:t.SquareCard,children:e.jsx(V,{className:t.CardContent,children:e.jsxs("div",{className:t.ResultContainer,children:[e.jsx(C,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:a===void 0?"Converted JSON":"Error"}),i!==void 0||a!==void 0?e.jsx(Es,{value:ms(i)||ms(a)||"",className:t.CodeMirror,options:{readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}):null]})})})]})})]})}const e_=I(H,M)(xe(XN)(ZN));class t_ extends T.PureComponent{constructor(n){super(n),this.onSuccess=this.onSuccess.bind(this),this.onFail=this.onFail.bind(this),document.title="VidiCore Admin | XML Echo",this.state={result:void 0,error:void 0}}onSuccess(n){this.setState({result:JSON.stringify(n.data,null,2),error:void 0})}onFail(n){const s=n==null?void 0:n._error;this.setState({result:void 0,error:s})}render(){const{result:n,error:s}=this.state;return e.jsx(e_,{result:n,error:s,onSuccess:this.onSuccess,onFail:this.onFail})}}const n_=Ce()(t_);function s_({errorLogDocument:t={}}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:t.timestamp?qe(t.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(P,{children:t.id}),e.jsx(P,{children:t.type}),e.jsx(P,{children:t.entityType}),e.jsx(P,{children:t.entityId}),e.jsx(P,{children:t.description})]})}function o_({errorLogListDocument:t={}}){const{errorLog:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Timestamp"}),e.jsx(P,{children:"ID"}),e.jsx(P,{children:"Type"}),e.jsx(P,{children:"Entity Type"}),e.jsx(P,{children:"Entity ID"}),e.jsx(P,{children:"Description"})]})}),e.jsx(de,{children:n.map(s=>e.jsx(s_,{errorLogDocument:s},s.id))})]})}function r_({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(o_,{...t})})})}function i_(t){return e.jsx(Y,{title:"Error Log",helpTo:"/ref/xml-schema.html?#schema-element-ErrorLogListDocument",...t})}class a_ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={errorLogListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Error Log",this.onRefresh()}onRefresh(){try{sC.listErrorLogs().then(n=>this.setState({errorLogListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Error Logs",messageColor:"secondary"})}render(){const{errorLogListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(i_,{code:n,codeModal:"ErrorLogListDocument",onRefresh:this.onRefresh}),n&&e.jsx(r_,{errorLogListDocument:n})]})}}const l_=H(a_);function Ej(t,n,s){const{exportLocationDocument:o}=t,r=s.locationName||o.name;return ho.updateExportLocation({locationName:r,exportLocationDocument:o}).then(i=>({exportLocationDocument:i.data,locationName:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function c_({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"uriList",value:t.uriList,variant:"list",hover:!0}),e.jsx(h,{title:"projection",value:t.projection,hover:!0}),e.jsx(h,{title:"tag",value:t.tag,variant:"list",hover:!0}),e.jsx(h,{title:"Script",value:t.script,variant:"code"})]})}function d_({exportLocationDocument:t}){return e.jsx(w,{component:c_,value:t})}function u_(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"name",component:at,fullWidth:!0}),e.jsx(co,{name:"uriList",label:"URI",component:At}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"script",label:"Script",component:dt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})]})}function m_({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"exportLocationDocument",component:u_}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ij=F()(m_);function h_({exportLocationDocument:t,locationName:n,openSnackBar:s,onRefresh:o}){const r="EDIT_EXPORTLOCATION_FORM",i=()=>{s({messageContent:"Export Location Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Export Location",messageColor:"secondary"})},l={locationName:n},d={exportLocationDocument:t},u={exportLocationDocument:t};return e.jsx(Ge,{formName:r,onSubmitSuccess:i,onSubmitFail:a,onSubmit:Ej,formProps:l,displayProps:d,initialValues:u,displayComponent:d_,formComponent:Ij})}const p_=v(h_);function x_(t){return e.jsx($,{children:e.jsx(p_,{...t})})}function j_({open:t,onClose:n,history:s,openSnackBar:o,locationName:r,onSuccess:i}){const a=()=>{ho.removeExportLocation({locationName:r}).then(()=>{const l=`Export Location ${r} Removed`;o({messageContent:l}),s.push("/export-location/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Export Location",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Export Location "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const f_=v(j_);function g_(t){return e.jsx(Y,{parentTitle:"Export Location",parentTo:"/export-location/",title:t==null?void 0:t.locationName,helpTo:"/ref/export-location.html",...t})}const _c="EXPORTLOCATION_REMOVE_MODAL";class b_ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={exportLocationDocument:void 0}}componentDidMount(){const{locationName:n}=this.props;document.title=`VidiCore Admin | Export Location | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,locationName:s}=this.props;try{ho.getExportLocation({locationName:s}).then(o=>this.setState({exportLocationDocument:ze(o.data,{$unset:["uri"]})}))}catch{n({messageContent:"Error Getting Export Location",messageColor:"secondary"})}}render(){const{locationName:n}=this.props,{exportLocationDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(g_,{removeModal:_c,onRefresh:this.onRefresh,locationName:n,code:s,codeModal:"ExportLocationDocument"}),s&&e.jsx(x_,{exportLocationDocument:s,onRefresh:this.onRefresh}),e.jsx(f_,{dialogName:_c,locationName:n})]})}}const C_=H(b_);function y_({open:t,onClose:n,openSnackBar:s,history:o}){const r=a=>{const{locationName:l}=a,d=`Export Location ${l} Created`;s({messageContent:d}),o.push(`/export-location/${l}/`),n()},i=()=>{s({messageContent:"Error Creating Export Location",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Export Location"}),e.jsx(Ne,{children:e.jsx(rt,{FormComponent:Ij,documentName:"exportLocationDocument",onSubmit:Ej,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const S_=v(y_);function R_({exportLocationDocument:t={}}){return e.jsx(Be,{to:`/export-location/${t.name}/`,hover:!0,children:e.jsx(P,{children:t.name})})}function T_({exportLocationListDocument:t=[]}){const{exportLocation:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsx(Te,{children:e.jsx(P,{children:"Name"})})}),e.jsx(de,{children:n.map(s=>e.jsx(R_,{exportLocationDocument:s},s.name))})]})}function E_({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(T_,{...t})})})}function I_(t){return e.jsx(Y,{title:"Export Location",helpTo:"/ref/export-location.html",...t})}const $c="EXPORTLOCATION_CREATE_MODAL";class v_ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={exportLocationListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Export Location"}onRefresh(){const{openSnackBar:n}=this.props;try{ho.listExportLocation().then(s=>this.setState({exportLocationListDocument:s.data}))}catch{n({messageContent:"Error Loading Export Location List",messageColor:"secondary"})}}render(){const{exportLocationListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(I_,{createModal:$c,onRefresh:this.onRefresh,code:n,codeModal:"ExportLocationListDocument"}),n&&e.jsx(E_,{exportLocationListDocument:n,onRefresh:this.onRefresh}),e.jsx(S_,{dialogName:$c})]})}}const A_=H(v_);function F_(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",component:at,fullWidth:!0}),e.jsx(c,{name:"pattern",component:m,fullWidth:!0}),e.jsx(c,{name:"priority",component:m,type:"number",fullWidth:!0})]})}function M_({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"externalIdentifierNamespaceDocument",component:F_}),e.jsx("button",{type:"submit",hidden:!0})]})}const vj=F()(M_),Wc="EXTERNALID_NAMESPACE_FORM";function D_({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,externalIdentifierNamespaceDocument:i}){if(i===void 0)return null;const{name:a}=i,l=(u,p,x)=>{o({messageContent:"External ID Namespace Updated"}),n(),s&&s(u,p,x)},d=()=>{o({messageContent:"Error Updating External ID Namespace",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Edit External ID Namespace ${a}`}),e.jsx(X,{children:e.jsx(vj,{form:Wc,onSubmit:Hx,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,initialValues:{externalIdentifierNamespaceDocument:i},idName:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Wc),children:"Save"})]})]})}const P_=I(v,M)(D_);function O_({open:t,onClose:n,openSnackBar:s,externalIdentifierNamespaceDocument:o,onSuccess:r}){if(o===void 0)return null;const{name:i}=o,a=()=>{Gn.removeExternalIdNamespace({idName:i}).then(()=>{const l=`External ID Namespace ${i} Removed`;s({messageContent:l}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing External ID Namespace",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove External ID Namespace "${i}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const L_=v(O_);function N_({externalIdentifierNamespaceDocument:t={},onEdit:n,onRemove:s}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:t.name}),e.jsx(P,{children:t.pattern}),e.jsx(P,{children:t.priority}),e.jsxs(P,{disableOnClick:!0,children:[e.jsx(ee,{onClick:()=>s({externalIdentifierNamespaceDocument:t}),children:e.jsx(et,{})}),e.jsx(ee,{onClick:()=>n({externalIdentifierNamespaceDocument:t}),children:e.jsx(dr,{})})]})]})}const kc="EXTERNALID_NAMESPACE_REMOVE_DIALOG",wc="EXTERNALID_NAMESPACE_EDIT_DIALOG";function __({externalIdentifierNamespaceListDocument:t,onRefresh:n,dialogProps:s,onOpen:o}){const{namespace:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Pattern"}),e.jsx(P,{children:"Priority"}),e.jsx(P,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(N_,{externalIdentifierNamespaceDocument:i,onRemove:o(kc),onEdit:o(wc)},i.name))})]}),e.jsx(P_,{...s,dialogName:wc,onSuccess:n}),e.jsx(L_,{...s,dialogName:kc,onSuccess:n})]})}const $_=Ze(__);function W_({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx($_,{...t})})})}function k_(t){return e.jsx(Y,{title:"External ID Namespace",helpTo:"/ref/external-id.html",...t})}function w_({open:t,onClose:n,onSuccess:s,openSnackBar:o}){const r=(a,l,d)=>{o({messageContent:"External ID Namespace Created"}),n(),s&&s(a,l,d)},i=()=>{o({messageContent:"Error Creating External ID Namespace",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New External ID Namespace"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:vj,documentName:"externalIdentifierNamespaceDocument",onSubmit:Hx,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const U_=v(w_),Uc="EXTERNALID_NAMESPACE_CREATE_MODAL";class V_ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={externalIdentifierNamespaceListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | External ID Namespace"}onRefresh(){try{Gn.listExternalIdNamespace().then(n=>this.setState({externalIdentifierNamespaceListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading External ID Namespace List",messageColor:"secondary"})}render(){const{externalIdentifierNamespaceListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(k_,{createModal:Uc,onRefresh:this.onRefresh,code:n,codeModal:"ExternalIdentifierNamespaceListDocument"}),n&&e.jsx(W_,{externalIdentifierNamespaceListDocument:n,onRefresh:this.onRefresh}),e.jsx(U_,{dialogName:Uc,onSuccess:this.onRefresh})]})}}const G_=H(V_),q_=he((t,n,s)=>{const{queryParams:o}=t,r=s.groupName||t.groupName;return ct.getFieldGroup({groupName:r,queryParams:o})}),H_=he((t,n,s)=>{const{queryParams:o}=t,r=s.groupName||t.groupName;return ct.getFieldGroupMergedAccess({groupName:r,queryParams:o})}),B_=he((t,n,s)=>{const{metadataFieldAccessControlDocument:o}=t,r=s.groupName||t.groupName;return ct.createFieldGroupAccess({groupName:r,metadataFieldAccessControlDocument:o})});function Aj(t,n,s){const{metadataFieldGroupDocument:o}=t,r=s.groupName||o.name;return ct.updateFieldGroup({groupName:r,metadataFieldGroupDocument:o}).then(i=>({metadataFieldGroupDocument:i.data,groupName:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function z_(t,n,s){const{childGroupName:o}=t,{groupName:r}=s;return ct.updateFieldGroupChild({groupName:r,childGroupName:o}).then(()=>({childGroupName:o,groupName:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function J_(t,n,s){const o=s.groupName||t.groupName,r=s.fieldName||t.fieldName;return ct.updateFieldGroupField({groupName:o,fieldName:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function Fj(t){const{queryParams:n={},metadataFieldGroupSearchDocument:s={}}=t;return ct.searchFieldGroup({metadataFieldGroupSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,metadataFieldGroupSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function K_(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"user",label:"User",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(c,{name:"group",label:"Group",component:z,loadOptions:Hn,cacheOptions:!0,isClearable:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(c,{name:"permission",component:K,children:[e.jsx(b,{value:"NONE",children:"None"}),e.jsx(b,{value:"READ",children:"Read"}),e.jsx(b,{value:"WRITE",children:"Write"}),e.jsx(b,{value:"DELETE",children:"Delete"})]})]})]})}function Y_({groupName:t,error:n,handleSubmit:s}){return e.jsxs("form",{onSubmit:s,children:[n&&e.jsx(C,{color:"error",children:n}),!t&&e.jsx(c,{name:"groupName",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"metadataFieldAccessControlDocument",component:K_}),e.jsx("button",{type:"submit",hidden:!0})]})}const Q_=F()(Y_);function X_({groupName:t,open:n,onClose:s,onSuccess:o,onFail:r,openSnackBar:i}){const a=(d,u,p)=>{const{data:x}=d,{id:j}=x,g=`Metadata Field Group Access Control ${j} Created`;i({messageContent:g}),o&&o(d,u,p),s()},l=d=>{i({messageContent:"Error Creating Metadata Field Group Access Control",messageColor:"secondary"}),r&&r(d)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Metadata Field Access Control"}),e.jsx(X,{children:e.jsx(rt,{groupName:t,FormComponent:Q_,documentName:"metadataFieldAccessControlDocument",onSubmit:B_,onSubmitSuccess:a,onSubmitFail:l,onCancel:s})})]})}const Z_=I(v)(X_);function e1({open:t,onClose:n,history:s,openSnackBar:o,groupName:r,onSuccess:i}){const a=()=>{ct.removeFieldGroup({groupName:r}).then(()=>{const l=`Field Group ${r} Removed`;o({messageContent:l}),s.push("/field-group/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Field Group",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Field Group "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Mj=v(e1);function t1({breadcrumbList:t=[],groupName:n,...s}){return e.jsx(Y,{helpTo:"/ref/metadata/field-group.html",entityId:n,entityType:"field-group",breadcrumbList:[{title:"Metadata Field Group",to:ie.fieldGroupList()},{title:n,to:ie.fieldGroup({groupName:n})},...t],...s})}const Vc="REMOVE_FIELDGROUP_ACCESS_DIALOG";function n1({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,groupName:i,accessId:a}){const l=async()=>{try{await ct.removeFieldGroupAccess({groupName:i,accessId:a});const d=`Metadata Field Group Access ${a} Removed`;r({messageContent:d}),n(),s&&s()}catch(d){const u="Error Removing Metadata Field Group Access";o&&o(d),r({messageContent:u,messageColor:"secondary"})}};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete Access ID ${a} for field ${i}`}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:l,children:"Delete"})]})]})}const s1=I(v)(n1),o1=()=>({Button:{visibility:"hidden"},TableRow:{"&:hover $Button":{visibility:"visible"}}});function r1({classes:t,metadataFieldAccessControl:n,onOpenRemove:s}){return e.jsxs(me,{hover:!0,className:t.TableRow,children:[e.jsx(A,{children:n==null?void 0:n.id}),e.jsx(A,{children:n==null?void 0:n.field}),e.jsx(A,{children:n==null?void 0:n.fieldGroup}),e.jsx(A,{children:n==null?void 0:n.user}),e.jsx(A,{children:n==null?void 0:n.group}),e.jsx(A,{children:n==null?void 0:n.permission}),s?e.jsx(A,{children:e.jsx(f,{className:t.Button,variant:"text",onClick:()=>s({accessId:n==null?void 0:n.id}),color:"secondary",children:"Remove"})}):null]})}const i1=I(xe(o1))(r1);function a1({metadataFieldAccessControlList:t=[],onOpenRemove:n}){return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{children:"Field"}),e.jsx(A,{children:"Field Group"}),e.jsx(A,{children:"User"}),e.jsx(A,{children:"Group"}),e.jsx(A,{children:"Permission"}),n?e.jsx(A,{}):null]})}),e.jsx(de,{children:t.map(s=>e.jsx(i1,{metadataFieldAccessControl:s,onOpenRemove:n},s.id))})]})}function Dj({metadataFieldAccessControlListDocument:t={},onOpenRemove:n}){const{access:s=[]}=t;return e.jsx($,{children:e.jsx(V,{children:e.jsx(a1,{metadataFieldAccessControlList:s,onOpenRemove:n})})})}class l1 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={metadataFieldAccessControlListDocument:void 0};const{onOpen:s}=n;this.onOpenRemove=s?s(Vc):null}componentDidMount(){const{groupName:n,setOnRefresh:s}=this.props;s&&s(this.onRefresh),document.title=`VidiCore Admin | Metadata Field Group | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{groupName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ct.listFieldGroupAccess({groupName:n}).then(o=>this.setState({metadataFieldAccessControlListDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field Group",messageColor:"secondary"})}}render(){const{groupName:n,titleComponent:s,tabComponent:o,dialogProps:r={}}=this.props,{metadataFieldAccessControlListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataFieldAccessControlListDocument",breadcrumbList:["Access"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),i&&e.jsx(Dj,{metadataFieldAccessControlListDocument:i,onOpenRemove:this.onOpenRemove}),e.jsx(s1,{dialogName:Vc,onSuccess:this.onRefresh,groupName:n,...r})]})}}const c1=I(H,Ze)(l1),Pj=he((t,n,s)=>{const{metadataFieldDocument:o}=t,r=s.fieldName||o.name;return ft.updateMetadataField({fieldName:r,metadataFieldDocument:o})}),d1=he((t,n,s)=>{const{metadataFieldValueConstraintListDocument:o}=t,r=s.fieldName||t.fieldName;return ft.getMetadataFieldAllowedValues({fieldName:r,metadataFieldValueConstraintListDocument:o})}),u1=he((t,n,s)=>{const{queryParams:o}=t,r=s.fieldName||t.fieldName;return ft.getMetadataFieldValues({fieldName:r,queryParams:o})}),m1=he((t,n,s)=>{const{queryParams:o}=t,r=s.fieldName||t.fieldName;return ft.getMetadataFieldMergedAccess({fieldName:r,queryParams:o})}),h1=he((t,n,s)=>{const{metadataFieldAccessControlDocument:o}=t,r=s.fieldName||t.fieldName;return ft.createMetadataFieldAccess({fieldName:r,metadataFieldAccessControlDocument:o})});function p1(){return e.jsx(c,{name:"username",label:"username",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,fullWidth:!0})}function x1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:p1})]})}const j1=F()(x1),f1="METADATAFIELDMERGEDACCESS_PARAMS_FORM";function g1({onSubmit:t=m1,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,fieldName:a,groupName:l,form:d=f1,...u}){const p=(j,g,y)=>{o({messageContent:"Merged Access Updated"}),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Updating Merged Access",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Query Params"})}),e.jsx(Ie,{children:e.jsx(j1,{form:d,onSubmit:t,onSubmitSuccess:p,onSubmitFail:x,fieldName:a,groupName:l,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const Oj=I(H,M)(g1);class b1 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={accessControlMergedDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Field Group | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{groupName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ct.getFieldGroupMergedAccess({groupName:n}).then(o=>this.setState({accessControlMergedDocument:o.data}))}catch{s({messageContent:"Error Getting Field Group",messageColor:"secondary"})}}render(){const{groupName:n,titleComponent:s,tabComponent:o}=this.props,{accessControlMergedDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"AccessControlMergedDocument",breadcrumbList:["Merged Access"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(Oj,{groupName:n,onSubmit:H_,onSuccess:i=>this.setState({accessControlMergedDocument:i.data})}),r&&e.jsx($a,{accessControlMergedDocument:r})]})}}const C1=H(b1);class y1 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={simpleMetadataDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Field Group | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{groupName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ct.getSimpleMetadata({groupName:n}).then(o=>this.setState({simpleMetadataDocument:o.data}))}catch{s({messageContent:"Error Getting Field Group",messageColor:"secondary"})}}render(){const{groupName:n,titleComponent:s,tabComponent:o}=this.props,{simpleMetadataDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"SimpleMetadataDocument",breadcrumbList:["Metadata"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),r&&e.jsx(Jn,{simpleMetadataDocument:r,onSuccess:this.onRefresh,entityType:"metadata-field/field-group",entityId:n})]})}}const S1=H(y1);function R1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"childGroupName",label:"Field Group",component:z,loadOptions:qn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const T1=F()(R1),Gc="FIELDGROUP_CHILD_FORM";function E1({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i}){const a=d=>{const{childGroupName:u}=d,p=`Field Group ${u} Added`;o({messageContent:p}),s&&s(),n()},l=()=>{o({messageContent:"Error Adding Field Group",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Child Group"}),e.jsx(Ne,{children:e.jsx(T1,{form:Gc,onSubmit:z_,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,groupName:i})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Gc),children:"Save"})]})]})}const I1=I(v,M)(E1);function v1({open:t,onClose:n,openSnackBar:s,groupName:o,childGroupName:r,onSuccess:i}){const a=()=>{ct.removeFieldGroupChild({groupName:o,childGroupName:r}).then(()=>{const l=`${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove "${r}" From "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const A1=v(v1);function F1({metadataFieldGroupDocument:t={},onOpen:n}){return e.jsxs(Te,{to:`/field-group/${t.name}/`,hover:!0,children:[e.jsx(P,{children:e.jsx(be,{to:`/field-group/${t.name}/`,children:t.name})}),e.jsx(P,{children:t.inheritance==="true"&&e.jsx(Ct,{})}),e.jsx(P,{disableOnClick:!0,children:e.jsx(ee,{onClick:()=>n({childGroupName:t.name,groupName:t.name}),children:e.jsx(et,{})})})]})}const ni="REMOVE_FIELDGROUP_DIALOG";function M1({metadataFieldGroupListDocument:t=[],groupName:n,onRefresh:s,dialogProps:o,onOpen:r}){const{group:i=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Field Group Name"}),e.jsx(P,{children:"Inheritance"}),e.jsx(P,{padding:"checkbox"})]})}),e.jsx(de,{children:i.map(a=>e.jsx(F1,{metadataFieldGroupDocument:a,onOpen:r(ni)},a.name))})]}),n?e.jsx(A1,{...o,dialogName:ni,groupName:n,onSuccess:s}):e.jsx(Mj,{...o,dialogName:ni,onSuccess:s})]})}const Lj=Ze(M1),qc="ADD_FIELDGROUP_CHILD";function D1({groupName:t,onRefresh:n,metadataFieldGroupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:"Groups"}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(ve,{title:"New",children:e.jsx(ee,{onClick:()=>o({modalName:qc}),children:e.jsx(Vt,{})})})})})}),e.jsx(V,{children:e.jsx(Lj,{metadataFieldGroupListDocument:s,groupName:t,onRefresh:n})}),e.jsx(I1,{dialogName:qc,groupName:t,onSuccess:n})]})}const P1=gn(D1);function O1({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minInclusive",value:t.minInclusive}),e.jsx(h,{title:"maxInclusive",value:t.maxInclusive})]})}function L1({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minInclusive",value:t.minInclusive}),e.jsx(h,{title:"maxInclusive",value:t.maxInclusive})]})}function N1({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"minInclusive",value:t.minInclusive}),e.jsx(h,{title:"maxInclusive",value:t.maxInclusive})]})}function _1({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"pattern",value:t.pattern}),e.jsx(h,{title:"minLength",value:t.minLength}),e.jsx(h,{title:"maxLength",value:t.maxLength})]})}function Nj({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"reference",value:t.reference,hover:!0}),e.jsx(h,{title:"min",value:t.min,hover:!0}),e.jsx(h,{title:"max",value:t.max,hover:!0})]})}function $1({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"dataset",value:t.dataset,variant:"dataset"}),e.jsx(h,{title:"levelProperty",value:t.levelProperty}),e.jsx(h,{title:"levelValue",value:t.levelValue}),e.jsx(h,{title:"value",value:t.value}),e.jsx(h,{title:"parent",value:t.parent,variant:"metadata-field"}),e.jsx(h,{title:"validationGroup",value:t.validationGroup})]})}function W1({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"type",value:t.type,hover:!0}),e.jsx(h,{title:"defaultValue",value:t.defaultValue,hover:!0}),e.jsx(h,{title:"system",value:t.system,variant:"boolean",hover:!0}),e.jsx(h,{title:"sortable",value:t.sortable,variant:"boolean",hover:!0}),e.jsx(h,{title:"inheritance",value:t.inheritance,variant:"boolean",hover:!0}),e.jsx(h,{title:"fullText",value:t.fullText,variant:"boolean",hover:!0}),e.jsx(h,{title:"index",value:t.index,hover:!0}),e.jsx(w,{title:"schema",component:Nj,value:t.schema,hideNoValue:!0}),e.jsx(w,{title:"values",component:As,value:t.values,hideNoValue:!0}),e.jsx(Z,{title:"data",component:yn,value:t.data,hideNoValue:!0}),e.jsx(w,{title:"floatRestriction",value:t.floatRestriction,component:O1,hideNoValue:!0}),e.jsx(w,{title:"integerRestriction",value:t.integerRestriction,component:L1,hideNoValue:!0}),e.jsx(w,{title:"longRestriction",value:t.longRestriction,component:N1,hideNoValue:!0}),e.jsx(w,{title:"stringRestriction",value:t.stringRestriction,component:_1,hideNoValue:!0}),e.jsx(w,{value:t.constraint,component:$1})]})}function k1({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"field",value:t.field,hover:!0}),e.jsx(h,{title:"fieldGroup",value:t.fieldGroup,hover:!0}),e.jsx(h,{title:"user",value:t.user,hover:!0}),e.jsx(h,{title:"group",value:t.group,hover:!0}),e.jsx(h,{title:"permission",value:t.permission,hover:!0})]})}function w1({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"inheritance",value:t.inheritance,variant:"boolean",hover:!0})]})}function U1({value:t={}}){return e.jsx(w,{title:"schema",value:t.schema,component:Nj,hideNoValue:!0})}function V1({value:t={}}){return e.jsx(Z,{title:"access",value:t.access,component:k1})}function G1({metadataFieldGroupDocument:t}){return e.jsx(w,{component:w1,value:t})}function q1({metadataFieldGroupDocument:t}){return e.jsx(w,{component:U1,value:t})}function H1({metadataFieldGroupDocument:t}){return e.jsx(w,{component:V1,value:t})}function B1({metadataFieldGroupDocument:t,groupName:n,openSnackBar:s,onRefresh:o,...r}){const i="EDIT_FIELDGROUP_FORM",a=()=>{s({messageContent:"Field Group Saved"}),o&&o()},l=()=>{s({messageContent:"Error Updating Field Group",messageColor:"secondary"})},d={groupName:n},u={metadataFieldGroupDocument:t},p={metadataFieldGroupDocument:t};return e.jsx(Ge,{formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:Aj,formProps:d,displayProps:u,initialValues:p,...r})}const si=v(B1);function z1({open:t,onClose:n,openSnackBar:s,groupName:o,fieldName:r,onSuccess:i}){const a=()=>{ct.removeFieldGroupField({groupName:o,fieldName:r}).then(()=>{const l=`${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Field",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove "${r}" From "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const J1=v(z1);function K1({open:t,onClose:n,history:s,openSnackBar:o,fieldName:r,onSuccess:i}){const a=()=>{ft.removeMetadataField({fieldName:r}).then(()=>{const l=`Metadata Field ${r} Removed`;o({messageContent:l}),s.push("/metadata-field/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Metadata Field",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Metadata Field "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const _j=v(K1);function Y1({metadataFieldDocument:t={},onOpen:n}){return e.jsxs(Be,{to:`/metadata-field/${t.name}/`,hover:!0,children:[e.jsx(P,{children:t.name}),e.jsx(P,{children:t.type}),e.jsx(P,{children:t.system&&e.jsx(Ct,{})}),e.jsx(P,{children:t.inheritance==="true"&&e.jsx(Ct,{})}),e.jsx(P,{disableOnClick:!0,children:e.jsx(ee,{onClick:()=>n({fieldName:t.name}),children:e.jsx(et,{})})})]})}const oi="REMOVE_METADATAFIELD_DIALOG";function Q1({metadataFieldListDocument:t=[],groupName:n,onRefresh:s,dialogProps:o,onOpen:r}){const{field:i=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Field Name"}),e.jsx(P,{children:"Type"}),e.jsx(P,{children:"System"}),e.jsx(P,{children:"Inheritance"}),e.jsx(P,{})]})}),e.jsx(de,{children:i.map(a=>e.jsx(Y1,{metadataFieldDocument:a,onOpen:r(oi)},a.name))})]}),n?e.jsx(J1,{...o,dialogName:oi,groupName:n,onSuccess:s}):e.jsx(_j,{...o,dialogName:oi,onSuccess:s})]})}const $j=Ze(Q1);function X1({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"fieldName",label:"Metadata Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const Z1=F()(X1),Hc="FIELDGROUP_FIELD_FORM";function e$({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i}){const a=d=>{const{fieldName:u}=d,p=`Field ${u} Added`;o({messageContent:p}),s&&s(),n()},l=()=>{o({messageContent:"Error Adding Field",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Metadata Field To Field Group"}),e.jsx(Ne,{children:e.jsx(Z1,{form:Hc,onSubmit:J_,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,groupName:i})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Hc),children:"Save"})]})]})}const t$=I(v,M)(e$),Bc="ADD_FIELDGROUP_FIELD";function n$({groupName:t,onRefresh:n,metadataFieldGroupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:"Metadata Fields"}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Add",children:e.jsx(ee,{onClick:()=>o({modalName:Bc}),children:e.jsx(Vt,{})})})})})}),e.jsx(V,{children:e.jsx($j,{metadataFieldListDocument:s,groupName:t,onRefresh:n})}),e.jsx(t$,{dialogName:Bc,groupName:t,onSuccess:n})]})}const s$=gn(n$);function o$(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"minInclusive",label:"minInclusive",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"maxInclusive",label:"maxInclusive",component:m,type:"number",fullWidth:!0})]})}function r$(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"minInclusive",label:"minInclusive",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"maxInclusive",label:"maxInclusive",component:m,type:"number",fullWidth:!0})]})}function i$(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"minInclusive",label:"minInclusive",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"maxInclusive",label:"maxInclusive",component:m,type:"number",fullWidth:!0})]})}function a$(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"minLength",label:"minLength",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"maxLength",label:"maxLength",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"pattern",label:"pattern",component:m,fullWidth:!0})]})}function Wj(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"reference",component:E}),label:"Reference"}),e.jsx(c,{name:"min",label:"min",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"max",label:"max",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"name",label:"name",component:m,fullWidth:!0})]})}function l$(t){return e.jsxs(K,{...t,children:[e.jsx(b,{value:"string",children:"String"}),e.jsx(b,{value:"integer",children:"Integer"}),e.jsx(b,{value:"float",children:"Float"}),e.jsx(b,{value:"boolean",children:"Boolean"}),e.jsx(b,{value:"date",children:"Date"}),e.jsx(b,{value:"timeCode",children:"Time Code"}),e.jsx(b,{value:"date-noindex",children:"Date (No Index)"}),e.jsx(b,{value:"date-sortable",children:"Date (Sortable)"}),e.jsx(b,{value:"float-noindex",children:"Float (No Index)"}),e.jsx(b,{value:"float-sortable",children:"Float (Sortable)"}),e.jsx(b,{value:"integer-noindex",children:"Integer (No Index)"}),e.jsx(b,{value:"integer-sortable",children:"Integer (Sortable)"}),e.jsx(b,{value:"long-noindex",children:"Long (No Index)"}),e.jsx(b,{value:"string-sortable",children:"String (Sortable)"}),e.jsx(b,{value:"string-exact",children:"String (Exact)"}),e.jsx(b,{value:"string-exact-sortable",children:"String (Exact Sortable)"}),e.jsx(b,{value:"string-noindex",children:"String (No Index)"}),e.jsx(b,{value:"boolean-noindex",children:"Boolean (No Index)"}),e.jsx(b,{value:"timeCode-noindex",children:"Time Code (No Index)"})]})}function c$(t){return e.jsxs(K,{...t,children:[e.jsx(b,{value:"index",children:"index"}),e.jsx(b,{value:"noindex",children:"noindex"}),e.jsx(b,{value:"extend",children:"extend"})]})}function d$(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"dataset",label:"dataset",component:m,fullWidth:!0}),e.jsx(c,{name:"levelProperty",label:"levelProperty",component:m,fullWidth:!0}),e.jsx(c,{name:"levelValue",label:"levelValue",component:m,fullWidth:!0}),e.jsx(c,{name:"value",label:"value",component:m,fullWidth:!0}),e.jsx(c,{name:"parent",label:"parent",component:m,fullWidth:!0}),e.jsx(c,{name:"validationGroup",label:"validationGroup",component:m,fullWidth:!0})]})}function kj(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"name",component:at,fullWidth:!0}),e.jsx(c,{name:"defaultValue",label:"defaultValue",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"system",component:E}),label:"System"}),e.jsx(R,{control:e.jsx(c,{name:"sortable",component:E}),label:"Sortable"}),e.jsx(R,{control:e.jsx(c,{name:"inheritance",component:E}),label:"Inheritance"}),e.jsx(R,{control:e.jsx(c,{name:"fullText",component:E}),label:"Full Text"}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(c,{name:"type",component:l$})]}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"index",children:"Index"}),e.jsx(c,{name:"index",component:c$})]}),e.jsx(S,{name:"constraint",label:"constraint",component:d$}),e.jsx(S,{name:"schema",label:"schema",component:Wj}),e.jsx(S,{name:"values",label:"values",component:Ln}),e.jsx(k,{name:"data",label:"data",component:ne})]})}function u$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldDocument",component:kj}),e.jsxs(c,{name:"metadataFieldDocument",component:ao,label:"Restriction",fullWidth:!0,choices:{floatRestriction:e.jsx(S,{name:"metadataFieldDocument.floatRestriction",label:"floatRestriction",component:o$}),integerRestriction:e.jsx(S,{name:"metadataFieldDocument.integerRestriction",label:"integerRestriction",component:r$}),longRestriction:e.jsx(S,{name:"metadataFieldDocument.longRestriction",label:"longRestriction",component:i$}),stringRestriction:e.jsx(S,{name:"metadataFieldDocument.stringRestriction",label:"stringRestriction",component:a$})},children:[e.jsx(b,{value:"floatRestriction",children:"Float"}),e.jsx(b,{value:"integerRestriction",children:"Integer"}),e.jsx(b,{value:"longRestriction",children:"Long"}),e.jsx(b,{value:"stringRestriction",children:"String"})]}),e.jsx("button",{type:"submit",hidden:!0})]})}const wj=F()(u$);function m$(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"field",component:m,fullWidth:!0}),e.jsx(c,{name:"fieldGroup",label:"fieldGroup",component:m,fullWidth:!0}),e.jsx(c,{name:"user",label:"user",component:m,fullWidth:!0}),e.jsx(c,{name:"group",label:"group",component:m,fullWidth:!0}),e.jsx(c,{name:"permission",label:"permission",component:m,fullWidth:!0})]})}function Uj(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"name",component:at,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"inheritance",children:"Inheritance"}),e.jsxs(c,{name:"inheritance",component:K,children:[e.jsx(b,{value:"true",children:"True"}),e.jsx(b,{value:"false",children:"False"})]})]})]})}function Vj(){return e.jsx(k,{name:"access",label:"access",component:m$})}function Gj(){return e.jsx(k,{name:"field",label:"field",component:kj})}function qj(){return e.jsx(S,{name:"schema",label:"schema",component:Wj})}function Hj(){return e.jsx(k,{name:"data",label:"data",component:ne})}function Xa(){return e.jsxs(e.Fragment,{children:[e.jsx(Uj,{}),e.jsx(qj,{}),e.jsx(Gj,{}),e.jsx(k,{name:"group",label:"group",component:Xa}),e.jsx(Vj,{}),e.jsx(Hj,{})]})}function h$(){return e.jsx(k,{name:"group",label:"group",component:Xa})}function p$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupDocument",component:Hj}),e.jsx("button",{type:"submit",hidden:!0})]})}F()(p$);function x$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupDocument",component:Uj}),e.jsx("button",{type:"submit",hidden:!0})]})}const j$=F()(x$);function f$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupDocument",component:qj}),e.jsx("button",{type:"submit",hidden:!0})]})}const g$=F()(f$);function b$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupDocument",component:Gj}),e.jsx("button",{type:"submit",hidden:!0})]})}F()(b$);function C$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupDocument",component:h$}),e.jsx("button",{type:"submit",hidden:!0})]})}F()(C$);function y$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupDocument",component:Vj}),e.jsx("button",{type:"submit",hidden:!0})]})}const S$=F()(y$);function R$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupDocument",component:Xa}),e.jsx("button",{type:"submit",hidden:!0})]})}const T$=F()(R$);function E$(t){return e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsx(si,{title:"Overview",formComponent:j$,displayComponent:G1,...t})}),e.jsx($,{children:e.jsx(si,{title:"Schema",formComponent:g$,displayComponent:q1,...t})}),e.jsx($,{children:e.jsx(s$,{...t})}),e.jsx($,{children:e.jsx(P1,{...t})}),e.jsx($,{children:e.jsx(si,{title:"Access",formComponent:S$,displayComponent:H1,...t})})]})}const I$=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"data",component:m,fullWidth:!0,label:"data",helperText:"Comma-separated list of any additional data to include. accepts wildcard characters."}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(R,{control:e.jsx(c,{name:"includeValues",component:E}),label:"Include Values"}),e.jsx(Re,{children:"Return the value enumeration for each field"})]}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(R,{control:e.jsx(c,{name:"traverse",component:E}),label:"Traverse"}),e.jsx(Re,{children:"Traverse any sub-groups in order to retrieve the entire hierarchy."})]})]});function v$({error:t,handleSubmit:n,groupName:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"groupName",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:I$}),e.jsx("button",{type:"submit",hidden:!0})]})}const A$=F()(v$);function F$({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="FIELDGROUP_PARAMS_FORM",groupName:a,initialValues:l={}}){const d=(p,x,j)=>{n&&n(p,x,j)},u=()=>{s({messageContent:"Error Refresh Field Group",messageColor:"secondary"})};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Field Group Params"})}),e.jsx(Ie,{children:e.jsx(A$,{form:i,onSubmit:q_,onSubmitSuccess:d,onSubmitFail:u,onCancel:t,destroyOnUnmount:!1,groupName:a,initialValues:l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const M$=I(v,M)(F$),Xi="FIELDGROUP_PARAMS_FORM";class D$ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={metadataFieldGroupDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Field Group | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{submitForm:n}=this.props;n(Xi)}onSuccess(n){this.setState({metadataFieldGroupDocument:n==null?void 0:n.data})}render(){const{groupName:n,titleComponent:s,tabComponent:o}=this.props,{metadataFieldGroupDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"MetadataFieldGroupDocument",onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(M$,{groupName:n,form:Xi,onSuccess:this.onSuccess}),r&&e.jsx(E$,{metadataFieldGroupDocument:r,groupName:n,onRefresh:this.onRefresh})]})}}const P$=I(v,M,Gt)(D$,Xi),ri="FIELDGROUP_REMOVE_MODAL",zc="FIELDGROUP_ACCESS_MODAL",O$="METADATAFIELD_OVERVIEW_TAB",L$="METADATAFIELD_METADATA_TAB",N$="METADATAFIELD_MERGEDACCESS_TAB",_$="FIELDGROUP_ACCESS_TAB",$$="EXTERNALID_TAB",Bj=[{tab:O$,listText:"Overview",component:P$,path:"/field-group/:groupName/",exact:!0},{tab:L$,listText:"Metadata",component:S1,path:"/field-group/:groupName/metadata/"},{tab:_$,listText:"Access",component:c1,path:"/field-group/:groupName/access/"},{tab:N$,listText:"Merged Access",component:C1,path:"/field-group/:groupName/merged-access/"},{tab:$$,listText:"External ID",component:Dn,path:"/field-group/:groupName/external-id/",entity:"metadata-field/field-group"}],W$=t=>e.jsx(gt,{children:Bj.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),k$=t=>e.jsx(bt,{children:Bj.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class w$ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Field Group | ${n}`}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Field Group | ${n}`)}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{groupName:n}=this.props,s=o=>e.jsx(t1,{onRefresh:this.onRefresh,groupName:n,removeModal:ri,menuList:[{label:"Add Access Control",modalName:zc},{label:"Delete Metadata Field Group",modalName:ri,color:"secondary"}],...o});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{groupName:n,mainComponent:k$,listComponent:W$,defaultOpen:!0,titleComponent:s,setOnRefresh:this.setOnRefresh,entityId:n,entityType:"metadata-field/field-group"}),e.jsx(Mj,{dialogName:ri,groupName:n}),e.jsx(Z_,{groupName:n,dialogName:zc,onSuccess:this.onRefresh})]})}}const U$=I(H)(w$);function V$({open:t,onClose:n,openSnackBar:s,history:o}){const r=a=>{const{groupName:l}=a,d=`Field Group ${l} Created`;s({messageContent:d}),o.push(`/field-group/${l}/`),n()},i=()=>{s({messageContent:"Error Creating Field Group",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Field Group"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:T$,documentName:"metadataFieldGroupDocument",onSubmit:Aj,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const G$=v(V$);function q$({metadataFieldGroupListDocument:t,...n}){const s=(t==null?void 0:t.group)||[],[o,r]=T.useState(s),i={...t,group:o};return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(Ro,{variant:"outlined",fullWidth:!0,options:s,onChange:r,optionsKey:"name",minScore:.5}),e.jsx(Lj,{metadataFieldGroupListDocument:i,...n})]})})}function H$(t){return e.jsx(Y,{title:"Metadata Field Group",helpTo:"/ref/metadata/field-group.html",...t})}const Jc="FIELDGROUPLIST_CREATE_MODAL";class B$ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={metadataFieldGroupListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Field Group"}onRefresh(){const{openSnackBar:n}=this.props;try{ct.listFieldGroup().then(s=>this.setState({metadataFieldGroupListDocument:s.data}))}catch{n({messageContent:"Error Loading Field Group List",messageColor:"secondary"})}}render(){const{metadataFieldGroupListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(H$,{createModal:Jc,onRefresh:this.onRefresh,code:n,codeModal:"FieldGroupListDocument"}),n&&e.jsx(q$,{metadataFieldGroupListDocument:n,onRefresh:this.onRefresh}),e.jsx(G$,{dialogName:Jc})]})}}const z$=H(B$);function J$({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldGroupSearchDocument",component:yo}),e.jsx("button",{type:"submit",hidden:!0})]})}const K$=F()(J$),Y$="FIELDGROUP_SEARCH_FORM";function Q$({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=Y$,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Document"})}),e.jsx(V,{children:e.jsx(K$,{form:d,onSubmit:Fj,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const X$=I(H,M,vt)(Q$);function Kc({orderBy:t,orderDirection:n,onChangeOrder:s,name:o}){return s?e.jsx(A,{children:e.jsx(Mt,{active:t===o,direction:n||void 0,onClick:s(o),children:le(o)})}):e.jsx(A,{children:le(o)})}function Z$({fieldGroupType:t}){const{name:n,uuid:s}=t;return e.jsxs(Be,{to:`/metadata/${s}/`,hover:!0,children:[e.jsx(A,{children:s}),e.jsx(A,{children:n})]})}function eW({metadataFieldResultDocument:t,onChangePage:n,onChangeRowsPerPage:s,rowsPerPageOptions:o,page:r,rowsPerPage:i}){if(t===void 0)return null;const{group:a=[],hits:l=0}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(Kc,{name:"uuid"}),e.jsx(Kc,{name:"name"})]})}),e.jsx(de,{children:a.map(d=>e.jsx(Z$,{fieldGroupType:d},d.uuid))}),n&&s&&e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:l,page:r,rowsPerPage:i,onPageChange:n,onRowsPerPageChange:s,ActionsComponent:Lt,rowsPerPageOptions:o})})})]})}const tW=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"source",component:z,isMulti:!0,options:[{value:"item",label:"item"},{value:"collection",label:"collection"},{value:"global",label:"global"},{value:"document",label:"document"}],fullWidth:!0}),e.jsx(c,{name:"group",component:z,loadOptions:qn,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"data",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"traverse",component:E}),label:"Traverse"}),e.jsx(R,{control:e.jsx(c,{name:"includeValue",component:E}),label:"Include Value"}),e.jsx(R,{control:e.jsx(c,{name:"includeDefinition",component:E}),label:"Include Definition"}),e.jsx(R,{control:e.jsx(c,{name:"includeSource",component:E}),label:"Include Source"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0})]});function nW({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:tW}),e.jsx("button",{type:"submit",hidden:!0})]})}const sW=F()(nW),oW="FIELDGROUP_SEARCH_PARAMS_FORM";function rW({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=oW,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Params"})}),e.jsx(Ie,{children:e.jsx(sW,{form:d,onSubmit:Fj,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const iW=I(H,M,vt)(rW),Lo="FIELDGROUP_SEARCH_FORM",aW=I(Et,Bn)(eW);class lW extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:d}},this.state={metadataFieldResultDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Field Group",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Lo)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({metadataFieldResultDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{metadataFieldResultDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Field Groups",helpTo:"/ref/metadata/field-group.html",onRefresh:this.onRefresh,code:n,codeModal:"MetadataFieldResultDocument"}),e.jsx(X$,{form:Lo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(iW,{form:Lo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(aW,{metadataFieldResultDocument:n,queryParams:s,form:Lo,sortField:"metadataFieldGroupSearchDocument.sort"})]})}}const cW=I(M)(lW),To=["CLOSED","OPEN","NONE","LOST","TO_APPEAR","TO_BE_DELETED","BEING_READ","ARCHIVED","AWAITING_SYNC"],dW=["CLOSED","ARCHIVED"],uW=["NONE","OPEN","BEING_READ","AWAITING_SYNC"],mW=["CLOSED","OPEN","BEING_READ"],hW=({fileId:t,fileName:n,openSnackBar:s})=>Je.getFile({fileId:t,queryParams:{methodMetadata:[{key:"format",value:"SIGNED-AUTO"},{key:"contentDisposition",value:`attachment${n?`;+filename=${n}`:void 0}`}]}}).then(o=>{const{data:r}=o,{uri:i=[]}=r,[a]=i;a?(s&&s({messageContent:"Download Started"}),window.open(a,"_blank")):s&&s({messageContent:"Error Loading Download URL",messageColor:"secondary"})}).catch(()=>{s&&s({messageContent:"Error Loading Download URL",messageColor:"secondary"})});function pW({fileDocument:t,openSnackBar:n}){if(t===void 0)return null;const{path:s,id:o,state:r}=t,i=s.replace(/^.*(\\|\/|:)/,"");if(!mW.includes(r))return null;const a=()=>hW({fileId:o,fileName:i,openSnackBar:n});return e.jsx(ve,{title:"Download",children:e.jsx(ee,{onClick:a,children:e.jsx(fp,{})})})}const xW=Ts(pW),vr={greenAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:oC[500]},baseAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40},redAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Sa[500]},orangeAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:rC[500]},icon:{width:25,height:25}},qt=xe(vr)(({classes:t})=>e.jsx(bs,{className:t.greenAvatar,children:e.jsx(Ct,{className:t.icon})})),Jo=xe(vr)(({classes:t,children:n,isLoading:s=!0})=>e.jsx(bs,{className:t.baseAvatar,children:s?e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ds,{className:t.icon,style:{zIndex:1,position:"absolute",left:-20,top:-20}}),e.jsx("div",{style:{position:"absolute",left:-20,top:-30},children:n})]}):n})),_t=xe(vr)(({classes:t})=>e.jsx(bs,{className:t.redAvatar,children:e.jsx(Ep,{className:t.icon})})),fs=xe(vr)(({classes:t})=>e.jsx(bs,{className:t.orangeAvatar,children:e.jsx(Ep,{className:t.icon})}));function zj({fileDocument:t}){if(t===void 0)return null;const{state:n}=t;return dW.includes(n)?e.jsx(Ue,{avatar:e.jsx(qt,{}),label:le(n.toLowerCase())}):uW.includes(n)?e.jsx(Ue,{avatar:e.jsx(fs,{}),label:le(n.toLowerCase())}):e.jsx(Ue,{avatar:e.jsx(_t,{}),label:n?le(n.toLowerCase()):"Unknown"})}function jW({fileDocument:t,abandonModal:n,onOpen:s}){return t===void 0||!t.item?null:e.jsx(b,{onClick:()=>s({modalName:n}),children:e.jsx(C,{color:"secondary",children:"Abandon Item"})})}function fW({fileId:t,storageId:n,onOpen:s,stateModal:o,moveModal:r,abandonModal:i,deleteModal:a,removeEntityModal:l,pathModal:d,overwriteModal:u,analyzeModal:p,impAnalyzeModal:x,uriModal:j,hashModal:g,fileDocument:y,breadcrumbList:D=[],...se}){return e.jsx(Y,{helpTo:"/ref/storage/file.html",breadcrumbList:[n?{title:"Storage",to:ie.storageList()}:null,n?{title:n,to:ie.storage({storageId:n})}:null,{title:"File",to:n?ie.storageFile({storageId:n}):ie.fileList()},{title:t,to:ie.file({fileId:t})},...D],iconList:y?e.jsxs(e.Fragment,{children:[e.jsx(zj,{fileDocument:y}),e.jsx(xW,{fileDocument:y}),e.jsxs(mt,{children:[e.jsx(b,{onClick:()=>s({modalName:o}),children:e.jsx(C,{color:"inherit",children:"Change State"})}),e.jsx(b,{onClick:()=>s({modalName:j}),children:e.jsx(C,{color:"inherit",children:"Generate Temporary URI"})}),e.jsx(be,{to:`/import/file/?fileId=${t}`,children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Import As Item"})})}),e.jsx(b,{children:e.jsx(be,{to:`/import/item/shape/?fileId=${t}`,children:e.jsx(C,{children:"Import As Shape"})})}),e.jsx(be,{to:`/import/item/component/?fileId=${t}`,children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Import To Component"})})}),e.jsx(be,{to:`/import/sidecar/?fileId=${t}`,children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Import As Sidecar"})})}),e.jsx(be,{to:`/import-imp/?tab=IMPORTIMP_FILE_TAB&fileId=${t}`,children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Import As IMP"})})}),e.jsx(b,{onClick:()=>s({modalName:p}),children:e.jsx(C,{color:"inherit",children:"Shape Deduction"})}),e.jsx(b,{onClick:()=>s({modalName:x}),children:e.jsx(C,{color:"inherit",children:"IMP Deduction"})}),e.jsx(b,{onClick:()=>s({modalName:r}),children:e.jsx(C,{color:"inherit",children:"Copy/Move File"})}),e.jsx(b,{onClick:()=>s({modalName:d}),children:e.jsx(C,{color:"inherit",children:"Set New Path"})}),e.jsx(b,{onClick:()=>s({modalName:g}),children:e.jsx(C,{color:"inherit",children:"Set Checksum Hash"})}),e.jsx(b,{onClick:()=>s({modalName:u}),children:e.jsx(C,{color:"inherit",children:"Overwrite File Data"})}),e.jsx(jW,{fileDocument:se.code,abandonModal:i,onOpen:s}),e.jsx(b,{onClick:()=>s({modalName:l}),children:e.jsx(C,{color:"secondary",children:"Remove Entity"})}),e.jsx(b,{onClick:()=>s({modalName:a}),children:e.jsx(C,{color:"secondary",children:"Delete File"})})]})]}):null,...se})}const gW=tt(fW);function bW({open:t,onClose:n,openSnackBar:s,fileDocument:o,onSuccess:r}){if(o===void 0)return null;const{path:i,id:a}=o,l=()=>{Je.abandonFile({fileId:a}).then(()=>{s({messageContent:"File Abandoned"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Abandoned File",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Abandon File ${i||a}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:l,color:"secondary",autoFocus:!0,children:"Abandon"})]})]})}const CW=v(bW);function yW(t,n,s){const o=s.fileId||t.fileId,{state:r}=t;return Je.updateFileState({fileId:o,state:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function SW(t,n,s){const o=s.fileId||t.fileId,{hash:r,queryParams:i}=t;return Je.updateFileHash({fileId:o,hash:r,queryParams:i}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function RW(t,n,s){const o=s.fileId||t.fileId,{targetStorageId:r,queryParams:i}=t;return Je.createFileMove({fileId:o,targetStorageId:r,queryParams:i}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function TW(t,n,s){const o=s.fileId||t.fileId,{queryParams:r}=t;return Je.removeFile({fileId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function EW(t,n,s){const o=s.fileId||t.fileId,{queryParams:r}=t;return Je.createFilePath({fileId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function IW(t,n,s){const o=s.fileId||t.fileId,{queryParams:r,file:i}=t;return Je.updateFileRaw({fileId:o,file:i[0],queryParams:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function vW(t,n,s){const o=s.fileId||t.fileId,{queryParams:r}=t;return Je.getFile({fileId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function AW(t,n,s){const{storageId:o}=s,{queryParams:r}=t;return o?Je.listFileStorage({storageId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})}):Je.listFile({queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function FW(t){const{fileDocument:n,queryParams:s,storageId:o}=t;return Je.createFileEntity({storageId:o,fileDocument:n,queryParams:s}).catch(r=>{let i=r.message;throw r.response&&(i=JSON.stringify(r.response.data,(a,l)=>l===null?void 0:l)),new q({_error:i})})}function Yc(t,n,s){const{metadataDocument:o,queryParams:r}=t,i=s.fileId||t.fileId;return Je.createFileImport({fileId:i,metadataDocument:o,queryParams:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function MW(t,n,s){const{queryParams:o}=t,r=s.fileId||t.fileId;return Je.analyzeFile({fileId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function DW(t,n,s){const{queryParams:o}=t,r=s.fileId||t.fileId;return Je.analyzeFileImp({fileId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function PW(t,n,s){const{queryParams:o}=t,r=s.fileId||t.fileId;return Je.createFileTemporaryCredentials({fileId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}const OW=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"resourceId",component:m,fullWidth:!0}),e.jsx(k,{name:"jobmetadata",label:"Job Metadata",component:ne}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",label:"Notification Data",component:ne})]});function LW({error:t,handleSubmit:n,fileId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"fileId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:OW}),e.jsx("button",{type:"submit",hidden:!0})]})}const Jj=F()(LW),Qc="FILE_ANALYZE_FORM";function NW({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Starting Shape Deduction Job"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Starting Shape Deduction Job",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Run Shape Deduction Job"}),e.jsx(X,{children:e.jsx(Jj,{form:Qc,onSubmit:MW,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,fileId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Qc),children:"Start"})]})]})}const _W=I(v,M)(NW);function $W({value:t,itemId:n,shapeId:s}){return e.jsx(h,{title:"component",value:t==null?void 0:t.id,hideNoValue:!0,variant:"componentId",variantProps:{itemId:n,shapeId:s}})}function WW({itemId:t,value:n}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"shape",variant:"shapeId",value:n==null?void 0:n.id,variantProps:{itemId:t}}),e.jsx(Z,{value:n==null?void 0:n.component,itemId:t,shapeId:n==null?void 0:n.id,component:$W,hideNoValue:!0})]})}function kW({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"item",value:t==null?void 0:t.id,variant:"itemId"}),e.jsx(Z,{value:t==null?void 0:t.shape,component:WW,itemId:t==null?void 0:t.id,hideNoValue:!0})]})}function wW({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:t==null?void 0:t.start}),e.jsx(h,{title:"count",value:t==null?void 0:t.count})]})}function UW({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0}),e.jsx(h,{title:"path",value:t.path,hideNoValue:!0,hover:!0}),e.jsx(Yt,{title:"uri",value:t.uri,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"state",value:t.state,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"size",value:t.size,variant:"bytes",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"hash",value:t.hash,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"timestamp",value:t.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"refreshFlag",value:t.refreshFlag,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"sequence",value:t.sequence,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"storage",value:t.storage,variant:"storageId",hideNoValue:!0,hover:!0}),e.jsx(Z,{value:t.item,component:kW,hideNoValue:!0,hover:!0,dense:!0}),e.jsx(Z,{title:"range",value:t.range,component:wW,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"type",value:t.type,hideNoValue:!0,hover:!0})]})}function VW({fileDocument:t}){return e.jsx(w,{component:UW,value:t})}function GW({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(VW,{...t})})})}const qW=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",label:"Job Metadata",component:ne}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",label:"Notification Data",component:ne})]});function HW({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:qW}),e.jsx("button",{type:"submit",hidden:!0})]})}const BW=F()(HW),Xc="FILE_DELETE_FORM";function zW({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{path:a,id:l}=i,d=(p,x,j)=>{o({messageContent:"File Delete Job Created"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Creating File Delete Job",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete File ${a||l}`}),e.jsx(X,{children:e.jsx(BW,{form:Xc,onSubmit:TW,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,fileId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"primary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>r(Xc),children:"Delete"})]})]})}const JW=I(v,M)(zW);function KW({open:t,onClose:n,openSnackBar:s,fileDocument:o,onSuccess:r}){if(o===void 0)return null;const{id:i}=o,a=()=>{Je.removeFileEntity({fileId:i}).then(()=>{s({messageContent:"File Entity Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing File Entity",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove File ${i} Entity`}),e.jsx(X,{children:"This does not affect the physical file."}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const YW=v(KW),QW=()=>e.jsx(c,{name:"algorithm",component:m,fullWidth:!0});function XW({error:t,handleSubmit:n,fileId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"fileId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"hash",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:QW}),e.jsx("button",{type:"submit",hidden:!0})]})}const ZW=F()(XW),Zc="FILE_HASH_FORM";function ek({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Checksum Hash Updated"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Updating Checksum Hash",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Set File Checksum Hash"}),e.jsx(X,{children:e.jsx(ZW,{form:Zc,onSubmit:SW,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,fileId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Zc),children:"Update"})]})]})}const tk=I(v,M)(ek),ed="FILE_ANALYZE_FORM";function nk({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Starting IMP Deduction Job"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Starting IMP Deduction Job",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Run IMP Deduction Job"}),e.jsx(X,{children:e.jsx(Jj,{form:ed,onSubmit:DW,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,fileId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(ed),children:"Start"})]})]})}const sk=I(v,M)(nk),ok=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"move",children:"Action"}),e.jsxs(c,{name:"move",component:K,children:[e.jsx(b,{value:"false",children:"Copy"}),e.jsx(b,{value:"true",children:"Move"})]})]}),e.jsx(c,{name:"filename",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(c,{name:"timeRequirement",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"limitRate",component:m,type:"number",fullWidth:!0}),e.jsx(k,{name:"jobmetadata",label:"Job Metadata",component:ne}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",label:"Notification Data",component:ne})]});function rk({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"targetStorageId",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,creatable:!0}),e.jsx(S,{name:"queryParams",component:ok}),e.jsx("button",{type:"submit",hidden:!0})]})}const ik=F()(rk),td="FILE_MOVE_FORM";function ak({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"Transfer Job Created"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Creating Transfer Job",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Move/Copy File"}),e.jsx(X,{children:e.jsx(ik,{form:td,onSubmit:RW,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,fileId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(td),children:"Start"})]})]})}const lk=I(v,M)(ak);function Ar({input:t,meta:n,loading:s,fullWidth:o=!1}){const{value:r}=t,i=r&&r[0].name;return e.jsxs(e.Fragment,{children:[!!(n.touched&&n.error)&&e.jsx(Re,{error:!0,children:n.error}),e.jsxs(f,{variant:"text",component:"label",color:"primary",disableRipple:!0,disabled:s,fullWidth:o,children:[i||"Choose File",e.jsx("input",{style:{display:"none"},type:"file",onChange:t.onChange})]})]})}const ck=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"transferId",component:m,fullWidth:!0,disabled:!0}),e.jsx(c,{name:"transferPriority",component:m,type:"number",fullWidth:!0})]});function dk({error:t,handleSubmit:n,submitting:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"file",component:Ar,loading:s,required:!0,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:ck}),e.jsx("button",{type:"submit",hidden:!0})]})}const uk=F()(dk),nd="FILE_OVERWRITE_FORM";function mk({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),{id:l}=i,d=(p,x,j)=>{o({messageContent:"File Uploaded"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Uploading File",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Overwrite File Data"}),e.jsx(X,{children:e.jsx(uk,{form:nd,onSubmit:IW,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,fileId:l,initialValues:{queryParams:{transferId:a}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(nd),children:"Upload"})]})]})}const hk=I(v,M)(mk),pk=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"methodType",component:m,fullWidth:!0}),e.jsx(c,{name:"storageType",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsx(k,{name:"methodMetadata",label:"Method Metadata",component:ne}),e.jsx(R,{control:e.jsx(c,{name:"includeItem",component:E}),label:"Include Item"}),e.jsx(R,{control:e.jsx(c,{name:"includeShapes",component:E}),label:"Include Shapes"})]});function xk({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:pk}),e.jsx("button",{type:"submit",hidden:!0})]})}const jk=F()(xk);function fk({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="FILE_PARAMS_FORM",initialValues:a={},fileId:l}){const d=(p,x,j)=>{n&&n(p,x,j)},u=()=>{s({messageContent:"Error Requesting File",messageColor:"secondary"})};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"File Params"})}),e.jsx(Ie,{children:e.jsx(jk,{form:i,onSubmit:vW,onSubmitSuccess:d,onSubmitFail:u,onCancel:t,destroyOnUnmount:!1,initialValues:a,fileId:l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const gk=I(v,M)(fk),bk=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"path",component:m,fullWidth:!0,required:!0}),e.jsx(c,{name:"storage",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(c,{name:"state",component:K,children:To.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(R,{control:e.jsx(c,{name:"duplicate",component:E}),label:"Duplicate"})]});function Ck({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:bk}),e.jsx("button",{type:"submit",hidden:!0})]})}const yk=F()(Ck),sd="FILE_PATH_FORM";function Sk({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a}=i,l=(u,p,x)=>{o({messageContent:"New Path Saved"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Saving Path",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Set New Path"}),e.jsx(X,{children:e.jsx(yk,{form:sd,onSubmit:EW,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,fileId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(sd),children:"Save"})]})]})}const Rk=I(v,M)(Sk);function Tk({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(L,{name:"state",component:K,children:To.map(s=>e.jsx(b,{value:s,children:s},s))})]}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ek=F()(Tk),od="FILE_STATE_FORM";function Ik({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){if(i===void 0)return null;const{id:a,state:l}=i,d=()=>{o({messageContent:"File State Updated"}),s&&s(),n()},u=()=>{o({messageContent:"Error Updating File State",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Change File State"}),e.jsx(Ne,{children:e.jsx(Ek,{form:od,onSubmit:yW,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,fileId:a,initialValues:{state:l}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(od),children:"Save"})]})]})}const vk=I(v,M)(Ik),Ak=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"scheme",children:"Scheme"}),e.jsxs(c,{name:"scheme",component:K,children:[e.jsx(b,{value:"https",children:"HTTPS"}),e.jsx(b,{value:"http",children:"HTTP"}),e.jsx(b,{value:"s3",children:"S3"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"write",component:E}),label:"Write"}),e.jsx(c,{name:"duration",component:m,fullWidth:!0}),e.jsx(c,{name:"sse-kms",component:m,fullWidth:!0}),e.jsx(c,{name:"kmsKeyId",component:m,fullWidth:!0})]});function Fk({error:t,handleSubmit:n,fileId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"fileId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:Ak}),e.jsx("button",{type:"submit",hidden:!0})]})}const Mk=F()(Fk),rd="FILE_URI_FORM";function Dk({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,fileDocument:i}){const[a,l]=T.useState();if(i===void 0)return null;const{id:d}=i,u=(x,j,g)=>{const y="URI Generated",{data:D}=x;D&&l(D),o({messageContent:y}),s&&s(x,j,g)},p=()=>{o({messageContent:"Error Generating URI",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Generate Temporary URI"}),e.jsx(X,{children:a?e.jsx(Ds,{uriListDocument:a,header:!1,onClick:x=>window.open(x)}):e.jsx(Mk,{form:rd,onSubmit:PW,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,fileId:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),a?e.jsx(f,{size:"small",color:"primary",onClick:()=>l(void 0),children:"Reset"}):e.jsx(f,{size:"small",color:"primary",onClick:()=>r(rd),children:"Generate"})]})]})}const Pk=I(v,M)(Dk),id="FILE_DELETE_DIALOG",ad="FILE_ABANDON_DIALOG",ld="FILE_STATE_DIALOG",cd="FILE_MOVE_DIALOG",dd="FILE_ENTITY_REMOVE_DIALOG",ud="FILE_PATH_DIALOG",md="FILE_OVERWRITE_DIALOG",hd="FILE_ANALYZE_DIALOG",pd="FILE_IMP_ANALYZE_DIALOG",xd="FILE_HASH_DIALOG",jd="FILE_URI_DIALOG",Ok="FILE_PARAMS_FORM";let Lk=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={fileDocument:void 0}}componentDidMount(){this.onRefresh();const{fileId:n}=this.props;document.title=`VidiCore Admin | File | ${n}`}UNSAFE_componentWillReceiveProps({fileId:n}){const{fileId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | File | ${n}`)}onRefresh(){const{fileId:n}=this.props;this.onFetch(n)}onFetch(n){const s={includeItem:!0};try{Je.getFile({fileId:n,queryParams:s}).then(o=>this.setState({fileDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading File",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({fileDocument:s})}render(){const{fileDocument:n}=this.state,{fileId:s,titleComponent:o,history:r}=this.props;return e.jsxs(e.Fragment,{children:[o&&e.jsx(o,{code:n,fileDocument:n,codeModal:"FileDocument",onRefresh:this.onRefresh,deleteModal:id,abandonModal:ad,stateModal:ld,moveModal:cd,removeEntityModal:dd,pathModal:ud,overwriteModal:md,analyzeModal:hd,impAnalyzeModal:pd,uriModal:jd,hashModal:xd}),n&&e.jsxs(e.Fragment,{children:[e.jsx(gk,{form:Ok,onSuccess:this.onSuccess,fileId:s}),e.jsx(GW,{fileDocument:n}),e.jsx(Jn,{simpleMetadataDocument:n.metadata,onSuccess:this.onRefresh,entityType:"storage/file",entityId:s}),e.jsx(JW,{dialogName:id,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(CW,{dialogName:ad,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(vk,{dialogName:ld,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(lk,{dialogName:cd,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(Rk,{dialogName:ud,onSuccess:i=>r.push(`/file/${i.data.id}`),fileDocument:n}),e.jsx(YW,{dialogName:dd,onSuccess:()=>r.push("/file/"),fileDocument:n}),e.jsx(hk,{dialogName:md,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(_W,{dialogName:hd,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(sk,{dialogName:pd,onSuccess:i=>r.push(`/job/${i.data.jobId}`),fileDocument:n}),e.jsx(tk,{dialogName:xd,onSuccess:this.onRefresh,fileDocument:n}),e.jsx(Pk,{dialogName:jd,onSuccess:this.onRefresh,fileDocument:n})]})]})}};const Nk=v(Lk);function _k({itemId:t,shapeId:n,componentId:s,onOpen:o,analyzeModal:r,removeModal:i,removeFileModal:a,associateFileModal:l,moveToShapeModal:d,copyToShapeModal:u,moveToComponentModal:p,copyToComponentModal:x}){return e.jsxs(mt,{children:[e.jsx(b,{component:be,to:`/item/${t}/shape/${n}/component/${s}/`,children:e.jsx(C,{children:"Go To Component"})}),r?e.jsx(b,{onClick:()=>o({modalName:r,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{children:"Analyze"})}):null,l?e.jsx(b,{onClick:()=>o({modalName:l,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{children:"Associate File"})}):null,d?e.jsx(b,{onClick:()=>o({modalName:d,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{children:"Move To Shape"})}):null,u?e.jsx(b,{onClick:()=>o({modalName:u,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{children:"Copy To Shape"})}):null,p?e.jsx(b,{onClick:()=>o({modalName:p,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{children:"Move To Component"})}):null,x?e.jsx(b,{onClick:()=>o({modalName:x,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{children:"Copy To Component"})}):null,a?e.jsx(b,{onClick:()=>o({modalName:a,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{color:"secondary",children:"Unassociate File"})}):null,i?e.jsx(b,{onClick:()=>o({modalName:i,itemId:t,shapeId:n,componentId:s}),children:e.jsx(C,{color:"secondary",children:"Delete Component"})}):null]})}const Ps=tt(_k),$k=t=>({CardHeader:{paddingTop:0,paddingLeft:0},CardContent:{padding:t.spacing(1)}});function Wk({metadata:t,componentId:n,itemId:s,shapeId:o,onRefresh:r,...i}){const a=s!==void 0||o!==void 0||n!==void 0?`${s}/shape/${o}/component/${n}`:void 0;return e.jsx(zn,{simpleMetadataDocument:{field:t},titleProps:{variant:"subtitle2"},onSuccess:r,entityType:"item",entityId:a,...i})}const Os=xe($k)(Wk);function kk({value:t}){return e.jsx(h,{title:t==null?void 0:t.key,value:t==null?void 0:t.value,titleStartCase:!1,hideNoValue:!0,hover:!0})}function wk({value:t={}}){return e.jsx(Z,{value:t,component:kk})}function Fr({value:t={},title:n="Component",hideMetadata:s=!0,...o}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:`${n} ID`,value:t.id,...o}),!s&&e.jsx(w,{title:`${n} Metadata`,value:t.metadata,component:wk,dense:!0,...o}),e.jsx(gj,{title:`${n} Files`,value:t.id!==void 0?t.file:void 0,hideNoValue:t.id===void 0,...o})]})}function Za({value:t={},title:n="Component",...s}){return e.jsxs(e.Fragment,{children:[e.jsx(Fr,{title:n,value:t,...s}),e.jsx(h,{title:"codec",value:t.codec,...s}),e.jsx(w,{title:"timeBase",component:cs,value:t.timeBase,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"itemTrack",value:t.itemTrack,...s}),e.jsx(h,{title:"essenceStreamId",value:t.essenceStreamId,...s}),e.jsx(w,{title:"interval",component:Cv,value:t.interval,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"bitrate",value:t.bitrate,...s}),e.jsx(h,{title:"numberOfPackets",value:t.numberOfPackets,...s}),e.jsx(h,{title:"extradata",value:t.extradata,...s}),e.jsx(h,{title:"pid",value:t.pid,...s}),e.jsx(w,{title:"duration",component:ps,value:t.duration,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"profile",value:t.profile,...s}),e.jsx(h,{title:"level",value:t.level,...s}),e.jsx(w,{title:"startTimestamp",component:ps,value:t.startTimestamp,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"repeatCount",value:t.repeatCount,...s}),e.jsx(h,{title:"trackOrder",value:t.trackOrder,...s}),e.jsx(h,{title:"segment",value:t.segment,...s})]})}function Mr({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{component:yn,dense:!0,value:t.property,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Bit_rate_mode",value:t.Bit_rate_mode,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Source",value:t.Source,hideNoValue:!0,hover:!0})]})}function Uk({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Fr,{title:"Container Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"duration",component:ps,value:t.duration,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"format",value:t.format,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"subFormat",value:t.subFormat,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"firstSMPTETimecode",value:t.firstSMPTETimecode,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"startTimecode",value:t.startTimecode,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"startTimestamp",component:ps,value:t.startTimestamp,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"roundedTimeBase",value:t.roundedTimeBase,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"dropFrame",value:t.dropFrame,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"timeCodeTimeBase",component:cs,value:t.timeCodeTimeBase,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"mediaInfo",component:Mr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]})}function Vk({value:t}){return e.jsx(h,{value:t==null?void 0:t.value,variant:"xml",title:t==null?void 0:t.type,hideCode:!0})}function Gk({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Fr,{title:"Descriptor Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(Z,{value:t.description,hover:!1,component:Vk})]})}function qk({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Fr,{title:"Binary Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"format",value:t.format,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"encoding",value:t.encoding,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"offset",value:t.offset,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"length",value:t.length,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"mediaInfo",component:Mr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]})}function Hk({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Za,{title:"Audio Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"channelCount",value:t.channelCount,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"channelLayout",value:t.channelLayout,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"sampleFormat",value:t.sampleFormat,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"frameSize",value:t.frameSize,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"blockAlign",value:t.blockAlign,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"mediaInfo",component:Mr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]})}function Bk({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Za,{title:"Video Component",value:t,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"resolution",component:bv,value:t.resolution,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"pixelFormat",value:t.pixelFormat,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"maxBFrames",value:t.maxBFrames,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"pixelAspectRatio",component:kl,value:t.pixelAspectRatio,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"fieldOrder",value:t.fieldOrder,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"codecTimeBase",component:cs,value:t.codecTimeBase,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"averageFrameRate",component:cs,value:t.averageFrameRate,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"realBaseFrameRate",component:cs,value:t.realBaseFrameRate,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"displayWidth",component:Gs,value:t.displayWidth,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"displayHeight",component:Gs,value:t.displayHeight,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"displayXOffset",component:Gs,value:t.displayXOffset,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"displayYOffset",component:Gs,value:t.displayYOffset,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"containerSAR",component:kl,value:t.containerSAR,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colr_primaries",value:t.colr_primaries,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colr_transfer_function",value:t.colr_transfer_function,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colr_matrix",value:t.colr_matrix,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"max_packet_size",value:t.max_packet_size,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"startTimecode",value:t.startTimecode,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"dropFrame",value:t.dropFrame,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"ticks_per_frame",value:t.ticks_per_frame,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"bitDepth",value:t.bitDepth,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"bitsPerPixel",value:t.bitsPerPixel,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"colorPrimaries",value:t.colorPrimaries,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"mediaInfo",component:Mr,value:t.mediaInfo,hideNoValue:!0,hover:!0})]})}function zk({value:t={}}){return e.jsx(Za,{title:"Subtitle Component",value:t,hideNoValue:!0,hover:!0})}function Jk({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"created",value:t.created,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"essenceVersion",value:t.essenceVersion,hideNoValue:!0,hover:!0}),e.jsx(Yt,{title:"tag",value:t.tag,hideNoValue:!0,hover:!0}),e.jsx(Yt,{title:"mimeType",value:t.mimeType,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"uuid",value:t.uuid,hideNoValue:!0,hover:!0})]})}function Kk({audioComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs($,{id:i,children:[e.jsx(je,{disableTypography:!0,title:i?e.jsx(C,{variant:"subtitle1",children:`Audio Component - ${i}`}):"Audio Component",action:i?e.jsx(Ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(V,{children:[e.jsx(Hk,{value:t}),e.jsx(Os,{title:"Audio Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function Kj({shapeDocument:t={},...n}){const{audioComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(Kk,{audioComponent:o,...n},o.id))}function Yk({binaryComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs($,{children:[e.jsx(je,{disableTypography:!0,title:i?e.jsx(C,{variant:"subtitle1",children:`Binary Component - ${i}`}):"Binary Component",action:i?e.jsx(Ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(V,{children:[e.jsx(qk,{value:t}),e.jsx(Os,{title:"Binary Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function Yj({shapeDocument:t={},...n}){const{binaryComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(Yk,{binaryComponent:o,...n},o.id))}function Qj({shapeDocument:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){const{containerComponent:i}=t;if(i===void 0)return null;const{id:a,metadata:l}=i;return e.jsxs($,{children:[e.jsx(je,{disableTypography:!0,title:a?e.jsx(C,{variant:"subtitle1",children:`Container Component - ${a}`}):"Container Component",action:a?e.jsx(Ps,{componentId:a,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(V,{children:[e.jsx(Uk,{value:i}),e.jsx(Os,{title:"Container Component Metadata",metadata:l,onRefresh:o,itemId:n,shapeId:s,componentId:a})]})]})}function Qk({descriptorComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs($,{children:[e.jsx(je,{disableTypography:!0,title:i?e.jsx(C,{variant:"subtitle1",children:`Descriptor Component - ${i}`}):"Descriptor Component",action:i?e.jsx(Ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(V,{children:[e.jsx(Gk,{value:t}),e.jsx(Os,{title:"Descriptor Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function Xj({shapeDocument:t={},...n}){const{descriptorComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(Qk,{descriptorComponent:o,...n},o.id))}function Xk({subtitleComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs($,{children:[e.jsx(je,{disableTypography:!0,title:i?e.jsx(C,{variant:"subtitle1",children:`Subtitle Component - ${i}`}):"Subtitle Component",action:i?e.jsx(Ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(V,{children:[e.jsx(zk,{value:t}),e.jsx(Os,{title:"Subtitle Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function Zj({shapeDocument:t={},...n}){const{subtitleComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(Xk,{subtitleComponent:o,...n},o.id))}function Zk({videoComponent:t={},itemId:n,shapeId:s,onRefresh:o,ShapeComponentMenuProps:r={}}){if(t===void 0)return null;const{id:i,metadata:a}=t;return e.jsxs($,{children:[e.jsx(je,{disableTypography:!0,title:i?e.jsx(C,{variant:"subtitle1",children:`Video Component - ${i}`}):"Video Component",action:i?e.jsx(Ps,{componentId:i,itemId:n,shapeId:s,...r}):void 0}),e.jsxs(V,{children:[e.jsx(Bk,{value:t}),e.jsx(Os,{title:"Video Component Metadata",metadata:a,onRefresh:o,itemId:n,shapeId:s,componentId:i})]})]})}function ef({shapeDocument:t={},...n}){const{videoComponent:s}=t;return s===void 0||!Array.isArray(s)?null:s.map(o=>e.jsx(Zk,{videoComponent:o,...n},o.id))}function ew(t){const{shapeDocument:n}=t;return n===void 0?null:e.jsxs(en,{children:[e.jsx(Qj,{...t}),e.jsx(ef,{...t}),e.jsx(Kj,{...t}),e.jsx(Yj,{...t}),e.jsx(Xj,{...t}),e.jsx(Zj,{...t})]})}class tw extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={shapeListDocument:void 0}}componentDidMount(){this.onRefresh();const{fileId:n}=this.props;document.title=`VidiCore Admin | File | ${n}`}UNSAFE_componentWillReceiveProps({fileId:n}){const{fileId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | File | ${n}`)}onRefresh(){const{fileId:n}=this.props;this.onFetch(n)}onFetch(n){try{Je.listFileShapes({fileId:n}).then(s=>this.setState({shapeListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading File",messageColor:"secondary"})}render(){const{shapeListDocument:n}=this.state,{titleComponent:s,tabComponent:o}=this.props;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:n,codeModal:"ShapeListDocument",onRefresh:this.onRefresh,breadcrumbList:["Shape"]}),o&&e.jsx(o,{}),n&&n.shape&&n.shape.map(r=>e.jsx(ew,{shapeDocument:r}))]})}}const nw=v(tw),tf="FILE_OVERVIEW_TAB",sw="FILE_SHAPE_TAB",ow="DELETIONLOCK_TAB",nf=[{tab:tf,listText:"Overview",component:Nk,path:"/file/:fileId/",exact:!0},{tab:sw,listText:"Shape",component:nw,path:"/file/:fileId/shape/"},{tab:ow,listText:"Deletion Locks",component:go,path:"/file/:fileId/deletion-locks/"}],rw=t=>e.jsx(gt,{children:nf.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(t.storageId?`/storage/:storageId${n}`:n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),iw=t=>e.jsx(bt,{children:nf.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:t.storageId?`/storage/:storageId${n}`:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class aw extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{fileId:n}=this.props;document.title=`VidiCore Admin | File | ${n}`,this.onRefresh()}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{storageId:n,fileId:s,onChangeTab:o,tabValue:r}=this.props,i=a=>e.jsx(gW,{fileId:s,storageId:n,...a});return e.jsx(Tt,{mainComponent:iw,listComponent:rw,defaultOpen:!0,onChangeTab:o,tabValue:r,titleComponent:i,storageId:n,fileId:s,entityId:s,entityType:"file",setOnRefresh:this.setOnRefresh})}}const fd=I(ln(tf),We,v)(aw),lw=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"path",component:m,fullWidth:!0}),e.jsx(c,{name:"uri",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(c,{name:"state",component:K,children:To.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"size",component:m,fullWidth:!0}),e.jsx(c,{name:"hash",component:m,fullWidth:!0}),e.jsx(c,{name:"timestamp",component:m,fullWidth:!0}),e.jsx(c,{name:"refreshFlag",component:m,fullWidth:!0}),e.jsx(S,{name:"metadata",component:ix})]}),cw=()=>e.jsx(R,{control:e.jsx(c,{name:"createOnly",component:E}),label:"Create Only"});function dw({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"storageId",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,creatable:!0}),e.jsx(S,{name:"fileDocument",component:lw}),e.jsx(S,{name:"queryParams",component:cw}),e.jsx("button",{type:"submit",hidden:!0})]})}const uw=F()(dw),gd="FILE_ENTITY_FORM";function mw({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,storageId:i}){const a=(d,u,p)=>{o({messageContent:"File Created"}),n(),s&&s(d,u,p)},l=()=>{o({messageContent:"Error Creating File",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New File Entity"}),e.jsx(X,{children:e.jsx(uw,{form:gd,onSubmit:FW,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,initialValues:{storageId:i}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(gd),children:"Save"})]})]})}const hw=I(v,M)(mw),pw=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"id",label:"File IDs",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"path",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"ignorecase",component:E}),label:"Ignore Case"}),e.jsx(R,{control:e.jsx(c,{name:"recursive",component:E}),label:"Recursive"}),e.jsx(R,{control:e.jsx(c,{name:"wildcard",component:E}),label:"Wildcard"}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(R,{control:e.jsx(c,{name:"prefix",component:E}),label:"Prefix"}),e.jsx(c,{name:"hash",label:"Hashes",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"algorithm",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(c,{name:"state",component:K,children:To.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"methodType",component:m,fullWidth:!0}),e.jsx(c,{name:"storageType",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsx(k,{name:"methodMetadata",label:"Method Metadata",component:ne}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(c,{name:"prefixFirst",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(c,{name:"prefixNumber",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(c,{name:"sort",component:pe,simple:!0,fullWidth:!0,disabled:!0}),e.jsx(c,{name:"storage",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"storageGroup",component:z,loadOptions:bo,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,creatable:!0}),e.jsxs(G,{component:"fieldset",children:[e.jsx(Ni,{component:"legend",children:"File Association"}),e.jsxs(c,{name:"filter",component:Wi,children:[e.jsx(R,{value:"all",control:e.jsx(Wt,{}),label:"All"}),e.jsx(R,{value:"item",control:e.jsx(Wt,{}),label:"With Item"}),e.jsx(R,{value:"noitem",control:e.jsx(Wt,{}),label:"Not Associated"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"excludeQueued",component:E}),label:"Exclude Queued"}),e.jsx(R,{control:e.jsx(c,{name:"includeItem",component:E}),label:"Include Item"})]});function xw({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:pw}),e.jsx("button",{type:"submit",hidden:!0})]})}const jw=F()(xw);function fw({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="FILE_FILTER_FORM",changeForm:a,storageId:l,initialValues:d={queryParams:{first:0,number:10,prefixFirst:0,prefixNumber:10}}}){const u=(j,g,y)=>{n&&n(j,g,y)},p=()=>{s({messageContent:"Error Listing Files",messageColor:"secondary"})},x=async()=>{await a(i,"queryParams.first",0),o(i)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"File List Options"})}),e.jsx(Ie,{children:e.jsx(jw,{form:i,onSubmit:AW,onSubmitSuccess:u,onSubmitFail:p,onCancel:t,destroyOnUnmount:!1,initialValues:d,storageId:l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:x,children:"Filter"})]})]})}const gw=I(v,M)(fw);function es({orderBy:t,orderDirection:n,onChangeOrder:s,name:o}){return s?e.jsx(A,{children:e.jsx(Mt,{active:t===o,direction:n||void 0,onClick:s(o),children:le(o)})}):e.jsx(A,{children:le(o)})}function bw({fileDocument:t={},storageId:n}){return e.jsxs(Be,{to:n?`/storage/${n}/file/${t.id}/`:`/file/${t.id}/`,hover:!0,children:[e.jsx(P,{children:t.path}),e.jsx(P,{children:t.id}),e.jsx(P,{children:e.jsx(zj,{fileDocument:t})}),n===void 0?e.jsx(P,{children:t.storage}):null,e.jsx(P,{children:xo(t.size)}),e.jsx(P,{children:t.timestamp?qe(t.timestamp).toString():""})]})}function el({fileListDocument:t,onChangePage:n,onChangeRowsPerPage:s,rowsPerPageOptions:o,page:r,rowsPerPage:i,onChangeOrder:a,orderBy:l,orderDirection:d,storageId:u}){if(t===void 0)return null;const{file:p=[],hits:x=0}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(es,{name:"filename",onChangeOrder:a,orderBy:l,orderDirection:d}),e.jsx(es,{name:"fileId",onChangeOrder:a,orderBy:l,orderDirection:d}),e.jsx(es,{name:"state",onChangeOrder:a,orderBy:l,orderDirection:d}),u===void 0?e.jsx(es,{name:"Storage"}):null,e.jsx(es,{name:"size",onChangeOrder:a,orderBy:l,orderDirection:d}),e.jsx(es,{name:"timestamp",onChangeOrder:a,orderBy:l,orderDirection:d})]})}),e.jsx(de,{children:p.map(j=>e.jsx(bw,{fileDocument:j,storageId:u},j.id))}),n&&s&&e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:x,page:r,rowsPerPage:i,onPageChange:n,onRowsPerPageChange:s,ActionsComponent:Lt,rowsPerPageOptions:o})})})]})}function Cw(t){return e.jsx(Y,{title:"File",helpTo:"/ref/storage/file.html",...t})}function yw({filePrefixType:t,onChangePrefix:n}){if(!t)return null;const{prefix:s=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsx(Te,{children:e.jsx(P,{children:"Prefix"})})}),e.jsx(de,{children:s.map(o=>e.jsx(Te,{hover:!0,onClick:()=>n(o),children:e.jsx(P,{children:o})}))})]})}function Sw({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(yw,{...t})})})}const Rw=I(Et,Bn)(el),os="FILE_FILTER_FORM",ii="FILE_ENTITY_DIALOG";class Tw extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this),this.onChangePrefix=this.onChangePrefix.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},fileSearchDocument:{sort:d}},this.state={fileListDocument:void 0}}componentDidMount(){const{storageId:n}=this.props;document.title=n?`VidiCore Admin | Storage | ${n} | File`:"VidiCore Admin | File",this.onRefresh()}async UNSAFE_componentWillReceiveProps({storageId:n}){if(!n)return;const{storageId:s,changeForm:o}=this.props;s!==n&&(await o(os,"storageId",n),this.onRefresh(),document.title=`VidiCore Admin | Storage | ${n} | File`)}onRefresh(){const{submitForm:n}=this.props;n(os)}onSuccess(n){const{data:s,queryParams:o}=n;this.setState({fileListDocument:s,queryParams:o}),this.onSetUrlParams(o)}async onChangePrefix(n){const{changeForm:s}=this.props;await s(os,"queryParams.path",n),this.onRefresh()}onSetUrlParams(n){if(n===void 0)return;const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{fileListDocument:n,queryParams:s}=this.state,{storageId:o,history:r,titleComponent:i,tabComponent:a}=this.props;return e.jsxs(e.Fragment,{children:[i?e.jsx(i,{code:n,codeModal:"FileListDocument",onRefresh:this.onRefresh,createModal:ii,iconList:null,removeModal:null,title:"File"}):e.jsx(Cw,{code:n,codeModal:"FileListDocument",createModal:ii,onRefresh:this.onRefresh}),a&&e.jsx(a,{}),e.jsx(gw,{form:os,onSuccess:this.onSuccess,initialValues:this.initialValues,storageId:o}),n&&e.jsxs(e.Fragment,{children:[n.prefixes&&e.jsx(Sw,{filePrefixType:n.prefixes,onChangePrefix:this.onChangePrefix,storageId:o}),e.jsx(Rw,{fileListDocument:n,queryParams:s,form:os,sortField:"queryParams.sort",storageId:o})]}),e.jsx(hw,{dialogName:ii,onSuccess:l=>r.push(`/file/${l.data.id}`),storageId:o})]})}}const sf=I(v,M,Gt)(Tw,os);function of(t){const{queryParams:n={},shapeSearchDocument:s={}}=t;return Ra.searchShape({shapeSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,shapeSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function rf(t){const{queryParams:n={},fileSearchDocument:s={}}=t;return Ra.searchFile({fileSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,fileSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function af(t){const{queryParams:n={},itemSearchDocument:s={}}=t;return Ra.searchItemCollection({itemSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,itemSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function Ew({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"fileSearchDocument",component:yo}),e.jsx("button",{type:"submit",hidden:!0})]})}const Iw=F()(Ew),vw="FILE_SEARCH_FORM";function Aw({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=vw,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Files",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{expandIcon:e.jsx(ma,{}),children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"File Search Document"})}),e.jsx(V,{children:e.jsx(Iw,{form:d,onSubmit:rf,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const Fw=I(H,M,vt)(Aw),Mw=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"methodType",component:m,fullWidth:!0}),e.jsx(c,{name:"storageType",component:m,fullWidth:!0}),e.jsx(c,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0})]});function Dw({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Mw}),e.jsx("button",{type:"submit",hidden:!0})]})}const Pw=F()(Dw),Ow="FILE_SEARCH_PARAMS_FORM";function Lw({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=Ow,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Files",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"File Search Params"})}),e.jsx(Ie,{children:e.jsx(Pw,{form:d,onSubmit:rf,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const Nw=I(H,M,vt)(Lw),No="FILE_SEARCH_FORM",_w=I(Et,Bn)(el);class $w extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},fileSearchDocument:{sort:d}},this.state={fileListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | File",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(No)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({fileListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{fileListDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"File",helpTo:"/ref/search.html#search-files",onRefresh:this.onRefresh,code:n,codeModal:"FileListDocument"}),e.jsx(Fw,{form:No,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(Nw,{form:No,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(_w,{fileListDocument:n,queryParams:s,form:No,sortField:"queryParams.sort"})]})}}const Ww=I(M)($w);function kw(t,n){const[s,o]=t.length>n.length?[t,n]:[n,t],r=Math.floor(s.length/2)-1,i=[],a=[];for(let x=0;x<o.length;x++){const j=o[x],g=Math.max(0,x-r),y=Math.min(x+r+1,s.length);for(let D=g;D<y;D++)if(a[D]===void 0&&j===s[D]){i[x]=a[D]=j;break}}const l=i.join(""),d=a.join(""),u=l.length;let p=0;for(let x=0;x<l.length;x++)l[x]!==d[x]&&(p+=1);return u>0?(u/o.length+u/s.length+(u-Math.floor(p/2))/u)/3:0}function ww(t,n,s=.2){const o=kw(t,n);let r=0;for(let i=0;i<t.length&&t[i]===n[i];i++)r+=1;return o+Math.min(r,4)*s*(1-o)}function Uw(t,n){const{synonyms:s=[]}=n;let o=null;return s.every(r=>{const i=ww(r.trim().toLowerCase(),t.trim().toLowerCase());return!((o===null||i>o.similarity)&&(o={similarity:i,value:r},i===1))}),{score:o.similarity,closestSynonym:o.value,option:n}}function Vw(t,n,s=0){return n.map(r=>Uw(t,r)).filter(({score:r})=>r>=s).sort((r,i)=>i.score-r.score)}function Gw({input:t,meta:n,components:s={},...o}){const{palette:r,typography:i}=hr(),a=T.useCallback(l=>({...l,borderRadius:0,spacing:{...l.spacing,menuGutter:0},colors:{...l.colors,primary:r.text.primary},fontFamily:i.fontFamily}),[r,i]);return e.jsx(iC,{...t,...o,components:{MultiValueRemove:Xp,ClearIndicator:Zp,DropdownIndicator:ex,...s},palette:r,typography:i,styles:Qp,placeholder:o.label,theme:a})}const qw=[{value:t=>`/item/${t}`,label:"Item",synonyms:["item"],siteId:!0},{value:t=>`/collection/${t}`,label:"Collection",synonyms:["collection"],siteId:!0},{value:t=>`/storage/${t}`,label:"Storage",synonyms:["storage"],siteId:!0},{value:t=>`/file/${t}`,label:"File",synonyms:["file"],siteId:!0},{value:t=>ie.user({userName:t}),label:"User",synonyms:["user"],siteId:!1},{value:t=>ie.group({groupName:t}),label:"Group",synonyms:["group"],siteId:!1},{value:t=>`/metadata-field/${t}`,label:"Metadata Field",synonyms:["metadata","field","md"],siteId:!1},{value:t=>`/field-group/${t}`,label:"Field Group",synonyms:["fieldgroup","fg"],siteId:!1},{value:t=>`/job/${t}`,label:"Job",synonyms:["job"],siteId:!0}],Hw=[{value:"/new-job/",label:"New Job"},{value:"/job",label:"Job List"},{value:"/job/problem",label:"Job Problems"},{value:"/jobtype/",label:"Job Types"},{value:"/search/",label:"Search Items & Collections"},{value:ie.itemList(),label:"Search Items"},{value:"/collection/",label:"Search Collections"},{value:"/shape/",label:"Search Shapes"},{value:"/item/metadata-group/",label:"Search Item By Metadata Group"},{value:"/library/",label:"Search Libraries"},{value:"/library/",label:"Search Libraries"},{value:"/storage/",label:"Storages"},{value:"/file/",label:"Files"},{value:"/search/file/",label:"Search Files"},{value:"/storage-rule/",label:"Storage Rules"},{value:"/import/item/placeholder/",label:"Create Item"},{value:"/import/collection/",label:"Create Collection"},{value:"/import/item/shape/placeholder/",label:"Create Shape"},{value:"/import/file/",label:"Import File"},{value:"/import/item/upload/",label:"Upload"},{value:"/import/item/uri/",label:"Import URIs"},{value:"/import/item/shape/",label:"Import Shape"},{value:"/import/item/component/",label:"Import Component"},{value:"/import/item/shape/essence/",label:"Import Essence"},{value:"/import/sidecar/",label:"Import Sidecar"},{value:"/import/sidecar/upload/",label:"Upload Sidecar"},{value:"/import-imp/?tab=IMPORTIMP_URL_TAB",label:"Import IMP URL"},{value:"/import-imp/?tab=IMPORTIMP_PATH_TAB",label:"Import IMP Path"},{value:"/import-imp/?tab=IMPORTIMP_FILE_TAB",label:"Import IMP File"},{value:"/import-imp/?tab=IMPORTSIDECAR_TAB",label:"Import Sidecar File"},{value:"/import-imp/?tab=IMPORTSIDECARRAW_TAB",label:"Upload Sidecar File"},{value:"/vxa/",label:"VSA Server Agents"},{value:"/resource/transcoder/",label:"Transcoders"},{value:"/resource/thumbnail/",label:"Thumbnail Paths"},{value:"/resource/vidinet/",label:"Vidinet"},{value:"/export-location",label:"Export Locations"},{value:"/user/",label:"Users"},{value:"/group/",label:"Groups"},{value:"/metadata-field/",label:"Metadata Fields"},{value:"/metadata-dataset/",label:"Metadata Datasets"},{value:"/field-group/",label:"Metadata Field Groups"},{value:"/debug/echo/",label:"XML Echo"},{value:"/javascript/test/",label:"Javascript Test"},{value:"/wizard/",label:"Wizard"},{value:"/shape-tag/",label:"Shape Tags"},{value:"/version/",label:"Version"},{value:"/selftest/",label:"Self Test"},{value:"/log",label:"Audit Log"},{value:"/error/",label:"Error Log"},{value:"/reindex/",label:"Re-Index"},{value:"/service/",label:"Services"},{value:"/configuration/properties/",label:"Configuration Properties"},{value:"/configuration/job-pool/",label:"Job Pools"},{value:"/configuration/path-alias/",label:"Path Alias"},{value:"/external-id/",label:"External Identifiers"},{value:"/document/",label:"Document"},{value:"/conform/",label:"Conform"},{value:"/projection/",label:"Projection"},{value:"/notification/",label:"Notification"},{value:"/notification/item/",label:"Item Notification"},{value:"/notification/collection/",label:"Collection Notification"},{value:"/notification/job/",label:"Job Notification"},{value:"/notification/storage/",label:"Storage Notification"},{value:"/notification/file/",label:"File Notification"},{value:"/notification/quota/",label:"Quota Notification"},{value:"/notification/group/",label:"Group Notification"},{value:"/notification/document/",label:"Document Notification"},{value:"/import/settings/",label:"Import Settings"},{value:"/task-group/",label:"Task Groups"},{value:"/quota/",label:"Quota"},{value:"/storage-group/",label:"Storage Groups"},{value:"/auto-import/",label:"Auto Import Rules"},{value:"/service/stacktrace/",label:"Stack Trace"},{value:"/transfer/",label:"Import Transfers"},{value:"/configuration/",label:"Configuration"},{value:"/configuration/ftp-pool/",label:"FTP Pool"},{value:"/scheduled-request/",label:"Scheduled Requests"},{value:"/stitch/",label:"Stitch"},{value:"/deletion-lock/",label:"Deletion Locks"},{value:"/analyze-preset/",label:"Analyze Presets"},{value:"/swagger/",label:"Swagger"},{value:"/secret/",label:"Secret"}],Bw=ba({Option:{"&:hover $ValueIcon":{visibility:"visible"}},ValueWrapper:{display:"flex",width:"100%",justifyContent:"space-between","&:hover $ValueIcon":{visibility:"visible"}},ValueLink:{textDecoration:"none",color:"inherit",flexGrow:1},ValueIcon:{color:"inherit",visibility:"hidden"}});function zw(t){var u;const n=Bw(),{data:s,selectProps:o}=t,{value:r,__isNew__:i,label:a}=s||{},{fuzzyRef:l}=o;let d=r;if(i===!0&&((u=l==null?void 0:l.current)!=null&&u.value)){const{entityId:p,value:x}=l.current;typeof x=="function"?d=x(p):d=x}return d?e.jsx(oo.Option,{...t,className:n.Option,children:e.jsxs("div",{className:n.ValueWrapper,children:[e.jsx(wt,{className:n.ValueLink,to:d,children:a}),e.jsx(ve,{title:"Open in new tab",children:e.jsx(wt,{className:n.ValueIcon,to:d,target:"_blank",rel:"noopener",children:e.jsx(aC,{fontSize:"small"})})})]})}):oo.Option(t)}function lf({onChange:t,...n}){const s=Cp(),o=T.useRef(),r=T.useCallback(d=>{var u;try{const p=Vw(d,qw,.5),x=(u=p==null?void 0:p[0])==null?void 0:u.option;return x?(o.current=x,!0):(o.current=void 0,!1)}catch{return!1}},[]),i=T.useCallback(d=>{var p;const u=(p=o==null?void 0:o.current)==null?void 0:p.label;if(u){let[,...x]=d.split(" ");if(x=x.join(" "),x)return o.current.siteId&&(x=x.toUpperCase(),/^\d/.test(x)&&(x=`VX-${x}`)),o.current.entityId=x,`Go to ${u} ${x}`}return"Keep typing...."},[]),a=T.useCallback(()=>{var d,u;if((d=o==null?void 0:o.current)!=null&&d.entityId&&((u=o==null?void 0:o.current)!=null&&u.value)){const{entityId:p,value:x}=o.current;typeof x=="function"?s.push(x(p)):s.push(x)}o.current=void 0},[s]),l=T.useCallback(d=>{t&&t(d),s.push(d.value)},[s,t]);return e.jsx(Gw,{value:"",name:"endpoint",options:Hw,label:"Search for endpoint...",formatCreateLabel:i,isValidNewOption:r,components:{Option:zw},fuzzyRef:o,onChange:l,onCreateOption:a,creatable:!0,...n})}const Jw=t=>({appBar:{position:"relative",backgroundColor:t.palette.background.default},dialogRoot:{justifyContent:"flex-start"},scrollPaper:{width:"85%",backgroundColor:t.palette.background.default}}),Kw=T.forwardRef((t,n)=>e.jsx(lC,{direction:"down",ref:n,...t}));function oe({to:t,primary:n,onClose:s}){return e.jsx(mr,{button:!0,to:t,component:wt,onClick:s,children:e.jsx(ga,{secondary:n})})}function ht({subheader:t,children:n}){return e.jsx(gt,{component:"nav",subheader:e.jsx(cC,{disableSticky:!0,children:t}),children:n})}function Yw({classes:t,open:n,onClose:s}){const o={lg:2,md:3,sm:6,xs:12};return e.jsxs(_,{fullScreen:!0,open:n,onClose:s,TransitionComponent:Kw,classes:{root:t.dialogRoot,scrollPaper:t.scrollPaper},children:[e.jsx(pr,{elevation:0,className:t.appBar,children:e.jsx(xr,{disableGutters:!0,variant:"dense",children:e.jsxs(O,{container:!0,alignItems:"flex-start",children:[e.jsx(O,{item:!0,children:e.jsx(ee,{onClick:s,children:e.jsx(ha,{})})}),e.jsx(O,{item:!0,xs:8,children:e.jsx(lf,{onChange:s})})]})})}),e.jsx(X,{children:e.jsxs(O,{container:!0,alignItems:"flex-start",children:[e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Workflow",children:[e.jsx(oe,{to:"/new-job/",primary:"New Job",onClose:s}),e.jsx(oe,{to:"/job",primary:"Job List",onClose:s}),e.jsx(oe,{to:"/job/problem/",primary:"Job Problems",onClose:s}),e.jsx(oe,{to:"/jobtype/",primary:"Job Types",onClose:s}),e.jsx(oe,{to:"/task-group/",primary:"Task Groups",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Search",children:[e.jsx(oe,{to:"/search/",primary:"Items & Collections",onClose:s}),e.jsx(oe,{to:ie.itemList(),primary:"Items",onClose:s}),e.jsx(oe,{to:"/collection/",primary:"Collections",onClose:s}),e.jsx(oe,{to:"/shape/",primary:"Shapes",onClose:s}),e.jsx(oe,{to:"/search/file/",primary:"Files",onClose:s}),e.jsx(oe,{to:"/library/",primary:"Libraries",onClose:s}),e.jsx(oe,{to:"/search/field-group/",primary:"Field Groups",onClose:s}),e.jsx(oe,{to:"/item/metadata-group/",primary:"Item By Metadata Group",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Storage",children:[e.jsx(oe,{to:"/storage/",primary:"Storages",onClose:s}),e.jsx(oe,{to:"/file/",primary:"Files",onClose:s}),e.jsx(oe,{to:"/storage-rule/",primary:"Storage Rules",onClose:s}),e.jsx(oe,{to:"/quota/",primary:"Quota",onClose:s}),e.jsx(oe,{to:"/storage-group/",primary:"Storage Groups",onClose:s}),e.jsx(oe,{to:"/auto-import/",primary:"Auto Import Rules",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Create",children:[e.jsx(oe,{to:"/import/item/placeholder/",primary:"Item",onClose:s}),e.jsx(oe,{to:"/import/collection/",primary:"Collection",onClose:s}),e.jsx(oe,{to:"/import/item/shape/placeholder/",primary:"Shape",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Import",children:[e.jsx(oe,{to:"/import/file/",primary:"File",onClose:s}),e.jsx(oe,{to:"/import/item/upload/",primary:"Upload",onClose:s}),e.jsx(oe,{to:"/import/item/uri/",primary:"URIs",onClose:s}),e.jsx(oe,{to:"/import/item/shape/",primary:"Shape",onClose:s}),e.jsx(oe,{to:"/import/item/component/",primary:"Component",onClose:s}),e.jsx(oe,{to:"/import/sidecar/",primary:"Sidecar",onClose:s}),e.jsx(oe,{to:"/import/settings/",primary:"Settings",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"IMF",children:[e.jsx(oe,{to:"/import-imp/?tab=IMPORTIMP_URL_TAB",primary:"Import From URL",onClose:s}),e.jsx(oe,{to:"/import-imp/?tab=IMPORTIMP_PATH_TAB",primary:"Import From Path",onClose:s}),e.jsx(oe,{to:"/import-imp/?tab=IMPORTIMP_FILE_TAB",primary:"Import From File",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Resources",children:[e.jsx(oe,{to:"/vxa/",primary:"Server Agents"}),e.jsx(oe,{to:"/resource/transcoder/",primary:"Transcoders",onClose:s}),e.jsx(oe,{to:"/resource/thumbnail/",primary:"Thumbnail Paths",onClose:s}),e.jsx(oe,{to:"/export-location",primary:"Export Locations",onClose:s}),e.jsx(oe,{to:"/resource/vidinet/",primary:"Vidinet",onClose:s}),e.jsx(oe,{to:"/resource/",primary:"All Resources",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Authentication",children:[e.jsx(oe,{to:"/user/",primary:"Users",onClose:s}),e.jsx(oe,{to:"/group/",primary:"Groups",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Metadata",children:[e.jsx(oe,{to:"/metadata-field/",primary:"Fields",onClose:s}),e.jsx(oe,{to:"/field-group/",primary:"Field Groups",onClose:s}),e.jsx(oe,{to:"/document/",primary:"Document",onClose:s}),e.jsx(oe,{to:"/projection/",primary:"Projection",onClose:s}),e.jsx(oe,{to:"/metadata-dataset/",primary:"Datasets",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Utils",children:[e.jsx(oe,{to:"/debug/echo/",primary:"XML Echo",onClose:s}),e.jsx(oe,{to:"/javascript/test/",primary:"Javascript Test",onClose:s}),e.jsx(oe,{to:"/stitch/",primary:"Stitch",onClose:s}),e.jsx(oe,{to:"/wizard/",primary:"Wizard",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Transcoding",children:[e.jsx(oe,{to:"/shape-tag/",primary:"Shape Tags",onClose:s}),e.jsx(oe,{to:"/conform/",primary:"Conform Media",onClose:s}),e.jsx(oe,{to:"/analyze-preset/",primary:"Analyze Presets",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Information",children:[e.jsx(oe,{to:"/swagger/",primary:"Swagger",onClose:s}),e.jsx(oe,{to:"/version/",primary:"Version",onClose:s}),e.jsx(oe,{to:"/selftest/",primary:"Self Test",onClose:s}),e.jsx(oe,{to:"/log",primary:"Audit Log",onClose:s}),e.jsx(oe,{to:"/error/",primary:"Error Log",onClose:s}),e.jsx(oe,{to:"/transfer/",primary:"Import Transfers",onClose:s}),e.jsx(oe,{to:"/scheduled-request/",primary:"Scheduled Requests",onClose:s}),e.jsx(oe,{to:"/deletion-lock/",primary:"Deletion Locks",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"System",children:[e.jsx(oe,{to:"/reindex/",primary:"Re-Index",onClose:s}),e.jsx(oe,{to:"/service/",primary:"Services",onClose:s}),e.jsx(oe,{to:"/service/stacktrace/",primary:"Stack Trace",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Configuration",children:[e.jsx(oe,{to:"/configuration/properties/",primary:"Properties",onClose:s}),e.jsx(oe,{to:"/configuration/job-pool/",primary:"Job Pool",onClose:s}),e.jsx(oe,{to:"/configuration/ftp-pool/",primary:"FTP Pool",onClose:s}),e.jsx(oe,{to:"/configuration/path-alias/",primary:"Path Alias",onClose:s}),e.jsx(oe,{to:"/external-id/",primary:"External Identifiers",onClose:s}),e.jsx(oe,{to:"/configuration/",primary:"All Configuration",onClose:s}),e.jsx(oe,{to:"/secret/",primary:"Secrets",onClose:s})]})}),e.jsx(O,{item:!0,...o,children:e.jsxs(ht,{subheader:"Notification",children:[e.jsx(oe,{to:"/notification/item/",primary:"Item",onClose:s}),e.jsx(oe,{to:"/notification/collection/",primary:"Collection",onClose:s}),e.jsx(oe,{to:"/notification/job/",primary:"Job",onClose:s}),e.jsx(oe,{to:"/notification/",primary:"All Notification",onClose:s})]})})]})}),e.jsx(W,{children:e.jsx(C,{variant:"caption",children:"Last Commit: ec3e5a6"})})]})}const Qw=I(tt,xe(Jw))(Yw);function Xw({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"groupName",value:t.groupName,hover:!0}),e.jsx(h,{title:"description",value:t.description,hover:!0}),e.jsx(h,{title:"role",value:t.role,variant:"boolean",hover:!0})]})}function Zw({groupDocument:t}){return e.jsx(w,{component:Xw,value:t})}function eU({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Zw,{...t})})})}const Dr=he((t,n,s)=>{const{queryParams:o,groupDocument:r}=t,i=s.groupName||t.groupDocument.groupName;return Pn.updateGroup({groupName:i,groupDocument:r,queryParams:o}).then(a=>({...a,data:{groupName:i,...r}}))}),tU=he(t=>{const{queryParams:n={},groupSearchDocument:s={}}=t;return Pn.searchGroup({queryParams:n,groupSearchDocument:s})});function nU(){return e.jsx(c,{name:"groupName",label:"Group",component:z,loadOptions:Hn,cacheOptions:!0,isClearable:!0,creatable:!0})}function sU(){return e.jsx(c,{name:"userName",label:"User",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,creatable:!0})}function tr(){return e.jsx(k,{name:"group",label:"Group",component:nU})}function cf(){return e.jsx(k,{name:"user",label:"User",component:sU})}function oU(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"groupName",component:at,fullWidth:!0}),e.jsx(c,{name:"description",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"role",component:E,disabled:!0}),label:"Role"}),e.jsx(S,{name:"metadata",component:Qa}),e.jsx(S,{name:"parentGroupList",label:"Parent Groups",component:tr}),e.jsx(S,{name:"childGroupList",label:"Child Groups",component:tr}),e.jsx(S,{name:"userList",label:"Users",component:cf})]})}const Pr=()=>e.jsx(R,{control:e.jsx(c,{name:"clear",component:E}),label:"Clear Existing Users/Groups"});function rU(){return e.jsx(S,{name:"userList",component:cf})}function iU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"groupDocument",component:rU}),e.jsx(S,{name:"queryParams",component:Pr}),e.jsx("button",{type:"submit",hidden:!0})]})}const aU=F()(iU);function lU(){return e.jsx(S,{name:"childGroupList",component:tr})}function cU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"groupDocument",component:lU}),e.jsx(S,{name:"queryParams",component:Pr}),e.jsx("button",{type:"submit",hidden:!0})]})}const dU=F()(cU);function uU(){return e.jsx(S,{name:"parentGroupList",component:tr})}function mU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"groupDocument",component:uU}),e.jsx(S,{name:"queryParams",component:Pr}),e.jsx("button",{type:"submit",hidden:!0})]})}const hU=F()(mU);function pU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"groupDocument",component:oU}),e.jsx(S,{name:"queryParams",component:Pr}),e.jsx("button",{type:"submit",hidden:!0})]})}const xU=F()(pU),bd="GROUP_CHILD_FORM";function jU({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i,groupDocument:a}){const l=(u,p,x)=>{o({messageContent:"Groups Updated"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Add Groups To ${i}`}),e.jsx(Ne,{children:e.jsx(dU,{form:bd,onSubmit:Dr,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,groupName:i,initialValues:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(bd),children:"Save"})]})]})}const fU=I(v,M)(jU);function gU({open:t,onClose:n,openSnackBar:s,groupName:o,userName:r,onSuccess:i}){const a=()=>{Pn.removeGroupUser({groupName:o,userName:r}).then(()=>{const l=`${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing User From Group",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove "${r}" From "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const df=v(gU);function bU({open:t,onClose:n,openSnackBar:s,parentGroupName:o,groupName:r,onSuccess:i}){const a=()=>{Pn.removeGroupChildren({groupName:o,childGroupName:r}).then(()=>{const l=`Group ${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Group "${r}" From ${o}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const CU=v(bU);function yU({open:t,onClose:n,openSnackBar:s,groupName:o,childGroupName:r,onSuccess:i}){const a=()=>{Pn.removeGroupChildren({groupName:o,childGroupName:r}).then(()=>{const l=`Group ${r} Removed From ${o}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Group "${r}" From ${o}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const SU=v(yU);function RU({groupDocument:t={},onRemove:n}){const s=ie.group({groupName:t.groupName});return e.jsxs(Te,{to:s,hover:!0,children:[e.jsx(P,{children:e.jsx(be,{to:s,children:t.groupName})}),e.jsx(P,{children:t.role&&e.jsx(Ct,{})}),e.jsx(P,{disableOnClick:!0,children:n&&e.jsx(ee,{onClick:()=>n({groupName:t.groupName}),children:e.jsx(et,{})})})]})}const _o="REMOVE_GROUP_DIALOG";function TU({groupListDocument:t={},userName:n,parentGroupName:s,childGroupName:o,onSuccess:r,dialogProps:i,onOpen:a,showRemove:l,count:d,page:u,rowsPerPage:p,onChangePage:x,onChangeRowsPerPage:j}){const{group:g=[]}=t,y=[100,250,500];return y.includes(p)||y.push(p),e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Group Name"}),e.jsx(P,{children:"Role"}),e.jsx(P,{})]})}),e.jsx(de,{children:g.map(D=>e.jsx(RU,{groupDocument:D,onRemove:l?a(_o):void 0},D.groupName))}),d&&e.jsx(Pt,{children:e.jsx(Te,{children:e.jsx(Ot,{count:d,page:u,rowsPerPage:p,onPageChange:x,onRowsPerPageChange:j,ActionsComponent:Lt,rowsPerPageOptions:y})})})]}),n&&e.jsx(df,{...i,dialogName:_o,userName:n,onSuccess:r}),s&&e.jsx(CU,{...i,dialogName:_o,parentGroupName:s,onSuccess:r}),o&&e.jsx(SU,{...i,dialogName:_o,childGroupName:o,onSuccess:r})]})}const Or=Ze(TU),Cd="ADD_GROUP_CHILD";function EU({groupName:t,onSuccess:n,groupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:"Child Groups"}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Add",children:e.jsx(ee,{onClick:()=>o({modalName:Cd}),children:e.jsx(Vt,{})})})})})}),e.jsx(Or,{groupListDocument:s.childGroupList,parentGroupName:t,onSuccess:n,showRemove:!0}),e.jsx(fU,{dialogName:Cd,groupName:t,groupDocument:s,onSuccess:n})]})}const IU=gn(EU);function vU({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(IU,{...t})})})}const yd="GROUP_PARENT_FORM";function AU({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i,groupDocument:a}){const l=(u,p,x)=>{o({messageContent:"Groups Updated"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Add "${i}" To Groups`}),e.jsx(Ne,{children:e.jsx(hU,{form:yd,onSubmit:Dr,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,groupName:i,initialValues:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(yd),children:"Save"})]})]})}const FU=I(v,M)(AU),Sd="ADD_GROUP_PARENT";function MU({groupName:t,onSuccess:n,groupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:"Parent Groups"}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Add",children:e.jsx(ee,{onClick:()=>o({modalName:Sd}),children:e.jsx(Vt,{})})})})})}),e.jsx(Or,{groupListDocument:s.parentGroupList,childGroupName:t,onSuccess:n,showRemove:!0}),e.jsx(FU,{dialogName:Sd,groupName:t,groupDocument:s,onSuccess:n})]})}const DU=gn(MU);function PU({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(DU,{...t})})})}function OU({open:t,onClose:n,openSnackBar:s,groupName:o,onSuccess:r}){const i=()=>{Pn.removeGroup({groupName:o}).then(()=>{const a=`Group ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Group",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Group "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const LU=v(OU);function NU({groupName:t,onOpen:n,onEnable:s,onDisable:o,realNameModal:r,tokenModal:i,passwordModal:a,...l}){return e.jsx(Y,{helpTo:"/ref/group.html",title:decodeURI(t),parentTitle:"Group",parentTo:"/group/",...l})}function _U({userDocument:t={},onRemove:n}){const s=ie.user({userName:t.userName});return e.jsxs(Be,{to:s,hover:!0,children:[e.jsx(P,{children:t.userName}),e.jsx(P,{children:t.realName}),e.jsx(P,{children:t.disabled&&e.jsx(Ct,{})}),e.jsx(P,{disableOnClick:!0,children:n&&e.jsx(ee,{onClick:o=>{o.preventDefault(),n({userName:t.userName})},children:e.jsx(et,{})})})]})}const Rd="REMOVE_USER_DIALOG";function $U({userListDocument:t={},count:n,page:s,rowsPerPage:o,onChangePage:r,onChangeRowsPerPage:i,groupName:a,onSuccess:l,onOpen:d,showRemove:u,dialogProps:p}){const{user:x=[]}=t,j=[100,250,500];return j.includes(o)||j.push(o),e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Username"}),e.jsx(P,{children:"Real Name"}),e.jsx(P,{children:"Disabled"}),e.jsx(P,{})]})}),e.jsx(de,{children:x.map(g=>e.jsx(_U,{userDocument:g,onRemove:u?d(Rd):void 0},g.userName))}),n&&e.jsx(Pt,{children:e.jsx(Te,{children:e.jsx(Ot,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:Lt,rowsPerPageOptions:j})})})]}),a&&e.jsx(df,{...p,dialogName:Rd,groupName:a,onSuccess:l})]})}const uf=Ze($U),Td="GROUP_USER_FORM";function WU({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,groupName:i,groupDocument:a}){const l=(u,p,x)=>{o({messageContent:"Users Updated"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Adding Users",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Add Users To ${i}`}),e.jsx(Ne,{children:e.jsx(aU,{form:Td,onSubmit:Dr,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,groupName:i,initialValues:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Td),children:"Save"})]})]})}const kU=I(v,M)(WU),Ed="ADD_GROUP_USER";function wU({groupName:t,onSuccess:n,groupDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:"Users"}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Add",children:e.jsx(ee,{onClick:()=>o({modalName:Ed}),children:e.jsx(Vt,{})})})})})}),e.jsx(uf,{userListDocument:s.userList,groupName:t,onSuccess:n,showRemove:!0}),e.jsx(kU,{dialogName:Ed,groupName:t,groupDocument:s,onSuccess:n})]})}const UU=gn(wU);function VU({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(UU,{...t})})})}const Id="GROUP_REMOVE_DIALOG";class GU extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.state={groupDocument:void 0}}componentDidMount(){this.onRefresh();const{groupName:n}=this.props;document.title=`VidiCore Admin | Group | ${n}`}UNSAFE_componentWillReceiveProps({groupName:n}){const{groupName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Group | ${n}`)}onRefresh(){const{groupName:n}=this.props;this.onFetch(n)}onFetch(n){try{Pn.getGroup({groupName:n}).then(s=>this.setState({groupDocument:s.data})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Group",messageColor:"secondary"})}render(){const{groupDocument:n}=this.state,{groupName:s,history:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(NU,{onRefresh:this.onRefresh,code:n,codeModal:"GroupDocument",groupName:s,removeModal:Id}),n&&e.jsxs(e.Fragment,{children:[e.jsx(eU,{groupDocument:n}),e.jsx(vU,{groupDocument:n,onSuccess:this.onRefresh,groupName:s}),e.jsx(PU,{groupDocument:n,onSuccess:this.onRefresh,groupName:s}),e.jsx(VU,{groupDocument:n,onSuccess:this.onRefresh,groupName:s}),e.jsx(Jn,{simpleMetadataDocument:n.metadata,onSuccess:this.onRefresh,entityType:"group",entityId:s})]}),e.jsx(LU,{dialogName:Id,groupName:s,onSuccess:()=>o.push("/group/")})]})}}const qU=v(GU);function HU({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Or,{...t})})})}function BU({onSubmit:t,openSnackBar:n,submitForm:s,resetForm:o,onSuccess:r,onFail:i,form:a,title:l,formAction:d,FormComponent:u,...p}){const x=(y,D,se)=>{r&&r(y,D,se)},j=(y,D,se)=>{const re=`Error Updating ${l}`;n({messageContent:re,messageColor:"secondary"}),i&&i(y,D,se)},g=Array.isArray(u)?u:[u];return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:l})}),e.jsx(Ie,{children:e.jsx(O,{container:!0,children:g.map((y,D)=>e.jsx(O,{item:!0,xs:!0,children:e.jsx(y,{form:a,onSubmit:d,onSubmitSuccess:x,onSubmitFail:j,...p})},D))})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>o(a),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>s(a),children:"Update"})]})]})}const mf=I(H,M)(BU),zU=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"role",component:E,default:""}),label:"Only Roles"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0,disabled:!0})]});function JU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:zU,fullWidth:!0})]})}const KU=F()(JU);function hf(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",component:m,fullWidth:!0}),e.jsx(c,{name:"value",component:m,fullWidth:!0})]})}function YU(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(c,{name:"order",component:K,children:[e.jsx(b,{value:"ascending",children:"Ascending"}),e.jsx(b,{value:"descending",children:"Descending"})]})]})]})}function QU(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"field",component:hf,label:"field",withHeader:!1,arrayHeader:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(c,{name:"operation",component:K,children:[e.jsx(b,{value:"AND",children:"AND"}),e.jsx(b,{value:"OR",children:"OR"}),e.jsx(b,{value:"NOT",children:"NOT"})]})]})]})}function XU(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"sort",component:YU,label:"sort",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"field",component:hf,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(S,{name:"operator",label:"operator",component:QU,fullWidth:!0})]})}function ZU({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"groupSearchDocument",label:"GroupSearchDocument",component:XU,fullWidth:!0})]})}const e0=F()(ZU),Hs="GROUP_LIST_PARAMS_FORM";function t0({number:t,first:n,...s}){return e.jsx(mf,{form:Hs,formAction:tU,FormComponent:[KU,e0],title:"Group List Params",initialValues:{queryParams:{number:t,first:n}},...s})}function n0(t){return e.jsx(Y,{title:"Group",helpTo:"/ref/group.html",...t})}function s0({open:t,onClose:n,onSuccess:s,openSnackBar:o}){const r=(a,l,d)=>{o({messageContent:"Group Created"}),n(),s&&s(a,l,d)},i=()=>{o({messageContent:"Error Creating Group",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Group"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:xU,documentName:"groupDocument",onSubmit:Dr,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const o0=v(s0),vd="GROUP_CREATE_MODAL";class r0 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={groupListDocument:void 0,page:0,rowsPerPage:10}}componentDidMount(){document.title="VidiCore Admin | Group",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Hs)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Group List",messageColor:"secondary"})}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props,o=0,r=o*n+1;await s(Hs,"queryParams.first",r),await s(Hs,"queryParams.number",n),await this.setState({page:o,rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{changeForm:s}=this.props,{rowsPerPage:o}=this.state,r=n*o+1;await s(Hs,"queryParams.first",r),await this.setState({page:n}),this.onRefresh()}render(){const{groupListDocument:n,rowsPerPage:s,page:o}=this.state,{history:r}=this.props,i=o*s+1;return e.jsxs(e.Fragment,{children:[e.jsx(n0,{createModal:vd,onRefresh:this.onRefresh,code:n,codeModal:"GroupListDocument"}),e.jsx(t0,{number:s,first:i,onSuccess:a=>this.setState({groupListDocument:a.data})}),n&&e.jsx(HU,{groupListDocument:n,onRefresh:this.onRefresh,first:i,rowsPerPage:s,count:n.hits,onChangePage:this.onChangePage,page:o,onChangeRowsPerPage:this.onChangeRowsPerPage}),e.jsx(o0,{dialogName:vd,onSuccess:({data:a})=>r.push(ie.group({groupName:a.groupName}))})]})}}const i0=I(M,v)(r0),$o=t=>String(t).replaceAll("'","'\\''"),a0=({method:t,fullUrl:n,requestHeaders:s,requestData:o,requestContentType:r})=>{const i=[];return i.push(`curl '${$o(n)}'`),i.push(`--request ${t}`),Object.entries(s).forEach(([a,l])=>i.push(`--header '${$o(`${a}: ${l}`)}'`)),o&&(r==="application/json"?i.push(`--data-raw '${$o(JSON.stringify(o))}'`):i.push(`--data-raw '${$o(o)}'`)),i.join(` \\
`)};function l0({request:t,onClick:n,label:s}){const o=a0(t),r=n?()=>n(o):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(h,{value:o,variant:"code",codeProps:{lineNumbers:!1,mode:"shell"}}),r&&s?e.jsx(f,{variant:"text",startIcon:e.jsx(Ip,{}),onClick:r,children:s}):null]})}const c0=["accept","content-type","authorization"],d0=({method:t,fullUrl:n,requestHeaders:s,requestData:o,requestContentType:r})=>{const i=[];let a;const l=new URL(n);l.pathname.startsWith("/API/")?(i.push("api"),i.push(`path('${l.pathname.replace("/API/","")}')`)):(i.push("http"),i.push(`uri('${l.origin}${l.pathname}')`)),Object.entries(s).filter(([g])=>!c0.includes(g.toLowerCase())).forEach(([g,y])=>i.push(`header('${g}', '${y}')`)),[...l.searchParams.entries()].forEach(([g,y])=>i.push(`queryParam('${g}', '${y}')`));const p=r&&r.toLowerCase()==="application/json";o!==void 0&&(a=`const requestBody = ${p?dC(o,{indent:"  "}):`\`${o}\``};`,i.push("input(requestBody)"),p||i.push(`dataType('${r}')`)),i.push(`${t.toLowerCase()}();`);const x=i.join("").length;i[1]=[i[0],i[1]].join("."),i.splice(0,1);const j=i.join(x>100?`
  .`:".");return a?[a,j].join(`

`):j};function u0({request:t,onClick:n,label:s="Go To JavaScript Test"}){const o=d0(t),r=n?()=>n(o):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(h,{value:o,variant:"code",codeProps:{lineNumbers:!1,mode:"javascript"}}),r&&s?e.jsx(f,{variant:"text",startIcon:e.jsx(Ip,{}),onClick:r,children:s}):null]})}const ai="VIDISPINE-TOKEN",li="VIDISPINE-USERNAME",ci="VIDISPINE-RUNAS",di="VIDISPINE-IS-AUTHENTICATED",Ad="VIDISPINE-SERVER-URL",nr="X-Proxy-URL",ui="TRANSFORM_CURL",mi="TRANSFORM_JAVASCRIPTAPI",m0=t=>({appBar:{position:"relative",backgroundColor:t.palette.background.default},scrollPaper:{width:"85%",backgroundColor:t.palette.background.default},dialogRoot:{justifyContent:"flex-start"},displayToolbar:{display:"flex",width:"100%",alignContent:"center",justifyContent:"space-between",paddingRight:t.spacing(2)},transformButtonList:{display:"flex",gap:t.spacing(2)}});function h0({value:[t,n]}){return e.jsx(h,{title:t,value:n,hover:!0,titleStartCase:!1})}function p0({value:t}){const[n]=t;let[,s]=t;return n&&["authorization"].includes(n.toLowerCase())&&(s=s.replace(/[^*]/g,"")),e.jsx(h,{title:n,value:s,hover:!0,titleStartCase:!1})}function x0({value:t}){return e.jsx(h,{title:t[0],value:t[1],hover:!0,titleStartCase:!1})}class j0 extends T.PureComponent{constructor(n){super(n),this.onRequest=this.onRequest.bind(this),this.onResponse=this.onResponse.bind(this),this.onClose=this.onClose.bind(this),this.onTransform=this.onTransform.bind(this),this.maxReponsesLength=20,this.requestInterceptor=we.defaultClient.interceptors.request.use(s=>(s.requestId=Math.random().toString(36).substr(2,12),this.onRequest(s),s)),this.responseInterceptor=we.defaultClient.interceptors.response.use(s=>(this.onResponse(s),s),s=>(this.onResponse({...s.response,config:s.config}),Promise.reject(s))),this.state={recentResponses:[],displayResponse:void 0,transformResponse:void 0}}componentWillUnmount(){we.defaultClient.interceptors.request.eject(this.requestInterceptor),we.defaultClient.interceptors.response.eject(this.responseInterceptor)}onRequest(n){const{baseURL:s}=this.props;if(!n)return;const{recentResponses:o}=this.state,{requestId:r,headers:i={},data:a,method:l,url:d}=n;let{url:u}=n;s&&(u=[s,d].join(""));const p=new URL(u),x=Array.from(p.searchParams),j={};Object.entries(i).forEach(([Oe,ke])=>{typeof ke=="string"&&Oe!==nr&&(j[Oe]=ke)});let g,y;const D=Oe=>Oe.toLowerCase()==="content-type",se=Object.keys(j).find(D);if(se&&a)switch(y=j[se].toLowerCase(),y){case"application/xml":g=pn(a);break;case"application/json":typeof a=="string"?g=JSON.parse(a):g=a;break;case"application/javascript":g=a;break;case"text/plain":g=a;break}const _e=[{requestId:r,url:d,fullUrl:u,baseURL:s,method:l.toUpperCase(),requestData:g,requestHeaders:j,requestParams:x,requestContentType:y},...o].slice(0,this.maxReponsesLength);this.setState({recentResponses:_e})}onResponse(n){if(!n)return;const{recentResponses:s}=this.state,{config:o={},status:r,headers:i={},data:a}=n,{requestId:l}=o;let d,u;const p=se=>se.toLowerCase()==="content-type",x=Object.keys(i).find(p);if(x)switch(u=i[x].toLowerCase(),u){case"application/xml":d=pn(a);break;case"application/json":d=a;break;case"application/javascript":d=a;break;case"text/plain":d=a;break}const j={status:r,responseData:d,responseHeaders:i,responseContentType:u},g=s.findIndex(se=>se.requestId===l),y=[...s];if(g>=0){const se=s[g];y[g]={...se,...j}}else y.unshift(j);const D=y.slice(0,this.maxReponsesLength);this.setState({recentResponses:D})}onClose(){const{onClose:n}=this.props;n(),this.setState({displayResponse:void 0,transformResponse:void 0})}onTransform(n){const{transformResponse:s}=this.state;this.setState({transformResponse:s===n?void 0:n})}render(){const{classes:n,open:s,history:o}=this.props,{recentResponses:r,displayResponse:i,transformResponse:a}=this.state;return s===!1?null:e.jsxs(_,{fullScreen:!0,open:s,onClose:this.onClose,classes:{root:n.dialogRoot,scrollPaper:n.scrollPaper},children:[e.jsx(pr,{elevation:0,className:n.appBar,children:e.jsx(xr,{disableGutters:!0,variant:"dense",children:i?e.jsxs("div",{className:n.displayToolbar,children:[e.jsx(ee,{onClick:()=>this.setState({displayResponse:void 0,transformResponse:void 0}),style:{padding:4},children:e.jsx(Rp,{})}),e.jsxs("div",{className:n.transformButtonList,children:[e.jsx(f,{variant:"outlined",size:"small",onClick:()=>this.onTransform(mi),children:a===mi?"Hide Javascript API":"Show Javascript API"}),e.jsx(f,{variant:"outlined",size:"small",onClick:()=>this.onTransform(ui),children:a===ui?"Hide cURL":"Show cURL"})]})]}):e.jsx(ee,{onClick:this.onClose,children:e.jsx(ha,{})})})}),i?e.jsxs(X,{children:[a===ui?e.jsx(l0,{request:i}):null,a===mi?e.jsx(u0,{request:i,onClick:l=>{o.push({pathname:"/javascript/test/",state:{initialValues:{javascriptDocument:l}}}),this.onClose()}}):null,a===void 0?e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:i.fullUrl,hover:!0}),e.jsx(h,{title:"Method",value:i.method,hover:!0}),e.jsx(h,{title:"Status",value:i.status,hover:!0}),e.jsx(Z,{arrayTitle:"Request Params",value:i.requestParams,component:h0}),e.jsx(Z,{arrayTitle:"Request Headers",value:Object.entries(i.requestHeaders),component:p0}),i.requestContentType==="application/json"?e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"subtitle2",children:"Request Data"}),e.jsx(Oi,{src:i.requestData,theme:"solarized",displayDataTypes:!1,collapsed:!1,enableClipboard:l=>navigator.clipboard.writeText(JSON.stringify(l.src,null,"	")),displayObjectSize:!1,name:!1})]}):e.jsx(h,{title:"Request Data",value:i.requestData,variant:"code",hover:!0,hideNoValue:!0}),i.responseHeaders&&e.jsx(Z,{arrayTitle:"Response Headers",value:Object.entries(i.responseHeaders),component:x0}),i.responseData&&(i.responseContentType==="application/json"?e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"subtitle2",children:"Response Data"}),e.jsx(Oi,{src:i.responseData,theme:"solarized",displayDataTypes:!1,collapsed:2,enableClipboard:l=>navigator.clipboard.writeText(JSON.stringify(l.src,null,"	")),name:!1})]}):e.jsx(h,{title:"Response Data",value:i.responseData,variant:"code",hover:!0,hideNoValue:!0}))]}):null]}):e.jsx(ce,{children:e.jsx(de,{children:r.map(l=>e.jsxs(Te,{hover:!0,onClick:()=>this.setState({displayResponse:l}),children:[e.jsx(P,{children:l.url}),e.jsx(P,{children:l.method}),e.jsx(P,{children:l.status||"Pending"})]},l.requestId))})})]})}}const f0=I(gn,xe(m0))(j0),Ft=t=>class extends T.PureComponent{constructor(n){super(n),this.onBack=this.onBack.bind(this),this.onNext=this.onNext.bind(this),this.state={activeStep:0}}onBack(){const{activeStep:n}=this.state;n!==0&&this.setState({activeStep:n-1})}onNext(){const{activeStep:n}=this.state;this.setState({activeStep:n+1})}render(){const{activeStep:n}=this.state;return e.jsx(t,{onBack:this.onBack,onNext:this.onNext,activeStep:n,...this.props})}},Bs="EDIT_COLLECTION_FORM";function g0({onSuccess:t,onFail:n,submitForm:s,onNext:o,onBack:r,activeStep:i,openSnackBar:a}){const l=(u,p,x)=>{a({messageContent:"Collection Created"}),t&&t(u,p,x)},d=(u,p,x)=>{a({messageContent:"Error Creating Collection",messageColor:"secondary"}),n&&n(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Collection",helpTo:"/ref/collection.html#create-a-collection"}),e.jsxs(lt,{activeStep:i,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(oM,{onSubmit:Vi,onSubmitSuccess:l,onSubmitFail:d,form:Bs,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{variant:"text",color:"primary",onClick:o,children:"Edit Collection Document"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>s(Bs),children:"Create"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Collection Document"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(nM,{onSubmit:Vi,onSubmitSuccess:l,onSubmitFail:d,form:Bs,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:r,children:"Back"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>s(Bs),children:"Create"})]})]})})]})]})]})}const b0=I(Ft,v,M)(g0);function C0({destroyForm:t,history:n,...s}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Collection",()=>{t(Bs)}),[t]);const o=r=>{n.push(`/collection/${r.data.id}`)};return e.jsx(b0,{onSuccess:o,...s})}const y0=I(We,M)(C0);function Fd(t){const{queryParams:n,metadataDocument:s}=t;return Mn.createImportUri({queryParams:n,metadataDocument:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function Md(t){const{queryParams:n,metadataDocument:s,upload:o}=t,{transferId:r}=n,i=o[0],{name:a}=i;return Mn.createImportRawPasskey({filename:a,queryParams:n,metadataDocument:s}).then(l=>{const{data:{data:d=[]}}=l,u=d.find(p=>p.key==="passkey").value;return Mn.createImportRawNoAuth({file:i,queryParams:{passkey:u,transferId:r}})}).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}function Dd(t){const{queryParams:n,metadataDocument:s}=t;return Mn.createImportPlaceholder({queryParams:n,metadataDocument:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function Pd(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.component||t.component;return Mn.createImportComponent({itemId:r,component:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function S0(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Mn.createImportItemSidecar({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function R0(t,n,s){const{queryParams:o,upload:r}=t,i=s.itemId||t.itemId,a=r[0];return Mn.createImportItemSidecarRaw({itemId:i,file:a,queryParams:o}).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}const T0=()=>e.jsxs(an,{children:[e.jsx(c,{name:"uri",label:"URI",component:m,helperText:"A URI to the file that will be imported. Make sure to percent encode the URI. Must be specified unless fileId is specified",fullWidth:!0}),e.jsx(c,{name:"fileId",label:"File ID",component:m,helperText:"The id of the file that contains the essence. Must be specified unless uri is specified",fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(Re,{children:"True - import the file to this shape even if the file is already importing or is already part of another item. False - Reject the request if the file with the given id has already been imported or is currently importing"})]}),e.jsx(c,{name:"tag",label:"Tag",helperText:"List of shape tags to use for transcoding",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"original",label:"Original",helperText:"Original shape tag will be reset to the shape created to this tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!1,creatable:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"no-transcode",component:E}),label:"No Transcoding"}),e.jsx(Re,{children:"Disable transcoding even if the tags parameter is set"})]}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(Re,{children:"Generate thumbnails as per defined by shape tag"})]}),e.jsx(c,{name:"thumbnailService",label:"Thumbnail Service",helperText:"Resource ID used to store thumbnails",component:m,fullWidth:!0}),e.jsx(c,{name:"createPosters",label:"Create Posters",helperText:"A list of time codes to use for creating posters",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"storageId",label:"Storage ID",helperText:"Where the file is to be stored",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,helperText:"The resource to used for transcoding",fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override Fast Start",fullWidth:!0}),e.jsx(Re,{children:"Use transcoders estimate of the duration for allocating header space in MOV files and similar files"})]}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require Fast Start",fullWidth:!0}),e.jsx(Re,{children:"True - try to put the index tables (header) in front of the file. False - put header at end of file"})]}),e.jsx(c,{name:"fastStartLength",label:"Fast Start Length",helperText:"Estimated duration of the clip in seconds",component:m,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"growing",component:E}),label:"Growing"}),e.jsx(Re,{children:"The input file is still written to, so enables growing file support"})]}),e.jsx(c,{name:"notification",label:"Notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]}),e.jsx(c,{name:"settings",label:"Settings",helperText:"Import Settings",component:m,fullWidth:!0}),e.jsx(c,{name:"index",label:"Index",component:m,type:"number",helperText:"The component index (track) of new component",fullWidth:!0}),e.jsx(c,{name:"shapeId",label:"Shape ID",helperText:"Which shape receives content",component:m,fullWidth:!0}),e.jsx(c,{name:"extractCc",label:"Extract CC",helperText:"Extract closed captions as metadata",component:m,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"ccFromVideo",component:E}),label:"CC From Video"}),e.jsx(Re,{children:"Extract closed captions from video tracks as well as data tracks"})]})]});function E0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"itemId",label:"Item Id",component:m,validate:[Q],required:!0,fullWidth:!0}),e.jsxs(G,{required:!0,fullWidth:!0,children:[e.jsx(J,{htmlFor:"component",children:"Component"}),e.jsxs(c,{name:"component",component:K,validate:[Q],children:[e.jsx(b,{value:"container",children:"Container"}),e.jsx(b,{value:"video",children:"Video"}),e.jsx(b,{value:"audio",children:"Audio"}),e.jsx(b,{value:"binary",children:"Binary"})]})]}),e.jsx(S,{name:"queryParams",component:T0}),e.jsx("button",{type:"submit",hidden:!0})]})}const I0=F()(E0),zs="EDIT_IMPORTCOMPONENT_FORM";function v0({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const d=(x,j,g)=>{l({messageContent:"Job Started"}),n&&n(x,j,g)},u=(x,j,g)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,g)},p={component:(t==null?void 0:t.component)||"container",queryParams:(t==null?void 0:t.queryParams)||{},itemId:t==null?void 0:t.itemId,metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]}};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Component",helpTo:"/ref/item/import.html#import-to-a-placeholder-item"}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(I0,{onSubmit:Pd,initialValues:p,onSubmitSuccess:d,onSubmitFail:u,form:zs})}),e.jsxs(te,{children:[e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Edit Metadata"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(zs),children:"Start"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:Pd,initialValues:p,onSubmitSuccess:d,onSubmitFail:u,form:zs,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(zs),children:"Start"})]})]})})]})]})]})}const A0=I(Ft,v,M)(v0);function F0({destroyForm:t,history:n,location:s,...o}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Component",()=>{t(zs)}),[t]);const r=new URLSearchParams(s.search),i=r.get("fileId"),a=r.get("itemId"),l=d=>{n.push(`/job/${d.data.jobId}`)};return e.jsx(A0,{onSuccess:l,initialValues:{itemId:a,queryParams:{fileId:i}},...o})}const M0=I(We,M)(F0),D0=()=>e.jsxs(an,{children:[e.jsx(c,{name:"filename",label:"Filename",helperText:"original filename of the file",component:m,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(Re,{children:"True - import the file to this shape even if the file is already importing or is already part of another item. False - Reject the request if the file with the given id has already been imported or is currently importing"})]}),e.jsx(c,{name:"id",label:"ID",helperText:" Comma-separated list of external ids to assign to the item",component:m,fullWidth:!0}),e.jsx(c,{name:"tag",label:"Tag",helperText:"List of shape tags to use for transcoding",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"original",label:"Original",helperText:"Original shape tag will be reset to the shape created to this tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!1,creatable:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(Re,{children:"Generate thumbnails as per defined by shape tag"})]}),e.jsx(c,{name:"thumbnailService",label:"Thumbnail Service",helperText:"Resource ID used to store thumbnails",component:m,fullWidth:!0}),e.jsx(c,{name:"createPosters",label:"Create Posters",helperText:"A list of time codes to use for creating posters",component:pe,simple:!0,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"no-transcode",component:E}),label:"No Transcoding"}),e.jsx(Re,{children:"Disable transcoding even if the tags parameter is set"})]}),e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,helperText:"The resource to used for transcoding",fullWidth:!0}),e.jsx(c,{name:"frame-rate",label:"Frame Rate",helperText:"The frame rate of the image sequence",component:m,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override Fast Start",fullWidth:!0}),e.jsx(Re,{children:"Use transcoders estimate of the duration for allocating header space in MOV files and similar files"})]}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require Fast Start",fullWidth:!0}),e.jsx(Re,{children:"If true try to put the index tables (header) in front of the file, if false put header at end of file"})]}),e.jsx(c,{name:"fastStartLength",label:"Fast Start Length",helperText:"Estimated duration of the clip in seconds",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",label:"Notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]}),e.jsx(c,{name:"settings",label:"Settings",helperText:"Import Settings",component:m,fullWidth:!0}),e.jsx(c,{name:"importTag",label:"Import Tag",helperText:"List of shape tags that the created shape will be associated with",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"extractCc",label:"Extract CC",helperText:"Extract closed captions as metadata",component:m,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"ccFromVideo",component:E}),label:"CC From Video"}),e.jsx(Re,{children:"Extract closed captions from video tracks as well as data tracks"})]}),e.jsx(c,{name:"resourceTag",label:"Resource Tag",helperText:"Criteria used to select transcoders for the job",component:m,fullWidth:!0})]});function P0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"fileId",label:"File ID",component:m,validate:[Q],required:!0,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:D0}),e.jsx("button",{type:"submit",hidden:!0})]})}const O0=F()(P0),Js="EDIT_IMPORTFILE_FORM";function L0({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const d=(x,j,g)=>{l({messageContent:"Job Started"}),n&&n(x,j,g)},u=(x,j,g)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,g)},p={...t};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"File",helpTo:"/ref/storage/file.html#import-a-file"}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(O0,{onSubmit:Yc,initialValues:p,onSubmitSuccess:d,onSubmitFail:u,form:Js,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{variant:"text",onClick:r,children:"Edit Metadata"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(Js),children:"Start"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:Yc,initialValues:p,onSubmitSuccess:d,onSubmitFail:u,form:Js,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(Js),children:"Start"})]})]})})]})]})]})}const N0=I(Ft,v,M)(L0);function _0({destroyForm:t,history:n,location:s,...o}){T.useEffect(()=>(document.title="VidiCore Admin | Import | File",()=>{t(Js)}),[t]);const i=new URLSearchParams(s.search).get("fileId"),a=l=>{n.push(`/job/${l.data.jobId}`)};return e.jsx(N0,{onSuccess:a,initialValues:{fileId:i,metadataDocument:{}},...o})}const $0=I(We,M)(_0),W0=()=>e.jsxs(an,{children:[e.jsx(c,{name:"container",component:m,type:"number",helperText:"The number of files that contain container components",fullWidth:!0}),e.jsx(c,{name:"audio",component:m,type:"number",helperText:"The number of files that contain audio components",fullWidth:!0}),e.jsx(c,{name:"video",component:m,type:"number",helperText:"The number of files that contain video components",fullWidth:!0}),e.jsx(c,{name:"binary",component:m,type:"number",helperText:"The number of files that contain binary components",fullWidth:!0}),e.jsx(c,{name:"subtitle",component:m,type:"number",helperText:"The number of files that contain subtitle components",fullWidth:!0}),e.jsx(c,{name:"frameDuration",label:"Frame Duration",component:m,helperText:"Duration for each image in the sequence",type:"number",fullWidth:!0}),e.jsx(c,{name:"settings",label:"Settings",helperText:"Pre-configured import settings",component:m,fullWidth:!0}),e.jsx(c,{name:"importTag",label:"Import Tag",helperText:"List of shape tags that the created shape will be associated with",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"externalId",label:"External ID",helperText:"An external identifier to assign to the item",component:m,fullWidth:!0})]});function k0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:W0}),e.jsx("button",{type:"submit",hidden:!0})]})}const w0=F()(k0),Ks="EDIT_IMPORTPLACEHOLDER_FORM";function U0({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const d={queryParams:{container:1},metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]},...t},u=(x,j,g)=>{l({messageContent:"Placeholder Created"}),n&&n(x,j,g)},p=(x,j,g)=>{l({messageContent:"Error Creating Placeholder",messageColor:"secondary"}),s&&s(x,j,g)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Placeholder Item",helpTo:"/ref/item/import.html#create-a-placeholder-item"}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(w0,{onSubmit:Dd,initialValues:d,onSubmitSuccess:u,onSubmitFail:p,form:Ks,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Edit Metadata"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(Ks),children:"Create"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:Dd,initialValues:d,form:Ks,onSubmitSuccess:u,onSubmitFail:p,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(Ks),children:"Create"})]})]})})]})]})]})}const V0=I(Ft,v,M)(U0);function G0({destroyForm:t,history:n,...s}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Placeholder",()=>{t(Ks)}),[t]);const o=r=>{n.push(`/item/${r.data.id}`)};return e.jsx(V0,{onSuccess:o,...s})}const pf=I(We,M)(G0),q0=()=>e.jsxs(an,{children:[e.jsx(c,{name:"tag",label:"Tag",helperText:"List of shape tags to use for transcoding",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"original",label:"Original",helperText:"Original shape tag will be reset to the shape created to this tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!1,creatable:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"no-transcode",component:E}),label:"No Transcoding"}),e.jsx(Re,{children:"Disable transcoding even if the tags parameter is set"})]}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(Re,{children:"Generate thumbnails as per defined by shape tag"})]}),e.jsx(c,{name:"thumbnailService",label:"Thumbnail Service",helperText:"Resource ID used to store thumbnails",component:m,fullWidth:!0}),e.jsx(c,{name:"createPosters",label:"Create Posters",helperText:"A list of time codes to use for creating posters",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"transferPriority",label:"Transfer Priority",component:m,type:"number",helperText:"Between 1 and 1000 to indicate what priority the transfer should be given in relation to other transfers",fullWidth:!0}),e.jsx(c,{name:"transferId",label:"Transfer ID",helperText:"ID to assign the transfer to be able to refer to it",component:m,validate:[Q],required:!0,fullWidth:!0}),e.jsx(c,{name:"storageId",label:"Storage ID",helperText:"Where the file is to be stored",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override Fast Start",fullWidth:!0}),e.jsx(Re,{children:"Use transcoders estimate of the duration for allocating header space in MOV files and similar files"})]}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require Fast Start",fullWidth:!0}),e.jsx(Re,{children:"True - try to put the index tables (header) in front of the file. False - put header at end of file"})]}),e.jsx(c,{name:"fastStartLength",label:"Fast Start Length",helperText:"Estimated duration of the clip in seconds",component:m,fullWidth:!0}),e.jsx(c,{name:"originalFilename",label:"Original Filename",helperText:"ID to assign the transfer to be able to refer to it",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",label:"Notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]}),e.jsx(c,{name:"settings",label:"Settings",helperText:"Import Settings",component:m,fullWidth:!0}),e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,helperText:"The resource to used for transcoding",fullWidth:!0}),e.jsx(c,{name:"ids",label:"IDs",helperText:" Comma-separated list of external ids to assign to the item",component:m,fullWidth:!0}),e.jsx(c,{name:"importTag",label:"Import Tag",helperText:"A list of shape tags that the created shape will be associated with",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"extractCc",label:"Extract CC",helperText:"Extract closed captions as metadata",component:m,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"ccFromVideo",component:E}),label:"CC From Video"}),e.jsx(Re,{children:"Extract closed captions from video tracks as well as data tracks"})]}),e.jsx(c,{name:"resourceTag",label:"Resource Tag",helperText:"Criteria used to select transcoders for the job",component:m,fullWidth:!0})]});function H0({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"upload",label:"Choose File",component:Ar,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:q0}),e.jsx("button",{type:"submit",hidden:!0})]})}const B0=F()(H0),is="EDIT_IMPORTRAW_FORM";function z0({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l,isFormSubmitting:d}){const p={queryParams:{transferId:T.useMemo(()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),[])},metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]},...t},x=(g,y,D)=>{l({messageContent:"Job Started"}),n&&n(g,y,D)},j=(g,y,D)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(g,y,D)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Upload",helpTo:"/ref/item/import.html#import-using-a-passkey"}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(B0,{onSubmit:Md,initialValues:p,onSubmitSuccess:x,onSubmitFail:j,form:is,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{variant:"text",onClick:r,children:"Edit Metadata"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(is),disabled:d,children:"Start"}),d&&e.jsx(ds,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:Md,initialValues:p,onSubmitSuccess:x,onSubmitFail:j,form:is,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(is),disabled:d,children:"Start"}),d&&e.jsx(ds,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})]})]})})]})]})]})}const J0=I(Ft,v,M,Gt)(z0,is);function K0({destroyForm:t,history:n,...s}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Upload",()=>{t(is)}),[t]);const o=r=>{n.push(`/job/${r.data.jobId}`)};return e.jsx(J0,{onSuccess:o,...s})}const Y0=I(We,M)(K0);function Q0(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Ve.createShapeEssenceImport({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function X0(t,n,s){const{queryParams:o,shapeDocument:r={}}=t,i=s.itemId||t.itemId;return Ve.createShape({itemId:i,queryParams:o,shapeDocument:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function Z0(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Ve.createShapeImport({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function eV(t,n,s){const{queryParams:o,simpleMetadataDocument:r={}}=t,i=s.itemId||t.itemId;return Ve.createShapePlaceholder({itemId:i,metadataDocument:r,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function tV(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Ve.createShapeImportImp({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function nV(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return Ve.listShape({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function sV(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Ve.getShape({itemId:r,shapeId:i,queryParams:o}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function oV(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Ve.getShape({itemId:r,shapeId:i,queryParams:o,path:`/API/item/${r}/shape/${i}/file`}).then(a=>({itemId:r,shapeId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function rV(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Ve.removeShape({itemId:r,shapeId:i,queryParams:o}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function iV(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return Ve.removeShapeAll({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function aV(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Ve.createTranscode({itemId:r,shapeId:i,queryParams:o}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function lV(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Ve.createDeduction({itemId:r,shapeId:i,queryParams:o}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function cV(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.tagName||t.tagName;return Ve.updateShapeTag({itemId:o,shapeId:r,tagName:i}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function dV(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.mimeType||t.mimeType;return Ve.updateShapeMime({itemId:o,shapeId:r,mimeType:encodeURIComponent(i)}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function uV(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,{queryParams:i,simpleMetadataDocument:a}=t;return Ve.updateShapePlaceholder({itemId:o,shapeId:r,queryParams:i,simpleMetadataDocument:a}).then(l=>({itemId:o,...l})).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}function mV(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.tagName||t.tagName;return Ve.removeShapeTag({itemId:o,shapeId:r,tagName:i}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function hV(t,n,s){const o=s.itemId||t.itemId,r=s.shapeId||t.shapeId,i=s.mimeType||t.mimeType;return Ve.removeShapeMime({itemId:o,shapeId:r,mimeType:encodeURIComponent(i)}).then(a=>({itemId:o,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function pV(t,n,s){const{analyzeJobDocument:o={},queryParams:r}=t,i=s.itemId||t.itemId,a=s.shapeId||t.shapeId;return Ve.createShapeAnalyze({itemId:i,shapeId:a,queryParams:r,analyzeJobDocument:o}).then(l=>({itemId:i,...l})).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}function xV(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Ve.createTranscode({itemId:r,shapeId:i,queryParams:o,path:`/API/item/${r}/shape/${i}/export`,method:"POST"}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function jV(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Ve.createTranscode({itemId:r,shapeId:i,queryParams:o,path:`/API/item/${r}/shape/${i}/export/imp`,method:"POST"}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}const fV=()=>e.jsxs(an,{children:[e.jsx(c,{name:"uri",label:"URI",component:m,helperText:"A URI to the file that will be imported. Make sure to percent encode the URI. Must be specified unless fileId is specified",fullWidth:!0}),e.jsx(c,{name:"fileId",label:"File ID",component:m,helperText:"The id of the file that contains the essence. Must be specified unless uri is specified",fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(Re,{children:"True - import the file to this shape even if the file is already importing or is already part of another item. False - Reject the request if the file with the given id has already been imported or is currently importing"})]}),e.jsx(c,{name:"tag",label:"Tag",helperText:"List of shape tags to use for transcoding",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"storageId",label:"Storage ID",helperText:"Where the file is to be stored",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"notification",label:"Notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]})]});function gV({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"itemId",label:"Item Id",component:m,validate:[Q],required:!0,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:fV}),e.jsx("button",{type:"submit",hidden:!0})]})}const bV=F()(gV),Zi="EDIT_IMPORTSHAPE_FORM";function CV({initialValues:t,onSuccess:n,onFail:s,submitForm:o,activeStep:r,openSnackBar:i}){const a={queryParams:{tag:["original"]},...t},l=(u,p,x)=>{i({messageContent:"Job Started"}),n&&n(u,p,x)},d=(u,p,x)=>{i({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Shape",helpTo:"/ref/item/shape.html#import-a-shape-using-a-uri-or-an-existing-file"}),e.jsx(lt,{activeStep:r,orientation:"vertical",children:e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(bV,{onSubmit:Z0,initialValues:a,onSubmitSuccess:l,onSubmitFail:d,form:Zi,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(Zi),children:"Start"})})]})})]})})]})}const yV=I(Ft,v,M)(CV);function SV({destroyForm:t,history:n,location:s,...o}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Shape",()=>{t(Zi)}),[t]);const r=new URLSearchParams(s.search),i=r.get("fileId"),a=r.get("itemId"),l=d=>{n.push(`/job/${d.data.jobId}`)};return e.jsx(yV,{onSuccess:l,initialValues:{itemId:a,queryParams:{fileId:i}},...o})}const RV=I(We,M)(SV),TV=()=>e.jsxs(an,{children:[e.jsx(c,{name:"uri",label:"URI",component:m,helperText:"A URI to the file that will be imported. Make sure to percent encode the URI. Must be specified unless fileId is specified",fullWidth:!0}),e.jsx(c,{name:"fileId",label:"File ID",component:m,helperText:"The id of the file that contains the essence. Must be specified unless uri is specified",fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(Re,{children:"True - import the file to this shape even if the file is already importing or is already part of another item. False - Reject the request if the file with the given id has already been imported or is currently importing"})]}),e.jsx(c,{name:"storageId",label:"Storage ID",helperText:"Where the file is to be stored",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,helperText:"The resource to used for transcoding",fullWidth:!0}),e.jsx(c,{name:"frame-rate",label:"Frame Rate",helperText:"The frame rate of the image sequence",component:m,fullWidth:!0}),e.jsx(c,{name:"tag",label:"Tag",helperText:"List of shape tags to use for transcoding",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"notification",label:"Notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]})]});function EV({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"itemId",label:"Item Id",component:m,validate:[Q],required:!0,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:TV}),e.jsx("button",{type:"submit",hidden:!0})]})}const IV=F()(EV),ea="EDIT_IMPORTSHAPEESSENCE_FORM";function vV({initialValues:t,onSuccess:n,onFail:s,submitForm:o,activeStep:r,openSnackBar:i,itemId:a}){const l=(u,p,x)=>{i({messageContent:"Job Started"}),n&&n(u,p,x)},d=(u,p,x)=>{i({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Essence",helpTo:"/ref/item/shape.html#import-an-essence-version-using-a-uri-or-an-existing-file"}),e.jsx(lt,{activeStep:r,orientation:"vertical",children:e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(IV,{onSubmit:Q0,initialValues:t,onSubmitSuccess:l,onSubmitFail:d,form:ea,destroyOnUnmount:!1,itemId:a})}),e.jsx(te,{children:e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(ea),children:"Start"})})]})})]})})]})}const AV=I(Ft,v,M)(vV);function FV({destroyForm:t,history:n,...s}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Essence",()=>{t(ea)}),[t]);const o=r=>{n.push(`/job/${r.data.jobId}`)};return e.jsx(AV,{onSuccess:o,...s})}const MV=I(We,M)(FV),DV=()=>e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(L,{name:"container",label:"Container",component:m,type:"number",fullWidth:!0,helperText:"Total Container Files"}),e.jsx(L,{name:"audio",label:"Audio",component:m,helperText:"Total Audio Files",type:"number",fullWidth:!0}),e.jsx(L,{name:"video",label:"Video",component:m,type:"number",helperText:"Total Video Files",fullWidth:!0}),e.jsx(L,{name:"binary",label:"Binary",component:m,type:"number",fullWidth:!0,helperText:"Total Binary Files"}),e.jsx(L,{name:"subtitle",label:"Subtitle",component:m,type:"number",fullWidth:!0,helperText:"Total Subtitle Files"}),e.jsx(L,{name:"frameDuration",label:"Frame Duration",component:m,type:"number",fullWidth:!0})]});function PV({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"itemId",label:"Item Id",component:m,validate:[Q],required:!0,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:DV}),e.jsx(S,{name:"simpleMetadataDocument",label:"Simple Metadata",component:Ln}),e.jsx("button",{type:"submit",hidden:!0})]})}const OV=F()(PV),ta="EDIT_IMPORTSHAPEPLACEHOLDER_FORM";function LV({initialValues:t,onSuccess:n,onFail:s,submitForm:o,activeStep:r,openSnackBar:i}){const a={queryParams:{container:1},...t},l=(u,p,x)=>{i({messageContent:"Placeholder Shape Created"}),n&&n(u,p,x)},d=(u,p,x)=>{i({messageContent:"Error Creating Placeholder Shape",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Placeholder Shape",helpTo:"/ref/item/shape.html#create-a-placeholder-shape"}),e.jsx(lt,{activeStep:r,orientation:"vertical",children:e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(OV,{onSubmit:eV,initialValues:a,onSubmitSuccess:l,onSubmitFail:d,form:ta,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(ta),children:"Create"})})]})})]})})]})}const NV=I(Ft,v,M)(LV);function _V({destroyForm:t,location:n,history:s,...o}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Shape Placeholder",()=>{t(ta)}),[t]);const i=new URLSearchParams(n.search).get("itemId"),a=(l,d,{values:u})=>{const p=l==null?void 0:l.data,x=u==null?void 0:u.itemId;s.push(`/item/${x}/shape/${p}/`)};return e.jsx(NV,{initialValues:{itemId:i},onSuccess:a,...o})}const $V=I(We,M)(_V),WV=()=>e.jsxs(an,{children:[e.jsx(c,{name:"sidecar",label:"FileId / URI",component:m,helperText:"Either the id of the sidecar file or a URL for locating it",required:!0,fullWidth:!0}),e.jsx(c,{name:"startTimeCode",label:"Start TimeCode",component:m,helperText:"Expected start time code of the content",fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"componentImport",component:E}),label:"Component Import"}),e.jsx(Re,{children:"Import sidecar file as a subtitle component"})]}),e.jsx(c,{name:"notification",label:"Notification ID",component:m,helperText:"The placeholder job notification to use for this job",fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]})]});function kV({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:WV}),e.jsx("button",{type:"submit",hidden:!0})]})}const wV=F()(kV),na="EDIT_IMPORTSIDECAR_FORM";function UV({initialValues:t,onSuccess:n,onFail:s,submitForm:o,activeStep:r,openSnackBar:i,itemId:a}){const l=(u,p,x)=>{i({messageContent:"Job Started"}),n&&n(u,p,x)},d=(u,p,x)=>{i({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Sidecar",helpTo:"/ref/item/import.html#post--import-sidecar-(item-id)"}),e.jsx(lt,{activeStep:r,orientation:"vertical",children:e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(wV,{onSubmit:S0,initialValues:t,onSubmitSuccess:l,onSubmitFail:d,form:na,destroyOnUnmount:!1,itemId:a})}),e.jsx(te,{children:e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(na),children:"Start"})})]})})]})})]})}const VV=I(Ft,v,M)(UV);function GV({destroyForm:t,history:n,location:s,...o}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Sidecar",()=>{t(na)}),[t]);const r=new URLSearchParams(s.search),i=r.get("fileId"),a=r.get("itemId"),l=d=>{n.push(`/job/${d.data.jobId}`)};return e.jsx(VV,{onSuccess:l,initialValues:{itemId:a,queryParams:{sidecar:i}},...o})}const qV=I(We,M)(GV),HV=()=>e.jsxs(an,{children:[e.jsx(c,{name:"storageId",label:"Storage ID",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"fileExtension",label:"File Extension",component:m,helperText:"Used to identify the sidecar media type. Example: srt",required:!0,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"startTimeCode",label:"Start TimeCode",component:m,helperText:"Expected start time code of the content",fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"componentImport",component:E}),label:"Component Import"}),e.jsx(Re,{children:"Import sidecar file as a subtitle component"})]}),e.jsx(c,{name:"notification",label:"Notification ID",component:m,helperText:"The placeholder job notification to use for this job",fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]})]});function BV({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"upload",label:"Choose File",component:Ar,validate:[Q],fullWidth:!0}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:HV}),e.jsx("button",{type:"submit",hidden:!0})]})}const zV=F()(BV),sa="EDIT_IMPORTSIDECARRAW_FORM";function JV({initialValues:t,onSuccess:n,onFail:s,submitForm:o,activeStep:r,openSnackBar:i,itemId:a}){const l=(u,p,x)=>{i({messageContent:"Job Started"}),n&&n(u,p,x)},d=(u,p,x)=>{i({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"Sidecar Upload",helpTo:"/ref/item/import.html#post--import-sidecar-(item-id)-raw"}),e.jsx(lt,{activeStep:r,orientation:"vertical",children:e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(zV,{onSubmit:R0,initialValues:t,onSubmitSuccess:l,onSubmitFail:d,form:sa,destroyOnUnmount:!1,itemId:a})}),e.jsx(te,{children:e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(sa),children:"Start"})})]})})]})})]})}const KV=I(Ft,v,M)(JV);function YV({destroyForm:t,history:n,location:s,...o}){T.useEffect(()=>(document.title="VidiCore Admin | Import | Sidecar Upload",()=>{t(sa)}),[t]);const i=new URLSearchParams(s.search).get("itemId"),a=l=>{n.push(`/job/${l.data.jobId}`)};return e.jsx(KV,{onSuccess:a,initialValues:{itemId:i,queryParams:{}},...o})}const QV=I(We,M)(YV),XV=()=>e.jsxs(an,{children:[e.jsx(c,{name:"uri",label:"URI",component:m,helperText:"Make Sure To Percent Encode",fullWidth:!0}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"original",label:"Original Shape Tag",component:m,helperText:"Reset original to this tag",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"no-transcode",component:E,fullWidth:!0}),label:"No Transcode"}),e.jsx(R,{control:e.jsx(c,{name:"no-mediacheck",component:E}),label:"No Media Check",fullWidth:!0}),e.jsx(c,{name:"frame-rate",label:"Frame Rate",helperText:"The frame rate of the image sequence",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails",fullWidth:!0}),e.jsx(c,{name:"thumbnailService",label:"Thumbnail Service",helperText:"Resource ID used to store thumbnails",component:m,fullWidth:!0}),e.jsx(c,{name:"createPosters",label:"Create Posters",helperText:"A list of time codes to use for creating posters",component:pe,simple:!0,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override Fast Start",fullWidth:!0}),e.jsx(Re,{children:"Use transcoders estimate of the duration for allocating header space in MOV files and similar files"})]}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require Fast Start",fullWidth:!0}),e.jsx(Re,{children:"If true try to put the index tables (header) in front of the file, if false put header at end of file"})]}),e.jsx(c,{name:"fastStartLength",label:"Fast Start Length",helperText:"Estimated duration of the clip in seconds",component:m,fullWidth:!0}),e.jsx(c,{name:"storageId",label:"Storage ID",helperText:"Where the file is to be stored",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,helperText:"The resource to used for transcoding",fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"growing",component:E}),label:"Growing"}),e.jsx(Re,{children:"The input file is still written to, so enables growing file support"})]}),e.jsx(c,{name:"xmpfile",label:"XMP File",helperText:"URI to a sidecar XMP metadata file",component:m,fullWidth:!0}),e.jsx(c,{name:"sidecar",label:"Sidecar",helperText:"URIs or file IDs sidecar files ",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"settings",label:"Settings",helperText:"Import Settings",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",label:"Notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job",fullWidth:!0}),e.jsx(Re,{children:"Created job in a HOLD state"})]}),e.jsx(c,{name:"importTag",label:"Import Tag",helperText:"List of shape tags that the created shape will be associated with",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"extractCc",label:"Extract CC",helperText:"Extract closed captions as metadata",component:m,fullWidth:!0}),e.jsxs(G,{children:[e.jsx(R,{control:e.jsx(c,{name:"ccFromVideo",component:E}),label:"CC From Video"}),e.jsx(Re,{children:"Extract closed captions from video tracks as well as data tracks"})]}),e.jsx(c,{name:"resourceTag",label:"Resource Tag",helperText:"Criteria used to select transcoders for the job",component:m,fullWidth:!0})]});function ZV({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:XV}),e.jsx("button",{type:"submit",hidden:!0})]})}const eG=F()(ZV),Ys="EDIT_IMPORTURI_FORM";function tG({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const d={queryParams:{},metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]},...t},u=(x,j,g)=>{l({messageContent:"Job Started"}),n&&n(x,j,g)},p=(x,j,g)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(x,j,g)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{parentTitle:"Import",title:"URI",helpTo:"/ref/item/import.html#import-using-a-uri"}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Params"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(eG,{onSubmit:Fd,initialValues:d,onSubmitSuccess:u,onSubmitFail:p,form:Ys,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{variant:"text",onClick:r,children:"Edit Metadata"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(Ys),children:"Start"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:Fd,initialValues:d,onSubmitSuccess:u,onSubmitFail:p,form:Ys,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{color:"primary",variant:"contained",size:"large",onClick:()=>o(Ys),children:"Start"})]})]})})]})]})]})}const nG=I(Ft,v,M)(tG);function sG({destroyForm:t,history:n,...s}){T.useEffect(()=>(document.title="VidiCore Admin | Import | URI",()=>{t(Ys)}),[t]);const o=r=>{n.push(`/job/${r.data.jobId}`)};return e.jsx(nG,{onSuccess:o,...s})}const oG=I(We,M)(sG),rG="IMPORTURI_TAB",iG="IMPORTPLACEHOLDER_TAB",aG="IMPORTCOMPONENT_TAB",lG="IMPORTRAW_TAB",xf="IMPORTFILE_TAB",cG="IMPORTSHAPEPLACEHOLDER_TAB",dG="IMPORTSHAPE_TAB",uG="IMPORTCOLLECTION_TAB",mG="IMPORTSHAPEESSENCE_TAB",hG="IMPORTSIDECAR_TAB",pG="IMPORTSIDECARRAW_TAB",jf=[{tab:rG,listText:"URI",component:oG,path:"/import/item/uri/",exact:!0},{tab:iG,listText:"Placeholder Item",component:pf,path:"/import/item/placeholder/",exact:!0},{tab:aG,listText:"Component",component:M0,path:"/import/item/component/",exact:!0},{tab:lG,listText:"Upload",component:Y0,path:"/import/item/upload/",exact:!0},{tab:xf,listText:"File",component:$0,path:"/import/file/",exact:!0},{tab:cG,listText:"Placeholder Shape",component:$V,path:"/import/item/shape/placeholder/",exact:!0},{tab:dG,listText:"Shape",component:RV,path:"/import/item/shape/",exact:!0},{tab:uG,listText:"Collection",component:y0,path:"/import/collection/",exact:!0},{tab:mG,listText:"Essence",component:MV,path:"/import/item/shape/essence/",exact:!0},{tab:hG,listText:"Sidecar",component:qV,path:"/import/sidecar/",exact:!0},{tab:pG,listText:"Sidecar Upload",component:QV,path:"/import/sidecar/upload/",exact:!0}],xG=({itemId:t})=>e.jsx(gt,{children:jf.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,{itemId:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},n))}),jG=t=>e.jsxs(bt,{children:[jf.map(({path:n,component:s,listText:o,exact:r,...i})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,...i,title:o})},n)),e.jsx(B,{path:"*",render:()=>e.jsx(pf,{...t,title:"Item Placeholder"})})]});class fG extends T.PureComponent{render(){const{onChangeTab:n,tabValue:s}=this.props;return e.jsx(Tt,{mainComponent:jG,listComponent:xG,defaultOpen:!0,onChangeTab:n,tabValue:s,entityType:"item",setOnRefresh:this.setOnRefresh})}}const gG=ln(xf)(fG);function bG({group:t,openRemove:n,openEdit:s}){return e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:e.jsx(be,{to:ie.group({groupName:t.name}),children:t.name})}),e.jsx(A,{children:t.permission}),e.jsx(A,{numeric:!0,onClick:o=>o.stopPropagation(),children:e.jsxs(mt,{children:[e.jsx(b,{onClick:s(t),children:e.jsx(C,{color:"inherit",children:"Edit"})}),e.jsx(b,{onClick:n(t),children:e.jsx(C,{color:"error",children:"Remove"})})]})})]})}function CG({importAccessControlListDocument:t={},openRemove:n,openEdit:s}){const{group:o=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Group"}),e.jsx(A,{children:"Permission"}),e.jsx(A,{})]})}),e.jsx(de,{children:o.map(r=>e.jsx(bG,{group:r,openRemove:n,openEdit:s},r.name))})]})}function yG({importAccessControlListDocument:t,openRemove:n,openEdit:s}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(CG,{importAccessControlListDocument:t,openRemove:n,openEdit:s})})})}function SG(){return e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(L,{name:"permission",component:K,children:[e.jsx(b,{value:"READ",children:"Read"}),e.jsx(b,{value:"WRITE",children:"Write"}),e.jsx(b,{value:"ALL",children:"All"}),e.jsx(b,{value:"OWNER",children:"Owner"}),e.jsx(b,{value:"NONE",children:"None"})]})]})}function RG({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"groupName",label:"Group",component:z,loadOptions:Hn,cacheOptions:!0,isClearable:!0,creatable:!0}),e.jsx(ae,{name:"queryParams",component:SG}),e.jsx("button",{type:"submit",hidden:!0})]})}const TG=F()(RG),Od="EDIT_IMPORTACCESS_FORM";function EG({submitForm:t,closeModal:n,isOpen:s,onRefresh:o,openSnackBar:r,group:i={},userName:a}){const l=()=>{r({messageContent:"Import Access Created"}),o&&o(),n()},d=()=>{r({messageContent:"Error Creating Import Access",messageColor:"secondary"})},{name:u,permission:p}=i,x={groupName:u,queryParams:{permission:p}};return e.jsxs(_,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Edit Import Access"}),e.jsx(X,{children:e.jsx(TG,{form:Od,onSubmit:lT,onSubmitSuccess:l,onSubmitFail:d,initialValues:x,userName:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Od),children:"Save"})]})]})}const IG={submitForm:xt,openSnackBar:Le},vG=Ce(null,IG)(EG);function AG({closeModal:t,isOpen:n,groupName:s,onRemove:o}){return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove "${s}" Import Access?`}),e.jsx(X,{children:e.jsx(Fn,{children:"This may affect access to future imports."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:o(s),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function FG({openCode:t,openCreate:n,onRefresh:s,userName:o}){return e.jsx(Y,{title:"Import Access",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:decodeURI(o),parentTo:ie.user({userName:o}),onRefresh:s,openCode:t,openAction:n})}const Ld="IMPORTACCESS_CODE_MODAL",Nd="IMPORTACCESS_REMOVE_MODAL",hi="IMPORTACCESS_EDIT_MODAL";let MG=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.openEdit=this.openEdit.bind(this),this.state={importAccessControlListDocument:void 0}}componentDidMount(){const{userName:n}=this.props;document.title=`VidiCore Admin | User | ${n} | Import Access`,this.onRefresh()}async onRefresh(){const{openSnackBar:n,userName:s}=this.props,o={RunAs:s};try{const{data:r}=await Jt.getImportAccess({headers:o});this.setState({importAccessControlListDocument:r})}catch{n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}}onRemove(n){const{openSnackBar:s,closeModal:o,userName:r}=this.props,i={RunAs:r};return()=>{Jt.removeImportAccessGroup({groupName:n,headers:i}).then(()=>{const a=`Import Access "${n}" Removed`;s({messageContent:a}),o(),this.onRefresh()}).catch(()=>{s({messageContent:"Error Removing Import Access",messageColor:"secondary"})})}}openRemove(n){const{openModal:s}=this.props;return()=>{const o=()=>s({modalName:Nd});this.setState({currentGroup:n},o)}}openEdit(n){const{openModal:s}=this.props;return()=>{const o=()=>s({modalName:hi});this.setState({currentGroup:n},o)}}render(){const{modalName:n,closeModal:s,openModal:o,userName:r}=this.props,{importAccessControlListDocument:i,currentGroup:a}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(FG,{openCode:()=>o({modalName:Ld}),openCreate:()=>o({modalName:hi}),onRefresh:this.onRefresh,userName:r}),i&&e.jsx(yG,{importAccessControlListDocument:i,openRemove:this.openRemove,openEdit:this.openEdit}),e.jsx(ut,{isOpen:n===Ld,toggleDialogue:s,code:i,title:"ImportAccessControlListDocument"}),a&&e.jsx(AG,{isOpen:n===Nd,closeModal:s,onRemove:this.onRemove,groupName:a.name}),e.jsx(vG,{isOpen:n===hi,closeModal:s,onRefresh:this.onRefresh,group:a,userName:r})]})}};function DG(t,n){const{ui:{modalName:s}}=t,{userName:o}=n.match.params;return{userName:o,modalName:s}}const PG={openSnackBar:Le,closeModal:st,openModal:ot},OG=Ce(DG,PG)(MG);function LG({listText:t,listItemProps:n={},icon:s=!1}){return e.jsxs(mr,{style:{paddingLeft:8},disableGutters:!0,button:!0,...n,children:[s===!0?e.jsx(fa,{children:e.jsx(bs,{style:{height:25,width:25},children:t[0]})}):null,e.jsx(ga,{secondary:t})]})}function pi(t){const{queryParams:n,metadataDocument:s}=t;return Mn.createImportImp({queryParams:n,metadataDocument:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function xi(t,n,s){const{queryParams:o,metadataDocument:r}=t,i=s.fileId||t.fileId;return Je.createFileImportAssetMap({fileId:i,queryParams:o,metadataDocument:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function ji(t,n,s){const{queryParams:o,metadataDocument:r}=t,i=s.storageId||t.storageId;return Je.createFilePathImportAssetMap({storageId:i,queryParams:o,metadataDocument:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}const NG=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(k,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:ne}),e.jsx(c,{name:"original",component:m,label:"Reset Original",fullWidth:!0}),e.jsx(c,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(c,{name:"createPosters",component:m,fullWidth:!0}),e.jsx(c,{name:"fastStartLength",component:m,fullWidth:!0}),e.jsx(c,{name:"settings",component:m,fullWidth:!0}),e.jsx(c,{name:"importTag",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",label:"Notification Metadata",component:ne})]});function _G({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:NG}),e.jsx("button",{type:"submit",hidden:!0})]})}const $G=F()(_G),WG=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(R,{control:e.jsx(c,{name:"no-transcode",component:E}),label:"No Transcode"}),e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0})]});function kG({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"fileId",component:m,fullWidth:!0,required:!0}),e.jsx(S,{name:"queryParams",component:WG}),e.jsx("button",{type:"submit",hidden:!0})]})}const wG=F()(kG),Qs="EDIT_IMPORTIMPFILE_FORM";function UG({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const d=(p,x,j)=>{l({messageContent:"Job Started"}),n&&n(p,x,j)},u=(p,x,j)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{grandParentTitle:"Import",parentTitle:"IMF",title:"File",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Qs),children:"Start"})}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"IMP File"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(wG,{onSubmit:xi,initialValues:t,onSubmitSuccess:d,onSubmitFail:u,form:Qs,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:xi,initialValues:t,form:Qs,onSubmitSuccess:d,onSubmitFail:u,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Advanced"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx($G,{onSubmit:xi,initialValues:t,onSubmitSuccess:d,onSubmitFail:u,form:Qs,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const VG=I(Ft,v,M)(UG);function GG({history:t,location:n,destroyForm:s}){T.useEffect(()=>(document.title="VidiCore Admin | IMF | Import File",()=>{s(Qs)}),[s]);const r=new URLSearchParams(n.search).get("fileId");return e.jsx(VG,{initialValues:{fileId:r,metadataDocument:{}},onSuccess:i=>t.push(`/job/${i.data.jobId}`)})}const qG=M(GG),HG=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(k,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:ne}),e.jsx(c,{name:"original",component:m,label:"Reset Original",fullWidth:!0}),e.jsx(c,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(c,{name:"createPosters",component:m,fullWidth:!0}),e.jsx(c,{name:"fastStartLength",component:m,fullWidth:!0}),e.jsx(c,{name:"settings",component:m,fullWidth:!0}),e.jsx(c,{name:"importTag",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",label:"Notification Metadata",component:ne})]});function BG({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:HG}),e.jsx("button",{type:"submit",hidden:!0})]})}const zG=F()(BG),JG=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"path",component:m,fullWidth:!0,required:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(R,{control:e.jsx(c,{name:"createOnly",component:E}),label:"Create Only"}),e.jsx(R,{control:e.jsx(c,{name:"no-transcode",component:E}),label:"No Transcode"}),e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsx(c,{name:"state",component:K,children:To.map(t=>e.jsx(b,{value:t,children:t},t))})]})]});function KG({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"storageId",label:"Storage ID",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(S,{name:"queryParams",component:JG}),e.jsx("button",{type:"submit",hidden:!0})]})}const YG=F()(KG),Xs="EDIT_IMPORTIMPPATH_FORM";function QG({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const d=(p,x,j)=>{l({messageContent:"Job Started"}),n&&n(p,x,j)},u=(p,x,j)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{grandParentTitle:"Import",parentTitle:"IMF",title:"Path",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Xs),children:"Start"})}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"IMP Path"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(YG,{onSubmit:ji,initialValues:t,onSubmitSuccess:d,onSubmitFail:u,form:Xs,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:ji,initialValues:t,form:Xs,onSubmitSuccess:d,onSubmitFail:u,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Advanced"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(zG,{onSubmit:ji,initialValues:t,onSubmitSuccess:d,onSubmitFail:u,form:Xs,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const XG=I(Ft,v,M)(QG);function ZG({history:t,destroyForm:n}){return T.useEffect(()=>(document.title="VidiCore Admin | IMF | Import Path",()=>{n(Xs)}),[n]),e.jsx(XG,{initialValues:{metadataDocument:{}},onSuccess:s=>t.push(`/job/${s.data.jobId}`)})}const e2=M(ZG),t2=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(R,{control:e.jsx(c,{name:"growing",component:E}),label:"Growing"}),e.jsx(k,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:ne}),e.jsx(c,{name:"original",component:m,label:"Reset Original",fullWidth:!0}),e.jsx(c,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(c,{name:"createPosters",component:m,fullWidth:!0}),e.jsx(c,{name:"fastStartLength",component:m,fullWidth:!0}),e.jsx(c,{name:"storageId",component:m,fullWidth:!0}),e.jsx(c,{name:"xmpfile",component:m,fullWidth:!0}),e.jsx(c,{name:"sidecar",component:m,fullWidth:!0}),e.jsx(c,{name:"settings",component:m,fullWidth:!0}),e.jsx(c,{name:"importTag",component:m,fullWidth:!0}),e.jsx(c,{name:"resourceId",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",label:"Notification Metadata",component:ne})]});function n2({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:t2}),e.jsx("button",{type:"submit",hidden:!0})]})}const s2=F()(n2),o2=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0,required:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(R,{control:e.jsx(c,{name:"noCPLreimport",component:E}),label:"No CPL Reimport"}),e.jsx(R,{control:e.jsx(c,{name:"no-transcode",component:E}),label:"No Transcode"}),e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0})]});function r2({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:o2}),e.jsx("button",{type:"submit",hidden:!0})]})}const i2=F()(r2),Zs="EDIT_IMPORTIMPURL_FORM";function a2({initialValues:t,onSuccess:n,onFail:s,submitForm:o,onNext:r,onBack:i,activeStep:a,openSnackBar:l}){const d=(p,x,j)=>{l({messageContent:"Job Started"}),n&&n(p,x,j)},u=(p,x,j)=>{l({messageContent:"Error Starting Job",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{grandParentTitle:"Import",parentTitle:"IMF",title:"URL",style:{paddingTop:10,paddingBottom:10},actionComponent:e.jsx(f,{color:"primary",variant:"text",size:"large",onClick:()=>o(Zs),children:"Start"})}),e.jsxs(lt,{activeStep:a,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"IMP URL"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(i2,{onSubmit:pi,initialValues:t,onSubmitSuccess:d,onSubmitFail:u,form:Zs,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Metadata"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Cn,{onSubmit:pi,initialValues:t,form:Zs,onSubmitSuccess:d,onSubmitFail:u,destroyOnUnmount:!1})}),e.jsxs(te,{children:[e.jsx(f,{onClick:i,children:"Back"}),e.jsx(f,{variant:"text",color:"primary",onClick:r,children:"Next"})]})]})})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Advanced"}),e.jsx(Me,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(s2,{onSubmit:pi,initialValues:t,onSubmitSuccess:d,onSubmitFail:u,form:Zs,destroyOnUnmount:!1})}),e.jsx(te,{children:e.jsx(f,{onClick:i,children:"Back"})})]})})]})]})]})}const l2=I(Ft,v,M)(a2);function c2({destroyForm:t,history:n,...s}){T.useEffect(()=>(document.title="VidiCore Admin | IMF | Import URL",()=>{t(Zs)}),[t]);const o=r=>{n.push(`/job/${r.data.jobId}`)};return e.jsx(l2,{initialValues:{metadataDocument:{}},onSuccess:o,...s})}const d2=I(We,M)(c2),ff="IMPORTIMP_URL_TAB",u2="IMPORTIMP_PATH_TAB",m2="IMPORTIMP_FILE_TAB",oa=[{tab:ff,listText:"URL",component:d2},{tab:u2,listText:"Path",component:e2},{tab:m2,listText:"File",component:qG}],h2=({onChangeTab:t,tabValue:n})=>e.jsx(gt,{children:oa.map(({tab:s,listText:o})=>e.jsx(LG,{listText:o,listItemProps:{onClick:()=>t(null,s),selected:n===s||void 0}},o))});class p2 extends T.PureComponent{render(){const{tabValue:n,onChangeTab:s,...o}=this.props,r=oa.find(l=>l.tab===n)||oa[0],{listText:i,component:a}=r;return e.jsx(Tt,{mainComponent:a,listComponent:h2,defaultOpen:!0,onChangeTab:s,tabValue:n,title:i,...o})}}const x2=ln(ff)(p2);function j2(t,n,s){const{settingsId:o}=s,{importSettingsDocument:r}=t;return ro.updateImportSettings({settingsId:o,importSettingsDocument:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function f2(t){const{importSettingsDocument:n}=t;return ro.createImportSettings({importSettingsDocument:n}).then(s=>({importSettingsDocument:s.data})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function g2({importSettingsDocument:t={}}){const{access:n=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"ID",value:t.id}),n.map((s,o)=>e.jsxs(T.Fragment,{children:[e.jsx(U,{}),e.jsx(fx,{access:s})]},o))]})}function b2({fields:t}){return e.jsxs(e.Fragment,{children:[e.jsx(J,{children:"Access Control"}),t.map((n,s)=>e.jsxs(T.Fragment,{children:[e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:16,style:{marginTop:"10px"},children:[e.jsxs(O,{item:!0,sm:8,children:[e.jsxs(L,{name:`${n}`,component:ao,label:"Entity",fullWidth:!0,choices:{user:e.jsx(hs,{name:`${n}.user`,label:"User",isClearable:!0,fullWidth:!0}),group:e.jsx(La,{name:`${n}.group`,label:"Group",isClearable:!0,fullWidth:!0})},children:[e.jsx(b,{value:"user",children:"User"}),e.jsx(b,{value:"group",children:"Group"})]}),e.jsx(L,{name:`${n}.priority`,component:m,label:"Priority",fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:`${n}.permission`,children:"Permission"}),e.jsxs(L,{name:`${n}.permission`,component:K,children:[e.jsx(b,{value:"READ",children:"Read"}),e.jsx(b,{value:"WRITE",children:"Write"}),e.jsx(b,{value:"ALL",children:"All"}),e.jsx(b,{value:"OWNER",children:"Owner"}),e.jsx(b,{value:"NONE",children:"None"})]})]}),e.jsx(hs,{name:`${n}.grantor`,label:"Grantor",isClearable:!0,fullWidth:!0}),e.jsx(R,{control:e.jsx(L,{name:`${n}.recursive`,component:E}),label:"Recursive"}),e.jsxs(L,{name:`${n}.operation`,component:ao,label:"Operation",fullWidth:!0,choices:{metadata:e.jsx(ae,{name:`${n}.operation.metadata`,component:dx}),shape:e.jsx(ae,{name:`${n}.operation.shape`,component:ux}),uri:e.jsx(ae,{name:`${n}.operation.uri`,component:mx})},children:[e.jsx(b,{value:"metadata",children:"Metadata"}),e.jsx(b,{value:"shape",children:"Shape"}),e.jsx(b,{value:"uri",children:"URI"})]})]}),e.jsx(O,{item:!0,sm:"auto",children:e.jsx(ee,{onClick:()=>t.remove(s),children:e.jsx(jt,{})})})]}),e.jsx(U,{})]},n)),e.jsx(O,{item:!0,children:e.jsx(Zt,{onClick:()=>t.push(),color:"primary",children:"Add Access"})})]})}function C2(){return e.jsx(Rt,{name:"access",component:b2})}function y2({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(ae,{name:"importSettingsDocument",component:C2}),e.jsx("button",{type:"submit",hidden:!0})]})}const gf=F()(y2),_d="EDIT_IMPORTSETTINGS_FORM";let S2=class extends T.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{importSettingsDocument:n,submitForm:s,settingsId:o,onRefresh:r,openSnackBar:i}=this.props,{isEditing:a}=this.state,l={importSettingsDocument:n},d=()=>{this.toggleEdit(),i({messageContent:"Import Settings Saved"}),r&&r()},u=()=>{i({messageContent:"Error Updating Import Settings",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(je,{action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:a,onChange:this.toggleEdit})})})}),e.jsx(V,{children:a?e.jsx(gf,{form:_d,initialValues:l,onSubmit:j2,onSubmitSuccess:d,onSubmitFail:u,settingsId:o}):e.jsx(g2,{importSettingsDocument:n})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>s(_d),size:"small",color:"primary",children:"Save"})]})]})]})}};const R2={submitForm:xt,openSnackBar:Le},T2=Ce(null,R2)(S2);function E2({settingsId:t,importSettingsDocument:n,onRefresh:s}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(T2,{settingsId:t,importSettingsDocument:n,onRefresh:s})})})}function I2({closeModal:t,isOpen:n,settingsId:s,onRemove:o}){return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Import Settings "${s}"?`}),e.jsx(X,{children:e.jsx(Fn,{children:"This may affect access to future imports."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:()=>o({settingsId:s}),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function v2({openCode:t,onRefresh:n,settingsId:s,openRemove:o}){return e.jsx(Y,{title:s,parentTitle:"Import Settings",parentTo:"/import/settings/",openCode:t,onRefresh:n,actionComponent:e.jsx(ee,{onClick:o,children:e.jsx(et,{})})})}const $d="IMPORTSETTINGS_CODE_MODAL",Wd="IMPORTSETTINGS_REMOVE_MODAL";class A2 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRemove=this.onRemove.bind(this),this.state={importSettingsDocument:void 0}}componentDidMount(){const{settingsId:n}=this.props;document.title=`VidiCore Admin | Import Settings | ${n}`,this.onRefresh()}async onRefresh(){const{openSnackBar:n,settingsId:s}=this.props;try{const{data:o}=await ro.getImportSettings({settingsId:s});this.setState({importSettingsDocument:o})}catch{n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}}onRemove({settingsId:n}){const{openSnackBar:s,history:o,closeModal:r}=this.props;try{ro.removeImportSettings({settingsId:n}).then(()=>{const i=`Import Settings ${n} Removed`;s({messageContent:i}),o.push("/import/settings/"),r()})}catch{s({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,settingsId:r}=this.props,{importSettingsDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(v2,{settingsId:r,openCode:()=>o({modalName:$d}),openRemove:()=>o({modalName:Wd}),onRefresh:this.onRefresh}),i&&e.jsx(E2,{settingsId:r,importSettingsDocument:i,onRefresh:this.onRefresh}),e.jsx(ut,{isOpen:n===$d,toggleDialogue:s,code:i,title:"ImportSettingsDocument"}),e.jsx(I2,{isOpen:n===Wd,closeModal:s,onRemove:this.onRemove,settingsId:r})]})}}function F2(t,n){const{settingsId:s}=n.match.params,{ui:{modalName:o}}=t;return{settingsId:s,modalName:o}}const M2={openSnackBar:Le,closeModal:st,openModal:ot},D2=Ce(F2,M2)(A2),kd="EDIT_IMPORTSETTINGS_FORM";function P2({submitForm:t,closeModal:n,isOpen:s,history:o,openSnackBar:r}){const i=l=>{const{importSettingsDocument:d}=l,{id:u}=d,p=`Import Settings ${u} Created`;r({messageContent:p}),o.push(`/import/settings/${u}`),n()},a=()=>{r({messageContent:"Error Updating Import Settings",messageColor:"secondary"})};return e.jsxs(_,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Import Settings"}),e.jsx(X,{children:e.jsx(gf,{form:kd,onSubmit:f2,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(kd),children:"Save"})]})]})}const O2={submitForm:xt,openSnackBar:Le},L2=Ce(null,O2)(P2);function N2({uriListDocument:t}){const n=s=>`/import/settings/${s}/`;return e.jsx($,{children:e.jsx(V,{children:e.jsx(Ds,{uriListDocument:t,linkTo:n})})})}function _2({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(Y,{title:"Import Settings",onRefresh:s,openCode:t,openAction:n})}const wd="IMPORTSETTINGSLIST_CODE_MODAL",Ud="IMPORTSETTINGS_CREATE_MODAL";class $2 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Import Settings",this.onRefresh()}async onRefresh(){const{openSnackBar:n}=this.props;try{const{data:s}=await ro.listImportSettings();this.setState({uriListDocument:s})}catch{n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(_2,{openCode:()=>o({modalName:wd}),openCreate:()=>o({modalName:Ud}),onRefresh:this.onRefresh}),i&&e.jsx(N2,{uriListDocument:i}),e.jsx(ut,{isOpen:n===wd,toggleDialogue:s,code:i,title:"URIListDocument"}),e.jsx(L2,{isOpen:n===Ud,closeModal:s,history:r})]})}}function W2(t){const{ui:{modalName:n}}=t;return{modalName:n}}const k2={openSnackBar:Le,closeModal:st,openModal:ot},w2=Ce(W2,k2)($2);function U2(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return He.createExport({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function V2(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return He.createExportImp({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function G2(t,n,s){const{queryParams:o}=t,r=s.itemId||t.itemId;return He.removeItem({itemId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function q2(t,n,s){const{metadataDocument:o={},queryParams:r}=t,i=s.itemId||t.itemId;return He.updateItemMetadata({itemId:i,metadataDocument:o,queryParams:r}).then(a=>({itemId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function bf(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId,i=s.headers||t.headers;return He.getItemMetadata({itemId:r,queryParams:o,headers:i}).then(a=>({itemId:r,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function H2(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return Dt.listEntityMetadataChange({entity:"item",entityId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function B2(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return He.getItem({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function Cf(t){const{queryParams:n={},itemSearchDocument:s={}}=t;return He.searchItem({itemSearchDocument:s,queryParams:n}).then(o=>({queryParams:n,itemSearchDocument:s,...o})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function z2(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return He.getItemUri({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function J2(t,n,s){const{queryParams:o={},headers:r={}}=t,i={accept:"application/json",...r},{accept:a}=i,l=a.toLowerCase()==="application/json";l&&(i.accept="application/xml");const d=s.itemId||t.itemId,u=`/API/item/${d}/thumbnail/spritesheet`;return He.getItem({itemId:d,path:u,params:o,headers:i}).then(p=>l?ur.echo({xmlDocument:p.data}):Promise.resolve(p)).then(p=>({itemId:d,...p})).catch(p=>{let x=p.message;throw p.response&&(x=JSON.stringify(p.response.data,(j,g)=>g===null?void 0:g)),new q({_error:x})})}function K2(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return He.createTranscode({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function Y2(t,n,s){const{queryParams:o={}}=t,r=s.itemId||t.itemId;return He.createThumbnail({itemId:r,queryParams:o}).then(i=>({itemId:r,...i})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function Q2(t,n,s){const o=s.itemId||t.itemId,{queryParams:r={}}=t,{relationMetadata:i=[],...a}=r;return i.forEach(l=>{a[l.key]=l.value}),He.listItemRelation({itemId:o,queryParams:a}).then(l=>({itemId:o,...l})).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}function X2(t,n,s){const o=s.itemId||t.itemId,r=s.relationItemId||t.relationItemId,{queryParams:i={}}=t,{relationMetadata:a=[],...l}=i;return a.forEach(d=>{l[d.key]=d.value}),He.createItemRelation({itemId:o,relationItemId:r,queryParams:l}).then(d=>({itemId:o,...d})).catch(d=>{let u=d.message;throw d.response&&(u=JSON.stringify(d.response.data,(p,x)=>x===null?void 0:x)),new q({_error:u})})}function Z2(t,n,s){const o=s.relationId||t.relationId,{queryParams:r={}}=t,{relationMetadata:i=[],...a}=r;return i.forEach(l=>{a[l.key]=l.value}),He.updateRelation({relationId:o,queryParams:a}).catch(l=>{let d=l.message;throw l.response&&(d=JSON.stringify(l.response.data,(u,p)=>p===null?void 0:p)),new q({_error:d})})}function eq(t,n,s){const{analyzeJobDocument:o={},queryParams:r}=t,i=s.itemId||t.itemId;return He.createItemAnalyze({itemId:i,queryParams:r,analyzeJobDocument:o}).then(a=>({itemId:i,...a})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}const yf=he(t=>{const{metadataGroupSearchDocument:n,queryParams:s}=t;return He.searchItemMetadataGroup({queryParams:s,metadataGroupSearchDocument:n}).then(o=>({queryParams:s,metadataGroupSearchDocument:n,...o}))});function tq(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"requireFastStart"}),e.jsx(R,{control:e.jsx(c,{name:"analyzeDuration",component:E}),label:"analyzeDuration"})]})}function ra(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"width",label:"width",component:m,fullWidth:!0,type:"number"}),e.jsx(c,{name:"height",label:"height",component:m,type:"number",fullWidth:!0})]})}function ia(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"horizontal",label:"horizontal",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"vertical",label:"vertical",component:m,type:"number",fullWidth:!0})]})}function nq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"width",label:"width",component:m,fullWidth:!0,type:"number"}),e.jsx(c,{name:"height",label:"height",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"top",label:"top",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"bottom",label:"bottom",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"left",label:"left",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"right",label:"right",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"padColor",label:"padColor",component:m,fullWidth:!0}),e.jsx(c,{name:"rotate",label:"rotate",component:m,fullWidth:!0}),e.jsx(S,{name:"pixelAspectRatio",label:"pixelAspectRatio",component:ia}),e.jsx(S,{name:"targetDAR",label:"targetDAR",component:ia})]})}function wn(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"key",label:"key",component:m,fullWidth:!0}),e.jsx(c,{name:"value",label:"value",component:m,fullWidth:!0})]})}function eo(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"numerator",label:"numerator",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"denominator",label:"denominator",component:m,type:"number",fullWidth:!0})]})}const Eo=eo;function sr(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"samples",label:"samples",component:m,type:"number",fullWidth:!0}),e.jsx(S,{name:"timeBase",label:"timeBase",type:"number",component:Eo})]})}function sq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"id",label:"id",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"stream",label:"stream",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"channel",label:"channel",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"gain",label:"gain",type:"number",component:m,fullWidth:!0})]})}function Sf(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"input",label:"input",component:sq}),e.jsx(R,{control:e.jsx(c,{name:"silence",component:E}),label:"silence"})]})}function oq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"name",component:m,fullWidth:!0,required:!0}),e.jsx(c,{name:"uri",label:"uri",component:m,fullWidth:!0,required:!0})]})}function Lr(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uuid",label:"uuid",component:m,fullWidth:!0,required:!0}),e.jsx(c,{name:"versionMajor",label:"versionMajor",type:"number",component:m,fullWidth:!0,required:!0}),e.jsx(c,{name:"versionMinor",label:"versionMinor",type:"number",component:m,fullWidth:!0,required:!0}),e.jsx(c,{name:"versionPatch",label:"versionPatch",type:"number",component:m,fullWidth:!0,required:!0}),e.jsx(k,{name:"configuration",label:"configuration",component:wn}),e.jsx(k,{name:"resource",label:"resource",component:oq})]})}function rq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"format",label:"format",component:m,fullWidth:!0}),e.jsx(c,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(c,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(S,{name:"framerate",label:"framerate",component:Eo}),e.jsx(c,{name:"channel",label:"channel",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"stream",label:"stream",component:pe,simple:!0,fullWidth:!0})]})}function iq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(c,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(S,{name:"framerate",label:"framerate",component:Eo}),e.jsx(c,{name:"channel",label:"channel",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"stream",label:"stream",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"preset",label:"preset",component:pe,simple:!0,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"noAudio",component:E}),label:"noAudio"}),e.jsx(k,{name:"setting",label:"setting",component:wn}),e.jsx(k,{name:"mix",label:"mix",component:Sf}),e.jsx(S,{name:"otif",label:"otif",component:Lr}),e.jsx(R,{control:e.jsx(c,{name:"monoFile",component:E}),label:"monoFile"}),e.jsx(R,{control:e.jsx(c,{name:"allChannel",component:E}),label:"allChannel"}),e.jsx(k,{name:"output",label:"output",component:rq})]})}function aq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(c,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(S,{name:"framerate",label:"framerate",component:Eo}),e.jsx(c,{name:"channel",label:"channel",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"preset",label:"preset",component:pe,simple:!0,fullWidth:!0}),e.jsx(k,{name:"setting",label:"setting",component:wn}),e.jsx(k,{name:"mix",label:"mix",component:Sf})]})}function lq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"codec",label:"codec",component:m,fullWidth:!0}),e.jsx(c,{name:"bitrate",label:"bitrate",type:"number",component:m,fullWidth:!0}),e.jsx(S,{name:"framerate",label:"framerate",component:Eo}),e.jsx(S,{name:"resolution",label:"resolution",component:ra}),e.jsx(S,{name:"scaling",label:"scaling",component:nq}),e.jsx(S,{name:"displayWidth",label:"displayWidth",component:eo}),e.jsx(S,{name:"displayHeight",label:"displayHeight",component:eo}),e.jsx(S,{name:"displayXOffset",label:"displayXOffset",component:eo}),e.jsx(S,{name:"displayYOffset",label:"displayYOffset",component:eo}),e.jsx(S,{name:"containerSAR",label:"containerSAR",component:ia}),e.jsx(R,{control:e.jsx(c,{name:"forceCFR",component:E}),label:"forceCFR"}),e.jsx(c,{name:"gopSize",label:"gopSize",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"maxBFrames",label:"maxBFrames",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"pixelFormat",label:"pixelFormat",component:m,fullWidth:!0}),e.jsx(c,{name:"preset",label:"preset",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"profile",label:"profile",component:pe,simple:!0,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"noVideo",component:E}),label:"noVideo"}),e.jsx(R,{control:e.jsx(c,{name:"stripParameterSets",component:E}),label:"stripParameterSets"}),e.jsx(R,{control:e.jsx(c,{name:"addParameterSets",component:E}),label:"addParameterSets"}),e.jsx(c,{name:"parameterSets",label:"parameterSets",component:m,fullWidth:!0}),e.jsx(k,{name:"setting",label:"setting",component:wn}),e.jsx(R,{control:e.jsx(c,{name:"burnTimecode",component:E}),label:"burnTimecode"}),e.jsx(R,{control:e.jsx(c,{name:"burnSubtitles",component:E}),label:"burnSubtitles"}),e.jsx(c,{name:"imageQuality",label:"imageQuality",type:"number",component:m,fullWidth:!0}),e.jsx(S,{name:"otif",label:"otif",component:Lr})]})}function cq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"start",label:"start",type:"number",component:m,required:!0,fullWidth:!0}),e.jsx(c,{name:"width",label:"width",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"count",label:"count",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"wildcard",label:"wildcard",component:m,required:!0,fullWidth:!0})]})}function Rf(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"start",label:"start",component:sr}),e.jsx(S,{name:"end",label:"end",component:sr})]})}function dq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",label:"uri",component:pe,simple:!0,fullWidth:!0}),e.jsx(k,{name:"range",label:"range",component:cq}),e.jsx(c,{name:"id",label:"id",component:m,fullWidth:!0}),e.jsx(c,{name:"x",label:"x",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"y",label:"y",type:"number",component:m,fullWidth:!0}),e.jsx(S,{name:"interval",label:"interval",component:Rf}),e.jsx(c,{name:"opacity",label:"opacity",type:"number",component:m,fullWidth:!0})]})}function uq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"line",label:"line",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"align",label:"align",component:m,fullWidth:!0}),e.jsx(c,{name:"x",label:"x",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"y",label:"y",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"xRel",label:"xRel",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"yRel",label:"yRel",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"horizontalBase",label:"horizontalBase",component:m,fullWidth:!0}),e.jsx(c,{name:"verticalBase",label:"verticalBase",component:m,fullWidth:!0}),e.jsx(c,{name:"font",label:"font",component:m,fullWidth:!0}),e.jsx(c,{name:"size",label:"size",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"sizeRel",label:"sizeRel",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"r",label:"r",component:m,fullWidth:!0}),e.jsx(c,{name:"g",label:"g",component:m,fullWidth:!0}),e.jsx(c,{name:"b",label:"b",component:m,fullWidth:!0}),e.jsx(c,{name:"a",label:"a",component:m,fullWidth:!0}),e.jsx(c,{name:"outline",label:"outline",component:m,fullWidth:!0}),e.jsx(c,{name:"outlineSize",label:"outlineSize",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"outlineR",label:"outlineR",component:m,fullWidth:!0}),e.jsx(c,{name:"outlineG",label:"outlineG",component:m,fullWidth:!0}),e.jsx(c,{name:"outlineB",label:"outlineB",component:m,fullWidth:!0}),e.jsx(c,{name:"outlineA",label:"outlineA",component:m,fullWidth:!0}),e.jsx(c,{name:"language",label:"language",component:m,fullWidth:!0})]})}function mq(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"text",label:"text",component:uq}),e.jsx(S,{name:"interval",label:"interval",component:Rf}),e.jsx(c,{name:"opacity",label:"opacity",component:m,type:"number",fullWidth:!0})]})}function hq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"start",label:"start",type:"number",component:m,fullWidth:!0}),e.jsx(c,{name:"width",label:"width",type:"number",component:m,fullWidth:!0})]})}function Tf(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"Name",component:at,required:!0,fullWidth:!0}),e.jsx(c,{name:"description",label:"description",component:m,fullWidth:!0}),e.jsx(c,{name:"format",label:"format",component:m,fullWidth:!0})]})}function pq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:Tf}),e.jsx("button",{type:"submit",hidden:!0})]})}const xq=F()(pq);function Ef(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"audio",label:"audio",component:iq}),e.jsx(k,{name:"audioTrack",label:"audioTrack",component:aq})]})}function jq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:Ef}),e.jsx("button",{type:"submit",hidden:!0})]})}const fq=F()(jq);function If(){return e.jsx(S,{name:"video",label:"video",component:lq})}function gq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:If}),e.jsx("button",{type:"submit",hidden:!0})]})}const bq=F()(gq);function vf(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"overlay",label:"overlay",component:dq}),e.jsx(k,{name:"textOverlay",label:"textOverlay",component:mq})]})}function Cq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:vf}),e.jsx("button",{type:"submit",hidden:!0})]})}const yq=F()(Cq);function Af(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"startTimecode",label:"startTimecode",component:m,fullWidth:!0}),e.jsx(S,{name:"fastStartSetting",label:"fastStartSetting",component:tq}),e.jsx(R,{control:e.jsx(c,{name:"faceDetect",component:E}),label:"faceDetect"}),e.jsx(R,{control:e.jsx(c,{name:"preserveEDL",component:E}),label:"preserveEDL"}),e.jsx(R,{control:e.jsx(c,{name:"addClipName",component:E}),label:"addClipName"}),e.jsx(c,{name:"preferredSourceTag",label:"preferredSourceTag",component:m,fullWidth:!0}),e.jsx(k,{name:"shapeMetadata",label:"shapeMetadata",component:wn}),e.jsx(S,{name:"maxChunkDuration",label:"maxChunkDuration",component:sr}),e.jsx(k,{name:"demuxerSetting",label:"demuxerSetting",component:wn}),e.jsx(k,{name:"muxerSetting",label:"muxerSetting",component:wn}),e.jsx(S,{name:"sequenceOutput",label:"sequenceOutput",component:hq})]})}function Sq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:Af}),e.jsx("button",{type:"submit",hidden:!0})]})}const Rq=F()(Sq);function Ff(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"thumbnailResolution",label:"thumbnailResolution",component:ra}),e.jsx(c,{name:"thumbnailBackground",label:"thumbnailBackground",component:m,fullWidth:!0}),e.jsx(S,{name:"thumbnailPeriod",label:"thumbnailPeriod",component:sr}),e.jsx(c,{name:"thumbnailPlugin",label:"thumbnailPlugin",component:m,fullWidth:!0}),e.jsx(S,{name:"posterResolution",label:"posterResolution",component:ra}),e.jsx(c,{name:"posterBackground",label:"posterBackground",component:m,fullWidth:!0})]})}function Tq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:Ff}),e.jsx("button",{type:"submit",hidden:!0})]})}const Eq=F()(Tq);function Mf(){return e.jsx(c,{name:"script",component:dt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})}function Iq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:Mf}),e.jsx("button",{type:"submit",hidden:!0})]})}F()(Iq);function vq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"transcodePresetDocument",component:Tf}),e.jsx(S,{name:"transcodePresetDocument",component:Ef}),e.jsx(S,{name:"transcodePresetDocument",component:If}),e.jsx(S,{name:"transcodePresetDocument",component:Ff}),e.jsx(S,{name:"transcodePresetDocument",component:vf}),e.jsx(S,{name:"transcodePresetDocument",component:Af}),e.jsx(S,{name:"transcodePresetDocument",component:Mf}),e.jsx("button",{type:"submit",hidden:!0})]})}const Aq=F()(vq);function Fq(){return e.jsx(k,{name:"otif",label:"otif",component:Lr})}function Mq(){return e.jsx(k,{name:"otif",label:"otif",component:Lr})}function Dq(){return e.jsx(c,{name:"model",component:m,fullWidth:!0})}function Pq(){return e.jsx(c,{name:"aspect",component:m,fullWidth:!0})}function Oq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"tone",label:"tone",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"stream",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"channel",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"thresh",component:m,type:"number",fullWidth:!0})]})}function Lq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"threshold",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"percentage",component:m,type:"number",fullWidth:!0})]})}function Nq(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"threshold",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"percentage",component:m,type:"number",fullWidth:!0})]})}function _q(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"threshold",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"time",component:m,type:"number",fullWidth:!0})]})}function tl(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"black",label:"Black",component:Lq}),e.jsx(S,{name:"bars",label:"Bars",component:Nq}),e.jsx(S,{name:"freeze",label:"Freeze",component:_q}),e.jsx(k,{name:"channel",label:"channel",component:Oq}),e.jsx(S,{name:"audio",label:"Audio",component:Fq}),e.jsx(S,{name:"video",label:"Video",component:Mq}),e.jsx(S,{name:"highlighter",label:"Highlighter",component:Dq}),e.jsx(S,{name:"smartcrop",label:"SmartCrop",component:Pq})]})}const $q=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,fullWidth:!0}),e.jsx(c,{name:"storageId",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"callbackId",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function Wq({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:$q}),e.jsx(S,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:tl}),e.jsx("button",{type:"submit",hidden:!0})]})}const kq=F()(Wq),wq="ITEM_ANALYZE_FORM";function Uq({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,form:l=wq}){const d=(p,x,j)=>{r({messageContent:"Analyze Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Start Item Analyze Job"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(kq,{form:l,onSubmit:eq,onSubmitSuccess:d,onSubmitFail:u,itemId:a,initialValues:{}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Start"})]})]})}const Vq=I(v,M)(Uq),Gq=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"keepShapeTagMedia",label:"Keep Shape-Tag Media",component:m,fullWidth:!0}),e.jsx(c,{name:"keepShapeTagStorage",label:"Keep Shape-Tag Storage",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function qq({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Gq}),e.jsx("button",{type:"submit",hidden:!0})]})}const Hq=F()(qq),Vd="ITEM_DELETE_FORM";function Bq({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Item Deleted"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Deleting Item",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete Item ${a}`}),e.jsx(Ne,{children:e.jsx(Hq,{form:Vd,onSubmit:G2,onSubmitSuccess:l,onSubmitFail:d,itemId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(Vd),children:"Delete"})]})]})}const zq=I(v,M)(Bq),Jq=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0}),e.jsx(c,{name:"locationName",label:"Export Location",component:z,loadOptions:vs,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job"}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(c,{name:"resourceTag",label:"Resource Tag",helperText:"Criteria used to select transcoders for the job",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"template",label:"Export Template",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"version",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"exportDashMpd",component:E}),label:"Export Dash MPD"})]});function Kq({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:Jq}),e.jsx("button",{type:"submit",hidden:!0})]})}const Yq=F()(Kq),Gd="ITEM_EXPORT_FORM";function Qq({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Export Started"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Export Item"}),e.jsx(X,{children:e.jsx(Yq,{form:Gd,onSubmit:U2,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,itemId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Gd),children:"Start"})]})]})}const Xq=I(v,M)(Qq),Zq=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0}),e.jsx(c,{name:"locationName",label:"Export Location",component:z,loadOptions:vs,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"template",label:"Export Template",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"cplTrack",label:"CPL Track",component:m,fullWidth:!0}),e.jsx(c,{name:"version",component:m,fullWidth:!0})]});function eH({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:Zq}),e.jsx("button",{type:"submit",hidden:!0})]})}const tH=F()(eH),qd="ITEM_EXPORTIMP_FORM";function nH({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Export Started"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Export Item IMF Package"}),e.jsx(X,{children:e.jsx(tH,{form:qd,onSubmit:V2,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,itemId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(qd),children:"Start"})]})]})}const sH=I(v,M)(nH),oH=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0,required:!0}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"storageId",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"removeOldEssenceFiles",component:E,label:"Remove Old Essence Files"})}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(c,{name:"importTag",label:"Import Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0})]});function rH({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:oH}),e.jsx("button",{type:"submit",hidden:!0})]})}const iH=F()(rH),Hd="ITEM_IMPORTIMP_FORM";function aH({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Import Started"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Starting Import",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Import Item IMF Package"}),e.jsx(X,{children:e.jsx(iH,{form:Hd,onSubmit:tV,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,itemId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Hd),children:"Start"})]})]})}const lH=I(v,M)(aH);function Df(){return e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"direction",children:"Direction"}),e.jsxs(c,{name:"direction",component:K,fullWidth:!0,children:[e.jsx(b,{value:"U",children:"Unidirectional"}),e.jsx(b,{value:"S",children:"Source"}),e.jsx(b,{value:"T",children:"Target"})]})]})}function cH(){return e.jsx(R,{control:e.jsx(c,{name:"allowDuplicate",component:E}),label:"Allow Duplicates"})}function Pf(){return e.jsx(k,{name:"relationMetadata",component:ne,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0})}function dH(){return e.jsx(c,{name:"relationItemId",label:"Relation Item ID",component:m,fullWidth:!0})}const uH=()=>e.jsxs(e.Fragment,{children:[e.jsx(Df,{}),e.jsx(cH,{}),e.jsx(Pf,{})]});function mH({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(dH,{}),e.jsx(S,{name:"queryParams",label:"queryParams",component:uH})]})}const hH=F()(mH),Bd="ITEM_RELATION_FORM";function pH({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Relation Created"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Creating Relation",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Item-To-Item Relation"}),e.jsx(X,{children:e.jsx(hH,{form:Bd,onSubmit:X2,onSubmitSuccess:l,onSubmitFail:d,itemId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Bd),children:"Create"})]})]})}const xH=I(v,M)(pH),Of=he((t,n,s)=>{const{body:o,queryParams:r,headers:i,itemId:a,format:l}=t,{itemId:d=a,format:u=l}=s;return jr.updateItemSequence({itemId:d,format:u,queryParams:r,headers:i,body:o})}),jH=()=>e.jsx(c,{name:"pauseFrame",label:"Pause Frame",component:m,fullWidth:!0,type:"number",helperText:"When a rendering job is started, this parameter determines which frame the job will pause at. The job will resume when the sequence is updated"}),fH=()=>e.jsx(c,{name:"contentType",label:"Content Type",component:m,fullWidth:!0});function gH({error:t,handleSubmit:n,codeFieldMode:s="application/xml"}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"itemId",label:"Item ID",component:at,fullWidth:!0}),e.jsx(c,{name:"format",label:"Format",component:at,fullWidth:!0}),e.jsx(S,{name:"headers",component:fH}),e.jsx(S,{name:"queryParams",component:jH}),e.jsx(c,{name:"body",label:"body",component:dt,options:{theme:"material",mode:s,lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const Lf=F()(gH),bH="ITEM_SEQUENCE_CREATE_FORM";function CH({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,initialValues:l,form:d=bH}){const u=(x,j,g)=>{r({messageContent:"Sequence Created"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Creating Sequence",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Create Sequence"}),e.jsx(X,{children:e.jsx(Lf,{form:d,onSubmit:Of,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,itemId:a,initialValues:{itemId:a,...l}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{variant:"contained",color:"primary",onClick:()=>i(d),children:"Create"})]})]})}const yH=I(v,M)(CH),SH=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"updateItemMetadata",component:E}),label:"Update Item Metadata"})]});function RH({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:SH}),e.jsx(c,{name:"shapeDocument",component:dt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const TH=F()(RH),EH="ITEM_SHAPE_CREATE_FORM";function IH({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,initialValues:l,form:d=EH}){const u=(x,j,g)=>{r({messageContent:"Shape Created"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Creating Shape",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Duplicate Shape"}),e.jsx(X,{children:e.jsx(TH,{form:d,onSubmit:X0,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,itemId:a,initialValues:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(d),children:"Create"})]})]})}const Nf=I(v,M)(IH),vH=({variant:t})=>e.jsxs(e.Fragment,{children:[t!=="thumbnail"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"createPosters",label:"Poster Timecode",component:pe,validate:[Q],simple:!0,required:!0,fullWidth:!0}),e.jsx(c,{name:"posterWidth",component:m,fullWidth:!0}),e.jsx(c,{name:"posterHeight",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"posterFormat",children:"Poster Format"}),e.jsxs(c,{name:"posterFormat",component:K,children:[e.jsx(b,{value:"jpeg",children:"JPEG"}),e.jsx(b,{value:"png",children:"PNG"})]})]})]}),t!=="poster"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"createThumbnails",label:"Thumbnail Timecode",component:pe,validate:[Q],simple:!0,required:!0,fullWidth:!0}),e.jsx(c,{name:"thumbnailWidth",component:m,fullWidth:!0}),e.jsx(c,{name:"thumbnailHeight",component:m,fullWidth:!0})]}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(n=>e.jsx(b,{value:n,children:n},n))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(c,{name:"tag",label:"Shape-Tag Settings",component:m,fullWidth:!0}),e.jsx(c,{name:"version",label:"Item Essence ID",component:m,fullWidth:!0}),e.jsx(c,{name:"sourceTag",label:"Source Shape-Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(c,{name:"thumbnailService",label:"Thumbnail Service ID",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",label:"Notification ID",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function AH({error:t,handleSubmit:n,variant:s,itemId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!o&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:vH,variant:s}),e.jsx("button",{type:"submit",hidden:!0})]})}const FH=F()(AH),zd="ITEM_THUMBNAIL_FORM";function MH({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,variant:a,itemId:l}){const d=(p,x,j)=>{r({messageContent:"Thumbnail Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Thumbnail Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Start ${a?le(a):"Thumbnail"} Job`}),e.jsx(X,{children:e.jsx(FH,{form:zd,onSubmit:Y2,onSubmitSuccess:d,onSubmitFail:u,variant:a,itemId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(zd),children:"Start"})]})]})}const Jd=I(v,M)(MH);function DH({itemId:t}){return e.jsxs(O,{container:!0,alignItems:"center",children:[e.jsx(O,{item:!0,children:e.jsx(C,{variant:"h5",color:"textSecondary",children:"Item"})}),e.jsx(O,{item:!0,children:e.jsx(ee,{disabled:!0,children:e.jsx(as,{})})}),e.jsx(O,{item:!0,children:e.jsx(C,{variant:"h5",component:wt,to:ie.itemList({itemId:t}),style:{textDecoration:"none"},children:t})})]})}function PH({itemId:t,onOpen:n,removeModal:s,transcodeModal:o,relationModal:r,thumbnailModal:i,posterModal:a,exportModal:l,exportImpModal:d,addToCollectionModal:u,startJobModal:p,title:x,createModal:j,createTooltip:g="New",removeAllShapesModal:y,importImpModal:D,breadcrumbList:se,createShapeModal:re,createSequenceModal:_e,analyzeModal:Oe,...ke}){return e.jsx(Y,{grandParentTitle:"Item",grandParentTo:ie.itemList(),parentTitle:t,title:x,helpTo:"/ref/item/item.html",entityId:t,entityType:"item",removeModal:s,breadcrumbList:Array.isArray(se)?[{title:"Item",to:ie.itemList()},{title:t,to:ie.item({itemId:t})},...se]:void 0,actionComponent:e.jsxs(e.Fragment,{children:[j&&e.jsx(ve,{title:g,children:e.jsx(ee,{onClick:()=>n({modalName:j}),children:e.jsx(Vt,{})})}),e.jsxs(mt,{children:[e.jsx(b,{children:e.jsx(be,{to:`/import/item/component/?itemId=${t}`,children:e.jsx(C,{children:"Import Component"})})}),e.jsx(b,{children:e.jsx(be,{to:`/import/item/shape/?itemId=${t}`,children:e.jsx(C,{children:"Import Shape"})})}),e.jsx(be,{to:`/import/sidecar/?itemId=${t}`,children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Import Sidecar"})})}),e.jsx(be,{to:`/import/sidecar/upload/?itemId=${t}`,children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Upload Sidecar"})})}),D?e.jsx(b,{onClick:()=>n({modalName:D}),children:e.jsx(C,{color:"inherit",children:"Import IMF Package"})}):null,re?e.jsx(b,{onClick:()=>n({modalName:re}),children:e.jsx(C,{color:"inherit",children:"Create Shape"})}):null,e.jsx(be,{to:`/import/item/shape/placeholder/?itemId=${t}`,children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Create Shape Placeholder"})})}),e.jsx(b,{onClick:()=>n({modalName:u}),children:e.jsx(C,{children:"Add To Collection"})}),e.jsx(b,{onClick:()=>n({modalName:r}),children:e.jsx(C,{children:"Add Relation"})}),e.jsx(b,{onClick:()=>n({modalName:p}),children:e.jsx(C,{children:"Start Job"})}),e.jsx(b,{onClick:()=>n({modalName:Oe}),children:e.jsx(C,{children:"Analyze"})}),e.jsx(b,{onClick:()=>n({modalName:o}),children:e.jsx(C,{children:"Transcode"})}),e.jsx(b,{onClick:()=>n({modalName:i}),children:e.jsx(C,{children:"Create Thumbnail"})}),e.jsx(b,{onClick:()=>n({modalName:a}),children:e.jsx(C,{children:"Create Poster"})}),e.jsx(b,{onClick:()=>n({modalName:_e}),children:e.jsx(C,{children:"Create Sequence"})}),e.jsx(b,{onClick:()=>n({modalName:l}),children:e.jsx(C,{children:"Export"})}),e.jsx(b,{onClick:()=>n({modalName:d}),children:e.jsx(C,{children:"Export IMF Package"})}),e.jsx(b,{onClick:()=>n({modalName:s}),children:e.jsx(C,{color:"secondary",children:"Delete Item"})}),y?e.jsx(b,{onClick:()=>n({modalName:y}),children:e.jsx(C,{color:"secondary",children:"Delete All Shapes"})}):null]})]}),...ke})}const OH=tt(PH),LH=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(R,{control:e.jsx(c,{name:"createThumbnails",component:E}),label:"Create Thumbnails"}),e.jsx(c,{name:"createPosters",label:"Poster Timecodes",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"destinationItem",component:m,fullWidth:!0}),e.jsx(c,{name:"original",label:"Reset Original",component:m,fullWidth:!0}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsx(c,{name:"thumbnailService",component:m,fullWidth:!0}),e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,fullWidth:!0}),e.jsx(c,{name:"resourceTag",label:"Resource Tag",component:m,fullWidth:!0}),e.jsx(c,{name:"storageId",label:"Storage ID",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"overrideFastStart",component:E}),label:"Override FastStart"}),e.jsx(R,{control:e.jsx(c,{name:"requireFastStart",component:E}),label:"Require FastStart"}),e.jsx(c,{name:"fastStartLength",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"holdJob",component:E}),label:"Hold Job"})]});function NH({error:t,handleSubmit:n,itemId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:LH}),e.jsx("button",{type:"submit",hidden:!0})]})}const _f=F()(NH),Kd="EDIT_ITEM_TRANSCODE_FORM";function _H({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"Transcode Job Created"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Start Transcode"}),e.jsx(X,{children:e.jsx(_f,{form:Kd,onSubmit:K2,onSubmitSuccess:l,onSubmitFail:d,itemId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Kd),children:"Start"})]})]})}const $H=I(v,M)(_H),WH=he(t=>{const{queryParams:n}=t;return sn.listJob({queryParams:n})}),kH=he((t,n,s)=>{const o=s.jobId||t.jobId,{queryParams:r}=t;return sn.modifyJob({jobId:o,queryParams:r})}),wH=he((t,n,s)=>{const o=s.jobId||t.jobId,{queryParams:r}=t;return sn.duplicateJob({jobId:o,queryParams:r})}),UH=he((t,n,s)=>{const o=s.jobId||t.jobId,{queryParams:r}=t;return sn.abortJob({jobId:o,queryParams:r})}),$f=he(t=>{const{queryParams:n}=t;return sn.createJob({queryParams:n})}),VH=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"type",label:"Type",component:z,loadOptions:So,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function GH({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:VH}),e.jsx("button",{type:"submit",hidden:!0})]})}const Wf=F()(GH),Yd="JOB_CREATE_FORM";function qH({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,initialValues:i}){const a=(d,u,p)=>{o({messageContent:"Job Started"}),s&&s(d,u,p),n()},l=()=>{o({messageContent:"Error Starting Job",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Start Job"}),e.jsx(X,{children:e.jsx(Wf,{form:Yd,onSubmit:$f,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,initialValues:i})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Yd),children:"Start"})]})]})}const kf=I(v,M)(qH),HH=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"keepFiles",component:E}),label:"keepFiles"}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function BH({itemId:t,error:n,handleSubmit:s}){return e.jsxs("form",{onSubmit:s,children:[n&&e.jsx(C,{color:"error",children:n}),!t&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:HH}),e.jsx("button",{type:"submit",hidden:!0})]})}const zH=F()(BH),Qd="SHAPE_DELETE_ALL_FORM";function JH({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a}){const l=(u,p,x)=>{r({messageContent:"All Shapes Deleted"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Deleting All Shapes",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Delete All Shapes"}),e.jsx(Ne,{children:e.jsx(zH,{form:Qd,onSubmit:iV,onSubmitSuccess:l,onSubmitFail:d,itemId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(Qd),children:"Delete"})]})]})}const KH=I(v,M)(JH),Xd="BULKYMETADATA_DOWNLOAD_DIALOG";class YH extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n,bulkyMetadataKey:s}){const{itemId:o,bulkyMetadataKey:r}=this.props;(o!==n||r!==s)&&(this.onFetch(n,s),document.title=`VidiCore Admin | Item | ${n} | Bulky Metadata`)}onRefresh(){const{itemId:n,bulkyMetadataKey:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{xn.getItemBulkyMetadata({itemId:n,key:s}).then(o=>this.setState({bulkyMetadataDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,bulkyMetadataKey:o,itemId:r}=this.props,{bulkyMetadataDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:ie.itemBulkyMetadataList({itemId:r})},{title:o}],downloadModal:Xd}),s&&e.jsx(s,{}),i&&e.jsx(Ja,{bulkyMetadataDocument:i}),e.jsx(Ya,{dialogName:Xd,itemId:r,bulkyMetadataKey:o})]})}}const QH=I(We,H)(YH);class XH extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{xn.listItemBulkyMetadata({itemId:n}).then(s=>this.setState({uriListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o,itemId:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),i&&e.jsx(Ut,{uriListDocument:i,linkTo:a=>`/item/${r}/bulky-metadata/${a}/`})]})}}const ZH=H(XH);function e4({metadataListDocument:t,...n}){if(t===void 0)return null;const{item:s=[]}=t;if(s.length!==1)return null;const o=s[0]||{},{metadata:r={}}=o;return e.jsx(Sx,{metadataDocument:r,...n})}function t4(t){return e.jsx($,{children:e.jsx(V,{children:e.jsx(e4,{...t})})})}class n4 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const s={field:"__collection,__ancestor_collection,__parent_collection"};try{He.getItemMetadata({itemId:n,queryParams:Object.entries(s)}).then(o=>this.setState({metadataListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o,itemId:r}=this.props,{metadataListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"MetadataListDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),i&&e.jsx(t4,{metadataListDocument:i,onSuccess:this.onRefresh,entityType:"item",entityId:r})]})}}const s4=H(n4);function o4({shapeDocument:t={},itemId:n,shapeId:s,onRefresh:o}){if(t===void 0)return null;const{metadata:r}=t;return e.jsxs($,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:`Shape - ${s}`})}),e.jsxs(V,{children:[e.jsx(Jk,{value:t}),e.jsx(zn,{simpleMetadataDocument:r,title:"Shape Metadata",titleProps:{variant:"subtitle2"},onSuccess:o,entityType:"item",entityId:`${n}/shape/${s}`})]})]})}function wf(t){const{shapeDocument:n}=t;return n===void 0?null:e.jsxs(en,{children:[e.jsx(o4,{...t}),e.jsx(Qj,{...t}),e.jsx(ef,{...t}),e.jsx(Kj,{...t}),e.jsx(Yj,{...t}),e.jsx(Xj,{...t}),e.jsx(Zj,{...t})]})}function r4({shapeId:t,title:n}){return e.jsxs(O,{container:!0,alignItems:"center",children:[e.jsx(O,{item:!0,children:e.jsx(C,{variant:"h5",color:"textSecondary",children:"Shape"})}),e.jsx(O,{item:!0,children:e.jsx(ee,{disabled:!0,children:e.jsx(as,{})})}),e.jsx(O,{item:!0,children:e.jsx(C,{variant:"h5",children:t})}),n&&e.jsxs(e.Fragment,{children:[e.jsx(O,{item:!0,children:e.jsx(ee,{disabled:!0,children:e.jsx(as,{})})}),e.jsx(O,{item:!0,children:e.jsx(C,{variant:"h5",children:n})})]})]})}function i4({title:t,itemId:n,shapeId:s,onOpen:o,transcodeModal:r,removeModal:i,addTagModal:a,removeTagModal:l,addMimeTypeModal:d,removeMimeTypeModal:u,analyzeTagModal:p,addComponentModal:x,exportModal:j,exportImpModal:g,deductionModal:y,placeholderUpdateModal:D,createShapeModal:se,createPlaceholderComponentModal:re,breadcrumbList:_e=[],...Oe}){return e.jsx(Y,{breadcrumbList:Array.isArray(_e)?[{title:"Item",to:ie.itemList()},{title:n,to:ie.item({itemId:n})},{title:"Shape",to:ie.shapeList({itemId:n})},{title:s,to:ie.shape({itemId:n,shapeId:s})},..._e]:void 0,actionComponent:e.jsxs(mt,{children:[e.jsx(b,{onClick:()=>o({modalName:r}),children:e.jsx(C,{children:"Transcode"})}),e.jsx(b,{onClick:()=>o({modalName:y}),children:e.jsx(C,{children:"Deduction Update"})}),e.jsx(b,{onClick:()=>o({modalName:p}),children:e.jsx(C,{children:"Analyze"})}),e.jsx(b,{onClick:()=>o({modalName:x}),children:e.jsx(C,{children:"Import Component"})}),e.jsx(b,{onClick:()=>o({modalName:a}),children:e.jsx(C,{children:"Add Tag"})}),e.jsx(b,{onClick:()=>o({modalName:d}),children:e.jsx(C,{children:"Add Mime-Type"})}),e.jsx(b,{onClick:()=>o({modalName:D}),children:e.jsx(C,{children:"Update Placeholder"})}),e.jsx(b,{onClick:()=>o({modalName:j}),children:e.jsx(C,{children:"Export"})}),e.jsx(b,{onClick:()=>o({modalName:g}),children:e.jsx(C,{children:"Export IMF Package"})}),re?e.jsx(b,{onClick:()=>o({modalName:re}),children:e.jsx(C,{children:"Create Placeholder Component"})}):null,se?e.jsx(b,{onClick:()=>o({modalName:se}),children:e.jsx(C,{children:"Create Shape"})}):null,e.jsx(b,{onClick:()=>o({modalName:l}),children:e.jsx(C,{color:"secondary",children:"Remove Tag"})}),e.jsx(b,{onClick:()=>o({modalName:MimeType}),children:e.jsx(C,{color:"secondary",children:"Remove Mime-Type"})}),e.jsx(b,{onClick:()=>o({modalName:i}),children:e.jsx(C,{color:"secondary",children:"Delete"})})]}),...Oe})}const Uf=tt(i4);function a4({shapeList:t=[],itemId:n}){return t===void 0||!Array.isArray(t)?null:t.map(s=>e.jsxs(T.Fragment,{children:[n?e.jsx(Uf,{shapeId:s.id,itemId:n}):e.jsx(r4,{shapeId:s.id}),e.jsx(wf,{shapeDocument:s})]},s.id))}function l4({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Sr,{...t})})})}function Vf({itemDocument:t}){if(t===void 0)return null;const{id:n,metadata:s,thumbnails:o,posters:r,files:i,shape:a}=t;return e.jsxs(e.Fragment,{children:[s&&e.jsx(l4,{itemId:n,metadataDocument:s}),o&&e.jsx(Ut,{title:"Thumbnails",uriListDocument:o}),r&&e.jsx(Ut,{title:"Posters",uriListDocument:r}),i&&e.jsx(Ut,{title:"Files",uriListDocument:i}),a&&e.jsx(a4,{itemId:n,shapeList:a})]})}const Io=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"content",component:z,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"uri",label:"uri"},{value:"shape",label:"shape"},{value:"poster",label:"poster"},{value:"thumbnail",label:"thumbnail"},{value:"access",label:"access"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),e.jsx(c,{name:"p",label:"Path",component:m,fullWidth:!0}),e.jsx(c,{name:"field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"group",component:m,fullWidth:!0}),e.jsx(c,{name:"language",component:m,fullWidth:!0}),e.jsx(c,{name:"sampleRate",component:m,fullWidth:!0}),e.jsx(c,{name:"interval",component:m,fullWidth:!0}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"include",component:m,fullWidth:!0}),e.jsx(c,{name:"includeValues",component:m,fullWidth:!0}),e.jsx(c,{name:"revision",component:m,fullWidth:!0}),e.jsx(c,{name:"mergedType",component:m,fullWidth:!0}),e.jsx(c,{name:"mergedPermission",component:m,fullWidth:!0}),e.jsx(c,{name:"mergedExtradata",component:m,fullWidth:!0}),e.jsx(c,{name:"uriType",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsx(c,{name:"storageType",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"methodType",children:"Method Type"}),e.jsxs(c,{name:"methodType",component:K,children:[e.jsx(b,{value:"AUTO",children:"AUTO"}),e.jsx(b,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),e.jsx(k,{name:"methodMetadata",label:"Method Metadata",component:ne}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"version",component:m,fullWidth:!0}),e.jsx(c,{name:"baseURI",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"closedFiles",component:E}),label:"Closed Files"}),e.jsx(R,{control:e.jsx(c,{name:"noauth-url",component:E}),label:"No-Auth URL"}),e.jsx(R,{control:e.jsx(c,{name:"conflict",component:E}),label:"Conflict"}),e.jsx(R,{control:e.jsx(c,{name:"terse",component:E}),label:"Terse"}),e.jsx(R,{control:e.jsx(c,{name:"defaultValue",component:E}),label:"Default Value"}),e.jsx(R,{control:e.jsx(c,{name:"includeTransientMetadata",component:E}),label:"Include Transient Metadata"}),e.jsx(c,{name:"storage",label:"Storage",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"storageGroup",label:"Storage Group",component:z,loadOptions:bo,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"includeConstraintValue",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"starttc",component:E}),label:"Start TC"})]});function c4({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:Io})]})}const d4=F()(c4),Ko="ITEM_PARAMS_FORM";function u4({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const d=(p,x,j)=>{n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Item Display",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(fe,{defaultExpanded:!0,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item Display Options"})}),e.jsx(Ie,{children:e.jsx(d4,{form:Ko,onSubmit:B2,onSubmitSuccess:d,onSubmitFail:u,itemId:a,...l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(Ko),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ko),children:"Update"})]})]})}const m4=I(H,M)(u4);class h4 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onRefresh(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{submitForm:n}=this.props;n(Ko)}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{itemDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(m4,{itemId:n,onSuccess:a=>this.setState({itemDocument:a.data})}),i&&e.jsx(Vf,{itemId:n,itemDocument:i})]})}}const p4=M(h4),x4=["READY","STARTED","VIDINET_JOB","FINISHED","FINISHED_WARNING","FAILED_TOTAL","WAITING","ABORTED_PENDING","ABORTED","HOLD"],j4=["READY","STARTED","VIDINET_JOB","FINISHED"],f4=["WAITING","FINISHED_WARNING","ABORTED_PENDING","HOLD"],g4=["WAITING","HOLD"],Gf=["READY","STARTED","VIDINET_JOB","WAITING","ABORTED_PENDING","HOLD"];function qf({jobDocument:t}){if(t===void 0)return null;const{status:n}=t,s=Gf.includes(n);return j4.includes(n)?e.jsx(Ue,{avatar:e.jsx(Jo,{isLoading:s,children:e.jsx(qt,{})}),label:le(n.toLowerCase())}):f4.includes(n)?e.jsx(Ue,{avatar:e.jsx(Jo,{isLoading:s,children:e.jsx(fs,{})}),label:le(n.toLowerCase())}):e.jsx(Ue,{avatar:e.jsx(Jo,{isLoading:s,children:e.jsx(_t,{})}),label:n?le(n.toLowerCase()):"Unknown"})}function b4({jobDocument:t}){let n;const s=qe(t.started);if(t.finished){const o=qe(t.finished);n=qe.duration(o.diff(s)).humanize()}else if(t.status==="STARTED"){const o=qe(),r=qe.duration(o.diff(s));n=`${parseInt(r.asMinutes(),10)} minutes`}return e.jsxs(Be,{to:`/job/${t.jobId}/`,hover:!0,children:[e.jsx(P,{children:t.jobId}),e.jsx(P,{children:t.user}),e.jsx(P,{children:t.started?qe(t.started).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(P,{children:t.finished?qe(t.finished).format("YYYY-MM-DD HH:mm").toString():""}),e.jsx(P,{children:n}),e.jsx(P,{children:e.jsx(qf,{jobDocument:t})}),e.jsx(P,{children:t.type}),e.jsx(P,{children:t.priority})]})}function C4({jobListDocument:t,count:n=0,page:s=0,rowsPerPage:o=10,onChangePage:r,onChangeRowsPerPage:i,onChangeOrder:a,orderBy:l,orderDirection:d}){const{job:u=[]}=t,p=[10,100,250];return p.includes(o)||p.push(o),e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:e.jsx(Mt,{active:l==="jobId",direction:d,onClick:a("jobId"),children:"ID"})}),e.jsx(P,{children:e.jsx(Mt,{active:l==="user",direction:d,onClick:a("user"),children:"User"})}),e.jsx(P,{children:e.jsx(Mt,{active:l==="startTime",direction:d,onClick:a("startTime"),children:"Start"})}),e.jsx(P,{children:"End"}),e.jsx(P,{children:"Duration"}),e.jsx(P,{children:e.jsx(Mt,{active:l==="status",direction:d,onClick:a("status"),children:"Status"})}),e.jsx(P,{children:e.jsx(Mt,{active:l==="type",direction:d,onClick:a("type"),children:"Type"})}),e.jsx(P,{children:e.jsx(Mt,{active:l==="priority",direction:d,onClick:a("priority"),children:"Priority"})})]})}),e.jsx(de,{children:u.map(x=>e.jsx(b4,{jobDocument:x},x.jobId))}),e.jsx(Pt,{children:e.jsx(Te,{children:e.jsx(Ot,{count:n,page:s,rowsPerPage:o,onPageChange:r,onRowsPerPageChange:i,ActionsComponent:Lt,rowsPerPageOptions:p})})})]})}function Hf({...t}){return t.jobListDocument===void 0?null:e.jsx($,{children:e.jsx(V,{children:e.jsx(C4,{...t})})})}class y4 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.state={jobListDocument:void 0,count:void 0,page:1,rowsPerPage:10,orderBy:"jobId",orderDirection:"desc",sort:"jobId desc",first:0,number:10}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Jobs",messageColor:"secondary"})}onFetch(n){const{sort:s,first:o,number:r}=this.state,i={user:!1,first:o,number:r,sort:s,jobmetadata:[{key:"itemId",value:n}]};try{sn.listJob({queryParams:i}).then(a=>this.onSuccess(a)).catch(a=>this.onRefreshError(a))}catch(a){this.onRefreshError(a)}}onSuccess(n){const s=n.data,{first:o=0,number:r=10}=this.state,{hits:i=0}=s,a=Math.ceil(i/r)-Math.ceil((i-o)/r);this.setState({count:i,rowsPerPage:r,page:a,jobListDocument:s})}async onChangePage({page:n}){const{number:s=10}=this.state,o=n*s;await this.setState({first:o}),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){await this.setState({first:0,number:n}),this.onRefresh()}onChangeOrder(n){return async()=>{const{orderDirection:s,orderBy:o}=this.state;let r="",i,a;n!==o?(a=n,i="desc",r=[`${n} ${i}`]):s==="desc"&&(a=n,i="asc",r=[`${n} ${i}`]),await this.setState({orderBy:a,orderDirection:i,sort:r}),this.onRefresh()}}render(){const{jobListDocument:n,count:s,page:o,rowsPerPage:r,orderBy:i,orderDirection:a}=this.state,{titleComponent:l,tabComponent:d,title:u}=this.props;return e.jsxs(e.Fragment,{children:[l&&e.jsx(l,{code:n,codeModal:"JobListDocument",onRefresh:this.onRefresh,title:u}),d&&e.jsx(d,{}),e.jsx(Hf,{jobListDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:i,orderDirection:a})]})}}const S4=H(y4);function R4({...t}){return e.jsx(Ax,{onSubmit:bf,...t})}function T4({metadataListDocument:t,...n}){if(t===void 0)return null;const{item:s=[]}=t;if(s.length!==1)return null;const o=s[0]||{},{metadata:r={}}=o;return e.jsx(Ix,{onSubmit:q2,metadataDocument:r,...n})}function E4({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(T4,{...t})})})}class I4 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSubmitTimeRepresentation=this.onSubmitTimeRepresentation.bind(this),this.onQuickEdit=this.onQuickEdit.bind(this),this.onQuickEditError=this.onQuickEditError.bind(this),this.state={metadataListDocument:void 0,timeRepresentation:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{He.getItemMetadata({itemId:n}).then(s=>this.setState({metadataListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}onQuickEditError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Updating Item",messageColor:"secondary"})}onQuickEdit(n){const{itemId:s}=this.props;try{return He.updateItemMetadata({itemId:s,metadataDocument:n}).then(()=>He.getItemMetadata({itemId:s})).then(o=>this.setState({metadataListDocument:o.data})).catch(o=>{throw this.onQuickEditError(o),o})}catch(o){throw this.onQuickEditError(o),o}}onSubmitTimeRepresentation(n){this.setState({timeRepresentation:n})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataListDocument:i,timeRepresentation:a}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataListDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(R4,{itemId:n,onSuccess:l=>this.setState({metadataListDocument:l.data})}),e.jsx(Fx,{onSubmit:this.onSubmitTimeRepresentation}),i&&e.jsx(E4,{itemId:n,metadataListDocument:i,timeRepresentation:a,onSuccess:this.onRefresh,onQuickEdit:this.onQuickEdit})]})}}const Bf=H(I4);function v4(t){return Dx(t)}function A4({...t}){return e.jsx(Px,{onSubmit:H2,...t})}const Zd="ITEM_METADATACHANGESET_DELETE_DIALOG",eu="ITEM_METADATACHANGESET_TRIM_DIALOG";class F4 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataChangeSetDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{Dt.listEntityMetadataChange({entity:"item",entityId:n}).then(s=>this.setState({metadataChangeSetDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{metadataChangeSetDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataChangeSetDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(A4,{itemId:n,onSuccess:a=>this.setState({metadataChangeSetDocument:a.data})}),i&&e.jsx(v4,{itemId:n,metadataChangeSetDocument:i,MetadataChangeSetMenuProps:{removeModal:Zd,trimModal:eu}}),e.jsx(Ox,{dialogName:Zd,entity:"item",entityId:n,onSuccess:this.onRefresh}),e.jsx(Lx,{dialogName:eu,entity:"item",entityId:n,onSuccess:this.onRefresh})]})}}const M4=H(F4);function D4({resourceId:t,itemId:n,time:s,isPoster:o}){const r=`${o?"poster":"thumbnail"}_${n}_${s}.jpg`;(o?Qo.getPoster:Qo.getThumbnail)({resourceId:t,itemId:n,time:s,responseType:"blob"}).then(({data:a})=>{Vp({data:a,fileName:r})})}const zf=t=>{if(t===void 0)return{};const{pathname:n}=new URL(t),[,,s,o,r,i]=n.split("/");return{resourceId:o,itemId:r,time:i,isPoster:s==="poster"}},nl="ITEMTHUMBNAILDELETE_DIALOG";function P4({open:t,onClose:n,uri:s,onSuccess:o,onError:r,openSnackBar:i}){if(t===!1)return null;const{resourceId:a,itemId:l,time:d,isPoster:u}=zf(s),p=u?Qo.removePoster:Qo.removeThumbnail,x=()=>p({resourceId:a,itemId:l,time:d}).then(()=>{i({messageContent:"Thumbnail Deleted"}),o&&o(),n()}).catch(()=>{i({messageContent:"Error Deleting Thumbnail",messageColor:"secondary"}),r&&r()});return e.jsxs(_,{open:t,onClose:n,maxWidth:!1,children:[e.jsx(N,{children:`Remove ${u?"Poster":"Thumbnail"} ${d}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:x,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Jf=I(v)(P4),O4=t=>({Menu:{color:t.palette.common.white}});function L4({classes:t,uri:n,onOpen:s}){const o=()=>s({modalName:nl,uri:n}),r=()=>{const{resourceId:i,itemId:a,time:l,isPoster:d}=zf(n);D4({resourceId:i,itemId:a,time:l,isPoster:d})};return e.jsxs(mt,{iconProps:{color:"inherit",className:t.Menu},children:[e.jsx(b,{onClick:r,children:e.jsx(C,{children:"Download"})}),e.jsx(b,{onClick:o,children:e.jsx(C,{color:"error",children:"Delete"})})]})}const Kf=xe(O4)(gn(L4));function N4({uriListDocument:t}){if(t===void 0)return null;const{uri:n=[]}=t,s=o=>{let[r]=o.split("?");return[,r]=r.split(";"),r};return e.jsx(vp,{rowHeight:"auto",cols:1,children:n.map(o=>e.jsxs(Ap,{children:[e.jsx("img",{src:o,alt:o}),e.jsx(Ta,{title:s(o),actionIcon:e.jsx(Kf,{uri:o})})]},o))})}class _4 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const o={content:"poster","noauth-url":!0,baseURI:`${we.defaultClient.defaults.baseURL||""}/APInoauth/`};try{He.getItem({itemId:n,queryParams:o}).then(r=>this.setState({itemDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o}=this.props,{itemDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:r,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),r&&r.posters&&e.jsx(N4,{uriListDocument:r.posters}),e.jsx(Jf,{dialogName:nl,onSuccess:this.onRefresh})]})}}const $4=H(_4),W4=()=>e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0});function k4({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:W4})]})}const w4=F()(k4),tu="ITEM_PROJECTION_FORM";function U4({submitForm:t,openSnackBar:n,onSuccess:s,onFail:o,itemId:r,outgoingProjectionDocument:i}){const a=(d,u,p)=>{n({messageContent:"Projection Applied"}),s&&s(d,u,p)},l=(d,u,p)=>{n({messageContent:"Error Appying Projection",messageColor:"secondary"}),o&&o(d,u,p)};return e.jsxs(e.Fragment,{children:[e.jsx(w4,{form:tu,onSubmit:bf,onSubmitSuccess:a,onSubmitFail:l,itemId:r,headers:{accept:"application/xml"},initialValues:{queryParams:{projection:"default"}}}),e.jsx(f,{color:"primary",variant:"contained",onClick:()=>t(tu),children:"Update"}),i&&e.jsx(h,{title:"Projection",value:i,variant:"xml",hideNoValue:!0})]})}const V4=I(v,M)(U4);function G4(t){return e.jsx($,{children:e.jsx(V,{children:e.jsx(V4,{...t})})})}class q4 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={outgoingProjectionDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const s={accept:"application/xml"},o={projection:"default"};try{He.getItemMetadata({itemId:n,headers:s,queryParams:o}).then(r=>this.setState({outgoingProjectionDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{outgoingProjectionDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"OutgoingProjectionDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),i&&e.jsx(G4,{itemId:n,outgoingProjectionDocument:i,onSuccess:a=>this.setState({outgoingProjectionDocument:a.data})})]})}}const H4=H(q4);function B4({isEditing:t,toggleEdit:n}){return e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:t,onChange:n})}function z4({onRemove:t}){return e.jsx(ee,{onClick:t,children:e.jsx(jt,{})})}function J4({toggleComponent:t=B4,toggleProps:n={},removeComponent:s=z4,removeProps:o={},isEditing:r,toggleEdit:i,onRemove:a,...l}){return e.jsxs(e.Fragment,{children:[a&&e.jsx(s,{onRemove:a,...o,...l}),i&&e.jsx(t,{isEditing:r,toggleEdit:i,...n,...l})]})}function K4({actionComponent:t=J4,actionProps:n={},isEditing:s,toggleEdit:o,onRemove:r,cardHeaderProps:i={},...a}){return e.jsx(je,{action:e.jsx(t,{isEditing:s,toggleEdit:o,onRemove:r,...n,...a}),...i})}function Y4({editComponent:t,editProps:n={},displayComponent:s,displayProps:o={},isEditing:r,...i}){return e.jsx(V,{children:r?e.jsx(t,{...n,...i}):e.jsx(s,{...o,...i})})}function Q4({children:t}){return e.jsx($,{children:t})}function X4({isEditing:t=!1,toggleEdit:n,onSave:s,saveProps:o={},cancelProps:r={}}){return t?e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:n,...r,children:"Cancel"}),e.jsx(f,{onClick:s,size:"small",color:"primary",...o,children:"Save"})]})]}):null}function Z4({initialState:t=!1,editComponent:n,editProps:s={},displayComponent:o,displayProps:r={},cardComponent:i=Q4,cardProps:a={},cardHeaderComponent:l=K4,cardHeaderProps:d={},cardContentComponent:u=Y4,cardContentProps:p={},cardActionComponent:x=X4,cardActionProps:j={},onRemove:g,onSave:y,...D}){const[se,re]=T.useState(t),_e=()=>re(!se);return e.jsxs(i,{...a,...D,children:[e.jsx(l,{isEditing:se,toggleEdit:_e,onRemove:g,cardHeaderProps:d,...D}),e.jsx(u,{isEditing:se,toggleEdit:_e,editComponent:n,editProps:s,displayComponent:o,displayProps:r,...p,...D}),e.jsx(x,{isEditing:se,toggleEdit:_e,onSave:y,...j,...D})]})}const eB=()=>e.jsxs(e.Fragment,{children:[e.jsx(Df,{}),e.jsx(Pf,{})]});function tB({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:eB})]})}const nB=F()(tB),Yf="ITEM_RELATION_FORM_EDIT";function sB({itemRelationType:t}){return e.jsxs(e.Fragment,{children:[t.direction&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Source",value:t.direction.source}),e.jsx(h,{title:"Target",value:t.direction.target}),e.jsx(h,{title:"Type",value:t.direction.type})]}),t.value&&e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsx(h,{title:"Metadata"}),t.value.map(n=>e.jsx(h,{title:n.key,value:n.value},n.key))]})]})}function oB({itemRelationType:t}){return e.jsx(sB,{itemRelationType:t})}function rB({itemRelationType:t,toggleEdit:n,openSnackBar:s,onRefresh:o}){return e.jsx(nB,{form:Yf,onSubmit:Z2,onSubmitSuccess:()=>{n(),o()},onSubmitFail:()=>s({messageContent:"Error Updating Relation",messageColor:"secondary"}),relationId:t.id,initialValues:{queryParams:{direction:t.direction.type,relationMetadata:t.value}}})}function iB({itemRelationType:t,openRemove:n,submitForm:s,onRefresh:o,openSnackBar:r}){return e.jsx(Z4,{editComponent:rB,displayComponent:oB,cardHeaderProps:{subheader:`Relation ID: ${t.id}`},itemRelationType:t,onRemove:n(t.id),onSave:()=>s(Yf),onRefresh:o,openSnackBar:r})}const aB=I(M,v)(iB);function lB({itemRelationListDocument:t,openRemove:n,onRefresh:s}){if(t===void 0)return null;const{relation:o=[]}=t;return o.map(r=>e.jsx(aB,{itemRelationType:r,openRemove:n,onRefresh:s},r.id))}const cB=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"direction",children:"Direction"}),e.jsxs(c,{name:"direction",component:K,fullWidth:!0,children:[e.jsx(b,{value:"A",children:"All"}),e.jsx(b,{value:"U",children:"Unidirectional"}),e.jsx(b,{value:"S",children:"Source"}),e.jsx(b,{value:"T",children:"Target"}),e.jsx(b,{value:"D",children:"Source or Target"})]})]}),e.jsx(k,{name:"relationMetadata",component:ne,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function dB({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:cB})]})}const uB=F()(dB),Yo="ITEM_RELATION_LIST_PARAMS_FORM";function mB({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const d=(p,x,j)=>{n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Item Relations",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(fe,{defaultExpanded:!0,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item Relation Options"})}),e.jsx(Ie,{children:e.jsx(uB,{form:Yo,onSubmit:Q2,onSubmitSuccess:d,onSubmitFail:u,itemId:a,...l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(Yo),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Yo),children:"Update"})]})]})}const hB=I(H,M)(mB);function pB({onClose:t,isOpen:n,relationId:s,onRemove:o}){return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Relation ${s} ?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:o(s),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const nu="ITEM_RELATION_REMOVE_MODAL";class xB extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.state={itemRelationListDocument:void 0,currentRelationId:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;this.onRefresh(),n(this.onRefresh)}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onRefresh(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{submitForm:n}=this.props;n(Yo)}onRemove(n){const{openSnackBar:s,onClose:o}=this.props;return()=>{He.removeRelation({relationId:n}).then(()=>{const r=`Relation "${n}" Removed`;s({messageContent:r}),o(),this.onRefresh()}).catch(()=>{s({messageContent:"Error Removing Relation",messageColor:"secondary"})})}}openRemove(n){const{onOpen:s}=this.props;return()=>{this.setState({currentRelationId:n},()=>s({modalName:nu}))}}render(){const{itemId:n,titleComponent:s,tabComponent:o,onClose:r,modalName:i,title:a}=this.props,{itemRelationListDocument:l,currentRelationId:d}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:l,codeModal:"ItemRelationListDocument",onRefresh:this.onRefresh,title:a}),o&&e.jsx(o,{}),e.jsx(hB,{itemId:n,onSuccess:u=>this.setState({itemRelationListDocument:u.data})}),l&&e.jsx(lB,{itemId:n,itemRelationListDocument:l,openRemove:this.openRemove,onRefresh:this.onRefresh}),e.jsx(pB,{isOpen:i===nu,onClose:r,onRemove:this.onRemove,relationId:d})]})}}const jB=I(M,v)(xB);function fB({value:t,variant:n}){return e.jsx(h,{value:t,variant:n})}const gB="EDIT_ITEM_SEQUENCE_FORM";function bB({body:t,openSnackBar:n,onRefresh:s,contentType:o,itemId:r,format:i}){const a=()=>{n({messageContent:"Sequence Saved"}),s&&s()},l=()=>{n({messageContent:"Error Updating Sequence",messageColor:"secondary"})},d={itemId:r,format:i,codeFieldMode:o},u={value:t,variant:o},p={itemId:r,format:i,body:o==="application/xml"?pn(t):t,headers:{contentType:o}};return e.jsx(Ge,{formComponent:Lf,displayComponent:fB,formName:gB,onSubmitSuccess:a,onSubmitFail:l,onSubmit:Of,formProps:d,displayProps:u,initialValues:p})}const CB=v(bB);function yB(t){return e.jsx($,{children:e.jsx(CB,{...t})})}function SB({open:t,itemId:n,format:s,onClose:o,openSnackBar:r,onSuccess:i,onError:a}){const l=async()=>{try{await jr.removeItemSequence({itemId:n,format:s});const d=`Sequence ${s} Removed`;r&&r({messageContent:d}),o&&o(),i&&i()}catch(d){r&&r({messageContent:"Error Removing Sequence",messageColor:"secondary"}),a&&a(d)}};return e.jsxs(_,{open:t,onClose:o,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Sequence "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:o,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:l,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const RB=v(SB);function TB({menuItems:t=[],onOpen:n}){return e.jsx(mt,{children:t.map(({label:s,to:o,modalName:r,color:i,Typography:a={}})=>{const l=e.jsx(C,{color:i,...a,children:s});return o?e.jsx(b,{children:e.jsx(be,{to:o,children:l})},o):r?e.jsx(b,{onClick:()=>n({modalName:r}),children:l},r):e.jsx(b,{children:l},s)})})}const Qf=tt(TB),fi="ITEM_SEQUENCE_REMOVE_DIALOG";class EB extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={sequenceDocument:void 0,contentType:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n,format:s}){const{itemId:o,format:r}=this.props;(o!==n||r!==s)&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n,format:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{jr.getItemSequence({itemId:n,format:s}).then(o=>this.setState({sequenceDocument:o.data,contentType:o.headers["content-type"]})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o,format:r,itemId:i,history:a}=this.props,{sequenceDocument:l,contentType:d}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:l,codeModal:"SequenceDocument",helpTo:"/ref/item/sequence.html",codeVariant:d,onRefresh:this.onRefresh,removeModal:fi,title:o,breadcrumbList:[{title:"Sequence",to:ie.itemSequenceList({itemId:i})},{title:r}],actionComponent:e.jsx(Qf,{menuItems:[{label:"Delete Sequence",color:"secondary",modalName:fi}]}),addAccessControl:null,entityId:null}),s&&e.jsx(s,{}),l&&e.jsx(yB,{body:l,onRefresh:this.onRefresh,contentType:d,itemId:i,format:r}),e.jsx(RB,{dialogName:fi,onSuccess:()=>a.push(ie.itemSequenceList({itemId:i})),itemId:i,format:r})]})}}const IB=I(We,H)(EB);function vB({sequenceListDocument:t,itemId:n}){const s=(t==null?void 0:t.sequence)||[];return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Be,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{children:"Type"})]})}),e.jsx(de,{children:s.map(o=>e.jsxs(Be,{to:`/item/${n}/sequence/${o.type}/`,hover:!0,children:[e.jsx(A,{children:o.id}),e.jsx(A,{children:o.type})]},o.id))})]})}function AB({title:t,sequenceListDocument:n,...s}){return n===void 0?null:e.jsxs($,{children:[t&&e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:t})}),e.jsx(V,{children:e.jsx(vB,{sequenceListDocument:n,...s})})]})}const FB="ITEM_SEQUENCE_CREATE_DIALOG";class MB extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={sequenceListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{jr.listItemSequence({itemId:n}).then(s=>this.setState({sequenceListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{sequenceListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"SequenceListDocument",helpTo:"/ref/item/sequence.html",onRefresh:this.onRefresh,title:r,addAccessControl:null,entityId:null,removeModal:null,createModal:FB,createModalTitle:"New Sequence"}),o&&e.jsx(o,{}),i&&e.jsx(AB,{sequenceListDocument:i,itemId:n})]})}}const DB=H(MB),PB=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"placeholder",children:"Placeholder"}),e.jsxs(c,{name:"placeholder",component:K,children:[e.jsx(b,{value:"all",children:"All"}),e.jsx(b,{value:"true",children:"True"}),e.jsx(b,{value:"false",children:"False"})]})]}),e.jsx(c,{name:"version",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"url",component:E}),label:"Show URL"})]});function OB({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:PB})]})}const LB=F()(OB),gi="SHAPE_LIST_PARAMS_FORM";function NB({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const d=(p,x,j)=>{o({messageContent:"Shape List Display Updated"}),n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Shape List Display",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Shape List Display Options"})}),e.jsx(Ie,{children:e.jsx(LB,{form:gi,onSubmit:nV,onSubmitSuccess:d,onSubmitFail:u,itemId:a,...l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(gi),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(gi),children:"Update"})]})]})}const _B=I(H,M)(NB);class $B extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const s={placeholder:"all"};try{Ve.listShape({itemId:n,queryParams:s}).then(o=>this.setState({uriListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(_B,{itemId:n,onSuccess:a=>this.setState({uriListDocument:a.data})}),i&&e.jsx(Ut,{uriListDocument:i,linkTo:a=>`/item/${n}/shape/${a}/`})]})}}const WB=H($B);function kB({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"width",value:t.width,hover:!0}),e.jsx(h,{title:"height",value:t.height,hover:!0}),e.jsx(h,{title:"x",value:t.x,hover:!0}),e.jsx(h,{title:"y",value:t.y,hover:!0}),e.jsx(h,{title:"timecode",value:t.timecode,variant:"timecode",hover:!0}),e.jsx(h,{title:"endTimecode",value:t.endTimecode,variant:"timecode",hover:!0})]})}function wB({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"etag",value:t.etag,hover:!0}),e.jsx(h,{title:"url",value:t.url,hover:!0,variant:"row"}),e.jsx(h,{title:"path",value:t.path,hover:!0,variant:"row"}),e.jsx(Z,{arrayTitle:"Thumbnail",title:"thumbnail",value:t.thumbnail,component:kB})]})}function UB({thumbnailSpriteSheetDocument:t}){return e.jsx(w,{component:wB,value:t})}const VB=({thumbnailSpriteSheetDocument:t,baseURL:n})=>{var o;let s=(o=t==null?void 0:t.url)==null?void 0:o[0];if(s!==void 0){if(s=s.replaceAll("/API/","/APInoauth/"),n){const r=new URL(s);s=[n,r.pathname,r.search].join("")}return s}};function GB({thumbnailSpriteSheetDocument:t,baseURL:n}){const s=VB({thumbnailSpriteSheetDocument:t,baseURL:n});return s===void 0?null:e.jsx(ka,{src:s})}const qB=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"noauth-url",children:"noauth-url"}),e.jsxs(c,{name:"noauth-url",component:K,children:[e.jsx(b,{value:"true",children:"True"}),e.jsx(b,{value:"false",children:"False"})]})]}),HB=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"If-Modified-None",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"accept",children:"accept"}),e.jsxs(c,{name:"accept",component:K,children:[e.jsx(b,{value:"application/xml",children:"application/xml"}),e.jsx(b,{value:"application/json",children:"application/json"}),e.jsx(b,{value:"text/vtt",children:"text/vtt"})]})]})]});function BB({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:qB}),e.jsx(S,{name:"headers",label:"headers",component:HB})]})}const zB=F()(BB),JB="ITEM_THUMBNAILSPRITESHEET_PARAMS_FORM";function KB({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,form:l=JB,...d}){const u=(x,j,g)=>{n&&n(x,j,g)},p=(x,j,g)=>{o({messageContent:"Error Updating Item Thumbnail Spritesheet",messageColor:"secondary"}),s&&s(x,j,g)};return e.jsxs(fe,{defaultExpanded:!0,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item Thumbnail Spritesheet Options"})}),e.jsx(Ie,{children:e.jsx(zB,{form:l,onSubmit:J2,onSubmitSuccess:u,onSubmitFail:p,itemId:a,...d})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(l),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(l),children:"Update"})]})]})}const YB=I(H,M)(KB),su="ITEM_THUMBNAILSPRITESHEET_FORM";class QB extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={thumbnailSpriteSheetDocument:void 0,codeVariant:"application/json"}}componentDidMount(){const{codeVariant:n}=this.state,{itemId:s}=this.props,o=`/API/item/${s}/thumbnail/spritesheet`,r={"noauth-url":!0},i={accept:n},a=n.toLowerCase()==="application/json";a&&(i.accept="application/xml"),He.getItem({itemId:s,path:o,params:r,headers:i}).then(l=>a?ur.echo({xmlDocument:l.data}):Promise.resolve(l)).then(l=>this.setState({thumbnailSpriteSheetDocument:l.data}))}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onRefresh(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{submitForm:n}=this.props;n(su)}render(){var d,u,p;const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{thumbnailSpriteSheetDocument:i,codeVariant:a}=this.state,l=typeof a=="string"&&a.toLowerCase()==="application/json";return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"ThumbnailSpriteSheetDocument",codeVariant:a,onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(YB,{itemId:n,form:su,initialValues:{headers:{accept:a},queryParams:{"noauth-url":!0}},onSuccess:x=>this.setState({thumbnailSpriteSheetDocument:x.data,codeVariant:x.headers["content-type"]})}),i&&(l?e.jsxs(e.Fragment,{children:[e.jsx(GB,{thumbnailSpriteSheetDocument:i,baseURL:(p=(u=(d=we)==null?void 0:d.defaultClient)==null?void 0:u.defaults)==null?void 0:p.baseURL}),e.jsx(UB,{thumbnailSpriteSheetDocument:i})]}):e.jsx(Yp,{code:i,variant:a}))]})}}const XB=M(QB);function ZB({uriListDocument:t}){if(t===void 0)return null;const{uri:n=[]}=t,s=o=>{let[r]=o.split("?");return[,r]=r.split(";"),r};return e.jsx(vp,{rowHeight:"auto",cols:3,children:n.map(o=>e.jsxs(Ap,{children:[e.jsx("img",{src:o,alt:o}),e.jsx(Ta,{title:s(o),actionIcon:e.jsx(Kf,{uri:o})})]},o))})}class ez extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){const o={content:"thumbnail","noauth-url":!0,baseURI:`${we.defaultClient.defaults.baseURL||""}/APInoauth/`};try{He.getItem({itemId:n,queryParams:o}).then(r=>this.setState({itemDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,title:o}=this.props,{itemDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:r,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:o}),s&&e.jsx(s,{}),r&&r.thumbnails&&e.jsx(ZB,{uriListDocument:r.thumbnails}),e.jsx(Jf,{dialogName:nl,onSuccess:this.onRefresh})]})}}const tz=H(ez),Nr=["LOCAL","SHARED","REMOTE","EXTERNAL","ARCHIVE","EXPORT"],nz=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"type",component:m,fullWidth:!0}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"storageType",children:"StorageType"}),e.jsx(c,{name:"storageType",component:K,children:Nr.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"methodType",children:"Method Type"}),e.jsxs(c,{name:"methodType",component:K,children:[e.jsx(b,{value:"AUTO",children:"AUTO"}),e.jsx(b,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),e.jsx(c,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"closedFiles",component:E}),label:"Closed Files"})]});function sz({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:nz})]})}const oz=F()(sz),bi="ITEM_URI_PARAMS_FORM";function rz({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,...l}){const d=(p,x,j)=>{o({messageContent:"Item URI Display Updated"}),n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Item URI Display",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item URI Options"})}),e.jsx(Ie,{children:e.jsx(oz,{form:bi,onSubmit:z2,onSubmitSuccess:d,onSubmitFail:u,itemId:a,...l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(bi),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(bi),children:"Update"})]})]})}const iz=I(H,M)(rz);class az extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n}`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{He.getItemUri({itemId:n}).then(s=>this.setState({uriListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o,title:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:r}),o&&e.jsx(o,{}),e.jsx(iz,{itemId:n,onSuccess:a=>this.setState({uriListDocument:a.data})}),i&&e.jsx(Ut,{uriListDocument:i})]})}}const lz=H(az);function cz({essenceVersionDocument:t,linkTo:n,linkProps:s}){if(t===void 0)return null;const{shape:o=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Shape ID"}),e.jsx(A,{children:"Created"}),e.jsx(A,{})]})}),e.jsx(de,{children:o.map(({id:r,created:i})=>e.jsxs(Be,{hover:!0,...s,to:n(r),children:[e.jsx(A,{children:r}),e.jsx(A,{children:i}),e.jsx(A,{})]},r))})]})}function dz({title:t,essenceVersionDocument:n,...s}){return n===void 0?null:e.jsxs($,{children:[t&&e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:t})}),e.jsx(V,{children:e.jsx(cz,{essenceVersionDocument:n,...s})})]})}class uz extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={essenceVersionDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n,versionId:s}){const{itemId:o,versionId:r}=this.props;(o!==n||r!==s)&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n} | Version`)}onRefresh(){const{itemId:n,versionId:s}=this.props;this.onFetch({itemId:n,versionId:s})}onFetch({itemId:n,versionId:s}){try{Ve.getShapeEssence({itemId:n,versionId:s}).then(o=>this.setState({essenceVersionDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,versionId:s,titleComponent:o,tabComponent:r}=this.props,{essenceVersionDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[o&&e.jsx(o,{code:i,codeModal:"EssenceVersionDocument",onRefresh:this.onRefresh,versionId:s,breadcrumbList:[{title:"Version",to:ie.itemVersionList({itemId:n})},{title:s}]}),r&&e.jsx(r,{}),i&&e.jsx(dz,{essenceVersionDocument:i,linkTo:a=>`/item/${n}/shape/${a}/`})]})}}const mz=I(H,We)(uz);function hz({versionId:t,created:n,linkTo:s,textTo:o}){const r={};let i=t;return o&&(i=o(t)),s&&(r.to=s(t)),e.jsxs(Be,{hover:!0,...r,children:[e.jsx(A,{children:i}),e.jsx(A,{children:n}),e.jsx(A,{})]})}function pz({essenceVersionListDocument:t={},...n}){const{version:s=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Version"}),e.jsx(A,{children:"Created"}),e.jsx(A,{})]})}),e.jsx(de,{children:s.map(({id:o,uri:r,created:i})=>e.jsx(hz,{versionId:o,uri:r,created:i,...n},o))})]})}function xz({title:t,essenceVersionListDocument:n,...s}){return n===void 0?null:e.jsxs($,{children:[t&&e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:t})}),e.jsx(V,{children:e.jsx(pz,{essenceVersionListDocument:n,...s})})]})}class jz extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={essenceVersionListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:n}){const{itemId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Item | ${n} | Version`)}onRefresh(){const{itemId:n}=this.props;this.onFetch(n)}onFetch(n){try{Ve.listShapeEssence({itemId:n}).then(s=>this.setState({essenceVersionListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:n,titleComponent:s,tabComponent:o}=this.props,{essenceVersionListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"EssenceVersionListDocument",onRefresh:this.onRefresh,title:"Version"}),o&&e.jsx(o,{}),r&&e.jsx(xz,{essenceVersionListDocument:r,linkTo:i=>`/item/${n}/version/${i}/`})]})}}const fz=I(H,We)(jz);function gz({titleComponent:t}){return e.jsxs(bt,{children:[e.jsx(B,{exact:!0,path:"/item/:itemId/version/:versionId",render:()=>e.jsx(mz,{titleComponent:t})}),e.jsx(B,{exact:!0,path:"/item/:itemId/version/",render:()=>e.jsx(fz,{titleComponent:t})})]})}const Xf="ITEM_METADATA_TAB",bz="ITEM_COLLECTION_TAB",Cz="ITEM_SHAPE_TAB",yz="ITEM_URI_TAB",Sz="ITEM_CONTENT_TAB",Rz="ITEM_THUMBNAIL_TAB",Tz="ITEM_POSTER_TAB",Ez="ITEM_JOB_TAB",Iz="ITEM_PROJECTION_TAB",vz="ITEM_RELATION_TAB",Az="ACCESS_TAB",Fz="ACCESSMERGED_TAB",Mz="STORAGERULE_TAB",Dz="BULKYMETADATA_TAB",Pz="DELETIONLOCK_TAB",Oz="ITEM_VERSION_TAB",Lz="ITEM_METADATACHANGESETLIST_TAB",Nz="NOTIFICATION_TAB",_z="ITEM_SPRITESHEET_TAB",$z="ACCESSGRAPH_TAB",Wz="METADATAGRAPH_TAB",kz="ITEM_SEQUENCE_TAB",ou="ITEM_REMOVE_DIALOG",ru="ITEM_TRANSCODE_DIALOG",iu="ITEM_RELATION_DIALOG",au="ITEM_THUMBNAIL_DIALOG",lu="ITEM_POSTER_DIALOG",cu="ITEM_EXPORT_DIALOG",du="ITEM_IMPEXPORT_DIALOG",uu="COLLECTION_ENTITY_ADD_DIALOG",mu="JOB_CREATE_DIALOG",hu="ITEM_SHAPE_CREATE_DIALOG",pu="ITEM_ACCESSCONTROL_ADD_DIALOG",xu="ITEM_REMOVEALLSHAPES_DIALOG",ju="ITEM_IMPIMPORT_DIALOG",fu="ITEM_ANALYZE_DIALOG",gu="ITEM_SEQUENCE_CREATE_DIALOG",wz="EXTERNALID_TAB",Zf=[{tab:Xf,listText:"Metadata",component:Bf,exact:!0,path:"/item/:itemId/metadata/"},{tab:Sz,listText:"Content",component:p4,path:"/item/:itemId/content/"},{tab:Lz,listText:"Changes",component:M4,path:"/item/:itemId/metadata/changes/"},{tab:bz,listText:"Collection",component:s4,path:"/item/:itemId/collection/"},{tab:Cz,listText:"Shape",component:WB,path:"/item/:itemId/shape/"},{tab:Oz,listText:"Version",component:gz,path:"/item/:itemId/version/"},{tab:yz,listText:"URI",component:lz,path:"/item/:itemId/uri/"},{tab:Rz,listText:"Thumbnail",component:tz,path:"/item/:itemId/thumbnail/"},{tab:Tz,listText:"Poster",component:$4,path:"/item/:itemId/poster/"},{tab:_z,listText:"Spritesheet",component:XB,path:"/item/:itemId/spritesheet/"},{tab:Ez,listText:"Job",component:S4,path:"/item/:itemId/job/"},{tab:Iz,listText:"Projection",component:H4,path:"/item/:itemId/projection/"},{tab:vz,listText:"Relation",component:jB,path:"/item/:itemId/relation/"},{tab:Az,listText:"Direct Access",component:_a,path:"/item/:itemId/direct-access/"},{tab:Fz,listText:"Merged Access",component:Wa,path:"/item/:itemId/merged-access/"},{tab:$z,listText:"Access Graph",component:Cx,path:"/item/:itemId/access/graph/"},{tab:Wz,listText:"Metadata Graph",component:Bx,path:"/item/:itemId/metadata/graph/",entity:"item"},{tab:Mz,listText:"Storage Rules",component:Ha,path:"/item/:itemId/storage-rules/"},{tab:Dz,listText:"Bulky Metadata",component:ZH,path:"/item/:itemId/bulky-metadata/",exact:!0},{tab:Pz,listText:"Deletion Locks",component:go,path:"/item/:itemId/deletion-locks/"},{tab:Nz,listText:"Notifications",component:ej,path:"/item/:itemId/notification/",entityType:"item",exact:!0},{tab:kz,listText:"Sequence",component:DB,path:"/item/:itemId/sequence/",exact:!0},{tab:wz,listText:"External ID",component:Dn,path:"/item/:itemId/external-id/",entity:"item"}],Uz=({itemId:t})=>e.jsx(gt,{children:Zf.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,{itemId:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},n))}),Vz=t=>e.jsxs(bt,{children:[e.jsx(B,{exact:!0,path:"/item/:itemId/bulky-metadata/:bulkyMetadataKey",render:()=>e.jsx(QH,{...t,title:"Bulky Metadata"}),...t}),e.jsx(B,{exact:!0,path:"/item/:itemId/sequence/:format",render:()=>e.jsx(IB,{...t,title:"Sequence"}),...t}),e.jsx(B,{exact:!0,path:"/item/:itemId/notification/:notificationId",render:()=>e.jsx(Zx,{...t}),...t}),Zf.map(({path:n,component:s,listText:o,exact:r,...i})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,...i,title:o})},n)),e.jsx(B,{path:"*",render:()=>e.jsx(Bf,{...t,title:"Metadata"})})]});class Gz extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{itemId:n}=this.props;document.title=`VidiCore Admin | Item | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{onChangeTab:n,tabValue:s,itemId:o,history:r}=this.props,i=a=>e.jsx(OH,{itemId:o,removeModal:ou,transcodeModal:ru,thumbnailModal:au,relationModal:iu,posterModal:lu,exportModal:cu,exportImpModal:du,addToCollectionModal:uu,startJobModal:mu,addAccessControl:pu,removeAllShapesModal:xu,importImpModal:ju,createShapeModal:hu,analyzeModal:fu,createSequenceModal:gu,...a});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{mainComponent:Vz,listComponent:Uz,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:i,itemId:o,entityId:o,entityType:"item",setOnRefresh:this.setOnRefresh}),e.jsx(zq,{dialogName:ou,onSuccess:()=>r.push("/item/?content=metadata%2Cthumbnail&baseURI=%2FAPInoauth%2F&terse=true&noauth-url=true"),itemId:o}),e.jsx(KH,{dialogName:xu,onSuccess:this.onRefresh,itemId:o}),e.jsx($H,{dialogName:ru,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(Jd,{dialogName:au,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o,variant:"thumbnail"}),e.jsx(Jd,{dialogName:lu,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o,variant:"poster"}),e.jsx(xH,{dialogName:iu,onSuccess:this.onRefresh,itemId:o}),e.jsx(Xq,{dialogName:cu,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(sH,{dialogName:du,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(lH,{dialogName:ju,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o}),e.jsx(Nf,{dialogName:hu,onSuccess:a=>r.push(`/item/${o}/shape/${a.data.id}/`),itemId:o}),e.jsx(yH,{dialogName:gu,onSuccess:(a,l,d)=>r.push(ie.itemSequence({itemId:o,format:d.values.format})),itemId:o}),e.jsx(px,{dialogName:uu,entityId:o,entityType:"item",onSuccess:this.onRefresh}),e.jsx(Na,{dialogName:pu,entityType:"item",entityId:o,onSuccess:this.onRefresh}),e.jsx(kf,{dialogName:mu,initialValues:{queryParams:{jobmetadata:[{key:"itemId",value:o}]}}}),e.jsx(Vq,{dialogName:fu,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),itemId:o})]})}}const qz=I(ln(Xf),We)(Gz);function Hz(){return e.jsx(O,{container:!0,justifyContent:"center",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(uC,{style:{fontSize:200}})})})}function Bz({itemType:t={},history:n}){const{thumbnails:s={},id:o}=t,{uri:r=[]}=s,[i]=r,a=n?()=>n.push(`/item/${o}/`):void 0;return e.jsxs(mC,{style:{padding:"10px",minWidth:"350px"},onClick:a,children:[i?e.jsx("img",{src:i,alt:i}):e.jsx($,{children:e.jsx(Hz,{})}),e.jsx(Ta,{title:o})]})}const eg=mo(Bz);function zz({itemListDocument:t,queryParams:n={},history:s}){if(t===void 0)return null;const{item:o=[]}=t,{terse:r,content:i=[]}=n,a=i.includes("thumbnail"),l=d=>()=>s.push(`/item/${d}/`);return e.jsx(e.Fragment,{children:o.map(d=>e.jsxs($,{onClick:l(d.id),children:[e.jsx(je,{subheader:`Item ${d.id}`}),e.jsx(V,{children:e.jsxs(O,{container:!0,children:[a&&e.jsx(O,{item:!0,children:e.jsx(Fp,{cellHeight:"auto",children:e.jsx(eg,{itemType:d})})}),e.jsxs(O,{item:!0,xs:12,sm:!0,children:[e.jsx(h,{title:"itemId",value:d.id}),r&&d.terse&&Object.keys(d.terse).map(u=>e.jsx(h,{title:u,value:d.terse[u]&&d.terse[u].value},u))]})]})})]},d.id))})}const tg=mo(zz);function ng({itemListDocument:t}){if(t===void 0)return null;const{item:n=[]}=t;return e.jsx(Fp,{cellHeight:"auto",children:n.map(s=>e.jsx(eg,{itemType:s},s.id))})}function bu({orderBy:t,orderDirection:n,onChangeOrder:s,name:o}){return s?e.jsx(A,{children:e.jsx(Mt,{active:t===o,direction:n||void 0,onClick:s(o),children:le(o)})}):e.jsx(A,{children:le(o)})}const Jz=(t,n)=>{var o;const s=(o=t==null?void 0:t.terse)==null?void 0:o[n];return Array.isArray(s)?s.map(({value:i})=>i).filter(i=>i!==void 0).join(", "):s==null?void 0:s.value};function sg({itemType:t,terse:n,fieldList:s,children:o}){return e.jsxs(Be,{to:`/item/${t.id}/`,hover:!0,children:[o,e.jsx(A,{children:t.id}),n&&t.terse&&s.map(r=>e.jsx(A,{children:Jz(t,r)},r))]})}function Kz({itemListDocument:t,queryParams:n={},onChangePage:s,onChangeRowsPerPage:o,rowsPerPageOptions:r,page:i,rowsPerPage:a,onChangeOrder:l,orderBy:d,orderDirection:u}){if(t===void 0)return null;const{item:p=[],hits:x=0}=t,{terse:j,field:g=[]}=n;let y=g;return Array.isArray(g)||(y=g.split(",")),e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(bu,{name:"itemId",onChangeOrder:l,orderBy:d,orderDirection:u}),j&&y.map(D=>e.jsx(bu,{name:D,onChangeOrder:l,orderBy:d,orderDirection:u},D))]})}),e.jsx(de,{children:p.map(D=>e.jsx(sg,{itemType:D,terse:j,fieldList:y},D.id))}),s&&o&&e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:x,page:i,rowsPerPage:a,onPageChange:s,onRowsPerPageChange:o,ActionsComponent:Lt,rowsPerPageOptions:r})})})]})}const og=I(Et,Bn)(Kz);function rg(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",label:"Group Name",component:z,loadOptions:qn,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"group",component:rg,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(c,{name:"reference",component:m,fullWidth:!0})]})}function ig(){return e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(c,{name:"operation",component:K,children:[e.jsx(b,{value:"AND",children:"AND"}),e.jsx(b,{value:"OR",children:"OR"}),e.jsx(b,{value:"NOT",children:"NOT"})]})]}),e.jsx(k,{name:"operator",component:ig,label:"operator",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"text",component:Er,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"group",component:rg,label:"group",withHeader:!1,arrayHeader:!0}),e.jsx(c,{name:"reference",component:pe,simple:!0,fullWidth:!0})]})}function Yz(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"start",component:m,fullWidth:!0}),e.jsx(c,{name:"end",component:m,fullWidth:!0})]})}function Qz(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsx(c,{name:"value",component:m,fullWidth:!0}),e.jsx(S,{name:"range",label:"Range",component:Yz})]})}function Xz(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(c,{name:"order",component:K,children:[e.jsx(b,{value:"ascending",children:"Ascending"}),e.jsx(b,{value:"descending",children:"Descending"})]})]})]})}function Zz(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"text",component:Er,label:"Text",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"field",component:Nn,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(S,{name:"operator",label:"operator",component:ig,button:!0,initialDisplay:!1}),e.jsx(S,{name:"item",label:"item join",component:Ba,button:!0,initialDisplay:!1}),e.jsx(k,{name:"filter",component:mj,label:"filter",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"facetFilter",component:Qz,label:"facetFilter",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"facet",component:jj,label:"facet",withHeader:!1,arrayHeader:!0}),e.jsx(S,{name:"highlight",label:"highlight",component:fj,button:!0,initialDisplay:!1}),e.jsx(k,{name:"sort",component:Xz,label:"sort",withHeader:!1,arrayHeader:!0})]})}function eJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataGroupSearchDocument",component:Zz}),e.jsx("button",{type:"submit",hidden:!0})]})}const tJ=F()(eJ),nJ="ITEM_METADATAGROUPSEARCH_FORM";function sJ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=nJ,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Metadata Group Search Document"})}),e.jsx(V,{children:e.jsx(tJ,{form:d,onSubmit:yf,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const oJ=I(H,M,vt)(sJ),rJ=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"result",children:"Result"}),e.jsxs(c,{name:"result",component:K,children:[e.jsx(b,{value:"list",children:"List"}),e.jsx(b,{value:"library",children:"Library"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(R,{control:e.jsx(c,{name:"save",component:E}),label:"Save"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"library",component:m,fullWidth:!0}),e.jsx(c,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(c,{name:"updateFrequency",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"updateMode",children:"Update Mode"}),e.jsxs(c,{name:"updateMode",component:K,children:[e.jsx(b,{value:"REPLACE",children:"REPLACE"}),e.jsx(b,{value:"MERGE",children:"MERGE"}),e.jsx(b,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"autoRefresh",component:E}),label:"Auto Refresh"})]});function iJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:rJ}),e.jsx(S,{name:"queryParams",component:Io}),e.jsx("button",{type:"submit",hidden:!0})]})}const aJ=F()(iJ),lJ="ITEM_METADATAGROUPSEARCH_PARAMS_FORM";function cJ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=lJ,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item Search Params"})}),e.jsx(Ie,{children:e.jsx(aJ,{form:d,onSubmit:yf,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const dJ=I(H,M,vt)(cJ),or="CARD_VIEW",rr="GRID_VIEW",Un="ROW_VIEW";function ag({isActive:t=Un,onChange:n}){const s=o=>()=>n(o);return e.jsxs(O,{container:!0,children:[e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Row",children:e.jsx(ee,{onClick:s(Un),children:e.jsx(hC,{color:t===Un?"action":"disabled"})})})}),e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Card",children:e.jsx(ee,{onClick:s(or),children:e.jsx(pC,{color:t===or?"action":"disabled"})})})}),e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Grid",children:e.jsx(ee,{onClick:s(rr),children:e.jsx(xC,{color:t===rr?"action":"disabled"})})})})]})}const ts="ITEM_METADATAGROUPSEARCH_FORM";class uJ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this),this.onChangeView=this.onChangeView.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},metadataGroupSearchDocument:{sort:d}},this.state={itemListDocument:void 0,viewLayout:Un}}componentDidMount(){document.title="VidiCore Admin | Item Metadata Group Search",setTimeout(this.onRefresh,10)}onRefresh(){const{submitForm:n}=this.props;n(ts)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({itemListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onChangeView(n){this.setState({viewLayout:n})}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{itemListDocument:n,queryParams:s,viewLayout:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Item",helpTo:"/ref/item/item.html",onRefresh:this.onRefresh,code:n,codeModal:"ItemListDocument"}),e.jsxs(O,{container:!0,spacing:1,children:[e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(oJ,{form:ts,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(dJ,{form:ts,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(ag,{onChange:this.onChangeView,isActive:o}),o===Un&&e.jsx(og,{form:ts,itemListDocument:n,queryParams:s}),o===or&&e.jsx(tg,{form:ts,itemListDocument:n,queryParams:s}),o===rr&&e.jsx(ng,{form:ts,itemListDocument:n,queryParams:s})]})}}const mJ=I(M)(uJ),hJ="ITEM_SEARCH_FORM";function pJ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=hJ,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item Search Document"})}),e.jsx(V,{children:e.jsx(za,{form:d,onSubmit:Cf,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const xJ=I(H,M,vt)(pJ),jJ=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"result",children:"Result"}),e.jsxs(c,{name:"result",component:K,children:[e.jsx(b,{value:"list",children:"List"}),e.jsx(b,{value:"library",children:"Library"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(R,{control:e.jsx(c,{name:"save",component:E}),label:"Save"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"library",component:m,fullWidth:!0}),e.jsx(c,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(c,{name:"updateFrequency",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"updateMode",children:"Update Mode"}),e.jsxs(c,{name:"updateMode",component:K,children:[e.jsx(b,{value:"REPLACE",children:"REPLACE"}),e.jsx(b,{value:"MERGE",children:"MERGE"}),e.jsx(b,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"autoRefresh",component:E}),label:"Auto Refresh"})]});function fJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:jJ}),e.jsx(S,{name:"queryParams",component:Io}),e.jsx("button",{type:"submit",hidden:!0})]})}const gJ=F()(fJ),bJ="ITEM_SEARCH_PARAMS_FORM";function CJ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=bJ,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Item Search Params"})}),e.jsx(Ie,{children:e.jsx(gJ,{form:d,onSubmit:Cf,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const yJ=I(H,M,vt)(CJ),ns="ITEM_SEARCH_FORM";class SJ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this),this.onChangeView=this.onChangeView.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:d}},this.state={itemListDocument:void 0,viewLayout:Un}}componentDidMount(){document.title="VidiCore Admin | Item",setTimeout(this.onRefresh,10)}onRefresh(){const{submitForm:n}=this.props;n(ns)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({itemListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onChangeView(n){this.setState({viewLayout:n})}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{itemListDocument:n,queryParams:s,viewLayout:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Item",helpTo:"/ref/item/item.html",onRefresh:this.onRefresh,code:n,codeModal:"ItemListDocument"}),e.jsxs(O,{container:!0,spacing:1,children:[e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(xJ,{form:ns,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(yJ,{form:ns,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(ag,{onChange:this.onChangeView,isActive:o}),o===Un&&e.jsx(og,{form:ns,itemListDocument:n,queryParams:s}),o===or&&e.jsx(tg,{form:ns,itemListDocument:n,queryParams:s}),o===rr&&e.jsx(ng,{form:ns,itemListDocument:n,queryParams:s})]})}}const RJ=I(M)(SJ);function TJ(t){const{javascriptDocument:n}=t;return jC.test({javascriptDocument:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function EJ({handleSubmit:t,className:n,style:s}){return e.jsx("form",{onSubmit:t,className:n,style:s,children:e.jsx(L,{name:"javascriptDocument",component:dt,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,lint:{esversion:11},highlightLines:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,autoCloseBrackets:!0,foldGutter:!0,autofocus:!0,extraKeys:{"Cmd-Enter":()=>t(),"Ctrl-Enter":()=>t()}}})})}const IJ=F()(EJ),vJ=`/* global api */
const requestBody = {
  sort: []
};

api.path('item/')
  .queryParam('number', '10')
  .input(requestBody)
  .put();
`,AJ=t=>({SplitterContainer:{height:"80vh"},SquareCard:{height:"100%"},CardContent:{height:"100%"},TestForm:{height:"100%",overflow:"auto"},ResultContainer:{height:"100%",display:"flex",flexDirection:"column"},ResultTypography:{minHeight:32},CodeMirror:{flexGrow:1,overflow:"auto","& .CodeMirror-gutters":{backgroundColor:({error:n})=>n!==void 0?Sa.A700:"unset",text:({error:n})=>n!==void 0?t.palette.common.white:"unset"}}}),FJ="TEST_FORM";function MJ({classes:t,openSnackBar:n,onSuccess:s,onFail:o,result:r,error:i,initialValues:a={javascriptDocument:vJ},form:l=FJ}){var j;const d=(g,y,D)=>{n({messageContent:"Script Success"}),s&&s(g,y,D)},u=(g,y,D,se)=>{n({messageContent:"Error Running Script",messageColor:"secondary"}),o&&o(g,y,D,se)},p=hr(),x=((j=p==null?void 0:p.palette)==null?void 0:j.type)==="light"?us.Light:us.Dark;return e.jsx("div",{className:t.SplitterContainer,children:e.jsxs(Ca,{direction:ya.Horizontal,gutterTheme:x,children:[e.jsx($,{className:t.SquareCard,children:e.jsxs(V,{className:t.CardContent,children:[e.jsx(C,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:"Input"}),e.jsx(IJ,{onSubmit:TJ,onSubmitSuccess:d,onSubmitFail:u,form:l,className:t.TestForm,initialValues:a})]})}),e.jsx($,{className:t.SquareCard,children:e.jsx(V,{className:t.CardContent,children:e.jsxs("div",{className:t.ResultContainer,children:[e.jsx(C,{color:"textSecondary",variant:"subtitle2",className:t.ResultTypography,children:i===void 0?"Result":"Error"}),r!==void 0||i!==void 0?e.jsx(Es,{value:ms(r)||ms(i)||"",className:t.CodeMirror,options:{readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}):null]})})})]})})}const DJ=I(H,M)(xe(AJ)(MJ)),Cu="TEST_FORM";class PJ extends T.PureComponent{constructor(n){super(n),document.title="VidiCore Admin | Javascript Test",this.onSuccess=this.onSuccess.bind(this),this.onFail=this.onFail.bind(this),this.onRefresh=this.onRefresh.bind(this),this.state={result:void 0,error:void 0}}onSuccess(n){this.setState({result:JSON.stringify(n.data,null,2),error:void 0})}onFail(n){const s=n==null?void 0:n._error;this.setState({result:void 0,error:s})}onRefresh(){const{submitForm:n}=this.props;n(Cu)}render(){var i;const{location:n}=this.props,{result:s,error:o}=this.state,r=(i=n==null?void 0:n.state)==null?void 0:i.initialValues;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Javascript Test",helpTo:"/system/integration/javascript.html",actionComponent:e.jsx(f,{variant:"outlined",color:"primary",onClick:this.onRefresh,startIcon:e.jsx(Tp,{}),children:"RUN (ctrl-enter)"})}),e.jsx(DJ,{result:s,error:o,onSuccess:this.onSuccess,onFail:this.onFail,initialValues:r,form:Cu})]})}}const OJ=I(M)(PJ),LJ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"reason",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"cleanup",component:E}),label:"Cleanup"})]});function NJ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:LJ}),e.jsx("button",{type:"submit",hidden:!0})]})}const _J=F()(NJ),yu="JOB_ABORT_FORM";function $J({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,jobDocument:i}){if(i===void 0)return null;const{jobId:a}=i,l=(u,p,x)=>{o({messageContent:"Job Abort Requested"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Updating Aborting Job",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Abort Job ${a}`}),e.jsx(Ne,{children:e.jsx(_J,{form:yu,onSubmit:UH,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,jobId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>r(yu),children:"Abort"})]})]})}const WJ=I(v,M)($J);function kJ({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Value",value:t.value,hideNoValue:!0}),e.jsx(h,{title:"Total",value:t.total,hideNoValue:!0}),e.jsx(h,{title:"Unit",value:t.unit,hideNoValue:!0})]})}function wJ({value:t={}}){return e.jsx(h,{title:qe(t.timestamp).format("llll"),value:t.description,titleStartCase:!1})}function lg({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"step",value:t.step,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"attempts",value:t.attempts,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"status",value:t.status,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"timestamp",value:t.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"description",value:t.description,hideNoValue:!0,hover:!0}),e.jsx(w,{component:kJ,value:t.progress,hideNoValue:!0}),e.jsx(Z,{value:t.subStep,component:wJ,hideNoValue:!0,hover:!0,dense:!0}),e.jsx(h,{title:"errorMessage",value:t.errorMessage,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"totalSubTasks",value:t.totalSubTasks,hideNoValue:!0,hover:!0}),e.jsx(Z,{title:"subTask",titleKey:"step",value:Array.isArray(t.subTask)?t.subTask.sort((n,s)=>s.step===n.step?s.attempts-n.attempts:s.step-n.step):t.subTask,component:lg,hideNoValue:!0,hover:!0})]})}function UJ({value:t}){return e.jsx(h,{title:t.key,value:t.value,titleStartCase:!1,variant:Vn(t.key),hideCode:!0,hover:!0})}function VJ({value:t={}}){return e.jsx(Z,{arrayTitle:"Data",value:t.data,arrayKey:"key",component:UJ,hideNoValue:!0,hover:!0,dense:!0})}function GJ({value:t}){return e.jsx(Z,{title:"Step",titleKey:"step",value:Array.isArray(t.task)?t.task.sort((n,s)=>s.step===n.step?s.attempts-n.attempts:s.step-n.step):t.task,component:lg,hideNoValue:!0,hover:!0,dense:!0})}function qJ({value:t={}}){return e.jsx(w,{value:t.log,dense:!0,component:GJ})}function HJ({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"description",value:t.description,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"number",value:t.number,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"status",value:t.status,hideNoValue:!0,hover:!0})]})}function BJ({value:t={}}){return e.jsx(w,{title:"currentStep",value:t.currentStep,component:HJ,hideNoValue:!0,dense:!0})}function zJ({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"type",value:t.type,hideNoValue:!0}),e.jsx(h,{title:"data",value:t.data?JSON.stringify(t.data):void 0,variant:"json",hideNoValue:!0})]})}function JJ({value:t={}}){return e.jsx(Z,{title:"Problem",titleKey:"id",value:t.problem,component:zJ,hideNoValue:!0,dense:!0})}function KJ({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"resourceId",value:t.resourceId,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"resourceType",value:t.resourceType,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"requirement",value:t.requirement,hideNoValue:!0,hover:!0})]})}function YJ({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"jobId",value:t.jobId,hover:!0}),e.jsx(h,{title:"user",value:t.user,variant:"username",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"started",value:t.started,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"finished",value:t.finished,variant:"timestamp",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"status",value:t.status,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"type",value:t.type,variant:"jobtype",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"priority",value:t.priority,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"totalSteps",value:t.totalSteps,hideNoValue:!0,hover:!0}),e.jsx(w,{title:"waiting",value:t.waiting,component:KJ,hideNoValue:!0,dense:!0})]})}function QJ({jobDocument:t}){return e.jsx(w,{component:YJ,value:t})}function XJ({jobDocument:t}){return e.jsx(w,{component:VJ,value:t})}function ZJ({jobDocument:t}){return e.jsx(w,{component:qJ,value:t})}function e3({jobDocument:t}){return e.jsx(w,{component:BJ,value:t})}function t3({jobProblemListDocument:t}){return e.jsx(w,{component:JJ,value:t})}function n3({jobProblemListDocument:t,...n}){return n.jobDocument===void 0?null:e.jsxs(en,{children:[e.jsx($,{children:e.jsx(V,{children:e.jsx(QJ,{...n})})}),t?e.jsx($,{children:e.jsx(V,{children:e.jsx(t3,{jobProblemListDocument:t})})}):null,e.jsx($,{children:e.jsx(V,{children:e.jsx(e3,{...n})})}),e.jsx($,{children:e.jsx(V,{children:e.jsx(XJ,{...n})})}),e.jsx($,{children:e.jsx(V,{children:e.jsx(ZJ,{...n})})})]})}const s3=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]});function o3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:s3}),e.jsx("button",{type:"submit",hidden:!0})]})}const cg=F()(o3),Su="JOB_DUPLICATE_FORM";function r3({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,jobDocument:i}){if(i===void 0)return null;const{jobId:a,priority:l}=i,d=(p,x,j)=>{o({messageContent:"Job Duplicated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Duplicating Job",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Duplicate Job ${a}`}),e.jsx(Ne,{children:e.jsx(cg,{form:Su,onSubmit:wH,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,jobId:a,initialValues:{queryParams:{priority:l}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Su),children:"Start"})]})]})}const i3=I(v,M)(r3),Ru="JOB_PRIORITY_FORM";function a3({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,jobDocument:i}){if(i===void 0)return null;const{jobId:a,priority:l}=i,d=(p,x,j)=>{o({messageContent:"Job Status Updated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Updating Job Status",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Change Job ${a} Priority`}),e.jsx(Ne,{children:e.jsx(cg,{form:Ru,onSubmit:kH,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,jobId:a,initialValues:{queryParams:{priority:l}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ru),children:"Save"})]})]})}const l3=I(v,M)(a3);function c3({open:t,onClose:n,openSnackBar:s,jobDocument:o,onSuccess:r}){if(o===void 0)return null;const{jobId:i}=o,a=()=>{const l={id:i};sn.deleteJob({queryParams:l}).then(()=>{const d=`Job ${i} Removed`;s({messageContent:d}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Job",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Job ${i}?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const d3=v(c3);function u3({onOpen:t,priorityDialog:n,abortDialog:s,removeDialog:o,duplicateDialog:r,...i}){return e.jsx(Y,{parentTitle:"Job",parentTo:"/job/",helpTo:"/ref/job.html",codeModal:"JobDocument",iconList:e.jsxs(e.Fragment,{children:[e.jsx(qf,{jobDocument:i.code}),e.jsxs(mt,{children:[e.jsx(b,{onClick:()=>t({modalName:n}),children:e.jsx(C,{color:"inherit",children:"Change Priority"})}),e.jsx(b,{onClick:()=>t({modalName:r}),children:e.jsx(C,{color:"inherit",children:"Duplicate Job"})}),e.jsx(b,{onClick:()=>t({modalName:s}),children:e.jsx(C,{color:"secondary",children:"Abort"})}),e.jsx(b,{onClick:()=>t({modalName:o}),children:e.jsx(C,{color:"secondary",children:"Delete"})})]})]}),...i})}const m3=tt(u3),Tu="JOB_PRIORITY_DIALOG",Eu="JOB_DUPLICATE_DIALOG",Iu="JOB_ABORT_DIALOG",vu="JOB_REMOVE_DIALOG";class h3 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onAutoRefresh=this.onAutoRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchProblem=this.onFetchProblem.bind(this),this.onChangeAutoRefresh=this.onChangeAutoRefresh.bind(this),this.state={jobDocument:void 0,jobProblemListDocument:void 0,autoRefresh:!0}}componentDidMount(){this.onRefresh(),this.timer=setInterval(()=>this.onAutoRefresh(),2500);const{jobId:n}=this.props;document.title=`VidiCore Admin | Job | ${n}`}UNSAFE_componentWillReceiveProps({jobId:n}){const{jobId:s}=this.props;s!==n&&(this.onFetch(n),clearInterval(this.timer),this.timer=setInterval(()=>this.onAutoRefresh(),2500),this.setState({autoRefresh:!0}),document.title=`VidiCore Admin | Job | ${n}`)}componentWillUnmount(){clearInterval(this.timer),this.timer=void 0}onRefresh(){const{jobId:n}=this.props;this.onFetch(n)}onAutoRefresh(){const{jobDocument:n={}}=this.state,{status:s}=n;if(s===void 0){clearInterval(this.timer),this.timer=void 0,this.setState({autoRefresh:!1});return}if(this.timer&&!Gf.includes(s)){clearInterval(this.timer),this.timer=void 0,this.setState({autoRefresh:!1});return}this.onRefresh()}onFetch(n){const s={metadata:!0};try{sn.getJob({jobId:n,queryParams:s}).then(o=>{this.setState({jobDocument:o.data});const{status:r}=o.data;g4.includes(r)&&this.onFetchProblem(n)}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Job",messageColor:"secondary"})}onChangeAutoRefresh(){const{autoRefresh:n}=this.state,s=!n;this.setState({autoRefresh:s}),s===!0&&this.timer===void 0?this.timer=setInterval(()=>this.onAutoRefresh(),2500):s===!1&&this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}onFetchProblem(n){try{sn.listJob({path:`/API/job/${n}/problem`}).then(s=>this.setState({jobProblemListDocument:s.data}))}catch(s){this.onRefreshError(s)}}render(){const{jobDocument:n,jobProblemListDocument:s,autoRefresh:o}=this.state,{jobId:r,history:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(m3,{title:r,onRefresh:this.onRefresh,autoRefresh:o,onChangeAutoRefresh:this.onChangeAutoRefresh,code:n,priorityDialog:Tu,duplicateDialog:Eu,abortDialog:Iu,removeDialog:vu}),e.jsx(n3,{jobDocument:n,jobProblemListDocument:s}),e.jsx(l3,{dialogName:Tu,onSuccess:this.onRefresh,jobDocument:n}),e.jsx(i3,{dialogName:Eu,onSuccess:a=>i.push(`/job/${a.data.jobId}`),jobDocument:n}),e.jsx(WJ,{dialogName:Iu,onSuccess:this.onRefresh,jobDocument:n}),e.jsx(d3,{dialogName:vu,onSuccess:()=>i.push("/job/"),jobDocument:n})]})}}const p3=v(h3),Au="JOB_CREATE_FORM";function x3({openSnackBar:t,submitForm:n,initialValues:s,history:o}){const r=a=>{t({messageContent:"Job Started"}),o.push(`/job/${a.data.jobId}`)},i=()=>{t({messageContent:"Error Starting Job",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Start Job",helpTo:"/ref/job.html"}),e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Wf,{form:Au,onSubmit:$f,onSubmitSuccess:r,onSubmitFail:i,initialValues:s})}),e.jsx(U,{}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",onClick:()=>n(Au),children:"Start"})})]})]})}const j3=I(H,M)(x3),f3=["all",...Pe].map(t=>({value:t,label:t})),g3=["all",...x4].map(t=>({value:t,label:t})),b3=["jobId","type","state","user","startTime","priority"].reduce((t,n)=>[...t,{value:`${n} asc`,label:`${n} asc`},{value:`${n} desc`,label:`${n} desc`}],[]),C3=()=>e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"jobmetadata",label:"Job Metadata",component:ne}),e.jsx(R,{control:e.jsx(c,{name:"metadata",component:E}),label:"Include Metadata"}),e.jsx(R,{control:e.jsx(c,{name:"idonly",component:E}),label:"Only IDs"}),e.jsx(R,{control:e.jsx(c,{name:"step",component:E}),label:"Include Steps"}),e.jsx(c,{name:"starttime-from",component:m,fullWidth:!0}),e.jsx(c,{name:"starttime-to",component:m,fullWidth:!0}),e.jsx(c,{name:"finishtime-from",component:m,fullWidth:!0}),e.jsx(c,{name:"finishtime-to",component:m,fullWidth:!0}),e.jsx(c,{name:"priority",label:"Priority",component:z,isClearable:!0,fullWidth:!0,isMulti:!0,options:f3,creatable:!0}),e.jsx(c,{name:"state",label:"State",component:z,isClearable:!0,fullWidth:!0,isMulti:!0,options:g3,creatable:!0}),e.jsx(c,{name:"type",label:"Type",component:z,loadOptions:So,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0,isMulti:!0}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"sort",label:"Sort",component:z,isClearable:!0,fullWidth:!0,isMulti:!0,options:b3,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"user",component:E}),label:"Only My User"}),e.jsx(c,{name:"field",label:"Field",component:pe,simple:!0,fullWidth:!0})]});function y3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:C3}),e.jsx("button",{type:"submit",hidden:!0})]})}const S3=F()(y3);function R3({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="JOB_FILTER_FORM",changeForm:a}){const l=(x,j,g)=>{n&&n(x,j,g)},d=()=>{s({messageContent:"Error Listing Jobs",messageColor:"secondary"})},u=async()=>{await a(i,"queryParams.first",0),o(i)},p={queryParams:{first:0,number:10,sort:["jobId desc"],user:!1}};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Job List Options"})}),e.jsx(Ie,{children:e.jsx(S3,{form:i,onSubmit:WH,onSubmitSuccess:l,onSubmitFail:d,onCancel:t,destroyOnUnmount:!1,initialValues:p})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:u,children:"Filter"})]})]})}const T3=I(v,M)(R3),An="JOB_FILTER_FORM",Fu="JOB_CREATE_DIALOG";class E3 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onChangeAutoRefresh=this.onChangeAutoRefresh.bind(this),this.state={jobListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderBy:void 0,orderDirection:void 0,autoRefresh:!1}}componentDidMount(){document.title="VidiCore Admin | Job",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(An)}onChangeAutoRefresh(){const{autoRefresh:n}=this.state,s=!n;this.setState({autoRefresh:s}),s===!0&&this.timer===void 0?this.timer=setInterval(()=>this.onRefresh(),2500):s===!1&&this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}onSuccess(n){const s=n.data,{formValues:o={}}=this.props,{queryParams:r={}}=o,{first:i=0,number:a=10}=r,{hits:l=0}=s,d=Math.ceil(l/a)-Math.ceil((l-i)/a);this.setState({count:l,rowsPerPage:a,page:d,jobListDocument:s})}async onChangePage({page:n}){const{formValues:s={},changeForm:o}=this.props,{queryParams:r={}}=s,{number:i=10}=r,a=n*i;o(An,"queryParams.first",a),await o(An,"queryParams.number",i),this.onRefresh()}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(An,"queryParams.first",0),await s(An,"queryParams.number",n),this.onRefresh()}onChangeOrder(n){return async()=>{const{changeForm:s}=this.props,{orderDirection:o,orderBy:r}=this.state;let i="",a,l;n!==r?(l=n,a="desc",i=[`${n} ${a}`]):o==="desc"&&(l=n,a="asc",i=[`${n} ${a}`]),this.setState({orderBy:l,orderDirection:a}),await s(An,"queryParams.sort",i),this.onRefresh()}}render(){const{jobListDocument:n,count:s,page:o,rowsPerPage:r,orderBy:i,orderDirection:a,autoRefresh:l}=this.state,{history:d}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Job",helpTo:"/ref/job.html",onRefresh:this.onRefresh,code:n,codeModal:"JobListDocument",createModal:Fu,autoRefresh:l,onChangeAutoRefresh:this.onChangeAutoRefresh}),e.jsx(T3,{form:An,onSuccess:this.onSuccess}),e.jsx(Hf,{jobListDocument:n,count:s,page:o,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:i,orderDirection:a}),e.jsx(kf,{dialogName:Fu,onSuccess:u=>d.push(`/job/${u.data.jobId}`)})]})}}const I3=I(M,Gt)(E3,An);function v3({jobProblemType:t}){const[n]=t.job,s=n?`/job/${t.job}/`:void 0;return e.jsxs(Be,{to:s,hover:!0,children:[e.jsx(P,{children:t.job}),e.jsx(P,{children:t.type}),e.jsx(P,{children:t.id}),e.jsx(P,{children:t.data?JSON.stringify(t.data):null})]})}function A3({jobProblemListDocument:t}){const{problem:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Job"}),e.jsx(P,{children:"Type"}),e.jsx(P,{children:"ID"}),e.jsx(P,{children:"Data"})]})}),e.jsx(de,{children:n.map(s=>e.jsx(v3,{jobProblemType:s},s.id))})]})}function F3({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(A3,{...t})})})}class M3 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={jobProblemListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Problems"}onRefresh(){const{openSnackBar:n}=this.props;try{sn.listJob({path:"/API/job/problem"}).then(s=>this.setState({jobProblemListDocument:s.data}))}catch{n({messageContent:"Error Loading Job Problems",messageColor:"secondary"})}}render(){const{jobProblemListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Job Problems",helpTo:"/ref/job.html",onRefresh:this.onRefresh,code:n,codeModal:"JobProblemListDocument"}),n&&e.jsx(F3,{jobProblemListDocument:n})]})}}const D3=H(M3);function P3(t){const{taskDefinitionDocument:n}=t,s={task:[n]};return nn.createTaskDefinition({taskDefinitionListDocument:s}).then(o=>({uriListDocument:o.data})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function O3(t,n,s){const{taskDefinitionDocument:o}=t,r=s.taskDefinitionId||o.id;return nn.modifyTaskDefinition({taskDefinitionId:r,taskDefinitionDocument:o}).then(i=>({taskDefinitionDocument:i.data,taskDefinitionId:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function L3(t){const{jobType:n,queryParams:s}=t;return nn.createJobType({jobType:n,queryParams:s}).then(()=>({jobType:n})).catch(o=>{let r=o.message;throw o.response&&(o.response.status===404?r='{"invalidInput":{"context":"job-type","explanation":"id must be between 20000 and 30000"}}':r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}const N3=()=>e.jsx(c,{name:"id",component:m,fullWidth:!0});function _3({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"jobType",component:m,fullWidth:!0}),e.jsx(S,{name:"queryParams",component:N3}),e.jsx("button",{type:"submit",hidden:!0})]})}const $3=F()(_3),Mu="EDIT_JOBTYPE_FORM";function W3({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r}){const i=l=>{const{jobType:d}=l,u=`Job Type ${d} Created`;n({messageContent:u}),s(),o&&o(l)},a=()=>{n({messageContent:"Error Creating Job Type",messageColor:"secondary"})};return e.jsxs(_,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Create Job Type"}),e.jsxs(X,{children:[e.jsx(Fn,{children:"The recommended format of the type is VENDORPREFIX_JOBTYPE."}),e.jsx($3,{form:Mu,onSubmit:L3,onSubmitSuccess:i,onSubmitFail:a})]}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Mu),children:"Save"})]})]})}const k3=I(v,M)(W3),w3=(t,n)=>t.localeCompare(n,void 0,{sensitivity:"base"});function U3({uriListDocument:t}){const n=s=>`/task-definition/jobtype/${s}/`;return e.jsx($,{children:e.jsx(V,{children:e.jsx(Ds,{uriListDocument:t,linkTo:n,sort:w3})})})}function V3(t){return e.jsx(Y,{title:"Job Type",helpTo:"/ref/job.html#job-types",...t})}const Du="JOBTYPE_CREATE_MODAL";class G3 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:null}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Type"}onRefresh(){const{openSnackBar:n}=this.props;try{nn.listJobType().then(s=>this.setState({uriListDocument:s.data}))}catch{n({messageContent:"Error Loading Job Type List",messageColor:"secondary"})}}render(){const{history:n}=this.props,{uriListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(V3,{createModal:Du,onRefresh:this.onRefresh,code:s,codeModal:"URIListDocument"}),s&&e.jsx(U3,{uriListDocument:s}),e.jsx(k3,{dialogName:Du,onSuccess:({jobType:o})=>n.push(`/task-definition/jobtype/${o}/`)})]})}}const q3=H(G3);function H3(t){const{queryParams:n,itemListDocument:s}=t;return jn.createLibrary({itemListDocument:s,queryParams:n}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function B3(t){const{queryParams:n}=t;return jn.listLibrary({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function z3(t,n,s){const{queryParams:o}=t,r=s.libraryId||t.libraryId;return jn.getLibrary({libraryId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function J3(t,n,s){const{itemListDocument:o}=t,r=s.libraryId||t.libraryId;return jn.updateLibrary({libraryId:r,itemListDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function K3(t,n,s){const{librarySettingsDocument:o}=t,r=s.libraryId||t.libraryId;return jn.updateLibrarySettings({libraryId:r,librarySettingsDocument:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function Y3(t,n,s){const{metadataDocument:o,queryParams:r}=t,i=s.libraryId||t.libraryId;return jn.updateLibraryItemMetadata({libraryId:i,metadataDocument:o,queryParams:r}).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function Q3(t,n,s){const{queryParams:o}=t,r=s.libraryId||t.libraryId;return jn.removeLibrary({libraryId:r,queryParams:o}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function X3(t,n,s){const{queryParams:o}=t,r=s.libraryId||t.libraryId;return jn.getLibrary({libraryId:r,queryParams:o,path:`/API/library/${r}/export`,method:"POST"}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}const Z3=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0}),e.jsx(c,{name:"locationName",label:"Export Location",component:z,loadOptions:vs,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(c,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"all",component:E}),label:"Allow Missing"}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"version",component:m,fullWidth:!0}),e.jsx(c,{name:"template",label:"Export Template",component:m,fullWidth:!0})]});function e5({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"libraryId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:Z3}),e.jsx("button",{type:"submit",hidden:!0})]})}const t5=F()(e5),n5="LIBRARY_EXPORT_FORM";function s5({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,libraryId:a,form:l=n5}){const d=(p,x,j)=>{r({messageContent:"Export Started"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Export Library"}),e.jsx(X,{children:e.jsx(t5,{form:l,onSubmit:X3,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,libraryId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(l),children:"Start"})]})]})}const o5=I(v,M)(s5),r5=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function i5({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(S,{name:"metadataDocument",label:"MetadataDocument",component:Is}),e.jsx(S,{name:"queryParams",label:"queryParams",component:r5})]})}const a5=F()(i5),Pu="LIBRARY_ITEM_METADATA_FORM";function l5({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,libraryId:a}){const l=(u,p,x)=>{r({messageContent:"Item Metadata Updated"}),o&&o(u,p,x),s()},d=(u,p,x)=>{r({messageContent:"Error Updating Item Metadata",messageColor:"secondary"}),i&&i(u,p,x)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Update Item Metadata"}),e.jsx(X,{children:e.jsx(a5,{onSubmit:Y3,onSubmitSuccess:l,onSubmitFail:d,libraryId:a,form:Pu,initialValues:{metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Pu),children:"Update"})]})]})}const c5=I(v,M)(l5),d5=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"async",component:E}),label:"Async"}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function u5({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"libraryId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:d5}),e.jsx("button",{type:"submit",hidden:!0})]})}const m5=F()(u5),Ou="LIBRARY_REMOVE_FORM";function h5({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,libraryId:a}){const l=(u,p,x)=>{r({messageContent:"Library Deleted"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Deleting Library",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete Library ${a}`}),e.jsx(Ne,{children:e.jsx(m5,{form:Ou,onSubmit:Q3,onSubmitSuccess:l,onSubmitFail:d,libraryId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(Ou),children:"Delete"})]})]})}const p5=I(v,M)(h5);function x5({libraryId:t,onOpen:n,removeModal:s,updateModal:o,itemMetadataModal:r,exportModal:i,title:a,createModal:l,createTooltip:d="New",...u}){return e.jsx(Y,{grandParentTitle:"Library",grandParentTo:"/library/",parentTitle:t,title:a,helpTo:"/ref/library.html",entityId:t,entityType:"library",removeModal:s,exportModal:i,iconList:l?e.jsx(ve,{title:d,children:e.jsx(ee,{onClick:()=>n({modalName:l}),children:e.jsx(Vt,{})})}):null,actionComponent:e.jsxs(mt,{children:[e.jsx(b,{onClick:()=>n({modalName:o}),children:e.jsx(C,{children:"Add Item"})}),e.jsx(b,{onClick:()=>n({modalName:r}),children:e.jsx(C,{children:"Update Item Metadata"})}),e.jsx(b,{onClick:()=>n({modalName:i}),children:e.jsx(C,{children:"Export"})}),e.jsx(b,{onClick:()=>n({modalName:s}),children:e.jsx(C,{color:"secondary",children:"Delete"})})]}),...u})}const j5=tt(x5);function f5(){return e.jsx(c,{name:"id",label:"Item ID",component:m,fullWidth:!0})}function dg(){return e.jsx(k,{name:"item",label:"item",component:f5,withHeader:!1,arrayHeader:!0})}const g5=()=>e.jsx(c,{name:"externalId",component:m,fullWidth:!0});function b5({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:g5}),e.jsx(S,{name:"itemListDocument",label:"itemListDocument ",component:dg}),e.jsx("button",{type:"submit",hidden:!0})]})}const C5=F()(b5);function y5({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(S,{name:"itemListDocument",label:"itemListDocument",component:dg}),e.jsx("button",{type:"submit",hidden:!0})]})}const S5=F()(y5),Lu="LIBRARY_ITEM_ADD_FORM";function R5({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i,libraryId:a}){const l=(u,p,x)=>{r({messageContent:"Library Updated"}),o&&o(u,p,x),s()},d=(u,p,x)=>{r({messageContent:"Error Updating Library",messageColor:"secondary"}),i&&i(u,p,x)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Items To Library"}),e.jsx(X,{children:e.jsx(S5,{onSubmit:J3,onSubmitSuccess:l,onSubmitFail:d,libraryId:a,form:Lu})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Lu),children:"Update"})]})]})}const T5=I(v,M)(R5);function E5({itemListDocument:t}){if(t===void 0)return null;const{item:n=[]}=t;return n.map(s=>e.jsxs(T.Fragment,{children:[e.jsx(DH,{itemId:s.id}),e.jsx(Vf,{itemDocument:s})]},s.id))}const I5=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"})]});function v5({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:I5}),e.jsx(S,{name:"queryParams",component:Io})]})}const A5=F()(v5),dn="LIBRARY_CONTENT_PARAMS_FORM";function F5({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,libraryId:a,expanded:l,onChangeExpansion:d,...u}){const p=(j,g,y)=>{d&&d(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Updating Library Display",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:l,onChange:d,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Library Content Display Options"})}),e.jsx(Ie,{children:e.jsx(A5,{form:dn,onSubmit:z3,onSubmitSuccess:p,onSubmitFail:x,libraryId:a,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(dn),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(dn),children:"Update"})]})]})}const M5=I(H,M)(F5);let D5=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeExpansion=this.onChangeExpansion.bind(this),this.state={itemListDocument:void 0,rowsPerPage:100,expanded:!1}}componentDidMount(){this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(dn)}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(dn,"queryParams.first",1),await s(dn,"queryParams.number",n),this.setState({rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{rowsPerPage:s}=this.state,{formValues:o={},changeForm:r}=this.props,{queryParams:i={}}=o,{number:a=s}=i,l=n*a+1;r(dn,"queryParams.first",l),await r(dn,"queryParams.number",a),this.setState({rowsPerPage:a}),this.onRefresh()}onChangeExpansion(n,s){this.setState({expanded:s})}render(){const{libraryId:n,titleComponent:s,tabComponent:o}=this.props,{itemListDocument:r,expanded:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"ItemListDocument",onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(M5,{libraryId:n,onSuccess:a=>this.setState({itemListDocument:a.data}),expanded:i,onChangeExpansion:this.onChangeExpansion,initialValues:{queryParams:{number:10,first:1}}}),r&&e.jsx(E5,{itemListDocument:r})]})}};const P5=I(M,Gt)(D5,dn);function ug({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"value",value:t.value,hideNoValue:!0}),e.jsx(h,{title:"No Escape",value:t.noescape,variant:"boolean",hideNoValue:!0})]})}function aa({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"value",value:t.value,hideNoValue:!0}),e.jsx(h,{title:"minimum",value:t.minimum,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"maximum",value:t.maximum,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"No Escape",value:t.noescape,variant:"boolean",hideNoValue:!0})]})}function O5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{value:t.value[0],title:"start",component:aa}),e.jsx(w,{value:t.value[1],title:"end",component:aa}),e.jsx(h,{title:"Exclusive Minimum",value:t.exclusiveMinimum,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"Exclusive Maximum",value:t.exclusiveMaximum,variant:"boolean",hideNoValue:!0})]})}function vo({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field Name",value:t.name,hideNoValue:!0}),e.jsx(Z,{value:t.value,arrayTitle:"Field Value",component:aa}),e.jsx(Z,{value:t.range,arrayTitle:"Field Range",component:O5}),e.jsx(h,{title:"Field Target",value:t.target,hideNoValue:!0})]})}function Ao({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Group Name",value:t.name,hideNoValue:!0}),e.jsx(Z,{value:t.field,arrayTitle:"Field",component:vo}),e.jsx(Z,{value:t.group,arrayTitle:"Group",component:Ao}),e.jsx(h,{title:"reference",value:t.reference,hideNoValue:!0})]})}function _r({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Operation",value:t.operation,hideNoValue:!0}),e.jsx(Z,{value:t.operator,arrayTitle:"Operator",component:_r}),e.jsx(Z,{value:t.text,arrayTitle:"Text",component:ug}),e.jsx(Z,{value:t.field,arrayTitle:"Field",component:vo}),e.jsx(Z,{value:t.group,arrayTitle:"Group",component:Ao}),e.jsx(Yt,{title:"reference",value:t.reference,hideNoValue:!0})]})}function L5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Filter Name",value:t.name,hideNoValue:!0}),e.jsx(h,{title:"Operation",value:t.operation,hideNoValue:!0}),e.jsx(Z,{value:t.operator,arrayTitle:"Operator",component:_r}),e.jsx(Z,{value:t.field,arrayTitle:"Field",component:vo}),e.jsx(Z,{value:t.group,arrayTitle:"Group",component:Ao}),e.jsx(Yt,{title:"reference",value:t.reference,hideNoValue:!0})]})}function uo({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{value:t.field,arrayTitle:"Field",component:vo}),e.jsx(Z,{value:t.group,arrayTitle:"Group",component:Ao}),e.jsx(w,{value:t.operator,component:_r})]})}function mg({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(uo,{value:t}),e.jsx(w,{value:t.file,component:uo,title:"File"})]})}function N5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(uo,{value:t}),e.jsx(w,{value:t.shape,component:mg,title:"Shape"}),e.jsx(w,{value:t.file,component:uo,title:"File"})]})}function hg({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"start",value:t.start,hideNoValue:!0}),e.jsx(h,{title:"End",value:t.end,hideNoValue:!0})]})}function _5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field Name",value:t.name,hideNoValue:!0}),e.jsx(h,{title:"Field Value",value:t.value,hideNoValue:!0}),e.jsx(w,{value:t.range,arrayTitle:"Field Range",component:hg})]})}function $5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Field",value:t.field,hideNoValue:!0}),e.jsx(Z,{value:t.range,arrayTitle:"Range",component:hg}),e.jsx(Yt,{title:"exclude",value:t.exclude,hideNoValue:!0}),e.jsx(h,{title:"count",value:t.count,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"minCount",value:t.minCount,hideNoValue:!0}),e.jsx(h,{title:"maxResults",value:t.maxResults,hideNoValue:!0}),e.jsx(h,{title:"name",value:t.name,hideNoValue:!0})]})}function W5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"field",value:t.field,hideNoValue:!0}),e.jsx(h,{title:"order",value:t.order,hideNoValue:!0})]})}function k5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"field",value:t.field,hideNoValue:!0}),e.jsx(h,{title:"matchingOnly",value:t.matchingOnly,variant:"boolean",hideNoValue:!0}),e.jsx(h,{title:"prefix",value:t.prefix,hideNoValue:!0}),e.jsx(h,{title:"suffix",value:t.suffix,hideNoValue:!0})]})}function w5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"maximumSuggestions",value:t.maximumSuggestions,hideNoValue:!0}),e.jsx(h,{title:"accuracy",value:t.accuracy,hideNoValue:!0})]})}function U5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"text",value:t.text,hideNoValue:!0}),e.jsx(h,{title:"field",value:t.field,hideNoValue:!0}),e.jsx(h,{title:"accuracy",value:t.accuracy,hideNoValue:!0})]})}function V5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(w,{value:t.operator,component:_r}),e.jsx(Z,{value:t.text,arrayTitle:"Text",component:ug}),e.jsx(Z,{value:t.field,arrayTitle:"Field",component:vo}),e.jsx(Z,{value:t.group,arrayTitle:"Group",component:Ao}),e.jsx(h,{title:"Intervals",value:t.intervals,hideNoValue:!0}),e.jsx(Yt,{title:"reference",value:t.reference,hideNoValue:!0}),e.jsx(Z,{value:t.filter,arrayTitle:"Filter",component:L5,hideNoValue:!0}),e.jsx(Z,{value:t.facetFilter,arrayTitle:"Facet Filter",component:_5,hideNoValue:!0}),e.jsx(Z,{value:t.facet,arrayTitle:"Facet",component:$5,hideNoValue:!0}),e.jsx(Z,{value:t.sort,arrayTitle:"Sort",component:W5,hideNoValue:!0}),e.jsx(w,{value:t.highlight,component:k5,title:"Highlight",hideNoValue:!0}),e.jsx(w,{value:t.suggestion,component:w5,title:"Suggestion",hideNoValue:!0}),e.jsx(Z,{value:t.autocomplete,arrayTitle:"autocomplete",component:U5,hideNoValue:!0}),e.jsx(w,{value:t.item,component:N5,title:"Item",hideNoValue:!0}),e.jsx(w,{value:t.shape,component:mg,title:"Shape",hideNoValue:!0}),e.jsx(w,{value:t.file,component:uo,title:"File",hideNoValue:!0}),e.jsx(h,{title:"Version",value:t.version,hideNoValue:!0})]})}function G5({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Library ID",value:t.id,hover:!0}),e.jsx(h,{title:"username",value:t.username,hover:!0}),e.jsx(h,{title:"updateMode",value:t.updateMode,hover:!0}),e.jsx(h,{title:"autoRefresh",value:t.autoRefresh,variant:"boolean",hover:!0}),e.jsx(h,{title:"updateFrequency",value:t.updateFrequency,hover:!0}),e.jsx(h,{title:"lastUpdate",value:t.lastUpdate,hover:!0}),e.jsx(w,{value:t.query,title:"Query",component:V5})]})}function q5({librarySettingsDocument:t}){return e.jsx(w,{value:t,component:G5})}function H5(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"username",component:m,disabled:!0,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"updateMode",children:"Update Mode"}),e.jsxs(c,{name:"updateMode",component:K,children:[e.jsx(b,{value:"REPLACE",children:"REPLACE"}),e.jsx(b,{value:"MERGE",children:"MERGE"}),e.jsx(b,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"autoRefresh",component:E}),label:"Auto Refresh"}),e.jsx(c,{name:"updateFrequency",component:m,fullWidth:!0}),e.jsx(c,{name:"lastUpdate",component:m,disabled:!0,fullWidth:!0}),e.jsx(S,{name:"query",label:"Query",component:yo})]})}function B5({error:t,handleSubmit:n,libraryId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"libraryId",component:m,fullWidth:!0}),e.jsx(S,{name:"librarySettingsDocument",component:H5}),e.jsx("button",{type:"submit",hidden:!0})]})}const z5=F()(B5);function J5({librarySettingsDocument:t,openSnackBar:n,onSubmit:s,onSuccess:o,onFail:r,...i}){const a="LIBRARY_SETTINGS_FORM",l=(u,p,x)=>{n({messageContent:"Library Settings Updated"}),o&&o(u,p,x)},d=(u,p,x)=>{n({messageContent:"Error Updating Library Settings",messageColor:"secondary"}),r&&r(u,p,x)};return e.jsx(Ge,{title:"Library Settings",formName:a,onSubmitSuccess:l,onSubmitFail:d,onSubmit:K3,displayProps:{librarySettingsDocument:t},formComponent:z5,displayComponent:q5,initialValues:{librarySettingsDocument:t},formProps:i})}const K5=H(J5);function Y5({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(K5,{...t})})})}class Q5 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={librarySettingsDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({libraryId:n}){const{libraryId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Library | ${n}`)}onRefresh(){const{libraryId:n}=this.props;this.onFetch(n)}onFetch(n){try{jn.getLibrarySettings({libraryId:n}).then(s=>this.setState({librarySettingsDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Library",messageColor:"secondary"})}render(){const{libraryId:n,titleComponent:s,tabComponent:o}=this.props,{librarySettingsDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"LibrarySettingsDocument",onRefresh:this.onRefresh}),o&&e.jsx(o,{}),r&&e.jsx(Y5,{libraryId:n,librarySettingsDocument:r,onSuccess:this.onRefresh})]})}}const X5=H(Q5),pg="LIBRARY_SETTINGS_TAB",Z5="LIBRARY_CONTENT_TAB",e6="ACCESS_TAB",t6="ACCESSMERGED_TAB",n6="STORAGERULE_TAB",s6="DELETIONLOCK_TAB",Nu="LIBRARY_REMOVE_DIALOG",_u="LIBRARY_UPDATE_DIALOG",$u="LIBRARY_ITEM_METADATA_DIALOG",Wu="LIBRARY_ACCESSCONTROL_ADD_DIALOG",ku="LIBRARY_EXPORT_DIALOG",o6="EXTERNALID_TAB",xg=[{tab:pg,listText:"Settings",component:X5,path:"/library/:libraryId/settings/"},{tab:Z5,listText:"Content",component:P5,path:"/library/:libraryId/",exact:!0},{tab:e6,listText:"Direct Access",component:_a,path:"/library/:libraryId/direct-access/"},{tab:t6,listText:"Merged Access",component:Wa,path:"/library/:libraryId/merged-access/"},{tab:n6,listText:"Storage Rules",component:Ha,path:"/library/:libraryId/storage-rules/"},{tab:s6,listText:"Deletion Locks",component:go,path:"/library/:libraryId/deletion-locks/"},{tab:o6,listText:"External ID",component:Dn,path:"/library/:libraryId/external-id/",entity:"library"}],r6=t=>e.jsx(gt,{children:xg.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),i6=t=>e.jsx(bt,{children:xg.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class a6 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{libraryId:n}=this.props;document.title=`VidiCore Admin | Library | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{onChangeTab:n,tabValue:s,libraryId:o,history:r}=this.props,i=a=>e.jsx(j5,{libraryId:o,removeModal:Nu,updateModal:_u,itemMetadataModal:$u,addAccessControl:Wu,exportModal:ku,...a});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{mainComponent:i6,listComponent:r6,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:i,libraryId:o,entityId:o,entityType:"library",setOnRefresh:this.setOnRefresh}),e.jsx(T5,{dialogName:_u,libraryId:o}),e.jsx(p5,{dialogName:Nu,onSuccess:()=>r.push("/library/"),libraryId:o}),e.jsx(c5,{dialogName:$u,libraryId:o}),e.jsx(Na,{dialogName:Wu,entityType:"library",entityId:o,onSuccess:this.onRefresh}),e.jsx(o5,{dialogName:ku,onSuccess:a=>r.push(`/job/${a.data.jobId}/`),libraryId:o})]})}}const l6=I(ln(pg),We)(a6),wu="LIBRARY_CREATE_FORM";function c6({submitForm:t,open:n,onClose:s,onSuccess:o,openSnackBar:r,onFail:i}){const a=(d,u,p)=>{r({messageContent:"Library Created"}),o&&o(d,u,p),s()},l=(d,u,p)=>{r({messageContent:"Error Creating Library",messageColor:"secondary"}),i&&i(d,u,p)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Library"}),e.jsx(X,{children:e.jsx(C5,{onSubmit:H3,onSubmitSuccess:a,onSubmitFail:l,form:wu})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(wu),children:"Create"})]})]})}const d6=I(v,M)(c6),u6=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"first",component:m,fullWidth:!0}),e.jsx(c,{name:"number",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"autoRefresh",component:E}),label:"Auto Refresh"}),e.jsx(c,{name:"frequencyFrom",component:m,fullWidth:!0}),e.jsx(c,{name:"frequencyTo",component:m,fullWidth:!0}),e.jsx(c,{name:"updateMode",component:m,fullWidth:!0})]});function m6({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:u6})]})}const h6=F()(m6),un="LIBRARY_LIST_PARAMS_FORM";function p6({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,...a}){const l=(u,p,x)=>{n&&n(u,p,x)},d=(u,p,x)=>{o({messageContent:"Error Updating Library List",messageColor:"secondary"}),s&&s(u,p,x)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Library List Options"})}),e.jsx(Ie,{children:e.jsx(h6,{form:un,onSubmit:B3,onSubmitSuccess:l,onSubmitFail:d,...a})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(un),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(un),children:"Update"})]})]})}const x6=I(H,M)(p6),Uu="LIBRARY_CREATE_DIALOG";class j6 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.state={uriListDocument:void 0,page:0,rowsPerPage:100}}componentDidMount(){document.title="VidiCore Admin | Library",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(un)}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props;s(un,"queryParams.first",1),await s(un,"queryParams.number",n),this.setState({page:0,rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{rowsPerPage:s}=this.state,{formValues:o={},changeForm:r}=this.props,{queryParams:i={}}=o,{number:a=s}=i,l=n*a+1;r(un,"queryParams.first",l),await r(un,"queryParams.number",a),this.setState({page:n,rowsPerPage:a}),this.onRefresh()}render(){const{uriListDocument:n,page:s,rowsPerPage:o}=this.state,{history:r}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Library",helpTo:"/ref/library.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument",createModal:Uu}),e.jsx(x6,{onSuccess:i=>this.setState({uriListDocument:i.data}),initialValues:{queryParams:{number:100,first:1}}}),n&&e.jsx(Ut,{uriListDocument:n,linkTo:i=>`/library/${i}/`,page:s,rowsPerPage:o,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage}),e.jsx(d6,{dialogName:Uu,onSuccess:i=>r.push(`/library/${i.data.uri[0]}/`)})]})}}const f6=I(M,Gt)(j6,un);function g6({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Source ID",value:t.id,variant:t.type}),e.jsx(h,{title:"Source Type",value:t.type}),e.jsx(h,{title:"Source Location",value:t.loc})]})}function b6({metadataEntryDocument:t}){if(t===void 0)return null;const{group:n,field:s,value:o,source:r}=t;return e.jsxs(e.Fragment,{children:[e.jsx(w,{value:n,component:Oa,title:"group",hideNoValue:!0}),e.jsx(w,{value:s,component:Pa,title:"field",hideNoValue:!0}),e.jsx(h,{title:"value",value:o,hideNoValue:!0}),e.jsx(w,{value:r,component:g6,title:"source",hideNoValue:!0})]})}const C6=Et(b6);class y6 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataEntryDocument:void 0}}componentDidMount(){const{metadataUuid:n}=this.props;document.title=`VidiCore Admin | Metadata | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({metadataUuid:n}){const{metadataUuid:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Metadata | ${n}`)}onRefresh(){const{metadataUuid:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Metadata",messageColor:"secondary"})}onFetch(n){try{Dt.getMetadata({metadataUuid:n}).then(s=>this.setState({metadataEntryDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}render(){const{metadataUuid:n}=this.props,{metadataEntryDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{code:s,codeModal:"MetadataDocument",title:n,parentTitle:"Metadata",parentTo:"/search/field-group/",onRefresh:this.onRefresh}),e.jsx(C6,{metadataEntryDocument:s})]})}}const S6=H(y6),jg=he((t,n,s)=>{const{body:o,headers:r}=t,i=s.datasetId||t.datasetId;return fr.updateMetadataDataset({datasetId:i,body:o,headers:{accept:r.contentType,contentType:r.contentType}})});function R6({value:t}){return e.jsx(h,{title:"body",value:t,variant:"application/ld+json"})}const T6=()=>e.jsx(c,{name:"id-seed",label:"id-seed",component:m,fullWidth:!0}),E6=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"contentType",children:"Model"}),e.jsxs(c,{name:"contentType",component:K,children:[e.jsx(b,{value:"application/rdf+xml",children:"RDF"}),e.jsx(b,{value:"text/turtle",children:"TURTLE"}),e.jsx(b,{value:"application/ld+json",children:"LD+JSON"})]})]});function I6({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"datasetId",label:"name",component:at,fullWidth:!0}),e.jsx(S,{name:"headers",component:E6}),e.jsx(S,{name:"queryParams",component:T6}),e.jsx(c,{name:"body",label:"body",component:dt,options:{theme:"material",mode:"application/ld+json",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const fg=F()(I6),v6="EDIT_METADATADATASET_FORM";function A6({body:t,datasetId:n,openSnackBar:s,onRefresh:o}){const r=()=>{s({messageContent:"Metadata Dataset Saved"}),o&&o()},i=()=>{s({messageContent:"Error Updating Metadata Dataset",messageColor:"secondary"})},a={datasetId:n},l={value:t},d={datasetId:n,body:t,headers:{contentType:"application/ld+json"}};return e.jsx(Ge,{formComponent:fg,displayComponent:R6,formName:v6,onSubmitSuccess:r,onSubmitFail:i,onSubmit:jg,formProps:a,displayProps:l,initialValues:d})}const F6=v(A6);function M6(t){return e.jsx($,{children:e.jsx(F6,{...t})})}function D6({open:t,onClose:n,history:s,openSnackBar:o,datasetId:r,onSuccess:i}){const a=()=>{fr.removeMetadataDataset({datasetId:r}).then(()=>{const l=`Metadata Dataset ${r} Removed`;o({messageContent:l}),s.push("/metadata-dataset/"),n(),i&&i()}).catch(()=>{o({messageContent:"Error Removing Metadata Dataset",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Metadata Dataset "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const gg=v(D6);function P6(t){return e.jsx(Y,{parentTitle:"Metadata Dataset",parentTo:"/metadata-dataset/",title:t==null?void 0:t.datasetId,helpTo:"/ref/metadata/dataset-ref.html",entityId:t==null?void 0:t.datasetId,entityType:"metadata-dataset",...t})}const Vu="METADATADATASET_REMOVE_MODAL";class O6 extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.state={body:void 0}}componentDidMount(){const{datasetId:n}=this.props;document.title=`VidiCore Admin | Metadata Dataset | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({datasetId:n}){const{datasetId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Metadata Dataset | ${n}`)}onRefresh(){const{datasetId:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{fr.getMetadataDataset({datasetId:n,headers:{accept:"application/ld+json"}}).then(o=>this.setState({body:o.request.responseText}))}catch{s({messageContent:"Error Getting Metadata Dataset",messageColor:"secondary"})}}render(){const{datasetId:n}=this.props,{body:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(P6,{removeModal:Vu,onRefresh:this.onRefresh,datasetId:n,code:s?JSON.parse(s):void 0,codeModal:"body"}),s&&e.jsx(M6,{body:s,datasetId:n,onRefresh:this.onRefresh}),e.jsx(gg,{dialogName:Vu,datasetId:n})]})}}const L6=H(O6),Gu="EDIT_METADATADATASET_FORM";function N6({submitForm:t,open:n,onClose:s,openSnackBar:o,history:r}){const i=l=>{const{datasetId:d}=l,u=`Metadata Dataset ${d} Created`;o({messageContent:u}),r.push(`/metadata-dataset/${d}/`),s()},a=()=>{o({messageContent:"Error Creating Metadata Dataset",messageColor:"secondary"})};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Metadata Dataset"}),e.jsx(X,{children:e.jsx(fg,{form:Gu,onSubmit:jg,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Gu),children:"Save"})]})]})}const _6=I(v,M)(N6);function $6({datasetId:t,onOpen:n}){return e.jsxs(Te,{to:`/metadata-dataset/${t}/`,hover:!0,children:[e.jsx(P,{children:e.jsx(be,{to:`/metadata-dataset/${t}/`,children:t})}),e.jsx(P,{disableOnClick:!0,children:e.jsx(ee,{onClick:()=>n({datasetId:t}),children:e.jsx(et,{})})})]})}const qu="REMOVE_METADATAFIELD_DIALOG";function W6({metadataDatasetListDocument:t=[],onRefresh:n,dialogProps:s,onOpen:o}){const{dataset:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Dataset Name"}),e.jsx(P,{})]})}),e.jsx(de,{children:r.map(({name:i})=>e.jsx($6,{datasetId:i,onOpen:o(qu)},i))})]}),e.jsx(gg,{...s,dialogName:qu,onSuccess:n})]})}const k6=Ze(W6);function w6({metadataDatasetListDocument:t,...n}){const s=(t==null?void 0:t.dataset)||[],[o,r]=T.useState(s),i={...t,dataset:o};return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(Ro,{variant:"outlined",fullWidth:!0,options:s,onChange:r,optionsKey:"name",minScore:.5}),e.jsx(k6,{metadataDatasetListDocument:i,...n})]})})}function U6(t){return e.jsx(Y,{title:"Metadata Dataset",helpTo:"/ref/metadata/dataset-ref.html",...t})}const Hu="METADATADATASETLIST_CREATE_MODAL";class V6 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={metadataDatasetListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Metadata Dataset"}onRefresh(){const{openSnackBar:n}=this.props;try{fr.listMetadataDataset().then(s=>this.setState({metadataDatasetListDocument:s.data}))}catch{n({messageContent:"Error Loading Metadata Dataset List",messageColor:"secondary"})}}render(){const{metadataDatasetListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(U6,{createModal:Hu,onRefresh:this.onRefresh,code:n,codeModal:"MetadataDatasetListDocument"}),n&&e.jsx(w6,{metadataDatasetListDocument:n,onRefresh:this.onRefresh}),e.jsx(_6,{dialogName:Hu})]})}}const G6=H(V6);function q6(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"user",label:"User",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,fullWidth:!0}),e.jsx(c,{name:"group",label:"Group",component:z,loadOptions:Hn,cacheOptions:!0,isClearable:!0,creatable:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"permission",children:"Permission"}),e.jsxs(c,{name:"permission",component:K,children:[e.jsx(b,{value:"NONE",children:"None"}),e.jsx(b,{value:"READ",children:"Read"}),e.jsx(b,{value:"WRITE",children:"Write"}),e.jsx(b,{value:"DELETE",children:"Delete"})]})]})]})}function H6({fieldName:t,error:n,handleSubmit:s}){return e.jsxs("form",{onSubmit:s,children:[n&&e.jsx(C,{color:"error",children:n}),!t&&e.jsx(c,{name:"fieldName",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"metadataFieldAccessControlDocument",component:q6}),e.jsx("button",{type:"submit",hidden:!0})]})}const B6=F()(H6);function z6({fieldName:t,open:n,onClose:s,onSuccess:o,onFail:r,openSnackBar:i}){const a=(d,u,p)=>{const{data:x}=d,{id:j}=x,g=`Metadata Field Access Control ${j} Created`;i({messageContent:g}),o&&o(d,u,p),s()},l=d=>{i({messageContent:"Error Creating Metadata Field Access Control",messageColor:"secondary"}),r&&r(d)};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Metadata Field Access Control"}),e.jsx(X,{children:e.jsx(rt,{fieldName:t,FormComponent:B6,documentName:"metadataFieldAccessControlDocument",onSubmit:h1,onSubmitSuccess:a,onSubmitFail:l,onCancel:s})})]})}const J6=I(v)(z6);function K6({breadcrumbList:t=[],fieldName:n,...s}){return e.jsx(Y,{helpTo:"/ref/metadata/field.html",entityId:n,entityType:"metadata-field",breadcrumbList:[{title:"Metadata Field",to:ie.metadataFieldList()},{title:n,to:ie.metadataField({fieldName:n})},...t],...s})}const Bu="REMOVE_METADATAFIELD_ACCESS_DIALOG";function Y6({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,fieldName:i,accessId:a}){const l=async()=>{try{await ft.removeMetadataFieldAccess({fieldName:i,accessId:a});const d=`Metadata Field Access ${a} Removed`;r({messageContent:d}),n(),s&&s()}catch(d){const u="Error Removing Metadata Field Access";o&&o(d),r({messageContent:u,messageColor:"secondary"})}};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete Access ID ${a} for field ${i}`}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:l,children:"Delete"})]})]})}const Q6=I(v)(Y6);class X6 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={metadataFieldAccessControlListDocument:void 0};const{onOpen:s}=n;this.onOpenRemove=s?s(Bu):null}componentDidMount(){const{fieldName:n,setOnRefresh:s}=this.props;s&&s(this.onRefresh),document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({fieldName:n}){const{fieldName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{fieldName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ft.listMetadataFieldAccess({fieldName:n}).then(o=>this.setState({metadataFieldAccessControlListDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:n,titleComponent:s,tabComponent:o,dialogProps:r={}}=this.props,{metadataFieldAccessControlListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"MetadataFieldAccessControlListDocument",breadcrumbList:["Access"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),i&&e.jsx(Dj,{metadataFieldAccessControlListDocument:i,onOpenRemove:this.onOpenRemove}),e.jsx(Q6,{dialogName:Bu,onSuccess:this.onRefresh,fieldName:n,...r})]})}}const Z6=I(H,Ze)(X6);function e9({constraintValueListDocument:t={}}){const{value:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Value"}),e.jsx(P,{children:"ID"})]})}),e.jsx(de,{children:n.map(s=>e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:s.value}),e.jsx(P,{children:s.id})]},s.value))})]})}const t9=Ze(e9);function n9(t){return e.jsx($,{children:e.jsx(t9,{...t})})}function s9(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",label:"Metadata Field",component:z,loadOptions:it,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"value",component:m,fullWidth:!0}),e.jsx(c,{name:"id",component:m,fullWidth:!0})]})}function o9(){return e.jsx(k,{name:"constraint",component:s9,fullWidth:!0})}function r9({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"metadataFieldValueConstraintListDocument",component:o9})]})}const i9=F()(r9),Ci="METADATAFIELDALLOWEDVALUES_PARAMS_FORM";function a9({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,fieldName:a,...l}){const d=(p,x,j)=>{o({messageContent:"Allowed Values Updated"}),n&&n(p,x,j)},u=(p,x,j)=>{o({messageContent:"Error Updating Allowed Values",messageColor:"secondary"}),s&&s(p,x,j)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Constraint Values"})}),e.jsx(Ie,{children:e.jsx(i9,{form:Ci,onSubmit:d1,onSubmitSuccess:d,onSubmitFail:u,fieldName:a,...l})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(Ci),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ci),children:"Update"})]})]})}const l9=I(H,M)(a9);class c9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={constraintValueListDocument:void 0}}componentDidMount(){const{fieldName:n,setOnRefresh:s}=this.props;s&&s(this.onRefresh),document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({fieldName:n}){const{fieldName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{fieldName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ft.getMetadataFieldAllowedValues({fieldName:n}).then(o=>this.setState({constraintValueListDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:n,titleComponent:s,tabComponent:o}=this.props,{constraintValueListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"ConstraintValueListDocument",breadcrumbList:["Allowed Values"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(l9,{fieldName:n,onSuccess:i=>this.setState({constraintValueListDocument:i.data})}),r&&e.jsx(n9,{constraintValueListDocument:r,onRefresh:this.onRefresh})]})}}const d9=H(c9);class u9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={accessControlMergedDocument:void 0}}componentDidMount(){const{fieldName:n,setOnRefresh:s}=this.props;s&&s(this.onRefresh),document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({fieldName:n}){const{fieldName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{fieldName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ft.getMetadataFieldMergedAccess({fieldName:n}).then(o=>this.setState({accessControlMergedDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:n,titleComponent:s,tabComponent:o}=this.props,{accessControlMergedDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"AccessControlMergedDocument",breadcrumbList:["Merged Access"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(Oj,{fieldName:n,onSuccess:i=>this.setState({accessControlMergedDocument:i.data})}),r&&e.jsx($a,{accessControlMergedDocument:r})]})}}const m9=H(u9);class h9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={simpleMetadataDocument:void 0}}componentDidMount(){const{fieldName:n,setOnRefresh:s}=this.props;s&&s(this.onRefresh),document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({fieldName:n}){const{fieldName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{fieldName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ft.getSimpleMetadata({fieldName:n}).then(o=>this.setState({simpleMetadataDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:n,titleComponent:s,tabComponent:o}=this.props,{simpleMetadataDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"SimpleMetadataDocument",breadcrumbList:["Metadata"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),r&&e.jsx(Jn,{simpleMetadataDocument:r,onSuccess:this.onRefresh,entityType:"metadata-field",entityId:n})]})}}const p9=H(h9);function x9({metadataFieldDocument:t,fieldName:n,openSnackBar:s,onRefresh:o}){const r="EDIT_METADATAFIELD_FORM",i=()=>{s({messageContent:"Metadata Field Saved"}),o&&o()},a=()=>{s({messageContent:"Error Updating Metadata Field",messageColor:"secondary"})},l={fieldName:n},d={value:t},u={metadataFieldDocument:t};return e.jsx(Ge,{formComponent:wj,displayComponent:W1,formName:r,onSubmitSuccess:i,onSubmitFail:a,onSubmit:Pj,formProps:l,displayProps:d,initialValues:u})}const j9=v(x9);function f9(t){return e.jsx($,{children:e.jsx(j9,{...t})})}class g9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={metadataFieldDocument:void 0}}componentDidMount(){const{fieldName:n,setOnRefresh:s}=this.props;s&&s(this.onRefresh),document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({fieldName:n}){const{fieldName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{fieldName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ft.getMetadataField({fieldName:n,queryParams:{includeValues:!1}}).then(o=>this.setState({metadataFieldDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{titleComponent:n,tabComponent:s}=this.props,{metadataFieldDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:o,codeModal:"MetadataFieldDocument",onRefresh:this.onRefresh}),s&&e.jsx(s,{}),o&&e.jsx(f9,{metadataFieldDocument:o,onRefresh:this.onRefresh})]})}}const b9=H(g9);function C9(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"key-exact",component:m,fullWidth:!0}),e.jsx(c,{name:"key-start",component:m,fullWidth:!0}),e.jsx(c,{name:"key-regex",component:m,fullWidth:!0}),e.jsx(c,{name:"value-exact",component:m,fullWidth:!0}),e.jsx(c,{name:"value-start",component:m,fullWidth:!0}),e.jsx(c,{name:"value-regex",component:m,fullWidth:!0}),e.jsx(c,{name:"hits",component:m,fullWidth:!0})]})}function y9({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,style:{width:"100%"},children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:C9})]})}const S9=F()(y9),R9="METADATAFIELDVALUES_PARAMS_FORM";function T9({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,fieldName:a,form:l=R9,...d}){const u=(x,j,g)=>{o({messageContent:"Values Updated"}),n&&n(x,j,g)},p=(x,j,g)=>{o({messageContent:"Error Updating Values",messageColor:"secondary"}),s&&s(x,j,g)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Query Params"})}),e.jsx(Ie,{children:e.jsx(S9,{form:l,onSubmit:u1,onSubmitSuccess:u,onSubmitFail:p,fieldName:a,...d})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(l),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(l),children:"Update"})]})]})}const E9=I(H,M)(T9);class I9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={simpleMetadataDocument:void 0}}componentDidMount(){const{fieldName:n,setOnRefresh:s}=this.props;s&&s(this.onRefresh),document.title=`VidiCore Admin | Metadata Field | ${n}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({fieldName:n}){const{fieldName:s}=this.props;s!==n&&this.onFetch(n)}onRefresh(){const{fieldName:n}=this.props;this.onFetch(n)}onFetch(n){const{openSnackBar:s}=this.props;try{ft.getMetadataFieldValues({fieldName:n}).then(o=>this.setState({simpleMetadataDocument:o.data}))}catch{s({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:n,titleComponent:s,tabComponent:o}=this.props,{simpleMetadataDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"SimpleMetadataDocument",breadcrumbList:["Values"],onRefresh:this.onRefresh}),o&&e.jsx(o,{}),e.jsx(E9,{fieldName:n,onSuccess:i=>this.setState({simpleMetadataDocument:i.data})}),r&&e.jsx(Jn,{simpleMetadataDocument:r,onRefresh:this.onRefresh})]})}}const v9=H(I9),A9="METADATAFIELD_OVERVIEW_TAB",F9="METADATAFIELD_VALUES_TAB",M9="METADATAFIELD_ALLOWEDVALUES_TAB",D9="METADATAFIELD_METADATA_TAB",P9="METADATAFIELD_MERGEDACCESS_TAB",O9="METADATAFIELD_ACCESS_TAB",zu="METADATAFIELD_ACCESS_MODAL",L9="EXTERNALID_TAB",bg=[{tab:A9,listText:"Overview",component:b9,path:"/metadata-field/:fieldName/",exact:!0},{tab:F9,listText:"Allowed Values",component:d9,path:"/metadata-field/:fieldName/allowed-values/"},{tab:M9,listText:"Values",component:v9,path:"/metadata-field/:fieldName/values/"},{tab:D9,listText:"Metadata",component:p9,path:"/metadata-field/:fieldName/metadata/"},{tab:O9,listText:"Access",component:Z6,path:"/metadata-field/:fieldName/access/"},{tab:P9,listText:"Merged Access",component:m9,path:"/metadata-field/:fieldName/merged-access/"},{tab:L9,listText:"External ID",component:Dn,path:"/metadata-field/:fieldName/external-id/",entity:"metadata-field"}],N9=t=>e.jsx(gt,{children:bg.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),_9=t=>e.jsx(bt,{children:bg.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))}),yi="METADATAFIELD_REMOVE_MODAL";class $9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{fieldName:n}=this.props;document.title=`VidiCore Admin | Metadata Field | ${n}`}UNSAFE_componentWillReceiveProps({fieldName:n}){const{fieldName:s}=this.props;s!==n&&(document.title=`VidiCore Admin | Metadata Field | ${n}`)}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{fieldName:n}=this.props,s=o=>e.jsx(K6,{onRefresh:this.onRefresh,fieldName:n,removeModal:yi,menuList:[{label:"Add Access Control",modalName:zu},{label:"Delete Metadata Field",modalName:yi,color:"secondary"}],...o});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{fieldName:n,mainComponent:_9,listComponent:N9,defaultOpen:!0,titleComponent:s,setOnRefresh:this.setOnRefresh,entityId:n,entityType:"metadata-field"}),e.jsx(_j,{dialogName:yi,fieldName:n}),e.jsx(J6,{fieldName:n,dialogName:zu,onSuccess:this.onRefresh})]})}}const W9=I(H)($9);function k9({open:t,onClose:n,openSnackBar:s,history:o}){const r=a=>{const{metadataFieldDocument:l}=a,{name:d}=l,u=`Metadata Field ${d} Created`;s({messageContent:u}),o.push(`/metadata-field/${d}/`),n()},i=()=>{s({messageContent:"Error Creating Metadata Field",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Metadata Field"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:wj,documentName:"metadataFieldDocument",onSubmit:Pj,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const w9=v(k9);function U9({metadataFieldListDocument:t,...n}){const s=(t==null?void 0:t.field)||[],[o,r]=T.useState(s),i={...t,field:o};return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(Ro,{variant:"outlined",fullWidth:!0,options:s,onChange:r,optionsKey:["name","type"],minScore:.5}),e.jsx($j,{metadataFieldListDocument:i,...n})]})})}function V9(t){return e.jsx(Y,{title:"Metadata Field",helpTo:"/ref/metadata/field.html",...t})}const Ju="METADATAFIELDLIST_CREATE_MODAL";class G9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={metadataFieldListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Metadata Field"}onRefresh(){const{openSnackBar:n}=this.props;try{ft.listMetadataField().then(s=>this.setState({metadataFieldListDocument:s.data}))}catch{n({messageContent:"Error Loading Metadata Field List",messageColor:"secondary"})}}render(){const{metadataFieldListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(V9,{createModal:Ju,onRefresh:this.onRefresh,code:n,codeModal:"MetadataFieldListDocument"}),n&&e.jsx(U9,{metadataFieldListDocument:n,onRefresh:this.onRefresh}),e.jsx(w9,{dialogName:Ju})]})}}const q9=H(G9),H9=()=>({logo:{text:"100%",textAlign:"center"}});function B9({classes:t}){return e.jsx(C,{className:t.text,children:"Page does not exist"})}const z9=xe(H9)(B9),Ku="NOTIFICATION_REMOVE_DIALOG";let J9=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){const{entityType:n,notificationId:s}=this.props;document.title=`VidiCore Admin | Notification ${St(n)} | ${s}`,this.onRefresh()}onRefresh(){const{entityType:n,notificationId:s}=this.props;try{yt.getNotification({notificationId:s,entityType:n}).then(o=>this.setState({notificationDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{notificationId:n,entityType:s,history:o}=this.props,{notificationDocument:r,isEditing:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:n,parentTitle:St(s),parentTo:`/notification/${s}/`,grandParentTitle:"Notification",grandParentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:r,codeModal:"NotificationDocument",entityId:`notification/${n}`,entityType:s,removeModal:Ku}),e.jsx(Xx,{notificationDocument:r,entityType:s,notificationId:n,isEditing:i,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),e.jsx(Ua,{dialogName:Ku,onSuccess:()=>o.push(`/notification/${s}/`),entityType:s,notificationId:n})]})}};const K9=H(J9),Yu="NOTIFICATION_CREATE_DIALOG";class Y9 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){const{entityType:n}=this.props;document.title=`VidiCore Admin | ${St(n)} Notification`,this.onRefresh()}UNSAFE_componentWillReceiveProps({entityType:n}){const{entityType:s}=this.props;s!==n&&(document.title=`VidiCore Admin | ${St(n)} Notification`,this.onFetch(n))}onRefresh(){const{entityType:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(n){try{yt.listNotification({entityType:n}).then(s=>this.setState({uriListDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}render(){const{entityType:n,history:s}=this.props,{uriListDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:St(n),parentTitle:"Notification",parentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:o,codeModal:"URIListDocument",createModal:Yu,entityType:n}),e.jsx(Ga,{uriListDocument:o,entityType:n}),e.jsx(Va,{dialogName:Yu,entityType:n,onSuccess:r=>{const{data:i}=r,{uri:a}=i,l=a[0];s.push(`/notification/${n}/${l}`)}})]})}}const Q9=v(Y9),la="NOTIFICATIONPLACEHOLDER_EDIT_FORM";function X9({notificationId:t,notificationDocument:n,submitForm:s,onRefresh:o,isEditing:r,toggleEdit:i,valueSelector:a,openSnackBar:l}){if(n===void 0)return null;const d=()=>{l({messageContent:"Notification Updated"}),o&&o(),i&&i()},u=()=>{l({messageContent:"Error Updating Notification",messageColor:"secondary"})},{action:p}=n,x=e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:r,onChange:i});return e.jsx(en,{children:e.jsxs($,{children:[e.jsx(je,{title:"Action",action:x}),r?e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(wa,{notificationId:t,form:la,onSubmit:Hi,onSubmitSuccess:d,onSubmitFail:u,initialValues:{notificationDocument:n},valueSelector:a})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"primary",variant:"contained",onClick:()=>s(la),children:"Save"})})]}):e.jsx(V,{children:e.jsx(zx,{notificationId:t,action:p})})]})})}const Z9=I(v,M,Gt)(X9,la),Qu="NOTIFICATION_REMOVE_DIALOG";class e8 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){const{notificationId:n}=this.props;document.title=`VidiCore Admin | Notification | ${n}`,this.onRefresh()}onRefresh(){const{notificationId:n}=this.props;try{yt.getNotification({notificationId:n,entityType:"placeholder",path:`/API/notification/${n}/`}).then(s=>this.setState({notificationDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{notificationId:n,history:s}=this.props,{notificationDocument:o,isEditing:r}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:n,parentTitle:"Notification",parentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:o,codeModal:"NotificationDocument",entityId:n,entityType:"notification",removeModal:Qu}),e.jsx(Z9,{notificationDocument:o,notificationId:n,isEditing:r,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),e.jsx(Ua,{dialogName:Qu,onSuccess:()=>s.push("/notification/"),notificationId:n})]})}}const t8=H(e8),Xu="NOTIFICATION_CREATE_DIALOG";class n8 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Notifications",this.onRefresh()}onRefresh(){const{entityType:n}=this.props;this.onFetch(n)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(){try{yt.listNotification({entityType:"placeholder",path:"/API/notification/"}).then(n=>this.setState({uriListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}render(){const{history:n}=this.props,{uriListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Notification",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:s,codeModal:"URIListDocument",createModal:Xu}),e.jsxs(en,{children:[e.jsx(Ut,{uriListDocument:{uri:$i},linkTo:o=>`/notification/${o}/`,header:!1,titleCase:!0}),e.jsx(Ga,{uriListDocument:s})]}),e.jsx(Va,{dialogName:Xu,onSuccess:o=>{const{data:r}=o,{uri:i}=r,a=i[0];n.push(`/notification/${a}`)}})]})}}const s8=v(n8);function o8(t,n,s){const{projectionId:o}=s,{projectionDocument:r}=t;return hn.updateProjectionOutgoing({projectionId:o,projectionDocument:r}).then(()=>({projectionDocument:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function r8(t,n,s){const{projectionId:o}=s,{projectionDocument:r}=t;return hn.updateProjectionIncoming({projectionId:o,projectionDocument:r}).then(()=>({projectionDocument:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function Zu(t){const{projectionDocument:n,projectionId:s}=t;return hn.updateProjectionOutgoing({projectionId:s,projectionDocument:n}).then(()=>({projectionId:s,projectionDocument:n})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function em(t){const{projectionDocument:n,projectionId:s}=t;return hn.updateProjectionIncoming({projectionId:s,projectionDocument:n}).then(()=>({projectionDocument:n,projectionId:s})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function i8({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"projectionDocument",component:dt,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const ir=F()(i8),tm="EDIT_PROJECTION_INCOMING_FORM",nm="EDIT_PROJECTION_OUTGOING_FORM";function a8({submitForm:t,onSuccess:n,openSnackBar:s,projectionId:o,incomingProjectionDocument:r,outgoingProjectionDocument:i}){const a=(d,u,p)=>{s({messageContent:"Projection Updated"}),n&&n(d,u,p)},l=()=>{s({messageContent:"Error Updating Projection",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx(je,{title:e.jsx(C,{variant:"subtitle1",children:"Incoming"}),disableTypography:!0,action:e.jsx(f,{color:"primary",size:"small",variant:"contained",onClick:()=>t(tm),children:"Save Incoming"})}),e.jsx(V,{children:e.jsx(ir,{form:tm,onSubmit:r8,onSubmitSuccess:a,onSubmitFail:l,initialValues:{projectionDocument:r},projectionId:o,enableReinitialize:!0})})]}),e.jsxs($,{children:[e.jsx(je,{title:e.jsx(C,{variant:"subtitle1",children:"Outgoing"}),disableTypography:!0,action:e.jsx(f,{color:"primary",size:"small",variant:"contained",onClick:()=>t(nm),children:"Save Outgoing"})}),e.jsx(V,{children:e.jsx(ir,{form:nm,onSubmit:o8,onSubmitSuccess:a,onSubmitFail:l,initialValues:{projectionDocument:i},projectionId:o,enableReinitialize:!0})})]})]})}const l8=I(H,M)(a8);function c8({open:t,onClose:n,openSnackBar:s,projectionId:o,onSuccess:r}){const i=()=>{hn.removeProjection({projectionId:o}).then(()=>{const a=`Projection ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Projection",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Projection "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const d8=v(c8),sm="PROJECTION_REMOVE_MODAL";class u8 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={incomingProjectionDocument:"",outgoingProjectionDocument:"",isRefreshing:!0}}componentDidMount(){const{projectionId:n}=this.props;document.title=`VidiCore Admin | Projection | ${n}`,this.onRefresh()}onFetch(){const{projectionId:n}=this.props;try{Promise.all([hn.getProjectionIncoming({projectionId:n}).then(s=>pn(s.data||"")),hn.getProjectionOutgoing({projectionId:n}).then(s=>pn(s.data||""))]).then(([s,o])=>{this.setState({incomingProjectionDocument:s,outgoingProjectionDocument:o,isRefreshing:!1})}).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefresh(){this.setState({isRefreshing:!0},this.onFetch())}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Projection",messageColor:"secondary"})}render(){const{projectionId:n,history:s}=this.props,{incomingProjectionDocument:o,outgoingProjectionDocument:r,isRefreshing:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:n,parentTitle:"Projection",parentTo:"/projection/",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,removeModal:sm}),!i&&e.jsx(l8,{projectionId:n,onRefresh:this.onRefresh,incomingProjectionDocument:o,outgoingProjectionDocument:r}),e.jsx(d8,{dialogName:sm,projectionId:n,onSuccess:()=>s.push("/projection/")})]})}}const m8=H(u8);function h8({handleSubmit:t}){return e.jsxs("form",{onSubmit:t,children:[e.jsx(O,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:e.jsx(O,{item:!0,children:e.jsx(L,{name:"projectionId",label:"Projection Name",component:m,fullWidth:!0,required:!0})})}),e.jsx("button",{type:"submit",hidden:!0})]})}const Cg=F()(h8),Si="EDIT_PROJECTION_INCOMING_FORM";function p8({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r}){const i=(l,d,u)=>{n({messageContent:"Projection Created"}),s(),o&&o(l,d,u)},a=()=>{n({messageContent:"Error Creating Projection",messageColor:"secondary"})};return e.jsxs(_,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Incoming Projection"}),e.jsxs(X,{children:[e.jsx(Cg,{form:Si,onSubmit:em,onSubmitSuccess:i,onSubmitFail:a}),e.jsx(ir,{form:Si,onSubmit:em,onSubmitSuccess:i,onSubmitFail:a})]}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Si),children:"Save"})]})]})}const x8=I(v,M)(p8),Ri="EDIT_PROJECTION_OUTGOING_FORM";function j8({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r}){const i=(l,d,u)=>{n({messageContent:"Projection Created"}),s(),o&&o(l,d,u)},a=()=>{n({messageContent:"Error Creating Projection",messageColor:"secondary"})};return e.jsxs(_,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Outgoing Projection"}),e.jsxs(X,{children:[e.jsx(Cg,{form:Ri,onSubmit:Zu,onSubmitSuccess:i,onSubmitFail:a}),e.jsx(ir,{form:Ri,onSubmit:Zu,onSubmitSuccess:i,onSubmitFail:a})]}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Ri),children:"Save"})]})]})}const f8=I(v,M)(j8);function g8({incomingDialog:t,outgoingDialog:n,onOpen:s,...o}){return e.jsx(Y,{...o,actionComponent:e.jsxs(mt,{children:[e.jsx(b,{onClick:()=>s({modalName:t}),children:e.jsx(C,{children:"Create Incoming Projection"})}),e.jsx(b,{onClick:()=>s({modalName:n}),children:e.jsx(C,{children:"Create Outgoing Projection"})})]})})}const b8=tt(g8),om="PROJECTION_OUTGOING_CREATE_MODAL",Ti="PROJECTION_INCOMING_CREATE_MODAL";class C8 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Projection",this.onRefresh()}onRefresh(){try{hn.listProjection().then(n=>this.setState({uriListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Projections",messageColor:"secondary"})}render(){const{uriListDocument:n}=this.state,{history:s}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(b8,{title:"Projection",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument",createModal:Ti,incomingDialog:Ti,outgoingDialog:om}),e.jsx(Ut,{uriListDocument:n,linkTo:o=>`/projection/${o}/`,titleCase:!0}),e.jsx(x8,{onSuccess:o=>s.push(`/projection/${o.projectionId}`),dialogName:Ti}),e.jsx(f8,{onSuccess:o=>s.push(`/projection/${o.projectionId}`),dialogName:om})]})}}const y8=H(C8);function S8(t){if(!("filter"in t)&&typeof t.filter!="object")return t;const{filter:n}=t,s=(r,i,a)=>i.key&&i.value?`${r}${a>0?",":""}${i.key}%3D${i.value}`:r,o=n.reduce(s,"");return o!==""?ze(t,{filter:{$set:o}}):ze(t,{$unset:["filter"]})}function R8(t){const{quotaRuleDocument:n}=t;return Xo.createQuota({quotaRuleDocument:n}).then(s=>({quotaRuleDocument:s.data})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}function T8(t){const{queryParams:n}=t,s=S8(n);return Xo.listQuota({queryParams:s}).then(o=>({quotaRuleListDocument:o.data,queryParams:s})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function E8({fields:t}){return e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsx(T.Fragment,{children:e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsxs(O,{item:!0,sm:10,children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:`${n}.name`,children:"Resource Name"}),e.jsxs(L,{name:`${n}.name`,component:K,required:!0,children:[e.jsx(b,{value:"item",children:"Item"}),e.jsx(b,{value:"storage",children:"Storage"})]})]}),e.jsx(L,{name:`${n}.limit`,label:"Resource Limit",component:m,fullWidth:!0,required:!0})]}),e.jsx(O,{item:!0,sm:2,children:e.jsx(ee,{onClick:()=>t.remove(s),children:e.jsx(jt,{})})})]},n)},n)),e.jsx(Zt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Resource"})]})}function I8(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"description",component:m,label:"Description",fullWidth:!0}),e.jsx(hs,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),e.jsx(La,{name:"group",label:"Group",isClearable:!0,fullWidth:!0}),e.jsx(L,{name:"collection",component:m,label:"Collection",fullWidth:!0}),e.jsx(L,{name:"library",component:m,label:"Library",fullWidth:!0}),e.jsx(L,{name:"storage",component:m,label:"Storage",fullWidth:!0}),e.jsx(L,{name:"storageGroup",component:m,label:"Storage Group",fullWidth:!0}),e.jsx(L,{name:"tag",component:m,label:"Tag",fullWidth:!0}),e.jsx(O,{container:!0,direction:"column",children:e.jsx(Rt,{name:"resource",component:E8})})]})}function v8({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(ae,{name:"quotaRuleDocument",component:I8}),e.jsx("button",{type:"submit",hidden:!0})]})}const A8=F()(v8),rm="EDIT_QUOTA_FORM";function F8({submitForm:t,closeModal:n,isOpen:s,onRefresh:o,openSnackBar:r}){const i=d=>{const{quotaRuleDocument:u}=d,{id:p}=u,x=`Import Settings ${p} Created`;r({messageContent:x}),n(),o()},a=()=>{r({messageContent:"Error Creating Quota",messageColor:"secondary"})},l={quotaRuleDocument:{resource:[{}]}};return e.jsxs(_,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Quota"}),e.jsx(X,{children:e.jsx(A8,{form:rm,onSubmit:R8,onSubmitSuccess:i,onSubmitFail:a,initialValues:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(rm),children:"Save"})]})]})}const M8={submitForm:xt,openSnackBar:Le},D8=Ce(null,M8)(F8);function P8({fields:t}){return e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsx(O,{item:!0,sm:5,children:e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:`${n}.key`,children:"Filter Key"}),e.jsxs(L,{name:`${n}.key`,component:K,children:[e.jsx(b,{value:"user",children:"user"}),e.jsx(b,{value:"group",children:"group"}),e.jsx(b,{value:"storage",children:"storage"}),e.jsx(b,{value:"storageGroup",children:"storageGroup"}),e.jsx(b,{value:"collection",children:"collection"}),e.jsx(b,{value:"library",children:"library"}),e.jsx(b,{value:"tag",children:"tag"})]})]})}),e.jsx(O,{item:!0,sm:5,children:e.jsx(L,{name:`${n}.value`,component:m,label:"Filter Value",fullWidth:!0})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(ee,{onClick:()=>t.remove(s),children:e.jsx(jt,{})})})]},n)),e.jsx(Zt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Filter"})]})}function O8(){return e.jsxs(e.Fragment,{children:[e.jsx(O,{container:!0,direction:"column",children:e.jsx(Rt,{name:"filter",component:P8})}),e.jsx(R,{control:e.jsx(L,{name:"exceeded",component:E}),label:"Exceeded"}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"content",children:"Content"}),e.jsx(L,{name:"content",component:K,children:e.jsx(b,{value:"external",children:"External"})})]})]})}function L8({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(ae,{name:"queryParams",component:O8}),e.jsx("button",{type:"submit",hidden:!0})]})}const N8=F()(L8),im="EDIT_QUOTA_FILTER_FORM";function _8({submitForm:t,onFilter:n,openSnackBar:s}){const o=a=>{const{quotaRuleListDocument:l,queryParams:d}=a;n({quotaRuleListDocument:l,queryParams:d})},r=()=>{s({messageContent:"Error Filtering Quota",messageColor:"secondary"})},i={queryParams:{exceeded:!1,filter:[{}]}};return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(je,{action:e.jsx(f,{size:"small",color:"primary",onClick:()=>t(im),children:"Search"})}),e.jsx(V,{children:e.jsx(N8,{form:im,onSubmit:T8,onSubmitSuccess:o,onSubmitFail:r,initialValues:i})})]})})}const $8={submitForm:xt,openSnackBar:Le},W8=Ce(null,$8)(_8);function k8({rule:t}){return e.jsxs(e.Fragment,{children:[t.user&&e.jsx(h,{title:"User",variant:"username",value:t.user}),t.group&&e.jsx(h,{title:"Group",variant:"group",value:t.group}),t.collection&&e.jsx(h,{title:"Collection",variant:"collection",value:t.collection}),t.library&&e.jsx(h,{title:"Library",variant:"library",value:t.library}),t.tag&&e.jsx(h,{title:"Shape Tag",variant:"shape-tag",value:t.tag}),t.storage&&e.jsx(h,{title:"Storage",variant:"storageId",value:t.storage}),t.storageGroup&&e.jsx(h,{title:"Storage Group",value:t.storageGroup}),t.resource&&e.jsxs(e.Fragment,{children:[t.resource.map(n=>e.jsxs(T.Fragment,{children:[e.jsx(U,{}),e.jsx(h,{title:"Resource Name",value:n.name}),e.jsx(h,{title:"Resource Limit",value:n.limit}),e.jsx(h,{title:"Resource Usage",value:n.usage}),e.jsx(Mp,{variant:"determinate",value:n.usage/n.limit*100})]},n.name)),e.jsx(U,{})]}),e.jsx(h,{title:"Description",value:t.description}),e.jsx(h,{title:"Update Frequency",value:t.updateFrequency}),e.jsx(h,{title:"Last Update",variant:"timestamp",value:t.lastUpdate})]})}function w8({quotaRuleDocument:t}){return e.jsx(k8,{rule:t})}function U8({quotaRuleDocument:t,openRemove:n}){const{id:s}=t;return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(je,{subheader:s,action:e.jsxs(e.Fragment,{children:[e.jsx(ee,{onClick:n(s),children:e.jsx(jt,{})}),e.jsx(Kp,{entityId:s,entityType:"quota"})]})}),e.jsx(V,{children:e.jsx(w8,{quotaRuleDocument:t})})]})})}function V8({quotaRuleListDocument:t={},onRefresh:n,openRemove:s}){const{rule:o=[]}=t;return e.jsx(e.Fragment,{children:o.map(r=>e.jsx(U8,{quotaRuleDocument:r,onRefresh:n,openRemove:s},r.id))})}function G8({closeModal:t,isOpen:n,ruleId:s,onRemove:o}){return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Quota "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:o(s),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function q8({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(Y,{title:"Quota",onRefresh:s,openCode:t,openAction:n})}const am="QUOTA_CODE_MODAL",lm="QUOTA_REMOVE_MODAL",cm="QUOTA_CREATE_MODAL";class H8 extends T.Component{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.onFilter=this.onFilter.bind(this),this.state={quotaRuleListDocument:void 0}}componentDidMount(){this.onRefresh()}async onRefresh(){const{openSnackBar:n}=this.props,{queryParams:s}=this.state;try{const{data:o}=await Xo.listQuota({queryParams:s});this.setState({quotaRuleListDocument:o})}catch{n({messageContent:"Error Loading Quota",messageColor:"secondary"})}}onFilter({quotaRuleListDocument:n,queryParams:s}){this.setState({quotaRuleListDocument:n,queryParams:s})}onRemove(n){const{openSnackBar:s,closeModal:o}=this.props;return()=>{Xo.removeQuota({ruleId:n}).then(()=>{const r=`Quota "${n}" Removed`;s({messageContent:r}),o(),this.onRefresh()}).catch(()=>{s({messageContent:"Error Removing Quota",messageColor:"secondary"})})}}openRemove(n){const{openModal:s}=this.props;return()=>{const o=()=>s({modalName:lm});this.setState({currentRuleId:n},o)}}render(){const{quotaRuleListDocument:n,currentRuleId:s}=this.state,{closeModal:o,modalName:r,openModal:i}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(q8,{openCode:()=>i({modalName:am}),openCreate:()=>i({modalName:cm}),onRefresh:this.onRefresh}),e.jsx(W8,{onFilter:this.onFilter,onRefresh:this.onRefresh}),e.jsx(V8,{quotaRuleListDocument:n,onRefresh:this.onRefresh,openRemove:this.openRemove}),s&&e.jsx(G8,{isOpen:r===lm,closeModal:o,onRemove:this.onRemove,ruleId:s}),e.jsx(D8,{isOpen:r===cm,closeModal:o,onRefresh:this.onRefresh}),e.jsx(ut,{isOpen:r===am,toggleDialogue:o,code:n,title:"QuotaRuleListDocument"})]})}}function B8(t){const{ui:{modalName:n}}=t;return{modalName:n}}const z8={openSnackBar:Le,closeModal:st,openModal:ot},J8=Ce(B8,z8)(H8);function K8({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"index",value:t.index,hover:!0}),e.jsx(h,{title:"priority",value:t.priority,hover:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0}),e.jsx(h,{title:"start",value:t.start,variant:"timestamp",hover:!0}),e.jsx(h,{title:"finish",value:t.finish,variant:"timestamp",hover:!0}),e.jsx(h,{title:"indexesDone",value:t.indexesDone,hover:!0}),e.jsx(h,{title:"indexesTotal",value:t.indexesTotal,hover:!0})]})}function Y8({reindexRequestDocument:t}){return e.jsx(w,{value:t,component:K8})}const Q8=["FINISHED"],X8=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"],Z8=["ABORTED"],e7=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"];function t7({reindexRequestDocument:t}){if(t===void 0)return null;let n=e.jsx(Ue,{avatar:e.jsx(fs,{}),label:"Unknown"});const{status:s}=t;return Q8.includes(s)?n=e.jsx(Ue,{avatar:e.jsx(qt,{}),label:le(s)}):X8.includes(s)?n=e.jsx(Ue,{avatar:e.jsx(fs,{}),label:le(s)}):Z8.includes(s)&&(n=e.jsx(Ue,{avatar:e.jsx(_t,{}),label:le(s)})),n}function n7({indexName:t,reindexRequestDocument:n,onSuccess:s,openSnackBar:o}){const r=i=>{Dp.updateReindex({indexName:t,queryParams:i}).then(()=>{const a=`Reindex Request ${t} Updated`;o({messageContent:a}),s&&s(t)}).catch(()=>{const a=`Error Updating Reindex ${t} Request`;o({messageContent:a,messageColor:"secondary"})})};return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:le(t)}),action:e.jsx(t7,{reindexRequestDocument:n})}),e.jsx(V,{children:e.jsx(Y8,{reindexRequestDocument:n})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{onClick:()=>r({status:"ABORTED"}),color:"secondary",children:"Cancel"}),e.jsx(f,{onClick:()=>r({status:"PAUSED"}),color:"primary",children:"Pause"}),e.jsx(f,{onClick:()=>r({status:"IN_PROGRESS"}),color:"primary",children:"Resume"}),e.jsx(f,{onClick:()=>r({status:"IN_QUEUE"}),color:"primary",children:"Start"})]})]})})}const s7=v(n7),Ei=["item","collection","acl","file","thumbnail"];class o7 extends T.PureComponent{constructor(n){super(n),this.onAutoRefresh=this.onAutoRefresh.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={item:void 0,collection:void 0,acl:void 0,file:void 0,thumbnail:void 0}}componentDidMount(){document.title="VidiCore Admin | Reindex",this.timer=setInterval(()=>this.onAutoRefresh(),2500),this.onRefresh()}componentWillUnmount(){clearInterval(this.timer),this.timer=void 0}onRefresh(){Ei.forEach(n=>this.onFetch(n))}onRefreshError(n,s){const{openSnackBar:o}=this.props,r=`Error Loading ${s} Reindex Status`;o({messageContent:r,messageColor:"secondary"})}onAutoRefresh(){if(Ei.find(s=>{const{[s]:o={}}=this.state,{status:r}=o;return e7.includes(r)})===void 0){clearInterval(this.timer),this.timer=void 0;return}this.onRefresh()}onFetch(n){try{Dp.getReindex({indexName:n}).then(s=>this.setState({[n]:s.data})).catch(s=>{if(!s.response){this.onRefreshError(s);return}if(s.response.status!==404){this.onRefreshError(s);return}this.setState({[n]:{}})})}catch(s){this.onRefreshError(s)}}render(){return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Reindex",helpTo:"/ref/metadata/reindex.html",onRefresh:this.onRefresh,code:this.state,codeModal:"All reindexRequestDocument"}),Ei.map(n=>e.jsx(s7,{indexName:n,reindexRequestDocument:this.state[n],onSuccess:()=>{this.onFetch(n),this.timer===void 0&&(this.timer=setInterval(()=>this.onAutoRefresh(),2500))}},n))]})}}const r7=H(o7);function i7(t,n,s){const{resourceId:o,resourceType:r}=s,{resourceDocument:i}=t;return ys.modifyResource({resourceType:r,resourceId:o,resourceDocument:i}).then(a=>({resourceDocument:a.data})).catch(a=>{let l=a.message;throw a.response&&(l=JSON.stringify(a.response.data,(d,u)=>u===null?void 0:u)),new q({_error:l})})}function ca(t,n,s){const{resourceType:o}=s,{resourceDocument:r}=t;return ys.createResource({resourceType:o,resourceDocument:r}).then(i=>({resourceDocument:i.data})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function a7({thumbnail:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Path",value:t.path}),e.jsx(h,{title:"Mode",value:t.mode}),e.jsx(h,{title:"state",value:t.state}),e.jsx(h,{title:"Last Success",value:t.lastSuccess}),e.jsx(h,{title:"Last Failure",value:t.lastFailure}),e.jsx(h,{title:"Failure Message",value:t.failureMessage})]})}function l7({network:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Netmask",value:t.netmask}),e.jsx(h,{title:"Bandwidth",value:t.bandwidth})]})}function c7({finalcutserver:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Tag",value:t.tag}),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Description",value:t.description}),e.jsx(Z,{title:"Metadata",value:t.metadata,component:As})]})}function d7({cerify:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Address",value:t.address}),e.jsx(h,{title:"Cleanup",value:t.cleanup}),t.mediaLocation&&t.mediaLocation.map((n,s)=>e.jsxs(T.Fragment,{children:[e.jsx(h,{title:"Media Location Name",value:n.name}),e.jsx(h,{title:"Media Location Storage Method",variant:"list",value:n.storageMethod})]},s))]})}function u7({directAccess:t}){return e.jsx(e.Fragment,{children:e.jsx(h,{title:"Filter",value:t.filter})})}function m7({externalTranscoder:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Source",value:t.source}),e.jsx(h,{title:"Destination",value:t.destination}),e.jsx(h,{title:"Shape Tag",value:t.shapeTag}),e.jsx(h,{title:"Timeout",value:t.timeout}),e.jsx(h,{title:"Interval",value:t.interval}),e.jsx(h,{title:"Checks",value:t.checks}),e.jsx(h,{title:"Regex",value:t.regex})]})}function h7({transcoder:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:t.type}),e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Version",value:t.version}),e.jsx(h,{title:"Reverse Address",value:t.reverseAddress}),e.jsx(h,{title:"Reverse Address Detected",value:t.reverseAddressDetected}),e.jsx(h,{title:"Direct Access"}),t.directAccess&&t.directAccess.map((n,s)=>e.jsx(u7,{directAccess:n},s)),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Weight",value:t.weight}),e.jsx(h,{title:"Max Job",value:t.maxJob}),e.jsx(Z,{title:"Resource Tag",value:t.resourceTag,component:yn})]})}function p7({mxfserver:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Workspace Url",value:t.workspaceUrl}),e.jsx(h,{title:"User Workspace Url",value:t.userWorkspaceUrl}),e.jsx(h,{title:"MXFServer Workspace Path",value:t.mxfServerWorkspacePath}),e.jsx(h,{title:"MXFServer User Id",value:t.mxfServerUserId}),e.jsx(h,{title:"MXFServer Path To Storage",value:t.mxfServerPathToStorage}),e.jsx(h,{title:"Database Name",value:t.databaseName}),e.jsx(h,{title:"Storage ID",value:t.storageId}),e.jsx(h,{title:"Description",value:t.description}),e.jsx(h,{title:"Atom Shapes",value:t.atomShapes}),e.jsx(h,{title:"Import Shapes",value:t.importShapes}),e.jsx(h,{title:"Detect Atom",variant:"boolean",value:t.detectAtom}),e.jsx(h,{title:"Enforce Quota",variant:"boolean",value:t.enforceQuota}),e.jsx(h,{title:"File Import Pattern",value:t.fileImportPattern}),e.jsx(Z,{title:"Metadata",value:t.metadata,component:As})]})}function x7({signiant:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Tag",value:t.tag}),e.jsx(h,{title:"Username",value:t.username}),e.jsx(h,{title:"Password",value:t.password}),e.jsx(h,{title:"Description",value:t.description})]})}function j7({ldap:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"url",variant:"list",value:t.url}),e.jsx(h,{title:"Use StartTLS",value:t.useStartTLS}),e.jsx(h,{title:"User DN",value:t.userDN}),e.jsx(h,{title:"Username Attribute",value:t.usernameAttribute}),e.jsx(h,{title:"User Search Filter",value:t.userSearchFilter}),e.jsx(h,{title:"Bind DN",value:t.bindDN}),e.jsx(h,{title:"Bind Password",value:t.bindPassword}),e.jsx(h,{title:"Cache Lifetime",value:t.cacheLifetime}),e.jsx(h,{title:"Group DN",value:t.groupDN}),e.jsx(h,{title:"Group Search Filter",value:t.groupSearchFilter}),e.jsx(h,{title:"Real Name Attribute",value:t.realNameAttribute}),e.jsx(h,{title:"Groupname Attribute",value:t.groupnameAttribute}),e.jsx(h,{title:"Username Format",value:t.usernameFormat}),t.sync&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Create Users",variant:"boolean",value:t.sync.createUsers}),e.jsx(h,{title:"Create Groups",variant:"boolean",value:t.sync.createGroups})]})]})}function f7({cloudconvert:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Public Address",value:t.publicAddress}),e.jsx(h,{title:"API Host",value:t.apiHost}),e.jsx(h,{title:"API Key",value:t.apiKey}),e.jsx(h,{title:"Input Method",value:t.inputMethod}),e.jsx(h,{title:"Script",value:t.script})]})}function g7({vidinet:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Name",value:t.name}),e.jsx(h,{title:"Endpoint",value:t.endpoint}),e.jsx(h,{title:"Type",value:t.type}),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Scheme",variant:"list",value:t.scheme})]})}function b7({eidr:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URL",value:t.url}),e.jsx(h,{title:"Include",variant:"list",value:t.include}),e.jsx(h,{title:"Party ID",value:t.partyId}),e.jsx(h,{title:"User ID",value:t.userId}),e.jsx(h,{title:"Password",value:t.password})]})}function C7({callback:t}){return e.jsx(h,{title:"URI",value:t.uri})}function y7({resourceType:t,resourceDocument:n}){switch(t){case"network":return e.jsx(l7,{network:n.network});case"transcoder":return e.jsx(h7,{transcoder:n.transcoder});case"externalTranscoder":return e.jsx(m7,{externalTranscoder:n.externalTranscoder});case"cerify":return e.jsx(d7,{cerify:n.cerify});case"thumbnail":return e.jsx(a7,{thumbnail:n.thumbnail});case"finalcutserver":return e.jsx(c7,{finalcutserver:n.finalcutserver});case"mxfserver":return e.jsx(p7,{mxfserver:n.mxfserver});case"signiant":return e.jsx(x7,{signiant:n.signiant});case"ldap":return e.jsx(j7,{ldap:n.ldap});case"cloudconvert":return e.jsx(f7,{cloudconvert:n.cloudconvert});case"vidinet":return e.jsx(g7,{vidinet:n.vidinet});case"eidr":return e.jsx(b7,{eidr:n.eidr});case"callback":return e.jsx(C7,{eidr:n.callback});default:return null}}function S7({resourceType:t,resourceDocument:n}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"ID",value:n.id}),e.jsx(y7,{resourceType:t,resourceDocument:n})]})}function R7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"encoderThreads",label:"encoderThreads",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"decoderOfferThreads",label:"decoderOfferThreads",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"apiURL",label:"apiURL",component:m,fullWidth:!0}),e.jsx(c,{name:"apiUsername",label:"apiUsername",component:m,fullWidth:!0}),e.jsx(c,{name:"apiPassword",label:"apiPassword",component:m,fullWidth:!0}),e.jsx(c,{name:"dataPath",label:"dataPath",component:m,fullWidth:!0}),e.jsx(c,{name:"presetPath",label:"presetPath",component:m,fullWidth:!0}),e.jsx(c,{name:"tempPath",label:"tempPath",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"bilinearEffects",component:E}),label:"Bilinear Effects"})]})}function T7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",component:m,label:"Media Location Name",fullWidth:!0}),e.jsx(c,{name:"storageMethod",component:pe,label:"Media Location Storage Method",simple:!0,fullWidth:!0})]})}function E7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"pattern",component:m,label:"Pattern",fullWidth:!0}),e.jsx(c,{name:"replacement",component:m,label:"Replacement",fullWidth:!0})]})}function I7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"filter",component:m,label:"Filter",fullWidth:!0}),e.jsx(k,{name:"rewrite",label:"Rewrite",component:E7})]})}function v7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"netmask",component:m,label:"Netmask",fullWidth:!0}),e.jsx(c,{name:"bandwidth",component:m,label:"Bandwidth",fullWidth:!0})]})}function A7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"source",component:m,label:"Source",fullWidth:!0}),e.jsx(c,{name:"destination",component:m,label:"Destination",fullWidth:!0}),e.jsx(c,{name:"shapeTag",component:m,label:"Shape Tag",fullWidth:!0}),e.jsx(c,{name:"timeout",component:m,label:"Timeout",fullWidth:!0}),e.jsx(c,{name:"interval",component:m,label:"Interval",fullWidth:!0}),e.jsx(c,{name:"checks",component:m,label:"Checks",fullWidth:!0}),e.jsx(c,{name:"regex",component:m,label:"Regex",fullWidth:!0})]})}function F7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"address",component:At,label:"Address",fullWidth:!0,defaultValue:"http://"}),e.jsx(c,{name:"cleanup",component:m,label:"Cleanup",fullWidth:!0}),e.jsx(k,{name:"mediaLocation",label:"Media Location",component:T7})]})}function M7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"url",component:At,label:"URL",fullWidth:!0,defaultValue:"http://"}),e.jsx(c,{name:"tag",component:m,label:"Tag",fullWidth:!0}),e.jsx(c,{name:"State",component:m,label:"state",fullWidth:!0}),e.jsx(c,{name:"description",label:"Description",component:m,fullWidth:!0}),e.jsx(S,{name:"metadata",component:Ln})]})}function D7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"url",label:"URL",component:At,fullWidth:!0,defaultValue:"http://"}),e.jsx(c,{name:"workspaceUrl",label:"Workspace Url",component:m,fullWidth:!0}),e.jsx(c,{name:"userWorkspaceUrl",label:"User Workspace Url",component:m,fullWidth:!0}),e.jsx(c,{name:"mxfServerWorkspacePath",label:"MXFServer Workspace Path",component:m,fullWidth:!0}),e.jsx(c,{name:"mxfServerUserId",label:"MXFServer User Id",component:m,fullWidth:!0}),e.jsx(c,{name:"mxfServerPathToStorage",label:"MXFServer Path To Storage",component:m,fullWidth:!0}),e.jsx(c,{name:"databaseName",label:"Database Name",component:m,fullWidth:!0}),e.jsx(c,{name:"description",label:"Description",component:m,fullWidth:!0}),e.jsx(c,{name:"atomShapes",label:"Atom Shapes",component:m,fullWidth:!0}),e.jsx(c,{name:"importShapes",label:"Import Shapes",component:m,fullWidth:!0}),e.jsx(c,{name:"detectAtom",label:"Detect Atom",component:m,fullWidth:!0}),e.jsx(c,{name:"enforceQuota",label:"Enforce Quota",component:m,fullWidth:!0}),e.jsx(c,{name:"fileImportPattern",label:"File Import Pattern",component:m,fullWidth:!0}),e.jsx(S,{name:"metadata",component:Ln})]})}function P7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"url",component:At,label:"URL",fullWidth:!0,defaultValue:"http://"}),e.jsx(c,{name:"tag",label:"Tag",component:m,fullWidth:!0}),e.jsx(c,{name:"username",label:"Username",component:m,fullWidth:!0}),e.jsx(c,{name:"password",label:"Password",component:m,fullWidth:!0}),e.jsx(c,{name:"description",label:"Description",component:m,fullWidth:!0})]})}function O7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"url",label:"url",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"useStartTLS",label:"Use StartTLS",component:m,fullWidth:!0}),e.jsx(c,{name:"userDN",label:"User DN",component:m,fullWidth:!0}),e.jsx(c,{name:"",label:"",component:m,fullWidth:!0}),e.jsx(c,{name:"usernameAttribute",label:"Username Attribute",component:m,fullWidth:!0}),e.jsx(c,{name:"userSearchFilter",label:"User Search Filter",component:m,fullWidth:!0}),e.jsx(c,{name:"bindDN",label:"Bind DN",component:m,fullWidth:!0}),e.jsx(c,{name:"bindPassword",label:"Bind Password",component:m,fullWidth:!0}),e.jsx(c,{name:"cacheLifetime",label:"Cache Lifetime",component:m,fullWidth:!0}),e.jsx(c,{name:"groupDN",label:"Group DN",component:m,fullWidth:!0}),e.jsx(c,{name:"groupSearchFilter",label:"Group Search Filter",component:m,fullWidth:!0}),e.jsx(c,{name:"realNameAttribute",label:"Real Name Attribute",component:m,fullWidth:!0}),e.jsx(c,{name:"groupnameAttribute",label:"Groupname Attribute",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"sync.createUsers",component:E}),label:"Create Users"}),e.jsx(R,{control:e.jsx(c,{name:"sync.createGroups",component:E}),label:"Create Groups"})]})}function L7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"publicAddress",label:"Public Address",component:m,fullWidth:!0}),e.jsx(c,{name:"apiHost",label:"API Host",component:m,fullWidth:!0}),e.jsx(c,{name:"apiKey",label:"API Key",component:m,fullWidth:!0}),e.jsx(c,{name:"inputMethod",label:"Input Method",component:m,fullWidth:!0}),e.jsx(c,{name:"script",label:"Script",component:m,fullWidth:!0})]})}function N7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"url",component:At,label:"URL",fullWidth:!0,defaultValue:"vidinet://"}),e.jsx(c,{name:"name",label:"Name",component:m,fullWidth:!0}),e.jsx(c,{name:"endpoint",label:"Endpoint",component:m,fullWidth:!0}),e.jsx(c,{name:"type",label:"Type",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",label:"Scheme",component:pe,simple:!0,fullWidth:!0})]})}function _7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"url",component:At,label:"URL",fullWidth:!0,defaultValue:"http://"}),e.jsx(c,{name:"include",label:"Include",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"partyId",label:"Party ID",component:m,fullWidth:!0}),e.jsx(c,{name:"userId",label:"User ID",component:m,fullWidth:!0}),e.jsx(c,{name:"password",label:"Password",component:m,fullWidth:!0})]})}function $7(){return e.jsx(c,{name:"uri",component:m,label:"URI",fullWidth:!0})}function W7(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"url",label:"URL",component:At,fullWidth:!0,defaultValue:"http://"}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Resource Name"}),e.jsxs(c,{name:"type",component:K,required:!0,children:[e.jsx(b,{value:"TRANSCODER",children:"TRANSCODER"}),e.jsx(b,{value:"DIRECTORY",children:"DIRECTORY"})]})]}),e.jsx(c,{label:"Weight",name:"weight",component:m,fullWidth:!0}),e.jsx(c,{name:"maxJob",label:"Max Job",component:m,fullWidth:!0}),e.jsx(k,{name:"directAccess",label:"Direct Access",component:I7}),e.jsx(k,{name:"resourceTag",label:"resourceTag",component:ne,fullWidth:!0}),e.jsx(S,{name:"configuration",label:"Configuration",component:R7})]})}function k7(){return e.jsxs(e.Fragment,{children:[e.jsx(co,{name:"path",label:"Path",component:At}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"mode",children:"Mode"}),e.jsxs(c,{name:"mode",component:K,children:[e.jsx(b,{value:"READ_WRITE",children:"READ_WRITE"}),e.jsx(b,{value:"READ",children:"READ"}),e.jsx(b,{value:"NONE",children:"NONE"})]})]})]})}function w7({resourceType:t}){switch(t){case"network":return e.jsx(S,{name:"network",component:v7});case"transcoder":return e.jsx(S,{name:"transcoder",component:W7});case"externalTranscoder":return e.jsx(S,{name:"externalTranscoder",component:A7});case"cerify":return e.jsx(S,{name:"cerify",component:F7});case"thumbnail":return e.jsx(S,{name:"thumbnail",component:k7});case"finalcutserver":return e.jsx(S,{name:"finalcutserver",component:M7});case"mxfserver":return e.jsx(S,{name:"mxfserver",component:D7});case"signiant":return e.jsx(S,{name:"signiant",component:P7});case"ldap":return e.jsx(S,{name:"ldap",component:O7});case"cloudconvert":return e.jsx(S,{name:"cloudconvert",component:L7});case"vidinet":return e.jsx(S,{name:"vidinet",component:N7});case"eidr":return e.jsx(S,{name:"eidr",component:_7});case"callback":return e.jsx(S,{name:"callback",component:$7});default:return null}}function U7({error:t,handleSubmit:n,resourceType:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"resourceDocument",component:w7,resourceType:s}),e.jsx("button",{type:"submit",hidden:!0})]})}const ar=F()(U7),dm="EDIT_RESOURCE_FORM";class V7 extends T.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{resourceType:n,resourceId:s,resourceDocument:o,submitForm:r,onRefresh:i,openSnackBar:a}=this.props,{isEditing:l}=this.state,d={resourceDocument:o},u=()=>{this.toggleEdit(),a({messageContent:"Resource Saved"}),i&&i()},p=()=>{a({messageContent:"Error Updating Resource",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(je,{action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:l,onChange:this.toggleEdit})})})}),e.jsx(V,{children:l?e.jsx(ar,{form:dm,initialValues:d,onSubmit:i7,onSubmitSuccess:u,onSubmitFail:p,resourceId:s,resourceType:n}):e.jsx(S7,{resourceDocument:o,resourceType:n})}),l&&e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>r(dm),size:"small",color:"primary",children:"Save"})]})]})]})}}const G7={submitForm:xt,openSnackBar:Le},q7=Ce(null,G7)(V7);function H7({resourceType:t,resourceId:n,resourceDocument:s,onRefresh:o}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(q7,{resourceId:n,resourceType:t,resourceDocument:s,onRefresh:o})})})}function B7({closeModal:t,isOpen:n,resourceId:s,resourceType:o,history:r,openSnackBar:i}){const a=()=>{ys.removeResource({resourceId:s,resourceType:o}).then(()=>{const l=`${o} ${s} Removed`;i({messageContent:l}),r.push(`/resource/${o}`),t()}).catch(()=>{i({messageContent:"Error Removing Resource",messageColor:"secondary"})})};return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove ${le(o)} "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function z7({resourceType:t,resourceId:n,openCode:s,onRefresh:o,openRemove:r}){return e.jsx(Y,{grandParentTitle:"Resource",grandParentTo:"/resource/",parentTitle:le(t),parentTo:`/resource/${t}/`,entityId:n,entityType:`resource/${t}`,title:n,onRefresh:o,openCode:s,actionComponent:e.jsx(ee,{onClick:r,children:e.jsx(et,{})})})}const um="RESOURCELIST_CODE_MODAL",mm="RESOURCE_REMOVE_MODAL";class J7 extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={resourceDocument:void 0}}componentDidMount(){const{resourceType:n,resourceId:s}=this.props;document.title=`VidiCore Admin | Resource | ${le(n)} | ${s}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,resourceType:s,resourceId:o}=this.props;try{ys.getResource({resourceType:s,resourceId:o}).then(r=>this.setState({resourceDocument:r.data}))}catch{n({messageContent:"Error Loading Resource",messageColor:"secondary"})}}render(){const{resourceType:n,resourceId:s,modalName:o,closeModal:r,openModal:i,openSnackBar:a,history:l}=this.props,{resourceDocument:d}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(z7,{openCode:()=>i({modalName:um}),openRemove:()=>i({modalName:mm}),onRefresh:this.onRefresh,resourceType:n,resourceId:s}),d&&e.jsx(H7,{onRefresh:this.onRefresh,resourceType:n,resourceId:s,resourceDocument:d}),e.jsx(ut,{isOpen:o===um,toggleDialogue:r,code:d,title:"ResourceDocument"}),e.jsx(B7,{isOpen:o===mm,resourceType:n,resourceId:s,openSnackBar:a,closeModal:r,history:l})]})}}function K7(t,n){const{resourceType:s,resourceId:o}=n.match.params,{ui:{modalName:r}}=t;return{modalName:r,resourceType:s,resourceId:o}}const Y7={openSnackBar:Le,closeModal:st,openModal:ot},Q7=Ce(K7,Y7)(J7);function X7({closeModal:t,isOpen:n,history:s,openSnackBar:o,resourceType:r}){const i=l=>{const{resourceDocument:d}=l,{id:u}=d,p=`${r} ${u} Created`;o({messageContent:p}),s.push(`/resource/${r}/${u}`),t()},a=()=>{o({messageContent:"Error Creating Resource",messageColor:"secondary"})};return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`New ${le(r)}`}),e.jsx(X,{children:e.jsx(rt,{FormComponent:ar,documentName:"resourceDocument",onSubmit:ca,onSubmitSuccess:i,onSubmitFail:a,onCancel:t,resourceType:r})})]})}const Z7={openSnackBar:Le},eK=Ce(null,Z7)(X7),tK=()=>({wordBreak:{wordBreak:"break-all"},noBreak:{whiteSpace:"nowrap"}});function nK({resource:t}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:t.netmask}),e.jsx(A,{children:t.bandwidth})]})}function sK({resource:t}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:t.source}),e.jsx(A,{children:t.destination}),e.jsx(A,{children:t.shapeTag})]})}function oK({classes:t,resource:n}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{className:t.wordBreak,children:n.url}),e.jsx(A,{children:n.version}),e.jsx(A,{children:n.state==="ONLINE"?e.jsx(qt,{}):e.jsx(_t,{})})]})}function rK({classes:t,resource:n}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{className:t.wordBreak,children:n.path}),e.jsx(A,{children:n.state==="ONLINE"?e.jsx(qt,{}):e.jsx(_t,{})})]})}function iK({classes:t,resource:n}){return e.jsx(A,{className:t.wordBreak,children:n.address})}function aK({classes:t,resource:n}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{className:t.wordBreak,children:n.url}),e.jsx(A,{children:n.tag}),e.jsx(A,{children:n.state})]})}function lK({classes:t,resource:n}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{className:t.wordBreak,children:n.url}),e.jsx(A,{children:n.workspaceUrl}),e.jsx(A,{children:n.userWorkspaceUrl})]})}function cK({classes:t,resource:n}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{className:t.wordBreak,children:n.url}),e.jsx(A,{children:n.tag})]})}function dK({classes:t,resource:n}){return e.jsx(A,{className:t.wordBreak,children:n.url})}function uK({resource:t}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:t.publicAddress}),e.jsx(A,{children:t.apiHost})]})}function mK({classes:t,resource:n}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:n.name}),e.jsx(A,{children:n.type}),e.jsx(A,{className:t.wordBreak,children:n.url}),e.jsx(A,{children:n.endpoint}),e.jsx(A,{children:n.state})]})}function hK({classes:t,resource:n}){return e.jsxs(e.Fragment,{children:[e.jsx(A,{className:t.wordBreak,children:n.url}),e.jsx(A,{children:n.partyId}),e.jsx(A,{children:n.userId})]})}function pK({classes:t,resource:n}){return e.jsx(A,{className:t.wordBreak,children:n.uri})}function xK({classes:t,resource:n,resourceType:s}){if(n[s]===void 0)return null;switch(s){case"network":return e.jsx(nK,{resource:n[s],resourceType:s,classes:t});case"transcoder":return e.jsx(oK,{resource:n[s],resourceType:s,classes:t});case"externalTranscoder":return e.jsx(sK,{resource:n[s],resourceType:s,classes:t});case"cerify":return e.jsx(iK,{resource:n[s],resourceType:s,classes:t});case"thumbnail":return e.jsx(rK,{resource:n[s],resourceType:s,classes:t});case"finalcutserver":return e.jsx(aK,{resource:n[s],resourceType:s,classes:t});case"mxfserver":return e.jsx(lK,{resource:n[s],resourceType:s,classes:t});case"signiant":return e.jsx(cK,{resource:n[s],resourceType:s,classes:t});case"ldap":return e.jsx(dK,{resource:n[s],resourceType:s,classes:t});case"cloudconvert":return e.jsx(uK,{resource:n[s],resourceType:s,classes:t});case"vidinet":return e.jsx(mK,{resource:n[s],resourceType:s,classes:t});case"eidr":return e.jsx(hK,{resource:n[s],resourceType:s,classes:t});case"callback":return e.jsx(pK,{resource:n[s],resourceType:s,classes:t});default:return e.jsx(A,{})}}function jK({classes:t,resource:n,resourceType:s}){const{id:o}=n;return e.jsxs(Be,{hover:!0,to:`/resource/${s}/${o}/`,children:[e.jsx(A,{className:t.noBreak,children:o}),e.jsx(xK,{resource:n,resourceType:s,classes:t})]})}const fK=xe(tK)(jK);function gK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"Netmask"}),e.jsx(A,{children:"Bandswidth"})]})}function bK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"Source"}),e.jsx(A,{children:"Destination"}),e.jsx(A,{children:"Shape Tag"})]})}function CK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"URL"}),e.jsx(A,{children:"Version"}),e.jsx(A,{children:"Status"})]})}function yK(){return e.jsx(A,{children:"Address"})}function SK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"URL"}),e.jsx(A,{children:"Tag"}),e.jsx(A,{children:"State"})]})}function RK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"URL"}),e.jsx(A,{children:"Workspace Url"}),e.jsx(A,{children:"User Workspace Url"})]})}function TK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"URL"}),e.jsx(A,{children:"Tag"})]})}function EK(){return e.jsx(A,{children:"URL"})}function IK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"Public Address"}),e.jsx(A,{children:"API Host"})]})}function vK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"Name"}),e.jsx(A,{children:"Type"}),e.jsx(A,{children:"Url"}),e.jsx(A,{children:"Endpoint"}),e.jsx(A,{children:"State"})]})}function AK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"URL"}),e.jsx(A,{children:"Party ID"}),e.jsx(A,{children:"User ID"})]})}function FK(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:"Path"}),e.jsx(A,{children:"Status"})]})}function MK(){return e.jsx(A,{children:"URL"})}function DK({resourceType:t}){switch(t){case"network":return e.jsx(gK,{});case"transcoder":return e.jsx(CK,{});case"externalTranscoder":return e.jsx(bK,{});case"cerify":return e.jsx(yK,{});case"thumbnail":return e.jsx(FK,{});case"finalcutserver":return e.jsx(SK,{});case"mxfserver":return e.jsx(RK,{});case"signiant":return e.jsx(TK,{});case"ldap":return e.jsx(EK,{});case"cloudconvert":return e.jsx(IK,{});case"vidinet":return e.jsx(vK,{});case"eidr":return e.jsx(AK,{});case"callback":return e.jsx(MK,{});default:return e.jsx(A,{})}}function PK({resourceListDocument:t={},resourceType:n}){const{resource:s=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(DK,{resourceType:n})]})}),e.jsx(de,{children:s.map(o=>e.jsx(fK,{resource:o,resourceType:n},o.id))})]})}function OK({resourceListDocument:t,resourceType:n}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(PK,{resourceListDocument:t,resourceType:n})})})}function LK({resourceType:t,openCode:n,openCreate:s,onRefresh:o}){return e.jsx(Y,{parentTitle:"Resource",parentTo:"/resource/",title:le(t),onRefresh:o,openCode:n,openAction:s})}const hm="RESOURCELIST_CODE_MODAL",pm="RESOURCE_CREATE_MODAL";class NK extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={resourceListDocument:void 0}}componentDidMount(){const{resourceType:n}=this.props;document.title=`VidiCore Admin | Resource | ${le(n)}`,this.onRefresh()}UNSAFE_componentWillReceiveProps({resourceType:n}){const{resourceType:s}=this.props;n!==s&&(this.setState({resourceListDocument:void 0}),this.onFetch(n),document.title=`VidiCore Admin | Resource | ${le(n)}`)}onFetch(n){const{openSnackBar:s}=this.props;try{ys.listResourceType({resourceType:n}).then(o=>this.setState({resourceListDocument:o.data}))}catch{s({messageContent:"Error Loading Resource List",messageColor:"secondary"})}}onRefresh(){const{resourceType:n}=this.props;this.onFetch(n)}render(){const{modalName:n,closeModal:s,openModal:o,resourceType:r,history:i}=this.props,{resourceListDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(LK,{openCode:()=>o({modalName:hm}),openCreate:()=>o({modalName:pm}),onRefresh:this.onRefresh,resourceType:r}),a&&e.jsx(OK,{resourceType:r,resourceListDocument:a}),e.jsx(ut,{isOpen:n===hm,toggleDialogue:s,code:a,title:"ResourceListDocument"}),e.jsx(eK,{resourceType:r,isOpen:n===pm,closeModal:s,history:i})]})}}function _K(t,n){const{resourceType:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,resourceType:s}}const $K={openSnackBar:Le,closeModal:st,openModal:ot},WK=Ce(_K,$K)(NK);function kK({resourceType:t}){return e.jsx(Be,{hover:!0,to:`/resource/${t}/`,children:e.jsx(A,{children:le(t)})})}function wK({resourceTypeListDocument:t={}}){const{resourcetype:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsx(me,{children:e.jsx(A,{children:"Resource Type"})})}),e.jsx(de,{children:n.map(s=>e.jsx(kK,{resourceType:s.type},s.type))})]})}function UK({resourceTypeListDocument:t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(wK,{resourceTypeListDocument:t})})})}function VK({onRefresh:t,openCode:n}){return e.jsx(Y,{title:"Resource",onRefresh:t,openCode:n})}const xm="RESOURCETYPELIST_CODE_MODAL";class GK extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={resourceTypeListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Resource",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{ys.listResource().then(s=>this.setState({resourceTypeListDocument:s.data}))}catch{n({messageContent:"Error Loading Resource Types",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o}=this.props,{resourceTypeListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(VK,{openCode:()=>o({modalName:xm}),onRefresh:this.onRefresh}),r&&e.jsx(UK,{resourceTypeListDocument:r}),e.jsx(ut,{isOpen:n===xm,toggleDialogue:s,code:r,title:"ResourceTypeListDocument"})]})}}function qK(t,n){const{resourceType:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,resourceType:s}}const HK={openSnackBar:Le,closeModal:st,openModal:ot},BK=Ce(qK,HK)(GK);function zK({scheduledRequestType:t,openSnackBar:n}){const{id:s,request:o={},response:r={}}=t,{contentType:i}=r,[a,l]=T.useState(),d=()=>{r.hasBody&&gr.getScheduledRequestResponse({requestId:s}).then(({data:u})=>l(u)).catch(()=>{n({messageContent:"Error Loading Request Response",messageColor:"secondary"})})};return T.useEffect(d,[n,s,r.hasBody]),e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"URI",value:o.uri,hover:!0}),e.jsx(h,{title:"Method",value:o.method,hover:!0}),e.jsx(h,{title:"Request Body",value:o.body,variant:"code",hover:!0,hideNoValue:!0}),r.statusCode&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Response Status",value:r.statusCode,hover:!0}),e.jsx(h,{title:"Response Content-Type",value:r.contentType,hover:!0}),a&&e.jsx(h,{title:"Response Body",value:i==="application/json"?JSON.stringify(a):a,variant:i,hover:!0,hideNoValue:!0})]})]})}function JK({open:t,onClose:n,scheduledRequestType:s,openSnackBar:o}){if(!s)return null;const{id:r}=s;return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Scheduled Request ${r}`}),e.jsx(X,{children:e.jsx(zK,{scheduledRequestType:s,openSnackBar:o})}),e.jsx(W,{children:e.jsx(f,{onClick:n,color:"primary",children:"Close"})})]})}const KK=v(JK);function YK({open:t,onClose:n,openSnackBar:s,onSuccess:o,scheduledRequestType:r}){if(!r)return null;const{id:i}=r,a=()=>{gr.removeScheduledRequest({requestId:i}).then(()=>{s({messageContent:"Scheduled Request Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing Scheduled Request",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Scheduled Request ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const QK=v(YK);function XK({scheduledRequestType:t={},onOpen:n,onRemove:s}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:t.id}),e.jsx(P,{children:t.user}),e.jsx(P,{children:t.state}),e.jsx(P,{children:t.created?qe(t.created).toString():""}),e.jsx(P,{children:t.date?qe(t.date).toString():""}),e.jsx(P,{children:t.executed?qe(t.executed).toString():""}),e.jsxs(P,{disableOnClick:!0,children:[e.jsx(ee,{onClick:()=>n({scheduledRequestType:t}),children:e.jsx(fC,{})}),e.jsx(ee,{onClick:()=>s({scheduledRequestType:t}),children:e.jsx(jt,{})})]})]})}const jm="SCHEDULEDREQUEST_REMOVE_DIALOG",fm="SCHEDULEDREQUEST_DETAIL_DIALOG";function ZK({scheduledRequestListDocument:t,onSuccess:n,dialogProps:s,onOpen:o}){const{scheduledRequest:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"ID"}),e.jsx(P,{children:"User"}),e.jsx(P,{children:"State"}),e.jsx(P,{children:"Created"}),e.jsx(P,{children:"Date"}),e.jsx(P,{children:"Executed"}),e.jsx(P,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(XK,{scheduledRequestType:i,onOpen:o(fm),onRemove:o(jm)},i.id))})]}),e.jsx(KK,{...s,dialogName:fm}),e.jsx(QK,{...s,dialogName:jm,onSuccess:n})]})}const eY=Ze(ZK),tY=({...t})=>e.jsx($,{children:e.jsx(V,{children:e.jsx(eY,{...t})})});function nY(t){const{queryParams:n}=t;return gr.listScheduledRequest({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}const sY=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsxs(c,{name:"state",component:K,children:[e.jsx(b,{value:"WAITING",children:"Waiting"}),e.jsx(b,{value:"SUCCESS",children:"Success"}),e.jsx(b,{value:"CONNECTION_FAILURE",children:"Connection Failure"}),e.jsx(b,{value:"BAD_REQUEST",children:"Bad Request"})]})]});function oY({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:sY}),e.jsx("button",{type:"submit",hidden:!0})]})}const rY=F()(oY);function iY({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i}){const a=(d,u,p)=>{n&&n(d,u,p)},l=()=>{s({messageContent:"Error Listing Scheduled Requests",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(rY,{form:i,onSubmit:nY,onSubmitSuccess:a,onSubmitFail:l,onCancel:t})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Filter"})]})]})}const aY=I(v,M)(iY),lY=({...t})=>e.jsx($,{children:e.jsx(V,{children:e.jsx(aY,{...t})})});function cY({open:t,onClose:n,openSnackBar:s,onSuccess:o}){const r=()=>{gr.removeAllScheduledRequest().then(()=>{s({messageContent:"All Scheduled Requests Removed"}),n(),o&&o()}).catch(()=>{s({messageContent:"Error Removing All Scheduled Requests",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove All Scheduled Requests"}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:r,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const dY=v(cY),uY=t=>e.jsx(Y,{title:"Scheduled Requests",helpTo:"/ref/scheduled-requests.html",...t}),gm="SCHEDULED_FILTER_FORM",bm="SCHEDULED_REMOVEALL",mY=M(({submitForm:t})=>{document.title="VidiCore Admin | Scheduled Requests";const n=()=>{t(gm)},[s,o]=T.useState(),r=({data:i})=>o(i);return T.useEffect(n,[t]),e.jsxs(e.Fragment,{children:[e.jsx(uY,{code:s,codeModal:"ScheduledRequestListDocument",onRefresh:n,removeModal:bm}),e.jsx(lY,{form:gm,onSuccess:r}),s&&e.jsx(tY,{scheduledRequestListDocument:s,onSuccess:n}),e.jsx(dY,{dialogName:bm,onSuccess:n})]})}),hY="SEARCH_FORM";function pY({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=hY,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Search Document"})}),e.jsx(V,{children:e.jsx(za,{form:d,onSubmit:af,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const xY=I(H,M,vt)(pY);function Ii({orderBy:t,orderDirection:n,onChangeOrder:s,name:o}){return s?e.jsx(A,{children:e.jsx(Mt,{active:t===o,direction:n||void 0,onClick:s(o),children:le(o)})}):e.jsx(A,{children:le(o)})}function jY({searchResultEntryType:t,terse:n,fieldList:s}){const o=e.jsx(A,{children:t.type}),r=Object.keys(t);if(r.includes("item")){const{item:i={}}=t;return e.jsx(sg,{itemType:i,terse:n,fieldList:s,children:o})}if(r.includes("collection")){const{collection:i={}}=t;return e.jsx(uj,{collectionType:i,terse:n,fieldList:s,withName:!1,children:o})}return e.jsx(me,{children:o})}function fY({searchResultDocument:t,queryParams:n,onChangePage:s,onChangeRowsPerPage:o,rowsPerPageOptions:r,onChangeOrder:i,orderDirection:a,orderBy:l,page:d,rowsPerPage:u}){if(t===void 0)return null;const{entry:p=[],hits:x=0}=t,{terse:j,field:g=[]}=n;let y=g;return Array.isArray(g)||(y=g.split(",")),e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(Ii,{name:"type"}),e.jsx(Ii,{name:"id"}),j&&y.map(D=>e.jsx(Ii,{name:D,onChangeOrder:i,orderBy:l,orderDirection:a},D))]})}),e.jsx(de,{children:p.map(D=>e.jsx(jY,{searchResultEntryType:D,terse:j,fieldList:y},D.id))}),s&&o&&e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:x,page:d,rowsPerPage:u,onPageChange:s,onRowsPerPageChange:o,ActionsComponent:Lt,rowsPerPageOptions:r})})})]})}const gY=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"storage",label:"Storage",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(c,{name:"storageGroup",label:"Storage Group",component:z,loadOptions:bo,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(R,{control:e.jsx(c,{name:"save",component:E}),label:"Save"})]});function bY({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:gY}),e.jsx(S,{name:"queryParams",component:Io}),e.jsx("button",{type:"submit",hidden:!0})]})}const CY=F()(bY),yY="SEARCH_PARAMS_FORM";function SY({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=yY,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Search Params"})}),e.jsx(Ie,{children:e.jsx(CY,{form:d,onSubmit:af,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const RY=I(H,M,vt)(SY),Wo="SEARCH_FORM",TY=I(Et,Bn)(fY);class EY extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:d}},this.state={searchResultDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Search",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Wo)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({searchResultDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{searchResultDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Search",helpTo:"/ref/search.html",onRefresh:this.onRefresh,code:n,codeModal:"SearchResultDocument"}),e.jsxs(O,{container:!0,spacing:1,children:[e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(xY,{form:Wo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(RY,{form:Wo,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),e.jsx(TY,{searchResultDocument:n,queryParams:s,form:Wo})]})}}const IY=I(M)(EY),vY=["username","password","private_key","private_key_password"],AY=()=>({Button:{visibility:"hidden"},TableRow:{"&:hover $Button":{visibility:"visible"}}});function FY({classes:t,alias:n,secretDocument:s,onUpdate:o,onRemove:r}){const i=(s==null?void 0:s.key)||[];return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Be,{children:[e.jsx(A,{children:"Key"}),e.jsx(A,{children:"Value"}),e.jsx(A,{})]})}),e.jsx(de,{children:vY.map(a=>e.jsxs(Be,{hover:!0,className:t.TableRow,children:[e.jsx(A,{children:a}),e.jsx(A,{children:i.includes(a)?e.jsx(Ct,{}):null}),e.jsx(A,{children:e.jsx(W,{children:i.includes(a)?e.jsxs(e.Fragment,{children:[r?e.jsx(f,{variant:"text",onClick:()=>r({alias:n,secretKey:a}),color:"secondary",className:t.Button,children:"Remove"}):null,o?e.jsx(f,{onClick:()=>o({alias:n,secretKey:a}),color:"primary",variant:"contained",className:t.Button,children:"Update"}):null]}):e.jsx(f,{onClick:()=>o({alias:n,secretKey:a}),color:"primary",variant:"contained",className:t.Button,children:"Add"})})})]},a))})]})}const MY=xe(AY)(FY);function DY(t){return e.jsx($,{children:e.jsx(MY,{...t})})}function PY({open:t,alias:n,onClose:s,openSnackBar:o,onSuccess:r,onError:i}){const a=async()=>{try{await Ss.deleteSecret({alias:n});const l=`Secret ${n} Removed`;o&&o({messageContent:l}),s&&s(),r&&r()}catch(l){o&&o({messageContent:"Error Removing Secret",messageColor:"secondary"}),i&&i(l)}};return e.jsxs(_,{open:t,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Secret "${n}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:s,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const OY=v(PY);function LY({open:t,alias:n,secretKey:s,onClose:o,openSnackBar:r,onSuccess:i,onError:a}){const l=async()=>{try{await Ss.deleteSecretValue({alias:n,key:s});const d=`Secret Value ${s} Removed`;r&&r({messageContent:d}),o&&o(),i&&i()}catch(d){r&&r({messageContent:"Error Removing Secret Value",messageColor:"secondary"}),a&&a(d)}};return e.jsxs(_,{open:t,onClose:o,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Secret Value "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:o,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:l,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const NY=v(LY),_Y=he((t,n,s)=>{const{alias:o,secretDocument:r}=t,{alias:i=o}=s;return Ss.createSecret({alias:i,secretDocument:r})}),$Y=he((t,n,s)=>{const{alias:o,key:r,value:i}=t,{alias:a=o,key:l=r}=s;return Ss.updateSecretValue({alias:a,key:l,value:i})});function WY({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"alias",label:"Alias",component:at,fullWidth:!0}),e.jsx(c,{name:"key",label:"Key",component:at,fullWidth:!0}),e.jsx(c,{name:"value",label:"Value",component:m,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const kY=F()(WY),wY="SECRET_VALUE_UPDATE_FORM";function UY({alias:t,secretKey:n,open:s,onClose:o,onSuccess:r,onFail:i,openSnackBar:a,submitForm:l,form:d=wY}){const u=(x,j,g)=>{a({messageContent:"Secret Value Updated"}),r&&r(x,j,g),o()},p=(x,j,g)=>{a({messageContent:"Error Creating Secret",messageColor:"secondary"}),i&&i(x,j,g)};return e.jsxs(_,{open:s,onClose:o,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Create/Update Secret Value"}),e.jsx(X,{children:e.jsx(kY,{form:d,onSubmit:$Y,onSubmitSuccess:u,onSubmitFail:p,onCancel:o,initialValues:{key:n,alias:t}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{color:"secondary",onClick:o,children:"Close"}),e.jsx(f,{variant:"contained",color:"primary",onClick:()=>l(d),children:"Update"})]})]})}const VY=I(v,M)(UY),vi="SECRET_REMOVE_DIALOG",Cm="SECRET_VALUE_REMOVE_DIALOG",ym="SECRET_VALUE_UPDATE_DIALOG";class GY extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={secretDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({alias:n}){const{alias:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Secret | ${n}`)}onRefresh(){const{alias:n}=this.props;this.onFetch(n)}async onFetch(n){try{const{data:s}=await Ss.getSecret({alias:n});this.setState({secretDocument:s})}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Secret",messageColor:"secondary"})}render(){const{alias:n,history:s,onOpen:o,dialogProps:r}=this.props,i=r==null?void 0:r.secretKey,{secretDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{code:a,codeModal:"SecretDocument",helpTo:"/ref/secret.html",onRefresh:this.onRefresh,removeModal:vi,breadcrumbList:[{title:"Secret",to:ie.secretList()},{title:n}],actionComponent:e.jsx(Qf,{menuItems:[{label:"Delete Secret",color:"secondary",modalName:vi}]}),addAccessControl:null,entityId:null}),a&&e.jsx(DY,{secretDocument:a,onRefresh:this.onRefresh,alias:n,onRemove:o(Cm),onUpdate:o(ym)}),e.jsx(OY,{dialogName:vi,onSuccess:()=>s.push(ie.secretList()),alias:n}),e.jsx(VY,{dialogName:ym,onSuccess:this.onRefresh,alias:n,secretKey:i}),e.jsx(NY,{dialogName:Cm,onSuccess:this.onRefresh,alias:n,secretKey:i})]})}}const qY=I(Ze,We,H)(GY);function HY({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"alias",label:"Alias",component:m,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const BY=F()(HY),zY="SECRET_CREATE_FORM";function JY({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,form:a=zY}){const l=(u,p,x)=>{r({messageContent:"Secret Created"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Creating Secret",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Create Secret"}),e.jsx(X,{children:e.jsx(BY,{form:a,onSubmit:_Y,onSubmitSuccess:l,onSubmitFail:d,onCancel:n})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{variant:"contained",color:"primary",onClick:()=>i(a),children:"Create"})]})]})}const KY=I(v,M)(JY);function YY({secretListDocument:t}){const n=(t==null?void 0:t.secret)||[];return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsx(Be,{children:e.jsx(A,{children:"Alias"})})}),e.jsx(de,{children:n.map(s=>e.jsx(Be,{to:ie.secret({alias:s.alias}),hover:!0,children:e.jsx(A,{children:s.alias})},s.alias))})]})}function QY({title:t,secretListDocument:n,...s}){return n===void 0?null:e.jsxs($,{children:[t&&e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:t})}),e.jsx(V,{children:e.jsx(YY,{secretListDocument:n,...s})})]})}const Sm="SECRET_CREATE_MODAL";class XY extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={secretListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Secrets",this.onRefresh()}async onRefresh(){const{openSnackBar:n}=this.props;try{const{data:s}=await Ss.listSecret();this.setState({secretListDocument:s})}catch{n({messageContent:"Error Loading Secret List",messageColor:"secondary"})}}render(){const{history:n}=this.props,{secretListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Secret",helpTo:"/ref/secret.html",onRefresh:this.onRefresh,code:s,codeModal:"SecretListDocument",createModal:Sm}),s&&e.jsx(QY,{secretListDocument:s}),e.jsx(KY,{dialogName:Sm,onSuccess:({data:{alias:o}})=>n.push(ie.secret({alias:o}))})]})}}const ZY=I(M,H)(XY);function yg({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"description",value:t.description,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"took",value:t.took,hover:!0,hideNoValue:!0}),e.jsx(Yt,{title:"message",value:t.message,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"test",value:t.test,component:yg,titleKey:"name",hideNoValue:!0})]})}function eQ({selfTestDocument:t}){return e.jsx(w,{component:yg,value:t})}function sl({selfTestDocument:t={},loading:n=!1,...s}){if(n===!0)return e.jsx(Ue,{avatar:e.jsx(Jo,{}),label:"Loading",...s});const{status:o,took:r}=t;return o==="ok"?e.jsx(Ue,{avatar:e.jsx(qt,{}),label:`Online${r?` (${r})`:""}`,...s}):o==="warning"?e.jsx(Ue,{avatar:e.jsx(fs,{}),label:`Warning${r?` (${r})`:""}`,...s}):e.jsx(Ue,{avatar:e.jsx(_t,{}),label:`Failed${r?` (${r})`:""}`,...s})}function tQ(t){return e.jsxs($,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:le(t==null?void 0:t.selfTestDocument.name)}),action:e.jsx(sl,{selfTestDocument:t==null?void 0:t.selfTestDocument})}),e.jsx(V,{children:e.jsx(eQ,{...t})})]})}function nQ({selfTestDocument:t}){const{test:n=[]}=t;return n.map(s=>e.jsx(tQ,{selfTestDocument:s},s.name))}function sQ(t){return e.jsx(Y,{title:"Self Test",helpTo:"/ref/self-test.html",iconList:e.jsx(sl,{selfTestDocument:t==null?void 0:t.code}),...t})}class oQ extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={selfTestDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Self Test"}onRefresh(){try{Pp.listSelfTest().then(n=>this.setState({selfTestDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Getting Self Test",messageColor:"secondary"})}render(){const{selfTestDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(sQ,{onRefresh:this.onRefresh,code:n,codeModal:"SelfTestDocument"}),n&&e.jsx(nQ,{selfTestDocument:n})]})}}const rQ=H(oQ);function iQ({open:t,onClose:n,openSnackBar:s,serviceName:o,onSuccess:r}){const i=()=>{br.disableService({serviceName:o}).then(()=>{const a=`Service ${o} Disabled`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Disabling Service",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Disable Service "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Disable"})]})]})}const aQ=v(iQ);function lQ({open:t,onClose:n,openSnackBar:s,serviceName:o,onSuccess:r}){const i=()=>{br.enableService({serviceName:o}).then(()=>{const a=`Service ${o} Enabled`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Enabling Service",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Enable Service "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"secondary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"primary",autoFocus:!0,children:"Enable"})]})]})}const cQ=v(lQ);function dQ({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"class",value:t.class,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"arguments",value:t.arguments,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"isEnabled",value:t.isEnabled,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"isRunning",value:t.isRunning,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"exception",value:t.exception,variant:"code",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"exceptionTimestamp",value:t.exceptionTimestamp,variant:"timestamp",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"thread",value:t.thread,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"threadStatus",value:t.threadStatus,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"load5",value:t.load5,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"load60",value:t.load60,hover:!0,hideNoValue:!0})]})}function uQ({vidispineServiceDocument:t}){return e.jsx(w,{component:dQ,value:t})}function mQ({vidispineServiceDocument:t,classes:n,onDisable:s,onEnable:o}){return e.jsxs($,{className:n.onHover,children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:le(t.name)}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:t.isEnabled?e.jsx(f,{onClick:()=>s({serviceName:t.name}),color:"secondary",children:"Disable"}):e.jsx(f,{onClick:()=>o({serviceName:t.name}),color:"primary",children:"Enable"})})})}),e.jsx(V,{children:e.jsx(uQ,{vidispineServiceDocument:t})})]})}const hQ=t=>({onHover:{"&:hover":{backgroundColor:t.palette.action.hover}}}),pQ=xe(hQ)(mQ),Rm="ENABLE_SERVICE_DIALOG",Tm="DISABLE_SERVICE_DIALOG";function xQ({vidispineServiceListDocument:t,onRefresh:n,dialogProps:s,onOpen:o}){const{service:r=[]}=t;return e.jsxs(e.Fragment,{children:[r.map(i=>e.jsx(pQ,{vidispineServiceDocument:i,onEnable:o(Rm),onDisable:o(Tm)},i.name)),e.jsx(cQ,{...s,dialogName:Rm,onSuccess:n}),e.jsx(aQ,{...s,dialogName:Tm,onSuccess:n})]})}const jQ=Ze(xQ),fQ=({vidispineServiceListDocument:t})=>{if(t===void 0)return null;const{service:n=[]}=t,s=n.filter(o=>o.isRunning!==!0);return s.length===0?e.jsx(Ue,{avatar:e.jsx(qt,{}),label:"All Services Running"}):e.jsx(Ue,{avatar:e.jsx(_t,{}),label:`${s.length} ${s.length===1?"Service":"Services"} Not Running`})};function gQ(t){const n=fQ({vidispineServiceListDocument:t==null?void 0:t.code});return e.jsx(Y,{title:"Service",helpTo:"/ref/vidispine-service.html",iconList:n,...t})}let bQ=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={vidispineServiceListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Service"}onRefresh(){const{openSnackBar:n}=this.props;try{br.getServiceList().then(s=>this.setState({vidispineServiceListDocument:s.data}))}catch{n({messageContent:"Error Loading Service List",messageColor:"secondary"})}}render(){const{vidispineServiceListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(gQ,{onRefresh:this.onRefresh,code:n,codeModal:"VidispineServiceListDocument"}),n&&e.jsx(jQ,{onRefresh:this.onRefresh,vidispineServiceListDocument:n})]})}};const CQ=H(bQ),Xe=t=>{let n=t.message;throw t.response&&(n=JSON.stringify(t.response.data,(s,o)=>o===null?void 0:o)),new q({_error:n})};function yQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Xt.createComponent({itemId:r,shapeId:i,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function SQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId;return Xt.createComponentPlaceholder({itemId:r,shapeId:i,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function RQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId;return Xt.removeComponent({itemId:r,shapeId:i,componentId:a,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function TQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,d=s.targetShapeId||t.targetShapeId,u=s.targetComponentId||t.targetComponentId;return Xt.copyComponent({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:d,targetComponentId:u,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function EQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,d=s.targetShapeId||t.targetShapeId,u=s.targetComponentId||t.targetComponentId;return Xt.moveComponent({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:d,targetComponentId:u,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function IQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,d=s.targetShapeId||t.targetShapeId;return Xt.moveComponentToShape({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:d,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function vQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.targetItemId||t.targetItemId,d=s.targetShapeId||t.targetShapeId;return Xt.copyComponentToShape({itemId:r,shapeId:i,componentId:a,targetItemId:l,targetShapeId:d,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function AQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.fileId||t.fileId;return Xt.addComponentFile({itemId:r,shapeId:i,componentId:a,fileId:l,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function FQ(t,n,s){try{const{queryParams:o}=t,r=s.itemId||t.itemId,i=s.shapeId||t.shapeId,a=s.componentId||t.componentId,l=s.fileId||t.fileId;return Xt.removeComponentFile({itemId:r,shapeId:i,componentId:a,fileId:l,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}function MQ(t,n,s){try{const{queryParams:o,analyzeJobDocument:r}=t,i=s.itemId||t.itemId,a=s.shapeId||t.shapeId,l=s.componentId||t.componentId;return Xt.createComponentAnalyze({itemId:i,shapeId:a,componentId:l,analyzeJobDocument:r,queryParams:o}).catch(Xe)}catch(o){return Xe(o)}}const DQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"fileId",label:"File ID",component:m,fullWidth:!0}),e.jsx(c,{name:"uri",label:"URI",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function PQ({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:DQ}),e.jsx("button",{type:"submit",hidden:!0})]})}const OQ=F()(PQ),Em="SHAPE_ADD_COMPONENT_FORM";function LQ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const d=(p,x,j)=>{r({messageContent:"Add Component Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Add Component Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Import Component To Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(OQ,{form:Em,onSubmit:yQ,onSubmitSuccess:d,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Em),children:"Start"})]})]})}const NQ=I(v,M)(LQ);function _Q({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"mimeType",component:m,validate:[Q],fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const $Q=F()(_Q),WQ="SHAPE_ADD_MIMETYPE_FORM";function kQ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:d=WQ}){const u=(x,j,g)=>{r({messageContent:"Mime-Type Added"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Adding Mime-Type",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Mime-Type"}),e.jsx(X,{style:{minHeight:200},children:e.jsx($Q,{form:d,onSubmit:dV,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(d),children:"Add"})]})]})}const wQ=I(v,M)(kQ);function UQ({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"tagName",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const Sg=F()(UQ),Im="SHAPE_ADD_TAG_FORM";function VQ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const d=(p,x,j)=>{r({messageContent:"Shape Tag Added"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Adding Shape Tag",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Shape Tags"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(Sg,{form:Im,onSubmit:cV,onSubmitSuccess:d,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Im),children:"Add"})]})]})}const GQ=I(v,M)(VQ),qQ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"resourceId",label:"Resource ID",component:m,fullWidth:!0}),e.jsx(c,{name:"storageId",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"callbackId",component:m,fullWidth:!0}),e.jsx(c,{name:"preset",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function HQ({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:qQ}),e.jsx(S,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:tl}),e.jsx("button",{type:"submit",hidden:!0})]})}const BQ=F()(HQ),zQ="SHAPE_ANALYZE_FORM";function JQ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:d=zQ}){const u=(x,j,g)=>{r({messageContent:"Analyze Job Created"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Start Shape Analyze Job"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(BQ,{form:d,onSubmit:pV,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l,initialValues:{}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(d),children:"Start"})]})]})}const KQ=I(v,M)(JQ),YQ=["container","audio","video","binary"],QQ=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(L,{name:"type",component:K,children:YQ.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(L,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0})]});function XQ({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),s===void 0?e.jsx(L,{name:"itemId",label:"Item ID",component:m,validate:[Q],required:!0,fullWidth:!0}):null,o===void 0?e.jsx(L,{name:"shapeId",label:"Shape ID",component:m,validate:[Q],required:!0,fullWidth:!0}):null,e.jsx(S,{name:"queryParams",component:QQ}),e.jsx("button",{type:"submit",hidden:!0})]})}const ZQ=F()(XQ),eX="SHAPE_CREATECOMPONENTPLACEHOLDER_FORM";function tX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:d=eX}){const u=(x,j,g)=>{r({messageContent:"Component Placeholder Created"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Creating Placeholder Component",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Create Component Placeholder"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(ZQ,{form:d,onSubmit:SQ,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(d),children:"Create"})]})]})}const nX=I(v,M)(tX),sX=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"extractCc",children:"Extract closed captions as metadata"}),e.jsxs(c,{name:"extractCc",component:K,children:[e.jsx(b,{value:"true",children:"true"}),e.jsx(b,{value:"mcc",children:"mcc"})]})]})," ",e.jsx(R,{control:e.jsx(c,{name:"ccFromVideo",component:E}),label:"Extract closed captions from video tracks as well as data tracks"}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});function oX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:sX}),e.jsx("button",{type:"submit",hidden:!0})]})}const rX=F()(oX),iX="SHAPE_DEDUCTION_FORM";function aX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:d=iX}){const u=(x,j,g)=>{r({messageContent:"Shape Deduction Job Created"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Creating Shape Deduction Job",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Start Shape Deduction"}),e.jsx(X,{children:e.jsx(rX,{form:d,onSubmit:lV,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(d),children:"Start"})]})]})}const lX=I(v,M)(aX),cX=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"keepFiles",component:E}),label:"keepFiles"}),e.jsx(R,{control:e.jsx(c,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function dX({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:cX}),e.jsx("button",{type:"submit",hidden:!0})]})}const uX=F()(dX),vm="SHAPE_DELETE_FORM";function mX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const d=(p,x,j)=>{r({messageContent:"Shape Deleted"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Deleting Shape",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete Shape ${l}`}),e.jsx(Ne,{children:e.jsx(uX,{form:vm,onSubmit:rV,onSubmitSuccess:d,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(vm),children:"Delete"})]})]})}const hX=I(v,M)(mX),pX=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0}),e.jsx(c,{name:"locationName",label:"Export Location",component:z,loadOptions:vs,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(c,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(c,{name:"track",component:m,fullWidth:!0})]});function xX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:pX}),e.jsx("button",{type:"submit",hidden:!0})]})}const jX=F()(xX),fX="SHAPE_EXPORT_FORM";function gX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:d=fX}){const u=(x,j,g)=>{r({messageContent:"Export Started"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Export Shape"}),e.jsx(X,{children:e.jsx(jX,{form:d,onSubmit:xV,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(d),children:"Start"})]})]})}const bX=I(v,M)(gX),CX=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",component:m,fullWidth:!0}),e.jsx(c,{name:"locationName",label:"Export Location",component:z,loadOptions:vs,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(R,{control:e.jsx(c,{name:"metadata",component:E}),label:"Metadata Sidecar"}),e.jsx(c,{name:"projection",label:"Projection",component:z,loadOptions:On,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalFilename",component:E}),label:"Use Original Filename"}),e.jsx(R,{control:e.jsx(c,{name:"useOriginalComponentFilename",component:E}),label:"Use Original Component Filename"}),e.jsx(c,{name:"start",label:"Start Timecode",component:m,fullWidth:!0}),e.jsx(c,{name:"end",label:"End Timecode",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"allowMissing",component:E}),label:"Allow Missing"}),e.jsx(c,{name:"track",component:m,fullWidth:!0}),e.jsx(c,{name:"cplTrack",label:"CPL Track",component:m,fullWidth:!0})]});function yX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:CX}),e.jsx("button",{type:"submit",hidden:!0})]})}const SX=F()(yX),RX="SHAPE_EXPORTIMP_FORM";function TX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:d=RX}){const u=(x,j,g)=>{r({messageContent:"Export Started"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Export Shape IMF Package"}),e.jsx(X,{children:e.jsx(SX,{form:d,onSubmit:jV,onSubmitSuccess:u,onSubmitFail:p,onCancel:n,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(d),children:"Start"})]})]})}const EX=I(v,M)(TX),IX=()=>e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"container",label:"Container",component:m,type:"number",fullWidth:!0,helperText:"Total Container Files"}),e.jsx(L,{name:"video",label:"Video",component:m,type:"number",helperText:"Total Video Files",fullWidth:!0}),e.jsx(L,{name:"audio",label:"Audio",component:m,helperText:"Total Audio Files",type:"number",fullWidth:!0}),e.jsx(L,{name:"binary",label:"Binary",component:m,type:"number",fullWidth:!0,helperText:"Total Binary Files"}),e.jsx(L,{name:"tag",label:"Shape Tag",component:z,loadOptions:De,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),e.jsx(L,{name:"frameDuration",label:"Frame Duration",component:m,type:"number",fullWidth:!0})]});function vX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),s===void 0?e.jsx(L,{name:"itemId",label:"Item ID",component:m,validate:[Q],required:!0,fullWidth:!0}):null,o===void 0?e.jsx(L,{name:"shapeId",label:"Shape ID",component:m,validate:[Q],required:!0,fullWidth:!0}):null,e.jsx(S,{name:"queryParams",component:IX}),e.jsx("button",{type:"submit",hidden:!0})]})}const AX=F()(vX),Am="SHAPE_PLACEHOLDERUPDATE_FORM";function FX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const d=(p,x,j)=>{r({messageContent:"Placeholder Shape Updated"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Updating Placeholder Shape",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Update Placeholder Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(AX,{form:Am,onSubmit:uV,onSubmitSuccess:d,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Am),children:"Update"})]})]})}const MX=I(v,M)(FX);function DX({error:t,handleSubmit:n,itemId:s,shapeId:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"mimeType",component:m,validate:[Q],fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const PX=F()(DX),OX="SHAPE_REMOVE_MIMETYPE_FORM";function LX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,form:d=OX}){const u=(x,j,g)=>{r({messageContent:"Mime-Type Removed"}),s&&s(x,j,g),n()},p=(x,j,g)=>{r({messageContent:"Error Removing Mime-Type",messageColor:"secondary"}),o&&o(x,j,g)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove Mime-Type"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(PX,{form:d,onSubmit:hV,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(d),children:"Remove"})]})]})}const NX=I(v,M)(LX),Fm="SHAPE_REMOVE_TAG_FORM";function _X({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const d=(p,x,j)=>{r({messageContent:"Shape Tag Removed"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Removing Shape Tag",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Remove Shape Tags"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(Sg,{form:Fm,onSubmit:mV,onSubmitSuccess:d,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Fm),children:"Remove"})]})]})}const $X=I(v,M)(_X),Mm="EDIT_SHAPE_TRANSCODE_FORM";function WX({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l}){const d=(p,x,j)=>{r({messageContent:"Transcode Job Created"}),s&&s(p,x,j),n()},u=(p,x,j)=>{r({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),o&&o(p,x,j)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Start Transcode"}),e.jsx(X,{children:e.jsx(_f,{form:Mm,onSubmit:aV,onSubmitSuccess:d,onSubmitFail:u,itemId:a,shapeId:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(Mm),children:"Start"})]})]})}const kX=I(v,M)(WX),Dm="BULKYMETADATA_SHAPE_DOWNLOAD_DIALOG";class wX extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s,bulkyMetadataKey:o}){const{shapeId:r,bulkyMetadataKey:i}=this.props;(r!==n||i!==o)&&(this.onFetch(s,n,o),document.title=`VidiCore Admin | Shape | ${n}`)}onRefresh(){const{itemId:n,shapeId:s,bulkyMetadataKey:o}=this.props;this.onFetch(n,s,o)}onFetch(n,s,o){try{xn.getShapeBulkyMetadata({itemId:n,shapeId:s,key:o}).then(r=>this.setState({bulkyMetadataDocument:r.data})).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,bulkyMetadataKey:o,itemId:r,shapeId:i}=this.props,{bulkyMetadataDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:Se("/item/:itemId/shape/:shapeId/bulky-metadata/",{itemId:r,shapeId:i})},o],downloadModal:Dm}),s&&e.jsx(s,{}),a&&e.jsx(Ja,{bulkyMetadataDocument:a}),e.jsx(Ya,{dialogName:Dm,itemId:r,shapeId:i,bulkyMetadataKey:o})]})}}const UX=I(We,H)(wX);class VX extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n}`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{xn.listShapeBulkyMetadata({itemId:n,shapeId:s}).then(o=>this.setState({uriListDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:n,tabComponent:s,itemId:o,shapeId:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:i,codeModal:"URIListDocument",onRefresh:this.onRefresh,breadcrumbList:["Bulky Metadata"]}),s&&e.jsx(s,{}),i&&e.jsx(Ut,{uriListDocument:i,linkTo:a=>`/item/${o}/shape/${r}/bulky-metadata/${a}/`})]})}}const GX=H(VX);class qX extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={cpl:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n} | CPL`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{Ve.getShapeCpl({itemId:n,shapeId:s}).then(o=>{this.setState({cpl:o.data})}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:n}=this.props,{cpl:s}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["CPL"]}),s&&e.jsx(Es,{value:pn(s)||"",options:{readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}})]})}}const HX=H(qX),BX=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"methodType",component:m,fullWidth:!0}),e.jsx(c,{name:"storageType",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsx(k,{name:"methodMetadata",label:"Method Metadata",component:ne}),e.jsx(R,{control:e.jsx(c,{name:"includeItem",component:E}),label:"Include Item"}),e.jsx(R,{control:e.jsx(c,{name:"closedFiles",component:E}),label:"Closed Files"})]});function zX({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:BX}),e.jsx("button",{type:"submit",hidden:!0})]})}const JX=F()(zX);function KX({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="SHAPE_FILE_PARAMS_FORM",initialValues:a={},itemId:l,shapeId:d}){const u=(x,j,g)=>{n&&n(x,j,g)},p=()=>{s({messageContent:"Error Requesting File",messageColor:"secondary"})};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"File Params"})}),e.jsx(Ie,{children:e.jsx(JX,{form:i,onSubmit:oV,onSubmitSuccess:u,onSubmitFail:p,onCancel:t,destroyOnUnmount:!1,initialValues:a,itemId:l,shapeId:d})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const YX=I(v,M)(KX),QX=Et(el);class XX extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={fileListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n} | File`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{Ve.getShape({itemId:n,shapeId:s,path:`/API/item/${n}/shape/${s}/file`}).then(o=>{const r=o.data;this.setState({fileListDocument:r})}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({fileListDocument:s})}render(){const{titleComponent:n,itemId:s,shapeId:o}=this.props,{fileListDocument:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["Files"],code:r,codeModal:"FileListDocument"}),e.jsx(YX,{shapeId:o,itemId:s,onSuccess:this.onSuccess}),r&&e.jsx(QX,{fileListDocument:r})]})}}const ZX=H(XX);class eZ extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n} | Graph`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){const{useGraphViz:o=!0}=this.props;try{o?Ve.getShapeGraphDot({itemId:n,shapeId:s}).then(r=>{this.setState({graphDot:r.data})}).catch(r=>this.onRefreshError(r)):Ve.getShapeGraph({itemId:n,shapeId:s,responseType:"blob"}).then(r=>{this.setState({graphImage:r.data})}).catch(r=>this.onRefreshError(r))}catch(r){this.onRefreshError(r)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:n,useGraphViz:s=!0}=this.props,{graphImage:o,graphDot:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["Graph"],code:r,codeModal:"DOT",codeVariant:"text"}),s===!1&&o?e.jsx("img",{alt:"graph",src:URL.createObjectURL(o),style:{width:"100%"}}):null,s===!0&&r?e.jsx(Tr,{dot:r,width:"100%",height:"80vh"}):null]})}}const tZ=H(eZ),nZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"resourceId",label:"Transcoder ID",component:m,fullWidth:!0}),e.jsx(c,{name:"storageId",component:z,loadOptions:Ke,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),e.jsx(c,{name:"callbackId",component:m,fullWidth:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function sZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:nZ}),e.jsx(S,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:tl}),e.jsx("button",{type:"submit",hidden:!0})]})}const oZ=F()(sZ),rZ="SHAPE_COMPONENT_ANALYZE_FORM";function iZ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,form:u=rZ}){const p=(j,g,y)=>{r({messageContent:"Analyze Job Created"}),s&&s(j,g,y),n()},x=(j,g,y)=>{r({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(j,g,y)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Start Component Analyze Job"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(oZ,{form:u,onSubmit:MQ,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Start"})]})]})}const aZ=I(v,M)(iZ),lZ=()=>e.jsx(R,{control:e.jsx(c,{name:"allowReimport",component:E}),label:"Allow Reimport"});function cZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r,fileId:i}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),!i&&e.jsx(c,{name:"fileId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:lZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const dZ=F()(cZ),uZ="SHAPE_COMPONENT_ASSOCIATEFILE_FORM";function mZ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,fileId:u,form:p=uZ}){const x=(g,y,D)=>{r({messageContent:"File Added"}),s&&s(g,y,D),n()},j=(g,y,D)=>{r({messageContent:"Error Adding Filet",messageColor:"secondary"}),o&&o(g,y,D)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Associate File With Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(dZ,{form:p,onSubmit:AQ,onSubmitSuccess:x,onSubmitFail:j,itemId:a,shapeId:l,componentId:d,fileId:u})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(p),children:"Add File"})]})]})}const hZ=I(v,M)(mZ),pZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function xZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetItemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetShapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetComponentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:pZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const jZ=F()(xZ),fZ="SHAPE_COMPONENT_COPY_FORM";function gZ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,form:u=fZ}){const p=(j,g,y)=>{r({messageContent:"Component Copied"}),s&&s(j,g,y),n()},x=(j,g,y)=>{r({messageContent:"Error Copying Component",messageColor:"secondary"}),o&&o(j,g,y)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Copy Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(jZ,{form:u,onSubmit:TQ,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Copy"})]})]})}const bZ=I(v,M)(gZ),CZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function yZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetItemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetShapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:CZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const SZ=F()(yZ),RZ="SHAPE_COMPONENT_COPY_SHAPE_FORM";function TZ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,form:u=RZ}){const p=(j,g,y)=>{r({messageContent:"Component Copied"}),s&&s(j,g,y),n()},x=(j,g,y)=>{r({messageContent:"Error Copying Component",messageColor:"secondary"}),o&&o(j,g,y)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Copy Component To Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(SZ,{form:u,onSubmit:vQ,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Copy"})]})]})}const EZ=I(v,M)(TZ),IZ=()=>e.jsx(R,{control:e.jsx(c,{name:"keepFiles",component:E}),label:"keepFiles"});function vZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:IZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const AZ=F()(vZ),FZ="SHAPE_COMPONENT_DELETE_FORM";function MZ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,form:u=FZ}){const p=(j,g,y)=>{r({messageContent:"Shape Component"}),s&&s(j,g,y),n()},x=(j,g,y)=>{r({messageContent:"Error Deleting Component",messageColor:"secondary"}),o&&o(j,g,y)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete Component ${d}`}),e.jsx(Ne,{children:e.jsx(AZ,{form:u,onSubmit:RQ,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(u),children:"Delete"})]})]})}const DZ=I(v,M)(MZ),PZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function OZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetItemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetShapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetComponentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:PZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const LZ=F()(OZ),NZ="SHAPE_COMPONENT_MOVE_FORM";function _Z({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,form:u=NZ}){const p=(j,g,y)=>{r({messageContent:"Component Moved"}),s&&s(j,g,y),n()},x=(j,g,y)=>{r({messageContent:"Error Moving Component",messageColor:"secondary"}),o&&o(j,g,y)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Move Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(LZ,{form:u,onSubmit:EQ,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Move"})]})]})}const $Z=I(v,M)(_Z),WZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"index",label:"Track Index",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"updateMetadata",component:E}),label:"updateMetadata"})]});function kZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetItemId",component:m,validate:[Q],fullWidth:!0}),e.jsx(c,{name:"targetShapeId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",label:"queryParams",component:WZ}),e.jsx("button",{type:"submit",hidden:!0})]})}const wZ=F()(kZ),UZ="SHAPE_COMPONENT_MOVE_SHAPE_FORM";function VZ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,form:u=UZ}){const p=(j,g,y)=>{r({messageContent:"Component Moved"}),s&&s(j,g,y),n()},x=(j,g,y)=>{r({messageContent:"Error Moving Component",messageColor:"secondary"}),o&&o(j,g,y)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Move Component To Shape"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(wZ,{form:u,onSubmit:IQ,onSubmitSuccess:p,onSubmitFail:x,itemId:a,shapeId:l,componentId:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>i(u),children:"Move"})]})]})}const GZ=I(v,M)(VZ);function qZ({error:t,handleSubmit:n,itemId:s,shapeId:o,componentId:r,fileId:i}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"itemId",component:m,validate:[Q],fullWidth:!0}),!o&&e.jsx(c,{name:"shapeId",component:m,validate:[Q],fullWidth:!0}),!r&&e.jsx(c,{name:"componentId",component:m,validate:[Q],fullWidth:!0}),!i&&e.jsx(c,{name:"fileId",component:m,validate:[Q],fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const HZ=F()(qZ),BZ="SHAPE_COMPONENT_UNASSOCIATEFILE_FORM";function zZ({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,itemId:a,shapeId:l,componentId:d,fileId:u,form:p=BZ}){const x=(g,y,D)=>{r({messageContent:"File Unassociated"}),s&&s(g,y,D),n()},j=(g,y,D)=>{r({messageContent:"Error Unassociating File",messageColor:"secondary"}),o&&o(g,y,D)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Unassociate File From Component"}),e.jsx(X,{style:{minHeight:200},children:e.jsx(HZ,{form:p,onSubmit:FQ,onSubmitSuccess:x,onSubmitFail:j,itemId:a,shapeId:l,componentId:d,fileId:u})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"primary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(p),children:"Unassociate File"})]})]})}const JZ=I(v,M)(zZ),KZ=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"methodType",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"storageType",children:"StorageType"}),e.jsx(c,{name:"storageType",component:K,children:Nr.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"includePlaceholder",component:E}),label:"Include Placeholder"}),e.jsx(R,{control:e.jsx(c,{name:"transient",component:E}),label:"Transient"})]});function YZ({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:KZ})]})}const QZ=F()(YZ),Ai="SHAPE_PARAMS_FORM";function XZ({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,itemId:a,shapeId:l,...d}){const u=(x,j,g)=>{o({messageContent:"Shape Display Updated"}),n&&n(x,j,g)},p=(x,j,g)=>{o({messageContent:"Error Updating Shape Display",messageColor:"secondary"}),s&&s(x,j,g)};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Shape Display Options"})}),e.jsx(Ie,{children:e.jsx(QZ,{form:Ai,onSubmit:sV,onSubmitSuccess:u,onSubmitFail:p,itemId:a,shapeId:l,...d})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(Ai),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Ai),children:"Update"})]})]})}const ZZ=I(H,M)(XZ),Pm="ITEM_SHAPE_CREATE_DIALOG",Om="SHAPE_COMPONENT_DELETE_DIALOG",Lm="SHAPE_COMPONENT_ANALYZE_DIALOG",Nm="SHAPE_COMPONENT_COPY_DIALOG",_m="SHAPE_COMPONENT_COPY_SHAPE_DIALOG",$m="SHAPE_COMPONENT_MOVE_DIALOG",Wm="SHAPE_COMPONENT_MOVE_SHAPE_DIALOG",km="SHAPE_COMPONENT_ASSOCIATE_FILE_DIALOG",wm="SHAPE_COMPONENT_UNASSOCIATE_FILE_DIALOG";class eee extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={shapeDocument:void 0}}componentDidMount(){const{setOnRefresh:n}=this.props;n&&n(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:n,itemId:s}){const{shapeId:o}=this.props;o!==n&&(this.onFetch(s,n),document.title=`VidiCore Admin | Shape | ${n}`)}onRefresh(){const{itemId:n,shapeId:s}=this.props;this.onFetch(n,s)}onFetch(n,s){try{Ve.getShape({itemId:n,shapeId:s,queryParams:{includePlaceholder:!0}}).then(o=>this.setState({shapeDocument:o.data})).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape",messageColor:"secondary"})}onSuccess(n){const s=n.data;this.setState({shapeDocument:s})}render(){const{titleComponent:n,tabComponent:s,shapeId:o,itemId:r,history:i}=this.props,{shapeDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{code:a,codeModal:"ShapeDocument",onRefresh:this.onRefresh,breadcrumbList:["Overview"],createShapeModal:Pm}),s&&e.jsx(s,{}),e.jsx(ZZ,{shapeId:o,itemId:r,onSuccess:this.onSuccess,initialValues:{queryParams:{includePlaceholder:!0}}}),a&&e.jsxs(e.Fragment,{children:[e.jsx(wf,{shapeDocument:a,shapeId:o,itemId:r,onRefresh:this.onRefresh,ShapeComponentMenuProps:{removeModal:Om,analyzeModal:Lm,copyToComponentModal:Nm,copyToShapeModal:_m,moveToComponentModal:$m,moveToShapeModal:Wm,associateFileModal:km,removeFileModal:wm}}),e.jsx(Nf,{dialogName:Pm,onSuccess:l=>i.push(`/item/${r}/shape/${l.data.id}/`),itemId:r,initialValues:{shapeDocument:JSON.stringify(a,null,2)}}),e.jsx(bZ,{dialogName:Nm,onSuccess:(l,d,u)=>i.push(`/item/${u.values.targetItemId}/shape/${l.data.id}/`),itemId:r,shapeId:o}),e.jsx(EZ,{dialogName:_m,onSuccess:(l,d,u)=>i.push(`/item/${u.values.targetItemId}/shape/${l.data.id}/`),itemId:r,shapeId:o}),e.jsx($Z,{dialogName:$m,onSuccess:this.onRefresh,itemId:r,shapeId:o}),e.jsx(GZ,{dialogName:Wm,onSuccess:this.onRefresh,itemId:r,shapeId:o}),e.jsx(DZ,{dialogName:Om,shapeId:o,itemId:r,onSuccess:this.onRefresh,initialValues:{queryParams:{keepFiles:!0}}}),e.jsx(aZ,{dialogName:Lm,shapeId:o,itemId:r,onSuccess:l=>i.push(`/job/${l.data.jobId}/`)}),e.jsx(hZ,{dialogName:km,shapeId:o,itemId:r,onSuccess:this.onRefresh}),e.jsx(JZ,{dialogName:wm,shapeId:o,itemId:r,onSuccess:this.onRefresh})]})]})}}const tee=H(eee),Um="SHAPE_REMOVE_DIALOG",Vm="SHAPE_TRANSCODE_DIALOG",Gm="SHAPE_ANALYZE_DIALOG",qm="SHAPE_ADD_TAG_DIALOG",Hm="SHAPE_REMOVE_TAG_DIALOG",Bm="SHAPE_ADD_MIMETYPE_DIALOG",zm="SHAPE_REMOVE_MIMETYPE_DIALOG",Jm="SHAPE_ADD_COMPONENT_DIALOG",Km="SHAPE_EXPORT_DIALOG",Ym="SHAPE_IMPEXPORT_DIALOG",Qm="SHAPE_DEDUCTION_DIALOG",Xm="SHAPE_PLACEHOLDERUPDATE_DIALOG",Zm="SHAPE_CREATEPLACEHOLDERCOMPONENT_DIALOG",Rg=[{listText:"Overview",component:tee,path:"/item/:itemId/shape/:shapeId/",exact:!0},{listText:"Bulky Metadata",component:GX,path:"/item/:itemId/shape/:shapeId/bulky-metadata/"},{listText:"Files",component:ZX,path:"/item/:itemId/shape/:shapeId/file/"},{listText:"Graph",component:tZ,path:"/item/:itemId/shape/:shapeId/graph/"},{listText:"CPL",component:HX,path:"/item/:itemId/shape/:shapeId/cpl/"}],nee=({itemId:t,shapeId:n})=>e.jsx(gt,{children:Rg.map(({path:s,listText:o,exact:r})=>e.jsx(Nt,{primary:o,to:Se(s,{itemId:t,shapeId:n}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:r},s))}),see=t=>e.jsxs(bt,{children:[e.jsx(B,{exact:!0,path:"/item/:itemId/shape/:shapeId/bulky-metadata/:bulkyMetadataKey",render:()=>e.jsx(UX,{...t,title:"Bulky Metadata"}),...t}),Rg.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))]});class oee extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{shapeId:n}=this.props;document.title=`VidiCore Admin | Shape | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{itemId:n,shapeId:s,history:o}=this.props,r=i=>e.jsx(Uf,{onRefresh:this.onRefresh,shapeId:s,itemId:n,removeModal:Um,transcodeModal:Vm,deductionModal:Qm,analyzeTagModal:Gm,addTagModal:qm,removeTagModal:Hm,addMimeTypeModal:Bm,removeMimeTypeModal:zm,addComponentModal:Jm,exportModal:Km,exportImpModal:Ym,placeholderUpdateModal:Xm,createPlaceholderComponentModal:Zm,...i});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{shapeId:s,itemId:n,mainComponent:see,listComponent:nee,defaultOpen:!0,titleComponent:r,setOnRefresh:this.setOnRefresh}),e.jsx(hX,{dialogName:Um,onSuccess:()=>o.push(`/item/${n}`),itemId:n,shapeId:s}),e.jsx(kX,{dialogName:Vm,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(lX,{dialogName:Qm,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(KQ,{dialogName:Gm,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(NQ,{dialogName:Jm,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(GQ,{dialogName:qm,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx($X,{dialogName:Hm,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(wQ,{dialogName:Bm,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(NX,{dialogName:zm,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(MX,{dialogName:Xm,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(nX,{dialogName:Zm,onSuccess:this.onRefresh,itemId:n,shapeId:s}),e.jsx(bX,{dialogName:Km,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s}),e.jsx(EX,{dialogName:Ym,onSuccess:i=>o.push(`/job/${i.data.jobId}/`),itemId:n,shapeId:s})]})}}const ree=I(We)(oee);function Ns({orderBy:t,orderDirection:n,onChangeOrder:s,name:o}){return s?e.jsx(A,{children:e.jsx(Mt,{active:t===o,direction:n||void 0,onClick:s(o),children:le(o)})}):e.jsx(A,{children:le(o)})}function iee({shapeType:t}){const{id:n,item:s=[],mimeType:o=[],essenceVersion:r,tag:i=[]}=t,a=s.map(u=>u.id),[l]=a,d=l?`/item/${l}/shape/${n}/`:void 0;return e.jsxs(Be,{to:d,hover:!0,children:[e.jsx(A,{children:n}),e.jsx(A,{children:e.jsx(zo,{labels:a})}),e.jsx(A,{children:r}),e.jsx(A,{children:e.jsx(zo,{labels:o})}),e.jsx(A,{children:e.jsx(zo,{labels:i})})]})}function aee({shapeListDocument:t,onChangePage:n,onChangeRowsPerPage:s,rowsPerPageOptions:o,page:r,rowsPerPage:i,onChangeOrder:a,orderBy:l,orderDirection:d}){if(t===void 0)return null;const{shape:u=[],hits:p=0}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(Ns,{name:"shapeId"}),e.jsx(Ns,{name:"itemId",onChangeOrder:a,orderBy:l,orderDirection:d}),e.jsx(Ns,{name:"essenceVersion"}),e.jsx(Ns,{name:"mimeType",onChangeOrder:a,orderBy:l,orderDirection:d}),e.jsx(Ns,{name:"shapeTag",onChangeOrder:a,orderBy:l,orderDirection:d})]})}),e.jsx(de,{children:u.map(x=>e.jsx(iee,{shapeType:x},x.id))}),n&&s&&e.jsx(Pt,{children:e.jsx(me,{children:e.jsx(Ot,{count:p,page:r,rowsPerPage:i,onPageChange:n,onRowsPerPageChange:s,ActionsComponent:Lt,rowsPerPageOptions:o})})})]})}function lee({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"shapeSearchDocument",component:yo}),e.jsx("button",{type:"submit",hidden:!0})]})}const cee=F()(lee),dee="SHAPE_SEARCH_FORM";function uee({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=dee,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Shapes",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{expandIcon:e.jsx(ma,{}),children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Document"})}),e.jsx(V,{children:e.jsx(cee,{form:d,onSubmit:of,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const mee=I(H,M,vt)(uee),hee=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"content",component:z,isMulti:!0,options:[{value:"component",label:"Component"},{value:"metadata",label:"Metadata"},{value:"essenceVersion",label:"Essence Version"},{value:"tag",label:"Tag"},{value:"mimeType",label:"Mime Type"},{value:"*",label:"All"}],fullWidth:!0}),e.jsx(c,{name:"methodType",component:m,fullWidth:!0}),e.jsx(c,{name:"storageType",component:m,fullWidth:!0}),e.jsx(c,{name:"methodMetadata",component:m,fullWidth:!0}),e.jsx(c,{name:"scheme",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"count",component:E}),label:"Count"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0})]});function pee({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:hee}),e.jsx("button",{type:"submit",hidden:!0})]})}const xee=F()(pee),jee="SHAPE_SEARCH_PARAMS_FORM";function fee({onSubmit:t,onSuccess:n,onFail:s,openSnackBar:o,submitForm:r,resetForm:i,expanded:a,onChangeExpansion:l,form:d=jee,...u}){const p=(j,g,y)=>{l&&l(null,!1),n&&n(j,g,y)},x=(j,g,y)=>{o({messageContent:"Error Searching Shapes",messageColor:"secondary"}),s&&s(j,g,y)};return e.jsxs(fe,{expanded:a,onChange:l,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Params"})}),e.jsx(Ie,{children:e.jsx(xee,{form:d,onSubmit:of,onSubmitSuccess:p,onSubmitFail:x,...u})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>i(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(d),children:"Update"})]})]})}const gee=I(H,M,vt)(fee),ko="SHAPE_SEARCH_FORM",bee=I(Et,Bn)(aee);class Cee extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const s=this.onGetUrlParams(),{first:o=1,number:r=10,orderBy:i,orderDirection:a="desc",...l}=s,d=i?[{field:i,order:`${a}ending`}]:[];this.initialValues={queryParams:{first:o,number:r,...l},itemSearchDocument:{sort:d}},this.state={shapeListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Shape",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(ko)}onSearchSuccess(n){const{data:s,queryParams:o}=n;this.setState({shapeListDocument:s,queryParams:o}),this.onSetUrlParams(o)}onSetUrlParams(n){const{location:s,history:o}=this.props,r=new URLSearchParams(s.search);Object.entries(n).forEach(([i,a])=>r.set(i,a)),o.push({search:r.toString()})}onGetUrlParams(){const{location:n}=this.props,s=new URLSearchParams(n.search),o={};return Array.from(s).forEach(([r,i])=>{o[r]=i}),o}render(){const{shapeListDocument:n,queryParams:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Shape",helpTo:"/ref/item/shape.html",onRefresh:this.onRefresh,code:n,codeModal:"ShapeListDocument"}),e.jsx(mee,{form:ko,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(gee,{form:ko,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),e.jsx(bee,{shapeListDocument:n,queryParams:s,form:ko,sortField:"shapeSearchDocument.sort"})]})}}const yee=I(M)(Cee);function See({tagName:t,...n}){return e.jsx(Y,{title:t,parentTitle:"Shape Tag",parentTo:"/shape-tag/",helpTo:"/ref/shape-tag.html",...n})}const Tg=he((t,n,s)=>{const{transcodePresetDocument:o}=t,r=s.tagName||t.tagName||o.name;return rn.updateShapeTag({tagName:r,transcodePresetDocument:o})}),Ree=he((t,n,s)=>{const{shapeTagScript:o}=t,r=s.tagName||t.tagName;return rn.updateShapeTagScript({tagName:r,shapeTagScript:o})}),Tee=he((t,n,s)=>{const{queryParams:o}=t,r=s.tagName||t.tagName,i=s.itemId||t.itemId,a=s.shapeId||t.shapeId;return rn.testShapeTagScript({tagName:r,itemId:i,shapeId:a,queryParams:o})}),Eee=he(()=>rn.createShapeTagPreset());function Iee({value:t}){return e.jsx(h,{value:t,variant:"application/javascript"})}function vee({error:t,handleSubmit:n,tagName:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),s===void 0?e.jsx(c,{name:"tagName",label:"Tag Name",component:at,fullWidth:!0}):null,e.jsx(c,{name:"shapeTagScript",component:dt,nameAsTitle:!1,options:{theme:"material",mode:"application/javascript",lineWrapping:!0,lineNumbers:!0}}),e.jsx("button",{type:"submit",hidden:!0})]})}const Aee=F()(vee),Fee="EDIT_SHAPETAG_SCRIPT_FORM";function Mee({tagName:t,shapeTagScript:n,openSnackBar:s,onRefresh:o,onSuccess:r}){const i=(p,x,j)=>{s({messageContent:"Shape Tag Script Updated"}),o&&o(),r&&r(p,x,j)},a=()=>{s({messageContent:"Error Updating Shape Tag Script",messageColor:"secondary"})},l={tagName:t},d={value:n},u={tagName:t,shapeTagScript:n};return e.jsx(Ge,{formComponent:Aee,displayComponent:Iee,formName:Fee,onSubmitSuccess:i,onSubmitFail:a,onSubmit:Ree,formProps:l,displayProps:d,initialValues:u,tagName:t})}const Eg=v(Mee);function Dee(t){return e.jsx($,{children:e.jsx(Eg,{...t})})}class Pee extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={shapeTagScript:void 0,hasLoaded:!1}}componentDidMount(){this.onRefresh()}onRefresh(){const{tagName:n}=this.props;this.onFetch(n)}onFetch(n){try{rn.getShapeTagScript({tagName:n}).then(s=>this.setState({shapeTagScript:s.data,hasLoaded:!0})).catch(s=>this.onRefreshError(s))}catch(s){this.setState({hasLoaded:!0}),this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape Tag",messageColor:"secondary"})}render(){const{tagName:n,titleComponent:s,tabComponent:o}=this.props,{shapeTagScript:r,hasLoaded:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"script",onRefresh:this.onRefresh,breadcrumbList:[{title:"Shape Tag",to:ie.shapeTagList()},{title:n,to:ie.shapeTag({tagName:n})},{title:"Script"}]}),o&&e.jsx(o,{}),i&&e.jsx(Dee,{onRefresh:this.onRefresh,tagName:n,shapeTagScript:r})]})}}const Oee=v(Pee),Lee=()=>({SplitterContainer:{height:"100%"}});function Nee({classes:t,tagName:n,shapeTagScript:s,transcodePresetDocument:o,onSuccess:r}){var l;const i=hr(),a=((l=i==null?void 0:i.palette)==null?void 0:l.type)==="light"?us.Light:us.Dark;return e.jsx("div",{className:t.SplitterContainer,children:e.jsxs(Ca,{direction:ya.Horizontal,gutterTheme:a,children:[e.jsx($,{children:e.jsx(V,{children:e.jsx(Eg,{tagName:n,shapeTagScript:s,onSuccess:r})})}),e.jsx($,{children:e.jsx(V,{children:e.jsx(h,{value:o,variant:"json"})})})]})})}const _ee=xe(Lee)(Nee),$ee=()=>e.jsx(c,{name:"job",component:m,fullWidth:!0,label:"Job",helperText:"The id of a job to retrieve job metadata from."});function Wee({error:t,handleSubmit:n,tagName:s,itemId:o,shapeId:r}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),s===void 0?e.jsx(c,{name:"tagName",label:"Tag Name",component:m,fullWidth:!0,required:!0,validate:[Q]}):null,o===void 0?e.jsx(c,{name:"itemId",label:"Item ID",component:m,fullWidth:!0,required:!0,validate:[Q]}):null,r===void 0?e.jsx(c,{name:"shapeId",label:"Shape ID",component:m,fullWidth:!0,required:!0,validate:[Q]}):null,e.jsx(S,{name:"queryParams",component:$ee}),e.jsx("button",{type:"submit",hidden:!0})]})}const kee=F()(Wee);function wee({tagName:t,itemId:n,shapeId:s,onClose:o,onSuccess:r,openSnackBar:i,submitForm:a,resetForm:l,form:d="SHAPETAG_SCRIPT_TEST_PARAMS_FORM",initialValues:u={}}){const p=(j,g,y)=>{r&&r(j,g,y)},x=()=>{i({messageContent:"Error Testing Shape Tag",messageColor:"secondary"})};return e.jsxs(fe,{defaultExpanded:!0,children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Shape Tag Script Test"})}),e.jsx(Ie,{children:e.jsx(kee,{form:d,onSubmit:Tee,onSubmitSuccess:p,onSubmitFail:x,onCancel:o,destroyOnUnmount:!1,initialValues:u,tagName:t,itemId:n,shapeId:s})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>l(d),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>a(d),children:"Test"})]})]})}const Uee=I(v,M)(wee),Vee="SHAPETAG_TEST_PARAMS_FORM";class Gee extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onScriptUpdateSuccess=this.onScriptUpdateSuccess.bind(this),this.onTestSuccess=this.onTestSuccess.bind(this),this.state={shapeTagScript:void 0,transcodePresetDocument:void 0,hasLoaded:!1}}componentDidMount(){this.onRefresh()}onRefresh(){const{tagName:n}=this.props;this.onFetch(n)}onTestSuccess(n){const{data:s}=n;this.setState({transcodePresetDocument:s})}onScriptUpdateSuccess(n,s,o){var i;const r=(i=o==null?void 0:o.values)==null?void 0:i.shapeTagScript;r&&this.setState({shapeTagScript:r})}onFetch(n){try{rn.getShapeTagScript({tagName:n}).then(s=>this.setState({shapeTagScript:s.data,hasLoaded:!0})).catch(s=>this.onRefreshError(s))}catch(s){this.setState({hasLoaded:!0}),this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape Tag",messageColor:"secondary"})}render(){const{tagName:n,titleComponent:s,tabComponent:o}=this.props,{shapeTagScript:r,transcodePresetDocument:i,hasLoaded:a}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"script",onRefresh:this.onRefresh,breadcrumbList:[{title:"Shape Tag",to:ie.shapeTagList()},{title:n,to:ie.shapeTag({tagName:n})},{title:"Script Test"}]}),o&&e.jsx(o,{}),e.jsx(Uee,{form:Vee,tagName:n,onSuccess:this.onTestSuccess}),a&&e.jsx(_ee,{tagName:n,shapeTagScript:r,transcodePresetDocument:i,onSuccess:this.onScriptUpdateSuccess})]})}}const qee=I(v)(Gee);function Hee({transcodePresetDocument:t,tagName:n,openSnackBar:s,onRefresh:o,formComponent:r,...i}){const a="EDIT_SHAPTAG_FORM",l=()=>{s({messageContent:"Shape Tag Rule Saved"}),o&&o()},d=()=>{s({messageContent:"Error Updating Shape Tag",messageColor:"secondary"})},u={tagName:n},p={transcodePresetDocument:t};return e.jsx(Ge,{formName:a,onSubmitSuccess:l,onSubmitFail:d,onSubmit:Tg,formProps:u,displayProps:{transcodePresetDocument:t},initialValues:p,formComponent:n.startsWith("__")?void 0:r,...i})}const Bee={openSnackBar:Le},ss=Ce(null,Bee)(Hee);function zee(t){return e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsx(ss,{title:"Container",formComponent:xq,displayComponent:uv,...t})}),e.jsx($,{children:e.jsx(ss,{title:"Video",formComponent:bq,displayComponent:hv,...t})}),e.jsx($,{children:e.jsx(ss,{title:"Audio",formComponent:fq,displayComponent:mv,...t})}),e.jsx($,{children:e.jsx(ss,{title:"Thumbnail",formComponent:Eq,displayComponent:pv,...t})}),e.jsx($,{children:e.jsx(ss,{title:"Overlay",formComponent:yq,displayComponent:xv,...t})}),e.jsx($,{children:e.jsx(ss,{title:"Advanced",formComponent:Rq,displayComponent:jv,...t})})]})}function Jee({tagName:t,open:n,onClose:s,onSuccess:o,onFail:r,openSnackBar:i}){const a=()=>{rn.removeShapeTag({tagName:t}).then(l=>{const d=`Shape Tag ${t} Removed`;i({messageContent:d}),o&&o(l),s()}).catch(l=>{i({messageContent:"Error Removing Shape Tag",messageColor:"secondary"}),r&&r(l)})};return e.jsxs(_,{open:n,onClose:s,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Shape Tag "${t}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:s,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Kee=I(v)(Jee),Fi="SHAPETAG_REMOVE_MODAL";class Yee extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={transcodePresetDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{tagName:n}=this.props;this.onFetch(n)}onFetch(n){try{rn.getShapeTag({tagName:n}).then(s=>this.setState({transcodePresetDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape Tag",messageColor:"secondary"})}render(){const{tagName:n,titleComponent:s,tabComponent:o,history:r}=this.props,{transcodePresetDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:i,codeModal:"TranscodePresetDocument",onRefresh:this.onRefresh,removeModal:Fi,menuList:[{label:"Delete Shape Tag",modalName:Fi,color:"secondary"}]}),o&&e.jsx(o,{}),i&&e.jsx(zee,{onRefresh:this.onRefresh,tagName:n,transcodePresetDocument:i}),e.jsx(Kee,{dialogName:Fi,onSuccess:()=>r.push("/shape-tag/"),tagName:n})]})}}const Qee=v(Yee);function Xee({open:t,onClose:n,openSnackBar:s,onSuccess:o,tagName:r}){const i=l=>{s({messageContent:"Storage Rule Created"}),n(),o&&o(l)},a=()=>{s({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Storage Rule"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:oj,documentName:"storageRuleDocument",onSubmit:nj,onSubmitSuccess:i,onSubmitFail:a,onCancel:n,tagName:r})})]})}const Zee=v(Xee);function ete({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"value",value:t==null?void 0:t.value,hover:!0}),e.jsx(h,{title:"level",value:t==null?void 0:t.value,hover:!0})]})}function tte({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"storage",value:t.storage,variant:"storageId",hover:!0}),e.jsx(h,{title:"Storage Group",value:t.group,hover:!0})]})}function nte({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"storage",value:t.storage,variant:"storageId",hover:!0}),e.jsx(h,{title:"Storage Group",value:t.group,hover:!0})]})}function ste({value:t}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t==null?void 0:t.id,hover:!0}),e.jsx(h,{title:"type",value:t==null?void 0:t.type,hover:!0})]})}function ote({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"storageCount",value:t.storageCount,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"priority",value:t.priority,component:ete,hideNoValue:!0}),e.jsx(h,{title:"inherited",value:t.inherited,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"storage",value:t.storage,variant:"storageId",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Storage Group",value:t.group,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"not",value:t.not,component:tte,hideNoValue:!0}),e.jsx(w,{title:"pool",value:t.pool,component:nte,hideNoValue:!0}),e.jsx(w,{title:"appliesTo",value:t.appliesTo,component:ste,hideNoValue:!0}),e.jsx(h,{title:"precedence",value:t.precedence,hover:!0,hideNoValue:!0})]})}function rte({storageRuleDocument:t}){return e.jsx(w,{component:ote,value:t})}function ite({storageRuleDocument:t,tagName:n,openSnackBar:s,onRefresh:o,onOpen:r}){const i="EDIT_STORAGERULE_TAG_FORM",a="REMOVE_STORAGERULE_DIALOG",l=()=>{s({messageContent:"Storage Rule Saved"}),o&&o()},d=()=>{s({messageContent:"Error Updating Storage Rule",messageColor:"secondary"})},u={tagName:n},p={storageRuleDocument:t},x={storageRuleDocument:t};return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{formName:i,onSubmitSuccess:l,onSubmitFail:d,onSubmit:nj,formProps:u,displayProps:p,initialValues:x,displayComponent:rte,formComponent:AF,title:"Storage Rule",iconList:t&&e.jsx(ee,{onClick:()=>r({modalName:a}),children:e.jsx(et,{})})}),e.jsx(rj,{dialogName:a,onSuccess:o,storageRuleDocument:t})]})}const ate=v(ite),eh="SHAPETAG_STORAGERULE_DIALOG";class lte extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={storageRuleDocument:void 0,hasLoaded:!1}}componentDidMount(){this.onRefresh()}onRefresh(){const{tagName:n}=this.props;this.onFetch(n)}onFetch(n){try{mn.getStorageRuleShapeTag({tagName:n}).then(s=>this.setState({storageRuleDocument:s.data,hasLoaded:!0})).catch(s=>this.onRefreshError(s))}catch(s){this.setState({hasLoaded:!0}),this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Shape Tag",messageColor:"secondary"})}render(){const{tagName:n,titleComponent:s,tabComponent:o}=this.props,{storageRuleDocument:r,hasLoaded:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"storageRuleDocument",onRefresh:this.onRefresh,createModal:eh,breadcrumbList:[{title:"Shape Tag",to:ie.shapeTagList()},{title:n,to:ie.shapeTag({tagName:n})},{title:"Storage Rule"}]}),o&&e.jsx(o,{}),i&&r&&e.jsx(ate,{onRefresh:this.onRefresh,storageRuleDocument:r,tagName:n}),e.jsx(Zee,{dialogName:eh,onSuccess:this.onRefresh,tagName:n})]})}}const cte=v(lte),Ig="SHAPETAG_TAB",dte="SHAPETAG_SCRIPT_TAB",ute="SHAPETAG_SCRIPT_TEST_TAB",mte="SHAPETAG_STORAGERULE_TAB",vg=[{tab:Ig,listText:"Shape Tag",component:Qee,path:"/shape-tag/:tagName/",exact:!0},{tab:dte,listText:"Script",component:Oee,path:"/shape-tag/:tagName/script/"},{tab:ute,listText:"Script Test",component:qee,path:"/shape-tag/:tagName/script-test/"},{tab:mte,listText:"Storage Rule",component:cte,path:"/shape-tag/:tagName/storage-rule/"}],hte=t=>e.jsx(gt,{children:vg.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),pte=t=>e.jsx(bt,{children:vg.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class xte extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this)}componentDidMount(){const{tagName:n}=this.props;document.title=`VidiCore Admin | Shape Tag | ${n}`}UNSAFE_componentWillReceiveProps({tagName:n}){const{tagName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Shape Tag | ${n}`)}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{tagName:n,onChangeTab:s,tabValue:o}=this.props,r=i=>e.jsx(See,{onRefresh:this.onRefresh,tagName:n,...i});return e.jsx(Tt,{mainComponent:pte,listComponent:hte,defaultOpen:!0,onChangeTab:s,tabValue:o,titleComponent:r,tagName:n,setOnRefresh:this.setOnRefresh})}}const jte=I(ln(Ig),v)(xte);function fte({closeModal:t,isOpen:n,history:s,openSnackBar:o}){const r=a=>{const{transcodePresetDocument:l}=a,{name:d}=l,u=`Shape Tag ${d} Created`;o({messageContent:u}),s.push(`/shape-tag/${d}/`),t()},i=()=>{o({messageContent:"Error Creating Shape Tag",messageColor:"secondary"})};return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Shape Tag"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:Aq,documentName:"transcodePresetDocument",onSubmit:Tg,onSubmitSuccess:r,onSubmitFail:i,onCancel:t})})]})}const gte={openSnackBar:Le},bte=Ce(null,gte)(fte);function Cte({uriListDocument:t}){const n=a=>`/shape-tag/${a}/`,s=(t==null?void 0:t.uri)||[],[o,r]=T.useState(s),i={...t,uri:o};return e.jsx($,{children:e.jsxs(V,{children:[e.jsx(Ro,{variant:"outlined",fullWidth:!0,options:s,onChange:r,minScore:.5}),e.jsx(Ds,{uriListDocument:i,linkTo:n})]})})}function yte({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(Y,{title:"Shape Tag",onRefresh:s,openCode:t,openAction:n,helpTo:"/ref/shape-tag.html"})}const th="SHAPETAG_LIST_CODE_MODAL",nh="SHAPETAG_CREATE_MODAL";class Ste extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Shape Tag",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{rn.listShapeTag().then(s=>this.setState({uriListDocument:s.data}))}catch{n({messageContent:"Error Loading Shape Tag List",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{uriListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(yte,{openCode:()=>o({modalName:th}),openCreate:()=>o({modalName:nh}),onRefresh:this.onRefresh}),i&&e.jsx(Cte,{uriListDocument:i}),e.jsx(ut,{isOpen:n===th,toggleDialogue:s,code:i,title:"URIListDocument"}),e.jsx(bte,{isOpen:n===nh,closeModal:s,history:r})]})}}function Rte(t){const{ui:{modalName:n}}=t;return{modalName:n}}const Tte={openSnackBar:Le,closeModal:st,openModal:ot},Ete=Ce(Rte,Tte)(Ste);function Ite({stacktrace:t}){return e.jsx($,{children:e.jsx(V,{children:t?e.jsx(h,{value:t,variant:"code"}):e.jsx(O,{container:!0,justifyContent:"center",children:e.jsx(ds,{size:100,color:"secondary"})})})})}function vte(t){return e.jsx(Y,{title:"Stack Trace",helpTo:"/ref/vidispine-service.html",...t})}class Ate extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={stacktrace:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Stack Trace"}onRefresh(){const{openSnackBar:n}=this.props;this.setState({stacktrace:void 0});try{br.getStackTrace().then(s=>this.setState({stacktrace:s.data}))}catch{n({messageContent:"Error Loading Stack Trace",messageColor:"secondary"})}}render(){const{stacktrace:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(vte,{onRefresh:this.onRefresh}),e.jsx(Ite,{onRefresh:this.onRefresh,stacktrace:n})]})}}const Fte=H(Ate),Mte=t=>{const n=Object.keys(t);if(n.length===0)return"";const s=(r,i,a)=>{if(typeof t[i]>"u")return r;const l=a>0?"&":"";return`${r}${l}${i}=${t[i]}`};return n.reduce(s,"?")},Dte=t=>{const n="/APInoauth/stitch/",{queryParams:s}=t,{uri:o,...r}=s,i=o.reduce((d,u,p)=>{const x=p>0?"&":"";return`${d}${x}uri=${encodeURIComponent(u)}`},""),a=Mte(r);return`${n}${a||"?"}&${i}`},Pte=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uri",label:"URI",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"geometry",component:m,fullWidth:!0}),e.jsx(c,{name:"tile",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"format",children:"Format"}),e.jsxs(c,{name:"format",component:K,children:[e.jsx(b,{value:"png",children:"PNG"}),e.jsx(b,{value:"jpeg",children:"JPG"})]})]}),e.jsx(c,{name:"background",component:m,fullWidth:!0})]});function Ote({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Pte}),e.jsx("button",{type:"submit",hidden:!0})]})}const Lte=F()(Ote),Mi="STITCH_FORM";function Nte({submitForm:t,resetForm:n,openSnackBar:s,onSuccess:o,onFail:r,url:i}){const a=(d,u,p)=>{s({messageContent:"Image Stitched"}),o&&o(d,u,p)},l=(d,u,p,x)=>{s({messageContent:"Error Stitching Image",messageColor:"secondary"}),r&&r(d,u,p,x)};return e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Lte,{onSubmit:Dte,onSubmitSuccess:a,onSubmitFail:l,form:Mi})}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>n(Mi),children:"Reset"}),e.jsx(f,{variant:"text",color:"primary",onClick:()=>t(Mi),children:"Get"})]})]}),e.jsx($,{children:e.jsx(V,{children:e.jsx(O,{container:!0,justifyContent:"center",children:i&&e.jsx("img",{src:i,alt:i})})})})]})}const _te=I(H,M)(Nte);class $te extends T.PureComponent{constructor(n){super(n),document.title="VidiCore Admin | Stitch",this.state={url:void 0}}render(){const{url:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Stitch Images",helpTo:"/ref/misc/stitching.html"}),e.jsx(_te,{url:n,onSuccess:s=>this.setState({url:s}),onFail:()=>this.setState({url:void 0})})]})}}const Ag=["NONE","READY"],Wte=["EVACUATING","EVACUATED","DISABLED"];function Fg({storageDocument:t,...n}){if(t===void 0)return null;const{state:s}=t;if(Ag.includes(s)){const o=s==="NONE"?"Online":s.toLowerCase();return e.jsx(Ue,{avatar:e.jsx(qt,{}),label:o,...n})}return Wte.includes(s)?e.jsx(Ue,{avatar:e.jsx(fs,{}),label:le(s.toLowerCase()),...n}):e.jsx(Ue,{avatar:e.jsx(_t,{}),label:s?le(s.toLowerCase()):"Unknown",...n})}function kte({onOpen:t,storageId:n,removeModal:s,code:o,title:r,...i}){return e.jsx(Y,{removeModal:s,title:r,parentTitle:n,grandParentTitle:"Storage",grandParentTo:"/storage/",helpTo:"/ref/storage/storage.html",entityId:n,entityType:"storage",code:o,iconList:e.jsx(Fg,{storageDocument:o}),...i})}const wte=tt(kte);function Ute({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"regex",value:t.regex}),e.jsx(h,{title:"numGroup",value:t.numGroup})]})}function Vte({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id}),e.jsx(h,{title:"uri",value:t.uri}),e.jsx(h,{title:"read",variant:"checkbox",value:t.read}),e.jsx(h,{title:"write",variant:"checkbox",value:t.write}),e.jsx(h,{title:"browse",variant:"checkbox",value:t.browse}),e.jsx(h,{title:"lastSuccess",value:t.lastSuccess,variant:"timestamp"}),e.jsx(h,{title:"lastFailure",value:t.lastFailure,variant:"timestamp"}),e.jsx(h,{title:"bandwidth",value:t.value}),e.jsx(h,{title:"failureMessage",value:t.failureMessage}),e.jsx(h,{title:"type",value:t.type}),e.jsx(h,{title:"loc",value:t.loc}),e.jsx(Z,{title:"metadata",value:t.metadata,component:As}),e.jsx(Z,{title:"resourceTag",value:t.resourceTag,component:yn})]})}function Gte({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"type",value:t.type,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"state",value:t.state,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"priority",value:t.priority,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Last Scan",value:t.timestamp,variant:"fromnow",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"capacity",value:t.capacity,variant:"bytes",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"autoDetect",value:t.autoDetect,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"showImportables",value:t.showImportables,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"timestamp",value:t.timestamp,variant:"timestring",hideNoValue:!0,hover:!0}),e.jsx(h,{title:"scanInterval",value:t.scanInterval,variant:"seconds",hideNoValue:!0,hover:!0}),e.jsx(Z,{title:"resourceTag",value:t.resourceTag,component:yn})]})}function Mg({value:t={}}){return e.jsx(w,{component:Gte,value:t})}function qte({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"bandwidth",value:t.bandwidth,hover:!0}),e.jsx(h,{title:"lowWatermark",value:t.lowWatermark,variant:"bytes",hover:!0}),e.jsx(h,{title:"highWatermark",value:t.highWatermark,variant:"bytes",hover:!0}),e.jsx(h,{title:"lowWatermarkPercentage",value:t.lowWatermarkPercentage,hover:!0}),e.jsx(h,{title:"lowWatermarkPercentage",value:t.lowWatermarkPercentage,hover:!0}),e.jsx(h,{title:"bean",value:t.bean,hover:!0}),e.jsx(h,{title:"projection",value:t.projection,hover:!0}),e.jsx(Z,{title:"sequence",value:t.sequence,component:Ute,hover:!0}),e.jsx(h,{title:"sequenceTimeout",value:t.sequenceTimeout,hover:!0})]})}function Hte({value:t={}}){return e.jsx(w,{component:qte,value:t})}function Bte({value:t={}}){return e.jsx(h,{title:"archiveScript",value:t.archiveScript,variant:"javascript",hideNoValue:!0})}function zte({value:t={}}){return e.jsx(w,{component:Bte,value:t})}const da=he(t=>{const{storageDocument:n}=t;return pt.createStorage({storageDocument:n})}),Jte=he((t,n,s)=>{const{storageDocument:o}=t,r=s.storageId||o.storageId;return pt.modifyStorage({storageId:r,storageDocument:o})}),Kte=he((t,n,s)=>{const{queryParams:o}=t,r=s.storageId||t.storageId;return pt.removeStorage({storageId:r,queryParams:o})}),Yte=he((t,n,s)=>{const{method:o}=t,{storageId:r}=s,i=s.storageMethodId||o.storageMethodId,a={url:encodeURIComponent(o.uri),read:o.read,write:o.write,browse:o.browse,bandwidth:o.bandwidth,type:o.type};return pt.modifyStorageMethod({storageId:r,storageMethodId:i,queryParams:a})}),Qte=he((t,n,s)=>{const{method:o}=t,{storageId:r}=s,i={url:encodeURIComponent(o.uri),read:o.read,write:o.write,browse:o.browse,bandwidth:o.bandwidth,type:o.type};return pt.createStorageMethod({storageId:r,queryParams:i})}),Xte=he((t,n,s)=>{const{type:o}=t,r=s.storageId||t.storageId;return pt.updateStorageType({storageId:r,storageType:o})}),Zte=he(t=>{const{queryParams:n}=t;return pt.listStorage({queryParams:n})});function ene({storageDocument:t,storageId:n,openSnackBar:s,onRefresh:o,...r}){const i="EDIT_STORAGE_FORM",a=()=>{s({messageContent:"Storage Saved"}),o&&o()},l=()=>{s({messageContent:"Error Updating Storage",messageColor:"secondary"})},d={storageId:n},u={value:t},p={storageDocument:t};return e.jsx(Ge,{formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:Jte,formProps:d,displayProps:u,initialValues:p,...r})}const tne={openSnackBar:Le},Di=Ce(null,tne)(ene);function nne(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"regex",label:"regex",component:m,fullWidth:!0}),e.jsx(c,{name:"numGroup",label:"numGroup",component:m,type:"number",fullWidth:!0})]})}function Dg(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"read",component:E}),label:"Read"}),e.jsx(R,{control:e.jsx(c,{name:"write",component:E}),label:"Write"}),e.jsx(R,{control:e.jsx(c,{name:"browse",component:E}),label:"Browse"}),e.jsx(c,{name:"uri",label:"uri",component:At,fullWidth:!0}),e.jsx(c,{name:"bandwidth",label:"bandwidth",component:m,fullWidth:!0}),e.jsx(c,{name:"loc",label:"loc",component:m,fullWidth:!0}),e.jsx(c,{name:"lastSuccess",label:"lastSuccess",component:m,disabled:!0,fullWidth:!0}),e.jsx(c,{name:"lastFailure",label:"lastFailure",component:m,disabled:!0,fullWidth:!0}),e.jsx(c,{name:"failureMessage",label:"failureMessage",component:m,disabled:!0,fullWidth:!0}),e.jsx(c,{name:"type",label:"type",component:m,fullWidth:!0}),e.jsx(S,{name:"metadata",label:"metadata",component:Ln}),e.jsx(k,{name:"resourceTag",label:"resourceTag",component:ne,fullWidth:!0})]})}function Pg(){return e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(c,{name:"type",component:K,children:Nr.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(c,{name:"scanInterval",label:"scanInterval",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"autoDetect",component:E}),label:"Auto Detect"}),e.jsx(R,{control:e.jsx(c,{name:"showImportables",component:E}),label:"Show Importables"}),e.jsx(c,{name:"capacity",label:"capacity",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"state",label:"state",component:m,fullWidth:!0,disabled:!0}),e.jsx(c,{name:"priority",label:"priority",component:m,fullWidth:!0,disabled:!0}),e.jsx(k,{name:"resourceTag",label:"resourceTag",component:ne,fullWidth:!0})]})}function sne({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"storageDocument",component:Pg}),e.jsx("button",{type:"submit",hidden:!0})]})}const Og=F()(sne);function Lg(){return e.jsx(S,{name:"metadata",label:"metadata",component:Ln})}function one({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"storageDocument",component:Lg}),e.jsx("button",{type:"submit",hidden:!0})]})}F()(one);function Ng(){return e.jsx(k,{name:"method",label:"method",component:Dg})}function rne({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"storageDocument",component:Ng}),e.jsx("button",{type:"submit",hidden:!0})]})}const ine=F()(rne);function ane({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"method",component:Dg}),e.jsx("button",{type:"submit",hidden:!0})]})}const _g=F()(ane);function $g(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"freeCapacity",label:"freeCapacity",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"bandwidth",label:"bandwidth",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"timestamp",label:"timestamp",component:m,disabled:!0,fullWidth:!0}),e.jsx(c,{name:"lowWatermark",label:"lowWatermark",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"highWatermark",label:"highWatermark",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:m,type:"number",fullWidth:!0}),e.jsx(c,{name:"bean",label:"bean",component:m,fullWidth:!0}),e.jsx(c,{name:"projection",label:"projection",component:m,fullWidth:!0}),e.jsx(c,{name:"sequenceTimeout",label:"sequenceTimeout",component:m,type:"number",fullWidth:!0}),e.jsx(k,{name:"sequence",label:"sequence",component:nne})]})}function lne({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"storageDocument",component:$g}),e.jsx("button",{type:"submit",hidden:!0})]})}const cne=F()(lne);function Wg(){return e.jsx(c,{name:"archiveScript",label:"archiveScript",component:dt,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})}function dne({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"storageDocument",component:Wg}),e.jsx("button",{type:"submit",hidden:!0})]})}const une=F()(dne);function mne({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"storageDocument",component:Pg}),e.jsx(S,{name:"storageDocument",component:Ng}),e.jsx(S,{name:"storageDocument",component:$g}),e.jsx(S,{name:"storageDocument",component:Lg}),e.jsx(S,{name:"storageDocument",component:Wg}),e.jsx("button",{type:"submit",hidden:!0})]})}const hne=F()(mne);function pne({storageDocument:t,storageId:n,onRefresh:s,...o}){return e.jsx(zn,{entityType:"storage",entityId:n,simpleMetadataDocument:t.metadata,onSuccess:s,...o})}const xne=()=>({wordBreak:{wordBreak:"break-word"},noBreak:{whiteSpace:"nowrap"}});function jne({classes:t,storageMethod:n,storageId:s,hidePermissions:o}){let r=!1;return n.lastFailure?n.lastSuccess&&n.lastFailure&&(r=qe(n.lastSuccess).isAfter(n.lastFailure)):r=!0,e.jsxs(me,{hover:!0,children:[e.jsx(A,{children:e.jsx(f,{component:wt,to:`/storage/${s}/method/${n.id}`,variant:"text",className:t.noBreak,children:n.id})}),e.jsx(A,{className:t.wordBreak,children:n.uri}),o!==!0?e.jsx(A,{padding:"checkbox",children:e.jsxs(an,{row:!0,children:[e.jsx(R,{control:e.jsx($n,{checked:n.read,disabled:!0}),label:e.jsx(C,{variant:"subtitle2",children:"Read"})}),e.jsx(R,{control:e.jsx($n,{checked:n.write,disabled:!0}),label:e.jsx(C,{variant:"subtitle2",children:"Write"})}),e.jsx(R,{control:e.jsx($n,{checked:n.browse,disabled:!0}),label:e.jsx(C,{variant:"subtitle2",children:"Browse"})})]})}):null,e.jsx(A,{padding:"checkbox",children:r?e.jsx(Ue,{avatar:e.jsx(qt,{}),label:"Online"}):e.jsx(Ue,{avatar:e.jsx(_t,{}),label:"Offline"})})]})}const fne=xe(xne)(jne);function kg({storageDocument:t,hidePermissions:n}){const{method:s,id:o}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{children:"URI"}),n!==!0?e.jsx(A,{padding:"checkbox",children:"Permissions"}):null,e.jsx(A,{padding:"checkbox",children:"Status"})]})}),e.jsx(de,{children:s&&s.map(r=>e.jsx(fne,{storageMethod:r,storageId:o,hidePermissions:n},r.id))})]})}function gne({storageDocument:t,openMethodCreate:n}){const s=n?e.jsx(ee,{onClick:n,children:e.jsx(Vt,{})}):void 0;return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:"Methods"}),action:s}),e.jsx(V,{children:e.jsx(kg,{storageDocument:t})})]})}function bne(t){return e.jsxs(en,{children:[e.jsx($,{children:e.jsx(Di,{title:"Settings",formComponent:Og,displayComponent:Mg,...t})}),e.jsx($,{children:e.jsx(gne,{...t})}),e.jsx($,{children:e.jsx(Di,{title:"Advanced",formComponent:cne,displayComponent:Hte,...t})}),e.jsx($,{children:e.jsx(pne,{...t})}),e.jsx($,{children:e.jsx(Di,{title:"Scripts",formComponent:une,displayComponent:zte,...t})})]})}function Cne({open:t,onClose:n,openSnackBar:s,storageDocument:o,onSuccess:r}){if(o===void 0)return null;const{id:i}=o,a=()=>{pt.startEvacuateStorage({storageId:i}).then(()=>{s({messageContent:"Storage Evacuation Started"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Starting Storage Evacuation",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Evacuate Storage ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Start"})]})]})}const yne=v(Cne);function Sne({open:t,onClose:n,openSnackBar:s,storageDocument:o,onSuccess:r}){if(o===void 0)return null;const{id:i}=o,a=()=>{pt.cancelEvacuateStorage({storageId:i}).then(()=>{s({messageContent:"Storage Evacuation Stopping"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Stopping Storage Evacuation",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Cancel Storage ${i} Evacuation`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Stop"})]})]})}const Rne=v(Sne);function Tne({open:t,onClose:n,openSnackBar:s,storageId:o,onRefresh:r}){const i=()=>{s({messageContent:"Storage Method Added"}),r(),n()},a=()=>{s({messageContent:"Error Adding Storage Method",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Storage Method"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:_g,documentName:"storageMethodDocument",onSubmit:Qte,onSubmitSuccess:i,onSubmitFail:a,onCancel:n,storageId:o})})]})}const Ene=I(v)(Tne),Ine=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"safe",children:"Safe"}),e.jsxs(c,{name:"safe",component:K,children:[e.jsx(b,{value:"true",children:"true"}),e.jsx(b,{value:"false",children:"false"})]})]});function vne({error:t,handleSubmit:n,storageId:s}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),!s&&e.jsx(c,{name:"storageId",component:m,validate:[Q],fullWidth:!0}),e.jsx(S,{name:"queryParams",component:Ine}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ane=F()(vne),sh="STORAGE_REMOVE_FORM";function Fne({open:t,onClose:n,onSuccess:s,onFail:o,openSnackBar:r,submitForm:i,storageId:a}){const l=(u,p,x)=>{r({messageContent:"Storage Deleted"}),s&&s(u,p,x),n()},d=(u,p,x)=>{r({messageContent:"Error Deleting Storage",messageColor:"secondary"}),o&&o(u,p,x)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Delete Storage ${a}`}),e.jsx(Ne,{children:e.jsx(Ane,{form:sh,onSubmit:Kte,onSubmitSuccess:l,onSubmitFail:d,storageId:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"secondary",onClick:()=>i(sh),children:"Delete"})]})]})}const Mne=I(v,M)(Fne);function Dne({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Type"}),e.jsx(L,{name:"type",component:K,children:Nr.map(s=>e.jsx(b,{value:s,children:s},s))})]}),e.jsx("button",{type:"submit",hidden:!0})]})}const Pne=F()(Dne),oh="STORAGE_TYPE_FORM";function One({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,storageDocument:i}){if(i===void 0)return null;const{id:a,type:l}=i,d=(p,x,j)=>{o({messageContent:"Storage Type Updated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Updating Storage Type",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Change Storage Type"}),e.jsx(Ne,{children:e.jsx(Pne,{form:oh,onSubmit:Xte,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,storageId:a,initialValues:{type:l}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(oh),children:"Save"})]})]})}const Lne=I(v,M)(One),rh="STORAGE_REMOVE_MODAL",ih="STORAGEMETHOD_CREATE_MODAL",ah="STORAGE_TYPE_DIALOG",lh="STORAGE_EVACUATE_DIALOG",ch="STORAGE_EVACUATE_CANCEL_DIALOG";class Nne extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onRescan=this.onRescan.bind(this),this.onRescanError=this.onRescanError.bind(this),this.state={storageDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({storageId:n}){const{storageId:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Storage | ${n}`)}onRefresh(){const{storageId:n}=this.props;this.onFetch(n)}onFetch(n){try{pt.getStorage({storageId:n}).then(s=>this.setState({storageDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Storage",messageColor:"secondary"})}onRescan(){const{storageId:n,openSnackBar:s}=this.props;try{pt.rescanStorage({storageId:n}).then(()=>{s({messageContent:"Rescan Started"}),this.onRefresh()}).catch(o=>this.onRescanError(o))}catch(o){this.onRescanError(o)}}onRescanError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Rescanning Storage",messageColor:"secondary"})}render(){const{storageId:n,titleComponent:s,tabComponent:o,onOpen:r,history:i}=this.props,{storageDocument:a}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:a,codeModal:"StorageDocument",onRefresh:this.onRefresh,onRescan:this.onRescan,menuList:[{label:"Change Storage Type",modalName:ah},{label:"Rescan",onClick:this.onRescan},{label:Ag.includes(a==null?void 0:a.state)?"Evacuate Storage":null,modalName:lh,color:"secondary"},{label:(a==null?void 0:a.state)==="EVACUATING"?"Cancel Evacuate Storage":null,modalName:ch,color:"secondary"},{label:"Delete Storage",modalName:rh,color:"secondary"}]}),o&&e.jsx(o,{}),a&&e.jsx(bne,{onRefresh:this.onRefresh,storageId:n,storageDocument:a,openMethodCreate:()=>r({modalName:ih})}),e.jsx(Ene,{dialogName:ih,onRefresh:this.onRefresh,storageId:n}),e.jsx(Lne,{dialogName:ah,storageDocument:a,onSuccess:this.onRefresh}),e.jsx(yne,{dialogName:lh,storageDocument:a,onSuccess:this.onRefresh}),e.jsx(Rne,{dialogName:ch,storageDocument:a,onSuccess:this.onRefresh}),e.jsx(Mne,{dialogName:rh,onSuccess:()=>i.push("/storage/"),storageId:n})]})}}const _ne=v(Nne),$ne="EXTERNALID_TAB",wg="STORAGE_TAB",Wne="STORAGE_FILE_TAB",kne="STORAGE_AUTOIMPORT_TAB",Ug=[{tab:wg,listText:"Storage",component:_ne,path:"/storage/:storageId/",exact:!0},{tab:Wne,listText:"Files",component:sf,path:"/storage/:storageId/file/"},{tab:$ne,listText:"External ID",component:Dn,path:"/storage/:storageId/external-id/",entity:"storage"},{tab:kne,listText:"Auto Import",component:cx,path:"/storage/:storageId/auto-import/",entity:"storage"}],wne=t=>e.jsx(gt,{children:Ug.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),Une=t=>e.jsx(bt,{children:Ug.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class Vne extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{storageId:n}=this.props;document.title=`VidiCore Admin | Storage | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{storageId:n,onChangeTab:s,tabValue:o}=this.props,r=i=>e.jsx(wte,{onRefresh:this.onRefresh,storageId:n,...i});return e.jsx(Tt,{mainComponent:Une,listComponent:wne,defaultOpen:!0,onChangeTab:s,tabValue:o,titleComponent:r,storageId:n,entityId:n,entityType:"storage",setOnRefresh:this.setOnRefresh})}}const Gne=I(ln(wg),v)(Vne);function Vg(t){return t!=null&&t.editable?e.jsx(zn,{...t}):e.jsx(sx,{...t})}function qne({storageDocument:t}){const{freeCapacity:n,capacity:s}=t,o=Math.round(n/s*100);return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Type",value:t.type}),e.jsx(h,{title:"State",value:t.state}),e.jsx(h,{title:"Capacity",value:`${xo(t.capacity)} (${o}% Available)`})]})}function Hne({closeModal:t,isOpen:n,groupName:s,storageId:o,onRefresh:r,openSnackBar:i}){const a=()=>{Rs.removeStorageGroupStorage({groupName:s,storageId:o}).then(()=>{const l=`Storage ${o} Removed`;i({messageContent:l}),t(),r()}).catch(()=>{i({messageContent:"Error Removing Storage",messageColor:"secondary"})})};return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Storage "${o}" From Storage Group "${s}"?`}),e.jsx(X,{children:e.jsx(Fn,{children:"This operation does not delete the actual storages."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const dh="STORAGEGROUP_STORAGE_REMOVE_MODAL";function Bne({storageDocument:t,openModal:n,modalName:s,openSnackBar:o,closeModal:r,groupName:i,onRefresh:a,storageId:l,history:d}){return e.jsxs(e.Fragment,{children:[e.jsx(je,{subheader:t.id,action:e.jsx(ee,{onClick:()=>n({modalName:dh}),children:e.jsx(jt,{})})}),e.jsx(V,{onClick:()=>d.push(`/storage/${l}`),children:e.jsx(qne,{storageDocument:t})}),e.jsx(Hne,{isOpen:s===dh,groupName:i,storageId:l,openSnackBar:o,closeModal:r,onRefresh:a})]})}function zne(t){const{ui:{modalName:n}}=t;return{modalName:n}}const Jne={openSnackBar:Le,closeModal:st,openModal:ot},Kne=Ce(zne,Jne)(mo(Bne));function Yne({groupName:t,storageDocument:n,onRefresh:s,storageId:o}){return e.jsx($,{children:e.jsx(Kne,{storageId:o,groupName:t,storageDocument:n,onRefresh:s})})}function Qne({groupName:t,storageGroupDocument:n,onRefresh:s}){const{data:o,storage:r=[]}=n;return e.jsxs(e.Fragment,{children:[r.map(i=>e.jsx(Yne,{storageId:i.id,groupName:t,storageDocument:i,onRefresh:s},i.id)),e.jsx($,{children:e.jsx(Vg,{simpleMetadataList:o,entityType:"storage/storage-group",entityId:t,onSuccess:s,editable:!0})})]})}function Xne({closeModal:t,isOpen:n,groupName:s,history:o,openSnackBar:r}){const i=()=>{Rs.removeStorageGroup({groupName:s}).then(()=>{const a=`Storage Group ${s} Removed`;r({messageContent:a}),o.push("/storage-group/"),t()}).catch(()=>{r({messageContent:"Error Removing Storage Group",messageColor:"secondary"})})};return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Storage Group "${s}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function Zne(t){const{storageGroupDocument:n}=t,{name:s}=n;return Rs.createStorageGroup({groupName:s}).then(()=>({storageGroupDocument:n})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function ese(t,n,s){const{groupName:o}=s,{storageId:r}=t;return Rs.addStorageGroupStorage({storageId:r,groupName:o}).then(()=>({storageId:r})).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function tse({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"storageId",component:m,label:"Storage ID",fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const nse=F()(tse),uh="EDIT_STORAGEGROUP_STORAGE_FORM";function sse({submitForm:t,closeModal:n,isOpen:s,onRefresh:o,openSnackBar:r,groupName:i}){const a=d=>{const{storageId:u}=d,p=`Storage ${u} Added`;r({messageContent:p}),n(),o()},l=()=>{r({messageContent:"Error Adding Storage Group",messageColor:"secondary"})};return e.jsxs(_,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Storage To Group"}),e.jsx(X,{children:e.jsx(nse,{form:uh,groupName:i,onSubmit:ese,onSubmitSuccess:a,onSubmitFail:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(uh),children:"Save"})]})]})}const ose={submitForm:xt,openSnackBar:Le},rse=Ce(null,ose)(sse);function ise({groupName:t,openCode:n,onRefresh:s,openRemove:o,openAddStorage:r}){return e.jsx(Y,{parentTitle:"Storage Group",parentTo:"/storage-group/",title:t,onRefresh:s,openCode:n,actionComponent:e.jsxs(mt,{children:[e.jsx(b,{onClick:r,children:e.jsx(C,{children:"Add Storage"})}),e.jsx(b,{onClick:o,children:e.jsx(C,{color:"error",children:"Remove Storage Group"})})]})})}const mh="STORAGEGROUP_CODE_MODAL",hh="STORAGEGROUP_REMOVE_MODAL",ph="STORAGEGROUP_STORAGE_ADD_MODAL";class ase extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageGroupDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Storage Group | ${n}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,groupName:s}=this.props;try{Rs.getStorageGroup({groupName:s}).then(o=>this.setState({storageGroupDocument:o.data}))}catch{n({messageContent:"Error Loading Storage Group",messageColor:"secondary"})}}render(){const{groupName:n,modalName:s,closeModal:o,openModal:r,openSnackBar:i,history:a}=this.props,{storageGroupDocument:l}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(ise,{openCode:()=>r({modalName:mh}),openRemove:()=>r({modalName:hh}),openAddStorage:()=>r({modalName:ph}),onRefresh:this.onRefresh,groupName:n}),l&&e.jsx(Qne,{onRefresh:this.onRefresh,groupName:n,storageGroupDocument:l}),e.jsx(ut,{isOpen:s===mh,toggleDialogue:o,code:l,title:"StorageGroupDocument"}),e.jsx(Xne,{isOpen:s===hh,groupName:n,openSnackBar:i,closeModal:o,history:a}),e.jsx(rse,{isOpen:s===ph,closeModal:o,groupName:n,onRefresh:this.onRefresh})]})}}function lse(t,n){const{groupName:s}=n.match.params,{ui:{modalName:o}}=t;return{modalName:o,groupName:s}}const cse={openSnackBar:Le,closeModal:st,openModal:ot},dse=Ce(lse,cse)(ase);function use(){return e.jsx(L,{name:"name",component:m,label:"Group Name",fullWidth:!0})}function mse({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(ae,{name:"storageGroupDocument",component:use}),e.jsx("button",{type:"submit",hidden:!0})]})}const hse=F()(mse),xh="EDIT_STORAGEGROUP_FORM";function pse({submitForm:t,closeModal:n,isOpen:s,history:o,openSnackBar:r}){const i=l=>{const{storageGroupDocument:d}=l,{name:u}=d,p=`Storage Group ${u} Created`;r({messageContent:p}),o.push(`/storage-group/${u}/`),n()},a=()=>{r({messageContent:"Error Creating Storage Group",messageColor:"secondary"})};return e.jsxs(_,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Storage Group"}),e.jsx(X,{children:e.jsx(hse,{form:xh,onSubmit:Zne,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(xh),children:"Save"})]})]})}const xse={submitForm:xt,openSnackBar:Le},jse=Ce(null,xse)(pse);function fse({storageGroup:t}){const{name:n}=t;return e.jsx(Be,{hover:!0,to:`/storage-group/${n}/`,children:e.jsx(A,{children:n})})}function gse({storageGroupListDocument:t={}}){const{group:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsx(me,{children:e.jsx(A,{children:"Storage Group Name"})})}),e.jsx(de,{children:n.map(s=>e.jsx(fse,{storageGroup:s},s.name))})]})}function bse({storageGroupListDocument:t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(gse,{storageGroupListDocument:t})})})}function Cse({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(Y,{title:"Storage Group",onRefresh:s,openCode:t,openAction:n})}const jh="STORAGEGROUP_LIST_CODE_MODAL",fh="STORAGEGROUP_CREATE_MODAL";class yse extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageGroupListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Storage Group",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{Rs.listStorageGroup().then(s=>this.setState({storageGroupListDocument:s.data}))}catch{n({messageContent:"Error Loading Storage Group List",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{storageGroupListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Cse,{openCode:()=>o({modalName:jh}),openCreate:()=>o({modalName:fh}),onRefresh:this.onRefresh}),i&&e.jsx(bse,{storageGroupListDocument:i}),e.jsx(ut,{isOpen:n===jh,toggleDialogue:s,code:i,title:"StorageGroupListDocument"}),e.jsx(jse,{isOpen:n===fh,closeModal:s,history:r})]})}}function Sse(t){const{ui:{modalName:n}}=t;return{modalName:n}}const Rse={openSnackBar:Le,closeModal:st,openModal:ot},Tse=Ce(Sse,Rse)(yse);function Ese({open:t,onClose:n,onSuccess:s,openSnackBar:o}){const r=(a,l,d)=>{const{data:u}=a,{id:p}=u,x=`Storage ${p} Created`;o({messageContent:x}),s&&s(a,l,d),n()},i=()=>{o({messageContent:"Error Creating Storage",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Storage"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:hne,documentName:"storageDocument",onSubmit:da,onSubmitSuccess:r,onSubmitFail:i,onCancel:n})})]})}const Ise=I(v)(Ese),vse=t=>({onHover:{marginTop:t.spacing(4),"&:hover":{backgroundColor:t.palette.action.hover}},StorageStatus:{marginTop:t.spacing(1),marginRight:t.spacing(1)}});function Ase({storageDocument:t,classes:n}){const{id:s}=t;return e.jsxs($,{className:n.onHover,children:[e.jsx(je,{component:be,to:`/storage/${s}/`,title:e.jsx(f,{variant:"text",children:e.jsx(C,{variant:"subtitle1",children:s})}),action:e.jsx(Fg,{className:n.StorageStatus,storageDocument:t})}),e.jsxs(V,{children:[e.jsx(Mg,{value:t}),e.jsx(kg,{storageDocument:t,hidePermissions:!0})]})]})}const Fse=xe(vse)(Ase);function Mse({storageListDocument:t}){const{storage:n=[]}=t;return n.map(s=>e.jsx(Fse,{storageDocument:s},s.id))}const Dse=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"size",component:m,fullWidth:!0,label:"Size",helperText:"Range of bytes, in format s1-s2. Returns storages with nominal size that is in that range. Either number can be omitted to not specify lower/upper limit. Size units can be used."}),e.jsx(c,{name:"freebytes",component:m,fullWidth:!0,label:"Free Bytes",helperText:"Range of bytes, in format s1-s2. Returns storages with free space that is in that range. Either number can be omitted to not specify lower/upper limit. Size units can be used."}),e.jsx(c,{name:"usedbytes",component:m,fullWidth:!0,label:"Used Bytes",helperText:"Range of bytes, in format s1-s2. Returns storages with used space that is in that range. Either number can be omitted to not specify lower/upper limit. Size units can be used."}),e.jsx(c,{name:"freeamount",component:m,fullWidth:!0,label:"Free Amount",helperText:"Range of percent as integers, in format s1-s2. Returns storages with used space that is in that range. Either number can be omitted to not specify lower/upper limit."}),e.jsx(c,{name:"files",component:m,fullWidth:!0,label:"Files",helperText:"Range of files as integers, in format s1-s2. Returns storages with number of files that is in that range. Either number can be omitted to not specify lower/upper limit."}),e.jsx(c,{name:"storagegroup",component:m,fullWidth:!0,label:"Storage Group",helperText:`List of storage groups.
storage-group - Returned storage is member of specified storage group.
-storage-group - Returned storage is not member of specified storage group.`}),e.jsx(c,{name:"status",component:m,fullWidth:!0,label:"Status",helperText:`List of storage status.
status - Returned storage has this status.
-status - Returned storage does not have this status.`}),e.jsx(c,{name:"url",component:m,fullWidth:!0,label:"URL",helperText:"Returns storages with a method matching this URL. May include wildcards * and ?."})]});function Pse({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Dse}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ose=F()(Pse);function Lse({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="STORAGE_LIST_PARAMS_FORM",initialValues:a={}}){const l=(u,p,x)=>{n&&n(u,p,x)},d=()=>{s({messageContent:"Error Listing Storages",messageColor:"secondary"})};return e.jsxs(fe,{children:[e.jsx(ge,{children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Storage Params"})}),e.jsx(Ie,{children:e.jsx(Ose,{form:i,onSubmit:Zte,onSubmitSuccess:l,onSubmitFail:d,onCancel:t,destroyOnUnmount:!1,initialValues:a})}),e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Update"})]})]})}const Nse=I(v,M)(Lse);function _se({openCode:t,openCreate:n,onRefresh:s,...o}){return e.jsx(Y,{title:"Storage",onRefresh:s,openAction:n,helpTo:"/ref/storage/storage.html",...o})}const gh="STORAGE_CREATE_MODAL",ua="STORAGE_LIST_PARAMS_FORM";class $se extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={storageListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Storage",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(ua)}onSuccess(n){this.setState({storageListDocument:n==null?void 0:n.data})}render(){const{history:n}=this.props,{storageListDocument:s}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(_se,{onRefresh:this.onRefresh,code:s,codeModal:"storageListDocument",createModal:gh}),e.jsx(Nse,{form:ua,onSuccess:this.onSuccess}),s&&e.jsx(Mse,{storageListDocument:s}),e.jsx(Ise,{dialogName:gh,onSuccess:o=>n.push(`/storage/${o.data.id}`)})]})}}const Wse=I(v,M,Gt)($se,ua);function kse({storageMethodDocument:t,storageId:n,storageMethodId:s,openSnackBar:o,onRefresh:r}){const i="EDIT_STORAGEMETHOD_FORM",a=()=>{o({messageContent:"Storage Method Saved"}),r&&r()},l=()=>{o({messageContent:"Error Updating Storage Method",messageColor:"secondary"})},d={storageId:n,storageMethodId:s},u={value:t.method[0]},p={method:t.method[0]};return e.jsx(Ge,{formComponent:_g,displayComponent:Vte,formName:i,onSubmitSuccess:a,onSubmitFail:l,onSubmit:Yte,formProps:d,displayProps:u,initialValues:p})}const wse={openSnackBar:Le},Use=Ce(null,wse)(kse);function Vse({storageMethodDocument:t,storageMethodId:n,storageId:s,onRefresh:o,...r}){var l;const i=(l=t==null?void 0:t.method)==null?void 0:l[0],a=`storage/${s}/method`;return e.jsx(zn,{entityType:a,entityId:n,simpleMetadataDocument:i.metadata,onSuccess:o,...r})}function Gse(t){return e.jsxs(en,{children:[e.jsx($,{children:e.jsx(Use,{...t})}),e.jsx($,{children:e.jsx(Vse,{...t})})]})}function qse({closeModal:t,isOpen:n,storageId:s,storageMethodId:o,history:r,openSnackBar:i}){const a=()=>{pt.removeStorageMethod({storageId:s,storageMethodId:o}).then(()=>{const l=`Storage Method ${o} Removed`;i({messageContent:l}),r.push(`/storage/${s}`),t()}).catch(()=>{i({messageContent:"Error Removing Storage Method",messageColor:"secondary"})})};return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Storage Method "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function Hse({openCode:t,onRefresh:n,storageId:s,storageMethodId:o,openRemove:r}){return e.jsx(Y,{title:`Method ${o}`,grandParentTitle:"Storage",grandParentTo:"/storage/",parentTitle:s,parentTo:`/storage/${s}`,openCode:t,onRefresh:n,helpTo:"/ref/storage/storage.html#storage-methods",actionComponent:e.jsx(ee,{onClick:r,children:e.jsx(et,{})})})}const bh="STORAGEMETHOD_CODE_MODAL",Ch="STORAGEMETHOD_REMOVE_MODAL";class Bse extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageMethodDocument:void 0}}componentDidMount(){const{storageId:n,storageMethodId:s}=this.props;document.title=`VidiCore Admin | Storage | ${n} | Method | ${s}`,this.onRefresh()}onRefresh(){const{openSnackBar:n,storageId:s,storageMethodId:o}=this.props;try{pt.getStorageMethod({storageId:s,storageMethodId:o}).then(r=>this.setState({storageMethodDocument:r.data}))}catch{n({messageContent:"Error Loading Storage Method",messageColor:"secondary"})}}render(){const{storageId:n,storageMethodId:s,modalName:o,closeModal:r,openModal:i,openSnackBar:a,history:l}=this.props,{storageMethodDocument:d}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Hse,{openCode:()=>i({modalName:bh}),openRemove:()=>i({modalName:Ch}),onRefresh:this.onRefresh,storageId:n,storageMethodId:s}),d&&e.jsx(Gse,{onRefresh:this.onRefresh,storageMethodDocument:d,storageId:n,storageMethodId:s}),e.jsx(ut,{isOpen:o===bh,toggleDialogue:r,code:d,title:"StorageMethodDocument"}),e.jsx(qse,{isOpen:o===Ch,storageId:n,storageMethodId:s,openSnackBar:a,closeModal:r,history:l})]})}}function zse(t,n){const{storageId:s,storageMethodId:o}=n.match.params,{ui:{modalName:r}}=t;return{modalName:r,storageId:s,storageMethodId:o}}const Jse={openSnackBar:Le,closeModal:st,openModal:ot},Kse=Ce(zse,Jse)(Bse);function Yse({open:t,onClose:n,openSnackBar:s,onSuccess:o,tagName:r}){const i=l=>{s({messageContent:"Storage Rule Created"}),n(),o&&o(l)},a=()=>{s({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Storage Rule"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:MF,documentName:"storageRuleDocument",onSubmit:tj,onSubmitSuccess:i,onSubmitFail:a,onCancel:n})})]})}const Qse=v(Yse);function Xse(t){return e.jsx(Y,{title:"Storage Rule",helpTo:"/ref/storage/storage-rule.html",...t})}const yh="STORAGERULE_DIALOG";class Zse extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={storageRulesDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Storage Rule"}onRefresh(){const{openSnackBar:n}=this.props;try{mn.listStorageRule().then(s=>this.setState({storageRulesDocument:s.data}))}catch{n({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}render(){const{storageRulesDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Xse,{onRefresh:this.onRefresh,code:n,codeModal:"StorageRulesDocument",createModal:yh}),n&&e.jsx(ij,{onRefresh:this.onRefresh,storageRulesDocument:n}),e.jsx(Qse,{dialogName:yh,onSuccess:this.onRefresh})]})}}const eoe=H(Zse);const toe=[{name:"24.1.1",url:"https://vidispine.github.io/vidicore-openapi-generator/24.1.1/VidiCore%20-%2024.1.1.openapi.json"}],noe=ba(t=>({Swagger:{'& *[class^="opblock"]':{color:`${t.palette.text.primary} !important`},"& .opblock-title":{color:"#3b4151 !important"},"& .parameter__in":{color:`${t.palette.text.primary}`},'& *[class^="parameter"]':{color:`${t.palette.text.secondary}`},'& *[class^="opblock"] p':{color:`${t.palette.text.primary} !important`},'& *[class^="opblock"] li':{color:`${t.palette.text.primary} !important`},'& *[class^="opblock"] td':{color:`${t.palette.text.secondary} !important`},'& *[class^="opblock"] h4':{color:`${t.palette.text.primary} !important`},'& *[class^="opblock"] h5':{color:`${t.palette.text.secondary} !important`},"& .authorization__btn":{display:"none"},"& .copy-to-clipboard":{display:"none"},"& .opblock .opblock-section-header h4 ":{color:`${t.palette.text.secondary} !important`},"& .opblock-section-header":{backgroundColor:`${t.palette.action.hover} !important`}},Filter:{"& .filter-container input":{borderRadius:t.shape.borderRadius,fontFamily:t.typography.fontFamily,backgroundColor:t.palette.background.paper,color:t.palette.text.primary},"& .filter":{padding:0}},Operations:{}}));function soe({getComponent:t}){const n=t("operations",!0),s=t("FilterContainer",!0),o=noe();return e.jsxs("div",{className:Kt(["swagger-ui",o.Swagger]),children:[e.jsx("div",{className:o.Filter,children:e.jsx(s,{})}),e.jsx("div",{className:o.Operations,children:e.jsx(n,{})})]})}const ooe=()=>({components:{SwaggerLayout:soe}}),roe=t=>{const{baseURL:n}=we.defaultClient.defaults,s={...t.getState().toJSON().spec.json};return s.servers=[{url:n}],t.specActions.updateJsonSpec(s)},ioe=t=>{if(t.loadSpec)return t;const{Authorization:n,RunAs:s}=we.defaultClient.defaults.headers;return t.headers.Authorization=n,s&&(t.headers.RunAs=s),t};function aoe(){return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Swagger",linkTo:"https://swagger.io/docs/specification/about/"}),e.jsx($,{children:e.jsx(V,{children:e.jsx(gC,{url:toe[0].url,docExpansion:!1,filter:!0,tryItOutEnabled:!0,plugins:[ooe],layout:"SwaggerLayout",onComplete:roe,requestInterceptor:ioe})})})]})}function loe({open:t,onClose:n,openSnackBar:s,jobType:o,onSuccess:r}){const i=()=>{nn.removeJobType({jobType:o}).then(()=>{const a=`Job Type ${o} Removed`;s({messageContent:a}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Job Typ",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Job Type "${o}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:i,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const coe=v(loe);function doe(t){return e.jsx(Y,{parentTitle:"Job Type",parentTo:"/jobtype/",title:t==null?void 0:t.taskDefinitionType,helpTo:"/ref/task-definition.html",...t})}class uoe extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({taskDefinitionType:n}){const{taskDefinitionType:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | Task Definition | ${n} | Graph`)}onRefresh(){const{taskDefinitionType:n}=this.props;this.onFetch(n)}onFetch(n){const{useGraphViz:s=!0}=this.props;try{s===!0?nn.getTaskDefinitionType({taskDefinitionType:n,path:`/API/task-definition/jobtype/${n}/graph/dot`,headers:{accept:"text/plain"}}).then(o=>{this.setState({graphDot:o.data})}).catch(o=>this.onRefreshError(o)):nn.getTaskDefinitionType({taskDefinitionType:n,path:`/API/task-definition/jobtype/${n}/graph`,headers:{accept:"image/png"},responseType:"blob"}).then(o=>{this.setState({graphImage:o.data})}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Task Definition",messageColor:"secondary"})}render(){const{titleComponent:n,useGraphViz:s=!0}=this.props,{graphImage:o,graphDot:r}=this.state;return e.jsxs(e.Fragment,{children:[n&&e.jsx(n,{onRefresh:this.onRefresh,breadcumbList:["Graph"],code:r,codeModal:"DOT",codeVariant:"text"}),s===!1&&o?e.jsx("img",{alt:"graph",src:URL.createObjectURL(o),style:{width:"100%"}}):null,s===!0&&r?e.jsx(Tr,{dot:r,width:"100%",height:"80vh"}):null]})}}const moe=H(uoe);function Sh(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"step",type:"number",component:m,fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"previous",component:E}),label:"Previous"}),e.jsx(R,{control:e.jsx(c,{name:"allPrevious",component:E}),label:"All Previous"})]})}function hoe(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"jobType",label:"Job Type",component:z,loadOptions:So,disableInitial:!0,cacheOptions:!0,isClearable:!0,fullWidth:!0,createable:!0}),e.jsx(c,{name:"step",label:"Step",component:m,validate:[Q],type:"number",required:!0,fullWidth:!0}),e.jsx(c,{name:"description",label:"Description",component:m,fullWidth:!0}),e.jsx(c,{name:"flags",label:"Flags",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"critical",component:E}),label:"Critical"}),e.jsx(R,{control:e.jsx(c,{name:"cleanup",component:E}),label:"Cleanup"}),e.jsx(S,{name:"dependency",label:"dependency",component:Sh}),e.jsx(S,{name:"parallelDependency",label:"parallelDependency",component:Sh}),e.jsx(c,{name:"script",label:"script",component:dt,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}),e.jsx(c,{name:"jobType",type:"hidden",component:"input"})]})}function poe({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"taskDefinitionDocument",component:hoe}),e.jsx("button",{type:"submit",hidden:!0})]})}const Gg=F()(poe),Rh="EDIT_TASKDEFINITION_FORM";function xoe({jobType:t,submitForm:n,openSnackBar:s,onClose:o,onSuccess:r,open:i}){const a={taskDefinitionDocument:{jobType:t,script:"//"}},l=u=>{const{uriListDocument:p}=u,{uri:x}=p,g=`Step ID ${x[0]} Saved`;s({messageContent:g}),o(),r&&r()},d=()=>{s({messageContent:"Error Saving Step",messageColor:"secondary"})};return e.jsxs(_,{open:i,onClose:o,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Step"}),e.jsx(X,{children:e.jsx(Gg,{form:Rh,initialValues:a,onSubmit:P3,onSubmitSuccess:l,onSubmitFail:d})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:o,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>n(Rh),children:"Save"})]})]})}const joe=I(v,M)(xoe);function Th({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"step",value:t.step,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"previous",value:t.previous,hover:!0,variant:"boolean"}),e.jsx(h,{title:"allPrevious",value:t.allPrevious,hover:!0,variant:"boolean"})]})}function foe({taskDefinitionDocument:t}){return e.jsxs(e.Fragment,{children:[e.jsxs(O,{container:!0,children:[e.jsxs(O,{item:!0,sm:6,xs:12,children:[e.jsx(h,{title:"ID",value:t.id,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Cleanup",value:t.cleanup,hover:!0,variant:"boolean"}),e.jsx(h,{title:"Critical",value:t.critical,hover:!0,variant:"boolean"}),e.jsx(h,{title:"Extra Data",value:t.extradata,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Flags",value:t.flags,hover:!0,hideNoValue:!0})]}),e.jsxs(O,{item:!0,sm:6,xs:12,children:[e.jsx(h,{title:"Bean",value:t.bean,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Method",value:t.method,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"Plugin",value:t.plugin,hover:!0,variant:"boolean"})]})]}),e.jsxs(O,{container:!0,children:[e.jsx(O,{item:!0,sm:6,xs:12,children:e.jsx(w,{title:"Dependency",component:Th,value:t.dependency})}),e.jsx(O,{item:!0,sm:6,xs:12,children:e.jsx(w,{title:"Parallel Dependency",component:Th,value:t.parallelDependency})})]}),e.jsx(h,{title:"Script",value:t.script,variant:"code",codeProps:{mode:"javascript",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},hideNoValue:!0})]})}function goe({open:t,onClose:n,openSnackBar:s,taskDefinitionDocument:o,onSuccess:r}){const{step:i,jobType:a}=o,l=()=>{nn.removeTaskDefinitionStep({taskDefinitionType:a,taskDefinitionStep:i}).then(()=>{const d=`Step ${i} Removed`;s({messageContent:d}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Step",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Step ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,children:"Cancel"}),e.jsx(f,{onClick:l,color:"secondary",children:"Remove"})]})]})}const boe=v(goe);function Coe({taskDefinitionDocument:t,openSnackBar:n,onRefresh:s,onOpen:o}){const{id:r,step:i,description:a}=t,l=`EDIT_TASKDEFINTION_FORM_${r}`,d=`TASKDEFINITION_REMOVE_${r}`,u=()=>{n({messageContent:"Task Definition Saved"}),s&&s()},p=()=>{n({messageContent:"Error Updating Task Definition",messageColor:"secondary"})},x={taskDefinitionDocument:t},j={taskDefinitionDocument:t};return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{title:`Step ${i}${a?` - ${a}`:""}`,formName:l,onSubmitSuccess:u,onSubmitFail:p,onSubmit:O3,displayProps:x,initialValues:j,displayComponent:foe,formComponent:Gg,iconList:e.jsx(ee,{onClick:()=>o({modalName:d}),children:e.jsx(et,{})})}),e.jsx(boe,{dialogName:d,taskDefinitionDocument:t,onSuccess:s})]})}const yoe=v(Coe);function Soe(t){return e.jsx($,{children:e.jsx(yoe,{...t})})}function Roe({classes:t,taskDefinitionListDocument:n,...s}){const{task:o=[]}=n;return e.jsx(en,{children:o.map(r=>e.jsx(Soe,{taskDefinitionDocument:r,...s},r.id))})}const Eh="TASKDEFINITION_DIALOG";let Toe=class extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={taskDefinitionListDocument:void 0}}componentDidMount(){const{taskDefinitionType:n}=this.props;this.onRefresh(),document.title=`VidiCore Admin | Task Definition | ${n}`}onRefresh(){const{openSnackBar:n,taskDefinitionType:s}=this.props;try{nn.getTaskDefinitionType({taskDefinitionType:s}).then(o=>this.setState({taskDefinitionListDocument:o.data}))}catch{n({messageContent:"Error Getting Job Type",messageColor:"secondary"})}}render(){const{taskDefinitionType:n,titleComponent:s}=this.props,{taskDefinitionListDocument:o}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{onRefresh:this.onRefresh,taskDefinitionType:n,code:o,codeModal:"TaskDefinitionListDocument",createModal:Eh}),o&&e.jsx(Roe,{onRefresh:this.onRefresh,taskDefinitionListDocument:o}),e.jsx(joe,{dialogName:Eh,jobType:n,onSuccess:this.onRefresh})]})}};const Eoe=H(Toe),Ih="TASKDEFINITION_REMOVE_DIALOG",qg=[{listText:"Overview",component:Eoe,path:"/task-definition/jobtype/:taskDefinitionType/",exact:!0},{listText:"Graph",component:moe,path:"/task-definition/jobtype/:taskDefinitionType/graph/"}],Ioe=({taskDefinitionType:t})=>e.jsx(gt,{children:qg.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,{taskDefinitionType:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},n))}),voe=t=>e.jsx(bt,{children:qg.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class Aoe extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{taskDefinitionType:n}=this.props;document.title=`VidiCore Admin | Task Definition | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{taskDefinitionType:n,history:s}=this.props,o=r=>e.jsx(doe,{onRefresh:this.onRefresh,taskDefinitionType:n,removeModal:Ih,...r});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{taskDefinitionType:n,mainComponent:voe,listComponent:Ioe,defaultOpen:!0,titleComponent:o,setOnRefresh:this.setOnRefresh}),e.jsx(coe,{dialogName:Ih,jobType:n,onSuccess:()=>s.push("/jobtype/")})]})}}const Foe=I(We)(Aoe);function Hg(t){const{taskGroupDocument:n}=t,{name:s}=n;return Zo.updateTaskGroup({groupName:s,taskGroupDocument:n}).then(o=>({taskGroupDocument:o.data})).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function Moe({group:t}){return e.jsxs(e.Fragment,{children:[t.priority&&e.jsx(h,{title:"Priority",value:t.priority}),t.maxConcurrency&&e.jsx(h,{title:"Max Concurrency",value:t.maxConcurrency}),t.job&&e.jsxs(e.Fragment,{children:[t.job.map(n=>e.jsxs(T.Fragment,{children:[e.jsx(U,{}),e.jsx(h,{title:"Job Type",variant:"list",value:n.type}),e.jsx(h,{title:"Job Priority",variant:"list",value:n.priority}),e.jsx(h,{title:"Job User",variant:"list",value:n.user}),e.jsx(h,{title:"Job Group",variant:"list",value:n.group})]},n.type)),e.jsx(U,{})]}),t.transcoder&&e.jsxs(e.Fragment,{children:[t.transcoder.map(n=>e.jsxs(T.Fragment,{children:[e.jsx(U,{}),e.jsx(h,{title:"Transcoder",value:n.id})]},n.id)),e.jsx(U,{})]})]})}function Doe({taskGroupDocument:t}){return e.jsx(Moe,{group:t})}function Poe(t){return e.jsx(m,{disabled:(t==null?void 0:t.meta.initial)!==void 0,onFocus:t==null?void 0:t.onFocus,onBlur:t==null?void 0:t.onBlur,...t})}function Ooe({fields:t}){return e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsx(O,{item:!0,sm:10,children:e.jsx(L,{name:`${n}.id`,component:m,label:"Transcoder ID",fullWidth:!0})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(ee,{onClick:()=>t.remove(s),children:e.jsx(jt,{})})})]},n)),e.jsx(Zt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Transcoder"})]})}function Loe({fields:t}){return e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsx(O,{item:!0,sm:5,children:e.jsx(L,{name:`${n}.key`,component:m,label:"Data Key",fullWidth:!0})}),e.jsx(O,{item:!0,sm:5,children:e.jsx(L,{name:`${n}.value`,component:m,label:"Data Value",fullWidth:!0})}),e.jsx(O,{item:!0,sm:2,children:e.jsx(ee,{onClick:()=>t.remove(s),children:e.jsx(jt,{})})})]},n)),e.jsx(Zt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Data"})]})}function Noe({fields:t}){return e.jsxs(e.Fragment,{children:[t.map((n,s)=>e.jsxs(T.Fragment,{children:[e.jsxs(O,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[e.jsxs(O,{item:!0,sm:10,children:[e.jsx(L,{name:`${n}.type`,label:"Job Type",component:z,loadOptions:So,isMulti:!0,cacheOptions:!0,isClearable:!0,fullWidth:!0,createable:!0}),e.jsx(L,{name:`${n}.priority`,label:"Job Priority",component:pe,simple:!0,fullWidth:!0}),e.jsx(L,{name:`${n}.user`,label:"Job User",component:pe,simple:!0,fullWidth:!0}),e.jsx(L,{name:`${n}.group`,label:"Job Group",component:pe,simple:!0,fullWidth:!0})]}),e.jsx(O,{item:!0,sm:2,children:e.jsx(ee,{onClick:()=>t.remove(s),children:e.jsx(jt,{})})})]},n),e.jsx(Rt,{name:`${n}.data`,component:Loe})]},n)),e.jsx(Zt,{onClick:()=>t.push(),color:"primary",style:{marginTop:10},children:"Add Job"})]})}function _oe(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{name:"name",component:Poe,label:"Name",required:!0,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsxs(L,{name:"priority",component:K,children:[e.jsx(b,{value:"HIGHEST",children:"HIGHEST"}),e.jsx(b,{value:"HIGH",children:"HIGH"}),e.jsx(b,{value:"MEDIUM",children:"MEDIUM"}),e.jsx(b,{value:"LOW",children:"LOW"}),e.jsx(b,{value:"LOWEST",children:"LOWEST"})]})]}),e.jsx(L,{name:"maxConcurrency",component:m,label:"Max Concurrency",fullWidth:!0}),e.jsx(O,{container:!0,direction:"column",children:e.jsx(Rt,{name:"transcoder",component:Ooe})}),e.jsx(O,{container:!0,direction:"column",children:e.jsx(Rt,{name:"job",component:Noe})}),e.jsx(ae,{name:"metadata",component:Ln})]})}function $oe({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(ae,{name:"taskGroupDocument",component:_oe}),e.jsx("button",{type:"submit",hidden:!0})]})}const Bg=F()($oe),vh="EDIT_TASKGROUP_FORM";class Woe extends T.PureComponent{constructor(n){super(n),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:n}=this.state;this.setState({isEditing:!n})}render(){const{taskGroupDocument:n,submitForm:s,groupName:o,onRefresh:r,openSnackBar:i}=this.props,{isEditing:a}=this.state,l={taskGroupDocument:n},d=()=>{this.toggleEdit(),i({messageContent:"Task Group Saved"}),r&&r()},u=()=>{i({messageContent:"Error Updating Task Group",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(je,{action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(R,{control:e.jsx(on,{color:"primary"}),label:"Edit",checked:a,onChange:this.toggleEdit})})})}),e.jsx(V,{children:a?e.jsx(Bg,{form:vh,initialValues:l,onSubmit:Hg,onSubmitSuccess:d,onSubmitFail:u,groupName:o}):e.jsx(Doe,{taskGroupDocument:n})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsxs(te,{children:[e.jsx(f,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),e.jsx(f,{onClick:()=>s(vh),size:"small",color:"primary",children:"Save"})]})]})]})}}const koe={submitForm:xt,openSnackBar:Le},woe=Ce(null,koe)(Woe);function Uoe({groupName:t,taskGroupDocument:n,onRefresh:s}){const{metadata:o={}}=n;return e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsx(woe,{groupName:t,taskGroupDocument:n,onRefresh:s})}),o&&e.jsx($,{children:e.jsx(Vg,{simpleMetadataList:o.field,entityType:"task-group",entityId:t,onSuccess:s,editable:!0})})]})}function Voe({closeModal:t,isOpen:n,groupName:s,onRemove:o}){return e.jsxs(_,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Task Group "${s}"?`}),e.jsx(X,{children:e.jsx(Fn,{children:"This may affect access to future imports."})}),e.jsxs(W,{children:[e.jsx(f,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:()=>o({groupName:s}),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function Goe({openCode:t,onRefresh:n,groupName:s,openRemove:o}){return e.jsx(Y,{title:s,parentTitle:"Task Group",parentTo:"/task-group/",openCode:t,onRefresh:n,actionComponent:e.jsx(ee,{onClick:o,children:e.jsx(et,{})})})}const Ah="TASKGROUP_CODE_MODAL",Fh="TASKGROUP_REMOVE_MODAL";class qoe extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRemove=this.onRemove.bind(this),this.state={taskGroupDocument:void 0}}componentDidMount(){const{groupName:n}=this.props;document.title=`VidiCore Admin | Task Group | ${n}`,this.onRefresh()}async onRefresh(){const{openSnackBar:n,groupName:s}=this.props;try{const{data:o}=await Zo.getTaskGroup({groupName:s});this.setState({taskGroupDocument:o})}catch{n({messageContent:"Error Loading Task Group",messageColor:"secondary"})}}onRemove({groupName:n}){const{openSnackBar:s,history:o,closeModal:r}=this.props;try{Zo.removeTaskGroup({groupName:n}).then(()=>{const i=`Task Group ${n} Removed`;s({messageContent:i}),o.push("/task-group/"),r()})}catch{s({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,groupName:r}=this.props,{taskGroupDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Goe,{groupName:r,openCode:()=>o({modalName:Ah}),openRemove:()=>o({modalName:Fh}),onRefresh:this.onRefresh}),i&&e.jsx(Uoe,{groupName:r,taskGroupDocument:i,onRefresh:this.onRefresh}),e.jsx(ut,{isOpen:n===Ah,toggleDialogue:s,code:i,title:"TaskGroupDocument"}),e.jsx(Voe,{isOpen:n===Fh,closeModal:s,onRemove:this.onRemove,groupName:r})]})}}function Hoe(t,n){const{groupName:s}=n.match.params,{ui:{modalName:o}}=t;return{groupName:s,modalName:o}}const Boe={openSnackBar:Le,closeModal:st,openModal:ot},zoe=Ce(Hoe,Boe)(qoe),Mh="EDIT_TASKGROUP_FORM";function Joe({submitForm:t,closeModal:n,isOpen:s,history:o,openSnackBar:r}){const i=l=>{const{taskGroupDocument:d}=l,{name:u}=d,p=`Task Group ${u} Created`;r({messageContent:p}),o.push(`/task-group/${u}`),n()},a=()=>{r({messageContent:"Error Creating Task Group",messageColor:"secondary"})};return e.jsxs(_,{open:s,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Task Group"}),e.jsx(X,{children:e.jsx(Bg,{form:Mh,onSubmit:Hg,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Mh),children:"Save"})]})]})}const Koe={submitForm:xt,openSnackBar:Le},Yoe=Ce(null,Koe)(Joe);function Qoe({group:t}){return e.jsxs(Be,{hover:!0,to:`/task-group/${t.name}/`,children:[e.jsx(A,{children:t.name}),e.jsx(A,{})]})}function Xoe({taskGroupListDocument:t={}}){const{group:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"Name"}),e.jsx(A,{})]})}),e.jsx(de,{children:n.map(s=>e.jsx(Qoe,{group:s},s.name))})]})}function Zoe({taskGroupListDocument:t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Xoe,{taskGroupListDocument:t})})})}function ere({openCode:t,openCreate:n,onRefresh:s}){return e.jsx(Y,{title:"Task Group",onRefresh:s,openCode:t,openAction:n})}const Dh="TASKGROUPLIST_CODE_MODAL",Ph="TASKGROUPLIST_CREATE_MODAL";class tre extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={taskGroupListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Task Group",this.onRefresh()}async onRefresh(){const{openSnackBar:n}=this.props;try{const{data:s}=await Zo.listTaskGroup();this.setState({taskGroupListDocument:s})}catch{n({messageContent:"Error Loading Task Groups",messageColor:"secondary"})}}render(){const{modalName:n,closeModal:s,openModal:o,history:r}=this.props,{taskGroupListDocument:i}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(ere,{openCode:()=>o({modalName:Dh}),openCreate:()=>o({modalName:Ph}),onRefresh:this.onRefresh}),i&&e.jsx(Zoe,{taskGroupListDocument:i}),e.jsx(ut,{isOpen:n===Dh,toggleDialogue:s,code:i,title:"TaskGroupListDocument"}),e.jsx(Yoe,{isOpen:n===Ph,closeModal:s,history:r})]})}}function nre(t){const{ui:{modalName:n}}=t;return{modalName:n}}const sre={openSnackBar:Le,closeModal:st,openModal:ot},ore=Ce(nre,sre)(tre);function rre(t){return e.jsx(cr,{...t,children:e.jsx("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})})}const zg=T.forwardRef((t,n)=>e.jsx(ee,{color:"inherit",href:"https://github.com/vidispine/admin-tool",target:"_blank",rel:"noopener noreferrer",disableRipple:!0,ref:n,children:e.jsx(rre,{})})),ire=({palette:t})=>({barColorPrimary:{backgroundColor:{light:"rgb(3, 102, 214)",dark:"rgb(88, 166, 255)"}[t.type]},colorPrimary:{backgroundColor:"#005d9f"}});class are extends T.PureComponent{constructor(n){super(n),this.onShow=this.onShow.bind(this),this.onHide=this.onHide.bind(this),this.onDelayHide=this.onDelayHide.bind(this),this.onClear=this.onClear.bind(this),this.requestInterceptor=we.defaultClient.interceptors.request.use(s=>(this.onShow(),s)),this.responseInterceptor=we.defaultClient.interceptors.response.use(s=>(this.onDelayHide(),s),s=>(this.onDelayHide(),Promise.reject(s))),this.state={isLoading:!1}}componentWillUnmount(){we.defaultClient.interceptors.request.eject(this.requestInterceptor),we.defaultClient.interceptors.response.eject(this.responseInterceptor),this.onClear()}onShow(){this.onClear(),this.setState({isLoading:!0})}onHide(){this.setState({isLoading:!1}),this.onClear()}onDelayHide(){this.timer=setInterval(()=>this.onHide(),1e3)}onClear(){clearInterval(this.timer),this.timer=void 0}render(){const{isLoading:n}=this.state,{classes:s}=this.props;return e.jsx("div",{children:e.jsx(Mp,{variant:n?"indeterminate":"determinate",color:"primary",classes:{colorPrimary:s.colorPrimary,barColorPrimary:s.barColorPrimary},value:100})})}}const lre=xe(ire)(are);function cre(t){return e.jsxs(cr,{...t,"data-name":"Layer 1",viewBox:"0 0 747.77 839.9",children:[e.jsxs("defs",{children:[e.jsx("style",{children:`.cls-1 {
        fill: url(#linear-gradient);
      }`}),e.jsxs("linearGradient",{id:"linear-gradient",x1:"0",y1:"419.95",x2:"747.77",y2:"419.95",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0",stopColor:"#c4198b"}),e.jsx("stop",{offset:".34",stopColor:"#ef4066"}),e.jsx("stop",{offset:".71",stopColor:"#f68b1f"}),e.jsx("stop",{offset:".99",stopColor:"#ffe300"})]})]}),e.jsx("path",{className:"cls-1",d:"M192.89,835.33c-1.8,2.9-2.86,4.58-2.86,4.58,182.5-84.01,267.11-105.29,288.23-123.53,11.25-9.72,17.67-22.73,24.63-35.55,25.49-46.91,50.58-94.03,75.87-141.05l165.21-307.15c6.53-12.14,4.52-27.09-4.98-37.08L562.32,9.91c-16.27-17.09-44.82-11.2-52.99,10.93l-192.13,519.88h0c-28.57,77.31-57.14,154.63-85.72,231.94-8.21,22.21-19.81,50.91-38.59,62.67ZM248.33,635.62c-13.78,39.77-27.2,79.69-41.33,119.33-6.03,16.91-12.18,39.24-30.67,46.37-50.01,19.3-72.54-70.95-80.93-102.72C63.6,578.22,31.8,457.84,0,337.46c-.03-7.13,6.32-13.05,13.81-11.91l212.9,32.27c4.05.61,7.5,3.22,9.17,6.96,7.88,17.59,32.26,71.76,60.52,132.03-16.03,46.27-32.05,92.54-48.08,138.81Z"})]})}const dre=T.forwardRef(({IconButtonProps:t={},IconProps:n={}},s)=>e.jsx(ee,{color:"inherit",href:"https://vidispine.com",target:"_blank",rel:"noopener noreferrer",disableRipple:!0,ref:s,...t,children:e.jsx(cre,{...n})})),ure=t=>({root:{backgroundColor:{light:"rgb(36, 41, 46)",dark:"rgb(22, 27, 34)"}[t.palette.type],color:{light:"rgb(255, 255, 255)",dark:"rgb(240, 246, 252)"}[t.palette.type],zIndex:t.zIndex.drawer+1},VidispineIcon:{width:15,height:15},VidispineButton:{width:24,height:24,backgroundColor:{light:"rgb(255, 255, 255)",dark:"rgb(240, 246, 252)"}[t.palette.type],padding:2,borderRadius:20}});function mre({toggleMainMenu:t,toggleHistory:n,classes:s,onLogout:o,userName:r,baseURL:i}){const a=GC(),[l,d]=T.useState($p("paletteType")||"system"),p=mp("(prefers-color-scheme: dark)")?"dark":"light",x=j=>{j!==null&&(d(j),j==="system"?(document.cookie="paletteType=;path=/;max-age=31536000",a({paletteType:p})):(document.cookie=`paletteType=${j};path=/;max-age=31536000`,a({paletteType:j})))};return e.jsxs(pr,{elevation:0,classes:{root:s.root},position:"fixed",children:[e.jsxs(xr,{disableGutters:!0,variant:"dense",children:[e.jsx(ve,{title:"Menu",children:e.jsx(ee,{onClick:t,color:"inherit",children:e.jsx(bC,{})})}),e.jsx(ve,{title:"API History",children:e.jsx(ee,{onClick:n,color:"inherit",children:e.jsx(CC,{})})}),e.jsx(C,{variant:"subtitle2",color:"inherit",children:i}),e.jsx(yC,{xsDown:!0,children:e.jsx("div",{style:{flex:1,justifyContent:"center",alignItems:"center",display:"flex"},children:e.jsx("div",{style:{maxWidth:540,width:"100%"},children:e.jsx(lf,{variant:"outlined"})})})}),{light:e.jsx(ve,{title:"Light Theme",children:e.jsx(ee,{onClick:()=>x("dark"),color:"inherit",children:e.jsx(SC,{})})}),dark:e.jsx(ve,{title:"Dark Theme",children:e.jsx(ee,{onClick:()=>x("system"),color:"inherit",children:e.jsx(RC,{})})}),system:e.jsx(ve,{title:"Auto Theme",children:e.jsx(ee,{onClick:()=>x("light"),color:"inherit",children:e.jsx(TC,{})})})}[l],e.jsx(ve,{title:"GitHub",children:e.jsx(zg,{})}),e.jsx(ve,{title:"Vidispine",children:e.jsx(dre,{IconProps:{className:s.VidispineIcon},IconButtonProps:{className:s.VidispineButton}})}),e.jsxs(mt,{icon:e.jsx(EC,{}),iconProps:{color:"inherit"},children:[e.jsx(b,{disabled:!0,children:e.jsx(C,{children:`User: ${decodeURI(r)}`})}),e.jsx(be,{to:ie.user({userName:r}),children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Profile"})})}),e.jsx(be,{to:ie.importAccessUser({userName:r}),children:e.jsx(b,{children:e.jsx(C,{color:"inherit",children:"Import Access"})})}),e.jsx(b,{onClick:o,children:e.jsx(C,{color:"error",children:"Sign out"})})]})]}),e.jsx(lre,{})]})}const hre=xe(ure)(mre);function pre(t,n,s){const o=s.transferId||t.transferId,{queryParams:r}=t;return Op.updateTransferPriority({transferId:o,queryParams:r}).catch(i=>{let a=i.message;throw i.response&&(a=JSON.stringify(i.response.data,(l,d)=>d===null?void 0:d)),new q({_error:a})})}function xre(t){const{queryParams:n}=t;return Op.listTransfer({queryParams:n}).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}const jre=()=>e.jsx(c,{name:"transferPriority",component:m,type:"number",fullWidth:!0});function fre({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:jre}),e.jsx("button",{type:"submit",hidden:!0})]})}const gre=F()(fre),Oh="TRANSFER_PRIORITY_FORM";function bre({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,transferDocument:i}){if(i===void 0)return null;const{name:a,priority:l}=i,d=(p,x,j)=>{o({messageContent:"Transfer Updated"}),s&&s(p,x,j),n()},u=()=>{o({messageContent:"Error Updating Transfer",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Change Transfer Priority"}),e.jsx(Ne,{children:e.jsx(gre,{form:Oh,onSubmit:pre,onSubmitSuccess:d,onSubmitFail:u,onCancel:n,transferId:a,initialValues:{priority:l}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Oh),children:"Save"})]})]})}const Cre=I(v,M)(bre);function yre({transferDocument:t={},onOpen:n}){return e.jsxs(Te,{hover:!0,children:[e.jsx(P,{children:t.name}),e.jsx(P,{children:t.state}),e.jsx(P,{children:t.priority}),e.jsx(P,{children:xo(t.transferred)}),e.jsx(P,{children:e.jsx(be,{to:`/file/${t.fileId}/`,children:t.fileId})}),e.jsx(P,{disableOnClick:!0,children:["TRANSFERRING","WAITING"].includes(t.state)&&e.jsx(ee,{onClick:()=>n({transferDocument:t}),children:e.jsx(dr,{})})})]})}const Lh="TRANSFER_PRIORITY_DIALOG";function Sre({transferListDocument:t,onSuccess:n,dialogProps:s,onOpen:o}){const{transfer:r=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"Name"}),e.jsx(P,{children:"State"}),e.jsx(P,{children:"Priority"}),e.jsx(P,{children:"Transferred"}),e.jsx(P,{children:"File Id"}),e.jsx(P,{})]})}),e.jsx(de,{children:r.map(i=>e.jsx(yre,{transferDocument:i,onOpen:o(Lh)},i.name))})]}),e.jsx(Cre,{...s,dialogName:Lh,onSuccess:n})]})}const Rre=Ze(Sre);function Tre({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Rre,{...t})})})}const Ere=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"state",children:"State"}),e.jsxs(c,{name:"state",component:K,children:[e.jsx(b,{value:"TRANSFERRING",children:"Transferring"}),e.jsx(b,{value:"WAITING",children:"Waiting"}),e.jsx(b,{value:"FINISHED",children:"Finished"}),e.jsx(b,{value:"ABORTED",children:"Aborted"}),e.jsx(b,{value:"FAILED",children:"Failed"}),e.jsx(b,{value:"FINISHED_PART",children:"Finished Part"})]})]});function Ire({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Ere}),e.jsx("button",{type:"submit",hidden:!0})]})}const vre=F()(Ire);function Are({onClose:t,onSuccess:n,openSnackBar:s,submitForm:o,resetForm:r,form:i="TRANSFER_FILTER_FORM"}){const a=(d,u,p)=>{n&&n(d,u,p)},l=()=>{s({messageContent:"Error Listing Transfers",messageColor:"secondary"})};return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(vre,{form:i,onSubmit:xre,onSubmitSuccess:a,onSubmitFail:l,onCancel:t,initialValues:{queryParams:{state:"FINISHED"}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:()=>r(i),children:"Reset"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>o(i),children:"Filter"})]})]})}const Fre=I(v,M)(Are);function Mre({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Fre,{...t})})})}function Dre(t){return e.jsx(Y,{title:"Transfer",helpTo:"/ref/transfer.html",...t})}const Nh="TRANSFER_FILTER_FORM";class Pre extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={transferListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Transfers",this.onRefresh()}onRefresh(){const{submitForm:n}=this.props;n(Nh)}onSuccess(n){this.setState({transferListDocument:n.data})}render(){const{transferListDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(Dre,{code:n,codeModal:"TransferListDocument",onRefresh:this.onRefresh}),e.jsx(Mre,{form:Nh,onSuccess:this.onSuccess}),n&&e.jsx(Tre,{transferListDocument:n,onSuccess:this.onRefresh})]})}}const Ore=M(Pre),Lre=he(t=>{const{userDocument:n,queryParams:s}=t;return nt.createUser({userDocument:n,queryParams:s}).then(()=>({data:n}))}),Nre=he((t,n,s)=>{const{queryParams:o}=t,r=s.userName||t.userName;return nt.disableUser({userName:r,queryParams:o})}),_re=he((t,n,s)=>{const o=s.userName||t.userName,{userDocument:r,queryParams:i}=t;return nt.updateUser({userName:o,userDocument:r,queryParams:i})}),Jg=he((t,n,s)=>{const o=s.userName||t.userName,{password:r,queryParams:i}=t;return nt.updateUserPassword({userName:o,password:r,queryParams:i})});function $re(t,n,s){const{headers:o={},queryParams:r}=t,i=s.runAs||t.runAs||o.runAs;return nt.getToken({queryParams:r,headers:{runAs:i,...o}}).then(a=>({...a,runAs:i})).catch(a=>{let l=a.message;if(a.response){const{data:d,statusText:u}=a.response;d?l=JSON.stringify(d,(p,x)=>x===null?void 0:x):l=u}throw new q({_error:l})})}function Wre(t,n,s){const{headers:o={}}=t,{status:r}=s,{runAs:i,token:a}=o;return nt.whoAmI({headers:{Authorization:`token ${a}`}}).then(({data:l})=>({userName:l,runAs:i,data:a})).catch(l=>{let d=l.message;if(l.response){const{data:u,statusText:p}=l.response;u?d=JSON.stringify(u,(x,j)=>j===null?void 0:j):d=p}throw r==="ok"&&d==="Network Error"?new q({_error:"Incorrect Token"}):new q({_error:d})})}function _h(t,n,s){const{headers:o={},queryParams:r,baseURL:i,accessKey:a,secretKey:l}=t,{status:d,useContainerProxy:u,useDevProxy:p}=s,{runAs:x,token:j,bearer:g,...y}=o;if(a&&l&&(y.username=a,y.password=l),g&&(y.authorization=g.startsWith("Bearer ")?g:`'Bearer ${g}`),j)return Wre(t,n,s);const D=i.replace(/\/+$/,""),se=u||p?void 0:D,re=s.userName||t.userName||o.username;return nt.getUserToken({username:re,queryParams:r,headers:y,baseURL:se}).then(_e=>({..._e,userName:re,runAs:x,baseURL:D})).catch(_e=>{let Oe=_e.message;if(_e.response){const{data:ke,statusText:$t}=_e.response;ke?Oe=JSON.stringify(ke,(Rn,tn)=>tn===null?void 0:tn):Oe=Oe||$t}throw d==="ok"&&Oe==="Network Error"?new q({_error:"Incorrect Credentials"}):new q({_error:Oe})})}const kre=he((t,n,s)=>{const{groupListDocument:o,queryParams:r}=t,i=s.userName||t.userName;return nt.updateUserGroup({userName:i,groupListDocument:o,queryParams:r})}),wre=he((t,n,s)=>{const{realName:o}=t,r=s.userName||t.userName;return nt.updateUserRealName({userName:r,realName:o})}),Ure=he((t,n,s)=>{const{alias:o}=t,r=s.userName||t.userName;return nt.createAlias({userName:r,alias:o})}),Vre=he((t,n,s)=>{const{queryParams:o}=t,r=s.userName||t.userName;return nt.createKey({userName:r,queryParams:o})}),Gre=he(t=>{const{queryParams:n={},userSearchDocument:s={}}=t;return nt.searchUser({queryParams:n,userSearchDocument:s})}),qre=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{control:e.jsx(c,{name:"hard",component:E}),label:"Hard Delete"}),e.jsx(R,{control:e.jsx(c,{name:"preserveAccess",component:E}),label:"Preserve Access"}),e.jsx(c,{name:"transferAccess",label:"Transfer Access To",component:z,loadOptions:bn,cacheOptions:!0,isClearable:!0,fullWidth:!0,createable:!0}),e.jsx(c,{name:"notification",component:m,fullWidth:!0}),e.jsx(k,{name:"notificationData",component:ne,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"priority",children:"Priority"}),e.jsx(c,{name:"priority",component:K,children:Pe.map(t=>e.jsx(b,{value:t,children:t},t))})]}),e.jsx(k,{name:"jobmetadata",component:ne,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});function Hre({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:qre}),e.jsx("button",{type:"submit",hidden:!0})]})}const Bre=F()(Hre),zre="USER_DISABLE_FORM";function Jre({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,form:a=zre}){const l=(u,p,x)=>{var y,D;const j=(D=(y=x==null?void 0:x.values)==null?void 0:y.queryParms)==null?void 0:D.hard;o({messageContent:`User ${j===!0||j==="true"?"Removed":"Disabled"}`}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Disabling / Removing User",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Disable User"}),e.jsx(Ne,{children:e.jsx(Bre,{form:a,onSubmit:Nre,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,userName:i,initialValues:{queryParams:{hard:!1,preserveAccess:!1}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(a),children:"Disable / Remove"})]})]})}const Kre=I(v,M)(Jre),Yre=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"type",children:"Password Type"}),e.jsxs(c,{name:"type",component:K,children:[e.jsx(b,{value:"md5",children:"MD5"}),e.jsx(b,{value:"raw",children:"Raw"})]})]});function Qre({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"password",component:m,type:"password",fullWidth:!0}),e.jsx(S,{name:"queryParams",component:Yre}),e.jsx("button",{type:"submit",hidden:!0})]})}const Kg=F()(Qre),$h="USER_PASSWORD_FORM";function Xre({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i}){const a=(d,u,p)=>{o({messageContent:"Password Changed"}),s&&s(d,u,p),n()},l=()=>{o({messageContent:"Error Changing Password",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Change Password"}),e.jsx(Ne,{children:e.jsx(Kg,{form:$h,onSubmit:Jg,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,userName:i,initialValues:{queryParams:{type:"raw"}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r($h),children:"Change"})]})]})}const Zre=I(v,M)(Xre);function eie({userDocument:t}){if(t===void 0)return null;const{disabled:n}=t;return n===!0?e.jsx(Ue,{avatar:e.jsx(_t,{}),label:"Disabled"}):null}function tie({userName:t,onOpen:n,onEnable:s,realNameModal:o,aliasModal:r,tokenModal:i,passwordModal:a,disableModal:l,userNameModal:d,history:u,...p}){const{code:x}=p;return e.jsx(Y,{helpTo:"/ref/user.html",title:decodeURI(t),parentTitle:"User",parentTo:"/user/",iconList:e.jsxs(e.Fragment,{children:[e.jsx(ve,{title:"Access Keys",children:e.jsx(ee,{onClick:()=>u.push(ie.userAccessKey({userName:t})),children:e.jsx(IC,{})})}),e.jsx(eie,{userDocument:x}),e.jsxs(mt,{children:[t!=="admin"&&e.jsx(b,{onClick:()=>n({modalName:d}),children:e.jsx(C,{children:"Change Username"})}),e.jsx(b,{onClick:()=>n({modalName:a}),children:e.jsx(C,{children:"Change Password"})}),e.jsx(b,{onClick:()=>n({modalName:o}),children:e.jsx(C,{children:"Change Real Name"})}),e.jsx(b,{onClick:()=>n({modalName:r}),children:e.jsx(C,{children:"Add Alias"})}),e.jsx(b,{onClick:()=>n({modalName:i}),children:e.jsx(C,{children:"Generate Token"})}),t!=="admin"&&(x==null?void 0:x.disabled)===!0&&e.jsx(b,{onClick:s,children:e.jsx(C,{children:"Enable User"})}),t!=="admin"&&e.jsx(b,{onClick:()=>n({modalName:l}),children:e.jsx(C,{color:"secondary",children:"Disable/Remove User"})})]})]}),...p})}const nie=gn(tie),sie=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"seconds",label:"Duration (Seconds)",component:m,type:"number",fullWidth:!0}),e.jsx(R,{control:e.jsx(c,{name:"autoRefresh",component:E}),label:"Auto Refresh"})]});function oie({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:sie}),e.jsx("button",{type:"submit",hidden:!0})]})}const rie=F()(oie),Wh="USER_TOKEN_FORM";function iie({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,userToken:a}){const l=(u,p,x)=>{o({messageContent:"New Token Generated"}),s&&s(u,p,x)},d=()=>{o({messageContent:"Error Generating Token",messageColor:"secondary"})};return e.jsx(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:a?e.jsxs(e.Fragment,{children:[e.jsx(N,{children:"Current Token"}),e.jsx(Ne,{children:a}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>s({data:void 0}),children:"Generate New"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{children:"Generate Token"}),e.jsx(Ne,{children:e.jsx(rie,{form:Wh,onSubmit:$re,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,runAs:i})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Wh),children:"Generate"})]})]})})}const aie=I(v,M)(iie);function lie(){return e.jsx(c,{name:"userName",component:m,fullWidth:!0})}function cie({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"userDocument",component:lie}),e.jsx("button",{type:"submit",hidden:!0})]})}const die=F()(cie),uie="USER_USERNAME_FORM";function mie({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,form:a=uie}){const l=(u,p,x)=>{o({messageContent:"Username Updated"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Updating Username",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Update Username"}),e.jsx(Ne,{children:e.jsx(die,{form:a,onSubmit:_re,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,userName:i,initialValues:{userDocument:{userName:i}}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(a),children:"Update"})]})]})}const hie=I(v,M)(mie);function pie({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"alias",component:m,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const xie=F()(pie),jie="USER_ALIAS_ADD_FORM";function fie({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,form:a=jie}){const l=(u,p,x)=>{o({messageContent:"Alias Added"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Adding Alias",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add Alias"}),e.jsx(Ne,{children:e.jsx(xie,{form:a,onSubmit:Ure,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,userName:i})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(a),children:"Add"})]})]})}const gie=I(v,M)(fie);function bie({open:t,onClose:n,openSnackBar:s,alias:o,userName:r,onSuccess:i}){const a=()=>{nt.removeAlias({userName:r,alias:o}).then(()=>{const l=`Alias ${o} Removed From ${r}`;s({messageContent:l}),n(),i&&i()}).catch(()=>{s({messageContent:"Error Removing Alias From User",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Alias "${o}" From "${r}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Cie=v(bie);function yie({value:t={},onDeleteAlias:n}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"userName",value:t.userName,hover:!0}),e.jsx(h,{title:"realName",value:t.realName,hover:!0}),e.jsx(h,{title:"alias",value:t.alias,variant:"list",hideNoValue:!0,hover:!0,onDelete:n}),e.jsx(h,{title:"id",value:t.id,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"loc",hideNoValue:!0,value:t.loc,hover:!0}),e.jsx(h,{title:"password",value:t.password,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"salt",value:t.salt,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"accessPreserved",value:t.accessPreserved,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"origin",value:t.origin,hideNoValue:!0,hover:!0})]})}function Sie({userDocument:t,onDeleteAlias:n}){return e.jsx(w,{component:yie,value:t,onDeleteAlias:n})}function Rie({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Sie,{...t})})})}function Tie(){return e.jsx(c,{name:"groupName",label:"Group",component:z,loadOptions:Hn,cacheOptions:!0,isClearable:!0,createable:!0})}function Eie(){return e.jsx(k,{name:"group",label:"Group",component:Tie})}const Iie=()=>e.jsx(R,{control:e.jsx(c,{name:"move",component:E}),label:"Move All Groups"});function vie({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Iie}),e.jsx(S,{name:"groupListDocument",component:Eie}),e.jsx("button",{type:"submit",hidden:!0})]})}const Aie=F()(vie),kh="USER_GROUP_FORM";function Fie({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i}){const a=(d,u,p)=>{o({messageContent:"Groups Updated"}),s&&s(d,u,p),n()},l=()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Add User To Groups"}),e.jsx(Ne,{children:e.jsx(Aie,{form:kh,onSubmit:kre,onSubmitSuccess:a,onSubmitFail:l,onCancel:n,userName:i})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(kh),children:"Save"})]})]})}const Mie=I(v,M)(Fie),wh="ADD_USER_GROUP";function Die({userName:t,onSuccess:n,groupListDocument:s,onOpen:o}){return e.jsxs(e.Fragment,{children:[e.jsx(je,{disableTypography:!0,title:e.jsx(C,{variant:"subtitle1",children:"Groups"}),action:e.jsx(O,{container:!0,direction:"row-reverse",alignItems:"center",children:e.jsx(O,{item:!0,children:e.jsx(ve,{title:"Add",children:e.jsx(ee,{onClick:()=>o({modalName:wh}),children:e.jsx(Vt,{})})})})})}),e.jsx(Or,{groupListDocument:s,userName:t,onSuccess:n,showRemove:!0}),e.jsx(Mie,{dialogName:wh,userName:t,onSuccess:n})]})}const Pie=gn(Die);function Oie({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Pie,{...t})})})}function Lie({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"realName",component:m,fullWidth:!0}),e.jsx("button",{type:"submit",hidden:!0})]})}const Nie=F()(Lie),Uh="USER_PASSWORD_FORM";function _ie({open:t,onClose:n,onSuccess:s,openSnackBar:o,submitForm:r,userName:i,realName:a}){const l=(u,p,x)=>{o({messageContent:"Real Name Changed"}),s&&s(u,p,x),n()},d=()=>{o({messageContent:"Error Changing Real Name",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Change Real Name"}),e.jsx(Ne,{children:e.jsx(Nie,{form:Uh,onSubmit:wre,onSubmitSuccess:l,onSubmitFail:d,onCancel:n,userName:i,initialValues:{realName:a}})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(Uh),children:"Change"})]})]})}const $ie=I(v,M)(_ie),Vh="USER_REALNAME_DIALOG",Gh="USER_ALIAS_ADD_DIALOG",qh="USER_ALIAS_REMOVE_DIALOG";let Wie=class extends T.PureComponent{constructor(n){super(n),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onDeleteAlias=this.onDeleteAlias.bind(this),this.state={userDocument:void 0,alias:void 0}}componentDidMount(){this.onRefresh();const{setOnRefresh:n}=this.props;n&&n(this.onRefresh)}UNSAFE_componentWillReceiveProps({userName:n}){const{userName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | User | ${n}`)}onRefresh(){const{userName:n}=this.props;this.onFetch(n)}onFetch(n){try{nt.getUser({userName:n}).then(s=>this.setState({userDocument:s.data})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User",messageColor:"secondary"})}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User",messageColor:"secondary"})}onDeleteAlias(n,s){const{onOpen:o}=this.props;this.setState({alias:s},()=>o({modalName:qh}))}render(){const{userName:n,titleComponent:s,tabComponent:o}=this.props,{userDocument:r,alias:i}=this.state;return e.jsxs(e.Fragment,{children:[s&&e.jsx(s,{code:r,codeModal:"UserDocument",onRefresh:this.onRefresh,realNameModal:Vh,aliasModal:Gh}),o&&e.jsx(o,{}),r&&e.jsxs(e.Fragment,{children:[e.jsx(Rie,{userDocument:r,onDeleteAlias:this.onDeleteAlias}),e.jsx(Jn,{simpleMetadataDocument:r.metadata,onSuccess:this.onRefresh,entityType:"user",entityId:n}),e.jsx(Oie,{groupListDocument:r.groupList,onSuccess:this.onRefresh,userName:n})]}),e.jsx($ie,{dialogName:Vh,onSuccess:this.onRefresh,userName:n,realName:r==null?void 0:r.realName}),e.jsx(gie,{dialogName:Gh,onSuccess:this.onRefresh,userName:n}),e.jsx(Cie,{dialogName:qh,userName:n,alias:i,onSuccess:this.onRefresh})]})}};const kie=v(Wie);function wie({open:t,onClose:n,openSnackBar:s,userName:o,onSuccess:r,keyId:i}){const a=()=>{nt.removeKey({userName:o,keyId:i}).then(()=>{const l=`${i} Removed`;s({messageContent:l}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing User Key",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Key "${i}"?`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Uie=v(wie);function Vie({accessKeyDocument:t={},onOpenRemove:n}){const{id:s,name:o,status:r,created:i}=t;return e.jsxs(me,{children:[e.jsx(A,{children:s}),e.jsx(A,{children:o}),e.jsx(A,{children:i}),e.jsx(A,{children:r}),e.jsx(A,{children:n&&e.jsx(ee,{onClick:()=>n({keyId:s}),children:e.jsx(et,{})})})]})}const Hh="REMOVE_USERKEY_DIALOG";function Gie({accessKeyListDocument:t,onRemoveSuccess:n,userName:s,dialogProps:o,onOpen:r}){if(!t)return null;const{key:i=[]}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(A,{children:"ID"}),e.jsx(A,{children:"Name"}),e.jsx(A,{children:"Created"}),e.jsx(A,{children:"Status"}),e.jsx(A,{})]})}),e.jsx(de,{children:i.map(a=>e.jsx(Vie,{accessKeyDocument:a,onOpenRemove:r(Hh)},a.id))})]}),e.jsx(Uie,{...o,dialogName:Hh,userName:s,onSuccess:n})]})}const qie=Ze(Gie);function Hie({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(qie,{...t})})})}const Bie=()=>e.jsx(c,{name:"name",component:m,fullWidth:!0});function zie({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:Bie}),e.jsx("button",{type:"submit",hidden:!0})]})}const Jie=F()(zie),Bh="EDIT_USERKEY_FORM";function Kie({submitForm:t,openSnackBar:n,onClose:s,onSuccess:o,open:r,userName:i,accessKeyDocument:a,onSetAccessKey:l}){const d=(x,j,g)=>{const{data:y}=x;l(y),n({messageContent:"User Key Created"}),o&&o(x,j,g)},u=()=>{n({messageContent:"Error Creating User Key",messageColor:"secondary"})},p=()=>{l(),s()};return e.jsx(_,{open:r,onClose:s,fullWidth:!0,maxWidth:!1,children:a?e.jsxs(e.Fragment,{children:[e.jsx(N,{children:"Success!"}),e.jsx(X,{children:e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"ID",value:a.id,hideNoValue:!0,hover:!0}),e.jsx(h,{title:"Secret",value:a.secret,hideNoValue:!0,hover:!0})]})}),e.jsx(U,{}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"secondary",onClick:p,children:"Close"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{children:"New User Key"}),e.jsx(X,{children:e.jsx(Jie,{form:Bh,onSubmit:Vre,onSubmitSuccess:d,onSubmitFail:u,userName:i})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:s,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>t(Bh),children:"Create"})]})]})})}const Yie=I(v,M)(Kie),zh="USERKEY_CREATE_MODAL";class Qie extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.onSetAccessKey=this.onSetAccessKey.bind(this),this.state={accessKeyListDocument:void 0}}componentDidMount(){this.onRefresh();const{userName:n}=this.props;document.title=`VidiCore Admin | User | ${n} | Keys`}UNSAFE_componentWillReceiveProps({userName:n}){const{userName:s}=this.props;s!==n&&(this.onFetch(n),document.title=`VidiCore Admin | User | ${n} | Keys`)}onRefresh(){const{userName:n}=this.props;this.onFetch(n)}onFetch(n){try{nt.listKey({userName:n}).then(s=>this.setState({accessKeyListDocument:s.data})).catch(s=>this.onFetchError(s))}catch(s){this.onFetchError(s)}}onSetAccessKey(n){this.setState({accessKeyDocument:n})}onFetchError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User Keys",messageColor:"secondary"})}render(){const{accessKeyListDocument:n,accessKeyDocument:s}=this.state,{userName:o,titleComponent:r,tabComponent:i}=this.props;return e.jsxs(e.Fragment,{children:[r&&e.jsx(r,{title:"Keys",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:o,parentTo:ie.user({userName:o}),onRefresh:this.onRefresh,code:n,codeModal:"AccessKeyListDocument",createModal:zh,createModalTitle:"Create New Key"}),i&&e.jsx(i,{}),e.jsx(Hie,{accessKeyListDocument:n,userName:o,onRemoveSuccess:this.onRefresh}),e.jsx(Yie,{dialogName:zh,onSuccess:this.onRefresh,accessKeyDocument:s,onSetAccessKey:this.onSetAccessKey,userName:o})]})}}const Xie=v(Qie),Yg="USER_DEFAULT_TAB",Zie="USER_GRAPH_TAB",Jh="USER_PASSWORD_DIALOG",Kh="USER_TOKEN_DIALOG",Yh="USER_DISABLE_DIALOG",Qh="USER_USERNAME_DIALOG",Qg=[{tab:Yg,listText:"User",component:kie,path:"/user/:userName/",exact:!0},{tab:Zie,listText:"Keys",component:Xie,path:"/user/:userName/key",exact:!0}],eae=t=>e.jsx(gt,{children:Qg.map(({path:n,listText:s,exact:o})=>e.jsx(Nt,{primary:s,to:Se(n,t),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},n))}),tae=t=>e.jsx(bt,{children:Qg.map(({path:n,component:s,listText:o,exact:r})=>e.jsx(B,{path:n,exact:r,render:()=>e.jsx(s,{...t,title:o})},n))});class nae extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.onEnable=this.onEnable.bind(this),this.onDisableSuccess=this.onDisableSuccess.bind(this),this.onUserNameSuccess=this.onUserNameSuccess.bind(this),this.state={onRefresh:void 0,userToken:void 0}}componentDidMount(){this.onRefresh();const{userName:n}=this.props;document.title=`VidiCore Admin | User | ${n}`}onRefresh(){const{onRefresh:n}=this.state;n&&n()}onEnable(){const{userName:n,openSnackBar:s}=this.props;try{nt.enableUser({userName:n}).then(()=>{s({messageContent:"User Enabled"}),this.onRefresh()}).catch(o=>this.onRefreshError(o))}catch(o){this.onRefreshError(o)}}onDisableSuccess(n,s,o){var a,l;const{history:r}=this.props,i=(l=(a=o==null?void 0:o.values)==null?void 0:a.queryParams)==null?void 0:l.hard;i===!0||i==="true"?r.push("/user/"):this.onRefresh()}onUserNameSuccess(n,s,o){var a,l;const{history:r}=this.props,i=(l=(a=o==null?void 0:o.values)==null?void 0:a.userDocument)==null?void 0:l.userName;i?r.push(ie.user({userName:i})):this.onRefresh()}setOnRefresh(n){this.setState({onRefresh:n})}render(){const{onChangeTab:n,tabValue:s,userName:o}=this.props,{userToken:r}=this.state,i=a=>e.jsx(nie,{onRefresh:this.onRefresh,userName:o,passwordModal:Jh,tokenModal:Kh,onEnable:this.onEnable,disableModal:Yh,userNameModal:Qh,...a});return e.jsxs(e.Fragment,{children:[e.jsx(Tt,{mainComponent:tae,listComponent:eae,defaultOpen:!0,onChangeTab:n,tabValue:s,titleComponent:i,setOnRefresh:this.setOnRefresh,userName:o}),e.jsx(Zre,{dialogName:Jh,userName:o}),e.jsx(Kre,{dialogName:Yh,userName:o,onSuccess:this.onDisableSuccess}),e.jsx(hie,{dialogName:Qh,userName:o,onSuccess:this.onUserNameSuccess}),e.jsx(aie,{dialogName:Kh,userName:o,userToken:r,onSuccess:a=>this.setState({userToken:a.data})})]})}}const sae=I(ln(Yg),We,v)(nae);function oae({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(uf,{...t})})})}const rae=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"disabled",children:"Disabled"}),e.jsxs(c,{name:"disabled",component:K,children:[e.jsx(b,{value:"all",children:"All"}),e.jsx(b,{value:"true",children:"True"}),e.jsx(b,{value:"false",children:"False"})]})]}),e.jsx(R,{control:e.jsx(c,{name:"ignoreCase",component:E,default:""}),label:"Ignore Case"}),e.jsx(c,{name:"first",component:m,type:"number",fullWidth:!0,disabled:!0}),e.jsx(c,{name:"number",component:m,type:"number",fullWidth:!0,disabled:!0})]});function iae({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",label:"queryParams",component:rae,fullWidth:!0})]})}const aae=F()(iae);function Xg(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"name",component:m,fullWidth:!0}),e.jsx(c,{name:"value",component:m,fullWidth:!0})]})}function lae(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"field",component:m,fullWidth:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"order",children:"order"}),e.jsxs(c,{name:"order",component:K,children:[e.jsx(b,{value:"ascending",children:"Ascending"}),e.jsx(b,{value:"descending",children:"Descending"})]})]})]})}function cae(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"field",component:Xg,label:"field",withHeader:!1,arrayHeader:!0}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"operation",children:"Operation"}),e.jsxs(c,{name:"operation",component:K,children:[e.jsx(b,{value:"AND",children:"AND"}),e.jsx(b,{value:"OR",children:"OR"}),e.jsx(b,{value:"NOT",children:"NOT"})]})]})]})}function dae(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"sort",component:lae,label:"sort",withHeader:!1,arrayHeader:!0}),e.jsx(k,{name:"field",component:Xg,label:"field",withHeader:!1,arrayHeader:!0}),e.jsx(S,{name:"operator",label:"operator",component:cae,fullWidth:!0})]})}function uae({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"userSearchDocument",label:"UserSearchDocument",component:dae,fullWidth:!0})]})}const mae=F()(uae),to="USER_LIST_PARAMS_FORM";function hae({number:t,first:n,...s}){return e.jsx(mf,{form:to,formAction:Gre,FormComponent:[aae,mae],title:"User List Params",initialValues:{queryParams:{number:t,first:n}},...s})}function pae(t){return e.jsx(Y,{title:"User",helpTo:"/ref/user.html",...t})}function xae(){return e.jsx(c,{name:"groupName",label:"Group",component:z,loadOptions:Hn,cacheOptions:!0,isClearable:!0,createable:!0})}function jae(){return e.jsx(k,{name:"group",label:"group",component:xae})}function fae(){return e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"userName",component:at,fullWidth:!0}),e.jsx(c,{name:"realName",component:m,fullWidth:!0}),e.jsx(c,{name:"alias",component:pe,simple:!0,fullWidth:!0}),e.jsx(c,{name:"password",component:m,type:"password",fullWidth:!0}),e.jsx(c,{name:"salt",component:m,fullWidth:!0}),e.jsx(S,{name:"groupList",component:jae}),e.jsx(S,{name:"metadata",component:Qa}),e.jsx(R,{control:e.jsx(c,{name:"disabled",component:E}),label:"Disabled"}),e.jsx(R,{control:e.jsx(c,{name:"accessPreserved",component:E}),label:"Access Preserved"}),e.jsx(R,{control:e.jsx(c,{name:"remove",component:E}),label:"Remove"})]})}const gae=()=>e.jsxs(G,{fullWidth:!0,children:[e.jsx(J,{htmlFor:"passwordType",children:"Password Type"}),e.jsxs(c,{name:"passwordType",component:K,children:[e.jsx(b,{value:"md5",children:"MD5"}),e.jsx(b,{value:"raw",children:"Raw"})]})]});function bae({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:gae}),e.jsx(S,{name:"userDocument",component:fae}),e.jsx("button",{type:"submit",hidden:!0})]})}const Cae=F()(bae);function yae({open:t,onClose:n,onSuccess:s,openSnackBar:o}){const r=(a,l,d)=>{o({messageContent:"User Created"}),n(),s&&s(a,l,d)},i=()=>{o({messageContent:"Error Creating User",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New User"}),e.jsx(X,{children:e.jsx(rt,{FormComponent:Cae,documentName:"userDocument",onSubmit:Lre,onSubmitSuccess:r,onSubmitFail:i,onCancel:n,initialValues:{queryParams:{passwordType:"raw"}}})})]})}const Sae=v(yae),Xh="USER_CREATE_MODAL";class Rae extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={userListDocument:void 0,page:0,rowsPerPage:100}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | User"}onRefresh(){const{submitForm:n}=this.props;n(to)}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading User List",messageColor:"secondary"})}async onChangeRowsPerPage({target:{value:n}}={}){const{changeForm:s}=this.props,o=0,r=o*n+1;await s(to,"queryParams.first",r),await s(to,"queryParams.number",n),await this.setState({page:o,rowsPerPage:n}),this.onRefresh()}async onChangePage({page:n}){const{changeForm:s}=this.props,{rowsPerPage:o}=this.state,r=n*o+1;await s(to,"queryParams.first",r),await this.setState({page:n}),this.onRefresh()}render(){const{userListDocument:n,rowsPerPage:s,page:o}=this.state,{history:r}=this.props,i=o*s+1;return e.jsxs(e.Fragment,{children:[e.jsx(pae,{createModal:Xh,onRefresh:this.onRefresh,code:n,codeModal:"UserListDocument"}),e.jsx(hae,{number:s,first:i,onSuccess:a=>this.setState({userListDocument:a.data})}),n&&e.jsx(oae,{userListDocument:n,onRefresh:this.onRefresh,first:i,rowsPerPage:s,count:n.hits,onChangePage:this.onChangePage,page:o,onChangeRowsPerPage:this.onChangeRowsPerPage}),e.jsx(Sae,{dialogName:Xh,onSuccess:a=>r.push(ie.user({userName:a.data.userName}))})]})}}const Tae=I(M,v)(Rae);function Eae({value:t={}}){return e.jsx(h,{title:"licenseError",value:t.licenseError,hover:!0,hideNoValue:!0})}function wo({value:t={},dense:n=!0}){return n?e.jsx(h,{title:`Current: ${t.current}`,value:`Allowed: ${t.allowed==="-1"?"Unlimited":t.allowed}`,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"allowed",value:t.allowed,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"current",value:t.current,hover:!0,hideNoValue:!0})]})}function Iae({value:t={},dense:n=!0}){return n?e.jsx(h,{title:t.name,value:`${t.encode?"Encode":""}${t.decode&&!t.encode?"Decode":""}`,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"encode",value:t.encode,variant:"boolean",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"decode",value:t.decode,variant:"boolean",hover:!0,hideNoValue:!0})]})}function vae({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{value:t.codec,component:Iae}),e.jsx(h,{title:"codecExtraTags",value:t.codecExtraTags,hover:!0,hideNoValue:!0})]})}function Zg({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"macaddress",value:t.macaddress,variant:"list",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"databaseSize",value:t.databaseSize,hover:!0,hideNoValue:!0})]})}function Aae({value:t={},dense:n=!0}){return n?e.jsx(h,{title:t.siteId?`${t.siteId} ${t.name}`:t.name,value:t.version,hover:!0,hideNoValue:!0,titleStartCase:!1}):e.jsxs(e.Fragment,{children:[e.jsx(h,{title:t.name,value:t.version,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"siteId",value:t.siteId,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"version",value:t.version,hover:!0,hideNoValue:!0})]})}function Fae({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"expiryDate",value:t.expiryDate,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"systemInfo",value:t.systemInfo,component:Zg,hideNoValue:!0}),e.jsx(h,{title:"fileStatus",value:t.fileStatus,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"storageNumber",value:t.storageNumber,component:wo,hideNoValue:!0}),e.jsx(w,{title:"userNumber",value:t.userNumber,component:wo,hideNoValue:!0}),e.jsx(w,{title:"itemNumber",value:t.itemNumber,component:wo,hideNoValue:!0}),e.jsx(w,{title:"transcoderNumber",value:t.transcoderNumber,component:wo,hideNoValue:!0}),e.jsx(h,{title:"endCustomerCompanyname",value:t.endCustomerCompanyname,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"endCustomerCompanyContactEmail",value:t.endCustomerCompanyContactEmail,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"resellerCompanyName",value:t.resellerCompanyName,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"resellerCompanyContactEmail",value:t.resellerCompanyContactEmail,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"licenseStatus",value:t.licenseStatus,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"licenseErrorStatus",value:t.licenseErrorStatus,component:Eae,hideNoValue:!0}),e.jsx(h,{title:"licenseType",value:t.licenseType,hover:!0,hideNoValue:!0}),e.jsx(w,{title:"codecStatus",value:t.codecStatus,component:vae,hideNoValue:!0})]})}function Mae({versionDocument:t}){return e.jsx(w,{title:"systemInfo",value:t.systemInfo,component:Zg})}function eb({versionDocument:t}){return e.jsx(w,{title:"licenseInfo",value:t.licenseInfo,component:Fae})}function Dae({versionDocument:t}){return e.jsx(Z,{value:t.component,component:Aae})}function Pae(t){return e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx(je,{title:"System"}),e.jsx(V,{children:e.jsx(Mae,{...t})})]}),e.jsxs($,{children:[e.jsx(je,{title:"License"}),e.jsx(V,{children:e.jsx(eb,{...t})})]}),e.jsxs($,{children:[e.jsx(je,{title:"Component"}),e.jsx(V,{children:e.jsx(Dae,{...t})})]})]})}function tb(t){const{license:n}=t,s=n[0];return vC.createLicense({file:s}).catch(o=>{let r=o.message;throw o.response&&(r=JSON.stringify(o.response.data,(i,a)=>a===null?void 0:a)),new q({_error:r})})}function Oae({error:t,handleSubmit:n,className:s,onSubmit:o,submitOnChange:r}){const i=r?()=>setTimeout(n(a=>o(a))):void 0;return e.jsx("form",{onChange:i,onSubmit:n,className:s,style:{padding:"10px"},children:e.jsxs(O,{container:!0,direction:"column",alignItems:"center",children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(L,{name:"license",label:"Choose License File",fullWidth:!0,component:Ar,validate:[Q]}),e.jsx("button",{type:"submit",hidden:!0})]})})}const Lae="EDIT_LICENSE_FORM",nb=F({form:Lae})(Oae),Zh="EDIT_LICENSE_FORM";function Nae({open:t,onClose:n,submitForm:s,openSnackBar:o,onSuccess:r,onFail:i}){const a=(d,u,p)=>{o({messageContent:"License Updated"}),r&&r(d,u,p),n()},l=(d,u,p)=>{o({messageContent:"Error Updating License",messageColor:"secondary"}),i&&i(d,u,p)};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"Upload License"}),e.jsx(X,{children:e.jsx(nb,{form:Zh,onSubmit:tb,onSubmitSuccess:a,onSubmitFail:l})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"secondary",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>s(Zh),children:"Upload"})]})]})}const _ae=I(v,M)(Nae),$ae=({versionDocument:t})=>{if(t===void 0)return null;const{licenseInfo:n={}}=t,{licenseStatus:s}=n;return s==="valid"?e.jsx(Ue,{avatar:e.jsx(qt,{}),label:"Valid License"}):e.jsx(Ue,{avatar:e.jsx(_t,{}),label:"Invalid License"})};function Wae({uploadModal:t,onOpen:n,...s}){const{code:o}=s,r=$ae({versionDocument:o});return e.jsx(Y,{title:"Version",iconList:e.jsxs(e.Fragment,{children:[t&&e.jsx(ve,{title:"Upload License",children:e.jsx(ee,{onClick:()=>n({modalName:t}),children:e.jsx(AC,{})})}),r]}),...s})}const kae=tt(Wae),ep="VERSION_UPDATE_MODAL";class wae extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.state={versionDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Version",this.onRefresh()}onRefresh(){const{openSnackBar:n}=this.props;try{Lp.getVersion().then(s=>this.setState({versionDocument:s.data}))}catch{n({messageContent:"Error Loading Version Information",messageColor:"secondary"})}}render(){const{versionDocument:n}=this.state;return e.jsxs(e.Fragment,{children:[e.jsx(kae,{onRefresh:this.onRefresh,uploadModal:ep,code:n,codeModal:"VersionDocument"}),n&&e.jsx(Pae,{versionDocument:n}),e.jsx(_ae,{dialogName:ep,onSuccess:this.onRefresh})]})}}const Uae=H(wae);function sb({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"type",value:t.type,hover:!0}),e.jsx(h,{title:"url",value:t.url,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"version",value:t.version,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"reverseAddress",value:t.reverseAddress,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"reverseAddressDetected",value:t.reverseAddressDetected,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"directAccess",value:t.directAccess,hover:!0,hideNoValue:!0,variant:"list"}),e.jsx(h,{title:"state",value:t.state,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"transcoder",value:t.transcoder,component:sb,hideNoValue:!0}),e.jsx(h,{title:"weight",value:t.weight,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"maxJob",value:t.maxJob,hover:!0,hideNoValue:!0})]})}const Vae=({value:t={}})=>e.jsx(h,{title:"s3CredentialType",value:t,hover:!0});function Gae({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"id",value:t.id,hover:!0}),e.jsx(h,{title:"uri",value:t.uri,hover:!0})]})}function qae({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"vsClusterAddress",value:t.vsClusterAddress,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"uri",value:t.uri,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"lastSeen",value:t.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0})]})}function Hae({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"alias",value:t.alias,hover:!0}),e.jsx(w,{value:t.value,component:As})]})}function Bae({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"name",value:t.name,hover:!0}),e.jsx(h,{title:"id",value:t.id,hover:!0}),e.jsx(h,{title:"path",value:t.path,hover:!0}),e.jsx(h,{title:"isCollectionStorage",value:t.isCollectionStorage,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"createProxiesStorage",value:t.createProxiesStorage,hover:!0,hideNoValue:!0})]})}function zae({value:t={}}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"uuid",value:t.uuid,hover:!0}),e.jsx(h,{title:"name",value:t.name,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"uri",value:t.uri,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"lastSeen",value:t.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0}),e.jsx(h,{title:"user",value:t.user,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"allStorages",value:t.allStorages,variant:"boolean",hideNoValue:!0,hover:!0}),e.jsx(Z,{title:"storage",value:t.storage,component:Bae,hideNoValue:!0}),e.jsx(h,{title:"file",value:t.file,hover:!0,variant:"list",hideNoValue:!0}),e.jsx(h,{title:"instance",value:t.instance,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"vxaVersion",value:t.vxaVersion,hover:!0}),e.jsx(w,{component:Vae,value:t.s3CredentialType,hideNoValue:!0}),e.jsx(h,{title:"transcoderVersion",value:t.transcoderVersion,hover:!0}),e.jsx(h,{title:"port",value:t.port,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"status",value:t.status,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"mode",value:t.mode,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"publicKey",value:t.publicKey,hover:!0,variant:"code",hideNoValue:!0}),e.jsx(h,{title:"vsClusterAddress",value:t.vsClusterAddress,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"vsInstance",value:t.vsInstance,component:qae,hideNoValue:!0}),e.jsx(Z,{title:"transcoder",value:t.transcoder,component:sb,hideNoValue:!0}),e.jsx(h,{title:"agentGroup",value:t.agentGroup,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"externalUri",value:t.externalUri,hover:!0,hideNoValue:!0}),e.jsx(h,{title:"publicEndpointUri",value:t.publicEndpointUri,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"Forward Service",value:t.forwardService,component:Gae,hideNoValue:!0}),e.jsx(Z,{title:"resourceTag",value:t.resourceTag,component:yn}),e.jsx(h,{title:"certificate",value:t.certificate,hover:!0,hideNoValue:!0}),e.jsx(Z,{title:"secret",value:t.secret,component:Hae})]})}function Jae({vxaDocument:t}){return e.jsx(w,{component:zae,value:t})}function Kae({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(Jae,{...t})})})}function Yae({open:t,onClose:n,openSnackBar:s,vxaDocument:o,onSuccess:r}){if(o===void 0)return null;const{uuid:i}=o,a=()=>{Cr.removeVxa({vxaUuid:i}).then(()=>{s({messageContent:"Agent Removed"}),n(),r&&r()}).catch(()=>{s({messageContent:"Error Removing Agent",messageColor:"secondary"})})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:`Remove Agent ${i}`}),e.jsxs(W,{children:[e.jsx(f,{onClick:n,color:"primary",children:"Cancel"}),e.jsx(f,{variant:"text",onClick:a,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Qae=v(Yae);function Xae({vxaDocument:t}){if(t===void 0)return null;const{status:n}=t;return n==="ONLINE"?e.jsx(Ue,{avatar:e.jsx(qt,{}),label:"Online"}):e.jsx(Ue,{avatar:e.jsx(_t,{}),label:"Offline"})}function Zae({vxaUuid:t,...n}){return e.jsx(Y,{helpTo:"/ref/vsa.html",title:t,parentTitle:"Agent",parentTo:"/vxa/",iconList:e.jsx(Xae,{vxaDocument:n.code}),...n})}const tp="REMOVE_AGENT_DIALOG";class ele extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={vxaDocument:void 0}}componentDidMount(){this.onRefresh();const{vxaUuid:n}=this.props;document.title=`VidiCore Admin | Agent | ${n}`}onRefresh(){const{vxaUuid:n}=this.props;try{Cr.getVxa({vxaUuid:n}).then(s=>this.setState({vxaDocument:s.data})).catch(s=>this.onRefreshError(s))}catch(s){this.onRefreshError(s)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Agent",messageColor:"secondary"})}render(){const{vxaDocument:n}=this.state,{vxaUuid:s,history:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(Zae,{onRefresh:this.onRefresh,code:n,codeModal:"VXADocument",removeModal:tp,vxaUuid:s}),n&&e.jsx(Kae,{vxaDocument:n}),e.jsx(Qae,{dialogName:tp,onSuccess:()=>o.push("/vxa/"),vxaDocument:n})]})}}const tle=v(ele);function nle({open:t,onClose:n,vxaConfiguration:s}){return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Agent Configuration"}),e.jsx(X,{children:e.jsx(h,{value:s,variant:"code"})}),e.jsx(W,{children:e.jsx(f,{size:"small",onClick:n,children:"Close"})})]})}const sle=I(v,M)(nle);function ole(t){const{queryParams:n}=t;return Cr.createVxa({queryParams:n}).then(s=>({vxaConfiguration:s.data,queryParams:n})).catch(s=>{let o=s.message;throw s.response&&(o=JSON.stringify(s.response.data,(r,i)=>i===null?void 0:i)),new q({_error:o})})}const rle=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"uuid",component:m,fullWidth:!0}),e.jsx(c,{name:"vxaname",label:"Name",component:m,fullWidth:!0}),e.jsx(c,{name:"vsip",label:"API IP",component:m,fullWidth:!0}),e.jsx(c,{name:"vsport",label:"API Port",component:m,fullWidth:!0}),e.jsx(c,{name:"ws",label:"Websocket URI",component:m,fullWidth:!0})]});function ile({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(S,{name:"queryParams",component:rle}),e.jsx("button",{type:"submit",hidden:!0})]})}const ale=F()(ile),np="EDIT_AGENT_FORM";function lle({open:t,onClose:n,openSnackBar:s,onSuccess:o,submitForm:r}){const i=l=>{s({messageContent:"Agent Created"}),n(),o(l)},a=()=>{s({messageContent:"Error Creating Agent",messageColor:"secondary"})};return e.jsxs(_,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[e.jsx(N,{children:"New Agent"}),e.jsx(X,{children:e.jsx(ale,{form:np,onSubmit:ole,onSubmitSuccess:i,onSubmitFail:a})}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",onClick:()=>r(np),children:"Save"})]})]})}const cle=I(v,M)(lle);function dle({vxaDocument:t={}}){return e.jsxs(Te,{to:`/vxa/${t.uuid}/`,hover:!0,children:[e.jsx(P,{children:e.jsx(be,{to:`/vxa/${t.uuid}/`,children:t.uuid})}),e.jsx(P,{children:t.name}),e.jsx(P,{children:t.vxaVersion}),e.jsx(P,{children:t.status==="ONLINE"?e.jsx(qt,{}):e.jsx(_t,{})})]})}function ule({vxaListDocument:t=[]}){const{vxa:n=[]}=t;return e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsxs(Te,{children:[e.jsx(P,{children:"UUID"}),e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Version"}),e.jsx(P,{children:"Status"})]})}),e.jsx(de,{children:n.map(s=>e.jsx(dle,{vxaDocument:s},s.uuid))})]})}function mle({...t}){return e.jsx($,{children:e.jsx(V,{children:e.jsx(ule,{...t})})})}function hle(t){return e.jsx(Y,{title:"Agent",helpTo:"/ref/vsa.html",...t})}const sp="VXA_CREATE_MODAL",op="VXA_CONFIG_MODAL";class ple extends T.PureComponent{constructor(n){super(n),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={vxaListDocument:void 0,vxaConfiguration:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Agent"}onRefresh(){try{Cr.listVxa().then(n=>this.setState({vxaListDocument:n.data})).catch(n=>this.onRefreshError(n))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading Agent List",messageColor:"secondary"})}render(){const{vxaListDocument:n,vxaConfiguration:s}=this.state,{onOpen:o}=this.props;return e.jsxs(e.Fragment,{children:[e.jsx(hle,{createModal:sp,onRefresh:this.onRefresh,code:n,codeModal:"VXAListDocument"}),n&&e.jsx(mle,{vxaListDocument:n,onRefresh:this.onRefresh}),e.jsx(cle,{dialogName:sp,onSuccess:r=>{this.setState({vxaConfiguration:r.vxaConfiguration}),o({modalName:op}),this.onRefresh()}}),s&&e.jsx(sle,{dialogName:op,vxaConfiguration:s})]})}}const xle=v(ple);function jle({handleSubmit:t,error:n}){return e.jsxs("form",{onSubmit:t,children:[n&&e.jsx(C,{color:"error",children:n}),e.jsxs(X,{children:[e.jsx(Fn,{children:"Add built-in shape-tag templates."}),e.jsx(Fn,{children:"These template tags have names that begin with double underscore and cannot be overwritten."})]}),e.jsx("button",{type:"submit",hidden:!0})]})}const no="EDIT_SHAPETAG_PRESET",fle=F({form:no})(jle),_s="EDIT_USER_PASSWORD_FORM",In="EDIT_STORAGE_DETAILS_FORM",$s="EDIT_THUMBNAIL_RESOURCE_FORM",Ws="EDIT_TRANSCODER_RESOURCE_FORM",ks="EDIT_LICENSE_FORM",ws="EDIT_CONFIGURATIONPROPERTIES_SOLRPATH_FORM",Us="EDIT_CONFIGURATIONPROPERTIES_APIURI_FORM",rp={storageDocument:{type:"LOCAL",autoDetect:!0,showImportables:!0,method:[{uri:"file:///media/",read:!0,write:!0,browse:!0}]}},gle={resourceDocument:{transcoder:{url:"http://vidicoder:8888/"}}},ble={resourceDocument:{thumbnail:{path:["file:///thumbnail/"]}}},Cle={configurationPropertyDocument:{key:"apiUri",value:"http://vidicore:8080/API"}},yle={configurationPropertyDocument:{key:"solrPath",value:"http://solr:8983/solr"}};function Sle({openSnackBar:t,submitForm:n}){const[s,o]=T.useState(),[r,i]=T.useState(0),[a,l]=T.useState([]),d=()=>{try{Lp.getVersion().then(({data:y})=>o(y))}catch{t({messageContent:"Error Loading Version Information",messageColor:"secondary"})}};T.useEffect(d,[t]),T.useEffect(()=>{document.title="VidiCore Admin | Wizard"},[]);const u=()=>{r!==0&&i(r-1)},p=()=>i(r+1),x=y=>l([y,...a]),j=({stepName:y,messageContent:D,action:se,canRetry:re=!1})=>{t({messageContent:D}),re===!1&&(p(),x(y)),se&&se()},g=({stepName:y,messageContent:D,action:se,canRetry:re=!1})=>{t({messageContent:D,messageColor:"secondary"}),re===!1&&(p(),x(y)),se&&se()};return e.jsxs(lt,{activeStep:r,orientation:"vertical",children:[e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Set Admin Password"}),e.jsxs(Me,{children:[e.jsx(Kg,{userName:"admin",onSubmit:Jg,initialValues:{passwordType:"raw"},onSubmitFail:()=>g({stepName:_s,messageContent:"Error Changing Password",canRetry:!0}),onSubmitSuccess:()=>j({stepName:_s,messageContent:"Password Changed"}),form:_s}),e.jsxs(te,{children:[e.jsx(f,{onClick:p,children:"Skip"}),a.includes(_s)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(_s),children:"Save"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Upload License"}),e.jsxs(Me,{children:[s&&e.jsx(eb,{versionDocument:ze(s,{licenseInfo:{$unset:["codecStatus"]}})}),e.jsx(nb,{form:ks,onSubmit:tb,onSubmitSuccess:()=>j({stepName:ks,messageContent:"License Updated"}),onSubmitFail:()=>g({stepName:ks,messageContent:"Error Updating License",canRetry:!0})}),e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(ks)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(ks),children:"Upload"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Add Storage"}),e.jsxs(Me,{children:[e.jsx(Og,{form:In,onSubmit:da,initialValues:rp,showMethod:!0,onSubmitSuccess:()=>j({stepName:In,messageContent:"Storage Added"}),onSubmitFail:()=>g({stepName:In,messageContent:"Error Adding Storage"})}),e.jsx(ine,{form:In,onSubmit:da,initialValues:rp,showMethod:!0,onSubmitSuccess:()=>j({stepName:In,messageContent:"Storage Added"}),onSubmitFail:()=>g({stepName:In,messageContent:"Error Adding Storage"})}),e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(In)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(In),children:"Save"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Add Transcoder"}),e.jsxs(Me,{children:[e.jsx(ar,{form:Ws,resourceType:"transcoder",initialValues:gle,onSubmit:ca,onSubmitSuccess:()=>j({stepName:Ws,messageContent:"Transcoder Added"}),onSubmitFail:()=>g({stepName:Ws,messageContent:"Error Adding Transcoder"})}),e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Ws)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Ws),children:"Save"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Add Thumbnail Store"}),e.jsxs(Me,{children:[e.jsx(ar,{form:$s,resourceType:"thumbnail",initialValues:ble,onSubmit:ca,onSubmitSuccess:()=>j({stepName:$s,messageContent:"Thumbnail Store Added"}),onSubmitFail:()=>g({stepName:$s,messageContent:"Error Adding Thumbnail Store"})}),e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes($s)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n($s),children:"Save"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Set API URL"}),e.jsxs(Me,{children:[e.jsx(C,{children:"This is used by the transcoder to connect to the Vidispine API Server"}),e.jsx(Yi,{form:Us,onSubmit:er,initialValues:Cle,onSubmitSuccess:()=>j({stepName:Us,messageContent:"API URL Added"}),onSubmitFail:()=>g({stepName:Us,messageContent:"Error Adding API URL"}),destroyOnUnmount:!0,enableReinitialize:!0}),e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(Us)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(Us),children:"Save"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Add Solr Server"}),e.jsxs(Me,{children:[e.jsx(Yi,{form:ws,onSubmit:er,initialValues:yle,onSubmitSuccess:()=>j({stepName:ws,messageContent:"Solr Server Added"}),onSubmitFail:()=>g({stepName:ws,messageContent:"Error Adding Solr Server"}),destroyOnUnmount:!0,enableReinitialize:!0}),e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(ws)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(ws),children:"Save"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Add Preset Shape Tags"}),e.jsxs(Me,{children:[e.jsx(fle,{onSubmit:Eee,onSubmitSuccess:()=>j({stepName:no,messageContent:"Shape Tags Created"}),onSubmitFail:()=>g({stepName:no,messageContent:"Error Creating Shape Tags"})}),e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{onClick:p,children:"Skip"}),a.includes(no)?e.jsx(C,{variant:"caption",children:"Step completed"}):e.jsx(f,{variant:"text",color:"primary",onClick:()=>n(no),children:"Save"})]})]})]}),e.jsxs(Ae,{children:[e.jsx(Fe,{children:"Complete"}),e.jsxs(Me,{children:["All steps complete.",e.jsxs(te,{children:[e.jsx(f,{onClick:u,children:"Back"}),e.jsx(f,{component:wt,to:"/selftest",variant:"text",color:"primary",children:"Self Test"})]})]})]})]})}const Rle=I(M,v)(Sle),ip="HISTORY_DIALOG",ap="MAINMENU_DIALOG";function Tle({onOpen:t,unsetToken:n,unsetRunAs:s,unsetResponseInterceptor:o,userName:r,baseURL:i}){const a=()=>t({modalName:ip}),l=()=>t({modalName:ap}),d=()=>{n(),s(),o()};return e.jsxs("div",{style:{zIndex:1,minWidth:"100%"},children:[e.jsx(Qw,{dialogName:ap}),e.jsx(f0,{dialogName:ip,baseURL:i}),e.jsx(hre,{onLogout:d,userName:r,toggleMainMenu:l,toggleHistory:a,baseURL:i}),e.jsx("main",{style:{marginLeft:"10px",marginRight:"10px",marginTop:48},children:e.jsxs(bt,{children:[e.jsx(B,{exact:!0,path:"/collection/",component:MM}),e.jsx(B,{path:"/collection/:collectionId/",component:ZF}),e.jsx(B,{exact:!0,path:"/configuration/",component:mD}),e.jsx(B,{exact:!0,path:"/configuration/properties/",component:JL}),e.jsx(B,{exact:!0,path:"/configuration/indexing/",component:iO}),e.jsx(B,{exact:!0,path:"/configuration/ftp-pool/",component:JP}),e.jsx(B,{exact:!0,path:"/configuration/job-pool/",component:CO}),e.jsx(B,{exact:!0,path:"/configuration/path-alias/",component:FL}),e.jsx(B,{exact:!0,path:"/configuration/metrics/",component:aL}),e.jsx(B,{exact:!0,path:"/configuration/logreport/",component:BO}),e.jsx(B,{exact:!0,path:"/configuration/cors/",component:hP}),e.jsx(B,{exact:!0,path:"/configuration/auth/",component:bL}),e.jsx(B,{exact:!0,path:"/configuration/bulkymetadata/",component:QD}),e.jsx(B,{exact:!0,path:"/configuration/purging/",component:LP}),e.jsx(B,{exact:!0,path:"/configuration/job-priority/",component:_O}),e.jsx(B,{exact:!0,path:"/resource/",component:BK}),e.jsx(B,{exact:!0,path:"/resource/:resourceType/",component:WK}),e.jsx(B,{exact:!0,path:"/resource/:resourceType/:resourceId/",component:Q7}),e.jsx(B,{exact:!0,path:"/storage/",component:Wse}),e.jsx(B,{exact:!0,path:"/storage/:storageId/method/:storageMethodId",component:Kse}),e.jsx(B,{exact:!0,path:"/storage/:storageId/file/:fileId/",component:fd}),e.jsx(B,{path:"/storage/:storageId/",component:Gne}),e.jsx(B,{exact:!0,path:"/shape-tag/",component:Ete}),e.jsx(B,{path:"/shape-tag/:tagName/",component:jte}),e.jsx(B,{exact:!0,path:"/version/",component:Uae}),e.jsx(B,{exact:!0,path:"/swagger/",component:aoe}),e.jsx(B,{exact:!0,path:"/service/",component:CQ}),e.jsx(B,{exact:!0,path:"/jobtype/",component:q3}),e.jsx(B,{path:"/task-definition/jobtype/:taskDefinitionType",component:Foe}),e.jsx(B,{exact:!0,path:"/debug/echo",component:n_}),e.jsx(B,{exact:!0,path:"/javascript/test",component:OJ}),e.jsx(B,{exact:!0,path:"/log",component:gR}),e.jsx(B,{exact:!0,path:"/job",component:I3}),e.jsx(B,{exact:!0,path:"/job/problem/",component:D3}),e.jsx(B,{exact:!0,path:"/job/:jobId/",component:p3}),e.jsx(B,{exact:!0,path:"/export-location",component:A_}),e.jsx(B,{exact:!0,path:"/export-location/:locationName/",component:C_}),e.jsx(B,{exact:!0,path:"/selftest/",component:rQ}),e.jsx(B,{exact:!0,path:"/group/",component:i0}),e.jsx(B,{exact:!0,path:"/group/:groupName/",component:qU}),e.jsx(B,{exact:!0,path:"/user/",component:Tae}),e.jsx(B,{path:"/user/:userName/",component:sae}),e.jsx(B,{exact:!0,path:"/external-id/",component:G_}),e.jsx(B,{exact:!0,path:"/search/",component:IY}),e.jsx(B,{exact:!0,path:"/search/file/",component:Ww}),e.jsx(B,{exact:!0,path:"/search/field-group/",component:cW}),e.jsx(B,{exact:!0,path:"/item/",component:RJ}),e.jsx(B,{exact:!0,path:"/item/metadata-group/",component:mJ}),e.jsx(B,{exact:!0,path:"/shape",component:yee}),e.jsx(B,{path:"/item/:itemId/shape/:shapeId/component/:componentId/",component:dD}),e.jsx(B,{path:"/item/:itemId/shape/:shapeId/",component:ree}),e.jsx(B,{path:"/item/:itemId/",component:qz}),e.jsx(B,{exact:!0,path:"/reindex/",component:r7}),e.jsx(B,{exact:!0,path:"/wizard/",component:Rle}),e.jsx(B,{exact:!0,path:"/metadata-field/",component:q9}),e.jsx(B,{exact:!0,path:"/field-group/",component:z$}),e.jsx(B,{path:"/field-group/:groupName",component:U$}),e.jsx(B,{exact:!0,path:"/import/settings/",component:w2}),e.jsx(B,{exact:!0,path:"/import/settings/:settingsId",component:D2}),e.jsx(B,{path:"/import/",component:gG}),e.jsx(B,{exact:!0,path:"/import-imp",component:x2}),e.jsx(B,{exact:!0,path:"/file/",component:sf}),e.jsx(B,{path:"/file/:fileId/",component:fd}),e.jsx(B,{exact:!0,path:"/storage-rule/",component:eoe}),e.jsx(B,{exact:!0,path:"/error/",component:l_}),e.jsx(B,{exact:!0,path:"/vxa/",component:xle}),e.jsx(B,{exact:!0,path:"/vxa/:vxaUuid/",component:tle}),e.jsx(B,{exact:!0,path:"/new-job/",component:j3}),e.jsx(B,{exact:!0,path:"/library/",component:f6}),e.jsx(B,{path:"/library/:libraryId/",component:l6}),e.jsx(B,{exact:!0,path:"/document/",component:BN}),e.jsx(B,{path:"/document/:documentMetadataName",component:kN}),e.jsx(B,{path:"/metadata/:metadataUuid/",component:S6}),e.jsx(B,{exact:!0,path:"/conform/",component:uN}),e.jsx(B,{exact:!0,path:"/projection/",component:y8}),e.jsx(B,{path:"/projection/:projectionId",component:m8}),e.jsx(B,{path:"/metadata-field/:fieldName",component:W9}),e.jsx(B,{exact:!0,path:"/notification/",component:s8}),e.jsx(B,{exact:!0,path:`/notification/:entityType(${$i.join("|")})/`,component:Q9}),e.jsx(B,{exact:!0,path:`/notification/:entityType(${$i.join("|")})/:notificationId`,component:K9}),e.jsx(B,{exact:!0,path:"/notification/:notificationId",component:t8}),e.jsx(B,{exact:!0,path:"/import/access/:userName",component:OG}),e.jsx(B,{exact:!0,path:"/task-group/",component:ore}),e.jsx(B,{exact:!0,path:"/task-group/:groupName/",component:zoe}),e.jsx(B,{exact:!0,path:"/quota/",component:J8}),e.jsx(B,{exact:!0,path:"/storage-group/",component:Tse}),e.jsx(B,{exact:!0,path:"/storage-group/:groupName/",component:dse}),e.jsx(B,{exact:!0,path:"/auto-import/",component:aT}),e.jsx(B,{exact:!0,path:"/auto-import/:storageId/",component:cx}),e.jsx(B,{exact:!0,path:"/service/stacktrace/",component:Fte}),e.jsx(B,{exact:!0,path:"/transfer/",component:Ore}),e.jsx(B,{exact:!0,path:"/scheduled-request/",component:mY}),e.jsx(B,{exact:!0,path:"/stitch/",component:$te}),e.jsx(B,{exact:!0,path:"/deletion-lock/",component:go}),e.jsx(B,{exact:!0,path:"/deletion-lock/:lockId/",component:TN}),e.jsx(B,{exact:!0,path:"/external-id/:entityType/:entityId",component:Dn}),e.jsx(B,{exact:!0,path:"/external-id/:entityType/:entitySubType/:entityId",component:Dn}),e.jsx(B,{exact:!0,path:"/metadata-dataset/",component:G6}),e.jsx(B,{exact:!0,path:"/metadata-dataset/:datasetId/",component:L6}),e.jsx(B,{exact:!0,path:"/analyze-preset/",component:KS}),e.jsx(B,{exact:!0,path:"/analyze-preset/:preset/",component:RS}),e.jsx(B,{exact:!0,path:"/secret/:alias/",component:qY}),e.jsx(B,{exact:!0,path:"/secret/",component:ZY}),e.jsx(FC,{exact:!0,from:"/",push:!0,to:"/job"}),e.jsx(B,{path:"*",component:z9})]})}),e.jsx(ay,{})]})}const Ele=I(fn,tt)(Tle);function Ile(t){const{baseURL:n}=t,s=wp(n);return e.jsx(MC,{basename:s,children:e.jsx(Ele,{...t})})}function vle({open:t,onClose:n,onSuccess:s,onError:o,openSnackBar:r,loadingInit:i,setLoadingInit:a}){const l=()=>{a(!0),Np.createInit().then(()=>{a(!1),r({messageContent:"Init Success"}),n(),s&&s()}).catch(()=>{a(!1),r({messageContent:"Error Running Init",messageColor:"secondary"}),o&&o()})};return e.jsxs(_,{open:t,onClose:n,maxWidth:!1,children:[e.jsx(N,{children:"Run API Init?"}),e.jsx(Ne,{children:"This is required for new Vidispine installations."}),e.jsx(U,{}),e.jsxs(W,{children:[e.jsx(f,{size:"small",color:"inherit",onClick:n,children:"Close"}),e.jsx(f,{size:"small",color:"primary",variant:"outlined",onClick:l,disabled:i,children:i?e.jsx(ds,{color:"primary",size:16}):"Run"})]})]})}const Ale=tt(vle),lp=(t,{secretKey:n,headers:s={}})=>s.token||s.bearer||n?void 0:Q(t),Fle=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"username",label:"Username",component:m,fullWidth:!0,validate:[lp],variant:"outlined",margin:"dense",size:"small"}),e.jsx(c,{name:"password",label:"Password",type:"password",component:m,fullWidth:!0,validate:[lp],variant:"outlined",margin:"dense"})]}),Mle=()=>e.jsx(R,{control:e.jsx(c,{name:"autoRefresh",component:E}),label:"Remember Me"});function Dle({error:t,handleSubmit:n,onTestUrl:s,useDevProxy:o}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(c,{name:"baseURL",label:"VidiCore Server",component:m,required:!0,onBlur:(r,i)=>s(i),fullWidth:!0,autoFocus:!0,validate:[Q,FR],variant:"outlined",margin:"dense",useStartCase:!1,disabled:o}),e.jsx(ae,{name:"headers",component:Fle}),e.jsx(ae,{name:"queryParams",component:Mle}),e.jsx("button",{type:"submit",hidden:!0})]})}const Ple=F()(Dle),Ole=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{name:"token",label:"Token",component:m,fullWidth:!0,variant:"outlined",margin:"dense"}),e.jsx(c,{name:"bearer",label:"JWT Bearer",component:m,fullWidth:!0,variant:"outlined",margin:"dense"}),e.jsx(c,{name:"runAs",label:"Login As User",component:m,fullWidth:!0,variant:"outlined",margin:"dense"})]}),Lle=()=>e.jsx(c,{name:"seconds",label:"Timeout ",component:m,helperText:"Seconds",fullWidth:!0,variant:"outlined",margin:"dense"});function Nle({error:t,handleSubmit:n}){return e.jsxs("form",{onSubmit:n,children:[t&&e.jsx(C,{color:"error",children:t}),e.jsx(ae,{name:"headers",component:Ole}),e.jsx(ae,{name:"queryParams",component:Lle}),e.jsx(c,{name:"accessKey",label:"Access Key",component:m,fullWidth:!0,variant:"outlined",margin:"dense"}),e.jsx(c,{name:"secretKey",label:"Secret Key",component:m,fullWidth:!0,variant:"outlined",margin:"dense"}),e.jsx("button",{type:"submit",hidden:!0})]})}const _le=F()(Nle),Pi="LOGIN_FORM";function $le({onSuccess:t,onFail:n,openSnackBar:s,submitForm:o,...r}){const i=(l,d,u)=>{s({messageContent:"Login Success"}),t&&t(l,d,u)},a=(l,d,u)=>{s({messageContent:"Error Logging In",messageColor:"secondary"}),n&&n(l,d,u)};return e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsx(Ple,{form:Pi,onSubmit:_h,onSubmitSuccess:i,onSubmitFail:a,...r}),e.jsxs(fe,{children:[e.jsx(ge,{style:{padding:0},children:e.jsx(C,{variant:"subtitle2",color:"textSecondary",children:"Advanced"})}),e.jsx(Ie,{style:{padding:0},children:e.jsx(_le,{form:Pi,onSubmit:_h,onSubmitSuccess:i,onSubmitFail:a,...r})})]})]}),e.jsx(W,{children:e.jsx(f,{variant:"outlined",color:"primary",onClick:()=>o(Pi),fullWidth:!0,children:"Log In"})})]})}const Wle=I(Ts,M)($le),kle=`<CORSConfigurationDocument xmlns="http://xml.vidispine.com/schema/vidispine">
    <entry>
        <request>
            <origin>${window.location.origin}</origin>
        </request>
        <response>
            <allowOrigin>${window.location.origin}</allowOrigin>
            <allowMethods>OPTIONS,GET,HEAD,POST,PUT,DELETE</allowMethods>
            <allowHeaders>accept,content-type,authorization,index,size,runas</allowHeaders>
            <allowMaxAge>600</allowMaxAge>
        </response>
    </entry>
</CORSConfigurationDocument>`,wle=`{
  "entry": [
    {
      "request": [
        {
          "origin": [
            "${window.location.origin}"
          ]
        }
      ],
      "response": {
        "allowOrigin": "${window.location.origin}",
        "allowMethods": [
          "OPTIONS,GET,HEAD,POST,PUT,DELETE"
        ],
        "allowHeaders": [
          "accept,content-type,authorization,index,size,runas"
        ],
        "allowMaxAge": 600
      }
    }
  ]
}`,Ule=`curl '{YOUR_VIDICORE_SERVER}/API/javascript/test' \\
-uadmin -X POST -H 'content-type: application/javascript' -H 'Accept: application/json' \\
--data-raw 'const cors = api.path('\\''configuration/cors'\\'').get();
if (!Array.isArray(cors.entry)) cors.entry = [];
cors.entry.push({
  request: [
    {
      origin: ['\\''${window.location.origin}'\\''],
    },
  ],
  response: {
    allowOrigin: '\\''${window.location.origin}'\\'',
    allowMethods: ['\\''OPTIONS,GET,HEAD,POST,PUT,DELETE'\\''],
    allowHeaders: ['\\''accept,content-type,authorization,index,size,runas'\\''],
    allowMaxAge: 600,
  },
});
api.path('\\''configuration/cors'\\'').input(cors).put();
api.path('\\''configuration/cors'\\'').get();
'
`,Vle="XML_TAB",Gle="JSON_TAB",cp="CURL_TAB";function qle({open:t,onClose:n,baseURL:s}){const[o,r]=T.useState(cp),i=(a,l)=>r(l);return e.jsxs(_,{open:t,onClose:n,maxWidth:!1,children:[e.jsx(N,{children:"Configure CORS"}),e.jsx(Ne,{children:"Cross-Origin must be configured on the VidiCore server to allow browser requests from this location."}),e.jsxs(Ne,{children:[e.jsxs(xa,{value:o,onChange:i,children:[e.jsx(Wn,{label:"XML",value:Vle}),e.jsx(Wn,{label:"JSON",value:Gle}),e.jsx(Wn,{label:"cURL",value:cp})]}),{XML_TAB:e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Request",value:`PUT ${s}/API/configuration/cors`,variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),e.jsx(h,{title:"Body",value:kle,variant:"xml",codeProps:{lineNumbers:!1}})]}),JSON_TAB:e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Request",value:`PUT ${s}/API/configuration/cors`,variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),e.jsx(h,{title:"Body",value:wle,variant:"json",codeProps:{lineNumbers:!1}})]}),CURL_TAB:e.jsx(h,{value:Ule.replace("{YOUR_VIDICORE_SERVER}",s),variant:"code",codeProps:{lineNumbers:!1,mode:"shell"}})}[o]]}),e.jsx(Ne,{children:e.jsx(_p,{href:"https://apidoc.vidispine.com/latest/system/property.html#cors-configuration",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",children:"View API Documentation"})}),e.jsx(W,{children:e.jsx(f,{size:"small",color:"inherit",onClick:n,children:"Close"})})]})}const Hle=tt(qle);function Ble(t){return e.jsxs(cr,{...t,viewBox:"0 0 1116.41498 303.79802",children:[e.jsxs("defs",{children:[e.jsx("style",{children:".e{fill:url(#d);}.f{fill:#fff;}"}),e.jsxs("linearGradient",{id:"d",x1:"0",y1:"151.89901",x2:"270.47205",y2:"151.89901",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0",stopColor:"#c4198b"}),e.jsx("stop",{offset:".34292",stopColor:"#ef4066"}),e.jsx("stop",{offset:".70821",stopColor:"#f68b1f"}),e.jsx("stop",{offset:".99167",stopColor:"#ffe300"})]})]}),e.jsxs("g",{id:"c",children:[e.jsx("path",{className:"f",d:"M381.44897,156.03613h29.16207l-35.19531,92.9164c-3.41912,9.45236-12.06926,14.27951-22.32384,14.27951-9.85624,0-18.90749-4.82715-22.3266-14.27951l-34.99338-92.9164h29.16207l28.15791,79.84299,28.35708-79.84299ZM434.19906,139.95883c-4.56435,0-8.29882-1.34994-11.10106-4.14941-2.79947-2.79947-4.25176-6.22412-4.25176-10.26841,0-8.40394,6.22412-14.73318,15.35282-14.73318,4.462,0,8.09135,1.34994,10.89082,4.04706,2.80224,2.69712,4.14941,6.12177,4.14941,10.37353s-1.34718,7.78153-4.14941,10.581c-2.79947,2.79947-6.42882,4.14941-10.89082,4.14941ZM420.92094,261.62207v-107.46977h26.34877v107.46977h-26.34877ZM544.48214,109.27283h26.346v152.34924h-12.34312l-7.15912-16.39018c-2.27941,4.87694-6.74141,9.12871-13.48282,12.86318-6.74418,3.73447-14.83553,5.60171-24.17171,5.60171-15.14535,0-27.281-4.97929-36.51483-14.83277-9.23383-9.85624-13.79818-22.92689-13.79818-39.10959,0-17.84247,5.18953-31.95047,15.45794-42.324,10.26841-10.26841,23.85912-15.45794,40.76936-15.45794,9.85347,0,18.1523,1.34994,24.89647,4.04706v-46.7467ZM517.09602,239.52507c8.08859,0,14.72765-2.07471,19.81206-6.32647,5.08441-4.14941,7.57406-9.85624,7.57406-17.01259v-37.6573c-6.53671-1.96959-13.27812-3.00694-20.33212-2.90459-10.37353,0-18.67235,3.00971-24.79412,9.02635-6.12177,6.01665-9.23106,14.21035-9.23106,24.48153,0,9.23106,2.48965,16.59765,7.46894,22.09424,4.87418,5.49935,11.40812,8.29882,19.50224,8.29882ZM606.65139,139.95883c-4.56435,0-8.29882-1.34994-11.09829-4.14941-2.79947-2.79947-4.25453-6.22412-4.25453-10.26841,0-8.40394,6.22412-14.73318,15.35282-14.73318,4.462,0,8.09412,1.34994,10.89359,4.04706s4.14941,6.12177,4.14941,10.37353-1.34994,7.78153-4.14941,10.581-6.43159,4.14941-10.89359,4.14941ZM593.37328,261.62207v-107.46977h26.35153v107.46977h-26.35153ZM638.6074,260.16978v-22.71941l1.13971-.51729c9.64877,2.3873,20.9573,3.63212,33.92283,3.63212,10.47588,0,15.76777-2.90459,15.76777-8.71377,0-2.80224-1.24482-5.18953-3.73447-7.15912-2.48965-1.86724-9.12871-5.18677-19.81483-9.85347-10.78847-4.87694-18.1523-9.54365-22.09424-14.21312-4.04706-4.66947-6.01665-10.26841-6.01665-17.01259,0-20.0223,14.73041-31.64065,39.93948-31.64065,11.20341,0,21.78165,1.45506,31.63788,4.25453v22.51194l-1.03735.41494c-11.61835-2.69988-22.30171-4.04706-32.05559-4.04706-8.40118,0-12.55059,2.592-12.55059,7.88388,0,2.3873,1.34718,4.66671,4.04706,6.74141,2.69435,2.17982,8.81612,5.29188,18.25741,9.4413,11.20341,4.97929,18.87706,9.85624,22.92412,14.73041,4.04706,4.87418,6.01665,10.99594,6.01665,18.1523,0,20.33212-14.41782,31.64065-41.07918,31.64065-13.58794,0-25.41653-1.13971-35.27-3.527ZM824.68917,167.22294c8.81888,10.27118,13.27812,23.23671,13.27812,38.90212,0,17.73735-5.08441,31.74024-15.35282,42.01141-10.26841,10.37353-24.27406,15.5603-41.80394,15.5603-9.02635,0-17.11771-1.45229-24.27683-4.45923v43.28551h-26.1413v-148.37076h12.34588l7.46894,16.07759c2.592-5.28912,7.26147-9.646,14.108-13.06788,6.84653-3.42465,14.83553-5.18953,23.85912-5.18953,15.45794,0,27.59359,5.08441,36.51483,15.25047ZM801.76229,231.43648c6.32924-5.80918,9.4413-13.9033,9.4413-24.37918,0-9.02635-2.3873-16.4953-7.26147-22.19936-4.87418-5.70406-11.51324-8.60865-19.91718-8.60865-8.50629,0-15.24771,2.17706-20.12465,6.63906-4.87694,4.45923-7.36659,10.16329-7.36659,16.90747v37.34471c5.39424,1.96959,12.34588,3.00971,20.85218,3.00971,9.85347,0,18.04994-2.90459,24.37641-8.71377ZM867.33683,139.95883c-4.56435,0-8.29882-1.34994-11.10106-4.14941-2.79947-2.79947-4.25176-6.22412-4.25176-10.26841,0-8.40394,6.22412-14.73318,15.35282-14.73318,4.462,0,8.09135,1.34994,10.89082,4.04706,2.80224,2.69712,4.14941,6.12177,4.14941,10.37353s-1.34718,7.78153-4.14941,10.581c-2.79947,2.79947-6.42882,4.14941-10.89082,4.14941ZM854.05871,261.62207v-107.46977h26.34877v107.46977h-26.34877ZM988.37518,162.55624c7.36382,7.15635,10.99318,17.11494,10.99318,29.97812v69.08771h-26.346v-59.95901c0-16.4953-6.8493-24.689-20.54236-24.58388-15.35282,0-23.65165,8.91847-23.65165,24.37641v60.16648h-26.1413v-107.46977h12.34588l7.46894,15.66265c5.29188-11.92818,17.11494-17.84247,35.47747-17.84247,12.86318,0,23.02924,3.52977,30.39583,10.58377ZM1114.65009,215.97854h-74.79177c4.04706,16.18271,19.0873,24.17171,39.93671,24.17171,11.10106,0,20.33212-1.24482,27.90618-3.63212l1.03735.41494v22.30447c-8.61141,3.00694-19.60459,4.45923-32.88271,4.45923-18.67235,0-33.50789-5.08441-44.50383-15.14535-10.99594-10.06094-16.49253-23.85912-16.49253-41.28665,0-16.28783,5.28912-29.6683,15.76777-39.93948,10.47588-10.26841,23.33906-15.35282,38.58953-15.35282,15.04024,0,26.65859,4.35965,34.85506,13.07341,8.19371,8.71377,12.34312,20.01953,12.34312,33.92006,0,5.70406-.62241,11.30853-1.76488,17.01259ZM1091.93344,196.58142v-2.28494c0-5.49659-2.17982-10.16329-6.63906-14.00288-4.45923-3.73447-9.95859-5.60171-16.49253-5.60171-6.95165,0-13.07341,2.17706-18.46765,6.43159-5.39424,4.35688-8.91847,10.16606-10.68335,17.42753,5.70406-1.24482,12.34312-1.86724,20.0223-1.96959h32.2603Z"}),e.jsx("path",{className:"e",d:"M69.77012,302.14291c-.65175,1.04901-1.03541,1.65511-1.03541,1.65511,66.01304-30.3869,96.61606-38.08258,104.25541-44.68214,4.06978-3.51711,6.39024-8.22164,8.90884-12.8577,9.21869-16.96682,18.2946-34.0128,27.44141-51.01847l59.75587-111.0973c2.36125-4.38983,1.63374-9.80002-1.80275-13.41086L203.39304,3.58548c-5.88322-6.18189-16.21017-4.05279-19.1678,3.95177l-69.49324,188.04437h0c-10.33472,27.96446-20.66945,55.9294-31.00417,83.89386-2.96832,8.03272-7.16631,18.41407-13.9577,22.66743ZM89.82181,229.90572c-4.98281,14.38605-9.83936,28.82261-14.94941,43.16398-2.17962,6.1173-4.40586,14.19276-11.09429,16.77353-18.09062,6.98177-26.23699-25.66392-29.2733-37.15595C23.00355,209.14545,11.50132,165.60363.00005,122.06181c-.01263-2.57882,2.28452-4.7191,4.99641-4.30775l77.00632,11.6727c1.46473.22243,2.71189,1.16508,3.31702,2.51666,2.84982,6.36207,11.66736,25.95628,21.89135,47.75536-5.79677,16.73565-11.59257,33.47129-17.38934,50.20694Z"})]})]})}const dp="INIT_MODAL",up="HELP_DIALOG",{VITE_VERSION:zle}={VITE_VERSION:"25.3.0",VITE_NAME:"@vidispine/admin-tool",VITE_VIDISPINE_URL:"",VITE_GIT_COMMIT:"ec3e5a6",BASE_URL:"https://vidispine.github.io/admin-tool",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Jle=t=>hp({...t,palette:{type:"light"}});class Kle extends T.PureComponent{constructor(n){super(n),document.title="VidiCore Admin",this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onTestUrl=this.onTestUrl.bind(this),this.state={selfTestDocument:void 0,loading:!1,loadingInit:!1}}componentDidMount(){const{baseURL:n}=this.props;n&&this.onRefresh()}async onRefresh(){const{onOpen:n,useDevProxy:s,useContainerProxy:o,baseURL:r}=this.props;this.setState({selfTestDocument:void 0}),await this.setState({loading:!0});let i=s?window.location.origin:r;o&&(i=window.location.origin);try{Pp.listSelfTest({noAuth:!0,baseURL:i,headers:o?{[nr]:r}:{}}).then(({data:a})=>{this.setState({selfTestDocument:a,loading:!1});const{status:l,test:d=[]}=a;let u;l==="warning"&&(u=d.find(p=>{const{name:x,test:j=[]}=p;return x==="database"?j.find(g=>{const{message:y=[]}=g;return y.find(D=>D.includes("did APIInit run?"))}):!1})),u&&n({modalName:dp})}).catch(a=>this.onRefreshError(a))}catch(a){this.onRefreshError(a)}}onRefreshError(){const{openSnackBar:n}=this.props;this.setState({loading:!1,selfTestDocument:{status:"failed"}}),n({messageContent:"Error Contacting Server",messageColor:"secondary"})}onSuccess({data:n,userName:s,runAs:o,baseURL:r}){if(r){const p=encodeURIComponent(r),x=_i()?encodeURIComponent(_i()):void 0,j=window.location.pathname.replace(/(.+?)\/+$/,"$1");if(!j.includes(p)){let g;x&&j.includes(x)?g=j.replace(x,p):g=j==="/"?[p,"/"].join(""):[j,p,""].join("/"),window.history.pushState({},"",g)}}const{setUserName:i,setToken:a,setRunAs:l,setResponseInterceptor:d,setBaseUrl:u}=this.props;o&&l(o,r),d(),i(s,r),a(n,r),u(r)}onTestUrl(n){const{setBaseUrl:s}=this.props;s(n),this.onRefresh()}render(){const{selfTestDocument:n,loading:s,loadingInit:o}=this.state,{userName:r,baseURL:i,onOpen:a,useDevProxy:l,useContainerProxy:d}=this.props,u={headers:{username:r,accept:"text/plain"},queryParams:{autoRefresh:!0,seconds:604800},baseURL:i},{status:p}=n||{};return e.jsxs(pp,{theme:Jle,children:[e.jsxs(O,{container:!0,children:[e.jsx(O,{item:!0,sm:4,children:e.jsxs($,{elevation:0,square:!0,style:{height:"100vh"},children:[e.jsx(O,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:"100%"},children:e.jsxs(O,{item:!0,children:[e.jsx(O,{container:!0,alignItems:"center",justifyContent:"center",direction:"row",style:{height:35,marginBottom:20},children:n&&e.jsx(sl,{selfTestDocument:n,clickable:!0,onClick:this.onRefresh,loading:s})}),e.jsx(Wle,{initialValues:u,onSuccess:this.onSuccess,onTestUrl:this.onTestUrl,status:p,useDevProxy:l,useContainerProxy:d})]})}),e.jsx(pr,{color:"inherit",style:{top:"auto",bottom:0,backgroundColor:"black",color:"white"},square:!0,elevation:0,children:e.jsx(xr,{variant:"dense",children:e.jsxs(O,{container:!0,justifyContent:"flex-end",alignItems:"center",children:[e.jsx(_p,{href:"https://github.com/vidispine/admin-tool",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",style:{marginRight:5},children:"VidiCore Admin"}),e.jsx(C,{variant:"body2",color:"inherit",children:`v${zle}`}),e.jsx(zg,{}),e.jsx(ee,{color:"inherit",disableRipple:!0,onClick:()=>a({modalName:up}),children:e.jsx(DC,{})})]})})})]})}),e.jsx(O,{item:!0,sm:8,style:{background:"linear-gradient(rgba(22, 9, 31, 1), rgba(22, 9, 31, 1))"},container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:e.jsx(Ble,{alt:"VidiCore Admin Tool",style:{height:"inherit",width:"25vw",minWidth:"100px"}})})]}),e.jsx(Ale,{dialogName:dp,onSuccess:this.onRefresh,loadingInit:o,setLoadingInit:x=>this.setState({loadingInit:x})}),e.jsx(Hle,{dialogName:up,baseURL:i})]})}}const Yle=I(tt,Ts)(Kle),Qle=`
    color:white;
    background-color:black;
    padding: 8px;
    font-weight: 600;
    font-family: Courier;
    font-size: 16px;
`,Xle=()=>{console.info(`%c    Welcome to the VidiCore admin-tool!    
     Try using the "VidiCore" object    
    https://vidispine.github.io/vdt-api/   
    Try using the "vdtjs" object   
 https://vidispine.github.io/vdt/dev/?path=/docs/vdt-js-overview--docs `,Qle),window.VidiCore=Object.keys(Ur).reduce((t,n)=>{const s=Object.keys(Ur[n]).reduce((o,r)=>{const i=Ur[n][r],a=l=>i(l).then(d=>(console.log(d.data),d));return{...o,[r]:a}},{});return{...t,[n]:s}},{}),window.vdtjs=PC};class Zle extends T.Component{constructor(n){super(n),this.setUserName=this.setUserName.bind(this),this.unsetUserName=this.unsetUserName.bind(this),this.setToken=this.setToken.bind(this),this.unsetToken=this.unsetToken.bind(this),this.setRunAs=this.setRunAs.bind(this),this.unsetRunAs=this.unsetRunAs.bind(this),this.setBaseUrl=this.setBaseUrl.bind(this),this.unsetBaseUrl=this.unsetBaseUrl.bind(this),this.setResponseInterceptor=this.setResponseInterceptor.bind(this),this.unsetResponseInterceptor=this.unsetResponseInterceptor.bind(this),this.cookieVidispineUrl=ey(),this.windowVidispineUrl=ny(),this.envVidispineUrl=ty(),this.pathVidispineUrl=_i(),this.useContainerProxy=sy();let s=this.pathVidispineUrl||this.windowVidispineUrl||this.envVidispineUrl||this.cookieVidispineUrl;s&&(s=s.replace(/\/+$/,"")),this.useDevProxy=this.useContainerProxy===void 0&&s!==void 0&&(s===this.windowVidispineUrl||s===this.envVidispineUrl),this.basename=wp(s),window.location.pathname.startsWith(kt)===!1&&(window.history.pushState({},"",kt),window.location.reload());const{cookies:r}=this.props,i=r.get(ai,{path:this.basename}),a=r.get(li,{path:this.basename}),l=r.get(ci,{path:this.basename});if(r.get(di,{path:kt})==="true"&&this.cookieVidispineUrl&&this.pathVidispineUrl===void 0){const u=kt,{cookieVidispineUrl:p}=this,x=encodeURIComponent(p),j=window.location.pathname,g=`${u}/${x}/`.replaceAll("//","/");!j.startsWith(g)&&!g.includes("undefined")&&(window.history.pushState({},"",g),window.location.reload())}this.useContainerProxy?(we.defaultClient.defaults.headers[nr]=s,we.defaultClient.defaults.baseURL=window.location.origin):this.useDevProxy?we.defaultClient.defaults.baseURL=window.location.origin:s&&s!=="undefined"&&(we.defaultClient.defaults.baseURL=this.useDevProxy?window.location.origin:s),i&&i!=="undefined"&&(we.defaultClient.defaults.headers.Authorization=`token ${i}`,this.setResponseInterceptor(),Xle()),l&&l!=="undefined"&&(we.defaultClient.defaults.headers.RunAs=l),this.state={token:i!=="undefined"?i:void 0,userName:a!=="undefined"?a:void 0,runAs:l!=="undefined"?l:void 0,baseURL:s!=="undefined"?s:void 0}}setUserName(n,s){const o=s.replace(/\/+$/,""),{cookies:r}=this.props,i=Zn(o);r.set(li,n,{path:i}),this.setState({userName:n})}setToken(n,s){const o=s.replace(/\/+$/,""),{cookies:r}=this.props,i=Zn(o);r.set(ai,n,{path:i}),r.set(di,!0,{path:kt}),we.defaultClient.defaults.headers.Authorization=`token ${n}`,this.setState({token:n}),this.setResponseInterceptor()}setResponseInterceptor(){const{openSnackBar:n}=this.props;this.responseInterceptor=we.defaultClient.interceptors.response.use(s=>s,s=>{if(s.response&&s.response.status)s.response.status===401&&(n({messageContent:"Logged Out",messageColor:"secondary"}),setTimeout(()=>this.unsetToken(),1e3));else{const{config:{baseURL:o}={}}=s;this.checkOnline||(this.checkOnline=!0,Np.getSelfTest({baseURL:o}).then(()=>{n({messageContent:"Logged Out",messageColor:"secondary"}),this.checkOnline=!1}).catch(()=>{n({messageContent:"Server Offline",messageColor:"secondary"}),this.checkOnline=!1}))}return Promise.reject(s)})}setRunAs(n,s){const{cookies:o}=this.props;o.set(ci,n,{path:Zn(s)}),we.defaultClient.defaults.headers.RunAs=n,this.setState({runAs:n})}setBaseUrl(n){const s=n.replace(/\/+$/,""),{cookies:o}=this.props;o.set(Ad,s,{path:kt}),this.windowVidispineUrl!==s&&(this.useDevProxy=!1),this.useContainerProxy?(we.defaultClient.defaults.headers[nr]=s,we.defaultClient.defaults.baseURL=window.location.origin):this.useDevProxy?we.defaultClient.defaults.baseURL=window.location.origin:we.defaultClient.defaults.baseURL=s,this.setState({baseURL:s})}unsetResponseInterceptor(){this.responseInterceptor&&we.defaultClient.interceptors.response.eject(this.responseInterceptor)}unsetUserName(){const{cookies:n}=this.props,{baseURL:s}=this.state;n.remove(li,{path:Zn(s)}),this.setState({userName:void 0}),this.unsetToken()}unsetToken(){const{cookies:n}=this.props,{baseURL:s}=this.state;n.remove(ai,{path:Zn(s)}),n.remove(di,{path:kt}),delete we.defaultClient.defaults.headers.Authorization,this.setState({token:void 0})}unsetRunAs(){const{cookies:n}=this.props,{baseURL:s}=this.state;n.remove(ci,{path:Zn(s)}),delete we.defaultClient.defaults.headers.RunAs,this.setState({runAs:void 0})}unsetBaseUrl(){const{cookies:n}=this.props;n.remove(Ad,{path:kt}),delete we.defaultClient.defaults.baseURL,this.setState({baseURL:void 0})}render(){const{token:n,userName:s,runAs:o,baseURL:r}=this.state,{loginComponent:i,appComponent:a,...l}=this.props;return n?e.jsx(a,{userName:o||s,baseURL:r,unsetResponseInterceptor:this.unsetResponseInterceptor,unsetUserName:this.unsetUserName,unsetToken:this.unsetToken,unsetRunAs:this.unsetRunAs,useDevProxy:this.useDevProxy,useContainerProxy:this.useContainerProxy,...l}):e.jsx(i,{userName:s,runAs:o,baseURL:r,setUserName:this.setUserName,setToken:this.setToken,setBaseUrl:this.setBaseUrl,setRunAs:this.setRunAs,setResponseInterceptor:this.setResponseInterceptor,unsetUserName:this.unsetUserName,unsetToken:this.unsetToken,unsetRunAs:this.unsetRunAs,useDevProxy:this.useDevProxy,useContainerProxy:this.useContainerProxy,...l})}}const ece=I(Ts,OC)(Zle),tce=LC(),nce=ZC({history:tce});NC.render(e.jsx(_C,{store:nce,children:e.jsx(VC,{children:e.jsx(ece,{loginComponent:Yle,appComponent:Ile})})}),document.getElementById("root"));
