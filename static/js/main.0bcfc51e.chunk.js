(this["webpackJsonp@vidispine/admin-tool"]=this["webpackJsonp@vidispine/admin-tool"]||[]).push([[0],{104:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return u}));var o=n(1),a=n.n(o),s=n(709),r=n(331),c=n(707),i=n(708),l=n(272),j=(n(687),n(688),n(689),n(690),n(691),n(0));const d=a.a.createContext((()=>{throw new Error("Forgot to wrap component in `ThemeProvider`")})),m=['"Open Sans"',"Helvetica","Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",");function h({children:t}){const n=Object(i.a)("(prefers-color-scheme: dark)")?"dark":"light",[o,h]=a.a.useReducer(((e,t)=>{switch(t.type){case"CHANGE":return{...e,paletteType:t.payload.paletteType||e.paletteType};default:throw new Error("Unrecognized type ".concat(t.type))}}),{}),{paletteType:u=n}=o;a.a.useEffect((()=>{if(e.browser){const e=Object(l.a)("paletteType")||n;h({type:"CHANGE",payload:{paletteType:e}})}}),[n]);const b=a.a.useMemo((()=>Object(r.a)({overrides:{},props:{MuiTextField:{InputLabelProps:{shrink:!0}},MuiPaper:{square:!0,elevation:0},MuiCard:{square:!0,elevation:0,variant:"outlined"},MuiTable:{component:"div"},MuiTableBody:{component:"div"},MuiTableCell:{component:"div"},MuiTableFooter:{component:"div"},MuiTableHead:{component:"div"},MuiTablePagination:{component:"div"},MuiTableRow:{component:"div"}},palette:{type:u,primary:{main:"#0068a9"},secondary:{main:"#7c74bd"},success:{light:"#6DC3C5",main:"#44a8aa"},error:{main:"#df5f5f"},background:{default:{light:"rgb(246, 248, 250)",dark:"rgb(9, 12, 16)"}[u],paper:{light:"rgb(255, 255, 255)",dark:"rgb(13, 17, 23)"}[u]},text:{primary:{light:"rgba(0, 0, 0, 0.87)",dark:"rgb(201, 209, 217)"}[u],secondary:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(139, 148, 158)"}[u]}},action:{active:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(201, 209, 217)"}[u]},divider:{light:"rgba(0, 0, 0, 0.12)",dark:"rgb(48, 54, 61)"}[u],typography:{fontFamily:m}})),[u]);return Object(j.jsxs)(c.a,{theme:b,children:[Object(j.jsx)(s.a,{}),Object(j.jsx)(d.Provider,{value:h,children:t})]})}function u(){const e=a.a.useContext(d);return a.a.useCallback((t=>e({type:"CHANGE",payload:t})),[e])}}).call(this,n(169))},272:function(e,t,n){"use strict";(function(e){function o(t){if(e.browser){const e="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===e.length)return e.pop().split(";").shift()}}n.d(t,"a",(function(){return o}))}).call(this,n(169))},407:function(e,t){},408:function(e,t){},693:function(e,t){},696:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"MODAL_RESET",(function(){return b})),n.d(o,"MODAL_RECEIVE",(function(){return p})),n.d(o,"MAINMENU_TOGGLE",(function(){return O})),n.d(o,"SNACKBAR_RESET",(function(){return x})),n.d(o,"SNACKBAR_RECEIVE",(function(){return g})),n.d(o,"LOADING_RECEIVE",(function(){return f})),n.d(o,"closeModal",(function(){return v})),n.d(o,"openModal",(function(){return y})),n.d(o,"setLoading",(function(){return C})),n.d(o,"toggleMainMenu",(function(){return S})),n.d(o,"closeSnackBar",(function(){return I})),n.d(o,"openSnackBar",(function(){return R}));var a=n(1),s=n.n(a),r=n(47),c=n.n(r),i=n(18),l=n(457),j=n(42),d=n(69),m=n(4);function h(e,t){const{match:n={}}=t,{params:o={}}=n;return{...o}}const u=e=>Object(i.b)(h,null)(Object(d.i)(e));const b="MODAL_RESET",p="MODAL_RECEIVE",O="MAINMENU_TOGGLE",x="SNACKBAR_RESET",g="SNACKBAR_RECEIVE",f="LOADING_RECEIVE";function v(){return{type:b}}function y({modalName:e,...t}){return{type:p,modalName:e,...t}}function C(e=!1){return{type:f,isLoading:e}}function S(){return(e,t)=>{const{isMainMenuOpen:n}=t().ui;e(function(e){return{type:O,isMainMenuOpen:e}}(!n))}}function I(){return{type:x}}function R({...e}){return{type:g,...e}}function D(e,t){const{dialogName:n,isOpen:o}=t,{ui:{modalName:a,...s}}=e;let r=void 0!==n&&a===n;return void 0!==o&&(r=o),r?{open:r,currentDialog:a,modalName:a,...s}:{open:r,currentDialog:a,modalName:a}}const F={onClose:o.closeModal,onOpen:o.openModal},T=e=>Object(i.b)(D,F)(e);var E=Object(m.c)(T,u);let P="https://vidispine.github.io/admin-tool";P&&P.startsWith("http")?(P=new URL(P),P=P.pathname.replace(/(.+?)\/+$/,"$1")):(P=new URL(P,window.location.origin),P=P.pathname.replace(/(.+?)\/+$/,"$1"));const N=P,k=e=>void 0===e?N:[N.replace(/\/+$/,""),encodeURIComponent(e)].join("/"),M=()=>{const e=window.location.pathname.replace(N,"").replace(/^\/+/,"");if(void 0===e)return;const[t]=e.split("/");try{const e=decodeURIComponent(t);return e.startsWith("http")?e:void 0}catch(n){return}},A=e=>[N.replace(/^\/+/,""),encodeURIComponent(e),""].join("/"),L=["item","collection","job","storage","file","quota","group","document","deletion-lock"];var W=n(2),_=n(418),w=n(461),V=n(326),U=n.n(V),B=n(62),q=n.n(B),G=n(132),H=n.n(G),z=n(424),J=n.n(z),K=n(423),Y=n.n(K),X=n(108),$=n(747),Q=n(793),Z=n(49),ee=n.n(Z),te=n(425),ne=n.n(te),oe=n(268),ae=n.n(oe),se=n(749),re=n(748),ce=n(422),ie=n.n(ce),le=n(0);var je=Object(d.i)((({entityId:e,entityType:t,history:n})=>Object(le.jsx)(Q.a,{title:"External Id",children:Object(le.jsx)(w.a,{onClick:()=>n.push("/external-id/".concat(t,"/").concat(e)),children:Object(le.jsx)(ie.a,{})})})));const de={openSnackBar:o.openSnackBar},me=e=>Object(i.b)(null,de)(e);var he=Object(m.c)(me,u),ue=Object(m.c)(T,me,u),be=n(208),pe=n.n(be),Oe=n(746),xe=n(742),ge=n(745),fe=n(744),ve=n(743),ye=n(12),Ce=n(8),Se=n(266),Ie=n.n(Se),Re=n(76),De=n.n(Re);n(352),n(353),n(292),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361);class Fe extends s.a.Component{constructor(e){super(e),this.cmRef=this.cmRef.bind(this)}cmRef(e){this.jsonRef=e}render(){const{value:e,classes:t}=this.props;return this.jsonRef&&this.jsonRef.codeMirror.setValue(e),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Ie.a,{codeMirrorInstance:De.a,ref:this.cmRef,...this.props,className:Object(Ce.default)([this.props.className,t.CodeMirror])})})}}var Te=Object(ye.a)({CodeMirror:{"& .CodeMirror":{height:"100%",width:"100%",maxWidth:"90vw"}}})(Fe);function Ee(e){const t=" ".repeat(2);let n=0;return e.replace(/(>)(<)(\/*)/g,"$1\r\n$2$3").split("\r\n").map((e=>{let o=0;return e.match(/.+<\/\w[^>]*>$/)?o=0:e.match(/^<\/\w/)&&n>0?n-=1:o=e.match(/^<\w[^>]*[^/]>.*$/)?1:0,n+=o,t.repeat(n-o)+e})).join("\r\n")}const Pe=({code:e,...t})=>Object(le.jsx)(pe.a,{src:e,theme:"solarized",displayDataTypes:!1,collapsed:!1,displayObjectSize:!1,name:!1,enableClipboard:e=>navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t")),...t}),Ne=({code:e,options:t={},...n})=>Object(le.jsx)(Te,{value:Ee(e)||"",options:{readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...t},...n}),ke=({code:e,options:t={},...n})=>Object(le.jsx)(Te,{value:Ee(e)||"",options:{readOnly:!0,theme:"material",mode:"text/plain",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...t},...n});var Me=ue((function({code:e,title:t,open:n,onClose:o,variant:a="json"}){let s=null;switch(a){case"text/plain":case"text":s=ke;break;case"application/xml":case"xml":s=Ne;break;case"application/json":case"json":s=Pe}return Object(le.jsx)(xe.a,{open:n,onClose:o,fullWidth:!0,maxWidth:!1,children:n&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ve.a,{children:t||""}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(s,{code:e})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{onClick:o,color:"primary",children:"Close"})})]})})}));var Ae=ue((function({title:e,openCode:t,openAction:n,actionComponent:o,iconList:a,breadcrumbList:r,parentTitle:c,grandParentTo:i,grandParentTitle:l,parentTo:d,entityId:m,entityType:h,onRefresh:u,autoRefresh:b,onChangeAutoRefresh:p,autoRefreshLabel:O="Background Refresh",helpTo:x,codeModal:g,onOpen:f,createModal:v,removeModal:y,downloadModal:C,code:S,codeVariant:I,titleChip:R,addAccessControl:D,style:F={}}){const T=W.utils.defaultClient.defaults.baseURL||"",E=Object(le.jsxs)($.a,{container:!0,alignItems:"center",children:[Array.isArray(r)?r.map(((e,t)=>{const n=t+1===r.length,o=n?"inherit":"textSecondary";let a=null,c=null;if(e.to){const{to:t,title:n=""}=e;a=Object(le.jsx)(X.a,{variant:"h5",color:o,component:j.b,to:t,style:{textDecoration:"none",color:"inherit"},children:n})}else a=e.title?Object(le.jsx)(X.a,{variant:"h5",color:o,children:e.title}):Object(le.jsx)(X.a,{variant:"h5",color:o,children:e});return!1===n&&(c=Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{disabled:!0,children:Object(le.jsx)(H.a,{})})})),Object(le.jsxs)(s.a.Fragment,{children:[a,c]},e.to||e.title||e)})):Object(le.jsxs)(le.Fragment,{children:[l&&Object(le.jsx)($.a,{item:!0,children:i?Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",component:j.b,to:i,style:{textDecoration:"none"},children:l}):Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",children:l})}),l&&Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{disabled:!0,children:Object(le.jsx)(H.a,{})})}),c&&Object(le.jsx)($.a,{item:!0,children:d?Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",component:j.b,to:d,style:{textDecoration:"none"},children:c}):Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",children:c})}),c&&Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{disabled:!0,children:Object(le.jsx)(H.a,{})})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(X.a,{variant:"h5",children:e})})]}),R&&Object(le.jsx)(_.a,{label:R})]});let P;t?P=Object(le.jsx)(Q.a,{title:"Code",children:Object(le.jsx)(w.a,{onClick:t,children:Object(le.jsx)(U.a,{})})}):g&&(P=Object(le.jsx)(Q.a,{title:"Code",children:Object(le.jsx)(w.a,{onClick:()=>f({modalName:g}),children:Object(le.jsx)(U.a,{})})}));const N=p&&Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{checked:b,onChange:p}),label:O}),k=u&&Object(le.jsx)(Q.a,{title:"Refresh",children:Object(le.jsx)(w.a,{onClick:u,children:Object(le.jsx)(Y.a,{})})});let M;n?M=Object(le.jsx)(w.a,{onClick:n,children:Object(le.jsx)(q.a,{})}):v&&(M=Object(le.jsx)(Q.a,{title:"New",children:Object(le.jsx)(w.a,{onClick:()=>f({modalName:v}),children:Object(le.jsx)(q.a,{})})}));const A=x&&Object(le.jsx)(Q.a,{title:"API Guide",children:Object(le.jsx)(w.a,{onClick:()=>window.open("".concat(T,"/APIdoc").concat(x)),children:Object(le.jsx)(J.a,{})})}),L=y&&Object(le.jsx)(Q.a,{title:"Remove",children:Object(le.jsx)(w.a,{onClick:()=>f({modalName:y}),children:Object(le.jsx)(ee.a,{})})}),V=C&&Object(le.jsx)(Q.a,{title:"Download",children:Object(le.jsx)(w.a,{onClick:()=>f({modalName:C}),children:Object(le.jsx)(ae.a,{})})}),B=m&&Object(le.jsx)(je,{entityId:m,entityType:h}),G=D&&Object(le.jsx)(Q.a,{title:"Add ACL",children:Object(le.jsx)(w.a,{onClick:()=>f({modalName:D}),children:Object(le.jsx)(ne.a,{})})}),z=o||M;return Object(le.jsxs)("div",{style:F,children:[Object(le.jsxs)($.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"baseline",children:[Object(le.jsx)($.a,{item:!0,children:E}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsxs)($.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[N,V,L,A,G,B,P,k,a,z]})})]}),S&&Object(le.jsx)(Me,{dialogName:g,code:S,title:g,variant:I})]})})),Le=n(761),We=n(760),_e=n(750),we=_e.a,Ve=n(753),Ue=n(755),Be=n(752),qe=n(754),Ge=n(751),He=n(756),ze=n(797),Je=n(426),Ke=n.n(Je),Ye=n(427),Xe=n.n(Ye),$e=n(428),Qe=n.n($e),Ze=n(429),et=n.n(Ze);var tt=Object(ye.a)((e=>({root:{flexShrink:0,color:e.palette.text.secondary}})))((function({classes:e,count:t,page:n,rowsPerPage:o,onChangePage:a,onPageChange:s}){const r=s||a;return Object(le.jsxs)("div",{className:e.root,children:[Object(le.jsx)(w.a,{onClick:()=>r({page:0}),disabled:0===n,children:Object(le.jsx)(Ke.a,{})}),Object(le.jsx)(w.a,{onClick:()=>r({page:n-1}),disabled:0===n,children:Object(le.jsx)(Xe.a,{})}),Object(le.jsx)(w.a,{onClick:()=>r({page:n+1}),disabled:n>=Math.ceil(t/o)-1,children:Object(le.jsx)(Qe.a,{})}),Object(le.jsx)(w.a,{onClick:()=>r({page:Math.max(0,Math.ceil(t/o)-1)}),disabled:n>=Math.ceil(t/o)-1,children:Object(le.jsx)(et.a,{})})]})})),nt=n(22),ot=n.n(nt);var at=Object(ye.a)((()=>({TableRow:{textDecoration:"none",cursor:({onClick:e})=>e?"pointer":void 0}})))((function({classes:e,to:t,...n}){const o=t?j.b:void 0;return Object(le.jsx)(Ge.a,{className:e.TableRow,component:o,to:t,...n})}));function st({uri:e,linkTo:t,textTo:n,onClick:o,titleCase:a=!1}){const s={};let r=e;n&&(r=n(e)),t&&(s.to=t(e)),o&&(s.onClick=()=>o(e));const c=a?ot()(r):r;return Object(le.jsxs)(at,{hover:!0,...s,children:[Object(le.jsx)(Be.a,{children:c}),Object(le.jsx)(Be.a,{})]})}function rt({uriListDocument:e={},sort:t=!1,page:n,rowsPerPage:o,onChangePage:a,onChangeRowsPerPage:r,header:c=!0,...i}){const{hits:l=0}=e,j=s.a.useMemo((()=>Array.isArray(null===e||void 0===e?void 0:e.uri)?!0===t?e.uri.sort():"function"===typeof t?e.uri.sort(t):e.uri:[]),[t,e]),d=[10,100,250];return d.includes(o)||d.push(o),Object(le.jsxs)(Ve.a,{children:[!0===c&&Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"ID"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:j.map((e=>Object(le.jsx)(st,{uri:e,...i},e)))}),a&&r&&Object(le.jsx)(He.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(ze.a,{count:l,page:n,rowsPerPage:o,onPageChange:a,onRowsPerPageChange:r,ActionsComponent:tt,rowsPerPageOptions:d})})})]})}function ct({title:e,uriListDocument:t,...n}){return void 0===t?null:Object(le.jsxs)(we,{children:[e&&Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:e})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(rt,{uriListDocument:t,...n})})]})}class it extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Configuration",this.onRefresh()}onRefresh(){try{W.configuration.getConfiguration().then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Job Pools",messageColor:"secondary"})}render(){const{uriListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Configuration",helpTo:"/ref/property.html",onRefresh:this.onRefresh,code:e,codeModal:"URIListDocument"}),e&&Object(le.jsx)(ct,{uriListDocument:e,linkTo:e=>"/configuration/".concat(e,"/"),titleCase:!0})]})}}var lt=ue(it),jt=n(206);function dt(e){const{configurationPropertyDocument:t}=e;return W.configuration.updatePropertiesConfiguration({configurationPropertyDocument:t}).then((()=>({configurationPropertyDocument:t}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function mt(e){const{indexingConfigurationDocument:t}=e;return W.configuration.updateIndexingConfiguration({indexingConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function ht(e){const{jobPoolListDocument:t}=e;return W.configuration.updateJobPoolConfiguration({jobPoolListDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function ut(e){const{ftpPoolConfigurationDocument:t}=e;return W.configuration.updateFtpPoolConfiguration({ftpPoolConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function bt(e){const{metricsConfigurationDocument:t}=e;return W.configuration.updateMetricsConfiguration({metricsConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function pt(e){const{pathAliasConfigurationDocument:t}=e;return W.configuration.updatePathAliasConfiguration({pathAliasConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Ot(e){const{logReportConfigurationDocument:t}=e;return W.configuration.updateLogReportConfiguration({logReportConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function xt(e){const{databasePurgingConfigurationDocument:t}=e;return W.configuration.updateDatabasePurgingConfiguration({databasePurgingConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function gt(e){const{corsConfigurationDocument:t}=e;return W.configuration.updateCorsConfiguration({corsConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function ft(e){const{oAuth2ConfigurationDocument:t}=e;return W.configuration.updateAuthConfiguration({oAuth2ConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function vt(e){const{bulkyMetadataConfigurationDocument:t}=e;return W.configuration.updateBulkyMetadataConfiguration({bulkyMetadataConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function yt(e){const{jobPriorityConfigurationDocument:t}=e;return W.configuration.updateJobPriorityConfiguration({jobPriorityConfigurationDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var Ct=n(6),St=n(763),It=n(762);class Rt extends s.a.PureComponent{constructor(e){super(e),this.toggleEdit=this.toggleEdit.bind(this),this.onSubmitSuccess=this.onSubmitSuccess.bind(this),this.state={isEditing:e.defaultEditing||!1}}onSubmitSuccess(e,t,n){const{onSubmitSuccess:o}=this.props;this.toggleEdit(),o(e,t,n)}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{submitForm:e,initialValues:t,formComponent:n,formProps:o={},displayComponent:a,displayProps:s={},formName:r,onSubmit:c,onSubmitFail:i,title:l,iconList:j}=this.props,{isEditing:d}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:l}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsxs)($.a,{item:!0,children:[j,n&&Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:d,onChange:this.toggleEdit})]})})}),Object(le.jsx)(Le.a,{children:d?n&&Object(le.jsx)(n,{form:r,initialValues:t,onSubmit:c,onSubmitSuccess:this.onSubmitSuccess,onSubmitFail:i,...o}):a&&Object(le.jsx)(a,{...s})}),d&&n&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:()=>e(r),size:"small",color:"primary",children:"Save"})]})]})]})}}const Dt={submitForm:Ct.f};var Ft=Object(i.b)(null,Dt)(Rt),Tt=n(410),Et=n(789);function Pt(e,t){class n extends a.Component{getRenderedComponent(){return this.component}render(){return Object(a.createElement)(e,{...t(this.props),ref:(n=e,n.render?e=>this.component=e:null)});var n}}return n.displayName="ReduxFormMaterialUI".concat(e.name),n}var Nt=Pt(Et.a,(({input:{onChange:e,value:t,...n},meta:o,onChange:a,defaultChecked:s,...r})=>({...n,...r,checked:!!t,onChange:(t,n)=>{e(n)}}))),kt=Pt(n(764).a,(({input:{onChange:e,value:t,...n},meta:o,onChange:a,...s})=>({...n,...s,value:t,onChange:(t,n)=>{e(n),a&&a(n)}}))),Mt=n(712);var At=({hasHelperText:e=!0,meta:{touched:t,error:n,warning:o}={},input:a,...s})=>{const r=t&&(n||o)?{...s,...a,error:Boolean(n||o)}:{...a,...s};return t&&e&&(n||o)&&(r.helperText=n||o),r},Lt=Pt(Mt.a,(({input:{onChange:e,value:t,onBlur:n,...o},onChange:a,defaultValue:s,...r})=>({...At({...r,hasHelperText:!1}),...o,value:t,onChange:t=>{e(t.target.value),a&&a(t.target.value)},onBlur:()=>n(t)}))),Wt=(Pt(se.a,(({input:{onChange:e,value:t,...n},checked:o,meta:a,...s})=>({...n,...s,onChange:e,checked:!!t}))),n(765)),_t=Pt(Wt.a,(({defaultValue:e,...t})=>({...At(t)}))),wt=n(373),Vt=n(412),Ut=n(54),Bt=n.n(Ut),qt=n(431),Gt=n.n(qt);var Ht=e=>class extends s.a.Component{constructor(e){super(e),this.state={hasError:null}}componentDidCatch(){this.setState({hasError:!0}),console.error(this.props)}render(){return this.state.hasError?Object(le.jsx)(X.a,{color:"error",children:"Unable to render component (see console)"}):Object(le.jsx)(e,{...this.props})}};var zt=Object(ye.a)({button:{padding:"unset",minWidth:"unset"}})((({classes:e,children:t,...n})=>Object(le.jsx)(Oe.a,{className:e.button,disableFocusRipple:!0,disableRipple:!0,...n,children:t})));const Jt=({removeLabel:e,fields:t,index:n,label:o})=>e?Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>t.remove(n),children:"Remove ".concat(o)}):Object(le.jsx)(w.a,{onClick:()=>t.remove(n),children:Object(le.jsx)(Bt.a,{})});function Kt({fields:e,label:t,typeComponent:n,classes:o,removeLabel:a,hover:s=!0,labelStartCase:r=!0,maxOccurs:c=1/0,dense:i=!1,withHeader:l=!0,direction:j="column",arrayHeader:d=!1}){const m=r?ot()(t):t;return Object(le.jsxs)("div",{children:[d&&Object(le.jsxs)("div",{className:o.header,children:[Object(le.jsx)(X.a,{variant:"subtitle2",children:m}),Object(le.jsx)(w.a,{onClick:()=>e.push(),size:"small",color:"primary",children:Object(le.jsx)(Gt.a,{})})]}),e.map(((t,r)=>Object(le.jsxs)("div",{className:s?o.onHover:o.noHover,children:[Object(le.jsxs)($.a,{container:!0,direction:"row-reverse",justifyContent:"space-between",alignItems:"baseline",children:[Object(le.jsx)($.a,{item:!0,sm:"auto",children:"row"!==j&&Object(le.jsx)(Jt,{index:r,removeLabel:a,fields:e,label:m})}),l&&Object(le.jsx)(X.a,{variant:"subtitle2",children:"".concat(m," ").concat(r+1)})]}),"row"===j?Object(le.jsxs)($.a,{container:!0,direction:"row",children:[Object(le.jsx)($.a,{item:!0,sm:11,children:Object(le.jsx)(wt.a,{name:"".concat(t),component:n})}),Object(le.jsx)($.a,{item:!0,sm:"auto",children:Object(le.jsx)(Jt,{index:r,removeLabel:a,fields:e,label:m})})]}):Object(le.jsx)("div",{className:i?void 0:o.marginLeft,children:Object(le.jsx)(wt.a,{name:"".concat(t),component:n})})]},"".concat(t)))),(e.length>0&&e.length!==c||!1===d&&0===e.length&&e.length!==c)&&Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:m?"Add ".concat(m):"Add"})]})}var Yt=Ht(Object(ye.a)((e=>({onHover:{"&:hover":{backgroundColor:e.palette.action.hover}},noHover:{},marginLeft:{marginLeft:"10px"},header:{display:"flex",gap:e.spacing(1),alignItems:"center"}})))((({component:e,...t})=>Object(le.jsx)(Vt.a,{component:Kt,typeComponent:e,...t}))));var Xt=Object(ye.a)((e=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:e.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},withLabel:{borderLeft:"1px solid ".concat(e.palette.divider),paddingLeft:e.spacing(2),marginLeft:e.spacing(2)},header:{display:"flex",gap:e.spacing(1),alignItems:"center"}})))((({label:e,hover:t=!1,classes:n,labelStartCase:o=!0,button:a=!1,initialDisplay:r=!0,...c})=>{const[i,l]=s.a.useState(r),j=!0===i?"Hide":"Show";return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:t?n.onHover:n.noHover,children:[Object(le.jsxs)("div",{className:n.header,children:[e&&Object(le.jsx)(X.a,{variant:"subtitle2",children:o?ot()(e):e}),!0===a&&Object(le.jsx)(zt,{onClick:()=>l((e=>!e)),color:"primary",children:j})]}),!0===i&&Object(le.jsx)("div",{className:e?n.withLabel:void 0,children:Object(le.jsx)(wt.a,{...c})})]})})})),$t=n(411);var Qt,Zt=(Qt=$t.a,({nameAsTitle:e=!0,useStartCase:t=!0,...n})=>{let{label:o}=n;o=!o&&e?n.name&&t?ot()(n.name):n.name:n.label&&t?ot()(n.label):n.label;const a=n.title&&t?ot()(n.title):n.title;return Object(le.jsx)(Qt,{...n,title:a,label:o})});var en=e=>Object(le.jsx)(Nt,{value:e.input.checked,checked:e.input.checked,onClick:()=>e.input.onChange(!e.input.checked),indeterminate:""===e.input.value,...e});const tn=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"fullText",component:en}),label:"Full Text"})]}),nn=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"solrPath",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"solrCollection",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"zookeeperHost",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"elasticsearchPath",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"commitInterval",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"softCommitInterval",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"autoSoftCommit",component:en}),label:"Auto Soft Commit"}),Object(le.jsx)(Zt,{name:"pingAttempts",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"pingTimeout",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"queryTimeout",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Yt,{name:"fieldDefault",label:"fieldDefault",component:tn})]});var on=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"indexingConfigurationDocument",component:nn}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})})),an=n(51),sn=n.n(an);function rn(e,t){if(void 0===e)return"";if(Number.isNaN(e))return"";if(0===e)return"0";const n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?"".concat(e," ").concat(t[n],")"):"".concat((e/1e3**n).toFixed(1)," ").concat(t[n])}function cn(e){return rn(e,["Hz","kHz","mHz","gHz","tHz"])}function ln(e,t){if(e)return JSON.stringify(JSON.parse(e),null,t||2)}var jn=e=>e[0].toUpperCase()+e.toLowerCase().slice(1);function dn(e){return function(e,t){if(void 0===e)return"";if(Number.isNaN(e))return"";if(0===e)return"0";let n,o=e;e<0&&(n=!0,o=-e);const a=parseInt(Math.floor(Math.log(o)/Math.log(1024)),10);return 0===a?"".concat(e," ").concat(t[a]):"".concat(n?"-":"").concat((e/1024**a).toFixed(1)," ").concat(t[a])}(e,["Bytes","KB","MB","GB","TB","PB","EB"])}var mn=function(e){const t=sn()(e),n=sn()(),o=sn.a.duration(n.diff(t));return"".concat(parseInt(o.asMinutes(),10)," minutes")};const hn={textDecoration:"none",color:"inherit"};var un=s.a.forwardRef(((e,t)=>Object(le.jsx)(j.b,{ref:t,style:hn,...e,onClick:e=>e.stopPropagation()})));let bn="",pn=null,On=null,xn=null;function gn(){bn="",null!==pn&&pn.disconnect(),null!==On&&(window.clearTimeout(On),On=null)}function fn(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function vn(){let e=null;if("#"===bn)e=document.body;else{const t=bn.replace("#","");e=document.getElementById(t),null===e&&"#top"===bn&&(e=document.body)}if(null!==e){xn(e);const t=e.getAttribute("tabindex");return null!==t||fn(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==t||fn(e)||(e.blur(),e.removeAttribute("tabindex")),gn(),!0}return!1}function yn(e){return s.a.forwardRef(((t,n)=>{let o="";"string"===typeof t.to&&t.to.includes("#")?o="#".concat(t.to.split("#").slice(1).join("#")):"object"===typeof t.to&&"string"===typeof t.to.hash&&(o=t.to.hash);const a={};e===j.c&&(a.isActive=(e,t)=>e&&e.isExact&&t.hash===o);const{scroll:s,smooth:r,timeout:c,elementId:i,...l}=t;return Object(le.jsx)(e,{...a,...l,onClick:function(e){gn(),bn=t.elementId?"#".concat(t.elementId):o,t.onClick&&t.onClick(e),""===bn||e.defaultPrevented||0!==e.button||t.target&&"_self"!==t.target||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(xn=t.scroll||(e=>t.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()),function(e){window.setTimeout((()=>{!1===vn()&&(null===pn&&(pn=new MutationObserver(vn)),pn.observe(document,{attributes:!0,childList:!0,subtree:!0}),On=window.setTimeout((()=>{gn()}),e||1e4))}),0)}(t.timeout))},ref:n,children:t.children})}))}const Cn=yn(j.b),Sn=(yn(j.c),{textDecoration:"none",color:"inherit"});var In=s.a.forwardRef(((e,t)=>Object(le.jsx)(Cn,{ref:t,style:Sn,...e,onClick:e=>e.stopPropagation()})));const Rn=({color:e="textPrimary",variant:t="subtitle2",...n})=>Object(le.jsx)(X.a,{color:e,variant:t,...n});var Dn=Ht(Object(ye.a)((e=>({FormControlLabel:{height:e.typography.subtitle1.lineHeight},onHover:{minHeight:"32px","&:hover":{backgroundColor:e.palette.action.hover}},default:{minHeight:"32px"},ValueComponent:{overflowWrap:"anywhere"}})))((function({className:e,title:t,value:n,variant:o,variantProps:a,capitalize:r=!1,titleGridProps:c,valueGridProps:i,titleTypographyProps:l={},valueTypographyProps:j={},classes:d,hover:m=!1,hideNoValue:h=!1,titleStartCase:u=!0,codeProps:b={},onClick:p,onDelete:O,disableOnClick:x=!0,noWrap:g=!1,noWrapTitle:f=!0,hideCode:v=!1,initialHideCode:y=!0,to:C}){const S=Object(Ce.default)(e,{[d.onHover]:m,[d.default]:!m}),[I,R]=s.a.useState(y),D=()=>R((e=>!e)),F=x?e=>e.stopPropagation():p;if(h){if(void 0===n)return null;if(Array.isArray(n)&&0===n.length)return null}if("code"===o||"text/plain"===o)return Object(le.jsxs)("div",{children:[void 0!==t&&Object(le.jsxs)($.a,{container:!0,direction:"row",alignItems:"center",className:S,wrap:"nowrap",children:[Object(le.jsx)($.a,{md:3,sm:4,xs:6,...c,item:!0,children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:F,noWrap:f,children:u?ot()(t):t})}),!0===v&&Object(le.jsx)(Oe.a,{onClick:D,size:"small",variant:"outlined",children:"".concat(I?"Show":"Hide"," ").concat(u?ot()(t):t)})]}),(!1===v||!1===I)&&Object(le.jsx)(Te,{value:n||"",onClick:F,options:{readOnly:!0,theme:"material",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...b}})]});if("json"===o||"application/json"===o)return Object(le.jsxs)(le.Fragment,{children:[void 0!==t&&Object(le.jsxs)($.a,{container:!0,direction:"row",alignItems:"center",className:S,wrap:"nowrap",children:[Object(le.jsx)($.a,{md:3,sm:4,xs:6,...c,item:!0,children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:F,noWrap:f,children:u?ot()(t):t})}),!0===v&&Object(le.jsx)(Oe.a,{onClick:D,size:"small",variant:"outlined",children:"".concat(I?"Show":"Hide"," ").concat(u?ot()(t):t)})]}),(!1===v||!1===I)&&Object(le.jsx)(Te,{value:ln(n)||"",onClick:F,options:{readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...b}})]});if("application/ld+json"===o)return Object(le.jsxs)("div",{children:[void 0!==t&&Object(le.jsxs)($.a,{container:!0,direction:"row",alignItems:"center",className:S,wrap:"nowrap",children:[Object(le.jsx)($.a,{md:3,sm:4,xs:6,...c,item:!0,children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:F,noWrap:f,children:u?ot()(t):t})}),!0===v&&Object(le.jsx)(Oe.a,{onClick:D,size:"small",variant:"outlined",children:"".concat(I?"Show":"Hide"," ").concat(u?ot()(t):t)})]}),(!1===v||!1===I)&&Object(le.jsx)(Te,{value:n||"",onClick:F,options:{readOnly:!0,theme:"material",mode:"application/ld+json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...b}})]});if("xml"===o||"application/xml"===o)return Object(le.jsxs)("div",{children:[void 0!==t&&Object(le.jsxs)($.a,{container:!0,direction:"row",alignItems:"center",className:S,wrap:"nowrap",children:[Object(le.jsx)($.a,{md:3,sm:4,xs:6,...c,item:!0,children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:F,noWrap:f,children:u?ot()(t):t})}),!0===v&&Object(le.jsx)(Oe.a,{onClick:D,size:"small",variant:"outlined",children:"".concat(I?"Show":"Hide"," ").concat(u?ot()(t):t)})]}),(!1===v||!1===I)&&Object(le.jsx)(Te,{value:Ee(n)||"",onClick:F,options:{readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],...b}})]});if("boolean"===o)return Object(le.jsx)("div",{className:S,children:Object(le.jsx)(re.a,{classes:{root:d.FormControlLabel},control:Object(le.jsx)(Et.a,{checked:"true"===n||!0===n,indeterminate:""===n||void 0===n,disabled:!0}),label:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:u?ot()(t):t})})});const T=function({value:e,variant:t,variantProps:n,capitalize:o,classes:a={},to:s,onDelete:r,...c}){if(void 0===e)return null;let i=Object(le.jsx)(Rn,{className:a.ValueComponent,...c,children:o?jn(e):e.toString()});switch(t){case"checkbox":i=Object(le.jsx)(Et.a,{checked:e,disabled:!0});break;case"component":i=e;break;case"aspectratio":"object"===typeof e&&e.horizontal&&(i=Object(le.jsx)(Rn,{children:"Horizontal:".concat(e.horizontal," Vertical:").concat(e.vertical)}));break;case"duration":if("object"===typeof e&&e.started){const t=sn()(e.started),n=sn()(e.finished),o=sn.a.duration(n.diff(t)).humanize();i=Object(le.jsx)(Rn,{children:o})}break;case"fromnow":i=Object(le.jsx)(Rn,{children:mn(e)});break;case"timestring":i=Object(le.jsx)(Rn,{children:e?sn()(e).toString():""});break;case"timestamp":i=Object(le.jsx)(Rn,{children:e});break;case"seconds":i=Object(le.jsx)(Rn,{children:sn.a.duration(e,"seconds").humanize()});break;case"rational":"object"===typeof e&&e.denominator&&(i=Object(le.jsx)(Rn,{children:"".concat(e.numerator,"/").concat(e.denominator)}));break;case"resolution":"object"===typeof e&&e.width&&(i=Object(le.jsx)(Rn,{children:"Width:".concat(e.width," Height:").concat(e.height)}));break;case"timebase":"object"===typeof e&&e.denominator&&(i=Object(le.jsx)(Rn,{children:"".concat(e.denominator,"/").concat(e.numerator)}));break;case"timecode":"object"===typeof e&&e.samples&&(i=Object(le.jsx)(Rn,{children:"".concat(e.samples,"@").concat(e.timeBase.denominator,"/").concat(e.timeBase.numerator)}));break;case"fps":if("object"===typeof e&&e.denominator){const t=+(e.denominator/e.numerator).toFixed(2);i=Object(le.jsx)(Rn,{children:"".concat(t," fps")})}break;case"fps-reverse":if("object"===typeof e&&e.denominator){const t=+(e.numerator/e.denominator).toFixed(2);i=Object(le.jsx)(Rn,{children:"".concat(t," fps")})}break;case"bitrate":i=Object(le.jsx)(Rn,{children:(l=e,rn(l,["bps","Kbps","Mbps","Gbps","Tbps"]))});break;case"percent":i=Object(le.jsx)(Rn,{children:"".concat(parseInt(e,10)||0,"%")});break;case"frequency":i=Object(le.jsx)(Rn,{children:cn(e)});break;case"bytes":i=Object(le.jsx)(Rn,{children:dn(e)});break;case"link":i=Object(le.jsx)(Rn,{children:s?Object(le.jsx)(un,{to:s,children:e}):e});break;case"username":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/user/".concat(e,"/"),children:e})});break;case"group":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/group/".concat(e,"/"),children:e})});break;case"shape-tag":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/shape-tag/".concat(e,"/"),children:e})});break;case"metadata-field":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/metadata-field/".concat(e,"/"),children:e})});break;case"item":case"itemId":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/item/".concat(e,"/"),children:e})});break;case"shapeId":case"shape":(null===n||void 0===n?void 0:n.itemId)&&(i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/item/".concat(n.itemId,"/shape/").concat(e,"/"),children:e})}));break;case"componentId":(null===n||void 0===n?void 0:n.itemId)&&(null===n||void 0===n?void 0:n.shapeId)&&(i=Object(le.jsx)(Rn,{children:Object(le.jsx)(In,{to:"/item/".concat(n.itemId,"/shape/").concat(n.shapeId,"#").concat(e),children:e})}));break;case"collectionId":case"collection":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/collection/".concat(e,"/"),children:e})});break;case"library":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/library/".concat(e,"/"),children:e})});break;case"documentMetadataName":case"document":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/document/".concat(e),children:e})});break;case"fileId":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/file/".concat(e,"/"),children:e})});break;case"fileIdList":i=e.split(",").map((e=>Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/file/".concat(e,"/"),children:e})})));break;case"storageId":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/storage/".concat(e,"/"),children:e})});break;case"jobtype":i=Object(le.jsx)(Rn,{children:Object(le.jsx)(un,{to:"/task-definition/jobtype/".concat(e,"/"),children:e})});break;case"boolean":i=Object(le.jsxs)(Rn,{children:[("true"===e||!0===e)&&"True",("false"===e||!1===e)&&"False"]});break;case"list":Array.isArray(e)&&(i=e.map((e=>Object(le.jsx)(_.a,{label:e,onDelete:r?t=>r(t,e):void 0},e))));break;case"commaseparatedlist":i=e.split(",").map((e=>Object(le.jsx)(Rn,{className:a.ValueComponent,...c,children:o?jn(e):e.toString()})));break;default:t&&console.warn("TextGrid: Unknown variant=".concat(t))}var l;return i}({value:n,variant:o,variantProps:a,capitalize:r,onClick:F,classes:d,noWrap:g,to:C,onDelete:O,...j});return Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",className:S,alignItems:"flex-start",children:[Object(le.jsx)($.a,{md:3,sm:4,xs:6,...c,item:!0,children:Object(le.jsx)(X.a,{color:"textSecondary",variant:"subtitle2",onClick:F,noWrap:f,...l,children:u?ot()(t):t})}),Object(le.jsx)($.a,{xs:"auto",...i,item:!0,children:T})]})})));var Fn=Ht(Object(ye.a)((e=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:e.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}})))((({title:e,value:t,classes:n,component:o,hover:a=!1,hideNoValue:s=!1,titleStartCase:r=!0,dense:c=!1,...i})=>s&&void 0===t?null:Object(le.jsxs)("div",{className:a?n.onHover:n.noHover,children:[e&&Object(le.jsx)(X.a,{variant:"subtitle2",children:r?ot()(e):e}),"object"===typeof t&&Object(le.jsx)("div",{className:c?void 0:n.marginLeft,children:Object(le.jsx)(o,{value:t,...i})})]}))));const Tn={marginLeft:{marginLeft:"10px"},withPadding:{paddingTop:"10px",paddingBottom:"10px"}};var En=Ht(Object(ye.a)((e=>({onHover:{"&:hover":{backgroundColor:e.palette.action.hover}}})))((({title:e,titleKey:t,value:n,classes:o,arrayTitle:a,arrayStartCase:s=!1,component:r,hover:c=!0,dense:i=!1,hideNoValue:l=!1,titleStartCase:j=!0,arrayKey:d})=>l&&void 0===n||l&&0===n.length?null:Array.isArray(n)?Object(le.jsxs)(le.Fragment,{children:[a&&Object(le.jsx)(X.a,{variant:"subtitle2",children:s?ot()(a):a}),n.map(((n,a)=>Object(le.jsxs)("div",{className:c?o.onHover:void 0,style:i?void 0:Tn.marginLeft,children:[e&&!t&&Object(le.jsx)(X.a,{variant:"subtitle2",children:j?ot()("".concat(e," ").concat(a+1)):"".concat(e," ").concat(a+1)}),t&&e&&Object(le.jsx)(X.a,{variant:"subtitle2",children:j?ot()("".concat(e," ").concat(n[t])):"".concat(e," ").concat(n[t])}),t&&!e&&Object(le.jsx)(X.a,{variant:"subtitle2",children:j?ot()(n[t]):n[t]}),Object(le.jsx)("div",{className:i?void 0:o.marginLeft,children:Object(le.jsx)(r,{value:n})})]},d?n[d]:a)))]}):null)));const Pn=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"solrPath",value:e.solrPath,hover:!0}),Object(le.jsx)(Dn,{title:"solrCollection",value:e.solrCollection,hover:!0}),Object(le.jsx)(Dn,{title:"zookeeperHost",value:e.zookeeperHost,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"elasticsearchPath",value:e.elasticsearchPath,hover:!0}),Object(le.jsx)(Dn,{title:"commitInterval",value:e.concurrentJobs,hover:!0}),Object(le.jsx)(Dn,{title:"softCommitInterval",value:e.softCommitInterval,hover:!0}),Object(le.jsx)(Dn,{title:"autoSoftCommit",value:e.autoSoftCommit,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"pingAttempts",value:e.pingAttempts,hover:!0}),Object(le.jsx)(Dn,{title:"pingTimeout",value:e.pingTimeout,hover:!0}),Object(le.jsx)(Dn,{title:"queryTimeout",value:e.queryTimeout,hover:!0}),Object(le.jsx)(En,{value:e.fieldDefault,component:e=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0}),Object(le.jsx)(Dn,{title:"fullText",value:e.fullText,variant:"boolean",hover:!0})]}),arrayTitle:"Pools",dense:!0})]});function Nn({indexingConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:Pn})})}var kn=he((function({indexingConfigurationDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_INDEXING_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"Indexing Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating Indexing Configuration",messageColor:"secondary"})},onSubmit:mt,displayProps:{indexingConfigurationDocument:e},initialValues:{indexingConfigurationDocument:e},formComponent:on,displayComponent:Nn})}));function Mn(e){return Object(le.jsx)(we,{children:Object(le.jsx)(kn,{...e})})}class An extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={indexingConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Indexing"}onRefresh(){try{W.configuration.getIndexingConfiguration().then((e=>this.setState({indexingConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Indexing Configuration",messageColor:"secondary"})}render(){const{indexingConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Indexing",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#indexing-settings",onRefresh:this.onRefresh,code:e,codeModal:"IndexingConfigurationDocument"}),e&&Object(le.jsx)(Mn,{indexingConfigurationDocument:e,onSuccess:this.onRefresh})]})}}var Ln=he(An);const Wn=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"minSize",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxSize",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"evictionInterval",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"minIdleTime",component:_t,type:"number",fullWidth:!0})]}),_n=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"pool",component:Wn})});var wn=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"ftpPoolConfigurationDocument",component:_n}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Vn=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"minSize",value:e.minSize,hover:!0}),Object(le.jsx)(Dn,{title:"maxSize",value:e.maxSize,hover:!0}),Object(le.jsx)(Dn,{title:"evictionInterval",value:e.evictionInterval,hover:!0}),Object(le.jsx)(Dn,{title:"minIdleTime",value:e.minIdleTime,hover:!0})]}),Un=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e.pool,component:Vn,dense:!0})});function Bn({ftpPoolConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:Un})})}var qn=he((function({ftpPoolConfigurationDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_FTPPOOL_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"FTP Pool Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating FTP Pool Configuration",messageColor:"secondary"})},onSubmit:ut,displayProps:{ftpPoolConfigurationDocument:e},initialValues:{ftpPoolConfigurationDocument:e},formComponent:wn,displayComponent:Bn})}));function Gn(e){return Object(le.jsx)(we,{children:Object(le.jsx)(qn,{...e})})}var Hn=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove All FTP Pool Configuration"}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.configuration.removeFtpPoolConfiguration().then((()=>{n({messageContent:"FTP Pool Configuration Removed"}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing FTP Pool Configuratio",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const zn="FTPPOOL_REMOVE_DIALOG";class Jn extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={ftpPoolConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | FTP Pool"}onRefresh(){try{W.configuration.getFtpPoolConfiguration().then((e=>this.setState({ftpPoolConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading FTP Pool Configuration",messageColor:"secondary"})}render(){const{ftpPoolConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"FTP Pool",helpTo:"/ref/property.html#ftp-pool-configuration",onRefresh:this.onRefresh,code:e,codeModal:"FtpPoolConfigurationDocument",removeModal:zn}),e&&Object(le.jsx)(Gn,{ftpPoolConfigurationDocument:e,onSuccess:this.onRefresh}),Object(le.jsx)(Hn,{dialogName:zn,onSuccess:this.onRefresh})]})}}var Kn=he(Jn),Yn=n(317),Xn=n(757),$n=n(316);var Qn=["HIGHEST","HIGH","MEDIUM","LOW","LOWEST","IMMEDIATE"];const Zn=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priorityThreshold",children:"Priority Threshold"}),Object(le.jsx)(Zt,{name:"priorityThreshold",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"size",component:_t,type:"number",fullWidth:!0})]}),eo=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"concurrentJobs",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Yt,{name:"pool",label:"Pool",component:Zn})]});var to=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"jobPoolListDocument",component:eo}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const no=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"priorityThreshold",value:e.priorityThreshold,hover:!0}),Object(le.jsx)(Dn,{title:"size",value:e.size,hover:!0})]}),oo=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"concurrentJobs",value:e.concurrentJobs,hover:!0}),Object(le.jsx)(En,{value:e.pool,component:no,arrayTitle:"Pools",dense:!0})]});function ao({jobPoolListDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:oo})})}var so=he((function({jobPoolListDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_JOBPOOL_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"Job Pool Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating Job Pool Configuration",messageColor:"secondary"})},onSubmit:ht,displayProps:{jobPoolListDocument:e},initialValues:{jobPoolListDocument:e},formComponent:to,displayComponent:ao})}));function ro(e){return Object(le.jsx)(we,{children:Object(le.jsx)(so,{...e})})}var co=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove All Job Pool Configuration"}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.configuration.removeAllJobPoolConfiguration().then((()=>{n({messageContent:"Job Pool Configuration Removed"}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing Job Pool Configuration",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const io="JOBPOOL_REMOVE_DIALOG";class lo extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={jobPoolListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Pools"}onRefresh(){try{W.configuration.getJobPoolConfiguration().then((e=>this.setState({jobPoolListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Job Pool Configuration",messageColor:"secondary"})}render(){const{jobPoolListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Job Pool",helpTo:"/ref/property.html#job-pool-configuration",onRefresh:this.onRefresh,code:e,codeModal:"JobPoolListDocument",removeModal:io}),e&&Object(le.jsx)(ro,{jobPoolListDocument:e,onSuccess:this.onRefresh}),Object(le.jsx)(co,{dialogName:io,onSuccess:this.onRefresh})]})}}var jo=he(lo);var mo=Object(ye.a)({root:{tableLayout:"fixed"}})((e=>Object(le.jsx)(Ve.a,{...e,className:e.classes.root}))),ho=Ue.a;var uo=function({disableOnClick:e,onClick:t,...n}){const o=e?e=>e.stopPropagation():t;return Object(le.jsx)(Be.a,{onClick:o,...n})},bo=qe.a;function po({to:e,...t}){const n=Object(d.h)(),{onClick:o}=t,a=e?()=>n.push(e):o;return Object(le.jsx)(Ge.a,{onClick:a,style:{cursor:a?"pointer":"auto"},...t})}const Oo={onClose:o.closeModal,onOpen:o.openModal};var xo=e=>Object(i.b)(null,Oo)(class extends s.a.PureComponent{constructor(e){super(e),this.onOpen=this.onOpen.bind(this),this.state={dialogProps:void 0}}onOpen(e){const{onOpen:t}=this.props;return n=>{this.setState({dialogProps:n},(()=>t({modalName:e})))}}render(){return Object(le.jsx)(e,{...this.props,dialogProps:this.state.dialogProps,onOpen:this.onOpen})}}),go=n(188),fo=n.n(go);function vo({configurationPropertyDocument:e={},onRemove:t,onEdit:n}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.key}),Object(le.jsx)(uo,{children:Object(le.jsx)(X.a,{noWrap:!0,children:e.value})}),Object(le.jsx)(uo,{children:e.lastChange?sn()(e.lastChange).fromNow().toString():""}),Object(le.jsxs)(uo,{disableOnClick:!0,children:[Object(le.jsx)(w.a,{onClick:()=>t({propertyKey:e.key}),children:Object(le.jsx)(ee.a,{})}),Object(le.jsx)(w.a,{onClick:()=>n({configurationPropertyDocument:e}),children:Object(le.jsx)(fo.a,{})})]})]})})}var yo=ue((function({open:e,onClose:t,openSnackBar:n,propertyKey:o,onSuccess:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Configuration Property "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.configuration.removePropertiesConfiguration({key:o}).then((()=>{const e="Configuration Property ".concat(o," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Configuration Property",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Co=n(787),So=n(766);var Io=e=>Object(le.jsx)(_t,{disabled:void 0!==e.meta.initial&&""!==e.meta.initial,onFocus:e.onFocus,onBlur:e.onBlur,...e});const Ro=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"key",label:"Key",component:Io,fullWidth:!0}),Object(le.jsx)(Zt,{name:"value",label:"Value",component:_t,fullWidth:!0,multiline:!0})]});var Do=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"configurationPropertyDocument",component:Ro}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Fo=n(318),To=(n(639),n(640),n(641),n(642),n(643),n(434));var Eo=Object(ye.a)({root:{},label:{},input:{},helper:{},CodeMirror:{"& .CodeMirror":{height:"100%",width:"100%",maxWidth:"90vw"}}})((function({classes:e,className:t,style:n,error:o,warning:a,options:s={},label:r,cmRef:c,input:i={},meta:l={}}){return"javascript"===s.mode&&!1!==s.lint&&void 0!==s.lint&&(window.JSHINT=To.JSHINT),Object(le.jsxs)("div",{className:Object(Ce.default)([t,e.root]),style:n,children:[r&&Object(le.jsx)(Yn.a,{error:Boolean(o||a),className:e.label,children:r}),Object(le.jsx)(Ie.a,{codeMirrorInstance:De.a,options:{theme:"material",...s},className:Object(Ce.default)([e.input,e.CodeMirror]),ref:c,...i}),Boolean(l.touched&&l.error)&&Object(le.jsx)(Fo.a,{error:!0,className:e.helper,children:l.error})]})}));const Po=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"key",label:"Key",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"value",label:"Value",component:Eo,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})]});var No=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"configurationPropertyDocument",component:Po}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));const ko={submitForm:Ct.f,resetForm:Ct.d,changeForm:Ct.a,destroyForm:Ct.b,initializeForm:Ct.c};var Mo=e=>Object(i.b)(null,ko)(e);var Ao=e=>t=>class extends s.a.PureComponent{constructor(t){super(t),this.onChangeTab=this.onChangeTab.bind(this);const n=new URLSearchParams(t.location.search).get("tab");this.state={tabValue:n||e}}onChangeTab(e,t){const{history:n}=this.props;n.push({search:"?tab=".concat(t)}),this.setState({tabValue:t})}render(){const{tabValue:e}=this.state;return Object(le.jsx)(t,{...this.props,tabValue:e,onChangeTab:this.onChangeTab})}};var Lo=Object(ye.a)({root:{overflow:"visible"}})((e=>Object(le.jsx)(fe.a,{...e,className:e.classes.root})));const Wo="CONFIGURATIONPROPERTIES_FORM",_o="TEXT_TAB",wo="JAVASCRIPT_TAB";var Vo=Object(m.c)(ue,Mo,Ao(_o))((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,configurationPropertyDocument:s,tabValue:r,onChangeTab:c}){const i=e=>{const{configurationPropertyDocument:{key:a}}=e,s="Configuration Property ".concat(a," Updated");o({messageContent:s}),n&&n(),t()},l=()=>{o({messageContent:"Error Updating Configuration Property",messageColor:"secondary"})};let j=!1;return s&&s.key&&s.key.startsWith("javascript-")&&(j=!0),Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Edit Configuration Property"}),Object(le.jsxs)(Lo,{children:[!1===j&&Object(le.jsxs)(Co.a,{value:r,onChange:c,children:[Object(le.jsx)(So.a,{label:"Text",value:_o}),Object(le.jsx)(So.a,{label:"Javascript",value:wo})]}),!j&&r===_o&&Object(le.jsx)(Do,{form:Wo,onSubmit:dt,onSubmitSuccess:i,onSubmitFail:l,onCancel:t,initialValues:{configurationPropertyDocument:s},destroyOnUnmount:!1,enableReinitialize:!0}),(j||r===wo)&&Object(le.jsx)(No,{form:Wo,onSubmit:dt,onSubmitSuccess:i,onSubmitFail:l,onCancel:t,initialValues:s?{configurationPropertyDocument:s}:{configurationPropertyDocument:{key:"javascript-"}},destroyOnUnmount:!1,enableReinitialize:!0})]}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Wo),children:"Save"})]})]})}));var Uo=e=>(t={},n={})=>t[e].localeCompare(n[e],void 0,{sensitivity:"base"});const Bo="REMOVE_CONFIGURATIONPROPERTIES_DIALOG",qo="CONFIGURATIONPROPERTIES_EDIT_MODAL";var Go=xo((function({configurationPropertyListDocument:e=[],onRefresh:t,dialogProps:n,onOpen:o}){const{property:a=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(mo,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Key"}),Object(le.jsx)(uo,{children:"Value"}),Object(le.jsx)(uo,{children:"Last Changed"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:a.sort(Uo("key")).map((e=>Object(le.jsx)(vo,{configurationPropertyDocument:e,onRemove:o(Bo),onEdit:o(qo)},e.key)))})]}),Object(le.jsx)(yo,{...n,dialogName:Bo,onSuccess:t}),Object(le.jsx)(Vo,{...n,dialogName:qo,onSuccess:t})]})}));function Ho({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Go,{...e})})})}const zo="CONFIGURATIONPROPERTIES_CREATE_MODAL";class Jo extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={configurationPropertyListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Configuration Properties",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.configuration.getPropertiesConfiguration().then((e=>this.setState({configurationPropertyListDocument:e.data})))}catch(t){e({messageContent:"Error Getting Configuration Properties",messageColor:"secondary"})}}render(){const{configurationPropertyListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Properties",helpTo:"/ref/property.html#configuration-properties",createModal:zo,onRefresh:this.onRefresh,code:e,codeModal:"ConfigurationPropertyListDocument"}),e&&Object(le.jsx)(Ho,{configurationPropertyListDocument:e,onRefresh:this.onRefresh}),Object(le.jsx)(Vo,{dialogName:zo,onSuccess:this.onRefresh})]})}}var Ko=he(Jo);const Yo=e=>({onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:e.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}}),Xo=({fields:e,label:t,classes:n,hover:o=!0,labelStartCase:a=!0,fieldComponent:s,...r})=>Object(le.jsxs)("div",{children:[e.map(((c,i)=>Object(le.jsxs)("div",{className:o?n.onHover:n.noHover,children:[Object(le.jsxs)($.a,{container:!0,direction:"row-reverse",justifyContent:"space-between",alignItems:"baseline",children:[Object(le.jsx)($.a,{item:!0,sm:"auto",children:Object(le.jsx)(w.a,{onClick:()=>e.remove(i),children:Object(le.jsx)(Bt.a,{})})}),t&&Object(le.jsx)(X.a,{variant:"subtitle2",children:a?ot()("".concat(t," ").concat(i+1)):"".concat(t," ").concat(i+1)})]}),Object(le.jsx)("div",{className:n.marginLeft,children:Object(le.jsx)($t.a,{name:"".concat(c),component:s,...r})})]},c))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:t?"Add ".concat(t):"Add"})]});var $o=Ht((({component:e,...t})=>{const n=Object(ye.a)(Yo)(Xo);return Object(le.jsx)(Vt.a,{component:n,fieldComponent:e,...t})}));const Qo=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"host",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"port",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"prefix",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"tags",component:en}),label:"Tags"}),Object(le.jsx)($o,{name:"exclude",label:"Exclude Filter",component:_t,fullWidth:!0}),Object(le.jsx)($o,{name:"include",label:"Include Filter",component:_t,fullWidth:!0})]}),Zo=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"statsd",component:Qo})});var ea=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metricsConfigurationDocument",component:Zo}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var ta=Ht((({value:e,title:t,...n})=>n.hideNoValue&&void 0===e?null:Array.isArray(e)?n.hideNoValue&&0===e.lenght?null:e.map(((e,o)=>Object(le.jsx)(Dn,{title:0===o?t:"",value:e,...n},o))):null));const na=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"host",value:e.host,hover:!0}),Object(le.jsx)(Dn,{title:"port",value:e.port,hover:!0}),Object(le.jsx)(Dn,{title:"prefix",value:e.prefix,hover:!0}),Object(le.jsx)(Dn,{title:"tags",value:e.tags,variant:"boolean",hover:!0}),Object(le.jsx)(ta,{value:e.exclude,title:"Exclude Filter",hover:!0}),Object(le.jsx)(ta,{value:e.include,title:"Include Filter",hover:!0})]}),oa=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e.statsd,component:na,dense:!0})});function aa({metricsConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:oa})})}var sa=he((function({metricsConfigurationDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_METRICS_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"Metrics Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating Metrics Configuration",messageColor:"secondary"})},onSubmit:bt,displayProps:{metricsConfigurationDocument:e},initialValues:{metricsConfigurationDocument:e},formComponent:ea,displayComponent:aa})}));function ra(e){return Object(le.jsx)(we,{children:Object(le.jsx)(sa,{...e})})}class ca extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metricsConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Metrics"}onRefresh(){try{W.configuration.getMetricsConfiguration().then((e=>this.setState({metricsConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Metrics Configuration",messageColor:"secondary"})}render(){const{metricsConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Metrics",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#metrics-settings",onRefresh:this.onRefresh,code:e,codeModal:"MetricsConfigurationDocument"}),e&&Object(le.jsx)(ra,{metricsConfigurationDocument:e,onSuccess:this.onRefresh})]})}}var ia=he(ca);const la=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"path",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"expiryTime",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"uploadUri",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"certificate",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"clientKey",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"clientCertificate",component:_t,fullWidth:!0})]});var ja=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"logReportConfigurationDocument",component:la}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const da=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"path",value:e.path,hover:!0}),Object(le.jsx)(Dn,{title:"expiryTime",value:e.expiryTime,hover:!0}),Object(le.jsx)(Dn,{title:"uploadUri",value:e.uploadUri,hover:!0}),Object(le.jsx)(Dn,{title:"certificate",value:e.certificate,hover:!0}),Object(le.jsx)(Dn,{title:"clientKey",value:e.clientKey,hover:!0}),Object(le.jsx)(Dn,{title:"clientCertificate",value:e.clientCertificate,hover:!0})]});function ma({logReportConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:da})})}var ha=he((function({logReportConfigurationDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_LOGREPORT_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"LogReport Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating LogReport Configuration",messageColor:"secondary"})},onSubmit:Ot,displayProps:{logReportConfigurationDocument:e},initialValues:{logReportConfigurationDocument:e},formComponent:ja,displayComponent:ma})}));function ua(e){return Object(le.jsx)(we,{children:Object(le.jsx)(ha,{...e})})}class ba extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={logReportConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | Log Report"}onRefresh(){try{W.configuration.getLogReportConfiguration().then((e=>this.setState({logReportConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Log Report Configuration",messageColor:"secondary"})}render(){const{logReportConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Log Report",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#logreport-settings",onRefresh:this.onRefresh,code:e,codeModal:"LogReportConfigurationDocument"}),e&&Object(le.jsx)(ua,{logReportConfigurationDocument:e,onSuccess:this.onRefresh})]})}}var pa=he(ba);const Oa=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($o,{name:"alias",label:"Alias",component:_t,fullWidth:!0})});var xa=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"pathAliasConfigurationDocument",component:Oa}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function ga({pathAlias:e}){return Object(le.jsxs)(Ge.a,{hover:!0,children:[Object(le.jsx)(Be.a,{children:e}),Object(le.jsx)(Be.a,{})]})}function fa({pathAliasConfigurationDocument:e}){const{alias:t=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"Alias"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:t.map((e=>Object(le.jsx)(ga,{pathAlias:e},e)))})]})}var va=he((function({pathAliasConfigurationDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_PATHALIAS_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"Path Alias Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating Path Alias Configuration",messageColor:"secondary"})},onSubmit:pt,displayProps:{pathAliasConfigurationDocument:e},initialValues:{pathAliasConfigurationDocument:e},formComponent:xa,displayComponent:fa})}));function ya(e){return Object(le.jsx)(we,{children:Object(le.jsx)(va,{...e})})}class Ca extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={pathAliasConfigurationDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Path Alias",this.onRefresh()}onRefresh(){try{W.configuration.getPathAliasConfiguration().then((e=>this.setState({pathAliasConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Path Alias Configuration",messageColor:"secondary"})}render(){const{pathAliasConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Path Alias",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#path-alias-configuration",onRefresh:this.onRefresh,code:e,codeModal:"PathAliasConfigurationDocument"}),e&&Object(le.jsx)(ya,{pathAliasConfigurationDocument:e,onSuccess:this.onRefresh})]})}}var Sa=he(Ca),Ia=n(435),Ra=n.n(Ia),Da=n(55),Fa=n.n(Da);var Ta=Object(ye.a)({chipContainer:{minWidth:260}})((function({classes:e,input:t,simple:n=!1,...o}){const a="string"===typeof t.value?void 0:t.value,s=n?void 0:{value:"value",text:"value"};return Object(le.jsx)(Ra.a,{...t,...o,dataSourceConfig:s,value:a,onDelete:(e,n)=>{const o=Fa()(t.value,{$splice:[[n,1]]});t.onChange(o)},onBlur:e=>{if(e.target.value){const o=n?[e.target.value]:[{value:e.target.value}];if("object"===typeof t.value){const e=Fa()(t.value,{$push:o});t.onBlur(e)}else t.onBlur(o)}else t.onBlur(t.value)},classes:{chipContainer:e.chipContainer}})}));const Ea=({dense:e=!0})=>e?Object(le.jsxs)($.a,{container:!0,spacing:8,children:[Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"key",label:"key",component:_t,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"value",label:"value",component:_t,fullWidth:!0})})]}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"key",label:"key",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"value",label:"value",component:_t,fullWidth:!0})]}),Pa=({dense:e=!0})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"field",arrayHeader:"field",withHeader:!1,component:Ea,dense:e})}),Na=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"method",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"origin",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"originRegex",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"pathRegex",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Yt,{name:"headerRegex",label:"headerRegex",component:Ea,fullWidth:!0})]}),ka=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"allowOrigin",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"allowMethods",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"allowHeaders",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"allowMaxAge",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"allowOtherHeader",label:"allowOtherHeader",component:Ea,fullWidth:!0})]}),Ma=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Yt,{name:"request",label:"request",component:Na}),Object(le.jsx)(Xt,{name:"response",label:"response",component:ka})]}),Aa=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"entry",label:"entry",component:Ma})});var La=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"corsConfigurationDocument",component:Aa}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Wa=({value:e={},dense:t=!0})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{title:t?void 0:"field",value:e.field,component:({value:e={}})=>t?Object(le.jsx)(Dn,{title:e.key,value:e.value,hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"key",value:e.key}),Object(le.jsx)(Dn,{title:"value",value:e.value})]})})}),_a=({value:e={},dense:t=!0})=>t?Object(le.jsx)(Dn,{title:e.key,value:e.value,hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"key",value:e.key}),Object(le.jsx)(Dn,{title:"value",value:e.value})]}),wa=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"numerator",value:e.numerator,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"denominator",value:e.denominator,hover:!0,hideNoValue:!0})]}),Va=wa,Ua=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"samples",value:e.samples,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,component:Va,title:"timeBase",value:e.timeBase})]}),Ba=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"width",value:e.width,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"height",value:e.height,hover:!0,hideNoValue:!0})]}),qa=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"horizontal",value:e.horizontal,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"vertical",value:e.vertical,hover:!0,hideNoValue:!0})]}),Ga=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{hideNoValue:!0,title:"start",component:Ua,value:e.start}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"end",component:Ua,value:e.end})]}),Ha=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"method",value:e.method,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"origin",value:e.origin,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"originRegex",value:e.originRegex,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"pathRegex",value:e.pathRegex,variant:"list",hover:!0}),Object(le.jsx)(En,{title:"headerRegex",value:e.headerRegex,component:_a})]}),za=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"allowOrigin",value:e.allowOrigin,hover:!0}),Object(le.jsx)(Dn,{title:"allowMethods",value:e.allowMethods,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"allowHeaders",value:e.allowHeaders,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"allowMaxAge",value:e.allowMaxAge,hover:!0}),Object(le.jsx)(En,{title:"allowOtherHeader",value:e.allowOtherHeader,component:_a})]}),Ja=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(En,{title:"request",value:e.request,component:Ha}),Object(le.jsx)(Fn,{title:"response",value:e.response,component:za})]}),Ka=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{title:"entry",value:e.entry,component:Ja})});function Ya({corsConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:Ka})})}var Xa=he((function({corsConfigurationDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_CORS_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"CORS Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating CORS Configuration",messageColor:"secondary"})},onSubmit:gt,displayProps:{corsConfigurationDocument:e},initialValues:{corsConfigurationDocument:e},formComponent:La,displayComponent:Ya})}));function $a(e){return Object(le.jsx)(we,{children:Object(le.jsx)(Xa,{...e})})}class Qa extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={corsConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | CORS"}onRefresh(){try{W.configuration.getCorsConfiguration().then((e=>this.setState({corsConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Cors Configuration",messageColor:"secondary"})}render(){const{corsConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"CORS",helpTo:"/ref/property.html#cors-configuration",onRefresh:this.onRefresh,code:e,codeModal:"CORSConfigurationDocument"}),e&&Object(le.jsx)($a,{corsConfigurationDocument:e,onSuccess:this.onRefresh})]})}}var Za=he(Qa);const es=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"federationMetadataURI",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"federationMetadataInterval",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"expectedAudience",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"validationEndpoint",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"tokenUser",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"x509Certificate",component:_t,fullWidth:!0,multiline:!0})]});var ts=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"oAuth2ConfigurationDocument",component:es}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const ns=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"federationMetadataURI",value:e.federationMetadataURI,hover:!0}),Object(le.jsx)(Dn,{title:"federationMetadataInterval",value:e.federationMetadataInterval,hover:!0}),Object(le.jsx)(Dn,{title:"expectedAudience",value:e.expectedAudience,hover:!0}),Object(le.jsx)(Dn,{title:"validationEndpoint",value:e.validationEndpoint,hover:!0}),Object(le.jsx)(Dn,{title:"tokenUser",value:e.tokenUser,hover:!0}),Object(le.jsx)(Dn,{title:"x509Certificate",value:e.x509Certificate,hover:!0})]});function os({oAuth2ConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:ns})})}var as=he((function({oAuth2ConfigurationDocument:e,openSnackBar:t,onSuccess:n}){return Object(le.jsx)(Ft,{formName:"EDIT_AUTH_FORM",onSubmitSuccess:(e,o,a)=>{t({messageContent:"OAuth2 Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating OAuth2 Configuration",messageColor:"secondary"})},onSubmit:ft,displayProps:{oAuth2ConfigurationDocument:e},initialValues:{oAuth2ConfigurationDocument:e},formComponent:ts,displayComponent:os})}));function ss(e){return Object(le.jsx)(we,{children:Object(le.jsx)(as,{...e})})}var rs=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove All OAuth2 Configuration"}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.configuration.removeAuthConfiguration().then((()=>{n({messageContent:"OAuth2 Configuration Removed"}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing OAuth2 Configuration",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const cs="AUTH_REMOVE_DIALOG";class is extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={oAuth2ConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Configuration | OAuth2"}onRefresh(){try{W.configuration.getAuthConfiguration().then((e=>this.setState({oAuth2ConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading OAuth2 Configuration",messageColor:"secondary"})}render(){const{oAuth2ConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"OAuth2",helpTo:"/ref/property.html#oauth2-configuration",onRefresh:this.onRefresh,code:e,codeModal:"OAuth2ConfigurationDocument",removeModal:cs}),e&&Object(le.jsx)(ss,{oAuth2ConfigurationDocument:e,onSuccess:this.onRefresh}),Object(le.jsx)(rs,{dialogName:cs,onSuccess:this.onRefresh})]})}}var ls=he(is);var js=(e="")=>{if("universal:/"===e)return{href:e,protocol:"universal"};let t=!1,n=e;e.startsWith("direct+")&&(t=!0,n=n.replace("direct+",""));const[o,a,s,r,c,i,l,j,d,m,h,u]=/(?:([^:]*):\/\/)?(?:([^:@]*)(?::([^@]*))?@)?(?:([^/:]*)\.(?=[^./:]*\.[^./:]*))?([^./:]*)(?:\.([^/.:]*))?(?::([0-9]*))?(\/[^?#]*(?=.*?\/)\/)?([^?#]*)?(?:\?([^#]*))?(?:#(.*))?/.exec(n);let b;""===c?b="".concat(b,"."):void 0!==c&&(b="".concat(c,".")),i&&(b="".concat(b||"").concat(i)),""===l?b="".concat(b,"."):void 0!==l&&(b="".concat(b,".").concat(l));let p={};h&&(p=h.split("&").map((e=>e.split("="))).reduce(((e,t)=>({...e,[t[0]]:t[1]})),{}));return{href:o,protocol:a,username:s,password:r,port:j,path:"".concat(d||"").concat(m&&"/"!==m?m:"")||void 0,file:m,hash:u,host:b,queryParams:p,subdomain:c,domain:i,tld:l,direct:t}};const ds="file",ms="sftp",hs="http",us="https",bs="omms",ps="azure",Os="universal",xs="vidinet";var gs=(e={},t)=>{let n={};t&&(n=js(t));const{direct:o,protocol:a,username:s,password:r,host:c,port:i,path:l,queryParams:j}={...n,...e};if(a===Os)return"universal:/";let d="";if(o&&(d="direct+"),a&&(d="".concat(d).concat(a,"://")),s&&(d="".concat(d).concat(s,"@")),r&&d.endsWith("@")&&(d="".concat(d.split("@")[0],":").concat(r,"@")),c&&(d="".concat(d).concat(c)),i&&(d="".concat(d,":").concat(i)),l&&(d=l.startsWith("/")||d.endsWith("/")?"".concat(d).concat(l):"".concat(d,"/").concat(l)),j){const e=Object.entries(j).filter((e=>""!==e[1])).map((e=>e.join("="))).join("&");e&&(d="".concat(d,"?").concat(e))}return d};const fs=({onChange:e,value:t,...n})=>Object(le.jsx)(Wt.a,{value:decodeURIComponent(t),onChange:({target:{value:t,...n},...o})=>e({...o,target:{...n,value:encodeURIComponent(t)}}),...n});class vs extends s.a.PureComponent{constructor(e){super(e),this.onChange=this.onChange.bind(this)}onChange(e){return(t,n)=>{const{name:o,value:a}=this.props;let s;if(e===o)s={[o]:t.target.value};else{const o=e.split(".").reverse(),r=(e,t)=>({[t]:e});let c={$set:t.target.value};void 0!==n&&(c={$set:n});const i=o.reduce(r,c);s=Fa()(a,i)}this.props.onChange(s)}}render(){const{children:e,choices:t={},name:n="",value:o={},...a}=this.props,s=o[n],r=s?t[s]:null;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{select:!0,value:s||"",FormHelperTextProps:{focused:!0},onChange:this.onChange(n),fullWidth:!0,children:e}),r&&Object(le.jsx)(r,{...a,value:o,onChange:this.onChange})]})}}const ys=(e,t)=>n=>{if("path"===e&&!n.target.value.endsWith("/")){const e="".concat(n.target.value,"/");t({target:{value:e}})}},Cs=({value:e={queryParams:{}},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Et.a,{checked:e.direct,onChange:t("direct"),value:e.direct.toString()}),label:"Direct"}),Object(le.jsx)(Wt.a,{label:"Bucket",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Folder",value:e.path||"/",onChange:t("path"),onBlur:ys("path",t("path")),fullWidth:!0}),Object(le.jsx)(fs,{label:"Access Key",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Secret Key",value:e.password||"",onChange:t("password"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Role ARN",value:e.queryParams.roleArn||"",onChange:t("queryParams.roleArn"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Role External ID",value:e.queryParams.roleExternalId||"",onChange:t("queryParams.roleExternalId"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Endpoint",value:e.queryParams.endpoint||"",onChange:t("queryParams.endpoint"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Region",value:e.queryParams.region||"",onChange:t("queryParams.region"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"STS Region",value:e.queryParams.stsRegion||"",onChange:t("queryParams.stsRegion"),fullWidth:!0}),Object(le.jsxs)(Wt.a,{select:!0,fullWidth:!0,value:e.queryParams.signer||"",onChange:t("queryParams.signer"),label:"Signer Type",children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"S3SignerType",children:"S3 Signer"}),Object(le.jsx)(Xn.a,{value:"AWSS3V4SignerType",children:"AWS S3 v4 Signer"})]}),Object(le.jsxs)(Wt.a,{select:!0,fullWidth:!0,value:e.queryParams.storageClass||"",onChange:t("queryParams.storageClass"),label:"Storage Class",children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"standard",children:"Standard"}),Object(le.jsx)(Xn.a,{value:"infrequent",children:"Infrequent"}),Object(le.jsx)(Xn.a,{value:"reduced",children:"Reduced"})]}),Object(le.jsx)(Wt.a,{label:"SSE Algorithm",value:e.queryParams.sseAlgorithm||"",onChange:t("queryParams.sseAlgorithm"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"SSE Key ID",value:e.queryParams.sseKeyId||"",onChange:t("queryParams.sseKeyId"),fullWidth:!0}),Object(le.jsxs)(Wt.a,{select:!0,fullWidth:!0,value:e.queryParams.accelerate||"",onChange:t("queryParams.accelerate"),label:"Accelerate Transfer",children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"true",children:"True"}),Object(le.jsx)(Xn.a,{value:"false",children:"False"})]}),Object(le.jsxs)(Wt.a,{select:!0,fullWidth:!0,value:e.queryParams.bucketOwnerFullControl||"",onChange:t("queryParams.bucketOwnerFullControl"),label:"Bucket Owner Full Control",children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"true",children:"True"}),Object(le.jsx)(Xn.a,{value:"false",children:"False"})]}),Object(le.jsxs)(Wt.a,{select:!0,fullWidth:!0,value:e.queryParams.retrievalTier||"",onChange:t("queryParams.retrievalTier"),label:"Retrieval Tier",children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"Expedited",children:"Expedited"}),Object(le.jsx)(Xn.a,{value:"Standard",children:"Standard"}),Object(le.jsx)(Xn.a,{value:"Bulk",children:"Bulk"})]}),Object(le.jsxs)(Wt.a,{select:!0,fullWidth:!0,value:e.queryParams.ssl||"true",onChange:t("queryParams.ssl"),label:"Use SSL",children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"true",children:"True"}),Object(le.jsx)(Xn.a,{value:"false",children:"False"})]})]}),Ss=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Bucket",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Folder",value:e.path||"/",onChange:t("path"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Access Key",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Secret Key",value:e.password||"",onChange:t("password"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Endpoint",value:e.queryParams.endpoint||"",onChange:t("queryParams.endpoint"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Chunk Ready Timeout",value:e.queryParams.chunkReadyTimeout||"",onChange:t("queryParams.chunkReadyTimeout"),fullWidth:!0}),Object(le.jsxs)(Wt.a,{select:!0,fullWidth:!0,value:e.queryParams.checksumType||"",onChange:t("queryParams.checksumType"),label:"Checksum Type",children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"md5",children:"md5"}),Object(le.jsx)(Xn.a,{value:"crc32",children:"crc32"}),Object(le.jsx)(Xn.a,{value:"crc32c",children:"crc32c"})]})]}),Is=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Account Name",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Container",value:e.path||"/",onBlur:ys("path",t("path")),onChange:t("path"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Access Key",value:e.username||"",onChange:t("username"),fullWidth:!0})]}),Rs=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Bucket",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Access Key",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Project",value:e.queryParams.project||"",onChange:t("queryParams.project"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Account",value:e.queryParams.account||"",onChange:t("queryParams.account"),fullWidth:!0})]}),Ds=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Resource ID",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Access Key",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Secret Key",value:e.password||"",onChange:t("password"),fullWidth:!0})]}),Fs=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Host",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Path",value:e.path||"/",onBlur:ys("path",t("path")),onChange:t("path"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Username",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Password",value:e.password||"",onChange:t("password"),fullWidth:!0})]}),Ts=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Host",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Path",value:e.path||"/",onBlur:ys("path",t("path")),onChange:t("path"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Username",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"Password",value:e.password||"",onChange:t("password"),fullWidth:!0})]}),Es=({value:e={},onChange:t,showHttpCreds:n=!1})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Host",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Port",value:e.port||"",onChange:t("port"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Path",value:e.path||"/",onChange:t("path"),onBlur:ys("path",t("path")),fullWidth:!0}),n&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(fs,{label:"URL Username",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"URL Password",value:e.password||"",onChange:t("password"),fullWidth:!0})]})]}),Ps=({value:e={},onChange:t,showHttpCreds:n=!1})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Host",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Port",value:e.port||"",onChange:t("port"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Path",value:e.path||"/",onBlur:ys("path",t("path")),onChange:t("path"),fullWidth:!0}),n&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(fs,{label:"URL Username",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"URL Password",value:e.password||"",onChange:t("password"),fullWidth:!0})]})]}),Ns=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Host",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"ClusterID/VaultID",value:e.path||"/",onBlur:ys("path",t("path")),onChange:t("path"),fullWidth:!0}),Object(le.jsx)(fs,{label:"User ID",value:e.username||"",onChange:t("username"),fullWidth:!0}),Object(le.jsx)(fs,{label:"User Key",value:e.password||"",onChange:t("password"),fullWidth:!0})]}),ks=({value:e={},onChange:t})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Wt.a,{label:"Path",value:e.path||"/",onChange:t("path"),onBlur:ys("path",t("path")),fullWidth:!0})}),Ms=({value:e={},onChange:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wt.a,{label:"Agent UUID",value:e.host||"",onChange:t("host"),fullWidth:!0}),Object(le.jsx)(Wt.a,{label:"Share",value:e.path||"/",onChange:t("path"),onBlur:ys("path",t("path")),fullWidth:!0})]});function As(e){const{defaultValue:t,input:{value:n}}=e,o=js(n||t),{path:a}=o;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fo.a,{children:"".concat(e.label||"URL",": ").concat(n||t||"")}),Object(le.jsxs)(vs,{choices:{[ds]:ks,s3:Cs,ftp:Fs,[ms]:Ts,[hs]:Es,[us]:Ps,[bs]:Ns,ds3:Ss,[ps]:Is,gs:Rs,vxa:Ms,[xs]:Ds},value:{...o,path:a||"/"},onChange:t=>{const n=gs(t);e.input.onChange(n)},name:"protocol",children:[Object(le.jsx)(Xn.a,{value:ds,children:"File"}),Object(le.jsx)(Xn.a,{value:hs,children:"HTTP"}),Object(le.jsx)(Xn.a,{value:"s3",children:"S3"}),Object(le.jsx)(Xn.a,{value:"ftp",children:"FTP"}),Object(le.jsx)(Xn.a,{value:ms,children:"SFTP"}),Object(le.jsx)(Xn.a,{value:us,children:"HTTPS"}),Object(le.jsx)(Xn.a,{value:bs,children:"Matrix Store"}),Object(le.jsx)(Xn.a,{value:"ds3",children:"Spectra BlackPearl"}),Object(le.jsx)(Xn.a,{value:ps,children:"Azure"}),Object(le.jsx)(Xn.a,{value:"gs",children:"Google Storage"}),Object(le.jsx)(Xn.a,{value:"vxa",children:"Vidispine Agent"}),Object(le.jsx)(Xn.a,{value:Os,children:"Universal"}),Object(le.jsx)(Xn.a,{value:xs,children:"Vidinet"})]})]})}const Ls=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",label:"uri",component:As,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"storageDisabled",component:en}),label:"Storage Disabled"})]});var Ws=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"bulkyMetadataConfigurationDocument",component:Ls}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const _s=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"uri",value:e.uri,hover:!0}),Object(le.jsx)(Dn,{title:"Storage Disabled",value:e.storageDisabled,variant:"boolean",hover:!0}),Object(le.jsx)(Fn,{value:e.status,component:({value:{metadataInDatabase:e,metadataOnStorage:t,storageStatus:n}={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"metadataInDatabase",value:e,hover:!0}),Object(le.jsx)(Dn,{title:"metadataOnStorage",value:t,hover:!0}),Object(le.jsx)(Dn,{title:"storageStatus",value:n,hover:!0})]})})]});function ws({bulkyMetadataConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:_s})})}var Vs=he((function({bulkyMetadataConfigurationDocument:e,openSnackBar:t,onSuccess:n,formName:o="EDIT_BULKYMETADATA_FORM"}){return Object(le.jsx)(Ft,{formName:o,onSubmitSuccess:(e,o,a)=>{t({messageContent:"Bulky Metadata Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating Bulky Metadata Configuration",messageColor:"secondary"})},onSubmit:vt,displayProps:{bulkyMetadataConfigurationDocument:e},initialValues:{bulkyMetadataConfigurationDocument:e},formComponent:Ws,displayComponent:ws})}));function Us(e){return Object(le.jsx)(we,{children:Object(le.jsx)(Vs,{...e})})}var Bs=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,onError:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Bulky Metadata Configuration?"}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.configuration.updateBulkyMetadataConfiguration({bulkyMetadataConfigurationDocument:{uri:null}}).then((()=>{n({messageContent:"Bulky Metadata Configuration Removed"}),o&&o(),t()})).catch((()=>{n({messageContent:"Error Removing Bulky Metadata Configuration",messageColor:"secondary"}),a&&a()}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const qs="BULKYMETADATACONFIGURATION_REMOVE_MODAL";class Gs extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Bulky Metadata"}onRefresh(){try{W.configuration.getBulkyMetadataConfiguration().then((e=>this.setState({bulkyMetadataConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Bulky Metadata Configuration",messageColor:"secondary"})}render(){const{bulkyMetadataConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Bulky Metadata",helpTo:"/ref/property.html#bulky-metadata-storage-configuration",onRefresh:this.onRefresh,code:e,codeModal:"BulkyMetadataConfigurationDocument",removeModal:qs}),e&&Object(le.jsx)(Us,{bulkyMetadataConfigurationDocument:e,onSuccess:this.onRefresh}),Object(le.jsx)(Bs,{dialogName:qs,onSuccess:this.onRefresh})]})}}var Hs=he(Gs);const zs=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"age",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"forceAge",component:_t,type:"number",fullWidth:!0})]}),Js=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"age",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"uri",label:"uri",component:As,fullWidth:!0}),Object(le.jsx)(re.a,{label:"Compress",control:Object(le.jsx)(Zt,{name:"compress",component:en})}),Object(le.jsx)(Zt,{name:"batch",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{label:"Body",control:Object(le.jsx)(Zt,{name:"body",component:en})})]}),Ks=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"age",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"uri",label:"uri",component:As,fullWidth:!0}),Object(le.jsx)(re.a,{label:"Compress",control:Object(le.jsx)(Zt,{name:"compress",component:en})})]}),Ys=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"age",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"forceAge",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"uri",label:"uri",component:As,fullWidth:!0}),Object(le.jsx)(re.a,{label:"Compress",control:Object(le.jsx)(Zt,{name:"compress",component:en})}),Object(le.jsx)(Zt,{name:"batch",component:_t,type:"number",fullWidth:!0})]}),Xs=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"changeLog",label:"Change Log",component:zs}),Object(le.jsx)(Xt,{name:"auditTrail",label:"Audit Trail",component:Js}),Object(le.jsx)(Xt,{name:"job",label:"Job",component:Ks}),Object(le.jsx)(Xt,{name:"transferLog",label:"Transfer Log",component:Ys})]});var $s=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"databasePurgingConfigurationDocument",component:Xs}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Qs=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{title:"Change Log",value:e.changeLog,component:({value:{age:e,forceAge:t}={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Age",value:e,hover:!0}),Object(le.jsx)(Dn,{title:"Force Age",value:t,hover:!0})]})}),Object(le.jsx)(Fn,{title:"Audit Trail",value:e.auditTrail,component:({value:{age:e,uri:t,compress:n,batch:o,body:a}={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Age",value:e,hover:!0}),Object(le.jsx)(Dn,{title:"URI",value:t,hover:!0}),Object(le.jsx)(Dn,{title:"Compress",value:n,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"Batch",value:o,hover:!0}),Object(le.jsx)(Dn,{title:"Body",value:a,variant:"boolean",hover:!0})]})}),Object(le.jsx)(Fn,{title:"job",value:e.job,component:({value:{age:e,uri:t,compress:n}={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Age",value:e,hover:!0}),Object(le.jsx)(Dn,{title:"URI",value:t,hover:!0}),Object(le.jsx)(Dn,{title:"Compress",value:n,variant:"boolean",hover:!0})]})}),Object(le.jsx)(Fn,{title:"Transfer Log",value:e.transferLog,component:({value:{age:e,uri:t,compress:n,batch:o,forceAge:a}={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Age",value:e,hover:!0}),Object(le.jsx)(Dn,{title:"Force Age",value:a,hover:!0}),Object(le.jsx)(Dn,{title:"URI",value:t,hover:!0}),Object(le.jsx)(Dn,{title:"Compress",value:n,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"batch",value:o,hover:!0})]})})]});function Zs({databasePurgingConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:Qs})})}var er=he((function({databasePurgingConfigurationDocument:e,openSnackBar:t,onSuccess:n,formName:o="EDIT_DATABASEPURGING_FORM"}){return Object(le.jsx)(Ft,{formName:o,onSubmitSuccess:(e,o,a)=>{t({messageContent:"Database Purging Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating Database Purging Configuration",messageColor:"secondary"})},onSubmit:xt,displayProps:{databasePurgingConfigurationDocument:e},initialValues:{databasePurgingConfigurationDocument:e},formComponent:$s,displayComponent:Zs})}));function tr(e){return Object(le.jsx)(we,{children:Object(le.jsx)(er,{...e})})}var nr=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,onError:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Database Purging Configuration?"}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.configuration.updateDatabasePurgingConfiguration({databasePurgingConfigurationDocument:{changeLog:{},auditTrail:{},job:{},transferLog:{}}}).then((()=>{n({messageContent:"Database Purging Configuration Removed"}),o&&o(),t()})).catch((()=>{n({messageContent:"Error Removing Database Purging Configuration",messageColor:"secondary"}),a&&a()}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const or="DATABASEPURGING_REMOVE_DIALOG";class ar extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={databasePurgingConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Database Purging"}onRefresh(){try{W.configuration.getDatabasePurgingConfiguration().then((e=>this.setState({databasePurgingConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Database Purging Configuration",messageColor:"secondary"})}render(){const{databasePurgingConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Database Purging",helpTo:"/ref/property.html#database-purging-configuration",onRefresh:this.onRefresh,code:e,codeModal:"databasePurgingConfigurationDocument",removeModal:or}),e&&Object(le.jsx)(tr,{databasePurgingConfigurationDocument:e,onSuccess:this.onRefresh}),Object(le.jsx)(nr,{dialogName:or,onSuccess:this.onRefresh})]})}}var sr=he(ar),rr=n(328),cr=n(436),ir=n(329),lr=n(277),jr=n(57),dr=n(767),mr=n(104);const hr={container:(e,t)=>({...e,color:t.isDisabled?t.selectProps.palette.text.disabled:"inherit",fontFamily:mr.b}),control:(e,t)=>({...e,backgroundColor:t.selectProps.palette.selected,borderRadius:"0",borderWidth:"outlined"===t.selectProps.variant?"1px 1px 1px 1px":"0 0 1px 0",boxShadow:"none",borderColor:t.selectProps.palette.divider,color:t.isDisabled?t.selectProps.palette.text.disabled:"inherit",marginTop:!t.hasValue&&"6px",fontFamily:mr.b}),dropdownIndicator:e=>({...e,padding:"2px"}),indicatorsContainer:(e,t)=>({...e,color:"inherit",visibility:t.isDisabled?"hidden":void 0}),indicatorSeparator:e=>({...e,background:"inherit"}),input:(e,t)=>({...e,color:t.isDisabled?t.selectProps.palette.text.disabled:"inherit",visibility:t.isDisabled?"visible":void 0,fontFamily:mr.b}),menu:(e,t)=>({...e,backgroundColor:t.selectProps.palette.background.paper,borderRadius:"0px",zIndex:1500,fontFamily:mr.b}),multiValueLabel:e=>({...e,fontFamily:mr.b}),option:(e,t)=>({...e,color:t.selectProps.palette.text.primary,backgroundColor:t.isFocused?t.selectProps.palette.action.focus:t.isSelected?t.selectProps.palette.action.focus.selected:t.selectProps.palette.action.focus.hover}),placeholder:e=>({...e,fontFamily:mr.b,fontSize:"16px",lineHeight:1}),singleValue:e=>({...e,color:"inherit",fontFamily:mr.b}),valueContainer:e=>({...e,fontFamily:mr.b})};class ur extends s.a.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleUpdate=this.handleUpdate.bind(this);const{input:{value:t}}=this.props,{optionLabelKey:n="label",optionValueKey:o="value",isMulti:a}=e;let s,r;if(a&&t){let e=t;Array.isArray(t)||(e=t.split(",")),s=e.map((e=>({[n]:e,[o]:e})))}else s=t&&{[n]:t,[o]:t},r=t;this.state={inputValue:r,valueOption:s}}handleUpdate(e){this.setState({inputValue:e})}handleChange(e){const{input:{name:t,onChange:n},meta:{dispatch:o,form:a},optionValueKey:s="value",isMulti:r}=this.props;let c="";e?r?e.length>0?c=e.map((e=>e[s])):(c=[],this.handleInputChange([])):c=e[s]:this.handleInputChange(c),this.setState({valueOption:e}),n(c),o?o(Object(Ct.a)(a,t,c)):n(c)}handleInputChange(e){this.props.isMulti&&0===e.length?this.setState({inputValue:void 0}):this.setState({inputValue:e})}render(){const{input:e,meta:t,theme:n,...o}=this.props,{palette:a}=n,{optionLabelKey:s="label",optionValueKey:r="value",creatable:c=!1,getOptionLabel:i=(e=>e[s]),getOptionValue:l=(e=>e[r]),loadOptions:j,disableInitial:d,isDisabled:m}=o,{valueOption:h,inputValue:u}=this.state;let b=m;d&&(b=void 0!==t.initial&&""!==t.initial);let p=lr.a;return j&&(p=c?rr.a:ir.a),Object(le.jsxs)(le.Fragment,{children:[h&&Object(le.jsx)(X.a,{variant:"caption",children:o.required?"".concat(o.label," *"):o.label}),Object(le.jsx)(p,{...o,...e,id:e.name,styles:hr,placeholder:o.required?"".concat(o.label," *"):o.label,getOptionLabel:i,getOptionValue:l,value:h,inputValue:u,onInputChange:this.handleInputChange,onChange:this.handleChange,onBlur:()=>!0,onFocus:()=>!0,isDisabled:b,palette:a,theme:e=>({...e,borderRadius:0,spacing:{...e.spacing,menuGutter:0},colors:{...e.colors,primary:n.palette.text.primary}})})]})}}const br=Object(dr.a)(ur);function pr({input:e,meta:t,...n}){const{palette:o}=Object(jr.a)(),a=s.a.useCallback((e=>({...e,borderRadius:0,spacing:{...e.spacing,menuGutter:0},colors:{...e.colors,primary:o.text.primary}})),[o]);return Object(le.jsx)(cr.a,{...e,...n,palette:o,styles:hr,placeholder:n.label,theme:a})}const Or=e=>new Promise(((t,n)=>{W.taskdefinition.listJobType().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{uri:o=[]}=n;let a=o;e&&"*"!==e&&(a=o.filter((t=>t.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e,value:e})));t(s)})).catch((e=>{n(e)}))}));const xr=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"type",label:"Type",component:br,loadOptions:Or,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"value",children:"Priority"}),Object(le.jsx)(Zt,{name:"value",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]})]}),gr=()=>Object(le.jsx)(Yt,{name:"job",label:"Job Type",component:xr,fullWidth:!0});var fr=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"jobPriorityConfigurationDocument",component:gr}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const vr=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{title:"Job Type",value:e.job,titleKey:"type",component:({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Type",value:e.type,hover:!0}),Object(le.jsx)(Dn,{title:"Value",value:e.value,hover:!0})]})})});function yr({jobPriorityConfigurationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:vr})})}var Cr=he((function({jobPriorityConfigurationDocument:e,openSnackBar:t,onSuccess:n,formName:o="EDIT_JOBPRIORITY_FORM"}){return Object(le.jsx)(Ft,{formName:o,onSubmitSuccess:(e,o,a)=>{t({messageContent:"Job Priority Configuration Updated"}),n&&n(e,o,a)},onSubmitFail:()=>{t({messageContent:"Error Updating Job Priority Configuration",messageColor:"secondary"})},onSubmit:yt,displayProps:{jobPriorityConfigurationDocument:e},initialValues:{jobPriorityConfigurationDocument:e},formComponent:fr,displayComponent:yr})}));function Sr(e){return Object(le.jsx)(we,{children:Object(le.jsx)(Cr,{...e})})}var Ir=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,onError:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Job Priority Configuration?"}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.configuration.updateJobPriorityConfiguration({jobPriorityConfigurationDocument:{}}).then((()=>{n({messageContent:"Job Priority Configuration Removed"}),o&&o(),t()})).catch((()=>{n({messageContent:"Error Removing Job Priority Configuration",messageColor:"secondary"}),a&&a()}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const Rr="JOBPRIORITY_REMOVE_DIALOG";class Dr extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={jobPriorityConfigurationDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Priority"}onRefresh(){try{W.configuration.getJobPriorityConfiguration().then((e=>this.setState({jobPriorityConfigurationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Job Priority Configuration",messageColor:"secondary"})}render(){const{jobPriorityConfigurationDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Job Priority",helpTo:"/ref/property.html#jdefault-job-priority-configuration",onRefresh:this.onRefresh,code:e,codeModal:"JobPriorityConfigurationDocument",removeModal:Rr}),e&&Object(le.jsx)(Sr,{jobPriorityConfigurationDocument:e,onSuccess:this.onRefresh}),Object(le.jsx)(Ir,{dialogName:Rr,onSuccess:this.onRefresh})]})}}var Fr=he(Dr);function Tr({openCode:e,openCreate:t,onRefresh:n}){return Object(le.jsx)(Ae,{title:"Storage",onRefresh:n,openCode:e,openAction:t,helpTo:"/ref/storage/storage.html"})}const Er=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"regex",value:e.regex}),Object(le.jsx)(Dn,{title:"numGroup",value:e.numGroup})]}),Pr=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"id",value:e.id}),Object(le.jsx)(Dn,{title:"uri",value:e.uri}),Object(le.jsx)(Dn,{title:"read",variant:"boolean",value:e.read}),Object(le.jsx)(Dn,{title:"write",variant:"boolean",value:e.write}),Object(le.jsx)(Dn,{title:"browse",variant:"boolean",value:e.browse}),Object(le.jsx)(Dn,{title:"lastSuccess",value:e.lastSuccess,variant:"timestamp"}),Object(le.jsx)(Dn,{title:"lastFailure",value:e.lastFailure,variant:"timestamp"}),Object(le.jsx)(Dn,{title:"bandwidth",value:e.value}),Object(le.jsx)(Dn,{title:"failureMessage",value:e.failureMessage}),Object(le.jsx)(Dn,{title:"type",value:e.type}),Object(le.jsx)(Dn,{title:"loc",value:e.loc}),Object(le.jsx)(En,{title:"metadata",value:e.metadata,component:Wa})]}),Nr=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"id",value:e.id,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"type",value:e.type,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"state",value:e.state,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"Last Scan",value:e.timestamp,variant:"fromnow",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"capacity",value:e.capacity,variant:"bytes",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"autoDetect",value:e.autoDetect,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"showImportables",value:e.showImportables,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"scanInterval",value:e.scanInterval,variant:"seconds",hideNoValue:!0,hover:!0})]}),kr=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Nr,value:e})}),Mr=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"bandwidth",value:e.bandwidth,hover:!0}),Object(le.jsx)(Dn,{title:"lowWatermark",value:e.lowWatermark,variant:"bytes",hover:!0}),Object(le.jsx)(Dn,{title:"highWatermark",value:e.highWatermark,variant:"bytes",hover:!0}),Object(le.jsx)(Dn,{title:"lowWatermarkPercentage",value:e.lowWatermarkPercentage,hover:!0}),Object(le.jsx)(Dn,{title:"lowWatermarkPercentage",value:e.lowWatermarkPercentage,hover:!0}),Object(le.jsx)(Dn,{title:"bean",value:e.bean,hover:!0}),Object(le.jsx)(Dn,{title:"projection",value:e.projection,hover:!0}),Object(le.jsx)(En,{title:"sequence",value:e.sequence,component:Er,hover:!0}),Object(le.jsx)(Dn,{title:"sequenceTimeout",value:e.sequenceTimeout,hover:!0})]}),Ar=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Mr,value:e})}),Lr=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"archiveScript",value:e.archiveScript,variant:"code",hideNoValue:!0})}),Wr=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Lr,value:e})});var _r=n(704),wr=n(320),Vr=n.n(wr),Ur=n(156),Br=n.n(Ur),qr=n(319),Gr=n.n(qr),Hr=n(794),zr=n(330),Jr=n.n(zr),Kr=n(79),Yr=n.n(Kr),Xr=n(768);const $r={greenAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Vr.a[500]},baseAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40},redAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Br.a[500]},orangeAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Gr.a[500]},icon:{width:25,height:25}},Qr=Object(ye.a)($r)((({classes:e})=>Object(le.jsx)(Hr.a,{className:e.greenAvatar,children:Object(le.jsx)(Yr.a,{className:e.icon})}))),Zr=Object(ye.a)($r)((({classes:e,children:t,isLoading:n=!0})=>Object(le.jsx)(Hr.a,{className:e.baseAvatar,children:n?Object(le.jsxs)("div",{style:{position:"relative"},children:[Object(le.jsx)(Xr.a,{className:e.icon,style:{zIndex:1,position:"absolute",left:-20,top:-20}}),Object(le.jsx)("div",{style:{position:"absolute",left:-20,top:-30},children:t})]}):t}))),ec=Object(ye.a)($r)((({classes:e})=>Object(le.jsx)(Hr.a,{className:e.redAvatar,children:Object(le.jsx)(Jr.a,{className:e.icon})}))),tc=Object(ye.a)($r)((({classes:e})=>Object(le.jsx)(Hr.a,{className:e.orangeAvatar,children:Object(le.jsx)(Jr.a,{className:e.icon})})));function nc({storageMethod:e,storageId:t}){let n=!1;return e.lastFailure?e.lastSuccess&&e.lastFailure&&(n=sn()(e.lastSuccess).isAfter(e.lastFailure)):n=!0,Object(le.jsxs)(at,{hover:!0,to:"/storage/".concat(t,"/method/").concat(e.id),children:[Object(le.jsx)(Be.a,{children:e.id}),Object(le.jsx)(Be.a,{children:e.uri}),Object(le.jsx)(Be.a,{padding:"checkbox",children:Object(le.jsxs)(_r.a,{row:!0,children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Et.a,{checked:e.read,disabled:!0}),label:Object(le.jsx)(X.a,{variant:"subtitle2",children:"Read"})}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Et.a,{checked:e.write,disabled:!0}),label:Object(le.jsx)(X.a,{variant:"subtitle2",children:"Write"})}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Et.a,{checked:e.browse,disabled:!0}),label:Object(le.jsx)(X.a,{variant:"subtitle2",children:"Browse"})})]})}),Object(le.jsx)(Be.a,{children:n?Object(le.jsx)(Qr,{}):Object(le.jsx)(ec,{})})]})}function oc({storageDocument:e}){const{method:t,id:n}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"ID"}),Object(le.jsx)(Be.a,{children:"URI"}),Object(le.jsx)(Be.a,{padding:"checkbox",children:"Permissions"}),Object(le.jsx)(Be.a,{padding:"checkbox"})]})}),Object(le.jsx)(Ue.a,{children:t&&t.map((e=>Object(le.jsx)(nc,{storageMethod:e,storageId:n},e.id)))})]})}const ac=["NONE","READY"],sc=["EVACUATING","EVACUATED","DISABLED"];var rc=({storageDocument:e})=>{if(void 0===e)return null;const{state:t}=e;if(ac.includes(t)){const e="NONE"===t?"Online":t.toLowerCase();return Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Qr,{}),label:e})}return sc.includes(t)?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(tc,{}),label:ot()(t.toLowerCase())}):Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:t?ot()(t.toLowerCase()):"Unknown"})};var cc=Object(d.i)(Object(ye.a)((e=>({onHover:{"&:hover":{backgroundColor:e.palette.action.hover}}})))((function(e){const{storageDocument:t,classes:n}=e,{id:o}=t;return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(we,{onClick:()=>e.history.push("/storage/".concat(o,"/")),className:n.onHover,children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:o}),action:Object(le.jsx)(rc,{storageDocument:t})}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(kr,{value:t}),Object(le.jsx)(oc,{onClick:e=>e.stopPropagation(),storageDocument:t})]})]})})})));function ic({storageListDocument:e}){const{storage:t=[]}=e;return t.map((e=>Object(le.jsx)(cc,{storageDocument:e},e.id)))}var lc=["LOCAL","SHARED","REMOTE","EXTERNAL","ARCHIVE","EXPORT"];const jc=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"regex",label:"regex",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"numGroup",label:"numGroup",component:_t,type:"number",fullWidth:!0})]}),dc=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"read",component:en}),label:"Read"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"write",component:en}),label:"Write"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"browse",component:en}),label:"Browse"}),Object(le.jsx)(Zt,{name:"uri",label:"uri",component:As,fullWidth:!0}),Object(le.jsx)(Zt,{name:"bandwidth",label:"bandwidth",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"loc",label:"loc",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"lastSuccess",label:"lastSuccess",component:_t,disabled:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"lastFailure",label:"lastFailure",component:_t,disabled:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"failureMessage",label:"failureMessage",component:_t,disabled:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"type",label:"type",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"metadata",label:"metadata",component:Pa})]}),mc=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Type"}),Object(le.jsx)(Zt,{name:"type",component:Lt,children:lc.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"scanInterval",label:"scanInterval",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"autoDetect",component:en}),label:"Auto Detect"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"showImportables",component:en}),label:"Show Importables"}),Object(le.jsx)(Zt,{name:"capacity",label:"capacity",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"state",label:"state",component:_t,fullWidth:!0,disabled:!0})]}),hc=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"storageDocument",component:mc}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),uc=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"metadata",label:"metadata",component:Pa})}),bc=(Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"storageDocument",component:uc}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"method",label:"method",component:dc})})),pc=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"storageDocument",component:bc}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Oc=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"method",component:dc}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),xc=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"freeCapacity",label:"freeCapacity",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"bandwidth",label:"bandwidth",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"timestamp",label:"timestamp",component:_t,disabled:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"lowWatermark",label:"lowWatermark",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"highWatermark",label:"highWatermark",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"bean",label:"bean",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"projection",label:"projection",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"sequenceTimeout",label:"sequenceTimeout",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Yt,{name:"sequence",label:"sequence",component:jc})]}),gc=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"storageDocument",component:xc}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),fc=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"archiveScript",label:"archiveScript",component:Eo,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})}),vc=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"storageDocument",component:fc}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));var yc=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"storageDocument",component:mc}),Object(le.jsx)(Xt,{name:"storageDocument",component:bc}),Object(le.jsx)(Xt,{name:"storageDocument",component:xc}),Object(le.jsx)(Xt,{name:"storageDocument",component:uc}),Object(le.jsx)(Xt,{name:"storageDocument",component:fc}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));function Cc(e){const{storageDocument:t}=e;return W.storage.createStorage({storageDocument:t}).then((e=>({storageDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Sc(e,t,n){const{storageDocument:o}=e,a=n.storageId||o.storageId;return W.storage.modifyStorage({storageId:a,storageDocument:o}).then((e=>({storageDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Ic(e,t,n){const{method:o}=e,{storageId:a}=n,s=n.storageMethodId||o.storageMethodId,r={url:encodeURIComponent(o.uri),read:o.read,write:o.write,browse:o.browse,bandwidth:o.bandwidth,type:o.type};return W.storage.modifyStorageMethod({storageId:a,storageMethodId:s,queryParams:r}).then((e=>({storageMethodDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Rc(e,t,n){const{method:o}=e,{storageId:a}=n,s={url:encodeURIComponent(o.uri),read:o.read,write:o.write,browse:o.browse,bandwidth:o.bandwidth,type:o.type};return W.storage.createStorageMethod({storageId:a,queryParams:s}).then((e=>({storageMethodDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Dc(e,t,n){const{type:o}=e,a=n.storageId||e.storageId;return W.storage.updateStorageType({storageId:a,storageType:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var Fc=n(795),Tc=n(770),Ec=n(790),Pc=n(415),Nc=n(413);function kc(e){const{xmlDocument:t}=e;return W.debug.echo({xmlDocument:t}).then((e=>e.data)).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Mc(e){const{jsonDocument:t}=e;try{return t?JSON.parse(t):void 0}catch(n){throw new jt.a({_error:n.message})}}var Ac=n(769);var Lc=Object(ye.a)({root:{overflow:"visible"}})((e=>Object(le.jsx)(Ac.a,{...e,classes:{transition:e.classes.root}})));const Wc=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"jsonDocument",component:Eo,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})})),_c=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"xmlDocument",component:Eo,options:{theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0}}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})})),wc="EDIT_JSON_FORM",Vc="EDIT_XML_FORM",Uc="JSON_TAB",Bc="XML_TAB",qc="EDIT_WIZARD_FORM";class Gc extends s.a.PureComponent{constructor(e){super(e),this.onBack=this.onBack.bind(this),this.onNext=this.onNext.bind(this),this.onSkip=this.onSkip.bind(this),this.onGetValues=this.onGetValues.bind(this),this.onChangeTab=this.onChangeTab.bind(this),this.state={activeStep:e.initialStep||1,jsonDocument:void 0,xmlDocument:void 0,tabValue:Bc}}componentWillUnmount(){this.props.destroyForm(Vc)}onBack(e){0!==this.state.activeStep&&this.setState((({activeStep:t})=>({activeStep:t-1,jsonDocument:e,tabValue:Uc})))}onNext(e){const{activeStep:t}=this.state;this.setState({activeStep:t+1,jsonDocument:e})}onSkip(){const{activeStep:e}=this.state;this.setState({activeStep:e+1,jsonDocument:""})}onChangeTab(e,t){this.setState({tabValue:t})}onGetValues(){const{formValues:e,stopSubmitForm:t,documentName:n}=this.props;try{const t=function(e){try{return JSON.stringify(e,null,2)}catch(t){throw new jt.a({_error:t.message})}}(e[n]);this.onBack(t)}catch(o){const{errors:e={}}=o,{_error:n=o.message}=e;t(qc,{_error:n})}}render(){const{submitForm:e,documentName:t,FormComponent:n,isJSONFormDirty:o,isXMLFormDirty:a,onCancel:s,initialStep:r,...c}=this.props,{activeStep:i,jsonDocument:l,xmlDocument:j,tabValue:d}=this.state,m={[t]:l};return Object(le.jsxs)(Fc.a,{activeStep:i,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:t}),Object(le.jsxs)(Lc,{children:[Object(le.jsxs)(Co.a,{value:d,onChange:this.onChangeTab,children:[Object(le.jsx)(So.a,{label:"JSON",value:Uc}),Object(le.jsx)(So.a,{label:"XML",value:Bc})]}),d===Uc&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Wc,{form:wc,onSubmitSuccess:this.onNext,onSubmit:Mc,initialValues:{jsonDocument:l}}),Object(le.jsxs)(St.a,{children:[s&&Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:s,children:"Cancel"}),void 0===l&&Object(le.jsx)(Oe.a,{onClick:this.onSkip,children:"Skip"}),o&&Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>e(wc),children:"Next"}),!o&&void 0!==l&&Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>e(wc),children:"Next"})]})]}),d===Bc&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(_c,{form:Vc,onSubmitSuccess:this.onNext,onSubmit:kc,initialValues:{xmlDocument:j},destroyOnUnmount:!1}),Object(le.jsxs)(St.a,{children:[s&&Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:s,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:this.onSkip,children:"Skip"}),a&&Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>e(Vc),children:"Next"})]})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Form"}),Object(le.jsxs)(Lc,{children:[Object(le.jsx)(n,{form:qc,initialValues:m,...c}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(It.a,{}),s&&Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:s,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:this.onGetValues,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>e(qc),children:"Save"})]})]})]})]})}}const Hc={openSnackBar:o.openSnackBar,submitForm:Ct.f,destroyForm:Ct.b,stopSubmitForm:Ct.e};var zc=Object(i.b)((function(e){return{formValues:Object(Pc.a)(qc)(e),isJSONFormDirty:Object(Nc.a)(wc)(e),isXMLFormDirty:Object(Nc.a)(Vc)(e)}}),Hc)(Gc);const Jc={openSnackBar:o.openSnackBar};var Kc=Object(i.b)(null,Jc)((function({closeModal:e,isOpen:t,history:n,openSnackBar:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Storage"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:yc,documentName:"storageDocument",onSubmit:Cc,onSubmitSuccess:t=>{const{storageDocument:a}=t,{id:s}=a,r="Storage ".concat(s," Created");o({messageContent:r}),n.push("/storage/".concat(s,"/")),e()},onSubmitFail:()=>{o({messageContent:"Error Creating Storage",messageColor:"secondary"})},onCancel:e})})]})}));const Yc="STORAGE_LIST_CODE_MODAL",Xc="STORAGE_CREATE_MODAL";class $c extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={storageListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Storage",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.storage.listStorage().then((e=>this.setState({storageListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Storage List",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n,history:o}=this.props,{storageListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Tr,{openCode:()=>n({modalName:Yc}),openCreate:()=>n({modalName:Xc}),onRefresh:this.onRefresh}),a&&Object(le.jsx)(ic,{storageListDocument:a}),Object(le.jsx)(Me,{isOpen:e===Yc,toggleDialogue:t,code:a,title:"StorageListDocument"}),Object(le.jsx)(Kc,{isOpen:e===Xc,closeModal:t,history:o})]})}}const Qc={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var Zc=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),Qc)($c),ei=n(437),ti=n.n(ei),ni=n(459);class oi extends s.a.PureComponent{constructor(e){super(e),this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.renderChildren=this.renderChildren.bind(this),this.state={menuAnchor:null}}openMenu({currentTarget:e}){this.setState({menuAnchor:e})}closeMenu(){this.setState({menuAnchor:null})}renderChildren(){return s.a.Children.map(this.props.children,(e=>s.a.isValidElement(e)?s.a.cloneElement(e,{onClick:(...t)=>{e.props.onClick&&e.props.onClick(...t),this.closeMenu()}}):e))}render(){const{menuAnchor:e}=this.state,{icon:t,children:n=[],iconProps:o={}}=this.props,a=this.renderChildren(n);return Object(le.jsx)(le.Fragment,{children:0===a.length?Object(le.jsx)("div",{}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(w.a,{onClick:this.openMenu,...o,children:t||Object(le.jsx)(ti.a,{})}),Object(le.jsx)(ni.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.closeMenu,children:a})]})})}}const ai=({storageDocument:e,evacuateModal:t,evacuateCancelModal:n,onOpen:o})=>{if(void 0===e)return null;const{state:a}=e;return ac.includes(a)?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:t}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Evacuate Storage"})}):"EVACUATING"===a?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:n}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Cancel Evacuate Storage"})}):null};var si=T((function({onOpen:e,storageId:t,typeModal:n,onRescan:o,evacuateModal:a,evacuateCancelModal:s,removeModal:r,code:c,...i}){return Object(le.jsx)(Ae,{title:t,parentTitle:"Storage",parentTo:"/storage/",helpTo:"/ref/storage/storage.html",entityId:t,entityType:"storage",code:c,iconList:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(rc,{storageDocument:c}),Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:()=>e({modalName:n}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Change Storage Type"})}),Object(le.jsx)(Xn.a,{onClick:o,children:Object(le.jsx)(X.a,{color:"inherit",children:"Rescan"})}),Object(le.jsx)(ai,{storageDocument:c,evacuateModal:a,evacuateCancelModal:s,onOpen:e}),Object(le.jsx)(Xn.a,{onClick:()=>e({modalName:r}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete Storage"})})]})]}),...i})})),ri=n(771);const ci=Object(ri.a)((e=>({root:t=>({"& > *":{marginBottom:e.spacing(t.mb)}})})));function ii({mb:e=2,children:t}){const n=ci({mb:e});return Object(le.jsx)("div",{className:n.root,children:t})}const li={openSnackBar:o.openSnackBar};var ji=Object(i.b)(null,li)((function({storageDocument:e,storageId:t,openSnackBar:n,onRefresh:o,...a}){const s={storageId:t},r={value:e},c={storageDocument:e};return Object(le.jsx)(Ft,{formName:"EDIT_STORAGE_FORM",onSubmitSuccess:()=>{n({messageContent:"Storage Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Storage",messageColor:"secondary"})},onSubmit:Sc,formProps:s,displayProps:r,initialValues:c,...a})})),di=n(273),mi=n.n(di);function hi({fields:e,onRestore:t}){return Object(le.jsxs)(le.Fragment,{children:[e.length>0&&Object(le.jsx)(Yn.a,{shrink:!0,children:"Removed"}),e.map(((n,o)=>Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)($t.a,{name:"".concat(n,".key"),component:_t,label:"Key",disabled:!0,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)($t.a,{name:"".concat(n,".value"),component:_t,label:"Value",disabled:!0,fullWidth:!0})})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>(n=>{const o=e.get(n);t&&t(o,n),e.remove(n)})(o),children:Object(le.jsx)(mi.a,{})})})]},n)))]})}const ui=e=>Object(le.jsx)(_t,{disabled:void 0!==e.meta.initial,onFocus:e.onFocus,onBlur:e.onBlur,...e});function bi({fields:e,buttonLabel:t,label:n,onAdd:o,onRemove:a}){return Object(le.jsxs)($.a,{container:!0,direction:"column",children:[Object(le.jsx)(Yn.a,{shrink:!0,children:n}),e.map(((t,n)=>Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)($t.a,{name:"".concat(t,".key"),component:ui,label:"Key",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)($t.a,{name:"".concat(t,".value"),component:_t,label:"Value",fullWidth:!0})})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>(t=>{const n=e.get(t);a&&a(n,t),e.remove(t)})(n),children:Object(le.jsx)(Bt.a,{})})})]},n))),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(zt,{onClick:()=>{e.push(),o&&o()},color:"primary",style:{marginTop:10},children:t||"Add Metadata"})})]})}const pi=()=>Object(le.jsx)(Vt.a,{name:"field",component:bi});var Oi=bi;const xi=e=>Object(le.jsx)(Vt.a,{...e,name:"field",component:bi});var gi=Object(Tt.a)()((function({error:e,handleSubmit:t,onAdd:n,array:o,initialValues:a}){return Object(le.jsxs)("form",{onSubmit:t,style:{padding:"10px"},children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"simpleMetadataDocument",component:xi,onAdd:n,onRemove:e=>{if(e){const{simpleMetadataDocument:t={}}=a,{field:n=[]}=t;n.find((t=>t.key===e.key))&&o.push("removedKeys",e)}}}),Object(le.jsx)(Vt.a,{name:"removedKeys",component:hi,onRestore:e=>{e&&o.push("simpleMetadataDocument.field",e)}}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function fi(e){if(e.startsWith("imf/essenceDescriptors"))return"xml";if(e.match(/imf_opl_\d+$/g))return"xml";switch(e){case"item":return"itemId";case"imf_locale":case"imf_opl":return"xml";default:return}}function vi({simpleMetadataList:e=[]}){return e.map((e=>Object(le.jsx)(Dn,{title:e.key,value:e.value,titleStartCase:!1,variant:fi(e.key),hideCode:!0},e.key)))}const yi=({simpleMetadata:e})=>{const{field:t=[]}=e;return t.map((e=>Object(le.jsx)(Dn,{title:e.key,value:e.value,titleStartCase:!1,variant:fi(e.key),hideCode:!0},e.key)))};function Ci(e,t,n){const{entityType:o,entityId:a}=n,{simpleMetadataDocument:s,removedKeys:r=[]}=e,c=[new Promise(((e,t)=>W.metadata.updateSimpleMetadata({entityType:o,entityId:a,simpleMetadataDocument:s}).then((()=>e())).catch((()=>t()))))];return r.forEach((e=>{const{key:t}=e,n=new Promise(((e,n)=>W.metadata.removeSimpleMetadataKey({entityType:o,entityId:a,key:t}).then((()=>e())).catch((()=>n()))));c.push(n)})),Promise.all(c).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Si(e,t){const{openSnackBar:n}=o;t(n({messageContent:"Error Updating Metadata",messageColor:"secondary"}))}const Ii="EDIT_SIMPLE_METADATA_FORM";class Ri extends s.a.PureComponent{constructor(e){super(e),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{simpleMetadataDocument:e,submitForm:t,entityType:n,entityId:a,onSuccess:s,title:r="Metadata",titleProps:c={}}=this.props,{isEditing:i}=this.state;let{simpleMetadataList:l}=this.props,j={simpleMetadataDocument:{field:l}};e&&(j={simpleMetadataDocument:e},l=e.field||[]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{style:{paddingLeft:0},title:Object(le.jsx)(X.a,{variant:"subtitle1",...c,children:r}),disableTypography:!0,action:void 0!==a?Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:i,onChange:this.toggleEdit})})}):void 0}),i?Object(le.jsx)(gi,{form:Ii,initialValues:j,onSubmit:Ci,onSubmitSuccess:(e,t,n)=>{!function(e,t){const{openSnackBar:n}=o;t(n({messageContent:"Metadata Updated"}))}(0,t),this.toggleEdit(),s&&s(e,t,n)},onSubmitFail:Si,entityType:n,entityId:a}):Object(le.jsx)(vi,{simpleMetadataList:l}),i&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:()=>t(Ii),size:"small",color:"primary",children:"Save"})]})]})]})}}const Di={submitForm:Ct.f};var Fi=Object(i.b)(null,Di)(Ri);function Ti({storageDocument:e,storageId:t,onRefresh:n,...o}){return Object(le.jsx)(Fi,{entityType:"storage",entityId:t,simpleMetadataDocument:e.metadata,onSuccess:n,...o})}function Ei({storageDocument:e,openMethodCreate:t}){const n=t?Object(le.jsx)(w.a,{onClick:t,children:Object(le.jsx)(q.a,{})}):void 0;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Methods"}),action:n}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(oc,{storageDocument:e})})]})}function Pi(e){return Object(le.jsxs)(ii,{children:[Object(le.jsx)(_e.a,{children:Object(le.jsx)(ji,{title:"Settings",formComponent:hc,displayComponent:kr,...e})}),Object(le.jsx)(_e.a,{children:Object(le.jsx)(Ei,{...e})}),Object(le.jsx)(_e.a,{children:Object(le.jsx)(ji,{title:"Advanced",formComponent:gc,displayComponent:Ar,...e})}),Object(le.jsx)(_e.a,{children:Object(le.jsx)(Ti,{...e})}),Object(le.jsx)(_e.a,{children:Object(le.jsx)(ji,{title:"Scripts",formComponent:vc,displayComponent:Wr,...e})})]})}function Ni({closeModal:e,isOpen:t,storageId:n,history:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Storage "'.concat(n,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.storage.removeStorage({storageId:n}).then((()=>{const t="Storage ".concat(n," Removed");a({messageContent:t}),o.push("/storage/"),e()})).catch((()=>{a({messageContent:"Error Removing Storage",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const ki={openSnackBar:o.openSnackBar};var Mi=Object(i.b)(null,ki)((function({closeModal:e,isOpen:t,openSnackBar:n,storageId:o,onRefresh:a}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Storage Method"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:Oc,documentName:"storageMethodDocument",onSubmit:Rc,onSubmitSuccess:()=>{n({messageContent:"Storage Method Added"}),a(),e()},onSubmitFail:()=>{n({messageContent:"Error Adding Storage Method",messageColor:"secondary"})},onCancel:e,storageId:o})})]})}));var Ai=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Type"}),Object(le.jsx)($t.a,{name:"type",component:Lt,children:lc.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Li="STORAGE_TYPE_FORM";var Wi=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,storageDocument:s}){if(void 0===s)return null;const{id:r,type:c}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Change Storage Type"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(Ai,{form:Li,onSubmit:Dc,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Storage Type Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Updating Storage Type",messageColor:"secondary"})},onCancel:t,storageId:r,initialValues:{type:c}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Li),children:"Save"})]})]})}));var _i=ue((function({open:e,onClose:t,openSnackBar:n,storageDocument:o,onSuccess:a}){if(void 0===o)return null;const{id:s}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Evacuate Storage ".concat(s)}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.storage.startEvacuateStorage({storageId:s}).then((()=>{n({messageContent:"Storage Evacuation Started"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Starting Storage Evacuation",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Start"})]})]})}));var wi=ue((function({open:e,onClose:t,openSnackBar:n,storageDocument:o,onSuccess:a}){if(void 0===o)return null;const{id:s}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Cancel Storage ".concat(s," Evacuation")}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.storage.cancelEvacuateStorage({storageId:s}).then((()=>{n({messageContent:"Storage Evacuation Stopping"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Stopping Storage Evacuation",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Stop"})]})]})}));const Vi="STORAGE_REMOVE_MODAL",Ui="STORAGEMETHOD_CREATE_MODAL",Bi="STORAGE_TYPE_DIALOG",qi="STORAGE_EVACUATE_DIALOG",Gi="STORAGE_EVACUATE_CANCEL_DIALOG";class Hi extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onRescan=this.onRescan.bind(this),this.onRescanError=this.onRescanError.bind(this),this.state={storageDocument:void 0}}componentDidMount(){const{storageId:e}=this.props;document.title="VidiCore Admin | Storage | ".concat(e),this.onRefresh()}onRefresh(){const{storageId:e}=this.props;this.onFetch(e)}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Storage",messageColor:"secondary"})}onFetch(e){try{W.storage.getStorage({storageId:e}).then((e=>this.setState({storageDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRescan(){const{storageId:e,openSnackBar:t}=this.props;try{W.storage.rescanStorage({storageId:e}).then((()=>{t({messageContent:"Rescan Started"}),this.onRefresh()})).catch((e=>this.onRescanError(e)))}catch(n){this.onRescanError(n)}}onRescanError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Rescanning Storage",messageColor:"secondary"})}render(){const{storageId:e,modalName:t,closeModal:n,openModal:o,openSnackBar:a,history:s}=this.props,{storageDocument:r}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(si,{removeModal:Vi,typeModal:Bi,evacuateModal:qi,evacuateCancelModal:Gi,onRefresh:this.onRefresh,storageId:e,code:r,codeModal:"StorageDocument",onRescan:this.onRescan}),r&&Object(le.jsx)(Pi,{onRefresh:this.onRefresh,storageId:e,storageDocument:r,openMethodCreate:()=>o({modalName:Ui})}),Object(le.jsx)(Ni,{isOpen:t===Vi,storageId:e,openSnackBar:a,closeModal:n,history:s}),Object(le.jsx)(Mi,{isOpen:t===Ui,onRefresh:this.onRefresh,storageId:e,closeModal:n}),Object(le.jsx)(Wi,{dialogName:Bi,storageDocument:r,onSuccess:this.onRefresh}),Object(le.jsx)(_i,{dialogName:qi,storageDocument:r,onSuccess:this.onRefresh}),Object(le.jsx)(wi,{dialogName:Gi,storageDocument:r,onSuccess:this.onRefresh})]})}}const zi={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var Ji=Object(i.b)((function(e,t){const{storageId:n}=t.match.params,{ui:{modalName:o}}=e;return{modalName:o,storageId:n}}),zi)(Hi);function Ki({openCode:e,onRefresh:t,storageId:n,storageMethodId:o,openRemove:a}){return Object(le.jsx)(Ae,{title:"Method ".concat(o),grandParentTitle:"Storage",grandParentTo:"/storage/",parentTitle:n,parentTo:"/storage/".concat(n),openCode:e,onRefresh:t,helpTo:"/ref/storage/storage.html#storage-methods",actionComponent:Object(le.jsx)(w.a,{onClick:a,children:Object(le.jsx)(ee.a,{})})})}const Yi={openSnackBar:o.openSnackBar};var Xi=Object(i.b)(null,Yi)((function({storageMethodDocument:e,storageId:t,storageMethodId:n,openSnackBar:o,onRefresh:a}){const s={storageId:t,storageMethodId:n},r={value:e.method[0]},c={method:e.method[0]};return Object(le.jsx)(Ft,{formComponent:Oc,displayComponent:Pr,formName:"EDIT_STORAGEMETHOD_FORM",onSubmitSuccess:()=>{o({messageContent:"Storage Method Saved"}),a&&a()},onSubmitFail:()=>{o({messageContent:"Error Updating Storage Method",messageColor:"secondary"})},onSubmit:Ic,formProps:s,displayProps:r,initialValues:c})}));function $i({storageMethodDocument:e,storageMethodId:t,storageId:n,onRefresh:o,...a}){var s;const r=null===e||void 0===e||null===(s=e.method)||void 0===s?void 0:s[0],c="storage/".concat(n,"/method");return Object(le.jsx)(Fi,{entityType:c,entityId:t,simpleMetadataDocument:r.metadata,onSuccess:o,...a})}function Qi(e){return Object(le.jsxs)(ii,{children:[Object(le.jsx)(_e.a,{children:Object(le.jsx)(Xi,{...e})}),Object(le.jsx)(_e.a,{children:Object(le.jsx)($i,{...e})})]})}function Zi({closeModal:e,isOpen:t,storageId:n,storageMethodId:o,history:a,openSnackBar:s}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Storage Method "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.storage.removeStorageMethod({storageId:n,storageMethodId:o}).then((()=>{const t="Storage Method ".concat(o," Removed");s({messageContent:t}),a.push("/storage/".concat(n)),e()})).catch((()=>{s({messageContent:"Error Removing Storage Method",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const el="STORAGEMETHOD_CODE_MODAL",tl="STORAGEMETHOD_REMOVE_MODAL";class nl extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={storageMethodDocument:void 0}}componentDidMount(){const{storageId:e,storageMethodId:t}=this.props;document.title="VidiCore Admin | Storage | ".concat(e," | Method | ").concat(t),this.onRefresh()}onRefresh(){const{openSnackBar:e,storageId:t,storageMethodId:n}=this.props;try{W.storage.getStorageMethod({storageId:t,storageMethodId:n}).then((e=>this.setState({storageMethodDocument:e.data})))}catch(o){e({messageContent:"Error Loading Storage Method",messageColor:"secondary"})}}render(){const{storageId:e,storageMethodId:t,modalName:n,closeModal:o,openModal:a,openSnackBar:s,history:r}=this.props,{storageMethodDocument:c}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ki,{openCode:()=>a({modalName:el}),openRemove:()=>a({modalName:tl}),onRefresh:this.onRefresh,storageId:e,storageMethodId:t}),c&&Object(le.jsx)(Qi,{onRefresh:this.onRefresh,storageMethodDocument:c,storageId:e,storageMethodId:t}),Object(le.jsx)(Me,{isOpen:n===el,toggleDialogue:o,code:c,title:"StorageMethodDocument"}),Object(le.jsx)(Zi,{isOpen:n===tl,storageId:e,storageMethodId:t,openSnackBar:s,closeModal:o,history:r})]})}}const ol={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var al=Object(i.b)((function(e,t){const{storageId:n,storageMethodId:o}=t.match.params,{ui:{modalName:a}}=e;return{modalName:a,storageId:n,storageMethodId:o}}),ol)(nl);function sl({openCode:e,openCreate:t,onRefresh:n}){return Object(le.jsx)(Ae,{title:"Shape Tag",onRefresh:n,openCode:e,openAction:t,helpTo:"/item/shape-tag.html"})}function rl({uriListDocument:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(rt,{uriListDocument:e,linkTo:e=>"/shape-tag/".concat(e,"/")})})})}const cl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"requireFastStart",component:en}),label:"requireFastStart"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"analyzeDuration",component:en}),label:"analyzeDuration"})]}),il=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"width",label:"width",component:_t,fullWidth:!0,type:"number"}),Object(le.jsx)(Zt,{name:"height",label:"height",component:_t,type:"number",fullWidth:!0})]}),ll=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"horizontal",label:"horizontal",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"vertical",label:"vertical",component:_t,type:"number",fullWidth:!0})]}),jl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"width",label:"width",component:_t,fullWidth:!0,type:"number"}),Object(le.jsx)(Zt,{name:"height",label:"height",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"top",label:"top",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"bottom",label:"bottom",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"left",label:"left",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"right",label:"right",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"padColor",label:"padColor",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"rotate",label:"rotate",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"pixelAspectRatio",label:"pixelAspectRatio",component:ll}),Object(le.jsx)(Xt,{name:"targetDAR",label:"targetDAR",component:ll})]}),dl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"key",label:"key",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"value",label:"value",component:_t,fullWidth:!0})]}),ml=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"numerator",label:"numerator",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"denominator",label:"denominator",component:_t,type:"number",fullWidth:!0})]}),hl=ml,ul=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"samples",label:"samples",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Xt,{name:"timeBase",label:"timeBase",type:"number",component:hl})]}),bl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"id",label:"id",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"stream",label:"stream",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"channel",label:"channel",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"gain",label:"gain",type:"number",component:_t,fullWidth:!0})]}),pl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Yt,{name:"input",label:"input",component:bl}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"silence",component:en}),label:"silence"})]}),Ol=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"name",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Zt,{name:"uri",label:"uri",component:_t,fullWidth:!0,required:!0})]}),xl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uuid",label:"uuid",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Zt,{name:"versionMajor",label:"versionMajor",type:"number",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Zt,{name:"versionMinor",label:"versionMinor",type:"number",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Zt,{name:"versionPatch",label:"versionPatch",type:"number",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Yt,{name:"configuration",label:"configuration",component:dl}),Object(le.jsx)(Yt,{name:"resource",label:"resource",component:Ol})]}),gl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"format",label:"format",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"codec",label:"codec",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"bitrate",label:"bitrate",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"framerate",label:"framerate",component:hl}),Object(le.jsx)(Zt,{name:"channel",label:"channel",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"stream",label:"stream",component:Ta,simple:!0,fullWidth:!0})]}),fl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"codec",label:"codec",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"bitrate",label:"bitrate",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"framerate",label:"framerate",component:hl}),Object(le.jsx)(Zt,{name:"channel",label:"channel",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"stream",label:"stream",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"preset",label:"preset",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"noAudio",component:en}),label:"noAudio"}),Object(le.jsx)(Yt,{name:"setting",label:"setting",component:dl}),Object(le.jsx)(Yt,{name:"mix",label:"mix",component:pl}),Object(le.jsx)(Xt,{name:"otif",label:"otif",component:xl}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"monoFile",component:en}),label:"monoFile"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allChannel",component:en}),label:"allChannel"}),Object(le.jsx)(Yt,{name:"output",label:"output",component:gl})]}),vl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"codec",label:"codec",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"bitrate",label:"bitrate",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"framerate",label:"framerate",component:hl}),Object(le.jsx)(Zt,{name:"channel",label:"channel",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"preset",label:"preset",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Yt,{name:"setting",label:"setting",component:dl}),Object(le.jsx)(Yt,{name:"mix",label:"mix",component:pl})]}),yl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"codec",label:"codec",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"bitrate",label:"bitrate",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"framerate",label:"framerate",component:hl}),Object(le.jsx)(Xt,{name:"resolution",label:"resolution",component:il}),Object(le.jsx)(Xt,{name:"scaling",label:"scaling",component:jl}),Object(le.jsx)(Xt,{name:"displayWidth",label:"displayWidth",component:ml}),Object(le.jsx)(Xt,{name:"displayHeight",label:"displayHeight",component:ml}),Object(le.jsx)(Xt,{name:"displayXOffset",label:"displayXOffset",component:ml}),Object(le.jsx)(Xt,{name:"displayYOffset",label:"displayYOffset",component:ml}),Object(le.jsx)(Xt,{name:"containerSAR",label:"containerSAR",component:ll}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"forceCFR",component:en}),label:"forceCFR"}),Object(le.jsx)(Zt,{name:"gopSize",label:"gopSize",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxBFrames",label:"maxBFrames",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"pixelFormat",label:"pixelFormat",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"preset",label:"preset",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"profile",label:"profile",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"noVideo",component:en}),label:"noVideo"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"stripParameterSets",component:en}),label:"stripParameterSets"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"addParameterSets",component:en}),label:"addParameterSets"}),Object(le.jsx)(Zt,{name:"parameterSets",label:"parameterSets",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"setting",label:"setting",component:dl}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"burnTimecode",component:en}),label:"burnTimecode"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"burnSubtitles",component:en}),label:"burnSubtitles"}),Object(le.jsx)(Zt,{name:"imageQuality",label:"imageQuality",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"otif",label:"otif",component:xl})]}),Cl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"start",label:"start",type:"number",component:_t,required:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"width",label:"width",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"count",label:"count",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"wildcard",label:"wildcard",component:_t,required:!0,fullWidth:!0})]}),Sl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"start",label:"start",component:ul}),Object(le.jsx)(Xt,{name:"end",label:"end",component:ul})]}),Il=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",label:"uri",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Yt,{name:"range",label:"range",component:Cl}),Object(le.jsx)(Zt,{name:"id",label:"id",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"x",label:"x",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"y",label:"y",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"interval",label:"interval",component:Sl}),Object(le.jsx)(Zt,{name:"opacity",label:"opacity",type:"number",component:_t,fullWidth:!0})]}),Rl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"line",label:"line",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"align",label:"align",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"x",label:"x",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"y",label:"y",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"xRel",label:"xRel",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"yRel",label:"yRel",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"horizontalBase",label:"horizontalBase",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"verticalBase",label:"verticalBase",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"font",label:"font",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"size",label:"size",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"sizeRel",label:"sizeRel",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"r",label:"r",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"g",label:"g",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"b",label:"b",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"a",label:"a",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"outline",label:"outline",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"outlineSize",label:"outlineSize",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"outlineR",label:"outlineR",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"outlineG",label:"outlineG",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"outlineB",label:"outlineB",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"outlineA",label:"outlineA",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"language",label:"language",component:_t,fullWidth:!0})]}),Dl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"text",label:"text",component:Rl}),Object(le.jsx)(Xt,{name:"interval",label:"interval",component:Sl}),Object(le.jsx)(Zt,{name:"opacity",label:"opacity",component:_t,type:"number",fullWidth:!0})]}),Fl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"start",label:"start",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"width",label:"width",type:"number",component:_t,fullWidth:!0})]}),Tl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"Name",component:Io,required:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"description",label:"description",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"format",label:"format",component:_t,fullWidth:!0})]}),El=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Tl}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Pl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"audio",label:"audio",component:fl}),Object(le.jsx)(Yt,{name:"audioTrack",label:"audioTrack",component:vl})]}),Nl=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Pl}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),kl=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"video",label:"video",component:yl})}),Ml=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:kl}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Al=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Yt,{name:"overlay",label:"overlay",component:Il}),Object(le.jsx)(Yt,{name:"textOverlay",label:"textOverlay",component:Dl})]}),Ll=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Al}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Wl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"startTimecode",label:"startTimecode",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"fastStartSetting",label:"fastStartSetting",component:cl}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"faceDetect",component:en}),label:"faceDetect"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"preserveEDL",component:en}),label:"preserveEDL"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"addClipName",component:en}),label:"addClipName"}),Object(le.jsx)(Zt,{name:"preferredSourceTag",label:"preferredSourceTag",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"shapeMetadata",label:"shapeMetadata",component:dl}),Object(le.jsx)(Xt,{name:"maxChunkDuration",label:"maxChunkDuration",component:ul}),Object(le.jsx)(Yt,{name:"demuxerSetting",label:"demuxerSetting",component:dl}),Object(le.jsx)(Yt,{name:"muxerSetting",label:"muxerSetting",component:dl}),Object(le.jsx)(Xt,{name:"sequenceOutput",label:"sequenceOutput",component:Fl})]}),_l=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Wl}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),wl=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"thumbnailResolution",label:"thumbnailResolution",component:il}),Object(le.jsx)(Zt,{name:"thumbnailBackground",label:"thumbnailBackground",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"thumbnailPeriod",label:"thumbnailPeriod",component:ul}),Object(le.jsx)(Zt,{name:"thumbnailPlugin",label:"thumbnailPlugin",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"posterResolution",label:"posterResolution",component:il}),Object(le.jsx)(Zt,{name:"posterBackground",label:"posterBackground",component:_t,fullWidth:!0})]}),Vl=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:wl}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Ul=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"script",component:Eo,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})}),Bl=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Ul}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));var ql=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Tl}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Pl}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:kl}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:wl}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Al}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Wl}),Object(le.jsx)(Xt,{name:"transcodePresetDocument",component:Ul}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function Gl(e,t,n){const{transcodePresetDocument:o}=e,a=n.tagName||o.name;return W.shapetag.updateShapeTag({tagName:a,transcodePresetDocument:o}).then((()=>({transcodePresetDocument:o,tagName:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Hl(){return W.shapetag.createShapeTagPreset().catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const zl={openSnackBar:o.openSnackBar};var Jl=Object(i.b)(null,zl)((function({closeModal:e,isOpen:t,history:n,openSnackBar:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Shape Tag"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:ql,documentName:"transcodePresetDocument",onSubmit:Gl,onSubmitSuccess:t=>{const{transcodePresetDocument:a}=t,{name:s}=a,r="Shape Tag ".concat(s," Created");o({messageContent:r}),n.push("/shape-tag/".concat(s,"/")),e()},onSubmitFail:()=>{o({messageContent:"Error Creating Shape Tag",messageColor:"secondary"})},onCancel:e})})]})}));const Kl="SHAPETAG_LIST_CODE_MODAL",Yl="SHAPETAG_CREATE_MODAL";class Xl extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Shape Tag",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.shapetag.listShapeTag().then((e=>this.setState({uriListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Shape Tag List",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n,history:o}=this.props,{uriListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(sl,{openCode:()=>n({modalName:Kl}),openCreate:()=>n({modalName:Yl}),onRefresh:this.onRefresh}),a&&Object(le.jsx)(rl,{uriListDocument:a}),Object(le.jsx)(Me,{isOpen:e===Kl,toggleDialogue:t,code:a,title:"URIListDocument"}),Object(le.jsx)(Jl,{isOpen:e===Yl,closeModal:t,history:o})]})}}const $l={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var Ql=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),$l)(Xl);function Zl({openCode:e,onRefresh:t,tagName:n,openRemove:o}){return Object(le.jsx)(Ae,{title:n,parentTitle:"Shape Tag",parentTo:"/shape-tag/",openCode:e,onRefresh:t,actionComponent:Object(le.jsx)(w.a,{onClick:o,children:Object(le.jsx)(ee.a,{})})})}const ej={openSnackBar:o.openSnackBar};var tj=Object(i.b)(null,ej)((function({transcodePresetDocument:e,tagName:t,openSnackBar:n,onRefresh:o,formComponent:a,...s}){const r={tagName:t},c={transcodePresetDocument:e};return Object(le.jsx)(Ft,{formName:"EDIT_SHAPTAG_FORM",onSubmitSuccess:()=>{n({messageContent:"Shape Tag Rule Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Shape Tag",messageColor:"secondary"})},onSubmit:Gl,formProps:r,displayProps:{transcodePresetDocument:e},initialValues:c,formComponent:t.startsWith("__")?void 0:a,...s})}));const nj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"requireFastStart",value:e.requireFastStart,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"analyzeDuration",value:e.analyzeDuration,variant:"boolean",hover:!0,hideNoValue:!0})]}),oj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"width",value:e.width,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"height",value:e.height,hover:!0,hideNoValue:!0})]}),aj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"horizontal",value:e.horizontal,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"vertical",value:e.vertical,hover:!0,hideNoValue:!0})]}),sj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"width",value:e.width,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"height",value:e.height,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"top",value:e.top,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"bottom",value:e.bottom,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"left",value:e.left,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"right",value:e.right,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"padColor",value:e.padColor,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"rotate",value:e.rotate,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"pixelAspectRatio",value:e.pixelAspectRatio,component:aj,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"targetDAR",value:e.targetDAR,component:aj,hideNoValue:!0})]}),rj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"key",value:e.key,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"value",value:e.value,hover:!0,hideNoValue:!0})]}),cj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"numerator",value:e.numerator,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"denominator",value:e.denominator,hover:!0,hideNoValue:!0})]}),ij=cj,lj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"samples",value:e.samples,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,component:ij,title:"timeBase",value:e.timeBase})]}),jj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"id",value:e.id,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"stream",value:e.stream,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"channel",value:e.channel,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"gain",value:e.gain,hover:!0,hideNoValue:!0})]}),dj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(En,{title:"input",value:e.input,component:jj}),Object(le.jsx)(Dn,{title:"silence",value:e.silence,variant:"boolean",hover:!0,hideNoValue:!0})]}),mj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"uri",value:e.uri,hover:!0,hideNoValue:!0})]}),hj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"uuid",value:e.uuid,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"versionMajor",value:e.versionMajor,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"versionMinor",value:e.versionMinor,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"versionPatch",value:e.versionPatch,hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"configuration",value:e.configuration,component:rj}),Object(le.jsx)(En,{title:"resource",value:e.resource,component:mj})]}),uj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"format",value:e.format,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"codec",value:e.codec,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"bitrate",value:e.bitrate,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"framerate",component:ij,value:e.framerate}),Object(le.jsx)(Dn,{title:"channel",value:e.channel,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"stream",value:e.stream,variant:"list",hover:!0,hideNoValue:!0})]}),bj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"format",value:e.format,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"codec",value:e.codec,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"bitrate",value:e.bitrate,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"framerate",component:ij,value:e.framerate}),Object(le.jsx)(Dn,{title:"channel",value:e.channel,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"stream",value:e.stream,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"preset",value:e.preset,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"noAudio",value:e.noAudio,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"setting",value:e.setting,component:rj}),Object(le.jsx)(En,{title:"mix",value:e.mix,component:dj}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"otif",component:hj,value:e.otif}),Object(le.jsx)(Dn,{title:"monoFile",value:e.monoFile,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"allChannel",value:e.allChannel,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"output",value:e.output,component:uj})]}),pj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"codec",value:e.codec,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"bitrate",value:e.bitrate,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"framerate",component:ij,value:e.framerate}),Object(le.jsx)(Dn,{title:"channel",value:e.channel,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"preset",value:e.preset,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"setting",value:e.setting,component:rj}),Object(le.jsx)(En,{title:"mix",value:e.mix,component:dj})]}),Oj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"codec",value:e.codec,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"bitrate",value:e.bitrate,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"framerate",component:ij,value:e.framerate}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"resolution",component:oj,value:e.resolution}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"scaling",component:sj,value:e.scaling}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"displayWidth",component:cj,value:e.displayWidth}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"displayHeight",component:cj,value:e.displayHeight}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"displayXOffset",component:cj,value:e.displayXOffset}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"displayYOffset",component:cj,value:e.displayYOffset}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"containerSAR",component:aj,value:e.containerSAR}),Object(le.jsx)(Dn,{title:"forceCFR",value:e.forceCFR,hover:!0,hideNoValue:!0,variant:"boolean"}),Object(le.jsx)(Dn,{title:"gopSize",value:e.gopSize,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"maxBFrames",value:e.maxBFrames,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"pixelFormat",value:e.pixelFormat,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"preset",value:e.preset,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"profile",value:e.profile,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"noVideo",value:e.noVideo,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"stripParameterSets",value:e.stripParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"addParameterSets",value:e.addParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"parameterSets",value:e.parameterSets,hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"setting",value:e.setting,component:rj}),Object(le.jsx)(Dn,{title:"burnTimecode",value:e.burnTimecode,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"burnSubtitles",value:e.burnSubtitles,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"imageQuality",value:e.imageQuality,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"otif",component:hj,value:e.otif})]}),xj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"start",value:e.start,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"width",value:e.width,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"count",value:e.count,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"wildcard",value:e.wildcard,hover:!0,hideNoValue:!0})]}),gj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{hideNoValue:!0,title:"start",component:lj,value:e.start}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"end",component:lj,value:e.end})]}),fj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"uri",value:e.uri,variant:"list",hover:!0}),Object(le.jsx)(En,{name:"range",title:"range",component:xj,value:e.range}),Object(le.jsx)(Dn,{title:"id",value:e.id,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"x",value:e.x,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"y",value:e.y,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"interval",component:gj,value:e.interval}),Object(le.jsx)(Dn,{title:"opacity",value:e.opacity,hover:!0,hideNoValue:!0})]}),vj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"line",value:e.line,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"align",value:e.align,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"x",value:e.x,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"y",value:e.y,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"xRel",value:e.xRel,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"yRel",value:e.yRel,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"horizontalBase",value:e.horizontalBase,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"verticalBase",value:e.verticalBase,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"font",value:e.font,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"size",value:e.size,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"sizeRel",value:e.sizeRel,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"r",value:e.r,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"g",value:e.g,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"b",value:e.b,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"a",value:e.a,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"outline",value:e.outline,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"outlineSize",value:e.outlineSize,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"outlineR",value:e.outlineR,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"outlineG",value:e.outlineG,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"outlineB",value:e.outlineB,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"outlineA",value:e.outlineA,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"language",value:e.language,hover:!0,hideNoValue:!0})]}),yj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{hideNoValue:!0,title:"text",component:vj,value:e.text}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"interval",component:gj,value:e.interval}),Object(le.jsx)(Dn,{title:"opacity",value:e.opacity,hover:!0,hideNoValue:!0})]}),Cj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"start",value:e.start,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"width",value:e.width,hover:!0,hideNoValue:!0})]}),Sj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"description",value:e.description,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"format",value:e.format,hover:!0,hideNoValue:!0})]}),Ij=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{hideNoValue:!0,component:bj,value:e.audio}),Object(le.jsx)(Fn,{hideNoValue:!0,title:"audioTrack",component:pj,value:e.audioTrack})]}),Rj=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Oj,value:e.video})}),Dj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(En,{hideNoValue:!0,hover:!1,title:"overlay",component:fj,value:e.overlay}),Object(le.jsx)(En,{hideNoValue:!0,hover:!1,title:"textOverlay",component:yj,value:e.textOverlay})]}),Fj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"startTimecode",value:e.startTimecode,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,name:"fastStartSetting",title:"fastStartSetting",component:nj,value:e.fastStartSetting}),Object(le.jsx)(Dn,{title:"faceDetect",value:e.faceDetect,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"preserveEDL",value:e.preserveEDL,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"addClipName",value:e.addClipName,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"preferredSourceTag",value:e.preferredSourceTag,hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{name:"shapeMetadata",title:"shapeMetadata",component:rj,value:e.shapeMetadata}),Object(le.jsx)(Fn,{hideNoValue:!0,name:"maxChunkDuration",title:"maxChunkDuration",component:lj,value:e.maxChunkDuration}),Object(le.jsx)(En,{name:"demuxerSetting",title:"demuxerSetting",component:rj,value:e.demuxerSetting}),Object(le.jsx)(En,{name:"muxerSetting",title:"muxerSetting",component:rj,value:e.muxerSetting}),Object(le.jsx)(Fn,{hideNoValue:!0,name:"sequenceOutput",title:"sequenceOutput",component:Cj,value:e.SequenceOutputType})]}),Tj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{hideNoValue:!0,name:"thumbnailResolution",title:"thumbnailResolution",component:oj,value:e.thumbnailResolution}),Object(le.jsx)(Dn,{title:"thumbnailBackground",value:e.thumbnailBackground,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,name:"thumbnailPeriod",title:"thumbnailPeriod",component:lj,value:e.thumbnailPeriod}),Object(le.jsx)(Dn,{title:"thumbnailPlugin",value:e.thumbnailPlugin,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{hideNoValue:!0,name:"posterResolution",title:"posterResolution",component:oj,value:e.posterResolution}),Object(le.jsx)(Dn,{title:"posterBackground",value:e.posterBackground,hover:!0,hideNoValue:!0})]}),Ej=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{value:e.script,variant:"json"})});function Pj({transcodePresetDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Sj,value:e})})}function Nj({transcodePresetDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Ij,value:e})})}function kj({transcodePresetDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Rj,value:e})})}function Mj({transcodePresetDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Tj,value:e})})}function Aj({transcodePresetDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Dj,value:e})})}function Lj({transcodePresetDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Fj,value:e})})}function Wj({transcodePresetDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Ej,value:e})})}function _j(e){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(we,{children:Object(le.jsx)(tj,{title:"Container",formComponent:El,displayComponent:Pj,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(tj,{title:"Video",formComponent:Ml,displayComponent:kj,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(tj,{title:"Audio",formComponent:Nl,displayComponent:Nj,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(tj,{title:"Thumbnail",formComponent:Vl,displayComponent:Mj,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(tj,{title:"Overlay",formComponent:Ll,displayComponent:Aj,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(tj,{title:"Advanced",formComponent:_l,displayComponent:Lj,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(tj,{title:"Script",formComponent:Bl,displayComponent:Wj,...e})})]})}function wj({closeModal:e,isOpen:t,tagName:n,history:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Shape Tag "'.concat(n,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.shapetag.removeShapeTag({tagName:n}).then((()=>{const t="Shape Tag ".concat(n," Removed");a({messageContent:t}),o.push("/shape-tag/"),e()})).catch((()=>{a({messageContent:"Error Removing Shape Tag",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function Vj(e,t,n){const{storageRuleDocument:o}=e,a=n.entityType||e.entityType,s=n.entityId||e.entityId,r=n.tagName||e.tagName;return W.storagerule.updateEntityStorageRuleTag({entityType:a,entityId:s,tagName:r,storageRuleDocument:o}).then((()=>({storageRuleDocument:o}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Uj(e,t,n){const{storageRuleDocument:o}=e,a=n.entityType||e.entityType,s=n.entityId||e.entityId;return void 0!==(n.tagName||e.tagName)?Vj(e,0,n):W.storagerule.updateEntityStorageRule({entityType:a,entityId:s,storageRuleDocument:o}).then((()=>({storageRuleDocument:o}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Bj(e,t,n){const{storageRuleDocument:o}=e,a=n.tagName||o.tag;return W.storagerule.updateStorageRuleShapeTag({tagName:a,storageRuleDocument:o}).then((()=>({storageRuleDocument:o}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const qj=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"storageCount",value:e.storageCount,hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"priority",value:e.priority,component:e=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"value",value:e.value,hover:!0}),Object(le.jsx)(Dn,{title:"level",value:e.value,hover:!0})]}),hideNoValue:!0}),Object(le.jsx)(Dn,{title:"inherited",value:e.inherited,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"storage",value:e.storage,variant:"storageId",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Storage Group",value:e.storage,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"not",value:e.priority,component:e=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"storage",value:e.storage,variant:"storageId",hover:!0}),Object(le.jsx)(Dn,{title:"Storage Group",value:e.storage,hover:!0})]}),hideNoValue:!0}),Object(le.jsx)(Fn,{title:"pool",value:e.priority,component:e=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"storage",value:e.storage,variant:"storageId",hover:!0}),Object(le.jsx)(Dn,{title:"Storage Group",value:e.storage,hover:!0})]}),hideNoValue:!0}),Object(le.jsx)(Fn,{title:"appliesTo",value:e.priority,component:e=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"id",value:e.id,hover:!0}),Object(le.jsx)(Dn,{title:"type",value:e.type,hover:!0})]}),hideNoValue:!0}),Object(le.jsx)(Dn,{title:"precedence",value:e.precedence,hover:!0,hideNoValue:!0})]});function Gj({storageRuleDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:qj,value:e})})}var Hj=n(71),zj=n.n(Hj);const Jj=zj()(W.storage.listStorage,500,{leading:!0,trailing:!1}),Kj=e=>new Promise(((t,n)=>{Jj().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{storage:o=[]}=n;let a=o.map((e=>e.id));e&&"*"!==e&&(a=a.filter((t=>t.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e,value:e})));t(s)})).catch((e=>{n(e)}))}));const Yj=zj()(W.storage.listStorage,500,{leading:!0,trailing:!1}),Xj=e=>new Promise(((t,n)=>{Yj().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{group:o=[]}=n;let a=o.map((e=>e.name));e&&"*"!==e&&(a=a.filter((t=>t.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e,value:e})));t(s)})).catch((e=>{n(e)}))}));const $j=zj()(W.shapetag.listShapeTag,500,{leading:!0,trailing:!1}),Qj=e=>new Promise(((t,n)=>{$j().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{uri:o=[]}=n;let a=o;e&&"*"!==e&&(a=o.filter((t=>t.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e,value:e})));t(s)})).catch((e=>{n(e)}))}));const Zj=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"value",children:"Criteria"}),Object(le.jsxs)(Zt,{name:"value",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"bandwidth",children:"bandwidth"}),Object(le.jsx)(Xn.a,{value:"capacity",children:"capacity"})]})]}),ed=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"storage",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"group",label:"Storage Group",component:br,loadOptions:Xj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]}),td=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ed,{}),Object(le.jsx)(Zt,{name:"any",component:_t,fullWidth:!0})]}),nd=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"level",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zj,{})]}),od=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"id",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"type",component:_t,fullWidth:!0})]}),ad=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"storageCount",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"priority",label:"Priority",component:nd}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"inherited",component:en}),label:"Inherited"}),Object(le.jsx)(Zt,{name:"storage",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"group",label:"Storage Group",component:br,loadOptions:Xj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Xt,{name:"not",label:"not",component:td}),Object(le.jsx)(Xt,{name:"pool",label:"pool",component:ed}),Object(le.jsx)(Xt,{name:"appliesTo",label:"appliesTo",component:od}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"precedence",children:"Precedence"}),Object(le.jsxs)(Zt,{name:"precedence",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]})]}),sd=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"tagName",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Xt,{name:"storageRuleDocument",component:ad}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),rd=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"storageRuleDocument",component:ad}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));var cd=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"entityType",children:"Type"}),Object(le.jsxs)(Zt,{name:"entityType",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"collection",children:"Collection"}),Object(le.jsx)(Xn.a,{value:"library",children:"Library"})]})]}),Object(le.jsx)(Zt,{name:"entityId",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"storageRuleDocument",component:ad}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var id=ue((function({open:e,onClose:t,openSnackBar:n,storageRuleDocument:o,onSuccess:a}){if(void 0===o)return null;const{appliesTo:s={},id:r}=o,{type:c,id:i}=s,l=c.toLowerCase();let j;return j="GENERIC"===c?()=>{W.storagerule.removeStorageRuleShapeTag({tagName:i}).then((()=>{n({messageContent:"Storage Rule Removed"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})}))}:"default"===r?()=>{W.storagerule.removeEntityStorageRule({entityType:l,entityId:i}).then((()=>{n({messageContent:"Storage Rule Removed"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})}))}:()=>{W.storagerule.removeEntityStorageRuleTag({entityType:l,entityId:i,tagName:r}).then((()=>{n({messageContent:"Storage Rule Removed"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})}))},Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Storage Rule ".concat(ot()(l)," For ").concat(i," On ").concat(r)}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:j,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var ld=ue((function({storageRuleDocument:e,tagName:t,openSnackBar:n,onRefresh:o,onOpen:a}){const s="REMOVE_STORAGERULE_DIALOG",r={tagName:t},c={storageRuleDocument:e},i={storageRuleDocument:e};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ft,{formName:"EDIT_STORAGERULE_TAG_FORM",onSubmitSuccess:()=>{n({messageContent:"Storage Rule Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Storage Rule",messageColor:"secondary"})},onSubmit:Bj,formProps:r,displayProps:c,initialValues:i,displayComponent:Gj,formComponent:rd,title:"Storage Rule",iconList:e&&Object(le.jsx)(w.a,{onClick:()=>a({modalName:s}),children:Object(le.jsx)(ee.a,{})})}),Object(le.jsx)(id,{dialogName:s,onSuccess:o,storageRuleDocument:e})]})}));function jd(e){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(we,{children:Object(le.jsx)(ld,{...e})})})}class dd extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={storageRuleDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{tagName:e}=this.props;try{W.storagerule.getStorageRuleShapeTag({tagName:e}).then((e=>this.setState({storageRuleDocument:e.data}))).catch((e=>{e.response&&404===e.response.status?this.setState({storageRuleDocument:void 0}):this.onRefreshError(e)}))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}render(){const{tagName:e}=this.props,{storageRuleDocument:t}=this.state;return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(jd,{onRefresh:this.onRefresh,storageRuleDocument:t,createModal:"STORAGERULE_DIALOG",tagName:e})})}}var md=he(dd);const hd="SHAPETAG_CODE_MODAL",ud="SHAPETAG_REMOVE_MODAL";class bd extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={transcodePresetDocument:void 0}}componentDidMount(){const{tagName:e}=this.props;document.title="VidiCore Admin | Shape Tag | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,tagName:t}=this.props;try{W.shapetag.getShapeTag({tagName:t}).then((e=>this.setState({transcodePresetDocument:e.data})))}catch(n){e({messageContent:"Error Loading Shape Tag",messageColor:"secondary"})}}render(){const{tagName:e,modalName:t,closeModal:n,openModal:o,openSnackBar:a,history:s}=this.props,{transcodePresetDocument:r}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zl,{openCode:()=>o({modalName:hd}),openRemove:()=>o({modalName:ud}),onRefresh:this.onRefresh,tagName:e}),r&&Object(le.jsx)(_j,{onRefresh:this.onRefresh,tagName:e,transcodePresetDocument:r}),Object(le.jsx)(md,{...this.props,tagName:e}),Object(le.jsx)(Me,{isOpen:t===hd,toggleDialogue:n,code:r,title:"TranscodePresetDocument"}),Object(le.jsx)(wj,{isOpen:t===ud,tagName:e,openSnackBar:a,closeModal:n,history:s})]})}}const pd={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var Od=Object(i.b)((function(e,t){const{tagName:n}=t.match.params,{ui:{modalName:o}}=e;return{modalName:o,tagName:n}}),pd)(bd);const xd=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"licenseError",value:e.licenseError,hover:!0,hideNoValue:!0})}),gd=({value:e={},dense:t=!0})=>t?Object(le.jsx)(Dn,{title:"Current: ".concat(e.current),value:"Allowed: ".concat("-1"===e.allowed?"Unlimited":e.allowed),hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"allowed",value:e.allowed,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"current",value:e.current,hover:!0,hideNoValue:!0})]}),fd=({value:e={},dense:t=!0})=>t?Object(le.jsx)(Dn,{title:e.name,value:"".concat(e.encode?"Encode":"").concat(e.decode&&!e.encode?"Decode":""),hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"encode",value:e.encode,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"decode",value:e.decode,variant:"boolean",hover:!0,hideNoValue:!0})]}),vd=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(En,{value:e.codec,component:fd}),Object(le.jsx)(Dn,{title:"codecExtraTags",value:e.codecExtraTags,hover:!0,hideNoValue:!0})]}),yd=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"macaddress",value:e.macaddress,variant:"list",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"databaseSize",value:e.databaseSize,hover:!0,hideNoValue:!0})]}),Cd=({value:e={},dense:t=!0})=>t?Object(le.jsx)(Dn,{title:e.siteId?"".concat(e.siteId," ").concat(e.name):e.name,value:e.version,hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:e.name,value:e.version,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"siteId",value:e.siteId,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"version",value:e.version,hover:!0,hideNoValue:!0})]}),Sd=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"expiryDate",value:e.expiryDate,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"systemInfo",value:e.systemInfo,component:yd,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"fileStatus",value:e.fileStatus,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"storageNumber",value:e.storageNumber,component:gd,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"userNumber",value:e.userNumber,component:gd,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"itemNumber",value:e.itemNumber,component:gd,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"transcoderNumber",value:e.transcoderNumber,component:gd,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"endCustomerCompanyname",value:e.endCustomerCompanyname,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"endCustomerCompanyContactEmail",value:e.endCustomerCompanyContactEmail,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"resellerCompanyName",value:e.resellerCompanyName,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"resellerCompanyContactEmail",value:e.resellerCompanyContactEmail,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"licenseStatus",value:e.licenseStatus,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"licenseErrorStatus",value:e.licenseErrorStatus,component:xd,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"licenseType",value:e.licenseType,hover:!0,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"codecStatus",value:e.codecStatus,component:vd,hideNoValue:!0})]});function Id({versionDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{title:"systemInfo",value:e.systemInfo,component:yd})})}function Rd({versionDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{title:"licenseInfo",value:e.licenseInfo,component:Sd})})}function Dd({versionDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{value:e.component,component:Cd})})}function Fd(e){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{title:"System"}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Id,{...e})})]}),Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{title:"License"}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Rd,{...e})})]}),Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{title:"Component"}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Dd,{...e})})]})]})}const Td=e=>e?void 0:"Required",Ed=(e="")=>{const t=new RegExp(/https?:\/\/[-a-zA-Z0-9@:%._+~#=]{2,256}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/gi);return e.match(t)?void 0:"Not a URL"};function Pd({input:e,meta:t,loading:n,fullWidth:o=!1}){const{value:a}=e,s=a&&a[0].name;return Object(le.jsxs)(le.Fragment,{children:[Boolean(t.touched&&t.error)&&Object(le.jsx)(Fo.a,{error:!0,children:t.error}),Object(le.jsxs)(Oe.a,{variant:"text",component:"label",color:"primary",disableRipple:!0,disabled:n,fullWidth:o,children:[s||"Choose File",Object(le.jsx)("input",{style:{display:"none"},type:"file",onChange:e.onChange})]})]})}var Nd=Object(Tt.a)({form:"EDIT_LICENSE_FORM"})((function({error:e,handleSubmit:t,className:n,onSubmit:o,submitOnChange:a}){const s=a?()=>setTimeout(t((e=>o(e)))):void 0;return Object(le.jsx)("form",{onChange:s,onSubmit:t,className:n,style:{padding:"10px"},children:Object(le.jsxs)($.a,{container:!0,direction:"column",alignItems:"center",children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"license",label:"Choose License File",fullWidth:!0,component:Pd,validate:[Td]}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})})}));function kd(e){const{license:t}=e,n=t[0];return W.license.createLicense({file:n}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const Md="EDIT_LICENSE_FORM";var Ad=Object(m.c)(ue,Mo)((function({open:e,onClose:t,submitForm:n,openSnackBar:o,onSuccess:a,onFail:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Upload License"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Nd,{form:Md,onSubmit:kd,onSubmitSuccess:(e,n,s)=>{o({messageContent:"License Updated"}),a&&a(e,n,s),t()},onSubmitFail:(e,t,n)=>{o({messageContent:"Error Updating License",messageColor:"secondary"}),s&&s(e,t,n)}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>n(Md),children:"Upload"})]})]})})),Ld=n(438),Wd=n.n(Ld);var _d=T((function({uploadModal:e,onOpen:t,...n}){const{code:o}=n,a=(({versionDocument:e})=>{if(void 0===e)return null;const{licenseInfo:t={}}=e,{licenseStatus:n}=t;return"valid"===n?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Qr,{}),label:"Valid License"}):Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:"Invalid License"})})({versionDocument:o});return Object(le.jsx)(Ae,{title:"Version",iconList:Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(Q.a,{title:"Upload License",children:Object(le.jsx)(w.a,{onClick:()=>t({modalName:e}),children:Object(le.jsx)(Wd.a,{})})}),a]}),...n})}));const wd="VERSION_UPDATE_MODAL";class Vd extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={versionDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Version",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.version.getVersion().then((e=>this.setState({versionDocument:e.data})))}catch(t){e({messageContent:"Error Loading Version Information",messageColor:"secondary"})}}render(){const{versionDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(_d,{onRefresh:this.onRefresh,uploadModal:wd,code:e,codeModal:"VersionDocument"}),e&&Object(le.jsx)(Fd,{versionDocument:e}),Object(le.jsx)(Ad,{dialogName:wd,onSuccess:this.onRefresh})]})}}var Ud=he(Vd);function Bd(e){const t=(({vidispineServiceListDocument:e})=>{if(void 0===e)return null;const{service:t=[]}=e,n=t.filter((e=>!0!==e.isRunning));return 0===n.length?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Qr,{}),label:"All Services Running"}):Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:"".concat(n.length," ").concat(1===n.length?"Service":"Services"," Not Running")})})({vidispineServiceListDocument:e.code});return Object(le.jsx)(Ae,{title:"Service",helpTo:"/ref/vidispine-service.html",iconList:t,...e})}const qd=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"id",value:e.id,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"class",value:e.class,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"arguments",value:e.arguments,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"isEnabled",value:e.isEnabled,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"isRunning",value:e.isRunning,variant:"boolean",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"exception",value:e.exception,variant:"code",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"exceptionTimestamp",value:e.exceptionTimestamp,variant:"timestamp",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"thread",value:e.thread,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"threadStatus",value:e.threadStatus,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"load5",value:e.load5,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"load60",value:e.load60,hover:!0,hideNoValue:!0})]});function Gd({vidispineServiceDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:qd,value:e})})}var Hd=Object(ye.a)((e=>({onHover:{"&:hover":{backgroundColor:e.palette.action.hover}}})))((function({vidispineServiceDocument:e,classes:t,onDisable:n,onEnable:o}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(we,{className:t.onHover,children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:ot()(e.name)}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:e.isEnabled?Object(le.jsx)(Oe.a,{onClick:()=>n({serviceName:e.name}),color:"secondary",children:"Disable"}):Object(le.jsx)(Oe.a,{onClick:()=>o({serviceName:e.name}),color:"primary",children:"Enable"})})})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Gd,{vidispineServiceDocument:e})})]})})}));var zd=ue((function({open:e,onClose:t,openSnackBar:n,serviceName:o,onSuccess:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Disable Service "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.service.disableService({serviceName:o}).then((()=>{const e="Service ".concat(o," Disabled");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Disabling Service",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Disable"})]})]})}));var Jd=ue((function({open:e,onClose:t,openSnackBar:n,serviceName:o,onSuccess:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Enable Service "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"secondary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.service.enableService({serviceName:o}).then((()=>{const e="Service ".concat(o," Enabled");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Enabling Service",messageColor:"secondary"})}))},color:"primary",autoFocus:!0,children:"Enable"})]})]})}));const Kd="ENABLE_SERVICE_DIALOG",Yd="DISABLE_SERVICE_DIALOG";var Xd=xo((function({vidispineServiceListDocument:e,onRefresh:t,dialogProps:n,onOpen:o}){const{service:a=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[a.map((e=>Object(le.jsx)(Hd,{vidispineServiceDocument:e,onEnable:o(Kd),onDisable:o(Yd)},e.name))),Object(le.jsx)(Jd,{...n,dialogName:Kd,onSuccess:t}),Object(le.jsx)(zd,{...n,dialogName:Yd,onSuccess:t})]})}));class $d extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={vidispineServiceListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Service"}onRefresh(){const{openSnackBar:e}=this.props;try{W.service.getServiceList().then((e=>this.setState({vidispineServiceListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Service List",messageColor:"secondary"})}}render(){const{vidispineServiceListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Bd,{onRefresh:this.onRefresh,code:e,codeModal:"VidispineServiceListDocument"}),e&&Object(le.jsx)(Xd,{onRefresh:this.onRefresh,vidispineServiceListDocument:e})]})}}var Qd=he($d),Zd=n(772);const em=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"id",component:_t,fullWidth:!0})});var tm=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"jobType",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:em}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));function nm(e){const{taskDefinitionDocument:t}=e,n={task:[t]};return W.taskdefinition.createTaskDefinition({taskDefinitionListDocument:n}).then((e=>({uriListDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function om(e,t,n){const{taskDefinitionDocument:o}=e,a=n.taskDefinitionId||o.id;return W.taskdefinition.modifyTaskDefinition({taskDefinitionId:a,taskDefinitionDocument:o}).then((e=>({taskDefinitionDocument:e.data,taskDefinitionId:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function am(e){const{jobType:t,queryParams:n}=e;return W.taskdefinition.createJobType({jobType:t,queryParams:n}).then((()=>({jobType:t}))).catch((e=>{let t=e.message;throw e.response&&(t=404===e.response.status?'{"invalidInput":{"context":"job-type","explanation":"id must be between 20000 and 30000"}}':JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const sm="EDIT_JOBTYPE_FORM";var rm=Object(m.c)(ue,Mo)((function({submitForm:e,openSnackBar:t,onClose:n,onSuccess:o,open:a}){return Object(le.jsxs)(xe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Create Job Type"}),Object(le.jsxs)(fe.a,{children:[Object(le.jsx)(Zd.a,{children:"The recommended format of the type is VENDORPREFIX_JOBTYPE."}),Object(le.jsx)(tm,{form:sm,onSubmit:am,onSubmitSuccess:e=>{const{jobType:a}=e,s="Job Type ".concat(a," Created");t({messageContent:s}),n(),o&&o(e)},onSubmitFail:()=>{t({messageContent:"Error Creating Job Type",messageColor:"secondary"})}})]}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(sm),children:"Save"})]})]})}));var cm=(e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"});function im({uriListDocument:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(rt,{uriListDocument:e,linkTo:e=>"/task-definition/jobtype/".concat(e,"/"),sort:cm})})})}function lm(e){return Object(le.jsx)(Ae,{title:"Job Type",helpTo:"/ref/job.html#job-types",...e})}const jm="JOBTYPE_CREATE_MODAL";class dm extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:null}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Type"}onRefresh(){const{openSnackBar:e}=this.props;try{W.taskdefinition.listJobType().then((e=>this.setState({uriListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Job Type List",messageColor:"secondary"})}}render(){const{history:e}=this.props,{uriListDocument:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(lm,{createModal:jm,onRefresh:this.onRefresh,code:t,codeModal:"URIListDocument"}),t&&Object(le.jsx)(im,{uriListDocument:t}),Object(le.jsx)(rm,{dialogName:jm,onSuccess:({jobType:t})=>e.push("/task-definition/jobtype/".concat(t,"/"))})]})}}var mm=he(dm),hm=n(759);const um=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"step",value:e.step,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"previous",value:e.previous,hover:!0,variant:"boolean"}),Object(le.jsx)(Dn,{title:"allPrevious",value:e.allPrevious,hover:!0,variant:"boolean"})]});function bm({taskDefinitionDocument:e}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($.a,{container:!0,children:[Object(le.jsxs)($.a,{item:!0,sm:6,xs:12,children:[Object(le.jsx)(Dn,{title:"ID",value:e.id,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Cleanup",value:e.cleanup,hover:!0,variant:"boolean"}),Object(le.jsx)(Dn,{title:"Critical",value:e.critical,hover:!0,variant:"boolean"}),Object(le.jsx)(Dn,{title:"Extra Data",value:e.extradata,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Flags",value:e.flags,hover:!0,hideNoValue:!0})]}),Object(le.jsxs)($.a,{item:!0,sm:6,xs:12,children:[Object(le.jsx)(Dn,{title:"Bean",value:e.bean,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Method",value:e.method,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Plugin",value:e.plugin,hover:!0,variant:"boolean"})]})]}),Object(le.jsxs)($.a,{container:!0,children:[Object(le.jsx)($.a,{item:!0,sm:6,xs:12,children:Object(le.jsx)(Fn,{title:"Dependency",component:um,value:e.dependency})}),Object(le.jsx)($.a,{item:!0,sm:6,xs:12,children:Object(le.jsx)(Fn,{title:"Parallel Dependency",component:um,value:e.parallelDependency})})]}),Object(le.jsx)(Dn,{title:"Script",value:e.script,variant:"code",codeProps:{mode:"javascript",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},hideNoValue:!0})]})}const pm=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"step",type:"number",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"previous",component:en}),label:"Previous"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allPrevious",component:en}),label:"All Previous"})]}),Om=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"jobType",label:"Job Type",component:br,loadOptions:Or,disableInitial:!0,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"step",label:"Step",component:_t,validate:[Td],type:"number",required:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"description",label:"Description",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"flags",label:"Flags",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"critical",component:en}),label:"Critical"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"cleanup",component:en}),label:"Cleanup"}),Object(le.jsx)(Xt,{name:"dependency",label:"dependency",component:pm}),Object(le.jsx)(Xt,{name:"parallelDependency",label:"parallelDependency",component:pm}),Object(le.jsx)(Zt,{name:"script",label:"script",component:Eo,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}),Object(le.jsx)(Zt,{name:"jobType",type:"hidden",component:"input"})]});var xm=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"taskDefinitionDocument",component:Om}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var gm=ue((function({open:e,onClose:t,openSnackBar:n,taskDefinitionDocument:o,onSuccess:a}){const{step:s,jobType:r}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Step ".concat(s)}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:()=>{W.taskdefinition.removeTaskDefinitionStep({taskDefinitionType:r,taskDefinitionStep:s}).then((()=>{const e="Step ".concat(s," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Step",messageColor:"secondary"})}))},color:"secondary",children:"Remove"})]})]})}));var fm=ue((function({taskDefinitionDocument:e,openSnackBar:t,onRefresh:n,onOpen:o}){const{id:a,step:s,description:r}=e,c="EDIT_TASKDEFINTION_FORM_".concat(a),i="TASKDEFINITION_REMOVE_".concat(a),l={taskDefinitionDocument:e},j={taskDefinitionDocument:e};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ft,{title:"Step ".concat(s).concat(r?" - ".concat(r):""),formName:c,onSubmitSuccess:()=>{t({messageContent:"Task Definition Saved"}),n&&n()},onSubmitFail:()=>{t({messageContent:"Error Updating Task Definition",messageColor:"secondary"})},onSubmit:om,displayProps:l,initialValues:j,displayComponent:bm,formComponent:xm,iconList:Object(le.jsx)(w.a,{onClick:()=>o({modalName:i}),children:Object(le.jsx)(ee.a,{})})}),Object(le.jsx)(gm,{dialogName:i,taskDefinitionDocument:e,onSuccess:n})]})}));function vm(e){return Object(le.jsx)(_e.a,{children:Object(le.jsx)(fm,{...e})})}function ym({classes:e,taskDefinitionListDocument:t,...n}){const{task:o=[]}=t;return Object(le.jsx)(ii,{children:o.map((e=>Object(le.jsx)(vm,{taskDefinitionDocument:e,...n},e.id)))})}const Cm="EDIT_TASKDEFINITION_FORM";var Sm=Object(m.c)(ue,Mo)((function({jobType:e,submitForm:t,openSnackBar:n,onClose:o,onSuccess:a,open:s}){const r={taskDefinitionDocument:{jobType:e,script:"//"}};return Object(le.jsxs)(xe.a,{open:s,onClose:o,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Step"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(xm,{form:Cm,initialValues:r,onSubmit:nm,onSubmitSuccess:e=>{const{uriListDocument:t}=e,{uri:s}=t,r=s[0],c="Step ID ".concat(r," Saved");n({messageContent:c}),o(),a&&a()},onSubmitFail:()=>{n({messageContent:"Error Saving Step",messageColor:"secondary"})}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:o,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>t(Cm),children:"Save"})]})]})}));const Im="TASKDEFINITION_DIALOG";class Rm extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={taskDefinitionListDocument:void 0}}componentDidMount(){const{taskDefinitionType:e}=this.props;this.onRefresh(),document.title="VidiCore Admin | Task Definition | ".concat(e)}onRefresh(){const{openSnackBar:e,taskDefinitionType:t}=this.props;try{W.taskdefinition.getTaskDefinitionType({taskDefinitionType:t}).then((e=>this.setState({taskDefinitionListDocument:e.data})))}catch(n){e({messageContent:"Error Getting Job Type",messageColor:"secondary"})}}render(){const{taskDefinitionType:e,titleComponent:t}=this.props,{taskDefinitionListDocument:n}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{onRefresh:this.onRefresh,taskDefinitionType:e,code:n,codeModal:"TaskDefinitionListDocument",createModal:Im}),n&&Object(le.jsx)(ym,{onRefresh:this.onRefresh,taskDefinitionListDocument:n}),Object(le.jsx)(Sm,{dialogName:Im,jobType:e,onSuccess:this.onRefresh})]})}}var Dm=he(Rm),Fm=n(439);let Tm=0;const Em=()=>"graphviz".concat(Tm++);var Pm=Object(ye.a)((e=>({root:{"& .edge:hover":{"& path":{stroke:e.palette.error.main},"& text":{fill:e.palette.error.main},"& polygon":{stroke:e.palette.error.main}},"& polygon":{fill:e.palette.background.paper,stroke:e.palette.text.primary},"& path":{stroke:e.palette.text.primary},"& text":{fill:e.palette.text.primary,fontFamily:e.typography.fontFamily,fontSize:e.typography.body2.fontSize}}})))((function({classes:e,className:t,dot:n,...o}){const s=Object(a.useMemo)(Em,[]);return Object(a.useEffect)((()=>{Object(Fm.graphviz)("#".concat(s),{fit:!0,zoom:!0,useWorker:!1,...o}).renderDot(n)}),[n,o]),Object(le.jsx)("div",{className:Object(Ce.default)([t,e.root]),id:s})}));class Nm extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({taskDefinitionType:e}){const{taskDefinitionType:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Task Definition | ".concat(e," | Graph"))}onRefresh(){const{taskDefinitionType:e}=this.props;this.onFetch(e)}onFetch(e){const{useGraphViz:t=!0}=this.props;try{!0===t?W.taskdefinition.getTaskDefinitionType({taskDefinitionType:e,path:"/API/task-definition/jobtype/".concat(e,"/graph/dot"),headers:{accept:"text/plain"}}).then((e=>{this.setState({graphDot:e.data})})).catch((e=>this.onRefreshError(e))):W.taskdefinition.getTaskDefinitionType({taskDefinitionType:e,path:"/API/task-definition/jobtype/".concat(e,"/graph"),headers:{accept:"image/png"},responseType:"blob"}).then((e=>{this.setState({graphImage:e.data})})).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Task Definition",messageColor:"secondary"})}render(){const{titleComponent:e,useGraphViz:t=!0}=this.props,{graphImage:n,graphDot:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{onRefresh:this.onRefresh,breadcumbList:["Graph"],code:o,codeModal:"DOT",codeVariant:"text"}),!1===t&&n?Object(le.jsx)("img",{alt:"graph",src:URL.createObjectURL(n),style:{width:"100%"}}):null,!0===t&&o?Object(le.jsx)(Pm,{dot:o,width:"100%",height:"80vh"}):null]})}}var km=he(Nm);function Mm(e){return Object(le.jsx)(Ae,{parentTitle:"Job Type",parentTo:"/jobtype/",title:e.taskDefinitionType,helpTo:"/ref/task-definition.html",...e})}var Am=ue((function({open:e,onClose:t,openSnackBar:n,jobType:o,onSuccess:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Job Type "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.taskdefinition.removeJobType({jobType:o}).then((()=>{const e="Job Type ".concat(o," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Job Typ",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Lm=n(773),Wm=n(440),_m=n.n(Wm),wm=n(441),Vm=n.n(wm),Um=n(702),Bm=n(774);class qm extends s.a.PureComponent{constructor(e){super(e),this.handleDrawerOpen=this.handleDrawerOpen.bind(this),this.handleDrawerClose=this.handleDrawerClose.bind(this),this.state={open:e.defaultOpen||!1}}handleDrawerOpen(){this.setState({open:!0})}handleDrawerClose(){this.setState({open:!1})}render(){const{classes:e,listComponent:t,mainComponent:n,...o}=this.props,{open:a}=this.state;return Object(le.jsxs)("div",{style:{display:"flex"},children:[Object(le.jsxs)(Lm.a,{variant:"permanent",className:Object(Ce.default)(e.drawer,{[e.drawerOpen]:a,[e.drawerClose]:!a}),classes:{paper:Object(Ce.default)(e.paper,{[e.drawerOpen]:a,[e.drawerClose]:!a})},open:a,children:[Object(le.jsx)(Um.a,{button:!0,onClick:a?this.handleDrawerClose:this.handleDrawerOpen,disableRipple:!0,disableGutters:!0,children:Object(le.jsx)(Bm.a,{children:a?Object(le.jsx)(_m.a,{}):Object(le.jsx)(Vm.a,{})})}),Object(le.jsx)(t,{...o})]}),Object(le.jsx)("div",{style:{flexGrow:1},children:Object(le.jsx)(n,{...o})})]})}}var Gm=Object(ye.a)((e=>({drawer:{width:200,flexShrink:0,whiteSpace:"nowrap"},paper:{marginTop:54},drawerOpen:{width:200,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(4),[e.breakpoints.up("sm")]:{width:e.spacing(6)}}})))(qm),Hm=n(775);function zm(e){const{icon:t=!0,primary:n,secondary:o,to:a,exact:r,...c}=e,i=n&&n[0]||o&&o[0],l=s.a.useMemo((()=>s.a.forwardRef(((e,t)=>Object(le.jsx)(j.c,{to:a,exact:r,ref:t,...e})))),[a,r]);return Object(le.jsx)("li",{children:Object(le.jsxs)(Um.a,{button:!0,component:l,activeClassName:"Mui-selected",...c,children:[t&&void 0!==i?Object(le.jsx)(Bm.a,{children:Object(le.jsx)(Hr.a,{style:{height:25,width:25},children:i})}):null,Object(le.jsx)(Hm.a,{primary:n,secondary:o})]})})}const Jm="TASKDEFINITION_REMOVE_DIALOG",Km=[{listText:"Overview",component:Dm,path:"/task-definition/jobtype/:taskDefinitionType/",exact:!0},{listText:"Graph",component:km,path:"/task-definition/jobtype/:taskDefinitionType/graph/"}],Ym=({taskDefinitionType:e})=>Object(le.jsx)(hm.a,{children:Km.map((({path:t,listText:n,exact:o})=>Object(le.jsx)(zm,{secondary:n,to:Object(d.f)(t,{taskDefinitionType:e}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},t)))}),Xm=e=>Object(le.jsx)(d.d,{children:Km.map((({path:t,component:n,listText:o,exact:a})=>Object(le.jsx)(d.b,{path:t,exact:a,render:()=>Object(le.jsx)(n,{...e,title:o})},t)))});class $m extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{taskDefinitionType:e}=this.props;document.title="VidiCore Admin | Task Definition | ".concat(e)}onRefresh(){const{onRefresh:e}=this.state;e&&e()}setOnRefresh(e){this.setState({onRefresh:e})}render(){const{taskDefinitionType:e,history:t}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Gm,{taskDefinitionType:e,mainComponent:Xm,listComponent:Ym,defaultOpen:!0,titleComponent:t=>Object(le.jsx)(Mm,{onRefresh:this.onRefresh,taskDefinitionType:e,removeModal:Jm,...t}),setOnRefresh:this.setOnRefresh}),Object(le.jsx)(Am,{dialogName:Jm,jobType:e,onSuccess:()=>t.push("/jobtype/")})]})}}var Qm=Object(m.c)(u)($m),Zm=n(274),eh=n.n(Zm),th=n(126);function nh(e){const{xmlDocument:t}=e;return W.debug.echo({xmlDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var oh=Object(Tt.a)()(Object(ye.a)({})((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"xmlDocument",component:Eo,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],autofocus:!0,extraKeys:{"Cmd-Enter":()=>t(),"Ctrl-Enter":()=>t()}}})]})})));const ah="ECHO_FORM";var sh=Object(m.c)(he,Mo)(Object(ye.a)((e=>({SplitterContainer:{height:"80vh"},SquareCard:{height:"100%"},CardContent:{height:"100%"},EchoForm:{height:"100%",overflow:"auto"},ResultContainer:{height:"100%",overflow:"auto"},ResultTypography:{minHeight:32},CodeMirror:{"& .CodeMirror-gutters":{backgroundColor:({error:e})=>void 0!==e?Br.a.A700:"unset",text:({error:t})=>void 0!==t?e.palette.common.white:"unset"}}})))((function({classes:e,submitForm:t,openSnackBar:n,onSuccess:o,onFail:a,result:s,error:r}){var c;const i=Object(jr.a)(),l="light"===(null===i||void 0===i||null===(c=i.palette)||void 0===c?void 0:c.type)?th.a.Light:th.a.Dark;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{title:"XML Echo",action:Object(le.jsx)(Oe.a,{variant:"outlined",color:"primary",onClick:()=>t(ah),startIcon:Object(le.jsx)(eh.a,{}),children:"Convert (ctrl-enter)"})}),Object(le.jsx)("div",{className:e.SplitterContainer,children:Object(le.jsxs)(th.c,{direction:th.b.Horizontal,gutterTheme:l,children:[Object(le.jsx)(we,{className:e.SquareCard,children:Object(le.jsxs)(Le.a,{className:e.CardContent,children:[Object(le.jsx)(X.a,{color:"textSecondary",variant:"subtitle2",className:e.ResultTypography,children:"Input XML"}),Object(le.jsx)(oh,{form:ah,onSubmit:nh,onSubmitSuccess:(e,t,a)=>{n({messageContent:"Convert Success"}),o&&o(e,t,a)},onSubmitFail:(e,t,o,s)=>{n({messageContent:"Error Converting XML",messageColor:"secondary"}),a&&a(e,t,o,s)},className:e.EchoForm,initialValues:{xmlDocument:'<ItemSearchDocument xmlns="http://xml.vidispine.com/schema/vidispine">\n  <field>\n    <name>title</name>\n    <value>example.mp4</value>\n  </field>\n</ItemSearchDocument>'}})]})}),Object(le.jsx)(we,{className:e.SquareCard,children:Object(le.jsx)(Le.a,{className:e.CardContent,children:Object(le.jsxs)("div",{className:e.ResultContainer,children:[Object(le.jsx)(X.a,{color:"textSecondary",variant:"subtitle2",className:e.ResultTypography,children:void 0===r?"Converted JSON":"Error"}),void 0!==s||void 0!==r?Object(le.jsx)(Te,{value:ln(s)||ln(r)||"",className:e.CodeMirror,options:{readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}):null]})})})]})})]})})));class rh extends s.a.PureComponent{constructor(e){super(e),this.onSuccess=this.onSuccess.bind(this),this.onFail=this.onFail.bind(this),this.state={result:void 0,error:void 0}}componentDidMount(){document.title="VidiCore Admin | XML Echo"}onSuccess(e){this.setState({result:JSON.stringify(e.data,null,2),error:void 0})}onFail(e){const t=null===e||void 0===e?void 0:e._error;this.setState({result:void 0,error:t})}render(){const{result:e,error:t}=this.state;return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(sh,{result:e,error:t,onSuccess:this.onSuccess,onFail:this.onFail})})}}var ch=Object(i.b)()(rh);function ih(e){const{javascriptDocument:t}=e;return W.javascript.test({javascriptDocument:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var lh=Object(Tt.a)()((function({handleSubmit:e,className:t,style:n}){return Object(le.jsx)("form",{onSubmit:e,className:t,style:n,children:Object(le.jsx)($t.a,{name:"javascriptDocument",component:Eo,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,lint:{esversion:10},highlightLines:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,autoCloseBrackets:!0,foldGutter:!0,autofocus:!0,extraKeys:{"Cmd-Enter":()=>e(),"Ctrl-Enter":()=>e()}}})})}));const jh="TEST_FORM";var dh=Object(m.c)(he,Mo)(Object(ye.a)((e=>({SplitterContainer:{height:"80vh"},SquareCard:{height:"100%"},CardContent:{height:"100%"},TestForm:{height:"100%",overflow:"auto"},ResultContainer:{height:"100%",overflow:"auto"},ResultTypography:{minHeight:32},CodeMirror:{"& .CodeMirror-gutters":{backgroundColor:({error:e})=>void 0!==e?Br.a.A700:"unset",text:({error:t})=>void 0!==t?e.palette.common.white:"unset"}}})))((function({classes:e,submitForm:t,openSnackBar:n,onSuccess:o,onFail:a,result:s,error:r,initialValues:c={javascriptDocument:"// https://apidoc.vidispine.com/latest/system/integration/javascript.html\n\napi.path('item')\n   .get();\n"}}){var i;const l=Object(jr.a)(),j="light"===(null===l||void 0===l||null===(i=l.palette)||void 0===i?void 0:i.type)?th.a.Light:th.a.Dark;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{title:"Javascript Test",action:Object(le.jsx)(Oe.a,{variant:"outlined",color:"primary",onClick:()=>t(jh),startIcon:Object(le.jsx)(eh.a,{}),children:"RUN (ctrl-enter)"})}),Object(le.jsx)("div",{className:e.SplitterContainer,children:Object(le.jsxs)(th.c,{direction:th.b.Horizontal,gutterTheme:j,children:[Object(le.jsx)(we,{className:e.SquareCard,children:Object(le.jsxs)(Le.a,{className:e.CardContent,children:[Object(le.jsx)(X.a,{color:"textSecondary",variant:"subtitle2",className:e.ResultTypography,children:"Input"}),Object(le.jsx)(lh,{onSubmit:ih,onSubmitSuccess:(e,t,a)=>{n({messageContent:"Script Success"}),o&&o(e,t,a)},onSubmitFail:(e,t,o,s)=>{n({messageContent:"Error Running Script",messageColor:"secondary"}),a&&a(e,t,o,s)},form:jh,className:e.TestForm,initialValues:c})]})}),Object(le.jsx)(we,{className:e.SquareCard,children:Object(le.jsx)(Le.a,{className:e.CardContent,children:Object(le.jsxs)("div",{className:e.ResultContainer,children:[Object(le.jsx)(X.a,{color:"textSecondary",variant:"subtitle2",className:e.ResultTypography,children:void 0===r?"Result":"Error"}),void 0!==s||void 0!==r?Object(le.jsx)(Te,{value:ln(s)||ln(r)||"",className:e.CodeMirror,options:{readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}):null]})})})]})})]})})));class mh extends s.a.PureComponent{constructor(e){super(e),this.onSuccess=this.onSuccess.bind(this),this.onFail=this.onFail.bind(this),this.state={result:void 0,error:void 0}}componentDidMount(){document.title="VidiCore Admin | Javascript Test"}onSuccess(e){this.setState({result:JSON.stringify(e.data,null,2),error:void 0})}onFail(e){const t=null===e||void 0===e?void 0:e._error;this.setState({result:void 0,error:t})}render(){var e;const{location:t}=this.props,{result:n,error:o}=this.state,a=null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.initialValues;return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(dh,{result:n,error:o,onSuccess:this.onSuccess,onFail:this.onFail,initialValues:a})})}}function hh(e){return Object(le.jsx)(Ae,{title:"Audit Log",helpTo:"/ref/audit-trail.html",...e})}function uh(e){const{queryParams:t}=e;return W.auditlog.listAuditLog({path:"/API/log/",queryParams:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const bh=zj()(W.user.listUser,500,{leading:!0,trailing:!1}),ph=e=>new Promise(((t,n)=>{bh().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{user:o=[]}=n;let a=o;e&&"*"!==e&&(a=o.filter((t=>t.userName.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e.userName,value:e.userName})));t(s)})).catch((e=>{n(e)}))})),Oh=e=>{if(e)return e.value};function xh(e){return Object(le.jsx)($t.a,{component:br,loadOptions:ph,cacheOptions:!0,parse:Oh,createable:!1,...e})}const gh=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"method",children:"Method"}),Object(le.jsxs)(Zt,{name:"method",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"GET",children:"GET"}),Object(le.jsx)(Xn.a,{value:"PUT",children:"PUT"}),Object(le.jsx)(Xn.a,{value:"POST",children:"POST"}),Object(le.jsx)(Xn.a,{value:"DELETE",children:"DELETE"})]})]}),Object(le.jsx)(Zt,{name:"path",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"rows",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"username",component:br,loadOptions:ph,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"starttime",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"endtime",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"wildcard",component:en}),label:"Wildcard"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"performCount",component:en,disabled:!0}),label:"Perform Count"})]});var fh=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:gh}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var vh=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s="AUDITLOG_FILTER_FORM",changeForm:r}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(fh,{form:s,onSubmit:uh,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Listing Audit Log",messageColor:"secondary"})},onCancel:e,initialValues:{queryParams:{performCount:!1}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:async()=>{await r(s,"queryParams.first",0),o(s)},children:"Filter"})]})]})}));function yh({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(vh,{...e})})})}var Ch=n(798),Sh=Ve.a,Ih=He.a;function Rh({entry:e={}}){return Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.timestamp?sn()(e.timestamp).toString():""}),Object(le.jsx)(uo,{children:Object(le.jsx)(un,{to:"/username/".concat(e.username,"/"),children:e.username})}),Object(le.jsx)(uo,{children:e.method}),Object(le.jsx)(uo,{children:e.path}),Object(le.jsx)(uo,{children:e.queryParameters}),Object(le.jsx)(uo,{children:e.matrixParameters})]})}var Dh=ze.a;function Fh({auditLogDocument:e,count:t=0,page:n=0,rowsPerPage:o=100,onChangePage:a,onChangeRowsPerPage:s,onChangeOrder:r,orderDirection:c}){const{entry:i=[]}=e,l=[100,250,500];return l.includes(o)||l.push(o),Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:void 0!==c,direction:c,onClick:r,children:"Timestamp"})}),Object(le.jsx)(uo,{children:"username"}),Object(le.jsx)(uo,{children:"Method"}),Object(le.jsx)(uo,{children:"Path"}),Object(le.jsx)(uo,{children:"Query Parameters"}),Object(le.jsx)(uo,{children:"Matrix Parameters"})]})}),Object(le.jsx)(ho,{children:i.map(((e,t)=>Object(le.jsx)(Rh,{entry:e},t)))}),Object(le.jsx)(Ih,{children:Object(le.jsx)(po,{children:Object(le.jsx)(Dh,{count:t,page:n,rowsPerPage:o,onPageChange:a,onRowsPerPageChange:s,ActionsComponent:tt,rowsPerPageOptions:l})})})]})}function Th({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Fh,{...e})})})}var Eh=n(416),Ph=n(417);var Nh=(e,t)=>Object(i.b)((e=>t=>({formValues:Object(Pc.a)(e)(t),isFormDirty:Object(Nc.a)(e)(t),isFormSubmitting:Object(Eh.a)(e)(t),valueSelector:n=>Object(Ph.a)(e)(t,n)}))(t))(e);const kh="AUDITLOG_FILTER_FORM";class Mh extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.state={auditLogDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderDirection:void 0}}componentDidMount(){document.title="VidiCore Admin | Audit Log",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(kh)}onSuccess(e){const t=e.data,{formValues:n={}}=this.props,{queryParams:o={}}=n,{first:a=0,rows:s=100}=o,{count:r=0}=t,c=Math.ceil(r/s)-Math.ceil((r-a)/s);this.setState({count:r,rowsPerPage:s,page:c,auditLogDocument:t})}async onChangePage({page:e}){const{formValues:t={},changeForm:n}=this.props,{queryParams:o={}}=t,{rows:a=100}=o;n(kh,"queryParams.first",e*a),await n(kh,"queryParams.rows",a),this.onRefresh()}async onChangeRowsPerPage({target:{value:e}}={}){const{changeForm:t}=this.props;t(kh,"queryParams.first",0),await t(kh,"queryParams.rows",e),this.onRefresh()}async onChangeOrder(){const{changeForm:e}=this.props,{orderDirection:t}=this.state;let n;void 0===t?n="desc":"desc"===t&&(n="asc"),this.setState({orderDirection:n}),await e(kh,"queryParams.sort",n),this.onRefresh()}render(){const{auditLogDocument:e,count:t,page:n,rowsPerPage:o,orderDirection:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(hh,{code:e,codeModal:"AuditLogDocument",onRefresh:this.onRefresh}),Object(le.jsx)(yh,{form:kh,onSuccess:this.onSuccess}),e&&Object(le.jsx)(Th,{auditLogDocument:e,count:t,page:n,rowsPerPage:o,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderDirection:a})]})}}var Ah=Object(m.c)(Mo,Nh)(Mh,kh),Lh=n(776),Wh=n(777),_h=n(50),wh=n.n(_h),Vh=n(796);var Uh=function(e){const{style:t={}}=e,n={marginTop:"5px",marginBottom:"5px",...t};return Object(le.jsx)(Vh.a,{elevation:0,square:!0,...e,style:n})};function Bh(e){const{queryParams:t,matrixParams:n={}}=e;return W.job.listJob({queryParams:t,matrixParams:Object.entries(n)}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function qh(e,t,n){const o=n.jobId||e.jobId,{queryParams:a}=e;return W.job.modifyJob({jobId:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Gh(e,t,n){const o=n.jobId||e.jobId,{queryParams:a}=e;return W.job.duplicateJob({jobId:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Hh(e,t,n){const o=n.jobId||e.jobId,{queryParams:a}=e;return W.job.abortJob({jobId:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function zh(e){const{queryParams:t}=e;return W.job.createJob({queryParams:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const Jh=["READY","STARTED","VIDINET_JOB","FINISHED"],Kh=["WAITING","FINISHED_WARNING","ABORT_PENDING"],Yh=["WAITING"],Xh=["READY","STARTED","VIDINET_JOB","WAITING","ABORT_PENDING"];var $h=["READY","STARTED","VIDINET_JOB","FINISHED","FINISHED_WARNING","FAILED_TOTAL","WAITING","ABORT_PENDING","ABORTED"];const Qh=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",component:Ea}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"metadata",component:en}),label:"Include Metadata"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"idonly",component:en}),label:"Only IDs"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"step",component:en}),label:"Include Steps"}),Object(le.jsx)(Zt,{name:"starttime-from",component:_t,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(le.jsx)(Zt,{name:"starttime-to",component:_t,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(le.jsx)(Zt,{name:"finishtime-from",component:_t,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(le.jsx)(Zt,{name:"finishtime-to",component:_t,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0})]}),Zh=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsxs)(Zt,{name:"state",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"all",children:"All"}),$h.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))]})]}),Object(le.jsx)(Zt,{name:"type",label:"Type",component:br,loadOptions:Or,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"sort",component:Ta,simple:!0,fullWidth:!0,disabled:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"user",component:en}),label:"Only My User"})]});var eu=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Qh}),Object(le.jsx)(Xt,{name:"matrixParams",component:Zh}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var tu=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s="JOB_FILTER_FORM",changeForm:r}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Job List Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(eu,{form:s,onSubmit:Bh,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Listing Jobs",messageColor:"secondary"})},onCancel:e,destroyOnUnmount:!1,initialValues:{matrixParams:{first:0,number:10,sort:["jobId desc"],user:!1}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:async()=>{await r(s,"matrixParams.first",0),o(s)},children:"Filter"})]})]})}));var nu=({jobDocument:e})=>{if(void 0===e)return null;const{status:t}=e,n=Xh.includes(t);return Jh.includes(t)?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Zr,{isLoading:n,children:Object(le.jsx)(Qr,{})}),label:ot()(t.toLowerCase())}):Kh.includes(t)?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Zr,{isLoading:n,children:Object(le.jsx)(tc,{})}),label:ot()(t.toLowerCase())}):Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Zr,{isLoading:n,children:Object(le.jsx)(ec,{})}),label:t?ot()(t.toLowerCase()):"Unknown"})};function ou({jobDocument:e}){let t;const n=sn()(e.started);if(e.finished){const o=sn()(e.finished);t=sn.a.duration(o.diff(n)).humanize()}else if("STARTED"===e.status){const e=sn()(),o=sn.a.duration(e.diff(n));t="".concat(parseInt(o.asMinutes(),10)," minutes")}return Object(le.jsxs)(at,{to:"/job/".concat(e.jobId,"/"),hover:!0,children:[Object(le.jsx)(uo,{children:e.jobId}),Object(le.jsx)(uo,{children:e.user}),Object(le.jsx)(uo,{children:e.started?sn()(e.started).format("YYYY-MM-DD HH:mm").toString():""}),Object(le.jsx)(uo,{children:e.finished?sn()(e.finished).format("YYYY-MM-DD HH:mm").toString():""}),Object(le.jsx)(uo,{children:t}),Object(le.jsx)(uo,{children:Object(le.jsx)(nu,{jobDocument:e})}),Object(le.jsx)(uo,{children:e.type}),Object(le.jsx)(uo,{children:e.priority})]})}function au({jobListDocument:e,count:t=0,page:n=0,rowsPerPage:o=10,onChangePage:a,onChangeRowsPerPage:s,onChangeOrder:r,orderBy:c,orderDirection:i}){const{job:l=[]}=e,j=[10,100,250];return j.includes(o)||j.push(o),Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"jobId"===c,direction:i,onClick:r("jobId"),children:"ID"})}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"user"===c,direction:i,onClick:r("user"),children:"User"})}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"startTime"===c,direction:i,onClick:r("startTime"),children:"Start"})}),Object(le.jsx)(uo,{children:"End"}),Object(le.jsx)(uo,{children:"Duration"}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"status"===c,direction:i,onClick:r("status"),children:"Status"})}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"type"===c,direction:i,onClick:r("type"),children:"Type"})}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"priority"===c,direction:i,onClick:r("priority"),children:"Priority"})})]})}),Object(le.jsx)(ho,{children:l.map((e=>Object(le.jsx)(ou,{jobDocument:e},e.jobId)))}),Object(le.jsx)(Ih,{children:Object(le.jsx)(po,{children:Object(le.jsx)(Dh,{count:t,page:n,rowsPerPage:o,onPageChange:a,onRowsPerPageChange:s,ActionsComponent:tt,rowsPerPageOptions:j})})})]})}function su({...e}){return void 0===e.jobListDocument?null:Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(au,{...e})})})}const ru=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"type",label:"Type",component:br,loadOptions:Or,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var cu=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:ru}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const iu="JOB_CREATE_FORM";var lu=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,initialValues:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Start Job"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(cu,{form:iu,onSubmit:zh,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Job Started"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Starting Job",messageColor:"secondary"})},onCancel:t,initialValues:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(iu),children:"Start"})]})]})}));const ju="JOB_FILTER_FORM",du="JOB_CREATE_DIALOG";class mu extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onChangeAutoRefresh=this.onChangeAutoRefresh.bind(this),this.state={jobListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderBy:void 0,orderDirection:void 0,autoRefresh:!1}}componentDidMount(){document.title="VidiCore Admin | Job",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(ju)}onChangeAutoRefresh(){const{autoRefresh:e}=this.state,t=!e;this.setState({autoRefresh:t}),!0===t&&void 0===this.timer?this.timer=setInterval((()=>this.onRefresh()),2500):!1===t&&void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}onSuccess(e){const t=e.data,{formValues:n={}}=this.props,{matrixParams:o={}}=n,{first:a=0,number:s=10}=o,{hits:r=0}=t,c=Math.ceil(r/s)-Math.ceil((r-a)/s);this.setState({count:r,rowsPerPage:s,page:c,jobListDocument:t})}async onChangePage({page:e}){const{formValues:t={},changeForm:n}=this.props,{matrixParams:o={}}=t,{number:a=10}=o;n(ju,"matrixParams.first",e*a),await n(ju,"matrixParams.number",a),this.onRefresh()}async onChangeRowsPerPage({target:{value:e}}={}){const{changeForm:t}=this.props;t(ju,"matrixParams.first",0),await t(ju,"matrixParams.number",e),this.onRefresh()}onChangeOrder(e){return async()=>{const{changeForm:t}=this.props,{orderDirection:n,orderBy:o}=this.state;let a,s,r="";e!==o?(s=e,a="desc",r=["".concat(e," ").concat(a)]):"desc"===n&&(s=e,a="asc",r=["".concat(e," ").concat(a)]),this.setState({orderBy:s,orderDirection:a}),await t(ju,"matrixParams.sort",r),this.onRefresh()}}render(){const{jobListDocument:e,count:t,page:n,rowsPerPage:o,orderBy:a,orderDirection:s,autoRefresh:r}=this.state,{history:c}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Job",helpTo:"/ref/job.html",onRefresh:this.onRefresh,code:e,codeModal:"JobListDocument",createModal:du,autoRefresh:r,onChangeAutoRefresh:this.onChangeAutoRefresh}),Object(le.jsx)(tu,{form:ju,onSuccess:this.onSuccess}),Object(le.jsx)(su,{jobListDocument:e,count:t,page:n,rowsPerPage:o,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:a,orderDirection:s}),Object(le.jsx)(lu,{dialogName:du,onSuccess:e=>c.push("/job/".concat(e.data.jobId))})]})}}var hu=Object(m.c)(Mo,Nh)(mu,ju);const uu=({jobDocument:e,priorityDialog:t,abortDialog:n,onOpen:o})=>{if(void 0===e)return null;const{status:a}=e;return Xh.includes(a)?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:t}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Change Priority"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:n}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Abort"})})]}):null};var bu=T((function({onOpen:e,priorityDialog:t,abortDialog:n,removeDialog:o,duplicateDialog:a,...s}){return Object(le.jsx)(Ae,{parentTitle:"Job",parentTo:"/job/",helpTo:"/ref/job.html",codeModal:"JobDocument",iconList:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(nu,{jobDocument:s.code}),Object(le.jsxs)(oi,{children:[Object(le.jsx)(uu,{jobDocument:s.code,priorityDialog:t,abortDialog:n,onOpen:e}),Object(le.jsx)(Xn.a,{onClick:()=>e({modalName:a}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Duplicate Job"})}),Object(le.jsx)(Xn.a,{onClick:()=>e({modalName:o}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete"})})]})]}),...s})}));function pu(e){if(e.startsWith("transcodeShapeDocument"))return"xml";if(e.startsWith("assetMapShapeDocument"))return"xml";if(e.endsWith("transcodePreset"))return"xml";if(e.match(/shapeDocument\d+$/g))return"xml";switch(e){case"item":case"itemId":return"itemId";case"fileId":return"fileIdList";case"sourceFileId":case"destinationFileId":case"originalFileId":return"fileId";case"fileIds":return"fileIdList";case"username":return"username";case"destinationStorageId":case"sourceStorageId":case"storageId":return"storageId";case"shapeDocument":case"result":case"jobDocument":case"jobStatusDocument":case"conformXML":case"metadata":case"importCompositionPlaylists":case"shapeListDocument":case"importAssetMap":case"importPackingList":return"xml";case"originalShapeIdsStruct":return"json";case"filePathMap":case"sourceUris":case"sourceFileIds":case"fileItemMapping":case"shapeIds":return"commaseparatedlist";default:return}}const Ou=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:e.total,value:e.unit,hideNoValue:!0,hover:!0})}),xu=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"step",value:e.step,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"attempts",value:e.attempts,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"status",value:e.status,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"timestamp",value:e.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"description",value:e.description,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{component:Ou,value:e.progress,hideNoValue:!0}),Object(le.jsx)(En,{value:e.subStep,component:({value:e})=>Object(le.jsx)(Dn,{title:sn()(e.timestamp).format("llll"),value:e.description,titleStartCase:!1}),hideNoValue:!0,hover:!0,dense:!0}),Object(le.jsx)(Dn,{title:"errorMessage",value:e.errorMessage,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"totalSubTasks",value:e.totalSubTasks,hideNoValue:!0,hover:!0}),Object(le.jsx)(En,{title:"subTask",titleKey:"step",value:Array.isArray(e.subTask)?e.subTask.sort(((e,t)=>t.step-e.step)):e.subTask,component:xu,hideNoValue:!0,hover:!0})]}),gu=({value:e={}})=>Object(le.jsx)(En,{arrayTitle:"Data",value:e.data,arrayKey:"key",component:({value:e})=>Object(le.jsx)(Dn,{title:e.key,value:e.value,titleStartCase:!1,variant:pu(e.key),hideCode:!0,hover:!0}),hideNoValue:!0,hover:!0,dense:!0}),fu=({value:e={}})=>Object(le.jsx)(Fn,{value:e.log,dense:!0,component:({value:e})=>Object(le.jsx)(En,{title:"Step",titleKey:"step",value:Array.isArray(e.task)?e.task.sort(((e,t)=>t.step-e.step)):e.task,component:xu,hideNoValue:!0,hover:!0,dense:!0})}),vu=({value:e={}})=>Object(le.jsx)(Fn,{title:"currentStep",value:e.currentStep,component:({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"description",value:e.description,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"number",value:e.number,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"status",value:e.status,hideNoValue:!0,hover:!0})]}),hideNoValue:!0,dense:!0}),yu=({value:e={}})=>Object(le.jsx)(En,{title:"Problem",titleKey:"id",value:e.problem,component:({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"type",value:e.type,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"data",value:e.data,variant:"json",hideNoValue:!0})]}),hideNoValue:!0,dense:!0}),Cu=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"jobId",value:e.jobId,hover:!0}),Object(le.jsx)(Dn,{title:"user",value:e.user,variant:"username",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"started",value:e.started,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"finished",value:e.finished,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"status",value:e.status,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"type",value:e.type,variant:"jobtype",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"priority",value:e.priority,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"totalSteps",value:e.totalSteps,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"waiting",value:e.waiting,component:({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"resourceId",value:e.resourceId,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"resourceType",value:e.resourceType,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"requirement",value:e.requirement,hideNoValue:!0,hover:!0})]}),hideNoValue:!0,dense:!0})]}),Su=({jobDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Cu,value:e})}),Iu=({jobDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:gu,value:e})}),Ru=({jobDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:fu,value:e})}),Du=({jobDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:vu,value:e})}),Fu=({jobProblemListDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:yu,value:e})});function Tu({jobProblemListDocument:e,...t}){return void 0===t.jobDocument?null:Object(le.jsxs)(ii,{children:[Object(le.jsx)(_e.a,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Su,{...t})})}),e?Object(le.jsx)(_e.a,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Fu,{jobProblemListDocument:e})})}):null,Object(le.jsx)(_e.a,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Du,{...t})})}),Object(le.jsx)(_e.a,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Iu,{...t})})}),Object(le.jsx)(_e.a,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Ru,{...t})})})]})}const Eu=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]});var Pu=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Eu}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Nu="JOB_PRIORITY_FORM";var ku=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,jobDocument:s}){if(void 0===s)return null;const{jobId:r,priority:c}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Change Job ".concat(r," Priority")}),Object(le.jsx)(Lo,{children:Object(le.jsx)(Pu,{form:Nu,onSubmit:qh,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Job Status Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Updating Job Status",messageColor:"secondary"})},onCancel:t,jobId:r,initialValues:{queryParams:{priority:c}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Nu),children:"Save"})]})]})}));const Mu="JOB_DUPLICATE_FORM";var Au=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,jobDocument:s}){if(void 0===s)return null;const{jobId:r,priority:c}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Duplicate Job ".concat(r)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(Pu,{form:Mu,onSubmit:Gh,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Job Duplicated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Duplicating Job",messageColor:"secondary"})},onCancel:t,jobId:r,initialValues:{queryParams:{priority:c}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Mu),children:"Start"})]})]})}));const Lu=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"reason",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"cleanup",component:en}),label:"Cleanup"})]});var Wu=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Lu}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const _u="JOB_ABORT_FORM";var wu=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,jobDocument:s}){if(void 0===s)return null;const{jobId:r}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Abort Job ".concat(r)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(Wu,{form:_u,onSubmit:Hh,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Job Abort Requested"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Updating Aborting Job",messageColor:"secondary"})},onCancel:t,jobId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>a(_u),children:"Abort"})]})]})}));var Vu=ue((function({open:e,onClose:t,openSnackBar:n,jobDocument:o,onSuccess:a}){if(void 0===o)return null;const{jobId:s}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Job ".concat(s,"?")}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{const e={id:s};W.job.deleteJob({queryParams:e}).then((()=>{const e="Job ".concat(s," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Job",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const Uu="JOB_PRIORITY_DIALOG",Bu="JOB_DUPLICATE_DIALOG",qu="JOB_ABORT_DIALOG",Gu="JOB_REMOVE_DIALOG";class Hu extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onAutoRefresh=this.onAutoRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchProblem=this.onFetchProblem.bind(this),this.onChangeAutoRefresh=this.onChangeAutoRefresh.bind(this),this.state={jobDocument:void 0,jobProblemListDocument:void 0,autoRefresh:!0}}componentDidMount(){this.onRefresh(),this.timer=setInterval((()=>this.onAutoRefresh()),2500);const{jobId:e}=this.props;document.title="VidiCore Admin | Job | ".concat(e)}UNSAFE_componentWillReceiveProps({jobId:e}){const{jobId:t}=this.props;t!==e&&(this.onFetch(e),clearInterval(this.timer),this.timer=setInterval((()=>this.onAutoRefresh()),2500),this.setState({autoRefresh:!0}),document.title="VidiCore Admin | Job | ".concat(e))}componentWillUnmount(){clearInterval(this.timer),this.timer=void 0}onRefresh(){const{jobId:e}=this.props;this.onFetch(e)}onAutoRefresh(){const{jobDocument:e={}}=this.state,{status:t}=e;return void 0===t||this.timer&&!Xh.includes(t)?(clearInterval(this.timer),this.timer=void 0,void this.setState({autoRefresh:!1})):void this.onRefresh()}onFetch(e){const t={metadata:!0};try{W.job.getJob({jobId:e,queryParams:t}).then((t=>{this.setState({jobDocument:t.data});const{status:n}=t.data;Yh.includes(n)&&this.onFetchProblem(e)})).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Job",messageColor:"secondary"})}onChangeAutoRefresh(){const{autoRefresh:e}=this.state,t=!e;this.setState({autoRefresh:t}),!0===t&&void 0===this.timer?this.timer=setInterval((()=>this.onAutoRefresh()),2500):!1===t&&void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}onFetchProblem(e){try{W.job.listJob({path:"/API/job/".concat(e,"/problem")}).then((e=>this.setState({jobProblemListDocument:e.data})))}catch(t){this.onRefreshError(t)}}render(){const{jobDocument:e,jobProblemListDocument:t,autoRefresh:n}=this.state,{jobId:o,history:a}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(bu,{title:o,onRefresh:this.onRefresh,autoRefresh:n,onChangeAutoRefresh:this.onChangeAutoRefresh,code:e,priorityDialog:Uu,duplicateDialog:Bu,abortDialog:qu,removeDialog:Gu}),Object(le.jsx)(Tu,{jobDocument:e,jobProblemListDocument:t}),Object(le.jsx)(ku,{dialogName:Uu,onSuccess:this.onRefresh,jobDocument:e}),Object(le.jsx)(Au,{dialogName:Bu,onSuccess:e=>a.push("/job/".concat(e.data.jobId)),jobDocument:e}),Object(le.jsx)(wu,{dialogName:qu,onSuccess:this.onRefresh,jobDocument:e}),Object(le.jsx)(Vu,{dialogName:Gu,onSuccess:()=>a.push("/job/"),jobDocument:e})]})}}var zu=ue(Hu);const Ju="JOB_CREATE_FORM";var Ku=Object(m.c)(he,Mo)((function({openSnackBar:e,submitForm:t,initialValues:n,history:o}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Start Job",helpTo:"/ref/job.html"}),Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(cu,{form:Ju,onSubmit:zh,onSubmitSuccess:t=>{e({messageContent:"Job Started"}),o.push("/job/".concat(t.data.jobId))},onSubmitFail:()=>{e({messageContent:"Error Starting Job",messageColor:"secondary"})},initialValues:n})}),Object(le.jsx)(It.a,{}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>t(Ju),children:"Start"})})]})]})}));function Yu({exportLocationDocument:e={}}){return Object(le.jsx)(at,{to:"/export-location/".concat(e.name,"/"),hover:!0,children:Object(le.jsx)(uo,{children:e.name})})}function Xu({exportLocationListDocument:e=[]}){const{exportLocation:t=[]}=e;return Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsx)(po,{children:Object(le.jsx)(uo,{children:"Name"})})}),Object(le.jsx)(ho,{children:t.map((e=>Object(le.jsx)(Yu,{exportLocationDocument:e},e.name)))})]})}function $u({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Xu,{...e})})})}const Qu=zj()(W.projection.listProjection,500,{leading:!0,trailing:!1}),Zu=e=>new Promise(((t,n)=>{Qu().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{uri:o=[]}=n;let a=o;e&&"*"!==e&&(a=o.filter((t=>t.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e,value:e})));t(s)})).catch((e=>{n(e)}))}));const eb=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"name",component:Io,fullWidth:!0}),Object(le.jsx)($o,{name:"uriList",label:"URI",component:As}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"script",label:"Script",component:Eo,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})]});var tb=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"exportLocationDocument",component:eb}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));function nb(e,t,n){const{exportLocationDocument:o}=e,a=n.locationName||o.name;return W.exportlocation.updateExportLocation({locationName:a,exportLocationDocument:o}).then((e=>({exportLocationDocument:e.data,locationName:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var ob=ue((function({open:e,onClose:t,openSnackBar:n,history:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Export Location"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(zc,{FormComponent:tb,documentName:"exportLocationDocument",onSubmit:nb,onSubmitSuccess:e=>{const{locationName:a}=e,s="Export Location ".concat(a," Created");n({messageContent:s}),o.push("/export-location/".concat(a,"/")),t()},onSubmitFail:()=>{n({messageContent:"Error Creating Export Location",messageColor:"secondary"})},onCancel:t})})]})}));function ab(e){return Object(le.jsx)(Ae,{title:"Export Location",helpTo:"/ref/export-location.html",...e})}const sb="EXPORTLOCATION_CREATE_MODAL";class rb extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={exportLocationListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Export Location"}onRefresh(){const{openSnackBar:e}=this.props;try{W.exportlocation.listExportLocation().then((e=>this.setState({exportLocationListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Export Location List",messageColor:"secondary"})}}render(){const{exportLocationListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ab,{createModal:sb,onRefresh:this.onRefresh,code:e,codeModal:"ExportLocationListDocument"}),e&&Object(le.jsx)($u,{exportLocationListDocument:e,onRefresh:this.onRefresh}),Object(le.jsx)(ob,{dialogName:sb})]})}}var cb=he(rb);function ib(e){return Object(le.jsx)(Ae,{parentTitle:"Export Location",parentTo:"/export-location/",title:e.locationName,helpTo:"/ref/export-location.html",...e})}const lb=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0}),Object(le.jsx)(Dn,{title:"uriList",value:e.uriList,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"projection",value:e.projection,hover:!0}),Object(le.jsx)(Dn,{title:"tag",value:e.tag,variant:"list",hover:!0}),Object(le.jsx)(Dn,{title:"Script",value:e.script,variant:"code"})]});function jb({exportLocationDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:lb,value:e})})}var db=ue((function({exportLocationDocument:e,locationName:t,openSnackBar:n,onRefresh:o}){const a={locationName:t},s={exportLocationDocument:e},r={exportLocationDocument:e};return Object(le.jsx)(Ft,{formName:"EDIT_EXPORTLOCATION_FORM",onSubmitSuccess:()=>{n({messageContent:"Export Location Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Export Location",messageColor:"secondary"})},onSubmit:nb,formProps:a,displayProps:s,initialValues:r,displayComponent:jb,formComponent:tb})}));function mb(e){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(we,{children:Object(le.jsx)(db,{...e})})})}var hb=ue((function({open:e,onClose:t,history:n,openSnackBar:o,locationName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Export Location "'.concat(a,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.exportlocation.removeExportLocation({locationName:a}).then((()=>{const e="Export Location ".concat(a," Removed");o({messageContent:e}),n.push("/export-location/"),t(),s&&s()})).catch((()=>{o({messageContent:"Error Removing Export Location",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const ub="EXPORTLOCATION_REMOVE_MODAL";class bb extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={exportLocationDocument:void 0}}componentDidMount(){const{locationName:e}=this.props;document.title="VidiCore Admin | Export Location | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,locationName:t}=this.props;try{W.exportlocation.getExportLocation({locationName:t}).then((e=>this.setState({exportLocationDocument:Fa()(e.data,{$unset:["uri"]})})))}catch(n){e({messageContent:"Error Getting Export Location",messageColor:"secondary"})}}render(){const{locationName:e}=this.props,{exportLocationDocument:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ib,{removeModal:ub,onRefresh:this.onRefresh,locationName:e,code:t,codeModal:"ExportLocationDocument"}),t&&Object(le.jsx)(mb,{exportLocationDocument:t,onRefresh:this.onRefresh}),Object(le.jsx)(hb,{dialogName:ub,locationName:e})]})}}var pb=he(bb);var Ob=({selfTestDocument:e={},loading:t=!1,...n})=>{if(!0===t)return Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Zr,{}),label:"Loading",...n});const{status:o,took:a}=e;return"ok"===o?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Qr,{}),label:"Online".concat(a?" (".concat(a,")"):""),...n}):"warning"===o?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(tc,{}),label:"Warning".concat(a?" (".concat(a,")"):""),...n}):Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:"Failed".concat(a?" (".concat(a,")"):""),...n})};function xb(e){return Object(le.jsx)(Ae,{title:"Self Test",helpTo:"/ref/self-test.html",iconList:Object(le.jsx)(Ob,{selfTestDocument:e.code}),...e})}const gb=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"description",value:e.description,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"status",value:e.status,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"took",value:e.took,hover:!0,hideNoValue:!0}),Object(le.jsx)(ta,{title:"message",value:e.message,hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"test",value:e.test,component:gb,titleKey:"name",hideNoValue:!0})]});function fb({selfTestDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:gb,value:e})})}function vb(e){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:ot()(e.selfTestDocument.name)}),action:Object(le.jsx)(Ob,{selfTestDocument:e.selfTestDocument})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(fb,{...e})})]})})}function yb({selfTestDocument:e}){const{test:t=[]}=e;return t.map((e=>Object(le.jsx)(vb,{selfTestDocument:e},e.name)))}class Cb extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={selfTestDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Self Test"}onRefresh(){try{W.selftest.listSelfTest().then((e=>this.setState({selfTestDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Getting Self Test",messageColor:"secondary"})}render(){const{selfTestDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(xb,{onRefresh:this.onRefresh,code:e,codeModal:"SelfTestDocument"}),e&&Object(le.jsx)(yb,{selfTestDocument:e})]})}}var Sb=he(Cb);function Ib(e){return Object(le.jsx)(Ae,{title:"Group",helpTo:"/ref/group.html",...e})}function Rb({groupDocument:e={},onRemove:t}){return Object(le.jsxs)(po,{to:"/group/".concat(e.groupName,"/"),hover:!0,children:[Object(le.jsx)(uo,{children:Object(le.jsx)(un,{to:"/group/".concat(e.groupName,"/"),children:e.groupName})}),Object(le.jsx)(uo,{children:e.role&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{disableOnClick:!0,children:t&&Object(le.jsx)(w.a,{onClick:()=>t({groupName:e.groupName}),children:Object(le.jsx)(ee.a,{})})})]})}var Db=ue((function({open:e,onClose:t,openSnackBar:n,groupName:o,userName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove "'.concat(a,'" From "').concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.group.removeGroupUser({groupName:o,userName:a}).then((()=>{const e="".concat(a," Removed From ").concat(o);n({messageContent:e}),t(),s&&s()})).catch((()=>{n({messageContent:"Error Removing User From Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var Fb=ue((function({open:e,onClose:t,openSnackBar:n,parentGroupName:o,groupName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Group "'.concat(a,'" From ').concat(o,"?")}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.group.removeGroupChildren({groupName:o,childGroupName:a}).then((()=>{const e="Group ".concat(a," Removed From ").concat(o);n({messageContent:e}),t(),s&&s()})).catch((()=>{n({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var Tb=ue((function({open:e,onClose:t,openSnackBar:n,groupName:o,childGroupName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Group "'.concat(a,'" From ').concat(o,"?")}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.group.removeGroupChildren({groupName:o,childGroupName:a}).then((()=>{const e="Group ".concat(a," Removed From ").concat(o);n({messageContent:e}),t(),s&&s()})).catch((()=>{n({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const Eb="REMOVE_GROUP_DIALOG";var Pb=xo((function({groupListDocument:e={},userName:t,parentGroupName:n,childGroupName:o,onSuccess:a,dialogProps:s,onOpen:r,showRemove:c,count:i,page:l,rowsPerPage:j,onChangePage:d,onChangeRowsPerPage:m}){const{group:h=[]}=e,u=[100,250,500];return u.includes(j)||u.push(j),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Group Name"}),Object(le.jsx)(uo,{children:"Role"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:h.map((e=>Object(le.jsx)(Rb,{groupDocument:e,onRemove:c?r(Eb):void 0},e.groupName)))}),i&&Object(le.jsx)(Ih,{children:Object(le.jsx)(po,{children:Object(le.jsx)(Dh,{count:i,page:l,rowsPerPage:j,onPageChange:d,onRowsPerPageChange:m,ActionsComponent:tt,rowsPerPageOptions:u})})})]}),t&&Object(le.jsx)(Db,{...s,dialogName:Eb,userName:t,onSuccess:a}),n&&Object(le.jsx)(Fb,{...s,dialogName:Eb,parentGroupName:n,onSuccess:a}),o&&Object(le.jsx)(Tb,{...s,dialogName:Eb,childGroupName:o,onSuccess:a})]})}));function Nb({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Pb,{...e})})})}const kb=zj()(W.group.listGroup,500,{leading:!0,trailing:!1}),Mb=e=>new Promise(((t,n)=>{kb().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{group:o=[]}=n;let a=o;e&&"*"!==e&&(a=o.filter((t=>t.groupName.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e.groupName,value:e.groupName})));t(s)})).catch((e=>{n(e)}))})),Ab=e=>{if(e)return e.value};function Lb(e){return Object(le.jsx)($t.a,{component:br,loadOptions:Mb,cacheOptions:!0,parse:Ab,...e})}const Wb=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"groupName",label:"Group",component:br,loadOptions:Mb,cacheOptions:!0,isClearable:!0})}),_b=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"userName",label:"User",component:br,loadOptions:ph,cacheOptions:!0,isClearable:!0})}),wb=()=>Object(le.jsx)(Yt,{name:"group",label:"Group",component:Wb}),Vb=()=>Object(le.jsx)(Yt,{name:"user",component:_b}),Ub=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"groupName",component:Io,fullWidth:!0}),Object(le.jsx)(Zt,{name:"description",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"role",component:en,disabled:!0}),label:"Role"}),Object(le.jsx)(Xt,{name:"metadata",component:xi}),Object(le.jsx)(Xt,{name:"parentGroupList",label:"Parent Groups",component:wb}),Object(le.jsx)(Xt,{name:"childGroupList",label:"Child Groups",component:wb}),Object(le.jsx)(Xt,{name:"userList",label:"Users",component:Vb})]}),Bb=()=>Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"clear",component:en}),label:"Clear Existing Users/Groups"}),qb=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"userList",component:Vb})}),Gb=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"groupDocument",component:qb}),Object(le.jsx)(Xt,{name:"queryParams",component:Bb}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Hb=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"childGroupList",component:wb})}),zb=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"groupDocument",component:Hb}),Object(le.jsx)(Xt,{name:"queryParams",component:Bb}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Jb=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"parentGroupList",component:wb})}),Kb=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"groupDocument",component:Jb}),Object(le.jsx)(Xt,{name:"queryParams",component:Bb}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));var Yb=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"groupDocument",component:Ub}),Object(le.jsx)(Xt,{name:"queryParams",component:Bb}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function Xb(e,t,n){const{queryParams:o,groupDocument:a}=e,s=n.groupName||e.groupDocument.groupName;return W.group.updateGroup({groupName:s,groupDocument:a,queryParams:o}).then((()=>({data:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var $b=ue((function({open:e,onClose:t,onSuccess:n,openSnackBar:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Group"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:Yb,documentName:"groupDocument",onSubmit:Xb,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Group Created"}),t(),n&&n(e,a,s)},onSubmitFail:()=>{o({messageContent:"Error Creating Group",messageColor:"secondary"})},onCancel:t})})]})}));const Qb="GROUP_CREATE_MODAL";class Zb extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={groupListDocument:void 0,page:0,rowsPerPage:100}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Group"}onRefresh(){const{page:e,rowsPerPage:t}=this.state,n={number:t,first:t*e+1};try{W.group.listGroup({queryParams:n}).then((e=>this.setState({groupListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Group List",messageColor:"secondary"})}async onChangeRowsPerPage({target:{value:e}}={}){await this.setState({first:0,rowsPerPage:e}),this.onRefresh()}async onChangePage({page:e}){const{rowsPerPage:t}=this.state,n=e*t+1;await this.setState({first:n,page:e}),this.onRefresh()}render(){const{groupListDocument:e,first:t,rowsPerPage:n,page:o}=this.state,{history:a}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ib,{createModal:Qb,onRefresh:this.onRefresh,code:e,codeModal:"GroupListDocument"}),e&&Object(le.jsx)(Nb,{groupListDocument:e,onRefresh:this.onRefresh,first:t,rowsPerPage:n,count:e.hits,onChangePage:this.onChangePage,page:o,onChangeRowsPerPage:this.onChangeRowsPerPage}),Object(le.jsx)($b,{dialogName:Qb,onSuccess:e=>a.push("/group/".concat(e.data.groupName))})]})}}var ep=he(Zb);function tp({groupName:e,onOpen:t,onEnable:n,onDisable:o,realNameModal:a,tokenModal:s,passwordModal:r,...c}){return Object(le.jsx)(Ae,{helpTo:"/ref/group.html",title:e,parentTitle:"Group",parentTo:"/group/",...c})}const np=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"groupName",value:e.groupName,hover:!0}),Object(le.jsx)(Dn,{title:"description",value:e.description,hover:!0}),Object(le.jsx)(Dn,{title:"role",value:e.role,variant:"boolean",hover:!0})]}),op=({groupDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:np,value:e})});function ap({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(op,{...e})})})}const sp="GROUP_CHILD_FORM";var rp=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,groupName:s,groupDocument:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Groups To ".concat(s)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(zb,{form:sp,onSubmit:Xb,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Groups Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})},onCancel:t,groupName:s,initialValues:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(sp),children:"Save"})]})]})}));const cp="ADD_GROUP_CHILD";var ip=E((function({groupName:e,onSuccess:t,groupDocument:n,onOpen:o}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Child Groups"}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Add",children:Object(le.jsx)(w.a,{onClick:()=>o({modalName:cp}),children:Object(le.jsx)(q.a,{})})})})})}),Object(le.jsx)(Pb,{groupListDocument:n.childGroupList,parentGroupName:e,onSuccess:t,showRemove:!0}),Object(le.jsx)(rp,{dialogName:cp,groupName:e,groupDocument:n,onSuccess:t})]})}));function lp({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(ip,{...e})})})}const jp="GROUP_PARENT_FORM";var dp=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,groupName:s,groupDocument:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Add "'.concat(s,'" To Groups')}),Object(le.jsx)(Lo,{children:Object(le.jsx)(Kb,{form:jp,onSubmit:Xb,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Groups Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})},onCancel:t,groupName:s,initialValues:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(jp),children:"Save"})]})]})}));const mp="ADD_GROUP_PARENT";var hp=E((function({groupName:e,onSuccess:t,groupDocument:n,onOpen:o}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Parent Groups"}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Add",children:Object(le.jsx)(w.a,{onClick:()=>o({modalName:mp}),children:Object(le.jsx)(q.a,{})})})})})}),Object(le.jsx)(Pb,{groupListDocument:n.parentGroupList,childGroupName:e,onSuccess:t,showRemove:!0}),Object(le.jsx)(dp,{dialogName:mp,groupName:e,groupDocument:n,onSuccess:t})]})}));function up({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(hp,{...e})})})}function bp({userDocument:e={},onRemove:t}){return Object(le.jsxs)(at,{to:"/user/".concat(e.userName,"/"),hover:!0,children:[Object(le.jsx)(uo,{children:e.userName}),Object(le.jsx)(uo,{children:e.realName}),Object(le.jsx)(uo,{children:e.disabled&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{disableOnClick:!0,children:t&&Object(le.jsx)(w.a,{onClick:()=>t({userName:e.userName}),children:Object(le.jsx)(ee.a,{})})})]})}const pp="REMOVE_USER_DIALOG";var Op=xo((function({userListDocument:e={},count:t,page:n,rowsPerPage:o,onChangePage:a,onChangeRowsPerPage:s,groupName:r,onSuccess:c,onOpen:i,showRemove:l,dialogProps:j}){const{user:d=[]}=e,m=[100,250,500];return m.includes(o)||m.push(o),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Username"}),Object(le.jsx)(uo,{children:"Real Name"}),Object(le.jsx)(uo,{children:"Disabled"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:d.map((e=>Object(le.jsx)(bp,{userDocument:e,onRemove:l?i(pp):void 0},e.userName)))}),t&&Object(le.jsx)(Ih,{children:Object(le.jsx)(po,{children:Object(le.jsx)(Dh,{count:t,page:n,rowsPerPage:o,onPageChange:a,onRowsPerPageChange:s,ActionsComponent:tt,rowsPerPageOptions:m})})})]}),r&&Object(le.jsx)(Db,{...j,dialogName:pp,groupName:r,onSuccess:c})]})}));const xp="GROUP_USER_FORM";var gp=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,groupName:s,groupDocument:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Users To ".concat(s)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(Gb,{form:xp,onSubmit:Xb,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Users Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Adding Users",messageColor:"secondary"})},onCancel:t,groupName:s,initialValues:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(xp),children:"Save"})]})]})}));const fp="ADD_GROUP_USER";var vp=E((function({groupName:e,onSuccess:t,groupDocument:n,onOpen:o}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Users"}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Add",children:Object(le.jsx)(w.a,{onClick:()=>o({modalName:fp}),children:Object(le.jsx)(q.a,{})})})})})}),Object(le.jsx)(Op,{userListDocument:n.userList,groupName:e,onSuccess:t,showRemove:!0}),Object(le.jsx)(gp,{dialogName:fp,groupName:e,groupDocument:n,onSuccess:t})]})}));function yp({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(vp,{...e})})})}var Cp=ue((function({open:e,onClose:t,openSnackBar:n,groupName:o,onSuccess:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Group "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.group.removeGroup({groupName:o}).then((()=>{const e="Group ".concat(o," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));function Sp(e){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(we,{children:Object(le.jsx)(Fi,{...e})})})}const Ip="GROUP_REMOVE_DIALOG";class Rp extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.state={groupDocument:void 0}}componentDidMount(){this.onRefresh();const{groupName:e}=this.props;document.title="VidiCore Admin | Group | ".concat(e)}UNSAFE_componentWillReceiveProps({groupName:e}){const{groupName:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Group | ".concat(e))}onRefresh(){const{groupName:e}=this.props;this.onFetch(e)}onFetch(e){try{W.group.getGroup({groupName:e}).then((e=>this.setState({groupDocument:e.data}))).catch((e=>this.onFetchError(e)))}catch(t){this.onFetchError(t)}}onFetchError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Group",messageColor:"secondary"})}render(){const{groupDocument:e}=this.state,{groupName:t,history:n}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(tp,{onRefresh:this.onRefresh,code:e,codeModal:"GroupDocument",groupName:t,removeModal:Ip}),e&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ap,{groupDocument:e}),Object(le.jsx)(lp,{groupDocument:e,onSuccess:this.onRefresh,groupName:t}),Object(le.jsx)(up,{groupDocument:e,onSuccess:this.onRefresh,groupName:t}),Object(le.jsx)(yp,{groupDocument:e,onSuccess:this.onRefresh,groupName:t}),Object(le.jsx)(Sp,{simpleMetadataDocument:e.metadata,onSuccess:this.onRefresh,entityType:"group",entityId:t})]}),Object(le.jsx)(Cp,{dialogName:Ip,groupName:t,onSuccess:()=>n.push("/group/")})]})}}var Dp=ue(Rp);function Fp(e){return Object(le.jsx)(Ae,{title:"User",helpTo:"/ref/user.html",...e})}function Tp({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Op,{...e})})})}const Ep=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"groupName",label:"Group",component:br,loadOptions:Mb,cacheOptions:!0,isClearable:!0})}),Pp=()=>Object(le.jsx)(Yt,{name:"group",component:Ep}),Np=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"userName",component:Io,fullWidth:!0}),Object(le.jsx)(Zt,{name:"realName",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"alias",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"password",component:_t,type:"password",fullWidth:!0}),Object(le.jsx)(Zt,{name:"salt",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"groupList",component:Pp}),Object(le.jsx)(Xt,{name:"metadata",component:xi}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"disabled",component:en}),label:"Disabled"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"remove",component:en}),label:"remove"})]}),kp=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"passwordType",children:"Password Type"}),Object(le.jsxs)(Zt,{name:"passwordType",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"md5",children:"MD5"}),Object(le.jsx)(Xn.a,{value:"raw",children:"Raw"})]})]});var Mp=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:kp}),Object(le.jsx)(Xt,{name:"userDocument",component:Np}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function Ap(e){const{userDocument:t,queryParams:n}=e;return W.user.createUser({userDocument:t,queryParams:n}).then((()=>({data:t}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Lp(e,t,n){const{queryParams:o}=e,a=n.userName||e.userName;return W.user.disableUser({userName:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Wp(e,t,n){const o=n.userName||e.userName,{userDocument:a,queryParams:s}=e;return W.user.updateUser({userName:o,userDocument:a,queryParams:s}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function _p(e,t,n){const o=n.userName||e.userName,{password:a,queryParams:s}=e;return W.user.updateUserPassword({userName:o,password:a,queryParams:s}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function wp(e,t,n){const{headers:o={},queryParams:a}=e,s=n.runAs||e.runAs||o.runAs;return W.user.getToken({queryParams:a,headers:{runAs:s,...o}}).then((e=>({...e,runAs:s}))).catch((e=>{let t=e.message;if(e.response){const{data:n,statusText:o}=e.response;t=n?JSON.stringify(n,((e,t)=>null===t?void 0:t)):o}throw new jt.a({_error:t})}))}function Vp(e,t,n){const{headers:o={},queryParams:a,baseUrl:s,accessKey:r,secretKey:c}=e,{status:i}=n,{runAs:l,token:j,...d}=o;if(r&&c&&(d.username=r,d.password=c),j)return function(e,t,n){const{headers:o={}}=e,{status:a}=n,{runAs:s,token:r}=o;return W.user.whoAmI({headers:{Authorization:"token ".concat(r)}}).then((({data:e})=>({userName:e,runAs:s,data:r}))).catch((e=>{let t=e.message;if(e.response){const{data:n,statusText:o}=e.response;t=n?JSON.stringify(n,((e,t)=>null===t?void 0:t)):o}if("ok"===a&&"Network Error"===t)throw new jt.a({_error:"Incorrect Token"});throw new jt.a({_error:t})}))}(e,0,n);const m=n.userName||e.userName||o.username;return W.user.getUserToken({username:m,queryParams:a,headers:d}).then((e=>({...e,userName:m,runAs:l,baseUrl:s}))).catch((e=>{let t=e.message;if(e.response){const{data:n,statusText:o}=e.response;t=n?JSON.stringify(n,((e,t)=>null===t?void 0:t)):t||o}if("ok"===i&&"Network Error"===t)throw new jt.a({_error:"Incorrect Credentials"});throw new jt.a({_error:t})}))}function Up(e,t,n){const{groupListDocument:o,queryParams:a}=e,s=n.userName||e.userName;return W.user.updateUserGroup({userName:s,groupListDocument:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Bp(e,t,n){const{realName:o}=e,a=n.userName||e.userName;return W.user.updateUserRealName({userName:a,realName:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function qp(e,t,n){const{alias:o}=e,a=n.userName||e.userName;return W.user.createAlias({userName:a,alias:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Gp(e,t,n){const{queryParams:o}=e,a=n.userName||e.userName;return W.user.createKey({userName:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var Hp=ue((function({open:e,onClose:t,onSuccess:n,openSnackBar:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New User"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:Mp,documentName:"userDocument",onSubmit:Ap,onSubmitSuccess:(e,a,s)=>{o({messageContent:"User Created"}),t(),n&&n(e,a,s)},onSubmitFail:()=>{o({messageContent:"Error Creating User",messageColor:"secondary"})},onCancel:t,initialValues:{queryParams:{passwordType:"raw"}}})})]})}));const zp="USER_CREATE_MODAL";class Jp extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={userListDocument:void 0,page:0,rowsPerPage:100}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | User"}onRefresh(){const{page:e,rowsPerPage:t}=this.state,n={number:t,first:t*e+1};try{W.user.listUser({queryParams:n}).then((e=>this.setState({userListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading User List",messageColor:"secondary"})}async onChangeRowsPerPage({target:{value:e}}={}){await this.setState({first:0,rowsPerPage:e}),this.onRefresh()}async onChangePage({page:e}){const{rowsPerPage:t}=this.state,n=e*t+1;await this.setState({first:n,page:e}),this.onRefresh()}render(){const{userListDocument:e,first:t,rowsPerPage:n,page:o}=this.state,{history:a}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fp,{createModal:zp,onRefresh:this.onRefresh,code:e,codeModal:"UserListDocument"}),e&&Object(le.jsx)(Tp,{userListDocument:e,onRefresh:this.onRefresh,first:t,rowsPerPage:n,count:e.hits,onChangePage:this.onChangePage,page:o,onChangeRowsPerPage:this.onChangeRowsPerPage}),Object(le.jsx)(Hp,{dialogName:zp,onSuccess:e=>a.push("/user/".concat(e.data.userName))})]})}}var Kp=he(Jp),Yp=n(442),Xp=n.n(Yp);const $p=({userDocument:e})=>{if(void 0===e)return null;const{disabled:t}=e;return!0===t?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:"Disabled"}):null};var Qp=E((function({userName:e,onOpen:t,onEnable:n,realNameModal:o,aliasModal:a,tokenModal:s,passwordModal:r,disableModal:c,userNameModal:i,history:l,...j}){const{code:d}=j;return Object(le.jsx)(Ae,{helpTo:"/ref/user.html",title:e,parentTitle:"User",parentTo:"/user/",iconList:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Q.a,{title:"Access Keys",children:Object(le.jsx)(w.a,{onClick:()=>l.push("/user/".concat(e,"/key")),children:Object(le.jsx)(Xp.a,{})})}),Object(le.jsx)($p,{userDocument:d}),Object(le.jsxs)(oi,{children:["admin"!==e&&Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:i}),children:Object(le.jsx)(X.a,{children:"Change Username"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:r}),children:Object(le.jsx)(X.a,{children:"Change Password"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:o}),children:Object(le.jsx)(X.a,{children:"Change Real Name"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:a}),children:Object(le.jsx)(X.a,{children:"Add Alias"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:s}),children:Object(le.jsx)(X.a,{children:"Generate Token"})}),"admin"!==e&&!0===(null===d||void 0===d?void 0:d.disabled)&&Object(le.jsx)(Xn.a,{onClick:n,children:Object(le.jsx)(X.a,{children:"Enable User"})}),"admin"!==e&&Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:c}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Disable/Remove User"})})]})]}),...j})}));const Zp=({value:e={},onDeleteAlias:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"userName",value:e.userName,hover:!0}),Object(le.jsx)(Dn,{title:"realName",value:e.realName,hover:!0}),Object(le.jsx)(Dn,{title:"alias",value:e.alias,variant:"list",hideNoValue:!0,hover:!0,onDelete:t}),Object(le.jsx)(Dn,{title:"id",value:e.id,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"loc",hideNoValue:!0,value:e.loc,hover:!0}),Object(le.jsx)(Dn,{title:"password",value:e.password,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"salt",value:e.salt,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"origin",value:e.origin,hideNoValue:!0,hover:!0})]}),eO=({userDocument:e,onDeleteAlias:t})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:Zp,value:e,onDeleteAlias:t})});function tO({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(eO,{...e})})})}const nO=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"groupName",label:"Group",component:br,loadOptions:Mb,cacheOptions:!0,isClearable:!0})}),oO=()=>Object(le.jsx)(Yt,{name:"group",component:nO}),aO=()=>Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"move",component:en}),label:"Move All Groups"});var sO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:aO}),Object(le.jsx)(Xt,{name:"groupListDocument",component:oO}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const rO="USER_GROUP_FORM";var cO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,userName:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add User To Groups"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(sO,{form:rO,onSubmit:Up,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Groups Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Adding Groups",messageColor:"secondary"})},onCancel:t,userName:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(rO),children:"Save"})]})]})}));const iO="ADD_USER_GROUP";var lO=E((function({userName:e,onSuccess:t,groupListDocument:n,onOpen:o}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Groups"}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Add",children:Object(le.jsx)(w.a,{onClick:()=>o({modalName:iO}),children:Object(le.jsx)(q.a,{})})})})})}),Object(le.jsx)(Pb,{groupListDocument:n,userName:e,onSuccess:t,showRemove:!0}),Object(le.jsx)(cO,{dialogName:iO,userName:e,onSuccess:t})]})}));function jO({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(lO,{...e})})})}const dO=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Password Type"}),Object(le.jsxs)(Zt,{name:"type",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"md5",children:"MD5"}),Object(le.jsx)(Xn.a,{value:"raw",children:"Raw"})]})]});var mO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"password",component:_t,type:"password",fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:dO}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const hO="USER_PASSWORD_FORM";var uO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,userName:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Change Password"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(mO,{form:hO,onSubmit:_p,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Password Changed"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Changing Password",messageColor:"secondary"})},onCancel:t,userName:s,initialValues:{queryParams:{type:"raw"}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(hO),children:"Change"})]})]})}));const bO=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"seconds",label:"Duration (Seconds)",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"autoRefresh",component:en}),label:"Auto Refresh"})]});var pO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:bO}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const OO="USER_TOKEN_FORM";var xO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,userName:s,userToken:r}){return Object(le.jsx)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:r?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ve.a,{children:"Current Token"}),Object(le.jsx)(Lo,{children:r}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>n({data:void 0}),children:"Generate New"})]})]}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ve.a,{children:"Generate Token"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(pO,{form:OO,onSubmit:wp,onSubmitSuccess:(e,t,a)=>{o({messageContent:"New Token Generated"}),n&&n(e,t,a)},onSubmitFail:()=>{o({messageContent:"Error Generating Token",messageColor:"secondary"})},onCancel:t,runAs:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(OO),children:"Generate"})]})]})})}));var gO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"realName",component:_t,fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const fO="USER_PASSWORD_FORM";var vO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,userName:s,realName:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Change Real Name"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(gO,{form:fO,onSubmit:Bp,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Real Name Changed"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Changing Real Name",messageColor:"secondary"})},onCancel:t,userName:s,initialValues:{realName:r}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(fO),children:"Change"})]})]})}));var yO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"alias",component:_t,fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var CO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,userName:s,form:r="USER_ALIAS_ADD_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Alias"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(yO,{form:r,onSubmit:qp,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Alias Added"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Adding Alias",messageColor:"secondary"})},onCancel:t,userName:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(r),children:"Add"})]})]})}));var SO=ue((function({open:e,onClose:t,openSnackBar:n,alias:o,userName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Alias "'.concat(o,'" From "').concat(a,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.user.removeAlias({userName:a,alias:o}).then((()=>{const e="Alias ".concat(o," Removed From ").concat(a);n({messageContent:e}),t(),s&&s()})).catch((()=>{n({messageContent:"Error Removing Alias From User",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const IO=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"hard",component:en}),label:"Hard Delete"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"preserveAccess",component:en}),label:"Preserve Access"}),Object(le.jsx)(Zt,{name:"transferAccess",label:"Transfer Access To",component:br,loadOptions:ph,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});var RO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:IO}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var DO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,userName:s,form:r="USER_DISABLE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Disable User"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(RO,{form:r,onSubmit:Lp,onSubmitSuccess:(e,a,s)=>{var r,c;const i=null===s||void 0===s||null===(r=s.values)||void 0===r||null===(c=r.queryParms)||void 0===c?void 0:c.hard,l="User ".concat(!0===i||"true"===i?"Removed":"Disabled");o({messageContent:l}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Disabling / Removing User",messageColor:"secondary"})},onCancel:t,userName:s,initialValues:{queryParams:{hard:!1,preserveAccess:!1}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(r),children:"Disable / Remove"})]})]})}));const FO=()=>Object(le.jsx)(Zt,{name:"userName",component:_t,fullWidth:!0});var TO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"userDocument",component:FO}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var EO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,userName:s,form:r="USER_USERNAME_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Update Username"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(TO,{form:r,onSubmit:Wp,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Username Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Updating Username",messageColor:"secondary"})},onCancel:t,userName:s,initialValues:{userDocument:{userName:s}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(r),children:"Update"})]})]})}));const PO="USER_PASSWORD_DIALOG",NO="USER_TOKEN_DIALOG",kO="USER_REALNAME_DIALOG",MO="USER_ALIAS_ADD_DIALOG",AO="USER_ALIAS_REMOVE_DIALOG",LO="USER_DISABLE_DIALOG",WO="USER_USERNAME_DIALOG";class _O extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.onEnable=this.onEnable.bind(this),this.onDisableSuccess=this.onDisableSuccess.bind(this),this.onDeleteAlias=this.onDeleteAlias.bind(this),this.onUserNameSuccess=this.onUserNameSuccess.bind(this),this.state={userDocument:void 0,userToken:void 0,alias:void 0}}componentDidMount(){this.onRefresh();const{userName:e}=this.props;document.title="VidiCore Admin | User | ".concat(e)}UNSAFE_componentWillReceiveProps({userName:e}){const{userName:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | User | ".concat(e))}onRefresh(){const{userName:e}=this.props;this.onFetch(e)}onFetch(e){try{W.user.getUser({userName:e}).then((e=>this.setState({userDocument:e.data}))).catch((e=>this.onFetchError(e)))}catch(t){this.onFetchError(t)}}onFetchError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading User",messageColor:"secondary"})}onEnable(){const{userName:e,openSnackBar:t}=this.props;try{W.user.enableUser({userName:e}).then((()=>{t({messageContent:"User Enabled"}),this.onRefresh()})).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onDisableSuccess(e,t,n){var o,a;const{history:s}=this.props,r=null===n||void 0===n||null===(o=n.values)||void 0===o||null===(a=o.queryParams)||void 0===a?void 0:a.hard;!0===r||"true"===r?s.push("/user/"):this.onRefresh()}onUserNameSuccess(e,t,n){var o,a;const{history:s}=this.props,r=null===n||void 0===n||null===(o=n.values)||void 0===o||null===(a=o.userDocument)||void 0===a?void 0:a.userName;r?s.push("/user/".concat(r)):this.onRefresh()}onDeleteAlias(e,t){const{onOpen:n}=this.props;this.setState({alias:t},(()=>n({modalName:AO})))}render(){const{userDocument:e,userToken:t,alias:n}=this.state,{userName:o}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Qp,{onRefresh:this.onRefresh,code:e,codeModal:"UserDocument",userName:o,passwordModal:PO,realNameModal:kO,aliasModal:MO,tokenModal:NO,onEnable:this.onEnable,disableModal:LO,userNameModal:WO}),e&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(tO,{userDocument:e,onDeleteAlias:this.onDeleteAlias}),Object(le.jsx)(Sp,{simpleMetadataDocument:e.metadata,onSuccess:this.onRefresh,entityType:"user",entityId:o}),Object(le.jsx)(jO,{groupListDocument:e.groupList,onSuccess:this.onRefresh,userName:o}),Object(le.jsx)(vO,{dialogName:kO,onSuccess:this.onRefresh,userName:o,realName:e.realName}),Object(le.jsx)(CO,{dialogName:MO,onSuccess:this.onRefresh,userName:o})]}),Object(le.jsx)(uO,{dialogName:PO,userName:o}),Object(le.jsx)(DO,{dialogName:LO,userName:o,onSuccess:this.onDisableSuccess}),Object(le.jsx)(EO,{dialogName:WO,userName:o,onSuccess:this.onUserNameSuccess}),Object(le.jsx)(SO,{dialogName:AO,userName:o,alias:n,onSuccess:this.onRefresh}),Object(le.jsx)(xO,{dialogName:NO,userName:o,userToken:t,onSuccess:e=>this.setState({userToken:e.data})})]})}}var wO=ue(_O);function VO(e){return Object(le.jsx)(Ae,{title:"External ID Namespace",helpTo:"/ref/external-id.html",...e})}function UO({externalIdentifierNamespaceDocument:e={},onEdit:t,onRemove:n}){return Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.name}),Object(le.jsx)(uo,{children:e.pattern}),Object(le.jsx)(uo,{children:e.priority}),Object(le.jsxs)(uo,{disableOnClick:!0,children:[Object(le.jsx)(w.a,{onClick:()=>n({externalIdentifierNamespaceDocument:e}),children:Object(le.jsx)(ee.a,{})}),Object(le.jsx)(w.a,{onClick:()=>t({externalIdentifierNamespaceDocument:e}),children:Object(le.jsx)(fo.a,{})})]})]})}var BO=ue((function({open:e,onClose:t,openSnackBar:n,externalIdentifierNamespaceDocument:o,onSuccess:a}){if(void 0===o)return null;const{name:s}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove External ID Namespace "'.concat(s,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.externalid.removeExternalIdNamespace({idName:s}).then((()=>{const e="External ID Namespace ".concat(s," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing External ID Namespace",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));function qO(e,t,n){const{externalIdentifierNamespaceDocument:o}=e,a=n.idName||o.name;return W.externalid.updateExternalIdNamespace({idName:a,externalIdentifierNamespaceDocument:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function GO(e,t,n){const{externalId:o}=e,a=n.entityType||e.entityType,s=n.entityId||e.entityId;return W.externalid.createExternalId({externalId:o,entityId:s,entityType:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const HO=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",component:Io,fullWidth:!0}),Object(le.jsx)(Zt,{name:"pattern",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"priority",component:_t,type:"number",fullWidth:!0})]});var zO=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"externalIdentifierNamespaceDocument",component:HO}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const JO="EXTERNALID_NAMESPACE_FORM";var KO=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,externalIdentifierNamespaceDocument:s}){if(void 0===s)return null;const{name:r}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Edit External ID Namespace ".concat(r)}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zO,{form:JO,onSubmit:qO,onSubmitSuccess:(e,a,s)=>{o({messageContent:"External ID Namespace Updated"}),t(),n&&n(e,a,s)},onSubmitFail:()=>{o({messageContent:"Error Updating External ID Namespace",messageColor:"secondary"})},onCancel:t,initialValues:{externalIdentifierNamespaceDocument:s},idName:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(JO),children:"Save"})]})]})}));const YO="EXTERNALID_NAMESPACE_REMOVE_DIALOG",XO="EXTERNALID_NAMESPACE_EDIT_DIALOG";var $O=xo((function({externalIdentifierNamespaceListDocument:e,onRefresh:t,dialogProps:n,onOpen:o}){const{namespace:a=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Name"}),Object(le.jsx)(uo,{children:"Pattern"}),Object(le.jsx)(uo,{children:"Priority"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:a.map((e=>Object(le.jsx)(UO,{externalIdentifierNamespaceDocument:e,onRemove:o(YO),onEdit:o(XO)},e.name)))})]}),Object(le.jsx)(KO,{...n,dialogName:XO,onSuccess:t}),Object(le.jsx)(BO,{...n,dialogName:YO,onSuccess:t})]})}));function QO({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)($O,{...e})})})}var ZO=ue((function({open:e,onClose:t,onSuccess:n,openSnackBar:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New External ID Namespace"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:zO,documentName:"externalIdentifierNamespaceDocument",onSubmit:qO,onSubmitSuccess:(e,a,s)=>{o({messageContent:"External ID Namespace Created"}),t(),n&&n(e,a,s)},onSubmitFail:()=>{o({messageContent:"Error Creating External ID Namespace",messageColor:"secondary"})},onCancel:t})})]})}));const ex="EXTERNALID_NAMESPACE_CREATE_MODAL";class tx extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={externalIdentifierNamespaceListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | External ID Namespace"}onRefresh(){try{W.externalid.listExternalIdNamespace().then((e=>this.setState({externalIdentifierNamespaceListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading External ID Namespace List",messageColor:"secondary"})}render(){const{externalIdentifierNamespaceListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(VO,{createModal:ex,onRefresh:this.onRefresh,code:e,codeModal:"ExternalIdentifierNamespaceListDocument"}),e&&Object(le.jsx)(QO,{externalIdentifierNamespaceListDocument:e,onRefresh:this.onRefresh}),Object(le.jsx)(ZO,{dialogName:ex,onSuccess:this.onRefresh})]})}}var nx=he(tx);function ox({entityType:e,entityId:t,...n}){return Object(le.jsx)(Ae,{title:"External ID",grandParentTitle:ot()(e),parentTitle:t,parentTo:"/".concat(e,"/").concat(t,"/"),grandParentTo:"/".concat(e,"/"),helpTo:"/ref/external-id.html",...n})}function ax({externalIdentifierDocument:e={},onRemove:t}){return Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.externalId}),Object(le.jsx)(uo,{children:e.namespace}),Object(le.jsx)(uo,{children:e.entityId}),Object(le.jsx)(uo,{children:e.entityType}),Object(le.jsx)(uo,{disableOnClick:!0,children:Object(le.jsx)(w.a,{onClick:()=>t({externalIdentifierDocument:e}),children:Object(le.jsx)(ee.a,{})})})]})}var sx=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,externalIdentifierDocument:a,entityType:s,entityId:r}){if(void 0===a)return null;const{externalId:c}=a;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove External ID "'.concat(c,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.externalid.removeExternalId({externalId:c,entityType:s,entityId:r}).then((()=>{const e="External ID ".concat(c," Removed");n({messageContent:e}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing External ID",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const rx="EXTERNALID_REMOVE_DIALOG";var cx=xo((function({externalIdentifierListDocument:e,onRefresh:t,dialogProps:n,onOpen:o,entityType:a,entityId:s}){const{id:r=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"External Id"}),Object(le.jsx)(uo,{children:"Namespace"}),Object(le.jsx)(uo,{children:"Entity Id"}),Object(le.jsx)(uo,{children:"Entity Type"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:r.map((e=>Object(le.jsx)(ax,{externalIdentifierDocument:e,onRemove:o(rx)},e.externalId)))})]}),Object(le.jsx)(sx,{...n,dialogName:rx,onSuccess:t,entityType:a,entityId:s})]})}));function ix({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(cx,{...e})})})}var lx=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"externalId",component:_t,required:!0,fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const jx="EXTERNALID_FORM";var dx=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,entityType:s,entityId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Create External ID"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(lx,{form:jx,onSubmit:GO,onSubmitSuccess:(e,a,s)=>{o({messageContent:"External ID Created"}),t(),n&&n(e,a,s)},onSubmitFail:()=>{o({messageContent:"Error Creating External ID",messageColor:"secondary"})},onCancel:t,entityType:s,entityId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(jx),children:"Save"})]})]})}));var mx=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,entityType:a,entityId:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove All External IDs For "'.concat(s,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.externalid.removeAllExternalId({entityType:a,entityId:s}).then((()=>{n({messageContent:"All External IDs Removed"}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing External IDs",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const hx="EXTERNALID_CREATE_MODAL",ux="EXTERNALID_REMOVEALL_MODAL";class bx extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={externalIdentifierListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | External ID"}onRefresh(){const{entityType:e,entityId:t,entitySubType:n}=this.props;try{W.externalid.listExternalId({entityType:n?"".concat(e,"/").concat(n):e,entityId:t}).then((e=>this.setState({externalIdentifierListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading External ID List",messageColor:"secondary"})}render(){const{externalIdentifierListDocument:e}=this.state,{entityType:t,entityId:n,entitySubType:o}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ox,{createModal:hx,onRefresh:this.onRefresh,removeModal:ux,code:e,codeModal:"ExternalIdentifierListDocument",entityType:o?"".concat(t,"/").concat(o):t,entityId:n}),e&&Object(le.jsx)(ix,{externalIdentifierListDocument:e,onRefresh:this.onRefresh,entityType:o?"".concat(t,"/").concat(o):t,entityId:n}),Object(le.jsx)(dx,{dialogName:hx,onSuccess:this.onRefresh,entityType:o?"".concat(t,"/").concat(o):t,entityId:n}),Object(le.jsx)(mx,{dialogName:ux,onSuccess:this.onRefresh,entityType:o?"".concat(t,"/").concat(o):t,entityId:n})]})}}var px=he(bx);const Ox=[{name:"__user"},{name:"__collection"},{name:"__collection_size"},{name:"__ancestor_collection"},{name:"__ancestor_collection_size"},{name:"__shape"},{name:"__shape_size"},{name:"__shape_last_added"},{name:"__placeholder_shape_size"},{name:"__version"},{name:"__version_size"},{name:"__storage"},{name:"__storage_size"},{name:"__storagegroup"},{name:"__storagegroup_size"},{name:"__sequence"},{name:"__sequence_size"},{name:"__metadata_last_modified"},{name:"____metadataFieldGroup"},{name:"__externalId"},{name:"__child_collection"},{name:"__child_collection_size"},{name:"__parent_collection"},{name:"__parent_collection_size"},{name:"__items_size"},{name:"__folder_mapped"},{name:"__child_folder_collection"},{name:"__parent_folder_collection"},{name:"__parent_folder_collection"},{name:"__deletion_lock_expiry"}],xx=zj()(W.metadatafield.listMetadataField,500,{leading:!0,trailing:!1}),gx=e=>new Promise(((t,n)=>{xx().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{field:o=[]}=n,a=o.concat(Ox);let s=a;if(e&&"*"!==e){const t=e.toLowerCase();s=a.filter((e=>e.name.toLowerCase().includes(t)))}const r=s.map((e=>({label:e.name,value:e.name})));t(r)})).catch((e=>{n(e)}))}));const fx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"content",component:br,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"uri",label:"uri"},{value:"shape",label:"shape"},{value:"poster",label:"poster"},{value:"thumbnail",label:"thumbnail"},{value:"access",label:"access"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),Object(le.jsx)(Zt,{name:"p",label:"Path",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"group",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"language",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"sampleRate",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"interval",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"include",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"includeValues",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"revision",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mergedType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mergedPermission",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mergedExtradata",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"uriType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"scheme",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageType",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"methodType",children:"Method Type"}),Object(le.jsxs)(Zt,{name:"methodType",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"AUTO",children:"AUTO"}),Object(le.jsx)(Xn.a,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),Object(le.jsx)(Yt,{name:"methodMetadata",label:"Method Metadata",component:Ea}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"version",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"baseURI",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"closedFiles",component:en}),label:"Closed Files"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"noauth-url",component:en}),label:"No-Auth URL"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"conflict",component:en}),label:"Conflict"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"terse",component:en}),label:"Terse"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"defaultValue",component:en}),label:"Default Value"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeTransientMetadata",component:en}),label:"Include Transient Metadata"})]}),vx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"storage",label:"Storage",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"storageGroup",label:"Storage Group",component:br,loadOptions:Xj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"includeConstraintValue",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"starttc",component:en}),label:"Start TC"})]});var yx=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:fx}),Object(le.jsx)(Xt,{name:"matrixParams",label:"matrixParams",component:vx})]})}));const Cx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"count",component:en}),label:"Count"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"save",component:en}),label:"Save"})]}),Sx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"storage",label:"Storage",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"storageGroup",label:"Storage Group",component:br,loadOptions:Xj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]});var Ix=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Cx}),Object(le.jsx)(Xt,{name:"queryParams",component:fx}),Object(le.jsx)(Xt,{name:"matrixParams",component:Sx}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var Rx=e=>class extends s.a.PureComponent{constructor(e){super(e),this.onChangeExpansion=this.onChangeExpansion.bind(this);const{defaultExpanded:t=!1}=e;this.state={expanded:t}}onChangeExpansion(e,t){this.setState({expanded:t})}render(){const{expanded:t}=this.state;return Object(le.jsx)(e,{onChangeExpansion:this.onChangeExpansion,expanded:t,...this.props})}};function Dx(e){const{matrixParams:t=[],queryParams:n={},shapeSearchDocument:o={}}=e;return W.search.searchShape({shapeSearchDocument:o,queryParams:n,matrixParams:Object.entries(t)}).then((e=>({queryParams:n,matrixParams:t,shapeSearchDocument:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Fx(e){const{matrixParams:t=[],queryParams:n={},itemSearchDocument:o={}}=e;return W.search.searchItemCollection({itemSearchDocument:o,queryParams:n,matrixParams:Object.entries(t)}).then((e=>({queryParams:n,matrixParams:t,itemSearchDocument:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var Tx=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="SEARCH_PARAMS_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Search Params"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(Ix,{form:i,onSubmit:Fx,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));const Ex=zj()(W.fieldgroup.listFieldGroup,500,{leading:!0,trailing:!1}),Px=e=>new Promise(((t,n)=>{Ex().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{group:o=[]}=n;let a=o;e&&"*"!==e&&(a=o.filter((t=>t.name.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e.name,value:e.name})));t(s)})).catch((e=>{n(e)}))}));const Nx=()=>Object(le.jsxs)($.a,{container:!0,children:[Object(le.jsx)($.a,{item:!0,sm:10,children:Object(le.jsx)(Zt,{name:"value",component:_t,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"noescape",component:en}),label:"No Escape"})})]}),kx=()=>Object(le.jsxs)($.a,{container:!0,children:[Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"value",component:_t,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"noescape",component:en}),label:"No Escape"})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"minimum",component:en}),label:"Minimum"})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"maximum",component:en}),label:"Maximum"})})]}),Mx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"value[0]",component:kx,label:"Start",button:!0,initialDisplay:!1}),Object(le.jsx)(Xt,{name:"value[1]",component:kx,label:"End"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"exclusiveMinimum",component:en}),label:"Exclusive Minimum"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"exclusiveMaximum",component:en}),label:"Exclusive Maximum"})]}),Ax=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"Field Name",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Yt,{name:"value",component:kx,label:"Field Value",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"range",component:Mx,label:"Range",withHeader:!1,arrayHeader:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"target",children:"Target"}),Object(le.jsxs)(Zt,{name:"target",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"shape",children:"Shape"}),Object(le.jsx)(Xn.a,{value:"file",children:"File"})]})]})]}),Lx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"Group Name",component:br,loadOptions:Px,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Yt,{name:"field",component:Ax,label:"field",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"group",component:Lx,label:"group",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Zt,{name:"reference",component:_t,fullWidth:!0})]}),Wx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"operation",children:"Operation"}),Object(le.jsxs)(Zt,{name:"operation",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"AND",children:"AND"}),Object(le.jsx)(Xn.a,{value:"OR",children:"OR"}),Object(le.jsx)(Xn.a,{value:"NOT",children:"NOT"})]})]}),Object(le.jsx)(Yt,{name:"operator",component:Wx,label:"operator",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"text",component:Nx,label:"Text",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"field",component:Ax,label:"field",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"group",component:Lx,label:"group",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Zt,{name:"reference",component:Ta,simple:!0,fullWidth:!0})]}),_x=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"operation",children:"Operation"}),Object(le.jsxs)(Zt,{name:"operation",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"AND",children:"AND"}),Object(le.jsx)(Xn.a,{value:"OR",children:"OR"}),Object(le.jsx)(Xn.a,{value:"NOT",children:"NOT"})]})]}),Object(le.jsx)(Yt,{name:"operator",component:Wx,label:"operator",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"field",component:Ax,label:"field",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"group",component:Lx,label:"group",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Zt,{name:"reference",component:Ta,simple:!0,fullWidth:!0})]}),wx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"operator",label:"operator",component:Wx,button:!0,initialDisplay:!1}),Object(le.jsx)(Yt,{name:"field",component:Ax,label:"field",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"group",component:Lx,label:"group",withHeader:!1,arrayHeader:!0})]}),Vx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(wx,{}),Object(le.jsx)(Xt,{name:"file",component:wx,label:"File Join",button:!0,initialDisplay:!1})]}),Ux=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(wx,{}),Object(le.jsx)(Xt,{name:"shape",label:"Shape Join",component:Vx,button:!0,initialDisplay:!1}),Object(le.jsx)(Xt,{name:"file",component:wx,label:"File Join",button:!0,initialDisplay:!1})]}),Bx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(wx,{}),Object(le.jsx)(Yt,{name:"collection",component:Bx,label:"Collection Join",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Xt,{name:"item",component:Ux,label:"Item Join",button:!0,initialDisplay:!1}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"relation",children:"Relation"}),Object(le.jsxs)(Zt,{name:"relation",component:Lt,children:[Object(le.jsx)(Xn.a,{value:""}),Object(le.jsx)(Xn.a,{value:"child",children:"Child"}),Object(le.jsx)(Xn.a,{value:"parent",children:"Parent"}),Object(le.jsx)(Xn.a,{value:"descendant",children:"Descendant"}),Object(le.jsx)(Xn.a,{value:"ancestor",children:"Ancestor"})]})]})]}),qx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"start",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",component:_t,fullWidth:!0})]}),Gx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",label:"Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"value",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"range",label:"Range",component:qx})]}),Hx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",label:"Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Yt,{name:"range",component:qx,label:"range",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Zt,{name:"exclude",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"count",component:en}),label:"Count"}),Object(le.jsx)(Zt,{name:"minCount",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxResults",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"name",component:_t,fullWidth:!0})]}),zx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",label:"Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"order",children:"order"}),Object(le.jsxs)(Zt,{name:"order",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"ascending",children:"Ascending"}),Object(le.jsx)(Xn.a,{value:"descending",children:"Descending"})]})]})]}),Jx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",label:"Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,isMulti:!0,creatable:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"matchingOnly",component:en}),label:"Matching Only"}),Object(le.jsx)(Zt,{name:"prefix",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"suffix",component:_t,fullWidth:!0})]}),Kx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"maximumSuggestions",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"accuracy",component:_t,type:"number",fullWidth:!0})]}),Yx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"text",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"field",label:"Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"accuracy",component:_t,type:"number",fullWidth:!0})]}),Xx=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Yt,{name:"text",component:Nx,label:"Text",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"field",component:Ax,label:"field",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"group",component:Lx,label:"group",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Xt,{name:"operator",label:"operator",component:Wx,button:!0,initialDisplay:!1}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"intervals",children:"Intervals"}),Object(le.jsxs)(Zt,{name:"intervals",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"generic",children:"Generic"}),Object(le.jsx)(Xn.a,{value:"timed",children:"Timed"}),Object(le.jsx)(Xn.a,{value:"all",children:"All"})]})]}),Object(le.jsx)(Yt,{name:"filter",component:_x,label:"filter",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"facetFilter",component:Gx,label:"facetFilter",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"facet",component:Hx,label:"facet",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Yt,{name:"sort",component:zx,label:"sort",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Xt,{name:"highlight",label:"highlight",component:Jx,button:!0,initialDisplay:!1}),Object(le.jsx)(Xt,{name:"suggestion",label:"suggestion",component:Kx,button:!0,initialDisplay:!1}),Object(le.jsx)(Yt,{name:"autocomplete",component:Yx,label:"autocomplete",withHeader:!1,arrayHeader:!0}),Object(le.jsx)(Zt,{name:"version",component:_t,fullWidth:!0,type:"number"}),Object(le.jsx)(Zt,{name:"reference",component:_t,fullWidth:!0,type:"string"}),Object(le.jsx)(Yt,{name:"collection",label:"collection join",component:Bx,button:!0,initialDisplay:!1}),Object(le.jsx)(Xt,{name:"item",label:"item join",component:Ux,button:!0,initialDisplay:!1}),Object(le.jsx)(Xt,{name:"shape",label:"shape join",component:Vx,button:!0,initialDisplay:!1}),Object(le.jsx)(Xt,{name:"file",label:"file join",component:wx,button:!0,initialDisplay:!1})]});var $x=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"itemSearchDocument",component:Xx}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var Qx=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="SEARCH_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Search Document"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)($x,{form:i,onSubmit:Fx,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));const Zx=({orderBy:e,orderDirection:t,onChangeOrder:n,name:o})=>n?Object(le.jsx)(Be.a,{children:Object(le.jsx)(Ch.a,{active:e===o,direction:t||void 0,onClick:n(o),children:ot()(o)})}):Object(le.jsx)(Be.a,{children:ot()(o)}),eg=(e,t)=>{var n;const o=null===e||void 0===e||null===(n=e.terse)||void 0===n?void 0:n[t];if(Array.isArray(o)){return o.map((({value:e})=>e)).filter((e=>void 0!==e)).join(", ")}return null===o||void 0===o?void 0:o.value},tg=({itemType:e,terse:t,fieldList:n,children:o})=>Object(le.jsxs)(at,{to:"/item/".concat(e.id,"/"),hover:!0,children:[o,Object(le.jsx)(Be.a,{children:e.id}),t&&e.terse&&n.map((t=>Object(le.jsx)(Be.a,{children:eg(e,t)},t)))]});var ng=function({itemListDocument:e,queryParams:t={},onChangePage:n,onChangeRowsPerPage:o,rowsPerPageOptions:a,page:s,rowsPerPage:r,onChangeOrder:c,orderBy:i,orderDirection:l}){if(void 0===e)return null;const{item:j=[],hits:d=0}=e,{terse:m,field:h=[]}=t;let u=h;return Array.isArray(h)||(u=h.split(",")),Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Zx,{name:"itemId",onChangeOrder:c,orderBy:i,orderDirection:l}),m&&u.map((e=>Object(le.jsx)(Zx,{name:e,onChangeOrder:c,orderBy:i,orderDirection:l},e)))]})}),Object(le.jsx)(Ue.a,{children:j.map((e=>Object(le.jsx)(tg,{itemType:e,terse:m,fieldList:u},e.id)))}),n&&o&&Object(le.jsx)(He.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(ze.a,{count:d,page:s,rowsPerPage:r,onPageChange:n,onRowsPerPageChange:o,ActionsComponent:tt,rowsPerPageOptions:a})})})]})})};const og=({orderBy:e,orderDirection:t,onChangeOrder:n,name:o})=>n?Object(le.jsx)(Be.a,{children:Object(le.jsx)(Ch.a,{active:e===o,direction:t||void 0,onClick:n(o),children:ot()(o)})}):Object(le.jsx)(Be.a,{children:ot()(o)}),ag=(e,t)=>{var n;const o=null===e||void 0===e||null===(n=e.terse)||void 0===n?void 0:n[t];if(Array.isArray(o)){return o.map((({value:e})=>e)).filter((e=>void 0!==e)).join(", ")}return null===o||void 0===o?void 0:o.value},sg=({collectionType:e,terse:t,fieldList:n,withName:o=!0,children:a})=>Object(le.jsxs)(at,{to:"/collection/".concat(e.id,"/"),hover:!0,children:[a,Object(le.jsx)(Be.a,{children:e.id}),o&&Object(le.jsx)(Be.a,{children:e.name}),t&&e.terse&&n.map((t=>Object(le.jsx)(Be.a,{children:ag(e,t)},t)))]});var rg=function({collectionListDocument:e,queryParams:t={},onChangePage:n,onChangeRowsPerPage:o,rowsPerPageOptions:a,page:s,rowsPerPage:r,onChangeOrder:c,orderBy:i,orderDirection:l}){if(void 0===e)return null;const{collection:j=[],hits:d=0}=e,{terse:m,field:h=[]}=t;let u=h;return Array.isArray(h)||(u=h.split(",")),Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(og,{name:"collectionId",onChangeOrder:c,orderBy:i,orderDirection:l}),Object(le.jsx)(og,{name:"name",onChangeOrder:c,orderBy:i,orderDirection:l}),m&&u.map((e=>Object(le.jsx)(og,{name:e,onChangeOrder:c,orderBy:i,orderDirection:l},e)))]})}),Object(le.jsx)(Ue.a,{children:j.map((e=>Object(le.jsx)(sg,{collectionType:e,fieldList:u,terse:m},e.id)))}),n&&o&&Object(le.jsx)(He.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(ze.a,{count:d,page:s,rowsPerPage:r,onPageChange:n,onRowsPerPageChange:o,ActionsComponent:tt,rowsPerPageOptions:a})})})]})})};const cg=({orderBy:e,orderDirection:t,onChangeOrder:n,name:o})=>n?Object(le.jsx)(Be.a,{children:Object(le.jsx)(Ch.a,{active:e===o,direction:t||void 0,onClick:n(o),children:ot()(o)})}):Object(le.jsx)(Be.a,{children:ot()(o)}),ig=({searchResultEntryType:e,terse:t,fieldList:n})=>{const o=Object(le.jsx)(Be.a,{children:e.type}),a=Object.keys(e);if(a.includes("item")){const{item:a={}}=e;return Object(le.jsx)(tg,{itemType:a,terse:t,fieldList:n,children:o})}if(a.includes("collection")){const{collection:a={}}=e;return Object(le.jsx)(sg,{collectionType:a,terse:t,fieldList:n,withName:!1,children:o})}return Object(le.jsx)(Ge.a,{children:o})};var lg=function({searchResultDocument:e,queryParams:t,onChangePage:n,onChangeRowsPerPage:o,rowsPerPageOptions:a,onChangeOrder:s,orderDirection:r,orderBy:c,page:i,rowsPerPage:l}){if(void 0===e)return null;const{entry:j=[],hits:d=0}=e,{terse:m,field:h=[]}=t;let u=h;return Array.isArray(h)||(u=h.split(",")),Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(cg,{name:"type"}),Object(le.jsx)(cg,{name:"id"}),m&&u.map((e=>Object(le.jsx)(cg,{name:e,onChangeOrder:s,orderBy:c,orderDirection:r},e)))]})}),Object(le.jsx)(Ue.a,{children:j.map((e=>Object(le.jsx)(ig,{searchResultEntryType:e,terse:m,fieldList:u},e.id)))}),n&&o&&Object(le.jsx)(He.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(ze.a,{count:d,page:i,rowsPerPage:l,onPageChange:n,onRowsPerPageChange:o,ActionsComponent:tt,rowsPerPageOptions:a})})})]})})};var jg=e=>t=>Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(e,{...t})})});var dg=e=>class extends s.a.PureComponent{constructor(e){super(e),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this);const{page:t=0,rowsPerPage:n=10,orderBy:o,orderDirection:a}=e;this.state={page:t,rowsPerPage:n,orderBy:o,orderDirection:a}}onChangeRowsPerPage({target:{value:e}}={}){const{onChangeRowsPerPage:t}=this.props;this.setState({page:0,rowsPerPage:e}),t&&t({page:0,rowsPerPage:e})}onChangePage({page:e}){const{onChangePage:t}=this.props,{rowsPerPage:n}=this.state;this.setState({page:e}),t&&t({page:e,rowsPerPage:n})}onChangeOrder(e){return()=>{const{onChangeOrder:t}=this.props,{orderDirection:n,orderBy:o}=this.state;let a="",s="";e!==o?(s=e,a="desc"):"desc"===n&&(s=e,a="asc");this.setState({orderBy:s,orderDirection:a,page:0}),t&&t({orderBy:s,orderDirection:a,page:0})}}render(){const{page:t,rowsPerPage:n,orderBy:o,orderDirection:a}=this.state,s=[10,100,250];return s.includes(n)||s.push(n),Object(le.jsx)(e,{...this.props,page:t,rowsPerPage:n,rowsPerPageOptions:s,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:o,orderDirection:a,onChangeOrder:this.onChangeOrder})}};var mg=Object(m.c)(u,Mo,(e=>class extends s.a.PureComponent{constructor(e){super(e),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const t=this.onGetUrlParams(),{orderBy:n="",orderDirection:o=""}=t;let{first:a=1,number:s=10}=t;Number.isInteger(a)||(a=parseInt(a,10)),(Number.isNaN(a)||a<=0)&&(a=1),Number.isInteger(s)||(s=parseInt(s,10)),(Number.isNaN(s)||s<=0)&&(s=10);const r=Math.floor((a-1)/s);this.state={page:r,rowsPerPage:s,orderBy:n,orderDirection:o}}onSetUrlParams(e){const{location:t,history:n}=this.props,o=new URLSearchParams(t.search);Object.entries(e).forEach((([e,t])=>o.set(e,t))),n.push({search:o.toString()})}onGetUrlParams(){const{location:e}=this.props,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((([e,t])=>{n[e]=t})),n}async onChangeRowsPerPage({rowsPerPage:e}){const{changeForm:t,firstField:n="matrixParams.first",numberField:o="matrixParams.number",submitForm:a,form:s}=this.props;t(s,n,1),await t(s,o,e),this.onSetUrlParams({first:1,number:e}),a(s)}async onChangePage({page:e,rowsPerPage:t}){const{formValues:n={},changeForm:o,firstField:a="matrixParams.first",numberField:s="matrixParams.number",submitForm:r,form:c}=this.props,{matrixParams:i={}}=n,{number:l=t}=i,j=e*l+1;o(c,a,j),await o(c,s,l),this.onSetUrlParams({first:j,number:l}),r(c)}async onChangeOrder({orderBy:e,orderDirection:t}){const{changeForm:n,submitForm:o,sortField:a="itemSearchDocument.sort",firstField:s="matrixParams.first",form:r}=this.props;let c=[];if(e){c=[{field:e,order:"".concat(t,"ending")}]}n(r,a,c),await n(r,s,1),this.onSetUrlParams({orderDirection:t,orderBy:e,first:1}),o(r)}render(){const{page:t,rowsPerPage:n,orderBy:o,orderDirection:a}=this.state;return Object(le.jsx)(e,{page:t,rowsPerPage:n,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:o,orderDirection:a,onChangeOrder:this.onChangeOrder,...this.props})}}),dg);const hg="SEARCH_FORM",ug=Object(m.c)(jg,mg)(lg);class bg extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const t=this.onGetUrlParams(),{first:n=1,number:o=10,orderBy:a,orderDirection:s="desc",...r}=t,c=a?[{field:a,order:"".concat(s,"ending")}]:[];this.initialValues={queryParams:r,matrixParams:{first:n,number:o},itemSearchDocument:{sort:c}},this.state={searchResultDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Search",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(hg)}onSearchSuccess(e){const{data:t,queryParams:n}=e;this.setState({searchResultDocument:t,queryParams:n}),this.onSetUrlParams(n)}onSetUrlParams(e){const{location:t,history:n}=this.props,o=new URLSearchParams(t.search);Object.entries(e).forEach((([e,t])=>o.set(e,t))),n.push({search:o.toString()})}onGetUrlParams(){const{location:e}=this.props,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((([e,t])=>{n[e]=t})),n}render(){const{searchResultDocument:e,queryParams:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Search",helpTo:"/ref/search.html",onRefresh:this.onRefresh,code:e,codeModal:"SearchResultDocument"}),Object(le.jsxs)($.a,{container:!0,spacing:1,children:[Object(le.jsx)($.a,{item:!0,xs:12,sm:6,children:Object(le.jsx)(Qx,{form:hg,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),Object(le.jsx)($.a,{item:!0,xs:12,sm:6,children:Object(le.jsx)(Tx,{form:hg,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),Object(le.jsx)(ug,{searchResultDocument:e,queryParams:t,form:hg})]})}}var pg=Object(m.c)(Mo)(bg);const Og=()=>Object(le.jsxs)($.a,{container:!0,spacing:8,children:[Object(le.jsx)($.a,{item:!0,sm:10,children:Object(le.jsx)(Zt,{name:"value",component:_t,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"mode",children:"Mode"}),Object(le.jsxs)(Zt,{name:"mode",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"add",children:"Add"}),Object(le.jsx)(Xn.a,{value:"remove",children:"Remove"})]})]})})]}),xg=()=>Object(le.jsxs)($.a,{container:!0,spacing:8,children:[Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"name",label:"Field Name",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0})}),Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Yt,{name:"value",label:"value",withHeader:!1,direction:"row",component:Og})})]}),gg=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"Group Name",component:br,loadOptions:Px,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Yt,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:xg}),Object(le.jsx)(Yt,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:gg})]}),fg=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($.a,{container:!0,spacing:8,children:[Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"start",component:_t,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"end",component:_t,fullWidth:!0})})]}),Object(le.jsx)(Yt,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:xg}),Object(le.jsx)(Yt,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:gg})]}),vg=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"timespan",label:"timespan",arrayHeader:!0,withHeader:!1,hover:!1,removeLabel:!0,component:fg})});var yg=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataDocument",component:vg}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Cg=({value:e={}})=>{const{value:t=[]}=e,n=t.map((e=>e.value));return Object(le.jsx)(ta,{title:e.name,value:n,titleStartCase:!1,titleGridProps:{xl:2},titleTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},valueTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},hover:!0})},Sg=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Group Name",value:e.name,variant:"group",titleStartCase:!1}),Object(le.jsx)(En,{arrayTitle:"Fields",value:e.field,component:Cg,titleStartCase:!1}),Object(le.jsx)(En,{arrayTitle:"Groups",value:e.group,component:Sg,titleStartCase:!1})]}),Ig=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{value:e.timespan,hover:!1,dense:!0,component:({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Timespan",value:"".concat(e.start," ").concat(e.end)}),Object(le.jsx)(En,{arrayTitle:"Fields",value:e.field,component:Cg,titleStartCase:!1,hideNoValue:!0}),Object(le.jsx)(En,{arrayTitle:"Groups",value:e.group,component:Sg,titleStartCase:!1,hideNoValue:!0})]})})});function Rg({metadataDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:Ig})})}const Dg=["user","itemId"];function Fg(e){const{value:t}=e;return{value:t}}function Tg(e,t){const{name:n,value:o=[]}=t;if(n.startsWith("__"))return e;if(Dg.includes(n))return e;const a=o.map(Fg);return e.push({name:n,value:a}),e}function Eg(e){const{name:t,field:n=[],group:o=[]}=e;return{name:t,field:n.reduce(Tg,[]),group:o.map(Eg)}}function Pg(e){const{start:t,end:n,field:o=[],group:a=[]}=e;return{start:t,end:n,field:o.reduce(Tg,[]),group:a.map(Eg)}}var Ng=function(e){if(void 0===e)return{};const{timespan:t=[]}=e;return{timespan:t.map(Pg)}};var kg=he((function({metadataDocument:e,openSnackBar:t,onSubmit:n,onSuccess:o,onFail:a,title:s,...r}){const c=Ng(e);return Object(le.jsx)(Ft,{title:s,formName:"EDIT_METADATA_FORM",onSubmitSuccess:(e,n,a)=>{t({messageContent:"Metadata Updated"}),o&&o(e,n,a)},onSubmitFail:(e,n,o)=>{t({messageContent:"Error Updating Metadata",messageColor:"secondary"}),a&&a(e,n,o)},onSubmit:n,displayProps:{metadataDocument:e},initialValues:{metadataDocument:c},formComponent:yg,displayComponent:Rg,formProps:r})}));function Mg(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.item.createExport({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Ag(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.item.createExportImp({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Lg(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.item.removeItem({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Wg(e,t,n){const{metadataDocument:o={},matrixParams:a=[],queryParams:s}=e,r=n.itemId||e.itemId;return W.item.updateItemMetadata({itemId:r,metadataDocument:o,queryParams:s,matrixParams:Object.entries(a)}).then((e=>({itemId:r,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function _g(e,t,n){const{matrixParams:o=[],queryParams:a={}}=e,s=n.itemId||e.itemId,r=n.headers||e.headers;return W.item.getItemMetadata({itemId:s,queryParams:a,matrixParams:Object.entries(o),headers:r}).then((e=>({itemId:s,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function wg(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId;return W.metadata.listEntityMetadataChange({entity:"item",entityId:a,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Vg(e,t,n){const{matrixParams:o=[],queryParams:a={}}=e,s=n.itemId||e.itemId;return W.item.getItem({itemId:s,queryParams:a,matrixParams:Object.entries(o)}).then((e=>({itemId:s,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Ug(e){const{matrixParams:t=[],queryParams:n={},itemSearchDocument:o={}}=e;return W.item.searchItem({itemSearchDocument:o,queryParams:n,matrixParams:Object.entries(t)}).then((e=>({queryParams:n,matrixParams:t,itemSearchDocument:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Bg(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId;return W.item.getItemUri({itemId:a,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function qg(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId;return W.item.createTranscode({itemId:a,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Gg(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId;return W.item.createThumbnail({itemId:a,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Hg(e,t,n){const o=n.itemId||e.itemId,{queryParams:a={}}=e,{relationMetadata:s=[],...r}=a;return s.forEach((e=>{r[e.key]=e.value})),W.item.listItemRelation({itemId:o,queryParams:r}).then((e=>({itemId:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function zg(e,t,n){const o=n.itemId||e.itemId,a=n.relationItemId||e.relationItemId,{queryParams:s={}}=e,{relationMetadata:r=[],...c}=s;return r.forEach((e=>{c[e.key]=e.value})),W.item.createItemRelation({itemId:o,relationItemId:a,queryParams:c}).then((e=>({itemId:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Jg(e,t,n){const o=n.relationId||e.relationId,{queryParams:a={}}=e,{relationMetadata:s=[],...r}=a;return s.forEach((e=>{r[e.key]=e.value})),W.item.updateRelation({relationId:o,queryParams:r}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Kg({metadataListDocument:e,...t}){if(void 0===e)return null;const{item:n=[]}=e;if(1!==n.length)return null;const o=n[0]||{},{metadata:a={}}=o;return Object(le.jsx)(kg,{onSubmit:Wg,metadataDocument:a,...t})}function Yg({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Kg,{...e})})})}const Xg=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"group",component:br,loadOptions:Px,cacheOptions:!0,isClearable:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"interval",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"language",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"samplerate",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"revision",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"include",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"from",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"to",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"includeConstraintValue",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"includeExtraData",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"conflict",component:en}),label:"Conflict"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"defaultValue",component:en}),label:"Default Value"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"starttc",component:en}),label:"Start TC"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"terse",component:en}),label:"Terse"})]}),$g=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeTransientMetadata",component:en}),label:"Include Transient Metadata"})});var Qg=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:$g}),Object(le.jsx)(Xt,{name:"matrixParams",component:Xg})]})}));const Zg="METADATA_DISPLAY_FORM";var ef=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,...r}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Metadata Display Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(Qg,{form:Zg,onSubmit:e,onSubmitSuccess:(e,n,a)=>{o({messageContent:"Display Updated"}),t&&t(e,n,a)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Display",messageColor:"secondary"}),n&&n(e,t,a)},...r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(Zg),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Zg),children:"Update"})]})]})}));function tf({...e}){return Object(le.jsx)(ef,{onSubmit:_g,...e})}class nf extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.item.getItemMetadata({itemId:e}).then((e=>this.setState({metadataListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{metadataListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"MetadataListDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(tf,{itemId:e,onSuccess:e=>this.setState({metadataListDocument:e.data})}),a&&Object(le.jsx)(Yg,{itemId:e,metadataListDocument:a,onSuccess:()=>this.onRefresh()})]})}}var of=he(nf);const af=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Entity Type"}),Object(le.jsxs)(Zt,{name:"type",component:Lt,validate:[Td],children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"collection",children:"Collection"}),Object(le.jsx)(Xn.a,{value:"library",children:"Library"})]})]})});var sf=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"collectionId",label:"Collection ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"entityId",label:"Entity ID",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:af})]})}));function rf(e,t,n){const{metadataDocument:o={},matrixParams:a=[],queryParams:s}=e,r=n.collectionId||e.collectionId;return W.collection.updateCollectionMetadata({collectionId:r,metadataDocument:o,queryParams:s,matrixParams:Object.entries(a)}).then((e=>({collectionId:r,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function cf(e,t,n){const{matrixParams:o=[],queryParams:a={}}=e,s=n.collectionId||e.collectionId;return W.collection.getCollectionMetadata({collectionId:s,queryParams:a,matrixParams:Object.entries(o)}).then((e=>({collectionId:s,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function lf(e,t,n){const{queryParams:o={}}=e,a=n.collectionId||e.collectionId;return W.metadata.listEntityMetadataChange({entity:"collection",entityId:a,queryParams:o}).then((e=>({collectionId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function jf(e,t,n){const{queryParams:o={}}=e,a=n.collectionId||e.collectionId;return W.collection.getCollection({collectionId:a,queryParams:o}).then((e=>({collectionId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function df(e){const{queryParams:t={},matrixParams:n=[],itemSearchDocument:o={}}=e;return W.collection.searchCollection({itemSearchDocument:o,queryParams:t,matrixParams:Object.entries(n)}).then((e=>({queryParams:t,matrixParams:n,itemSearchDocument:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function mf(e){const{queryParams:t={},collectionDocument:n={}}=e;return W.collection.createCollection({collectionDocument:n,queryParams:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function hf(e,t,n){const{queryParams:o}=e,a=n.collectionId||e.collectionId;return W.collection.renameCollection({collectionId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function uf(e,t,n){const{queryParams:o}=e,a=n.collectionId||e.collectionId,s=n.entityId||e.entityId;return W.collection.addCollectionEntity({collectionId:a,entityId:s,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function bf(e,t,n){const{queryParams:o}=e,a=n.collectionId||e.collectionId,s=n.entityId||e.entityId;return W.collection.removeCollectionEntity({collectionId:a,entityId:s,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function pf(e,t,n){const{queryParams:o}=e,a=n.collectionId||e.collectionId;return W.collection.getCollection({collectionId:a,queryParams:o,path:"/API/collection/".concat(a,"/export"),method:"POST"}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Of(e,t,n){const{queryParams:o}=e,a=n.collectionId||e.collectionId;return W.collection.updateFolderCollection({collectionId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const xf="COLLECTION_ENTITY_REMOVE_FORM";var gf=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,onSuccess:o,openSnackBar:a,onFail:s,collectionId:r,entityId:c,entityType:i}){return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Entity From Collection"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(sf,{onSubmit:bf,onSubmitSuccess:(e,t,s)=>{a({messageContent:"Collection Entity Removed"}),o&&o(e,t,s),n()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Removing Collection Entity",messageColor:"secondary"}),s&&s(e,t,n)},form:xf,collectionId:r,entityId:c,initialValues:{entityId:c,collectionId:r,queryParams:{type:i}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>e(xf),children:"Remove"})]})]})}));const ff=["__collection","__ancestor_collection","__parent_collection"],vf="REMOVE_COLLECTION_ENTITY_DIALOG",yf="Parent";var Cf=xo((function({metadataDocument:e={},onSuccess:t,dialogProps:n,entityType:o,entityId:a,onOpen:s}){const r=[],{timespan:c=[]}=e,i=c.find((e=>"-INF"===e.start&&"+INF"===e.end));if(i){const{field:e=[]}=i;e.forEach((e=>{if(ff.includes(e.name)){const{value:t=[]}=e,n=t.find((e=>e.value));if(n){const t="__collection"===e.name||"__parent_collection"===e.name?yf:"Ancestor";r.push({relation:t,id:n.value})}}}))}const l=s(vf);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"ID"}),Object(le.jsx)(Be.a,{children:"Type"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:r.map((e=>Object(le.jsxs)(Ge.a,{hover:!0,children:[Object(le.jsx)(Be.a,{children:Object(le.jsx)(un,{to:"/collection/".concat(e.id,"/"),children:e.id})}),Object(le.jsx)(Be.a,{children:Object(le.jsx)(un,{to:"/collection/".concat(e.id,"/"),children:e.relation})}),Object(le.jsx)(Be.a,{children:e.relation===yf?Object(le.jsx)(w.a,{size:"small",onClick:()=>l({collectionId:e.id}),children:Object(le.jsx)(ee.a,{})}):null})]},"".concat(e.relation,"_").concat(e.id))))})]}),Object(le.jsx)(gf,{dialogName:vf,onSuccess:t,entityType:o,entityId:a,...n})]})}));function Sf({metadataListDocument:e,...t}){if(void 0===e)return null;const{item:n=[]}=e;if(1!==n.length)return null;const o=n[0]||{},{metadata:a={}}=o;return Object(le.jsx)(Cf,{metadataDocument:a,...t})}function If(e){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Sf,{...e})})})}class Rf extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){const t={field:"__collection,__ancestor_collection,__parent_collection"};try{W.item.getItemMetadata({itemId:e,matrixParams:Object.entries(t)}).then((e=>this.setState({metadataListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,title:n,itemId:o}=this.props,{metadataListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:a,codeModal:"MetadataListDocument",onRefresh:this.onRefresh,title:n}),t&&Object(le.jsx)(t,{}),a&&Object(le.jsx)(If,{metadataListDocument:a,onSuccess:this.onRefresh,entityType:"item",entityId:o})]})}}var Df=he(Rf);const Ff=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"placeholder",children:"Placeholder"}),Object(le.jsxs)(Zt,{name:"placeholder",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"all",children:"All"}),Object(le.jsx)(Xn.a,{value:"true",children:"True"}),Object(le.jsx)(Xn.a,{value:"false",children:"False"})]})]}),Object(le.jsx)(Zt,{name:"version",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"url",component:en}),label:"Show URL"})]});var Tf=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Ff})]})}));function Ef(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.shape.createShapeEssenceImport({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Pf(e,t,n){const{queryParams:o,shapeDocument:a={}}=e,s=n.itemId||e.itemId;return W.shape.createShape({itemId:s,queryParams:o,shapeDocument:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Nf(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.shape.createShapeImport({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function kf(e,t,n){const{queryParams:o,simpleMetadataDocument:a={}}=e,s=n.itemId||e.itemId;return W.shape.createShapePlaceholder({itemId:s,metadataDocument:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Mf(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.shape.createShapeImportImp({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Af(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId;return W.shape.listShape({itemId:a,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Lf(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId;return W.shape.getShape({itemId:a,shapeId:s,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Wf(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId;return W.shape.getShape({itemId:a,shapeId:s,queryParams:o,path:"/API/item/".concat(a,"/shape/").concat(s,"/file")}).then((e=>({itemId:a,shapeId:s,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function _f(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId;return W.shape.removeShape({itemId:a,shapeId:s,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function wf(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.shape.removeShapeAll({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Vf(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId;return W.shape.createTranscode({itemId:a,shapeId:s,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Uf(e,t,n){const{queryParams:o={}}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId;return W.shape.createDeduction({itemId:a,shapeId:s,queryParams:o}).then((e=>({itemId:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Bf(e,t,n){const o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.tagName||e.tagName;return W.shape.updateShapeTag({itemId:o,shapeId:a,tagName:s}).then((e=>({itemId:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function qf(e,t,n){const o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.mimeType||e.mimeType;return W.shape.updateShapeMime({itemId:o,shapeId:a,mimeType:encodeURIComponent(s)}).then((e=>({itemId:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Gf(e,t,n){const o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,{queryParams:s,simpleMetadataDocument:r}=e;return W.shape.updateShapePlaceholder({itemId:o,shapeId:a,queryParams:s,simpleMetadataDocument:r}).then((e=>({itemId:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Hf(e,t,n){const o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.tagName||e.tagName;return W.shape.removeShapeTag({itemId:o,shapeId:a,tagName:s}).then((e=>({itemId:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function zf(e,t,n){const o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.mimeType||e.mimeType;return W.shape.removeShapeMime({itemId:o,shapeId:a,mimeType:encodeURIComponent(s)}).then((e=>({itemId:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Jf(e,t,n){const{analyzeJobDocument:o={},queryParams:a}=e,s=n.itemId||e.itemId,r=n.shapeId||e.shapeId;return W.shape.createShapeAnalyze({itemId:s,shapeId:r,queryParams:a,analyzeJobDocument:o}).then((e=>({itemId:s,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Kf(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId;return W.shape.createTranscode({itemId:a,shapeId:s,queryParams:o,path:"/API/item/".concat(a,"/shape/").concat(s,"/export"),method:"POST"}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function Yf(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId;return W.shape.createTranscode({itemId:a,shapeId:s,queryParams:o,path:"/API/item/".concat(a,"/shape/").concat(s,"/export/imp"),method:"POST"}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const Xf="SHAPE_LIST_PARAMS_FORM";var $f=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,itemId:r,...c}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape List Display Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(Tf,{form:Xf,onSubmit:Af,onSubmitSuccess:(e,n,a)=>{o({messageContent:"Shape List Display Updated"}),t&&t(e,n,a)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Shape List Display",messageColor:"secondary"}),n&&n(e,t,a)},itemId:r,...c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(Xf),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Xf),children:"Update"})]})]})}));class Qf extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){const{setOnRefresh:e}=this.props;e&&e(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){const t={placeholder:"all"};try{W.shape.listShape({itemId:e,queryParams:t}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{uriListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)($f,{itemId:e,onSuccess:e=>this.setState({uriListDocument:e.data})}),a&&Object(le.jsx)(ct,{uriListDocument:a,linkTo:t=>"/item/".concat(e,"/shape/").concat(t,"/")})]})}}var Zf=he(Qf);const ev="ITEM_PARAMS_FORM";var tv=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,itemId:r,...c}){return Object(le.jsxs)(Uh,{defaultExpanded:!0,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Display Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(yx,{form:ev,onSubmit:Vg,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Item Display",messageColor:"secondary"}),n&&n(e,t,a)},itemId:r,...c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(ev),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(ev),children:"Update"})]})]})}));function nv({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Rg,{...e})})})}const ov=new URLSearchParams({content:"metadata",field:["title","originalFilename"],terse:!0});var av=e=>Object(d.f)("/item/?".concat(ov.toString()),e),sv=e=>Object(d.f)("/item/:itemId",e),rv=e=>Object(d.f)("/item/:itemId/shape/",e),cv=e=>Object(d.f)("/item/:itemId/shape/:shapeId",e),iv=e=>Object(d.f)("/item/:itemId/shape/:shapeId/component/",e),lv=e=>Object(d.f)("/item/:itemId/shape/:shapeId/component/:componentId/",e),jv=e=>Object(d.f)("/item/:itemId/version/",e),dv=e=>Object(d.f)("/item/:itemId/bulky-metadata/",e),mv=e=>Object(d.f)("/file/",e),hv=e=>Object(d.f)("/file/:fileId",e);const uv=({shapeId:e,title:t})=>Object(le.jsxs)($.a,{container:!0,alignItems:"center",children:[Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",children:"Shape"})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{disabled:!0,children:Object(le.jsx)(H.a,{})})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(X.a,{variant:"h5",children:e})}),t&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{disabled:!0,children:Object(le.jsx)(H.a,{})})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(X.a,{variant:"h5",children:t})})]})]});var bv=T((function({title:e,itemId:t,shapeId:n,onOpen:o,transcodeModal:a,removeModal:s,addTagModal:r,removeTagModal:c,addMimeTypeModal:i,removeMimeTypeModal:l,analyzeTagModal:j,addComponentModal:d,exportModal:m,exportImpModal:h,deductionModal:u,placeholderUpdateModal:b,createShapeModal:p,createPlaceholderComponentModal:O,breadcrumbList:x=[],...g}){return Object(le.jsx)(Ae,{breadcrumbList:Array.isArray(x)?[{title:"Item",to:av()},{title:t,to:sv({itemId:t})},{title:"Shape",to:rv({itemId:t})},{title:n,to:cv({itemId:t,shapeId:n})},...x]:void 0,actionComponent:Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:a}),children:Object(le.jsx)(X.a,{children:"Transcode"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:u}),children:Object(le.jsx)(X.a,{children:"Deduction Update"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:j}),children:Object(le.jsx)(X.a,{children:"Analyze"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:d}),children:Object(le.jsx)(X.a,{children:"Import Component"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:r}),children:Object(le.jsx)(X.a,{children:"Add Tag"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:i}),children:Object(le.jsx)(X.a,{children:"Add Mime-Type"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:b}),children:Object(le.jsx)(X.a,{children:"Update Placeholder"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:m}),children:Object(le.jsx)(X.a,{children:"Export"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:h}),children:Object(le.jsx)(X.a,{children:"Export IMF Package"})}),O?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:O}),children:Object(le.jsx)(X.a,{children:"Create Placeholder Component"})}):null,p?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:p}),children:Object(le.jsx)(X.a,{children:"Create Shape"})}):null,Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:c}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Remove Tag"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:MimeType}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Remove Mime-Type"})}),Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:s}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete"})})]}),...g})}));const pv=({fileType:e})=>Object(le.jsxs)(Ge.a,{hover:!0,children:[Object(le.jsx)(Be.a,{children:Object(le.jsx)(un,{to:"/file/".concat(e.id,"/"),children:e.id})}),Object(le.jsx)(Be.a,{children:e.size&&e.size>-1&&dn(e.size)}),Object(le.jsx)(Be.a,{children:e.state}),Object(le.jsx)(Be.a,{children:e.timestamp?sn()(e.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),Object(le.jsx)(Be.a,{children:e.path}),Object(le.jsx)(Be.a,{children:e.hash}),Object(le.jsx)(Be.a,{children:Object(le.jsx)(un,{to:"/storage/".concat(e.storage,"/"),children:e.storage})})]},e.id);function Ov({value:e,hideNoValue:t,title:n="Files"}){return t&&void 0===e?null:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(X.a,{variant:"subtitle2",children:n}),Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"ID"}),Object(le.jsx)(Be.a,{children:"Size"}),Object(le.jsx)(Be.a,{children:"State"}),Object(le.jsx)(Be.a,{children:"Timestamp"}),Object(le.jsx)(Be.a,{children:"Path"}),Object(le.jsx)(Be.a,{children:"Hash"}),Object(le.jsx)(Be.a,{children:"Storage"})]})}),Array.isArray(e)&&Object(le.jsx)(Ue.a,{children:e.map((e=>Object(le.jsx)(pv,{fileType:e},e.id)))})]})]})}const xv=({value:e={}})=>Object(le.jsx)(En,{value:e,component:({value:e})=>Object(le.jsx)(Dn,{title:e.key,value:e.value,titleStartCase:!1,hideNoValue:!0,hover:!0})}),gv=({value:e={},title:t="Component",hideMetadata:n=!0,...o})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"".concat(t," ID"),value:e.id,...o}),!n&&Object(le.jsx)(Fn,{title:"".concat(t," Metadata"),value:e.metadata,component:xv,dense:!0,...o}),Object(le.jsx)(Ov,{title:"".concat(t," Files"),value:void 0!==e.id?e.file:void 0,hideNoValue:void 0===e.id,...o})]}),fv=({value:e={},title:t="Component",...n})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(gv,{title:t,value:e,...n}),Object(le.jsx)(Dn,{title:"codec",value:e.codec,...n}),Object(le.jsx)(Fn,{title:"timeBase",component:Va,value:e.timeBase,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"itemTrack",value:e.itemTrack,...n}),Object(le.jsx)(Dn,{title:"essenceStreamId",value:e.essenceStreamId,...n}),Object(le.jsx)(Fn,{title:"interval",component:Ga,value:e.interval,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"bitrate",value:e.bitrate,...n}),Object(le.jsx)(Dn,{title:"numberOfPackets",value:e.numberOfPackets,...n}),Object(le.jsx)(Dn,{title:"extradata",value:e.extradata,...n}),Object(le.jsx)(Dn,{title:"pid",value:e.pid,...n}),Object(le.jsx)(Fn,{title:"duration",component:Ua,value:e.duration,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"profile",value:e.profile,...n}),Object(le.jsx)(Dn,{title:"level",value:e.level,...n}),Object(le.jsx)(Fn,{title:"startTimestamp",component:Ua,value:e.startTimestamp,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"repeatCount",value:e.repeatCount,...n}),Object(le.jsx)(Dn,{title:"trackOrder",value:e.trackOrder,...n}),Object(le.jsx)(Dn,{title:"segment",value:e.segment,...n})]}),vv=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(En,{component:_a,dense:!0,value:e.property,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"Bit_rate_mode",value:e.Bit_rate_mode,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"Source",value:e.Source,hideNoValue:!0,hover:!0})]}),yv=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(gv,{title:"Container Component",value:e,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"duration",component:Ua,value:e.duration,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"format",value:e.format,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"subFormat",value:e.subFormat,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"firstSMPTETimecode",value:e.firstSMPTETimecode,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"startTimecode",value:e.startTimecode,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"startTimestamp",component:Ua,value:e.startTimestamp,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"roundedTimeBase",value:e.roundedTimeBase,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"dropFrame",value:e.dropFrame,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"timeCodeTimeBase",component:Va,value:e.timeCodeTimeBase,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"mediaInfo",component:vv,value:e.mediaInfo,hideNoValue:!0,hover:!0})]}),Cv=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(gv,{title:"Descriptor Component",value:e,hideNoValue:!0,hover:!0}),Object(le.jsx)(En,{value:e.description,hover:!1,component:({value:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{value:e.value,variant:"xml",title:e.type,hideCode:!0})})})]}),Sv=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(gv,{title:"Binary Component",value:e,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"format",value:e.format,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"encoding",value:e.encoding,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"offset",value:e.offset,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"length",value:e.length,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"mediaInfo",component:vv,value:e.mediaInfo,hideNoValue:!0,hover:!0})]}),Iv=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(fv,{title:"Audio Component",value:e,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"channelCount",value:e.channelCount,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"channelLayout",value:e.channelLayout,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"sampleFormat",value:e.sampleFormat,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"frameSize",value:e.frameSize,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"blockAlign",value:e.blockAlign,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"mediaInfo",component:vv,value:e.mediaInfo,hideNoValue:!0,hover:!0})]}),Rv=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(fv,{title:"Video Component",value:e,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"resolution",component:Ba,value:e.resolution,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"pixelFormat",value:e.pixelFormat,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"maxBFrames",value:e.maxBFrames,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"pixelAspectRatio",component:qa,value:e.pixelAspectRatio,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"fieldOrder",value:e.fieldOrder,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"codecTimeBase",component:Va,value:e.codecTimeBase,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"averageFrameRate",component:Va,value:e.averageFrameRate,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"realBaseFrameRate",component:Va,value:e.realBaseFrameRate,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"displayWidth",component:wa,value:e.displayWidth,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"displayHeight",component:wa,value:e.displayHeight,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"displayXOffset",component:wa,value:e.displayXOffset,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"displayYOffset",component:wa,value:e.displayYOffset,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"containerSAR",component:qa,value:e.containerSAR,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"colr_primaries",value:e.colr_primaries,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"colr_transfer_function",value:e.colr_transfer_function,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"colr_matrix",value:e.colr_matrix,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"max_packet_size",value:e.max_packet_size,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"startTimecode",value:e.startTimecode,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"dropFrame",value:e.dropFrame,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"ticks_per_frame",value:e.ticks_per_frame,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"bitDepth",value:e.bitDepth,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"bitsPerPixel",value:e.bitsPerPixel,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"colorPrimaries",value:e.colorPrimaries,hideNoValue:!0,hover:!0}),Object(le.jsx)(Fn,{title:"mediaInfo",component:vv,value:e.mediaInfo,hideNoValue:!0,hover:!0})]}),Dv=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(fv,{title:"Subtitle Component",value:e,hideNoValue:!0,hover:!0})}),Fv=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"id",value:e.id,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"created",value:e.created,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"essenceVersion",value:e.essenceVersion,hideNoValue:!0,hover:!0}),Object(le.jsx)(ta,{title:"tag",value:e.tag,hideNoValue:!0,hover:!0}),Object(le.jsx)(ta,{title:"mimeType",value:e.mimeType,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"uuid",value:e.uuid,hideNoValue:!0,hover:!0})]});function Tv({shapeDocument:e={},itemId:t,shapeId:n,onRefresh:o}){if(void 0===e)return null;const{metadata:a}=e;return Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Shape - ".concat(n)})}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(Fv,{value:e}),Object(le.jsx)(Fi,{simpleMetadataDocument:a,title:"Shape Metadata",titleProps:{variant:"subtitle2"},onSuccess:o,entityType:"item",entityId:"".concat(t,"/shape/").concat(n)})]})]})}function Ev({metadata:e,componentId:t,itemId:n,shapeId:o,onRefresh:a,...s}){const r=void 0!==n||void 0!==o||void 0!==t?"".concat(n,"/shape/").concat(o,"/component/").concat(t):void 0;return Object(le.jsx)(Fi,{simpleMetadataDocument:{field:e},titleProps:{variant:"subtitle2"},onSuccess:a,entityType:"item",entityId:r,...s})}var Pv=T((function({itemId:e,shapeId:t,componentId:n,onOpen:o,analyzeModal:a,removeModal:s,removeFileModal:r,associateFileModal:c,moveToShapeModal:i,copyToShapeModal:l,moveToComponentModal:j,copyToComponentModal:d}){return Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{component:un,to:"/item/".concat(e,"/shape/").concat(t,"/component/").concat(n,"/"),children:Object(le.jsx)(X.a,{children:"Go To Component"})}),a?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:a,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{children:"Analyze"})}):null,c?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:c,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{children:"Associate File"})}):null,i?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:i,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{children:"Move To Shape"})}):null,l?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:l,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{children:"Copy To Shape"})}):null,j?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:j,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{children:"Move To Component"})}):null,d?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:d,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{children:"Copy To Component"})}):null,r?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:r,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Unassociate File"})}):null,s?Object(le.jsx)(Xn.a,{onClick:()=>o({modalName:s,itemId:e,shapeId:t,componentId:n}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete Component"})}):null]})}));function Nv({shapeDocument:e={},itemId:t,shapeId:n,onRefresh:o,ShapeComponentMenuProps:a={}}){const{containerComponent:s}=e;if(void 0===s)return null;const{id:r,metadata:c}=s;return Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:r?Object(le.jsx)(X.a,{variant:"subtitle1",children:"Container Component - ".concat(r)}):"Container Component",action:r?Object(le.jsx)(Pv,{componentId:r,itemId:t,shapeId:n,...a}):void 0}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(yv,{value:s}),Object(le.jsx)(Ev,{title:"Container Component Metadata",metadata:c,onRefresh:o,itemId:t,shapeId:n,componentId:r})]})]})}function kv({videoComponent:e={},itemId:t,shapeId:n,onRefresh:o,ShapeComponentMenuProps:a={}}){if(void 0===e)return null;const{id:s,metadata:r}=e;return Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:s?Object(le.jsx)(X.a,{variant:"subtitle1",children:"Video Component - ".concat(s)}):"Video Component",action:s?Object(le.jsx)(Pv,{componentId:s,itemId:t,shapeId:n,...a}):void 0}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(Rv,{value:e}),Object(le.jsx)(Ev,{title:"Video Component Metadata",metadata:r,onRefresh:o,itemId:t,shapeId:n,componentId:s})]})]})}function Mv({shapeDocument:e={},...t}){const{videoComponent:n}=e;return void 0!==n&&Array.isArray(n)?n.map((e=>Object(le.jsx)(kv,{videoComponent:e,...t},e.id))):null}function Av({descriptorComponent:e={},itemId:t,shapeId:n,onRefresh:o,ShapeComponentMenuProps:a={}}){if(void 0===e)return null;const{id:s,metadata:r}=e;return Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:s?Object(le.jsx)(X.a,{variant:"subtitle1",children:"Descriptor Component - ".concat(s)}):"Descriptor Component",action:s?Object(le.jsx)(Pv,{componentId:s,itemId:t,shapeId:n,...a}):void 0}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(Cv,{value:e}),Object(le.jsx)(Ev,{title:"Descriptor Component Metadata",metadata:r,onRefresh:o,itemId:t,shapeId:n,componentId:s})]})]})}function Lv({shapeDocument:e={},...t}){const{descriptorComponent:n}=e;return void 0!==n&&Array.isArray(n)?n.map((e=>Object(le.jsx)(Av,{descriptorComponent:e,...t},e.id))):null}function Wv({audioComponent:e={},itemId:t,shapeId:n,onRefresh:o,ShapeComponentMenuProps:a={}}){if(void 0===e)return null;const{id:s,metadata:r}=e;return Object(le.jsxs)(we,{id:s,children:[Object(le.jsx)(We.a,{disableTypography:!0,title:s?Object(le.jsx)(X.a,{variant:"subtitle1",children:"Audio Component - ".concat(s)}):"Audio Component",action:s?Object(le.jsx)(Pv,{componentId:s,itemId:t,shapeId:n,...a}):void 0}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(Iv,{value:e}),Object(le.jsx)(Ev,{title:"Audio Component Metadata",metadata:r,onRefresh:o,itemId:t,shapeId:n,componentId:s})]})]})}function _v({shapeDocument:e={},...t}){const{audioComponent:n}=e;return void 0!==n&&Array.isArray(n)?n.map((e=>Object(le.jsx)(Wv,{audioComponent:e,...t},e.id))):null}function wv({binaryComponent:e={},itemId:t,shapeId:n,onRefresh:o,ShapeComponentMenuProps:a={}}){if(void 0===e)return null;const{id:s,metadata:r}=e;return Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:s?Object(le.jsx)(X.a,{variant:"subtitle1",children:"Binary Component - ".concat(s)}):"Binary Component",action:s?Object(le.jsx)(Pv,{componentId:s,itemId:t,shapeId:n,...a}):void 0}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(Sv,{value:e}),Object(le.jsx)(Ev,{title:"Binary Component Metadata",metadata:r,onRefresh:o,itemId:t,shapeId:n,componentId:s})]})]})}function Vv({shapeDocument:e={},...t}){const{binaryComponent:n}=e;return void 0!==n&&Array.isArray(n)?n.map((e=>Object(le.jsx)(wv,{binaryComponent:e,...t},e.id))):null}function Uv({subtitleComponent:e={},itemId:t,shapeId:n,onRefresh:o,ShapeComponentMenuProps:a={}}){if(void 0===e)return null;const{id:s,metadata:r}=e;return Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:s?Object(le.jsx)(X.a,{variant:"subtitle1",children:"Subtitle Component - ".concat(s)}):"Subtitle Component",action:s?Object(le.jsx)(Pv,{componentId:s,itemId:t,shapeId:n,...a}):void 0}),Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(Dv,{value:e}),Object(le.jsx)(Ev,{title:"Subtitle Component Metadata",metadata:r,onRefresh:o,itemId:t,shapeId:n,componentId:s})]})]})}function Bv({shapeDocument:e={},...t}){const{subtitleComponent:n}=e;return void 0!==n&&Array.isArray(n)?n.map((e=>Object(le.jsx)(Uv,{subtitleComponent:e,...t},e.id))):null}function qv(e){const{shapeDocument:t}=e;return void 0===t?null:Object(le.jsxs)(ii,{children:[Object(le.jsx)(Tv,{...e}),Object(le.jsx)(Nv,{...e}),Object(le.jsx)(Mv,{...e}),Object(le.jsx)(_v,{...e}),Object(le.jsx)(Vv,{...e}),Object(le.jsx)(Lv,{...e}),Object(le.jsx)(Bv,{...e})]})}function Gv({shapeList:e=[],itemId:t}){return void 0!==e&&Array.isArray(e)?e.map((e=>Object(le.jsxs)(s.a.Fragment,{children:[t?Object(le.jsx)(bv,{shapeId:e.id,itemId:t}):Object(le.jsx)(uv,{shapeId:e.id}),Object(le.jsx)(qv,{shapeDocument:e})]},e.id))):null}function Hv({itemDocument:e}){if(void 0===e)return null;const{id:t,metadata:n,thumbnails:o,posters:a,files:s,shape:r}=e;return Object(le.jsxs)(le.Fragment,{children:[n&&Object(le.jsx)(nv,{itemId:t,metadataDocument:n}),o&&Object(le.jsx)(ct,{title:"Thumbnails",uriListDocument:o}),a&&Object(le.jsx)(ct,{title:"Posters",uriListDocument:a}),s&&Object(le.jsx)(ct,{title:"Files",uriListDocument:s}),r&&Object(le.jsx)(Gv,{itemId:t,shapeList:r})]})}class zv extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onRefresh(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{submitForm:e}=this.props;e(ev)}render(){const{itemId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{itemDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(tv,{itemId:e,onSuccess:e=>this.setState({itemDocument:e.data})}),a&&Object(le.jsx)(Hv,{itemId:e,itemDocument:a})]})}}var Jv=Mo(zv);const Kv=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"type",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"scheme",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"storageType",children:"StorageType"}),Object(le.jsx)(Zt,{name:"storageType",component:Lt,children:lc.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"methodType",children:"Method Type"}),Object(le.jsxs)(Zt,{name:"methodType",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"AUTO",children:"AUTO"}),Object(le.jsx)(Xn.a,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),Object(le.jsx)(Zt,{name:"methodMetadata",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"closedFiles",component:en}),label:"Closed Files"})]});var Yv=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:Kv})]})}));const Xv="ITEM_URI_PARAMS_FORM";var $v=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,itemId:r,...c}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item URI Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(Yv,{form:Xv,onSubmit:Bg,onSubmitSuccess:(e,n,a)=>{o({messageContent:"Item URI Display Updated"}),t&&t(e,n,a)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Item URI Display",messageColor:"secondary"}),n&&n(e,t,a)},itemId:r,...c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(Xv),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Xv),children:"Update"})]})]})}));class Qv extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.item.getItemUri({itemId:e}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{uriListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)($v,{itemId:e,onSuccess:e=>this.setState({uriListDocument:e.data})}),a&&Object(le.jsx)(ct,{uriListDocument:a})]})}}var Zv=he(Qv),ey=n(778),ty=n(779),ny=n(780);function oy({uriListDocument:e}){if(void 0===e)return null;const{uri:t=[]}=e,n=e=>{let[t]=e.split("?");return[,t]=t.split(";"),t};return Object(le.jsx)(ey.a,{cellHeight:"auto",cols:1,children:t.map((e=>Object(le.jsxs)(ty.a,{children:[Object(le.jsx)("img",{src:e,alt:e}),Object(le.jsx)(ny.a,{title:n(e)})]},e)))})}class ay extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){const t=W.utils.defaultClient.defaults.baseURL||"",n={content:"poster","noauth-url":!0,baseURI:"".concat(t,"/APInoauth/")};try{W.item.getItem({itemId:e,queryParams:n}).then((e=>this.setState({itemDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,title:n}=this.props,{itemDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:o,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:n}),t&&Object(le.jsx)(t,{}),o&&Object(le.jsx)(le.Fragment,{children:o.posters&&Object(le.jsx)(oy,{uriListDocument:o.posters})})]})}}var sy=he(ay);function ry({uriListDocument:e}){if(void 0===e)return null;const{uri:t=[]}=e,n=e=>{let[t]=e.split("?");return[,t]=t.split(";"),t};return Object(le.jsx)(ey.a,{cellHeight:"auto",cols:3,children:t.map((e=>Object(le.jsxs)(ty.a,{children:[Object(le.jsx)("img",{src:e,alt:e}),Object(le.jsx)(ny.a,{title:n(e)})]},e)))})}class cy extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={itemDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){const t=W.utils.defaultClient.defaults.baseURL||"",n={content:"thumbnail","noauth-url":!0,baseURI:"".concat(t,"/APInoauth/")};try{W.item.getItem({itemId:e,queryParams:n}).then((e=>this.setState({itemDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,title:n}=this.props,{itemDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:o,codeModal:"ItemDocument",onRefresh:this.onRefresh,title:n}),t&&Object(le.jsx)(t,{}),o&&Object(le.jsx)(le.Fragment,{children:o.thumbnails&&Object(le.jsx)(ry,{uriListDocument:o.thumbnails})})]})}}var iy=he(cy);class ly extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.state={jobListDocument:void 0,count:void 0,page:1,rowsPerPage:10,orderBy:"jobId",orderDirection:"desc",sort:"jobId desc",first:0,number:10}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Jobs",messageColor:"secondary"})}onFetch(e){const{sort:t,first:n,number:o}=this.state,a={first:n,number:o,sort:t},s={jobmetadata:[{key:"itemId",value:e}]};try{W.job.listJob({queryParams:s,matrixParams:Object.entries(a)}).then((e=>this.onSuccess(e))).catch((e=>this.onRefreshError(e)))}catch(r){this.onRefreshError(r)}}onSuccess(e){const t=e.data,{first:n=0,number:o=10}=this.state,{hits:a=0}=t,s=Math.ceil(a/o)-Math.ceil((a-n)/o);this.setState({count:a,rowsPerPage:o,page:s,jobListDocument:t})}async onChangePage({page:e}){const{number:t=10}=this.state,n=e*t;await this.setState({first:n}),this.onRefresh()}async onChangeRowsPerPage({target:{value:e}}={}){await this.setState({first:0,number:e}),this.onRefresh()}onChangeOrder(e){return async()=>{const{orderDirection:t,orderBy:n}=this.state;let o,a,s="";e!==n?(a=e,o="desc",s=["".concat(e," ").concat(o)]):"desc"===t&&(a=e,o="asc",s=["".concat(e," ").concat(o)]),await this.setState({orderBy:a,orderDirection:o,sort:s}),this.onRefresh()}}render(){const{jobListDocument:e,count:t,page:n,rowsPerPage:o,orderBy:a,orderDirection:s}=this.state,{titleComponent:r,tabComponent:c,title:i}=this.props;return Object(le.jsxs)(le.Fragment,{children:[r&&Object(le.jsx)(r,{code:e,codeModal:"JobListDocument",onRefresh:this.onRefresh,title:i}),c&&Object(le.jsx)(c,{}),Object(le.jsx)(su,{jobListDocument:e,count:t,page:n,rowsPerPage:o,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:a,orderDirection:s})]})}}var jy=he(ly);const dy=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0})});var my=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"matrixParams",component:dy})]})}));const hy="ITEM_PROJECTION_FORM";var uy=Object(m.c)(ue,Mo)((function({submitForm:e,openSnackBar:t,onSuccess:n,onFail:o,itemId:a,outgoingProjectionDocument:s}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(my,{form:hy,onSubmit:_g,onSubmitSuccess:(e,o,a)=>{t({messageContent:"Projection Applied"}),n&&n(e,o,a)},onSubmitFail:(e,n,a)=>{t({messageContent:"Error Appying Projection",messageColor:"secondary"}),o&&o(e,n,a)},itemId:a,headers:{accept:"application/xml"},initialValues:{matrixParams:{projection:"default"}}}),Object(le.jsx)(Oe.a,{color:"primary",variant:"contained",onClick:()=>e(hy),children:"Update"}),s&&Object(le.jsx)(Dn,{title:"Projection",value:s,variant:"xml",hideNoValue:!0})]})}));var by=function(e){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(uy,{...e})})})};class py extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={outgoingProjectionDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){const t={accept:"application/xml"},n=[{projection:"default"}];try{W.item.getItemMetadata({itemId:e,headers:t,matrixParams:n}).then((e=>this.setState({outgoingProjectionDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{outgoingProjectionDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"OutgoingProjectionDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),a&&Object(le.jsx)(by,{itemId:e,outgoingProjectionDocument:a,onSuccess:e=>this.setState({outgoingProjectionDocument:e.data})})]})}}var Oy=he(py);const xy=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"direction",children:"Direction"}),Object(le.jsxs)(Zt,{name:"direction",component:Lt,fullWidth:!0,children:[Object(le.jsx)(Xn.a,{value:"A",children:"All"}),Object(le.jsx)(Xn.a,{value:"U",children:"Unidirectional"}),Object(le.jsx)(Xn.a,{value:"S",children:"Source"}),Object(le.jsx)(Xn.a,{value:"T",children:"Target"}),Object(le.jsx)(Xn.a,{value:"D",children:"Source or Target"})]})]}),Object(le.jsx)(Yt,{name:"relationMetadata",component:Ea,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var gy=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,style:{width:"100%"},children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:xy})]})}));const fy="ITEM_RELATION_LIST_PARAMS_FORM";var vy=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,itemId:r,...c}){return Object(le.jsxs)(Uh,{defaultExpanded:!0,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Relation Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(gy,{form:fy,onSubmit:Hg,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Item Relations",messageColor:"secondary"}),n&&n(e,t,a)},itemId:r,...c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(fy),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(fy),children:"Update"})]})]})}));const yy=({isEditing:e,toggleEdit:t})=>Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:e,onChange:t}),Cy=({onRemove:e})=>Object(le.jsx)(w.a,{onClick:e,children:Object(le.jsx)(Bt.a,{})}),Sy=({toggleComponent:e=yy,toggleProps:t={},removeComponent:n=Cy,removeProps:o={},isEditing:a,toggleEdit:s,onRemove:r,...c})=>Object(le.jsxs)(le.Fragment,{children:[r&&Object(le.jsx)(n,{onRemove:r,...o,...c}),s&&Object(le.jsx)(e,{isEditing:a,toggleEdit:s,...t,...c})]}),Iy=({actionComponent:e=Sy,actionProps:t={},isEditing:n,toggleEdit:o,onRemove:a,cardHeaderProps:s={},...r})=>Object(le.jsx)(We.a,{action:Object(le.jsx)(e,{isEditing:n,toggleEdit:o,onRemove:a,...t,...r}),...s}),Ry=({editComponent:e,editProps:t={},displayComponent:n,displayProps:o={},isEditing:a,...s})=>Object(le.jsx)(Le.a,{children:a?Object(le.jsx)(e,{...t,...s}):Object(le.jsx)(n,{...o,...s})}),Dy=({children:e})=>Object(le.jsx)(we,{children:e}),Fy=({isEditing:e=!1,toggleEdit:t,onSave:n,saveProps:o={},cancelProps:a={}})=>e?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,...a,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:n,size:"small",color:"primary",...o,children:"Save"})]})]}):null;var Ty=({initialState:e=!1,editComponent:t,editProps:n={},displayComponent:o,displayProps:a={},cardComponent:r=Dy,cardProps:c={},cardHeaderComponent:i=Iy,cardHeaderProps:l={},cardContentComponent:j=Ry,cardContentProps:d={},cardActionComponent:m=Fy,cardActionProps:h={},onRemove:u,onSave:b,...p})=>{const[O,x]=s.a.useState(e),g=()=>x(!O);return Object(le.jsxs)(r,{...c,...p,children:[Object(le.jsx)(i,{isEditing:O,toggleEdit:g,onRemove:u,cardHeaderProps:l,...p}),Object(le.jsx)(j,{isEditing:O,toggleEdit:g,editComponent:t,editProps:n,displayComponent:o,displayProps:a,...d,...p}),Object(le.jsx)(m,{isEditing:O,toggleEdit:g,onSave:b,...h,...p})]})};const Ey=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"direction",children:"Direction"}),Object(le.jsxs)(Zt,{name:"direction",component:Lt,fullWidth:!0,children:[Object(le.jsx)(Xn.a,{value:"U",children:"Unidirectional"}),Object(le.jsx)(Xn.a,{value:"S",children:"Source"}),Object(le.jsx)(Xn.a,{value:"T",children:"Target"})]})]}),Py=()=>Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowDuplicate",component:en}),label:"Allow Duplicates"}),Ny=()=>Object(le.jsx)(Yt,{name:"relationMetadata",component:Ea,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),ky=()=>Object(le.jsx)(Zt,{name:"relationItemId",label:"Relation Item ID",component:_t,fullWidth:!0}),My=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ey,{}),Object(le.jsx)(Py,{}),Object(le.jsx)(Ny,{})]});var Ay=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,style:{width:"100%"},children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(ky,{}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:My})]})}));const Ly=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ey,{}),Object(le.jsx)(Ny,{})]});var Wy=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,style:{width:"100%"},children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:Ly})]})}));const _y="ITEM_RELATION_FORM_EDIT",wy=({itemRelationType:e})=>Object(le.jsxs)(le.Fragment,{children:[e.direction&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Source",value:e.direction.source}),Object(le.jsx)(Dn,{title:"Target",value:e.direction.target}),Object(le.jsx)(Dn,{title:"Type",value:e.direction.type})]}),e.value&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsx)(Dn,{title:"Metadata"}),e.value.map((e=>Object(le.jsx)(Dn,{title:e.key,value:e.value},e.key)))]})]}),Vy=({itemRelationType:e})=>Object(le.jsx)(wy,{itemRelationType:e}),Uy=({itemRelationType:e,toggleEdit:t,openSnackBar:n,onRefresh:o})=>Object(le.jsx)(Wy,{form:_y,onSubmit:Jg,onSubmitSuccess:()=>{t(),o()},onSubmitFail:()=>n({messageContent:"Error Updating Relation",messageColor:"secondary"}),relationId:e.id,initialValues:{queryParams:{direction:e.direction.type,relationMetadata:e.value}}});var By=Object(m.c)(Mo,ue)((({itemRelationType:e,openRemove:t,submitForm:n,onRefresh:o,openSnackBar:a})=>Object(le.jsx)(Ty,{editComponent:Uy,displayComponent:Vy,cardHeaderProps:{subheader:"Relation ID: ".concat(e.id)},itemRelationType:e,onRemove:t(e.id),onSave:()=>n(_y),onRefresh:o,openSnackBar:a})));function qy({itemRelationListDocument:e,openRemove:t,onRefresh:n}){if(void 0===e)return null;const{relation:o=[]}=e;return o.map((e=>Object(le.jsx)(By,{itemRelationType:e,openRemove:t,onRefresh:n},e.id)))}function Gy({onClose:e,isOpen:t,relationId:n,onRemove:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Relation ".concat(n," ?")}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:o(n),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const Hy="ITEM_RELATION_REMOVE_MODAL";class zy extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.state={itemRelationListDocument:void 0,currentRelationId:void 0}}componentDidMount(){const{setOnRefresh:e}=this.props;this.onRefresh(),e(this.onRefresh)}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onRefresh(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{submitForm:e}=this.props;e(fy)}onRemove(e){const{openSnackBar:t,onClose:n}=this.props;return()=>{W.item.removeRelation({relationId:e}).then((()=>{const o='Relation "'.concat(e,'" Removed');t({messageContent:o}),n(),this.onRefresh()})).catch((()=>{t({messageContent:"Error Removing Relation",messageColor:"secondary"})}))}}openRemove(e){const{onOpen:t}=this.props;return()=>{this.setState({currentRelationId:e},(()=>t({modalName:Hy})))}}render(){const{itemId:e,titleComponent:t,tabComponent:n,onClose:o,modalName:a,title:s}=this.props,{itemRelationListDocument:r,currentRelationId:c}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:r,codeModal:"ItemRelationListDocument",onRefresh:this.onRefresh,title:s}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(vy,{itemId:e,onSuccess:e=>this.setState({itemRelationListDocument:e.data})}),r&&Object(le.jsx)(qy,{itemId:e,itemRelationListDocument:r,openRemove:this.openRemove,onRefresh:this.onRefresh}),Object(le.jsx)(Gy,{isOpen:a===Hy,onClose:o,onRemove:this.onRemove,relationId:c})]})}}var Jy=Object(m.c)(Mo,ue)(zy);class Ky extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.bulkymetadata.listItemBulkyMetadata({itemId:e}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,title:n,itemId:o}=this.props,{uriListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:a,codeModal:"URIListDocument",onRefresh:this.onRefresh,title:n}),t&&Object(le.jsx)(t,{}),a&&Object(le.jsx)(ct,{uriListDocument:a,linkTo:e=>"/item/".concat(o,"/bulky-metadata/").concat(e,"/")})]})}}var Yy=he(Ky);const Xy=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:e.key,value:e.value})}),$y=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{value:e.entry,component:Xy})}),Qy=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{value:e.map,component:$y})}),Zy=({value:e})=>Object(le.jsxs)("div",{style:{marginBottom:4},children:[e.value&&Object(le.jsx)(Dn,{title:"Start:".concat(e.start," End:").concat(e.end),value:e.value,titleStartCase:!1,titleTypographyProps:{noWrap:!1}}),e.maps&&Object(le.jsx)(Fn,{title:"Start: ".concat(e.start," End: ").concat(e.end),titleStartCase:!1,value:e.maps,component:Qy})]});function eC({bulkyMetadataDocument:e}){const{field:t=[]}=e;return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{value:t,component:Zy})})}const tC=e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})},nC=(e={})=>Object.entries(e).reduce(((e,[t,n])=>({...e,[t]:encodeURIComponent(n)})),{});function oC(e,t,n){try{const t=nC(e.queryParams),o=n.itemId||e.itemId,a=n.bulkyMetadataKey||e.bulkyMetadataKey;return W.bulkymetadata.getItemBulkyMetadata({itemId:o,key:a,path:"/API/item/".concat(o,"/metadata/bulky/").concat(a,"/as-file"),headers:{accept:"application/octet-stream"},queryParams:t}).catch(tC)}catch(o){return tC(o)}}function aC(e,t,n){try{const t=nC(e.queryParams),o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.bulkyMetadataKey||e.bulkyMetadataKey;return W.bulkymetadata.getShapeBulkyMetadata({itemId:o,shapeId:a,key:s,path:"/API/item/".concat(o,"/shape/").concat(a,"/metadata/bulky/").concat(s,"/as-file"),headers:{accept:"application/octet-stream"},queryParams:t}).catch(tC)}catch(o){return tC(o)}}function sC(e,t,n){try{const t=nC(e.queryParams),o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId,r=n.bulkyMetadataKey||e.bulkyMetadataKey;return W.bulkymetadata.getComponentBulkyMetadata({itemId:o,shapeId:a,componentId:s,key:r,path:"/API/item/".concat(o,"/shape/").concat(a,"/component/").concat(s,"/metadata/bulky/").concat(r,"/as-file"),headers:{accept:"application/octet-stream"},queryParams:t}).catch(tC)}catch(o){return tC(o)}}const rC=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"start",label:"Start Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",label:"End Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"stream",label:"Stream Index",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"channel",label:"Audio Channel",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"itemTrack",label:"Item Track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"extraMapValues",label:"Extra Map Values",component:_t,fullWidth:!0})]});var cC=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,bulkyMetadataKey:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"bulkyMetadataKey",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:rC}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var iC=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,bulkyMetadataKey:l,form:j="BULKYMETADATA_DOWNLOAD_FORM"}){let d=oC;return c?d=aC:i&&(d=sC),Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Download ".concat(l)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(cC,{form:j,onSubmit:d,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Download Started"});const{data:r,headers:c}=e;!function({data:e,fileName:t}){const n=window.URL.createObjectURL(new Blob([e])),o=document.createElement("a");o.href=n,o.setAttribute("download",t),o.click(),window.URL.revokeObjectURL(n)}({data:r,fileName:((e={})=>{const{"content-disposition":t}=e;if(void 0===t)return;const n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t),o=null===n||void 0===n?void 0:n[1];return void 0!==o?o.replace(/['"]/g,""):void 0})(c)||l}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Download",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i,bulkyMetadataKey:l,initialValues:{queryParams:{start:"-INF",end:"+INF"}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(j),children:"Download"})]})]})}));const lC="BULKYMETADATA_DOWNLOAD_DIALOG";class jC extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e,bulkyMetadataKey:t}){const{itemId:n,bulkyMetadataKey:o}=this.props;n===e&&o===t||(this.onFetch(e,t),document.title="VidiCore Admin | Item | ".concat(e," | Bulky Metadata"))}onRefresh(){const{itemId:e,bulkyMetadataKey:t}=this.props;this.onFetch(e,t)}onFetch(e,t){try{W.bulkymetadata.getItemBulkyMetadata({itemId:e,key:t}).then((e=>this.setState({bulkyMetadataDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,bulkyMetadataKey:n,itemId:o}=this.props,{bulkyMetadataDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:a,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:dv({itemId:o})},{title:n}],downloadModal:lC}),t&&Object(le.jsx)(t,{}),a&&Object(le.jsx)(eC,{bulkyMetadataDocument:a}),Object(le.jsx)(iC,{dialogName:lC,itemId:o,bulkyMetadataKey:n})]})}}var dC=Object(m.c)(u,he)(jC);function mC({versionId:e,created:t,linkTo:n,textTo:o}){const a={};let s=e;return o&&(s=o(e)),n&&(a.to=n(e)),Object(le.jsxs)(at,{hover:!0,...a,children:[Object(le.jsx)(Be.a,{children:s}),Object(le.jsx)(Be.a,{children:t}),Object(le.jsx)(Be.a,{})]})}function hC({essenceVersionListDocument:e={},...t}){const{version:n=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"Version"}),Object(le.jsx)(Be.a,{children:"Created"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:n.map((({id:e,uri:n,created:o})=>Object(le.jsx)(mC,{versionId:e,uri:n,created:o,...t},e)))})]})}function uC({title:e,essenceVersionListDocument:t,...n}){return void 0===t?null:Object(le.jsxs)(we,{children:[e&&Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:e})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(hC,{essenceVersionListDocument:t,...n})})]})}class bC extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={essenceVersionListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e," | Version"))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.shape.listShapeEssence({itemId:e}).then((e=>this.setState({essenceVersionListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:e,titleComponent:t,tabComponent:n}=this.props,{essenceVersionListDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:o,codeModal:"EssenceVersionListDocument",onRefresh:this.onRefresh,title:"Version"}),n&&Object(le.jsx)(n,{}),o&&Object(le.jsx)(uC,{essenceVersionListDocument:o,linkTo:t=>"/item/".concat(e,"/version/").concat(t,"/")})]})}}var pC=Object(m.c)(he,u)(bC);function OC({essenceVersionDocument:e,linkTo:t,linkProps:n}){if(void 0===e)return null;const{shape:o=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"Shape ID"}),Object(le.jsx)(Be.a,{children:"Created"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:o.map((({id:e,created:o})=>Object(le.jsxs)(at,{hover:!0,...n,to:t(e),children:[Object(le.jsx)(Be.a,{children:e}),Object(le.jsx)(Be.a,{children:o}),Object(le.jsx)(Be.a,{})]},e)))})]})}function xC({title:e,essenceVersionDocument:t,...n}){return void 0===t?null:Object(le.jsxs)(we,{children:[e&&Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:e})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(OC,{essenceVersionDocument:t,...n})})]})}class gC extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={essenceVersionDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e,versionId:t}){const{itemId:n,versionId:o}=this.props;n===e&&o===t||(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e," | Version"))}onRefresh(){const{itemId:e,versionId:t}=this.props;this.onFetch({itemId:e,versionId:t})}onFetch({itemId:e,versionId:t}){try{W.shape.getShapeEssence({itemId:e,versionId:t}).then((e=>this.setState({essenceVersionDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:e,versionId:t,titleComponent:n,tabComponent:o}=this.props,{essenceVersionDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[n&&Object(le.jsx)(n,{code:a,codeModal:"EssenceVersionDocument",onRefresh:this.onRefresh,versionId:t,breadcrumbList:[{title:"Version",to:jv({itemId:e})},{title:t}]}),o&&Object(le.jsx)(o,{}),a&&Object(le.jsx)(xC,{essenceVersionDocument:a,linkTo:t=>"/item/".concat(e,"/shape/").concat(t,"/")})]})}}var fC=Object(m.c)(he,u)(gC);var vC=function({titleComponent:e}){return Object(le.jsxs)(d.d,{children:[Object(le.jsx)(d.b,{exact:!0,path:"/item/:itemId/version/:versionId",render:()=>Object(le.jsx)(fC,{titleComponent:e})}),Object(le.jsx)(d.b,{exact:!0,path:"/item/:itemId/version/",render:()=>Object(le.jsx)(pC,{titleComponent:e})})]})};function yC({metadataChangeSetDocument:e,...t}){const{changeSet:n}=e;return void 0!==n&&Array.isArray(n)?n.map((e=>Object(le.jsxs)(we,{id:e.id,children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Change Set - ".concat(e.id)})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Rg,{metadataDocument:e.metadata,...t})})]}))):null}function CC(e){return yC(e)}const SC=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"group",component:br,loadOptions:Px,cacheOptions:!0,isClearable:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"change",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"first",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"interval",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"language",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"samplerate",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"include",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"from",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"to",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"includeConstraintValue",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"includeExtraData",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"starttc",component:en}),label:"Start TC"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"defaultValue",component:en}),label:"Default Value"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeTransientMetadata",component:en}),label:"Include Transient Metadata"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"conflict",component:en}),label:"Conflict"})]});var IC=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:SC})]})}));const RC="METADATACHANGESETLIST_FORM";var DC=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,...r}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Metadata Changeset List Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(IC,{form:RC,onSubmit:e,onSubmitSuccess:(e,n,a)=>{o({messageContent:"Changeset List Updated"}),t&&t(e,n,a)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Changeset List",messageColor:"secondary"}),n&&n(e,t,a)},...r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(RC),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(RC),children:"Update"})]})]})}));function FC({...e}){return Object(le.jsx)(DC,{onSubmit:wg,...e})}class TC extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataChangeSetDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({itemId:e}){const{itemId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Item | ".concat(e))}onRefresh(){const{itemId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.metadata.listEntityMetadataChange({entity:"item",entityId:e}).then((e=>this.setState({metadataChangeSetDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Item",messageColor:"secondary"})}render(){const{itemId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{metadataChangeSetDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"MetadataChangeSetDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(FC,{itemId:e,onSuccess:e=>this.setState({metadataChangeSetDocument:e.data})}),a&&Object(le.jsx)(CC,{itemId:e,metadataChangeSetDocument:a})]})}}var EC=he(TC);function PC({uriListDocument:e,entityType:t,entityId:n}){if(void 0===e)return null;let o=e=>"/notification/".concat(e.split("/").pop(),"/");n&&t?o=e=>"/".concat(t,"/").concat(n,"/notification/").concat(e.split("/").pop(),"/"):t&&(o=e=>"/notification/".concat(t,"/").concat(e.split("/").pop(),"/"));return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(rt,{uriListDocument:e,linkTo:o,textTo:e=>e.split("/").pop()})})})}class NC extends s.a.PureComponent{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.state={[e.name]:e.initialvalue}}handleChange(e){return t=>{const n=this.state[e];this.props.onChange&&this.props.onChange(t,t.target.value,n,e),this.setState({[e]:t.target.value})}}render(){const{children:e,ValueComponent:t,label:n,...o}=this.props,a=this.state[this.props.name],s=t&&t(a);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fo.a,{children:n}),Object(le.jsx)(Wt.a,{...o,select:!0,value:a,FormHelperTextProps:{focused:!0},onChange:this.handleChange(this.props.name),children:e}),s]})}}const kC=({...e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Extra Data",value:e.extradata}),Object(le.jsx)(Dn,{title:"Retry",value:e.retry}),Object(le.jsx)(Dn,{title:"Synchronous",value:e.synchronous}),Object(le.jsx)(Dn,{title:"Group",value:e.group})]}),MC=({action:{http:e}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URL",value:e.url}),Object(le.jsx)(Dn,{title:"Content Type",value:e.contentType}),Object(le.jsx)(Dn,{title:"Method",value:e.method}),Object(le.jsx)(Dn,{title:"Timeout",value:e.timeout}),Object(le.jsx)(kC,{...e})]}),AC=({action:{ejb:e}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Bean",value:e.bean}),Object(le.jsx)(Dn,{title:"Method",value:e.method}),e.data&&e.data.map((e=>Object(le.jsx)(Dn,{title:e.key,value:e.value}))),Object(le.jsx)(kC,{...e})]}),LC=({action:{jms:e}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Queue",value:e.queue}),Object(le.jsx)(Dn,{title:"Queue Factory",value:e.queueFactory}),Object(le.jsx)(Dn,{title:"Content Type",value:e.contentType}),Object(le.jsx)(Dn,{title:"Username",value:e.username}),Object(le.jsx)(Dn,{title:"Password",value:e.password}),Object(le.jsx)(kC,{...e})]}),WC=({action:{sqs:e}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Queue",value:e.queue}),Object(le.jsx)(Dn,{title:"Endpoint",value:e.endpoint}),Object(le.jsx)(Dn,{title:"Content Type",value:e.contentType}),Object(le.jsx)(Dn,{title:"Access Key",value:e.accessKey}),Object(le.jsx)(Dn,{title:"Secret Key",value:e.secret}),Object(le.jsx)(Dn,{title:"Role ARN",value:e.roleArn}),Object(le.jsx)(Dn,{title:"RoleSession Name",value:e.roleSessionName}),Object(le.jsx)(Dn,{title:"Role External ID",value:e.roleExternalId}),Object(le.jsx)(Dn,{title:"Message Group ID",value:e.messageGroupId}),Object(le.jsx)(kC,{...e})]}),_C=({action:{sns:e}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Topic",value:e.topic}),Object(le.jsx)(Dn,{title:"Endpoint",value:e.endpoint}),Object(le.jsx)(Dn,{title:"Content Type",value:e.contentType}),Object(le.jsx)(Dn,{title:"Access Key",value:e.accessKey}),Object(le.jsx)(Dn,{title:"Secret Key",value:e.secret}),Object(le.jsx)(Dn,{title:"Role ARN",value:e.roleArn}),Object(le.jsx)(Dn,{title:"RoleSession Name",value:e.roleSessionName}),Object(le.jsx)(Dn,{title:"Role External ID",value:e.roleExternalId}),Object(le.jsx)(kC,{...e})]}),wC=({action:{javascript:e}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{value:e.script,variant:"code",codeProps:{mode:"application/javascript"}}),Object(le.jsx)(kC,{...e})]});function VC(e={}){return"http"in e?"http":"ejb"in e?"ejb":"jms"in e?"jms":"sqs"in e?"sqs":"sns"in e?"sns":"javascript"in e?"javascript":void 0}function UC({action:e={}}){let t=Object(le.jsx)(le.Fragment,{});const n=VC(e);switch(n){case"http":t=MC;break;case"ejb":t=AC;break;case"jms":t=LC;break;case"sqs":t=WC;break;case"sns":t=_C;break;case"javascript":t=wC}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Action Type",value:n}),Object(le.jsx)(t,{action:e})]})}function BC(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"retry",label:"Retry",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)($t.a,{name:"synchronous",label:"Synchronous",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"extradata",label:"Extra Data",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"group",label:"Group",component:_t,fullWidth:!0})]})}function qC(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"url",label:"URL",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"contentType",label:"Content Type",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"method",label:"Method",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"timeout",label:"Timeout",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(BC,{})]})}function GC(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"bean",label:"Bean",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"method",label:"Method",component:_t,fullWidth:!0}),Object(le.jsx)(Vt.a,{name:"data",component:Oi,label:"Data",buttonLabel:"Add Data"}),Object(le.jsx)(BC,{})]})}function HC(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"Queue",label:"Queue",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"queueFactory",label:"Queue Factory",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"contentType",label:"Content Type",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"username",label:"Username",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"password",label:"Password",component:_t,fullWidth:!0}),Object(le.jsx)(BC,{})]})}function zC(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"queue",label:"Queue",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"endpoint",label:"Endpoint",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"contentType",label:"Content Type",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"accessKey",label:"Access Key",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"secret",label:"Secret Key",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"roleArn",label:"Role ARN",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"roleSessionName",label:"Role Session Name",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"roleExternalId",label:"Role External ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"messageGroupId",label:"Message ID",component:_t,fullWidth:!0}),Object(le.jsx)(BC,{})]})}function JC(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"topic",label:"Topic",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"endpoint",label:"Endpoint",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"contentType",label:"Content Type",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"accessKey",label:"Access Key",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"secret",label:"Secret Key",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"roleArn",label:"Role ARN",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"roleSessionName",label:"Role Session Name",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"roleExternalId",label:"Role External ID",component:_t,fullWidth:!0}),Object(le.jsx)(BC,{})]})}function KC(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"script",component:Eo,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),Object(le.jsx)(BC,{})]})}function YC(e){const{initialValues:t={},valueSelector:n,dirty:o}=e;let a;if(o){a=VC(n("notificationDocument.action"))}else{const{notificationDocument:e={}}=t,{action:n={}}=e;a=VC(n)}return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(NC,{label:"Action Type",initialvalue:a,fullWidth:!0,onChange:(t,o,a,s)=>{const r=n(s);if(r){const t=Fa()(r,{[o]:{$set:{}},$unset:[a]});e.change(s,t)}else e.change(s,{})},ValueComponent:t=>{switch(t){case"http":return Object(le.jsx)(wt.a,{name:"http",component:qC,...e});case"ejb":return Object(le.jsx)(wt.a,{name:"ejb",component:GC,...e});case"jms":return Object(le.jsx)(wt.a,{name:"jms",component:HC,...e});case"sqs":return Object(le.jsx)(wt.a,{name:"sqs",component:zC,...e});case"sns":return Object(le.jsx)(wt.a,{name:"sns",component:JC,...e});case"javascript":return Object(le.jsx)(wt.a,{name:"javascript",component:KC,...e});default:return null}},name:"notificationDocument.action",children:[Object(le.jsx)(Xn.a,{value:"http",children:"HTTP"}),Object(le.jsx)(Xn.a,{value:"ejb",children:"EJB"}),Object(le.jsx)(Xn.a,{value:"jms",children:"JMS"}),Object(le.jsx)(Xn.a,{value:"sqs",children:"SQS"}),Object(le.jsx)(Xn.a,{value:"sns",children:"SNS"}),Object(le.jsx)(Xn.a,{value:"javascript",children:"Javascript"})]})})}var XC=Object(Tt.a)()((function(e){return Object(le.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(le.jsx)(X.a,{color:"error",children:e.error}),Object(le.jsx)(wt.a,{...e,name:"notificationDocument.action",component:YC}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function $C(e={}){let t;return void 0===e||("update"in e?t="update":"stop"in e?t="stop":"finished"in e?t="finished":"fail"in e?t="fail":"create"in e&&(t="create")),t}function QC(e){let t;return void 0===e||("job"in e?t="job":"metadata"in e?t="metadata":"collection"in e?t="collection":"item"in e?t="item":"storage"in e?t="storage":"file"in e?t="file":"group"in e?t="group":"shape"in e?t="shape":"access"in e?t="access":"quota"in e?t="quota":"document"in e?t="document":"deletionLock"in e&&(t="deletionLock")),t}const ZC=({trigger:{job:e}})=>{const t=$C(e);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Trigger Action",value:t}),Object(le.jsx)(Dn,{title:"Placeholder",value:e.placeholder}),e.filter&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Type",value:e.filter.type}),Object(le.jsx)(Dn,{title:"Step",value:e.filter.step}),e.filter.jobdata&&Object(le.jsxs)(le.Fragment,{children:[e.filter.jobdata.key&&Object(le.jsx)(Dn,{title:"Job Data Key",value:e.filter.jobdata.key}),e.filter.jobdata["key-regex"]&&Object(le.jsx)(Dn,{title:"Job Data Key Regex",value:e.filter.jobdata["key-regex"]}),e.filter.jobdata.value&&Object(le.jsx)(Dn,{title:"Job Data Value",value:e.filter.jobdata.value}),e.filter.jobdata["value-regex"]&&Object(le.jsx)(Dn,{title:"Job Data Value Regex",value:e.filter.jobdata["value-regex"]})]})]}),e.contentFilters&&Object(le.jsx)(Dn,{title:"Content Filters",variant:"list",value:e.contentFilters.contentFilter})]})},eS=({trigger:{metadata:e}})=>{let t;return"modify"in e&&(t="modify"),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Trigger Action",value:t}),"modify"===t&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Field",value:e.modify.field}),Object(le.jsx)(Dn,{title:"Language",value:e.modify.language}),Object(le.jsx)(Dn,{title:"Track",value:e.modify.track}),Object(le.jsx)(Dn,{title:"Interval",value:e.modify.interval})]})]})},tS=({trigger:{item:e}})=>{let t;return"modify"in e?t="modify":"create"in e?t="create":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},nS=({trigger:{collection:e}})=>{let t;return"modify"in e?t="modify":"create"in e?t="create":"delete"in e?t="delete":"item"in e?t="item":"metadata"in e&&(t="metadata"),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Trigger Action",value:t}),"metadata"===t&&Object(le.jsx)(eS,{trigger:{metadata:e.metadata}}),"item"===t&&Object(le.jsx)(tS,{trigger:{trigger:{item:e.item}}})]})},oS=({trigger:{storage:e}})=>{let t;return"filename"in e?t="filename":"create"in e?t="create":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},aS=({trigger:{file:e}})=>{let t;return"new"in e?t="new":"change"in e?t="change":"hash"in e?t="hash":"close"in e?t="close":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},sS=({trigger:{group:e}})=>{let t;return"modify"in e?t="modify":"create"in e?t="create":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},rS=({trigger:{shape:e}})=>{let t;return"modify"in e?t="modify":"create"in e?t="create":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},cS=({trigger:{access:e}})=>{let t;return"change"in e?t="change":"create"in e?t="create":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},iS=({trigger:{quota:e}})=>{let t;return"warning"in e?t="warning":"create"in e?t="create":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},lS=({trigger:{document:e}})=>{let t;return"create"in e?t="create":"delete"in e&&(t="delete"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})},jS=({trigger:{deletionLock:e}})=>{let t;return"create"in e?t="create":"delete"in e?t="delete":"modify"in e?t="modify":"effective"in e?t="effective":"expire"in e&&(t="expire"),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Trigger Action",value:t})})};function dS({trigger:e={}}){let t=Object(le.jsx)(le.Fragment,{});const n=QC(e);switch(n){case"job":t=ZC;break;case"metadata":t=eS;break;case"collection":t=nS;break;case"item":t=tS;break;case"storage":t=oS;break;case"file":t=aS;break;case"group":t=sS;break;case"shape":t=rS;break;case"access":t=cS;break;case"quota":t=iS;break;case"document":t=lS;break;case"deletionLock":t=jS}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Trigger Entity",value:n}),Object(le.jsx)(t,{trigger:e})]})}function mS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.item";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"})]})}function hS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.storage";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"}),Object(le.jsx)(Xn.a,{value:"filename",children:"Filename"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"filename",type:"hidden",component:"input"})]})}function uS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.file";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"new",children:"New"}),Object(le.jsx)(Xn.a,{value:"change",children:"Change"}),Object(le.jsx)(Xn.a,{value:"hash",children:"Hash"}),Object(le.jsx)(Xn.a,{value:"close",children:"Close"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"})]}),Object(le.jsx)($t.a,{name:"new",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"change",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"hash",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"close",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"})]})}function bS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.group";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"}),Object(le.jsx)(Xn.a,{value:"modify",children:"Modify"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"modify",type:"hidden",component:"input"})]})}function pS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.shape";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"}),Object(le.jsx)(Xn.a,{value:"modify",children:"Modify"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"modify",type:"hidden",component:"input"})]})}function OS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.access";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"}),Object(le.jsx)(Xn.a,{value:"change",children:"Change"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"change",type:"hidden",component:"input"})]})}function xS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.quota";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"}),Object(le.jsx)(Xn.a,{value:"warning",children:"Warning"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"warning",type:"hidden",component:"input"})]})}function gS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.document";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"})]})}function fS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.deletionLock";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{item:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Modify"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Effective"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Expire"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"modify",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"effective",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"expire",type:"hidden",component:"input"})]})}function vS(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"field",component:_t,label:"Field",fullWidth:!0}),Object(le.jsx)($t.a,{name:"language",component:_t,label:"Language",fullWidth:!0}),Object(le.jsx)($t.a,{name:"track",component:_t,label:"Track",fullWidth:!0}),Object(le.jsx)($t.a,{name:"interval",component:_t,label:"Interval",fullWidth:!0})]})}function yS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.metadata";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else try{const{notificationDocument:e={}}=t,{trigger:n={}}=e;if(n.collection){const{collection:{metadata:e}={}}=n;s=e&&Object.keys(e)[0]}else{const{metadata:e}=n;s=e&&Object.keys(e)[0]}}catch(r){console.log(r)}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(NC,{label:"Metadata Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a),c={};if(r){const t=Fa()(r,{[o]:{$set:c},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:c})},name:a,ValueComponent:t=>{switch(t){case"modify":return Object(le.jsx)(wt.a,{...e,name:"modify",component:vS,id:"".concat(a,".modify")});default:return null}},children:Object(le.jsx)(Xn.a,{value:"modify",children:"Modify"})}),Object(le.jsx)($t.a,{name:"modify",type:"hidden",component:"input"})]})}function CS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.collection";let s;if(o){const e=n(a);s=e&&Object.keys(e)[0]}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{collection:o}=n;s=o&&Object.keys(o)[0]}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a),c="metadata"===o?{}:"";if(r){const t=Fa()(r,{[o]:{$set:c},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:c})},name:a,ValueComponent:t=>{switch(t){case"metadata":return Object(le.jsx)(wt.a,{name:"metadata",component:yS,id:"".concat(a,".metadata"),...e});default:return null}},children:[Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"delete",children:"Delete"}),Object(le.jsx)(Xn.a,{value:"modify",children:"Modify"}),Object(le.jsx)(Xn.a,{value:"metadata",children:"Metadata"})]}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"delete",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"modify",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"metadata",type:"hidden",component:"input"})]})}function SS(){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($t.a,{name:"contentFilter",label:"Content Filter",component:Ta,simple:!0,fullWidth:!0})})}function IS(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"key",component:_t,label:"Key",fullWidth:!0}),Object(le.jsx)($t.a,{name:"value",component:_t,label:"Value",fullWidth:!0}),Object(le.jsx)($t.a,{name:"key-regex",component:_t,label:"Key Regex",fullWidth:!0}),Object(le.jsx)($t.a,{name:"value-regex",component:_t,label:"Value Regex",fullWidth:!0})]})}function RS(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"type",component:_t,label:"Filter Type",fullWidth:!0}),Object(le.jsx)($t.a,{name:"step",component:_t,label:"Filter Step",type:"number",fullWidth:!0}),Object(le.jsx)(wt.a,{name:"jobdata",component:IS})]})}function DS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger.job";let s;if(o){s=$C(n(a))}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e,{job:o}=n;s=$C(o)}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(NC,{label:"Trigger Action",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a);if(r){const t=Fa()(r,{[o]:{$set:""},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:""})},name:a,children:[Object(le.jsx)(Xn.a,{value:"update",children:"Update"}),Object(le.jsx)(Xn.a,{value:"create",children:"Create"}),Object(le.jsx)(Xn.a,{value:"stop",children:"Stop"}),Object(le.jsx)(Xn.a,{value:"finish",children:"Finish"}),Object(le.jsx)(Xn.a,{value:"fail",children:"Fail"})]}),Object(le.jsx)(wt.a,{name:"filter",component:RS}),Object(le.jsx)(wt.a,{name:"contentFilters",component:SS}),Object(le.jsx)($t.a,{name:"fail",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"stop",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"create",type:"hidden",component:"input"}),Object(le.jsx)($t.a,{name:"finish",type:"hidden",component:"input"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"placeholder",component:en}),label:"Placeholder"})]})}function FS(e){const{initialValues:t={},valueSelector:n,dirty:o}=e,a=e.id||"notificationDocument.trigger";let s;if(o){s=QC(n(a))}else{const{notificationDocument:e={}}=t,{trigger:n={}}=e;s=QC(n)}return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(NC,{label:"Trigger Entity",initialvalue:s,fullWidth:!0,onChange:(t,o,s)=>{const r=n(a),c={};if(r){const t=Fa()(r,{[o]:{$set:c},$unset:[s]});e.change(a,t)}else e.change(a,{[o]:c})},ValueComponent:t=>{switch(t){case"job":return Object(le.jsx)(wt.a,{name:"job",component:DS,...e});case"item":return Object(le.jsx)(wt.a,{name:"item",component:mS,...e});case"metadata":return Object(le.jsx)(wt.a,{name:"metadata",component:yS,...e});case"collection":return Object(le.jsx)(wt.a,{name:"collection",component:CS,...e});case"storage":return Object(le.jsx)(wt.a,{name:"storage",component:hS,...e});case"file":return Object(le.jsx)(wt.a,{name:"file",component:uS,...e});case"shape":return Object(le.jsx)(wt.a,{name:"shape",component:pS,...e});case"group":return Object(le.jsx)(wt.a,{name:"group",component:bS,...e});case"access":return Object(le.jsx)(wt.a,{name:"access",component:OS,...e});case"quota":return Object(le.jsx)(wt.a,{name:"quota",component:xS,...e});case"document":return Object(le.jsx)(wt.a,{name:"document",component:gS,...e});case"deletionLock":return Object(le.jsx)(wt.a,{name:"deletionLock",component:fS,...e});default:return null}},name:a,children:[Object(le.jsx)(Xn.a,{value:"job",children:"Job"}),Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"metadata",children:"Metadata"}),Object(le.jsx)(Xn.a,{value:"collection",children:"Collection"}),Object(le.jsx)(Xn.a,{value:"storage",children:"Storage"}),Object(le.jsx)(Xn.a,{value:"file",children:"File"}),Object(le.jsx)(Xn.a,{value:"shape",children:"Shape"}),Object(le.jsx)(Xn.a,{value:"group",children:"Group"}),Object(le.jsx)(Xn.a,{value:"access",children:"Access"}),Object(le.jsx)(Xn.a,{value:"quota",children:"Quota"}),Object(le.jsx)(Xn.a,{value:"access",children:"Access"}),Object(le.jsx)(Xn.a,{value:"document",children:"Document"}),Object(le.jsx)(Xn.a,{value:"deletionLock",children:"Deletion Lock"})]})})}var TS=Object(Tt.a)()((function(e){return Object(le.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(le.jsx)(X.a,{color:"error",children:e.error}),Object(le.jsx)(wt.a,{...e,name:"notificationDocument.trigger",component:FS}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const ES=e=>{var t;const n=(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||"";return JSON.stringify(n,((e,t)=>null===t?void 0:t))};function PS(e,t,n){try{const t=n.notificationId||e.notificationId,o=n.entityType||e.entityType,a=n.entityId||e.entityId,{notificationDocument:s}=e;return void 0!==a?W.notification.updateNotificationEntity({notificationId:t,entityType:o,entityId:a,notificationDocument:s}).catch((e=>{let t=e.message;throw e.response&&(t=ES(e)),new jt.a({_error:t})})):W.notification.updateNotification({notificationId:t,entityType:o,notificationDocument:s}).catch((e=>{let t=e.message;throw e.response&&(t=ES(e)),new jt.a({_error:t})}))}catch(o){throw new jt.a({_error:o.message})}}function NS(e){try{const{notificationDocument:t}=e,n="/API/notification";return W.notification.createNotification({entityType:"placeholder",notificationDocument:t,path:n}).then((e=>({...e}))).catch((e=>{let t=e.message;throw e.response&&(t=ES(e)),new jt.a({_error:t})}))}catch(t){throw new jt.a({_error:t.message})}}function kS(e,t,n){try{const{notificationDocument:t}=e,o=n.entityType||Object.keys(t.trigger)[0],a=n.entityId||e.entityId;return void 0!==a?W.notification.createNotificationEntity({entityId:a,entityType:o,notificationDocument:t}).then((e=>({...e,entityType:o,entityId:a}))).catch((e=>{let t=e.message;throw e.response&&(t=ES(e)),new jt.a({_error:t})})):W.notification.createNotification({entityType:o,notificationDocument:t}).then((e=>({...e,entityType:o}))).catch((e=>{let t=e.message;throw e.response&&(t=ES(e)),new jt.a({_error:t})}))}catch(o){throw new jt.a({_error:o.message})}}const MS="NOTIFICATION_CREATE_FORM";var AS=Object(m.c)(ue,Mo,Nh)((function({open:e,onClose:t,onSuccess:n,submitForm:o,entityType:a,entityId:s,valueSelector:r,openSnackBar:c}){const i=(e,o,a)=>{c({messageContent:"Notification Created"}),n&&n(e,o,a),t()},l=()=>{c({messageContent:"Error Creating Notification",messageColor:"secondary"})},j={entityId:s,notificationDocument:{action:{}}};return a&&(j.notificationDocument.trigger={},"deletion-lock"===a?j.notificationDocument.trigger.deletionLock={}:j.notificationDocument.trigger[a]={}),Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:a?"New ".concat(jn(a)," Notification"):"New Notification"}),Object(le.jsxs)(fe.a,{children:[a&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Trigger"}),Object(le.jsx)(TS,{entityType:a,form:MS,onSubmit:a?kS:NS,onSubmitSuccess:i,onSubmitFail:l,valueSelector:r,initialValues:j})]}),Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Action"}),Object(le.jsx)(XC,{entityType:a,form:MS,onSubmit:a?kS:NS,onSubmitSuccess:i,onSubmitFail:l,valueSelector:r,initialValues:j})]}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>o(MS),children:"Save"})]})]})}),MS);const LS="NOTIFICATION_CREATE_DIALOG";class WS extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onSetTitle=this.onSetTitle.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onSetTitle(),this.onRefresh()}UNSAFE_componentWillReceiveProps({entityType:e,entityId:t}){const{entityType:n,entityId:o}=this.props;n===e&&o===t||(this.onSetTitle(),this.onFetch(e))}onSetTitle(){const{entityType:e,entityId:t}=this.props;document.title="VidiCore Admin | ".concat(jn(e)," ").concat(t," Notification")}onRefresh(){const{entityType:e,entityId:t}=this.props;this.onFetch(e,t)}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(e,t){try{W.notification.listNotificationEntity({entityType:e,entityId:t}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}render(){const{entityType:e,entityId:t,history:n}=this.props,{uriListDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{grandParentTitle:jn(e),grandParentTo:"/".concat(e,"/"),parentTitle:t,title:"Notification",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:o,codeModal:"URIListDocument",createModal:LS,entityType:e}),Object(le.jsx)(PC,{uriListDocument:o,entityType:e,entityId:t}),Object(le.jsx)(AS,{dialogName:LS,entityType:e,entityId:t,onSuccess:o=>{const{data:a}=o,{uri:s}=a,r=s[0];n.push("/".concat(e,"/").concat(t,"/notification/").concat(r))}})]})}}var _S=ue(WS);const wS="NOTIFICATION_EDIT_FORM";var VS=Object(m.c)(ue,Mo,Nh)((function({notificationId:e,entityType:t,entityId:n,notificationDocument:o,submitForm:a,onRefresh:s,isEditing:r,toggleEdit:c,valueSelector:i,openSnackBar:l}){if(void 0===o)return null;const j=()=>{l({messageContent:"Notification Updated"}),s&&s(),c&&c()},d=()=>{l({messageContent:"Error Updating Notification",messageColor:"secondary"})},{action:m,trigger:h}=o,u=Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:r,onChange:c});return Object(le.jsxs)(ii,{children:[h&&Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(We.a,{title:"Trigger",action:u}),r?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(TS,{notificationId:e,entityType:t,entityId:n,form:wS,onSubmit:PS,onSubmitSuccess:j,onSubmitFail:d,initialValues:{notificationDocument:o},valueSelector:i})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{size:"small",color:"primary",variant:"contained",onClick:()=>a(wS),children:"Save"})})]}):Object(le.jsx)(Le.a,{children:Object(le.jsx)(dS,{notificationId:e,trigger:h,entityType:t,entityId:n})})]}),Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(We.a,{title:"Action",action:u}),r?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(XC,{notificationId:e,entityType:t,entityId:n,form:wS,onSubmit:PS,onSubmitSuccess:j,onSubmitFail:d,initialValues:{notificationDocument:o},valueSelector:i})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{size:"small",color:"primary",variant:"contained",onClick:()=>a(wS),children:"Save"})})]}):Object(le.jsx)(Le.a,{children:Object(le.jsx)(UC,{notificationId:e,action:m,entityType:t,entityId:n})})]})]})}),wS);var US=ue((function({open:e,onClose:t,openSnackBar:n,notificationId:o,entityType:a,entityId:s,onSuccess:r}){let c=()=>{const e="/API/notification/".concat(o);W.notification.removeNotification({notificationId:o,entityType:"placeholder",path:e}).then((()=>{const e="Notification ".concat(o," Removed");n({messageContent:e}),t(),r&&r()})).catch((()=>{n({messageContent:"Error Removing Notification",messageColor:"secondary"})}))};return s&&a?c=()=>{W.notification.removeNotificationEntity({notificationId:o,entityType:a,entityId:s}).then((()=>{const e="Notification ".concat(o," Removed");n({messageContent:e}),t(),r&&r()})).catch((()=>{n({messageContent:"Error Removing Notification",messageColor:"secondary"})}))}:a&&(c=()=>{W.notification.removeNotification({notificationId:o,entityType:a}).then((()=>{const e="Notification ".concat(o," Removed");n({messageContent:e}),t(),r&&r()})).catch((()=>{n({messageContent:"Error Removing Notification",messageColor:"secondary"})}))}),Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Notification ".concat(o,"?")}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:c,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const BS="NOTIFICATION_REMOVE_DIALOG";class qS extends s.a.PureComponent{constructor(e){super(e),this.onSetTitle=this.onSetTitle.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){this.onSetTitle(),this.onRefresh()}onSetTitle(){const{entityType:e,entityId:t,notificationId:n}=this.props;document.title="VidiCore Admin | ".concat(jn(e)," ").concat(t," | ").concat(n)}onRefresh(){const{entityType:e,entityId:t,notificationId:n}=this.props;try{W.notification.getNotificationEntity({notificationId:n,entityType:e,entityId:t}).then((e=>this.setState({notificationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{notificationId:e,entityType:t,entityId:n,history:o}=this.props,{notificationDocument:a,isEditing:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{breadcrumbList:[{to:"/".concat(t,"/"),title:jn(t)},{to:"/".concat(t,"/").concat(n),title:n},{to:"/".concat(t,"/").concat(n,"/notification/"),title:"Notification"},{title:e}],helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:a,codeModal:"NotificationDocument",entityId:"notification/".concat(e),entityType:t,removeModal:BS}),Object(le.jsx)(VS,{notificationDocument:a,entityType:t,entityId:n,notificationId:e,isEditing:s,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),Object(le.jsx)(US,{dialogName:BS,onSuccess:()=>o.push("/".concat(t,"/").concat(n,"/notification/")),entityType:t,entityId:n,notificationId:e})]})}}var GS=Object(m.c)(u,he)(qS);const HS=({uri:e})=>Object(le.jsx)(Dn,{title:"URI Type",value:e.type}),zS=({shape:e})=>Object(le.jsx)(Dn,{title:"Shape Tag",variant:"shape-tag",value:e.tag}),JS=({metadata:e})=>Object(le.jsx)(Dn,{title:"Metadata Field",variant:"metadata-field",value:e.field}),KS=({access:e})=>Object(le.jsxs)(le.Fragment,{children:[e.user&&Object(le.jsx)(Dn,{title:"User",variant:"username",value:e.user}),e.group&&Object(le.jsx)(Dn,{title:"Group",variant:"group",value:e.group}),Object(le.jsx)(Dn,{title:"Permission",value:e.permission}),Object(le.jsx)(Dn,{title:"Grantor",variant:"username",value:e.grantor}),Object(le.jsx)(Dn,{title:"Recursive",variant:"boolean",value:e.recursive}),Object(le.jsx)(Dn,{title:"Priority",value:e.priority}),e.operation&&e.operation.uri&&Object(le.jsx)(HS,{uri:e.operation.uri}),e.operation&&e.operation.shape&&Object(le.jsx)(zS,{shape:e.operation.shape}),e.operation&&e.operation.metadata&&Object(le.jsx)(JS,{metadata:e.operation.metadata})]});function YS({accessControlDocument:e}){return Object(le.jsx)(KS,{access:e})}function XS({accessControlDocument:e,entityType:t,entityId:n,openRemove:o}){const{id:a,permission:s}=e;let r;return"OWNER"!==s&&(r=Object(le.jsx)(w.a,{onClick:o(a),children:Object(le.jsx)(Bt.a,{})})),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{subheader:e.id,action:r}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(YS,{accessControlDocument:e,entityType:t,entityId:n})})]})}function $S({accessControlDocument:e,onRefresh:t,entityType:n,entityId:o,openRemove:a}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(XS,{accessControlDocument:e,onRefresh:t,entityType:n,entityId:o,openRemove:a})})})}function QS({accessControlListDocument:e={},onRefresh:t,entityType:n,entityId:o,openRemove:a,openCreate:s}){const{access:r=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[s&&Object(le.jsx)(We.a,{action:Object(le.jsx)(w.a,{onClick:s,children:Object(le.jsx)(q.a,{})})}),r.map((e=>Object(le.jsx)($S,{accessControlDocument:e,onRefresh:t,entityType:n,entityId:o,openRemove:a},e.id)))]})}function ZS({closeModal:e,isOpen:t,accessId:n,onRemove:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Import Setting ".concat(n," ?")}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Zd.a,{children:"Users may no longer be able to access this."})}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:o(n),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}class eI extends s.a.PureComponent{constructor(e){super(e),this.handleChange=this.handleChange.bind(this);const{meta:t,choices:n={}}=e,{initial:o={}}=t,a=Object.keys(n).find((e=>Object.keys(o).includes(e)));this.state={value:a||""}}handleChange(e){const{value:t}=e.target,{value:n}=this.state,{value:o,onChange:a}=this.props.input;if(o){a(Fa()(o,{[t]:{$set:""},$unset:[n]}))}else a({[t]:""});this.setState({value:t})}render(){const{children:e,label:t,choices:n={},input:o,...a}=this.props,{value:s}=this.state,r=s?n[s]:null;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fo.a,{children:t}),Object(le.jsx)(Wt.a,{...a,select:!0,value:s,FormHelperTextProps:{focused:!0},onChange:this.handleChange,children:e}),r]})}}const tI=()=>Object(le.jsx)($t.a,{name:"field",label:"Metadata Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0}),nI=()=>Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,creatable:!0,cacheOptions:!0,isClearable:!0}),oI=()=>Object(le.jsx)($t.a,{name:"type",component:_t,label:"URI Type",fullWidth:!0}),aI=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"priority",component:_t,label:"Priority",type:"number",fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"permission",children:"Permission"}),Object(le.jsxs)($t.a,{name:"permission",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"READ",children:"Read"}),Object(le.jsx)(Xn.a,{value:"WRITE",children:"Write"}),Object(le.jsx)(Xn.a,{value:"ALL",children:"All"}),Object(le.jsx)(Xn.a,{value:"OWNER",children:"Owner"}),Object(le.jsx)(Xn.a,{value:"NONE",children:"None"})]})]}),Object(le.jsx)(xh,{name:"grantor",label:"Grantor",isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"recursive",component:en}),label:"Recursive"})]}),sI=()=>Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"allowDuplicate",component:en}),label:"Allow Duplicate"});var rI=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsxs)($t.a,{name:"accessControlDocument",component:eI,label:"Entity",fullWidth:!0,choices:{user:Object(le.jsx)(xh,{name:"accessControlDocument.user",label:"User",isClearable:!0,fullWidth:!0}),group:Object(le.jsx)(Lb,{name:"accessControlDocument.group",label:"Group",isClearable:!0,fullWidth:!0})},children:[Object(le.jsx)(Xn.a,{value:"user",children:"User"}),Object(le.jsx)(Xn.a,{value:"group",children:"Group"})]}),Object(le.jsxs)($t.a,{name:"accessControlDocument.operation",component:eI,label:"Operation",fullWidth:!0,choices:{metadata:Object(le.jsx)(wt.a,{name:"accessControlDocument.operation.metadata",component:tI}),shape:Object(le.jsx)(wt.a,{name:"accessControlDocument.operation.shape",component:nI}),uri:Object(le.jsx)(wt.a,{name:"accessControlDocument.operation.uri",component:oI})},children:[Object(le.jsx)(Xn.a,{value:"metadata",children:"Metadata"}),Object(le.jsx)(Xn.a,{value:"shape",children:"Shape"}),Object(le.jsx)(Xn.a,{value:"uri",children:"URI"})]}),Object(le.jsx)(wt.a,{name:"accessControlDocument",component:aI}),Object(le.jsx)(wt.a,{name:"queryParams",component:sI}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function cI(e,t,n){const{groupName:o,queryParams:a}=e,{userName:s}=n,r={RunAs:s};return W.access.updateImportAccessGroup({groupName:o,queryParams:a,headers:r}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function iI(e,t,n){const{accessControlDocument:o,queryParams:a}=e,{entityId:s,entityType:r}=n;return W.access.createEntityAccess({entityType:r,entityId:s,queryParams:a,accessControlDocument:o}).then((e=>({accessControlDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function lI(e,t,n){const{queryParams:o={}}=e,a=n.entityType||e.entityType,s=n.entityId||e.entityId;return W.access.getEntityAccessMerged({entityType:a,entityId:s,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const jI="EDIT_ACCESSCONTROL_FORM";var dI=Object(m.c)(ue,Mo)((function({submitForm:e,onClose:t,open:n,onRefresh:o,openSnackBar:a,entityType:s,entityId:r}){return Object(le.jsxs)(xe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Create Access Control"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(rI,{form:jI,onSubmit:iI,onSubmitSuccess:()=>{a({messageContent:"Access Control Created"}),o&&o(),t()},onSubmitFail:()=>{a({messageContent:"Error Creating Access Control",messageColor:"secondary"})},entityType:s,entityId:r,initialValues:{queryParams:{allowDuplicate:!0}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(jI),children:"Save"})]})]})}));const mI="ACCESSCONTROL_REMOVE_MODAL",hI="ACCESSCONTROL_CREATE_MODAL";class uI extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.state={accessControlListDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{openSnackBar:e,entityId:t,entityType:n}=this.props;try{W.access.listEntityAccess({entityType:n,entityId:t}).then((e=>e.json())).then((e=>this.setState({accessControlListDocument:e})))}catch(o){e({messageContent:"Error Loading Access List",messageColor:"secondary"})}}onRemove(e){const{openSnackBar:t,closeModal:n,entityType:o,entityId:a}=this.props;return()=>{W.access.removeEntityAccess({accessId:e,entityId:a,entityType:o}).then((()=>{const o='Access Control "'.concat(e,'" Removed');t({messageContent:o}),n(),this.onRefresh()})).catch((()=>{t({messageContent:"Error Removing Access Control",messageColor:"secondary"})}))}}openRemove(e){const{openModal:t}=this.props;return()=>{this.setState({currentAccessId:e},(()=>t({modalName:mI})))}}render(){const{accessControlListDocument:e,currentAccessId:t}=this.state,{entityType:n,entityId:o,closeModal:a,modalName:s,openModal:r,titleComponent:c,tabComponent:i,title:l}=this.props;return Object(le.jsxs)(le.Fragment,{children:[c&&Object(le.jsx)(c,{onRefresh:this.onRefresh,codeModal:"AccessControlListDocument",code:e,createModal:hI,title:l}),i&&Object(le.jsx)(i,{}),Object(le.jsx)(QS,{accessControlListDocument:e,openCreate:c?void 0:()=>r({modalName:hI}),entityType:n,entityId:o,onRefresh:this.onRefresh,openRemove:this.openRemove}),t&&Object(le.jsx)(ZS,{isOpen:s===mI,closeModal:a,onRemove:this.onRemove,accessId:t}),Object(le.jsx)(dI,{isOpen:s===hI,closeModal:a,entityType:n,entityId:o,onRefresh:this.onRefresh})]})}}const bI={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var pI=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),bI)(uI);const OI=({access:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Permission",value:e.permission}),Object(le.jsx)(Dn,{title:"Type",value:e.type}),Object(le.jsx)(Dn,{title:"Priority",value:e.priority}),e.username&&Object(le.jsx)(Dn,{title:"User",variant:"username",value:e.username}),e.group&&Object(le.jsx)(Dn,{title:"Group",variant:"group",value:e.group}),e.grantor&&Object(le.jsx)(Dn,{title:"Grantor",variant:"username",value:e.grantor}),e.extradata&&Object(le.jsx)(Dn,{title:"Extra Data",value:e.extradata}),e.collection&&Object(le.jsx)(Dn,{title:"Collection",variant:"collection",value:e.collection}),e.library&&Object(le.jsx)(Dn,{title:"Library",variant:"collection",value:e.library}),e.superUser&&Object(le.jsx)(Dn,{title:"Super User",variant:"boolean",value:e.superUser}),e.matches&&Object(le.jsx)(Dn,{title:"Matches",variant:"boolean",value:e.matches}),e.id&&Object(le.jsx)(Dn,{title:"ID",value:e.id}),e.effectivePermission&&Object(le.jsx)(Dn,{title:"Effective Permission",value:e.effectivePermission})]});function xI({accessControlMergedDocument:e={}}){const{access:t=[]}=e;return Object(le.jsx)(le.Fragment,{children:t.map(((e,t)=>Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(OI,{access:e})})},t)))})}const gI=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"username",label:"User",component:br,loadOptions:ph,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"permission",children:"Permission"}),Object(le.jsxs)(Zt,{name:"permission",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"NONE",children:"None"}),Object(le.jsx)(Xn.a,{value:"READ",children:"Read"}),Object(le.jsx)(Xn.a,{value:"WRITE",children:"Write"}),Object(le.jsx)(Xn.a,{value:"ALL",children:"All"}),Object(le.jsx)(Xn.a,{value:"OWNER",children:"Owner"})]})]}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Type"}),Object(le.jsxs)(Zt,{name:"type",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"GENERIC",children:"Generic"}),Object(le.jsx)(Xn.a,{value:"URI",children:"URI"}),Object(le.jsx)(Xn.a,{value:"SHAPE",children:"Shape"}),Object(le.jsx)(Xn.a,{value:"METADATA",children:"Metadata"})]})]}),Object(le.jsx)(Zt,{name:"Extra Data",label:"extradata",component:_t,fullWidth:!0})]});var fI=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:gI,fullWidth:!0})]})}));const vI="ACCESS_PARAMS_FORM";var yI=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,entityType:r,entityId:c,...i}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Access Control Merged Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)($.a,{container:!0,children:Object(le.jsx)($.a,{item:!0,xs:!0,children:Object(le.jsx)(fI,{form:vI,onSubmit:lI,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Access Control Merged Display",messageColor:"secondary"}),n&&n(e,t,a)},entityType:r,entityId:c,...i})})})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(vI),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(vI),children:"Update"})]})]})}));class CI extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={accessControlMergedDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(vI)}render(){const{accessControlMergedDocument:e}=this.state,{titleComponent:t,tabComponent:n,entityId:o,entityType:a,title:s}=this.props;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{onRefresh:this.onRefresh,codeModal:"AccessControlMergedDocument",code:e,title:s}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(yI,{entityId:o,entityType:a,onSuccess:e=>this.setState({accessControlMergedDocument:e.data})}),Object(le.jsx)(xI,{accessControlMergedDocument:e})]})}}var SI=Mo(CI);function II({labels:e=[]}){return Object(le.jsx)($.a,{container:!0,children:e.map((e=>Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(_.a,{label:e})},e)))})}function RI({storageRuleDocument:e,onRemove:t}){return Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.appliesTo.id}),Object(le.jsx)(uo,{children:e.appliesTo.type}),Object(le.jsx)(uo,{children:e.id}),Object(le.jsx)(uo,{children:e.storageCount}),Object(le.jsx)(uo,{children:Object(le.jsx)(II,{labels:e.storage})}),Object(le.jsx)(uo,{children:e.precedence}),Object(le.jsx)(uo,{children:!0===e.inherited&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{disableOnClick:!0,children:Object(le.jsx)(w.a,{onClick:()=>t({storageRuleDocument:e}),children:Object(le.jsx)(ee.a,{})})})]})}const DI="REMOVE_STORAGERULE_DIALOG";var FI=xo((function({storageRulesDocument:e,onRefresh:t,dialogProps:n,onOpen:o}){const{tag:a=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Entity"}),Object(le.jsx)(uo,{children:"Type"}),Object(le.jsx)(uo,{children:"ID"}),Object(le.jsx)(uo,{children:"Count"}),Object(le.jsx)(uo,{children:"Storage"}),Object(le.jsx)(uo,{children:"Precedence"}),Object(le.jsx)(uo,{children:"Inherited"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:a.map((e=>Object(le.jsx)(RI,{storageRuleDocument:e,onRemove:o(DI)},"".concat(e.appliesTo.id,"_").concat(e.appliesTo.type,"_").concat(e.id))))})]}),Object(le.jsx)(id,{...n,dialogName:DI,onSuccess:t})]})}));var TI=T((function({createModal:e,title:t,onOpen:n,...o}){return Object(le.jsxs)(we,{children:[e&&Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:t}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{onClick:()=>n({modalName:e}),children:Object(le.jsx)(q.a,{})})})})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(FI,{...o})})]})}));var EI=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,entityType:a,entityId:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Storage Rule"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:sd,documentName:"storageRuleDocument",onSubmit:Uj,onSubmitSuccess:e=>{n({messageContent:"Storage Rule Created"}),t(),o&&o(e)},onSubmitFail:()=>{n({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})},onCancel:t,entityType:a,entityId:s})})]})}));const PI="STORAGERULE_DIALOG";class NI extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={storageRulesDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{openSnackBar:e,entityId:t,entityType:n}=this.props;try{W.storagerule.getEntityStorageRule({entityId:t,entityType:n}).then((e=>this.setState({storageRulesDocument:e.data})))}catch(o){e({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}render(){const{entityId:e,entityType:t,titleComponent:n,tabComponent:o,title:a}=this.props,{storageRulesDocument:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[n&&Object(le.jsx)(n,{onRefresh:this.onRefresh,codeModal:"StorageRulesDocument",code:s,createModal:PI,title:a}),o&&Object(le.jsx)(o,{}),s&&Object(le.jsx)(TI,{onRefresh:this.onRefresh,storageRulesDocument:s,createModal:n?void 0:PI}),Object(le.jsx)(EI,{dialogName:PI,onSuccess:this.onRefresh,entityId:e,entityType:t})]})}}var kI=he(NI);function MI(e){return Object(le.jsx)(Ae,{title:"Deletion Lock",helpTo:"/ref/deletion-lock.html",...e})}function AI(e){const{queryParams:t}=e;return W.deletionlock.listDeletionLock({queryParams:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function LI(e,t,n){const{queryParams:o}=e,{entityType:a,entityId:s}=n;return W.deletionlock.listEntityDeletionLock({entity:a,entityId:s,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function WI(e,t,n){const{deletionLockDocument:o}=e,a=n.lockId||o.id;return W.deletionlock.updateDeletionLock({lockId:a,deletionLockDocument:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function _I(e,t,n){const{deletionLockDocument:o}=e,a=n.entityType||o.entityType,s=n.entityId||o.entityId;return W.deletionlock.createEntityDeletionLock({entity:a,entityId:s,deletionLockDocument:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const wI=({entityType:e})=>Object(le.jsxs)(le.Fragment,{children:[!e&&Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"entityTypes",children:"Entity Types"}),Object(le.jsxs)(Zt,{name:"entityTypes",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"collection",children:"Collection"}),Object(le.jsx)(Xn.a,{value:"file",children:"File"}),Object(le.jsx)(Xn.a,{value:"all",children:"All"})]})]}),Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"username",component:br,loadOptions:ph,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"range",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"onlyEffective",component:en}),label:"Only Effective"}),Object(le.jsx)(Yt,{name:"metadata",label:"Metadata",component:Ea})]});var VI=Object(Tt.a)()((function({error:e,handleSubmit:t,entityType:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:wI,entityType:n}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var UI=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s="DELETIONLOCKLIST_FILTER_FORM",changeForm:r,entityId:c,entityType:i}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(VI,{form:s,onSubmit:i?LI:AI,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Listing Deletion Lock list",messageColor:"secondary"})},onCancel:e,initialValues:{queryParams:{entityTypes:"all",onlyEffective:!1}},entityId:c,entityType:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:async()=>{await r(s,"queryParams.first",1),o(s)},children:"Filter"})]})]})}));function BI({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(UI,{...e})})})}function qI({deletionLockType:e={}}){const{id:t,user:n,expiryTime:o,modified:a,entityType:s,entityId:r,isEffective:c,isInherited:i,isExpired:l}=e;return Object(le.jsxs)(po,{hover:!0,to:"/deletion-lock/".concat(t,"/"),children:[Object(le.jsx)(uo,{children:t}),Object(le.jsx)(uo,{children:n}),Object(le.jsx)(uo,{children:o?sn()(o).toString():""}),Object(le.jsx)(uo,{children:a?sn()(a).toString():""}),Object(le.jsx)(uo,{children:s}),Object(le.jsx)(uo,{children:r}),Object(le.jsx)(uo,{children:c&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{children:i&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{children:l&&Object(le.jsx)(Yr.a,{})})]})}function GI({deletionLockListDocument:e,count:t=0,page:n=0,rowsPerPage:o=100,onChangePage:a,onChangeRowsPerPage:s}){const{lock:r=[]}=e,c=[100,250,500];return c.includes(o)||c.push(o),Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Lock ID"}),Object(le.jsx)(uo,{children:"Username"}),Object(le.jsx)(uo,{children:"Expiry Time"}),Object(le.jsx)(uo,{children:"Modified"}),Object(le.jsx)(uo,{children:"Entity Type"}),Object(le.jsx)(uo,{children:"Entity ID"}),Object(le.jsx)(uo,{children:"Effective"}),Object(le.jsx)(uo,{children:"Inherited"}),Object(le.jsx)(uo,{children:"Expired"})]})}),Object(le.jsx)(ho,{children:r.map((e=>Object(le.jsx)(qI,{deletionLockType:e},e.id)))}),Object(le.jsx)(Ih,{children:Object(le.jsx)(po,{children:Object(le.jsx)(Dh,{count:t,page:n,rowsPerPage:o,onPageChange:a,onRowsPerPageChange:s,ActionsComponent:tt,rowsPerPageOptions:c})})})]})}function HI({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(GI,{...e})})})}const zI=({showMetadataType:e,isNew:t,entityId:n,entityType:o})=>Object(le.jsxs)(le.Fragment,{children:[!t&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"id",component:_t,fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"user",component:_t,fullWidth:!0,disabled:!0})]}),Object(le.jsx)(Zt,{name:"expiryTime",component:_t,fullWidth:!0}),!t&&Object(le.jsx)(Zt,{name:"modified",component:_t,fullWidth:!0,disabled:!0}),!o&&Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"entityType",children:"Entity Type"}),Object(le.jsxs)(Zt,{name:"entityType",component:Lt,required:t,disabled:!t,children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"collection",children:"Collection"}),Object(le.jsx)(Xn.a,{value:"file",children:"File"})]})]}),!n&&Object(le.jsx)(Zt,{name:"entityId",component:_t,fullWidth:!0,required:t,disabled:!t}),!t&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"isEffective",component:en,disabled:!0}),label:"Effective"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"isInherited",component:en,disabled:!0}),label:"Inherited"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"isExpired",component:en,disabled:!0}),label:"Expired"})]}),e&&Object(le.jsx)(Xt,{name:"metadata",component:Pa})]});var JI=Object(Tt.a)()((function({error:e,handleSubmit:t,showMetadataType:n,isNew:o,entityId:a,entityType:s}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"deletionLockDocument",component:zI,entityId:a,entityType:s,showMetadataType:n,isNew:o}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var KI=ue((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,entityId:a,entityType:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Deletion Lock"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:JI,documentName:"deletionLockDocument",onSubmit:_I,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Deletion Lock Created"}),t(),n&&n(e,a,s)},onSubmitFail:()=>{o({messageContent:"Error Creating Deletion Lock",messageColor:"secondary"})},onCancel:t,entityId:a,entityType:s,initialStep:1,showMetadataType:!0,isNew:!0})})]})}));const YI="DELETIONLOCKLIST_FILTER_FORM",XI="DELETIONLOCK_CREATE_MODAL";class $I extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.state={deletionLockListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0}}componentDidMount(){document.title="VidiCore Admin | Deletion Lock",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(YI)}onSuccess(e){const t=e.data,{formValues:n={}}=this.props,{queryParams:o={}}=n,{first:a=1,number:s=100}=o,{count:r=0}=t,c=Math.ceil(r/s)-Math.ceil((r-a)/s);this.setState({count:r,rowsPerPage:s,page:c,deletionLockListDocument:t})}async onChangePage({page:e}){const{formValues:t={},changeForm:n}=this.props,{queryParams:o={}}=t,{number:a=100}=o;n(YI,"queryParams.first",e*a),await n(YI,"queryParams.number",a),this.onRefresh()}async onChangeRowsPerPage({target:{value:e}}={}){const{changeForm:t}=this.props;t(YI,"queryParams.first",1),await t(YI,"queryParams.number",e),this.onRefresh()}render(){const{deletionLockListDocument:e,count:t,page:n,rowsPerPage:o}=this.state,{history:a,entityId:s,entityType:r,titleComponent:c=MI,title:i}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(c,{code:e,codeModal:"DeletionLockListDocument",onRefresh:this.onRefresh,createModal:XI,createTooltip:"New Deletion Lock",title:i}),Object(le.jsx)(BI,{form:YI,onSuccess:this.onSuccess,entityId:s,entityType:r}),e&&Object(le.jsx)(HI,{deletionLockListDocument:e,count:t,page:n,rowsPerPage:o,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,entityId:s,entityType:r}),Object(le.jsx)(KI,{dialogName:XI,onSuccess:s?this.onRefresh:({data:e})=>a.push("/deletion-lock/".concat(e.id)),entityId:s,entityType:r})]})}}var QI=Object(m.c)(Mo,Nh)($I,YI);const ZI=({itemId:e})=>Object(le.jsxs)($.a,{container:!0,alignItems:"center",children:[Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",children:"Item"})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{disabled:!0,children:Object(le.jsx)(H.a,{})})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(X.a,{variant:"h5",component:j.b,to:av({itemId:e}),style:{textDecoration:"none"},children:e})})]});var eR=T((function({itemId:e,onOpen:t,removeModal:n,transcodeModal:o,relationModal:a,thumbnailModal:s,posterModal:r,exportModal:c,exportImpModal:i,addToCollectionModal:l,startJobModal:j,title:d,createModal:m,createTooltip:h="New",removeAllShapesModal:u,importImpModal:b,breadcrumbList:p,createShapeModal:O,...x}){return Object(le.jsx)(Ae,{grandParentTitle:"Item",grandParentTo:av(),parentTitle:e,title:d,helpTo:"/ref/item/item.html",entityId:e,entityType:"item",removeModal:n,removeAllShapesModal:u,breadcrumbList:Array.isArray(p)?[{title:"Item",to:av()},{title:e,to:sv({itemId:e})},...p]:void 0,actionComponent:Object(le.jsxs)(le.Fragment,{children:[m&&Object(le.jsx)(Q.a,{title:h,children:Object(le.jsx)(w.a,{onClick:()=>t({modalName:m}),children:Object(le.jsx)(q.a,{})})}),Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{children:Object(le.jsx)(un,{to:"/import?tab=IMPORTCOMPONENT_TAB&itemId=".concat(e),children:Object(le.jsx)(X.a,{children:"Import Component"})})}),Object(le.jsx)(Xn.a,{children:Object(le.jsx)(un,{to:"/import?tab=IMPORTSHAPE_TAB&itemId=".concat(e),children:Object(le.jsx)(X.a,{children:"Import Shape"})})}),Object(le.jsx)(un,{to:"/import?tab=IMPORTSIDECAR_TAB&itemId=".concat(e),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Import Sidecar"})})}),b?Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:b}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Import IMF Package"})}):null,O?Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:O}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Create Shape"})}):null,Object(le.jsx)(un,{to:"/import?tab=IMPORTSHAPEPLACEHOLDER_TAB&itemId=".concat(e),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Create Shape Placeholder"})})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:l}),children:Object(le.jsx)(X.a,{children:"Add To Collection"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:a}),children:Object(le.jsx)(X.a,{children:"Add Relation"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:j}),children:Object(le.jsx)(X.a,{children:"Start Job"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:o}),children:Object(le.jsx)(X.a,{children:"Transcode"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:s}),children:Object(le.jsx)(X.a,{children:"Create Thumbnail"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:r}),children:Object(le.jsx)(X.a,{children:"Create Poster"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:c}),children:Object(le.jsx)(X.a,{children:"Export"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:i}),children:Object(le.jsx)(X.a,{children:"Export IMF Package"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:n}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete Item"})}),u?Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:u}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete All Shapes"})}):null]})]}),...x})}));const tR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"keepShapeTagMedia",label:"Keep Shape-Tag Media",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"keepShapeTagStorage",label:"Keep Shape-Tag Storage",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var nR=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:tR}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const oR="ITEM_DELETE_FORM";var aR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Delete Item ".concat(r)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(nR,{form:oR,onSubmit:Lg,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Item Deleted"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Deleting Item",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>s(oR),children:"Delete"})]})]})}));const sR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(Zt,{name:"createPosters",label:"Poster Timecodes",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"destinationItem",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"original",label:"Reset Original",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsx)(Zt,{name:"thumbnailService",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"overrideFastStart",component:en}),label:"Override FastStart"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"requireFastStart",component:en}),label:"Require FastStart"}),Object(le.jsx)(Zt,{name:"fastStartLength",component:_t,fullWidth:!0})]});var rR=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:sR}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const cR="EDIT_ITEM_TRANSCODE_FORM";var iR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Start Transcode"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(rR,{form:cR,onSubmit:qg,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Transcode Job Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(cR),children:"Start"})]})]})}));const lR=({variant:e})=>Object(le.jsxs)(le.Fragment,{children:["thumbnail"!==e&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"createPosters",label:"Poster Timecode",component:Ta,validate:[Td],simple:!0,required:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"posterWidth",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"posterHeight",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"posterFormat",children:"Poster Format"}),Object(le.jsxs)(Zt,{name:"posterFormat",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"jpeg",children:"JPEG"}),Object(le.jsx)(Xn.a,{value:"png",children:"PNG"})]})]})]}),"poster"!==e&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"createThumbnails",label:"Thumbnail Timecode",component:Ta,validate:[Td],simple:!0,required:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"thumbnailWidth",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"thumbnailHeight",component:_t,fullWidth:!0})]}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(Zt,{name:"tag",label:"Shape-Tag Settings",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"version",label:"Item Essence ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"sourceTag",label:"Source Shape-Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"thumbnailService",label:"Thumbnail Service ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",label:"Notification ID",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var jR=Object(Tt.a)()((function({error:e,handleSubmit:t,variant:n,itemId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!o&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:lR,variant:n}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const dR="ITEM_THUMBNAIL_FORM";var mR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,variant:r,itemId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Start ".concat(r?ot()(r):"Thumbnail"," Job")}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(jR,{form:dR,onSubmit:Gg,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Thumbnail Job Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Thumbnail Job",messageColor:"secondary"}),o&&o(e,t,n)},variant:r,itemId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(dR),children:"Start"})]})]})}));const hR="ITEM_RELATION_FORM";var uR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Item-To-Item Relation"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Ay,{form:hR,onSubmit:zg,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Relation Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Relation",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(hR),children:"Create"})]})]})}));const bR=zj()(W.exportlocation.listExportLocation,500,{leading:!0,trailing:!1}),pR=e=>new Promise(((t,n)=>{bR().then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((n=>{const{exportLocation:o=[]}=n;let a=o;e&&"*"!==e&&(a=o.filter((t=>t.name.toLowerCase().includes(e.toLowerCase()))));const s=a.map((e=>({label:e.name,value:e.name})));t(s)})).catch((e=>{n(e)}))}));const OR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"locationName",label:"Export Location",component:br,loadOptions:pR,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"metadata",component:en}),label:"Metadata Sidecar"}),Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalFilename",component:en}),label:"Use Original Filename"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalComponentFilename",component:en}),label:"Use Original Component Filename"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"start",label:"Start Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",label:"End Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"template",label:"Export Template",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowMissing",component:en}),label:"Allow Missing"}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"version",component:_t,fullWidth:!0})]});var xR=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:OR}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const gR="ITEM_EXPORT_FORM";var fR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Export Item"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(xR,{form:gR,onSubmit:Mg,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Export Started"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,itemId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(gR),children:"Start"})]})]})}));const vR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"locationName",label:"Export Location",component:br,loadOptions:pR,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"metadata",component:en}),label:"Metadata Sidecar"}),Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalFilename",component:en}),label:"Use Original Filename"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalComponentFilename",component:en}),label:"Use Original Component Filename"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"start",label:"Start Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",label:"End Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"template",label:"Export Template",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowMissing",component:en}),label:"Allow Missing"}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"cplTrack",label:"CPL Track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"version",component:_t,fullWidth:!0})]});var yR=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:vR}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const CR="ITEM_EXPORTIMP_FORM";var SR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Export Item IMF Package"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(yR,{form:CR,onSubmit:Ag,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Export Started"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,itemId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(CR),children:"Start"})]})]})}));const IR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)(Zt,{name:"storageId",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"removeOldEssenceFiles",component:en,label:"Remove Old Essence Files"})}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(Zt,{name:"importTag",label:"Import Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0})]});var RR=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:IR}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const DR="ITEM_IMPORTIMP_FORM";var FR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Import Item IMF Package"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(RR,{form:DR,onSubmit:Mf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Import Started"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Import",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,itemId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(DR),children:"Start"})]})]})}));const TR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"updateItemMetadata",component:en}),label:"Update Item Metadata"})]});var ER=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:TR}),Object(le.jsx)(Zt,{name:"shapeDocument",component:Eo,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var PR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,initialValues:c,form:i="ITEM_SHAPE_CREATE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Duplicate Shape"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(ER,{form:i,onSubmit:Pf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Shape Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Shape",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,itemId:r,initialValues:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(i),children:"Create"})]})]})}));const NR=()=>Object(le.jsxs)($.a,{container:!0,spacing:8,children:[Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"key",label:"key",component:_t,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:6,children:Object(le.jsx)(Zt,{name:"value",label:"value",component:_t,fullWidth:!0})})]}),kR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Entity Type"}),Object(le.jsxs)(Zt,{name:"type",component:Lt,validate:[Td],children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"collection",children:"Collection"}),Object(le.jsx)(Xn.a,{value:"library",children:"Library"})]})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"addItems",component:en}),label:"Add Items"}),Object(le.jsx)(Yt,{name:"metadata",label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0,component:NR})]});var MR=Object(Tt.a)()((function({error:e,handleSubmit:t,collectionId:n,entityId:o,initialValues:a}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"collectionId",label:"Collection ID",component:_t,fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"entityId",label:"Entity ID",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:kR,initialValues:a}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const AR="COLLECTION_ENTITY_ADD_FORM";var LR=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,onSuccess:o,openSnackBar:a,onFail:s,collectionId:r,entityId:c,entityType:i}){return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Entity To Collection"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(MR,{onSubmit:uf,onSubmitSuccess:(e,t,s)=>{a({messageContent:"Collection Entity Added"}),o&&o(e,t,s),n()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Adding Collection Entity",messageColor:"secondary"}),s&&s(e,t,n)},form:AR,collectionId:r,entityId:c,initialValues:{queryParams:{type:i}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(AR),children:"Add"})]})]})}));const WR=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"keepFiles",component:en}),label:"keepFiles"}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var _R=Object(Tt.a)()((function({itemId:e,error:t,handleSubmit:n}){return Object(le.jsxs)("form",{onSubmit:n,children:[t&&Object(le.jsx)(X.a,{color:"error",children:t}),!e&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:WR}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const wR="SHAPE_DELETE_ALL_FORM";var VR=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Delete All Shapes"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(_R,{form:wR,onSubmit:wf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"All Shapes Deleted"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Deleting All Shapes",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>s(wR),children:"Delete"})]})]})}));const UR="ITEM_METADATA_TAB",BR="ITEM_REMOVE_DIALOG",qR="ITEM_TRANSCODE_DIALOG",GR="ITEM_RELATION_DIALOG",HR="ITEM_THUMBNAIL_DIALOG",zR="ITEM_POSTER_DIALOG",JR="ITEM_EXPORT_DIALOG",KR="ITEM_IMPEXPORT_DIALOG",YR="COLLECTION_ENTITY_ADD_DIALOG",XR="JOB_CREATE_DIALOG",$R="ITEM_SHAPE_CREATE_DIALOG",QR="ITEM_ACCESSCONTROL_ADD_DIALOG",ZR="ITEM_REMOVEALLSHAPES_DIALOG",eD="ITEM_IMPIMPORT_DIALOG",tD=[{tab:UR,listText:"Metadata",component:of,exact:!0,path:"/item/:itemId/metadata/"},{tab:"ITEM_CONTENT_TAB",listText:"Content",component:Jv,path:"/item/:itemId/content/"},{tab:"ITEM_METADATACHANGESETLIST_TAB",listText:"Changes",component:EC,path:"/item/:itemId/metadata/changes/"},{tab:"ITEM_COLLECTION_TAB",listText:"Collection",component:Df,path:"/item/:itemId/collection/"},{tab:"ITEM_SHAPE_TAB",listText:"Shape",component:Zf,path:"/item/:itemId/shape/"},{tab:"ITEM_VERSION_TAB",listText:"Version",component:vC,path:"/item/:itemId/version/"},{tab:"ITEM_URI_TAB",listText:"URI",component:Zv,path:"/item/:itemId/uri/"},{tab:"ITEM_THUMBNAIL_TAB",listText:"Thumbnail",component:iy,path:"/item/:itemId/thumbnail/"},{tab:"ITEM_POSTER_TAB",listText:"Poster",component:sy,path:"/item/:itemId/poster/"},{tab:"ITEM_JOB_TAB",listText:"Job",component:jy,path:"/item/:itemId/job/"},{tab:"ITEM_PROJECTION_TAB",listText:"Projection",component:Oy,path:"/item/:itemId/projection/"},{tab:"ITEM_RELATION_TAB",listText:"Relation",component:Jy,path:"/item/:itemId/relation/"},{tab:"ACCESS_TAB",listText:"Direct Access",component:pI,path:"/item/:itemId/direct-access/"},{tab:"ACCESSMERGED_TAB",listText:"Merged Access",component:SI,path:"/item/:itemId/merged-access/"},{tab:"STORAGERULE_TAB",listText:"Storage Rules",component:kI,path:"/item/:itemId/storage-rules/"},{tab:"BULKYMETADATA_TAB",listText:"Bulky Metadata",component:Yy,path:"/item/:itemId/bulky-metadata/",exact:!0},{tab:"DELETIONLOCK_TAB",listText:"Deletion Locks",component:QI,path:"/item/:itemId/deletion-locks/"},{tab:"NOTIFICATION_TAB",listText:"Notifications",component:_S,path:"/item/:itemId/notification/",entityType:"item",exact:!0}],nD=({itemId:e})=>Object(le.jsx)(hm.a,{children:tD.map((({path:t,listText:n,exact:o})=>Object(le.jsx)(zm,{secondary:n,to:Object(d.f)(t,{itemId:e}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},t)))}),oD=e=>Object(le.jsxs)(d.d,{children:[Object(le.jsx)(d.b,{exact:!0,path:"/item/:itemId/bulky-metadata/:bulkyMetadataKey",render:()=>Object(le.jsx)(dC,{...e,title:"Bulky Metadata"}),...e}),Object(le.jsx)(d.b,{exact:!0,path:"/item/:itemId/notification/:notificationId",render:()=>Object(le.jsx)(GS,{...e}),...e}),tD.map((({path:t,component:n,listText:o,exact:a,...s})=>Object(le.jsx)(d.b,{path:t,exact:a,render:()=>Object(le.jsx)(n,{...e,...s,title:o})},t))),Object(le.jsx)(d.b,{path:"*",render:()=>Object(le.jsx)(of,{...e,title:"Metadata"})})]});class aD extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{itemId:e}=this.props;document.title="VidiCore Admin | Item | ".concat(e)}onRefresh(){const{onRefresh:e}=this.state;e&&e()}setOnRefresh(e){this.setState({onRefresh:e})}render(){const{onChangeTab:e,tabValue:t,itemId:n,history:o}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Gm,{mainComponent:oD,listComponent:nD,defaultOpen:!0,onChangeTab:e,tabValue:t,titleComponent:e=>Object(le.jsx)(eR,{itemId:n,removeModal:BR,transcodeModal:qR,thumbnailModal:HR,relationModal:GR,posterModal:zR,exportModal:JR,exportImpModal:KR,addToCollectionModal:YR,startJobModal:XR,addAccessControl:QR,removeAllShapesModal:ZR,importImpModal:eD,createShapeModal:$R,...e}),itemId:n,entityId:n,entityType:"item",setOnRefresh:this.setOnRefresh}),Object(le.jsx)(aR,{dialogName:BR,onSuccess:()=>o.push("/item/?content=metadata%2Cthumbnail&baseURI=%2FAPInoauth%2F&terse=true&noauth-url=true"),itemId:n}),Object(le.jsx)(VR,{dialogName:ZR,onSuccess:this.onRefresh,itemId:n}),Object(le.jsx)(iR,{dialogName:qR,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),itemId:n}),Object(le.jsx)(mR,{dialogName:HR,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),itemId:n,variant:"thumbnail"}),Object(le.jsx)(mR,{dialogName:zR,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),itemId:n,variant:"poster"}),Object(le.jsx)(uR,{dialogName:GR,onSuccess:this.onRefresh,itemId:n}),Object(le.jsx)(fR,{dialogName:JR,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),itemId:n}),Object(le.jsx)(SR,{dialogName:KR,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),itemId:n}),Object(le.jsx)(FR,{dialogName:eD,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),itemId:n}),Object(le.jsx)(PR,{dialogName:$R,onSuccess:e=>o.push("/item/".concat(n,"/shape/").concat(e.data.id,"/")),itemId:n}),Object(le.jsx)(LR,{dialogName:YR,entityId:n,entityType:"item"}),Object(le.jsx)(dI,{dialogName:QR,entityType:"item",entityId:n}),Object(le.jsx)(lu,{dialogName:XR,initialValues:{queryParams:{jobmetadata:[{key:"itemId",value:n}]}}})]})}}var sD=Object(m.c)(Ao(UR),u)(aD);function rD({...e}){return Object(le.jsx)(kg,{onSubmit:rf,...e})}function cD({...e}){return Object(le.jsx)(ef,{onSubmit:cf,...e})}const iD=jg(rD);class lD extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:e}){const{collectionId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Collection | ".concat(e))}onRefresh(){const{collectionId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.collection.getCollectionMetadata({collectionId:e}).then((e=>this.setState({metadataDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{collectionId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{metadataDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"MetadataDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(cD,{collectionId:e,onSuccess:e=>this.setState({metadataDocument:e.data})}),a&&Object(le.jsx)(iD,{collectionId:e,metadataDocument:a,onSuccess:()=>this.onRefresh()})]})}}var jD=he(lD);const dD=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"content",component:br,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),Object(le.jsx)(Zt,{name:"field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"group",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"interval",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"language",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"sampleRate",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"include",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"includeValues",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"revision",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mergedType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mergedPermission",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mergedExtradata",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"defaultValue",component:en}),label:"Default Value"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"conflict",component:en}),label:"Conflict"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeTransientMetadata",component:en}),label:"Include Transient Metadata"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"terse",component:en}),label:"Terse"})]});var mD=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:dD}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const hD="COLLECTION_CONTENT_DISPLAY_FORM";var uD=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,...r}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Content Display Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(mD,{form:hD,onSubmit:jf,onSubmitSuccess:(e,n,a)=>{o({messageContent:"Content Display Updated"}),t&&t(e,n,a)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Content Display",messageColor:"secondary"}),n&&n(e,t,a)},...r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(hD),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(hD),children:"Update"})]})]})}));const bD="REMOVE_COLLECTION_ENTITY_DIALOG";const pD=jg(xo((function({collectionDocument:e,onSuccess:t,onOpen:n,dialogProps:o}){const{content:a=[],id:s}=e,r=n(bD);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"ID"}),Object(le.jsx)(Be.a,{children:"Type"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:a.map((e=>Object(le.jsxs)(Ge.a,{hover:!0,children:[Object(le.jsx)(Be.a,{children:Object(le.jsx)(un,{to:"/".concat(e.type.toLowerCase(),"/").concat(e.id,"/"),children:e.id})}),Object(le.jsx)(Be.a,{children:Object(le.jsx)(un,{to:"/".concat(e.type.toLowerCase(),"/").concat(e.id,"/"),children:jn(e.type)})}),Object(le.jsx)(Be.a,{children:Object(le.jsx)(w.a,{onClick:()=>r({entityType:e.type,entityId:e.id}),children:Object(le.jsx)(ee.a,{})})})]},"".concat(e.type,"_").concat(e.id))))})]}),Object(le.jsx)(gf,{dialogName:bD,onSuccess:t,collectionId:s,...o})]})}))),OD=jg(rD);class xD extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={collectionDocument:void 0}}componentDidMount(){const{setOnRefresh:e}=this.props;e(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:e}){const{collectionId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Collection | ".concat(e))}onRefresh(){const{collectionId:e}=this.props;this.onFetch(e)}onFetch(e){const{setName:t}=this.props;try{W.collection.getCollection({collectionId:e}).then((e=>{var n;this.setState({collectionDocument:e.data}),t&&t(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.name)})).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{collectionId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{collectionDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"CollectionDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(uD,{collectionId:e,onSuccess:e=>this.setState({collectionDocument:e.data})}),a&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(pD,{collectionId:e,collectionDocument:a,onSuccess:this.onRefresh}),a.metadata&&Object(le.jsx)(OD,{collectionId:e,metadataDocument:a.metadata,onSuccess:()=>this.onRefresh()})]})]})}}var gD=Object(m.c)(ue,he)(xD);const fD=jg(Cf);class vD extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:e}){const{collectionId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Collection | ".concat(e))}onRefresh(){const{collectionId:e}=this.props;this.onFetch(e)}onFetch(e){const t={field:"__collection,__ancestor_collection,__parent_collection"};try{W.collection.getCollectionMetadata({collectionId:e,matrixParams:Object.entries(t)}).then((e=>this.setState({metadataDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,collectionId:n,title:o}=this.props,{metadataDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:a,codeModal:"MetadataDocument",onRefresh:this.onRefresh,title:o}),t&&Object(le.jsx)(t,{}),a&&Object(le.jsx)(fD,{metadataDocument:a,onSuccess:this.onRefresh,entityType:"collection",entityId:n})]})}}var yD=he(vD);function CD(e){return yC(e)}function SD({...e}){return Object(le.jsx)(DC,{onSubmit:lf,...e})}class ID extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataChangeSetDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({collectionId:e}){const{collectionId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Collection | ".concat(e))}onRefresh(){const{collectionId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.metadata.listEntityMetadataChange({entity:"collection",entityId:e}).then((e=>this.setState({metadataChangeSetDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Collection",messageColor:"secondary"})}render(){const{collectionId:e,titleComponent:t,tabComponent:n,title:o}=this.props,{metadataChangeSetDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"MetadataChangeSetDocument",onRefresh:this.onRefresh,title:o}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(SD,{collectionId:e,onSuccess:e=>this.setState({metadataChangeSetDocument:e.data})}),a&&Object(le.jsx)(CD,{collectionId:e,metadataChangeSetDocument:a})]})}}var RD=he(ID);var DD=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,onFail:a,collectionId:s}){return void 0===s?null:Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Collection ".concat(s)}),Object(le.jsx)(fe.a,{children:"This does not affect any entities within the collection."}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.collection.removeCollection({collectionId:s}).then((()=>{n({messageContent:"Collection Removed"}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing Collection",messageColor:"secondary"}),a&&a()}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const FD=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"locationName",label:"Export Location",component:br,loadOptions:pR,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"metadata",component:en}),label:"Metadata Sidecar"}),Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalFilename",component:en}),label:"Use Original Filename"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalComponentFilename",component:en}),label:"Use Original Component Filename"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"start",label:"Start Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",label:"End Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"all",component:en}),label:"Allow Missing"}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"version",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"template",label:"Export Template",component:_t,fullWidth:!0})]});var TD=Object(Tt.a)()((function({error:e,handleSubmit:t,collectionId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"collectionId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:FD}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var ED=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,collectionId:r,form:c="COLLECTION_EXPORT_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Export Collection"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(TD,{form:c,onSubmit:pf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Export Started"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,collectionId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(c),children:"Start"})]})]})}));const PD=()=>Object(le.jsx)(Zt,{name:"name",component:_t,fullWidth:!0});var ND=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:PD}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const kD="COLLECTION_RENAME_FORM";var MD=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,onSuccess:o,openSnackBar:a,onFail:s,collectionId:r,collectionDocument:c={}}){const{name:i}=c,l={queryParams:{name:i}};return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Rename Collection"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(ND,{onSubmit:hf,onSubmitSuccess:(e,t,s)=>{a({messageContent:"Collection Name Updated"}),o&&o(e,t,s),n()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Updating Collection Name",messageColor:"secondary"}),s&&s(e,t,n)},form:kD,collectionId:r,initialValues:l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(kD),children:"Update"})]})]})}));const AD=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"name",label:"Report Updated Folder Name",component:_t,validate:[Td],fullWidth:!0})});var LD=Object(Tt.a)()((function({error:e,handleSubmit:t,collectionId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"collectionId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:AD}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function WD(e){const t={};return void 0===e||e.forEach((e=>{const{name:n}=e,{value:o}=e,a=function(e){const t=[];return t.getFirstValue=()=>{if(0!==this.length)return this[0]},void 0===e||e.forEach((e=>t.push(e.value))),t}(o);if(t[n]){const e=t[n];t[n]=e.concat(a)}else t[n]=a})),t}function _D(e){const t={};return void 0===e||e.forEach((e=>{const{name:n}=e,o=WD(e.field),a=_D(e.group);if(t[n]){const e=t[n].field,s=t[n].group;t[n]={name:n,field:Object.assign(e,o),group:Object.assign(s,a)}}else t[n]={name:n,field:o,group:a}})),t}function wD(e){const t={};return void 0===e||e.forEach((e=>{const{start:n,end:o}=e,a="".concat(n,"_").concat(o),s=WD(e.field),r=_D(e.group);t[a]={start:n,end:o,field:s,group:r}})),t}function VD(e){if(void 0===e)return{};return{timespan:wD(e.timespan)}}var UD=n(781);var BD=Object(UD.a)(Oe.a)((({theme:e})=>({background:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}})));var qD=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:r,collectionId:c,form:i="COLLECTION_FOLDERMAPUPDATE_FORM"}){const[l,j]=s.a.useState(null);return s.a.useEffect((()=>{!1!==e&&void 0!==c&&W.collection.getCollectionMetadata({collectionId:c,queryParams:{field:"__folder_mapped",interval:"generic"}}).then((({data:e})=>{var t,n,o,a;const s=VD(e),r=((e,t={})=>{const n=typeof e;if("boolean"===n)return e;if("true"===e)return!0;if("false"===e)return!1;const o=null===t||void 0===t?void 0:t.strType;if(o)return"function"===typeof o?o(e,t):o;throw new Error("Unknown type ".concat(n," for ").concat(e))})(null===s||void 0===s||null===(t=s.timespan)||void 0===t||null===(n=t["-INF_+INF"])||void 0===n||null===(o=n.field)||void 0===o||null===(a=o.__folder_mapped)||void 0===a?void 0:a[0],{undefined:!1});j(r)}))}),[e,c]),Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:"md",children:[Object(le.jsx)(ve.a,{children:"Folder Mapped Collection"}),Object(le.jsx)(fe.a,{children:{true:Object(le.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[Object(le.jsx)(LD,{form:i,onSubmit:Of,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Folder Mapping Updated"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Updating Folder Mapping",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,collectionId:c}),Object(le.jsx)(It.a,{orientation:"vertical",flexItem:!0}),Object(le.jsx)("div",{children:Object(le.jsx)(BD,{variant:"contained",startIcon:Object(le.jsx)(Bt.a,{}),onClick:()=>W.collection.unMarkFolderCollection({collectionId:c}).then((()=>{a({messageContent:"Collection No Longer Marked Mapped"}),n&&n(),t()})).catch((e=>{a({messageContent:"Error Unmarking Folder Mapping",messageColor:"secondary"}),o&&o(e)})),children:"Delete Mapping"})})]}),undefined:Object(le.jsx)(Xr.a,{})}[l]}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),{false:Object(le.jsx)(Oe.a,{size:"small",color:"primary",variant:"contained",onClick:()=>W.collection.markFolderCollection({collectionId:c}).then((()=>{a({messageContent:"Folder Mapping Enabled"}),n&&n(),t()})).catch((e=>{a({messageContent:"Error Enabling Folder Mapping",messageColor:"secondary"}),o&&o(e)})),children:"Enable"}),true:Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>r(i),children:"Update"})}[l]]})]})}));const GD="COLLECTION_CONTENT_TAB",HD="COLLECTION_REMOVE_DIALOG",zD="COLLECTION_ACCESSCONTROL_ADD_DIALOG",JD="COLLECTION_EXPORT_DIALOG",KD="COLLECTION_RENAME_DIALOG",YD="COLLECTION_ENTITY_ADD_DIALOG",XD="COLLECTION_FOLDERMAP_DIALOG",$D=[{tab:"COLLECTION_METADATA_TAB",listText:"Metadata",exact:!0,component:jD,path:"/collection/:collectionId/metadata/"},{tab:GD,listText:"Content",component:gD,path:"/collection/:collectionId/content/"},{tab:"COLLECTION_METADATACHANGESETLIST_TAB",listText:"Changes",component:RD,path:"/collection/:collectionId/metadata/changes/"},{tab:"COLLECTION_COLLECTION_TAB",listText:"Collection",component:yD,path:"/collection/:collectionId/collection/"},{tab:"ACCESS_TAB",listText:"Direct Access",component:pI,path:"/collection/:collectionId/direct-access/"},{tab:"ACCESSMERGED_TAB",listText:"Merged Access",component:SI,path:"/collection/:collectionId/merged-access/"},{tab:"STORAGERULE_TAB",listText:"Storage Rules",component:kI,path:"/collection/:collectionId/storage-rules/"},{tab:"DELETIONLOCK_TAB",listText:"Deletion Locks",component:QI,path:"/collection/:collectionId/deletion-locks/"},{tab:"NOTIFICATION_TAB",listText:"Notifications",component:_S,path:"/collection/:collectionId/notification/",entityType:"collection",exact:!0}],QD=({collectionId:e})=>Object(le.jsx)(hm.a,{children:$D.map((({path:t,listText:n,exact:o})=>Object(le.jsx)(zm,{secondary:n,to:Object(d.f)(t,{collectionId:e}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:o},t)))}),ZD=e=>Object(le.jsxs)(d.d,{children:[Object(le.jsx)(d.b,{exact:!0,path:"/item/:itemId/notification/:notificationId",render:()=>Object(le.jsx)(GS,{...e}),...e}),$D.map((({path:t,component:n,listText:o,exact:a,...s})=>Object(le.jsx)(d.b,{path:t,exact:a,render:()=>Object(le.jsx)(n,{...e,...s,title:o})},t))),Object(le.jsx)(d.b,{path:"*",render:()=>Object(le.jsx)(jD,{...e,title:"Metadata"})})]});class eF extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.setName=this.setName.bind(this),this.state={onRefresh:void 0,collectionName:void 0}}componentDidMount(){const{collectionId:e}=this.props;document.title="VidiCore Admin | Collection | ".concat(e)}onRefresh(...e){const{onRefresh:t}=this.state;t&&t(...e)}setOnRefresh(e){this.setState({onRefresh:e})}setName(e){this.setState({collectionName:e})}render(){const{onChangeTab:e,tabValue:t,collectionId:n,history:o,onOpen:a}=this.props,{collectionName:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Gm,{mainComponent:ZD,listComponent:QD,setOnRefresh:this.setOnRefresh,setName:this.setName,defaultOpen:!0,onChangeTab:e,tabValue:t,titleComponent:e=>Object(le.jsx)(Ae,{grandParentTitle:"Collection",grandParentTo:"/collection/",parentTitle:n,removeModal:HD,helpTo:"/ref/collection.html",entityId:n,entityType:"collection",addAccessControl:zD,exportModal:JD,titleChip:s,actionComponent:Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:()=>a({modalName:YD}),children:Object(le.jsx)(X.a,{children:"Add Entity"})}),Object(le.jsx)(Xn.a,{onClick:()=>a({modalName:KD}),children:Object(le.jsx)(X.a,{children:"Rename"})}),Object(le.jsx)(Xn.a,{onClick:()=>a({modalName:XD}),children:Object(le.jsx)(X.a,{children:"Map To Folder"})})]}),...e}),collectionId:n,entityId:n,entityType:"collection"}),Object(le.jsx)(DD,{dialogName:HD,onSuccess:()=>o.push("/collection/"),collectionId:n}),Object(le.jsx)(dI,{dialogName:zD,entityType:"collection",entityId:n}),Object(le.jsx)(LR,{dialogName:YD,onSuccess:this.onRefresh,collectionId:n}),Object(le.jsx)(MD,{dialogName:KD,collectionId:n,onSuccess:this.onRefresh,collectionDocument:{name:s}}),Object(le.jsx)(qD,{dialogName:XD,collectionId:n,onSuccess:this.onRefresh}),Object(le.jsx)(ED,{dialogName:JD,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),collectionId:n})]})}}var tF=Object(m.c)(Ao(GD),ue)(eF);const nF=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"index",value:e.index,hover:!0}),Object(le.jsx)(Dn,{title:"priority",value:e.priority,hover:!0}),Object(le.jsx)(Dn,{title:"status",value:e.status,hover:!0}),Object(le.jsx)(Dn,{title:"start",value:e.start,variant:"timestamp",hover:!0}),Object(le.jsx)(Dn,{title:"finish",value:e.finish,variant:"timestamp",hover:!0}),Object(le.jsx)(Dn,{title:"indexesDone",value:e.indexesDone,hover:!0}),Object(le.jsx)(Dn,{title:"indexesTotal",value:e.indexesTotal,hover:!0})]});function oF({reindexRequestDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:nF})})}const aF=["FINISHED"],sF=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"],rF=["ABORTED"],cF=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"];var iF=({reindexRequestDocument:e})=>{if(void 0===e)return null;let t=Object(le.jsx)(_.a,{avatar:Object(le.jsx)(tc,{}),label:"Unknown"});const{status:n}=e;return aF.includes(n)?t=Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Qr,{}),label:ot()(n)}):sF.includes(n)?t=Object(le.jsx)(_.a,{avatar:Object(le.jsx)(tc,{}),label:ot()(n)}):rF.includes(n)&&(t=Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:ot()(n)})),t};var lF=ue((function({indexName:e,reindexRequestDocument:t,onSuccess:n,openSnackBar:o}){const a=t=>{W.reindex.updateReindex({indexName:e,queryParams:t}).then((()=>{const t="Reindex Request ".concat(e," Updated");o({messageContent:t}),n&&n(e)})).catch((()=>{const t="Error Updating Reindex ".concat(e," Request");o({messageContent:t,messageColor:"secondary"})}))};return Object(le.jsx)(we,{children:Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:ot()(e)}),action:Object(le.jsx)(iF,{reindexRequestDocument:t})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(oF,{reindexRequestDocument:t})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:()=>a({status:"ABORTED"}),color:"secondary",children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:()=>a({status:"PAUSED"}),color:"primary",children:"Pause"}),Object(le.jsx)(Oe.a,{onClick:()=>a({status:"IN_PROGRESS"}),color:"primary",children:"Resume"}),Object(le.jsx)(Oe.a,{onClick:()=>a({status:"IN_QUEUE"}),color:"primary",children:"Start"})]})]})})}));const jF=["item","collection","acl","file","thumbnail"];class dF extends s.a.PureComponent{constructor(e){super(e),this.onAutoRefresh=this.onAutoRefresh.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={item:void 0,collection:void 0,acl:void 0,file:void 0,thumbnail:void 0}}componentDidMount(){document.title="VidiCore Admin | Reindex",this.timer=setInterval((()=>this.onAutoRefresh()),2500),this.onRefresh()}componentWillUnmount(){clearInterval(this.timer),this.timer=void 0}onRefresh(){jF.forEach((e=>this.onFetch(e)))}onRefreshError(e,t){const{openSnackBar:n}=this.props;n({messageContent:"Error Loading ".concat(t," Reindex Status"),messageColor:"secondary"})}onAutoRefresh(){if(void 0===jF.find((e=>{const{[e]:t={}}=this.state,{status:n}=t;return cF.includes(n)})))return clearInterval(this.timer),void(this.timer=void 0);this.onRefresh()}onFetch(e){try{W.reindex.getReindex({indexName:e}).then((t=>this.setState({[e]:t.data}))).catch((t=>{t.response&&404===t.response.status?this.setState({[e]:{}}):this.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}render(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Reindex",helpTo:"/ref/metadata/reindex.html",onRefresh:this.onRefresh,code:this.state,codeModal:"All reindexRequestDocument"}),jF.map((e=>Object(le.jsx)(lF,{indexName:e,reindexRequestDocument:this.state[e],onSuccess:()=>{this.onFetch(e),void 0===this.timer&&(this.timer=setInterval((()=>this.onAutoRefresh()),2500))}},e)))]})}}var mF=he(dF);const hF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"encoderThreads",label:"encoderThreads",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"decoderOfferThreads",label:"decoderOfferThreads",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"apiURL",label:"apiURL",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"apiUsername",label:"apiUsername",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"apiPassword",label:"apiPassword",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"dataPath",label:"dataPath",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"presetPath",label:"presetPath",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"tempPath",label:"tempPath",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"bilinearEffects",component:en}),label:"Bilinear Effects"})]}),uF=({fields:e})=>Object(le.jsxs)($.a,{container:!0,direction:"column",children:[e.map(((t,n)=>Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)(Zt,{name:"".concat(t,".name"),component:_t,label:"Media Location Name",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)(Zt,{name:"".concat(t,".storageMethod"),component:Ta,label:"Media Location Storage Method",simple:!0,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]},t))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:"Add Media Location"})]}),bF=({fields:e})=>Object(le.jsxs)($.a,{container:!0,direction:"column",children:[e.map(((t,n)=>Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(le.jsx)($.a,{item:!0,sm:10,children:Object(le.jsx)(Zt,{name:"".concat(t,".filter"),component:_t,label:"Filter",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]},t))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:"Add Direct Access"})]}),pF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"netmask",component:_t,label:"Netmask",fullWidth:!0}),Object(le.jsx)(Zt,{name:"bandwidth",component:_t,label:"Bandwidth",fullWidth:!0})]}),OF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"source",component:_t,label:"Source",fullWidth:!0}),Object(le.jsx)(Zt,{name:"destination",component:_t,label:"Destination",fullWidth:!0}),Object(le.jsx)(Zt,{name:"shapeTag",component:_t,label:"Shape Tag",fullWidth:!0}),Object(le.jsx)(Zt,{name:"timeout",component:_t,label:"Timeout",fullWidth:!0}),Object(le.jsx)(Zt,{name:"interval",component:_t,label:"Interval",fullWidth:!0}),Object(le.jsx)(Zt,{name:"checks",component:_t,label:"Checks",fullWidth:!0}),Object(le.jsx)(Zt,{name:"regex",component:_t,label:"Regex",fullWidth:!0})]}),xF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"address",component:As,label:"Address",fullWidth:!0,defaultValue:"http://"}),Object(le.jsx)(Zt,{name:"cleanup",component:_t,label:"Cleanup",fullWidth:!0}),Object(le.jsx)(Vt.a,{name:"mediaLocation",component:uF})]}),gF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"url",component:As,label:"URL",fullWidth:!0,defaultValue:"http://"}),Object(le.jsx)(Zt,{name:"tag",component:_t,label:"Tag",fullWidth:!0}),Object(le.jsx)(Zt,{name:"State",component:_t,label:"state",fullWidth:!0}),Object(le.jsx)(Zt,{name:"description",label:"Description",component:_t,fullWidth:!0}),Object(le.jsx)(Vt.a,{name:"metadata.field",component:bi})]}),fF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"url",label:"URL",component:As,fullWidth:!0,defaultValue:"http://"}),Object(le.jsx)(Zt,{name:"workspaceUrl",label:"Workspace Url",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"userWorkspaceUrl",label:"User Workspace Url",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mxfServerWorkspacePath",label:"MXFServer Workspace Path",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mxfServerUserId",label:"MXFServer User Id",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"mxfServerPathToStorage",label:"MXFServer Path To Storage",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"databaseName",label:"Database Name",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"description",label:"Description",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"atomShapes",label:"Atom Shapes",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"importShapes",label:"Import Shapes",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"detectAtom",label:"Detect Atom",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"enforceQuota",label:"Enforce Quota",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"fileImportPattern",label:"File Import Pattern",component:_t,fullWidth:!0}),Object(le.jsx)(Vt.a,{name:"metadata.field",component:bi})]}),vF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"url",component:As,label:"URL",fullWidth:!0,defaultValue:"http://"}),Object(le.jsx)(Zt,{name:"tag",label:"Tag",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"username",label:"Username",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"password",label:"Password",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"description",label:"Description",component:_t,fullWidth:!0})]}),yF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"url",label:"url",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"useStartTLS",label:"Use StartTLS",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"userDN",label:"User DN",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"",label:"",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"usernameAttribute",label:"Username Attribute",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"userSearchFilter",label:"User Search Filter",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"bindDN",label:"Bind DN",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"bindPassword",label:"Bind Password",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"cacheLifetime",label:"Cache Lifetime",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"groupDN",label:"Group DN",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"groupSearchFilter",label:"Group Search Filter",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"realNameAttribute",label:"Real Name Attribute",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"groupnameAttribute",label:"Groupname Attribute",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"sync.createUsers",component:en}),label:"Create Users"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"sync.createGroups",component:en}),label:"Create Groups"})]}),CF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"publicAddress",label:"Public Address",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"apiHost",label:"API Host",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"apiKey",label:"API Key",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"inputMethod",label:"Input Method",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"script",label:"Script",component:_t,fullWidth:!0})]}),SF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"url",component:As,label:"URL",fullWidth:!0,defaultValue:"vidinet://"}),Object(le.jsx)(Zt,{name:"name",label:"Name",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"endpoint",label:"Endpoint",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"scheme",label:"Scheme",component:Ta,simple:!0,fullWidth:!0})]}),IF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"url",component:As,label:"URL",fullWidth:!0,defaultValue:"http://"}),Object(le.jsx)(Zt,{name:"include",label:"Include",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"partyId",label:"Party ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"userId",label:"User ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"password",label:"Password",component:_t,fullWidth:!0})]}),RF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"url",label:"URL",component:As,fullWidth:!0,defaultValue:"http://"}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Resource Name"}),Object(le.jsxs)(Zt,{name:"type",component:Lt,required:!0,children:[Object(le.jsx)(Xn.a,{value:"TRANSCODER",children:"TRANSCODER"}),Object(le.jsx)(Xn.a,{value:"DIRECTORY",children:"DIRECTORY"})]})]}),Object(le.jsx)(Zt,{label:"Weight",name:"weight",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxJob",label:"Max Job",component:_t,fullWidth:!0}),Object(le.jsx)(Vt.a,{name:"directAccess",component:bF}),Object(le.jsx)(Xt,{name:"configuration",label:"Configuration",component:hF})]}),DF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"path",component:As,label:"Path",fullWidth:!0,defaultValue:"file://"}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"mode",children:"Mode"}),Object(le.jsxs)(Zt,{name:"mode",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"READ_WRITE",children:"READ_WRITE"}),Object(le.jsx)(Xn.a,{value:"READ",children:"READ"}),Object(le.jsx)(Xn.a,{value:"NONE",children:"NONE"})]})]})]}),FF=({resourceType:e})=>{switch(e){case"network":return Object(le.jsx)(Xt,{name:"network",component:pF});case"transcoder":return Object(le.jsx)(Xt,{name:"transcoder",component:RF});case"externalTranscoder":return Object(le.jsx)(Xt,{name:"externalTranscoder",component:OF});case"cerify":return Object(le.jsx)(Xt,{name:"cerify",component:xF});case"thumbnail":return Object(le.jsx)(Xt,{name:"thumbnail",component:DF});case"finalcutserver":return Object(le.jsx)(Xt,{name:"finalcutserver",component:gF});case"mxfserver":return Object(le.jsx)(Xt,{name:"mxfserver",component:fF});case"signiant":return Object(le.jsx)(Xt,{name:"signiant",component:vF});case"ldap":return Object(le.jsx)(Xt,{name:"ldap",component:yF});case"cloudconvert":return Object(le.jsx)(Xt,{name:"cloudconvert",component:CF});case"vidinet":return Object(le.jsx)(Xt,{name:"vidinet",component:SF});case"eidr":return Object(le.jsx)(Xt,{name:"eidr",component:IF});default:return null}};var TF=Object(Tt.a)()((function({error:e,handleSubmit:t,resourceType:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"resourceDocument",component:FF,resourceType:n}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const EF="EDIT_SHAPETAG_PRESET";var PF=Object(Tt.a)({form:EF})((function({handleSubmit:e,error:t}){return Object(le.jsxs)("form",{onSubmit:e,children:[t&&Object(le.jsx)(X.a,{color:"error",children:t}),Object(le.jsxs)(fe.a,{children:[Object(le.jsx)(Zd.a,{children:"Add built-in shape-tag templates."}),Object(le.jsx)(Zd.a,{children:"These template tags have names that begin with double underscore and cannot be overwritten."})]}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function NF(e,t,n){const{resourceId:o,resourceType:a}=n,{resourceDocument:s}=e;return W.resource.modifyResource({resourceType:a,resourceId:o,resourceDocument:s}).then((e=>({resourceDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function kF(e,t,n){const{resourceType:o}=n,{resourceDocument:a}=e;return W.resource.createResource({resourceType:o,resourceDocument:a}).then((e=>({resourceDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const MF="EDIT_USER_PASSWORD_FORM",AF="EDIT_STORAGE_DETAILS_FORM",LF="EDIT_THUMBNAIL_RESOURCE_FORM",WF="EDIT_TRANSCODER_RESOURCE_FORM",_F="EDIT_LICENSE_FORM",wF="EDIT_CONFIGURATIONPROPERTIES_SOLRPATH_FORM",VF="EDIT_CONFIGURATIONPROPERTIES_APIURI_FORM",UF={storageDocument:{type:"LOCAL",autoDetect:!0,showImportables:!0,method:[{uri:"file:///media/",read:!0,write:!0,browse:!0}]}},BF={resourceDocument:{transcoder:{url:"http://vidicoder:8888/"}}},qF={resourceDocument:{thumbnail:{path:"file:///thumbnail/"}}},GF={configurationPropertyDocument:{key:"apiUri",value:"http://vidicore:8080/API"}},HF={configurationPropertyDocument:{key:"solrPath",value:"http://solr:8983/solr"}};var zF=Object(m.c)(Mo,ue)((function({openSnackBar:e,submitForm:t}){const[n,o]=s.a.useState(),[a,r]=s.a.useState(0),[c,i]=s.a.useState([]);s.a.useEffect((()=>{try{W.version.getVersion().then((({data:e})=>o(e)))}catch(t){e({messageContent:"Error Loading Version Information",messageColor:"secondary"})}}),[]),s.a.useEffect((()=>{document.title="VidiCore Admin | Wizard"}),[]);const l=()=>{0!==a&&r(a-1)},d=()=>r(a+1),m=e=>i([e,...c]),h=({stepName:t,messageContent:n,action:o,canRetry:a=!1})=>{e({messageContent:n}),!1===a&&(d(),m(t)),o&&o()},u=({stepName:t,messageContent:n,action:o,canRetry:a=!1})=>{e({messageContent:n,messageColor:"secondary"}),!1===a&&(d(),m(t)),o&&o()};return Object(le.jsxs)(Fc.a,{activeStep:a,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Set Admin Password"}),Object(le.jsxs)(Ac.a,{children:[Object(le.jsx)(mO,{userName:"admin",onSubmit:_p,initialValues:{passwordType:"raw"},onSubmitFail:()=>u({stepName:MF,messageContent:"Error Changing Password",canRetry:!0}),onSubmitSuccess:()=>h({stepName:MF,messageContent:"Password Changed"}),form:MF}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(MF)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(MF),children:"Save"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Upload License"}),Object(le.jsxs)(Ac.a,{children:[n&&Object(le.jsx)(Rd,{versionDocument:Fa()(n,{licenseInfo:{$unset:["codecStatus"]}})}),Object(le.jsx)(Nd,{form:_F,onSubmit:kd,onSubmitSuccess:()=>h({stepName:_F,messageContent:"License Updated"}),onSubmitFail:()=>u({stepName:_F,messageContent:"Error Updating License",canRetry:!0})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(_F)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(_F),children:"Upload"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Add Storage"}),Object(le.jsxs)(Ac.a,{children:[Object(le.jsx)(hc,{form:AF,onSubmit:Cc,initialValues:UF,showMethod:!0,onSubmitSuccess:()=>h({stepName:AF,messageContent:"Storage Added"}),onSubmitFail:()=>u({stepName:AF,messageContent:"Error Adding Storage"})}),Object(le.jsx)(pc,{form:AF,onSubmit:Cc,initialValues:UF,showMethod:!0,onSubmitSuccess:()=>h({stepName:AF,messageContent:"Storage Added"}),onSubmitFail:()=>u({stepName:AF,messageContent:"Error Adding Storage"})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(AF)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(AF),children:"Save"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Add Transcoder"}),Object(le.jsxs)(Ac.a,{children:[Object(le.jsx)(TF,{form:WF,resourceType:"transcoder",initialValues:BF,onSubmit:kF,onSubmitSuccess:()=>h({stepName:WF,messageContent:"Transcoder Added"}),onSubmitFail:()=>u({stepName:WF,messageContent:"Error Adding Transcoder"})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(WF)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(WF),children:"Save"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Add Thumbnail Store"}),Object(le.jsxs)(Ac.a,{children:[Object(le.jsx)(TF,{form:LF,resourceType:"thumbnail",initialValues:qF,onSubmit:kF,onSubmitSuccess:()=>h({stepName:LF,messageContent:"Thumbnail Store Added"}),onSubmitFail:()=>u({stepName:LF,messageContent:"Error Adding Thumbnail Store"})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(LF)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(LF),children:"Save"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Set API URL"}),Object(le.jsxs)(Ac.a,{children:[Object(le.jsx)(X.a,{children:"This is used by the transcoder to connect to the Vidispine API Server"}),Object(le.jsx)(Do,{form:VF,onSubmit:dt,initialValues:GF,onSubmitSuccess:()=>h({stepName:VF,messageContent:"API URL Added"}),onSubmitFail:()=>u({stepName:VF,messageContent:"Error Adding API URL"}),destroyOnUnmount:!0,enableReinitialize:!0}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(VF)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(VF),children:"Save"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Add Solr Server"}),Object(le.jsxs)(Ac.a,{children:[Object(le.jsx)(Do,{form:wF,onSubmit:dt,initialValues:HF,onSubmitSuccess:()=>h({stepName:wF,messageContent:"Solr Server Added"}),onSubmitFail:()=>u({stepName:wF,messageContent:"Error Adding Solr Server"}),destroyOnUnmount:!0,enableReinitialize:!0}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(wF)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(wF),children:"Save"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Add Preset Shape Tags"}),Object(le.jsxs)(Ac.a,{children:[Object(le.jsx)(PF,{onSubmit:Hl,onSubmitSuccess:()=>h({stepName:EF,messageContent:"Shape Tags Created"}),onSubmitFail:()=>u({stepName:EF,messageContent:"Error Creating Shape Tags"})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{onClick:d,children:"Skip"}),c.includes(EF)?Object(le.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>t(EF),children:"Save"})]})]})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Complete"}),Object(le.jsxs)(Ac.a,{children:["All steps complete.",Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:l,children:"Back"}),Object(le.jsx)(Oe.a,{component:j.b,to:"/selftest",variant:"text",color:"primary",children:"Self Test"})]})]})]})]})}));var JF=function({metadataFieldDocument:e={},onOpen:t}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(at,{to:"/metadata-field/".concat(e.name,"/"),hover:!0,children:[Object(le.jsx)(uo,{children:e.name}),Object(le.jsx)(uo,{children:e.type}),Object(le.jsx)(uo,{children:e.system&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{children:"true"===e.inheritance&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{disableOnClick:!0,children:Object(le.jsx)(w.a,{onClick:()=>t({fieldName:e.name}),children:Object(le.jsx)(ee.a,{})})})]})})};var KF=ue((function({open:e,onClose:t,openSnackBar:n,groupName:o,fieldName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove "'.concat(a,'" From "').concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.fieldgroup.removeFieldGroupField({groupName:o,fieldName:a}).then((()=>{const e="".concat(a," Removed From ").concat(o);n({messageContent:e}),t(),s&&s()})).catch((()=>{n({messageContent:"Error Removing Field",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var YF=ue((function({open:e,onClose:t,history:n,openSnackBar:o,fieldName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Metadata Field "'.concat(a,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.metadatafield.removeMetadataField({fieldName:a}).then((()=>{const e="Metadata Field ".concat(a," Removed");o({messageContent:e}),n.push("/metadata-field/"),t(),s&&s()})).catch((()=>{o({messageContent:"Error Removing Metadata Field",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const XF="REMOVE_METADATAFIELD_DIALOG";var $F=xo((function({metadataFieldListDocument:e=[],groupName:t,onRefresh:n,dialogProps:o,onOpen:a}){const{field:s=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Field Name"}),Object(le.jsx)(uo,{children:"Type"}),Object(le.jsx)(uo,{children:"System"}),Object(le.jsx)(uo,{children:"Inheritance"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:s.map((e=>Object(le.jsx)(JF,{metadataFieldDocument:e,onOpen:a(XF)},e.name)))})]}),t?Object(le.jsx)(KF,{...o,dialogName:XF,groupName:t,onSuccess:n}):Object(le.jsx)(YF,{...o,dialogName:XF,onSuccess:n})]})}));function QF({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)($F,{...e})})})}const ZF=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"minInclusive",label:"minInclusive",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxInclusive",label:"maxInclusive",component:_t,type:"number",fullWidth:!0})]}),eT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"minInclusive",label:"minInclusive",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxInclusive",label:"maxInclusive",component:_t,type:"number",fullWidth:!0})]}),tT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"minInclusive",label:"minInclusive",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxInclusive",label:"maxInclusive",component:_t,type:"number",fullWidth:!0})]}),nT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"minLength",label:"minLength",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"maxLength",label:"maxLength",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"pattern",label:"pattern",component:_t,fullWidth:!0})]}),oT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"reference",component:en}),label:"Reference"}),Object(le.jsx)(Zt,{name:"min",label:"min",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"max",label:"max",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"name",label:"name",component:_t,fullWidth:!0})]}),aT=e=>Object(le.jsxs)(Lt,{...e,children:[Object(le.jsx)(Xn.a,{value:"string",children:"String"}),Object(le.jsx)(Xn.a,{value:"integer",children:"Integer"}),Object(le.jsx)(Xn.a,{value:"float",children:"Float"}),Object(le.jsx)(Xn.a,{value:"boolean",children:"Boolean"}),Object(le.jsx)(Xn.a,{value:"date",children:"Date"}),Object(le.jsx)(Xn.a,{value:"timeCode",children:"Time Code"}),Object(le.jsx)(Xn.a,{value:"date-noindex",children:"Date (No Index)"}),Object(le.jsx)(Xn.a,{value:"date-sortable",children:"Date (Sortable)"}),Object(le.jsx)(Xn.a,{value:"float-noindex",children:"Float (No Index)"}),Object(le.jsx)(Xn.a,{value:"float-sortable",children:"Float (Sortable)"}),Object(le.jsx)(Xn.a,{value:"integer-noindex",children:"Integer (No Index)"}),Object(le.jsx)(Xn.a,{value:"integer-sortable",children:"Integer (Sortable)"}),Object(le.jsx)(Xn.a,{value:"long-noindex",children:"Long (No Index)"}),Object(le.jsx)(Xn.a,{value:"string-sortable",children:"String (Sortable)"}),Object(le.jsx)(Xn.a,{value:"string-exact",children:"String (Exact)"}),Object(le.jsx)(Xn.a,{value:"string-exact-sortable",children:"String (Exact Sortable)"}),Object(le.jsx)(Xn.a,{value:"string-noindex",children:"String (No Index)"}),Object(le.jsx)(Xn.a,{value:"boolean-noindex",children:"Boolean (No Index)"}),Object(le.jsx)(Xn.a,{value:"timeCode-noindex",children:"Time Code (No Index)"})]}),sT=e=>Object(le.jsxs)(Lt,{...e,children:[Object(le.jsx)(Xn.a,{value:"index",children:"index"}),Object(le.jsx)(Xn.a,{value:"noindex",children:"noindex"}),Object(le.jsx)(Xn.a,{value:"extend",children:"extend"})]}),rT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"dataset",label:"dataset",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"levelProperty",label:"levelProperty",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"levelValue",label:"levelValue",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"value",label:"value",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"parent",label:"parent",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"validationGroup",label:"validationGroup",component:_t,fullWidth:!0})]}),cT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"name",component:Io,fullWidth:!0}),Object(le.jsx)(Zt,{name:"defaultValue",label:"defaultValue",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"system",component:en}),label:"System"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"sortable",component:en}),label:"Sortable"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"inheritance",component:en}),label:"Inheritance"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"fullText",component:en}),label:"Full Text"}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Type"}),Object(le.jsx)(Zt,{name:"type",component:aT})]}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"index",children:"Index"}),Object(le.jsx)(Zt,{name:"index",component:sT})]}),Object(le.jsx)(Xt,{name:"constraint",label:"constraint",component:rT}),Object(le.jsx)(Xt,{name:"schema",label:"schema",component:oT}),Object(le.jsx)(Xt,{name:"values",label:"values",component:Pa}),Object(le.jsx)(Yt,{name:"data",label:"data",component:Ea})]});var iT=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldDocument",component:cT}),Object(le.jsxs)(Zt,{name:"metadataFieldDocument",component:eI,label:"Restriction",fullWidth:!0,choices:{floatRestriction:Object(le.jsx)(Xt,{name:"metadataFieldDocument.floatRestriction",label:"floatRestriction",component:ZF}),integerRestriction:Object(le.jsx)(Xt,{name:"metadataFieldDocument.integerRestriction",label:"integerRestriction",component:eT}),longRestriction:Object(le.jsx)(Xt,{name:"metadataFieldDocument.longRestriction",label:"longRestriction",component:tT}),stringRestriction:Object(le.jsx)(Xt,{name:"metadataFieldDocument.stringRestriction",label:"stringRestriction",component:nT})},children:[Object(le.jsx)(Xn.a,{value:"floatRestriction",children:"Float"}),Object(le.jsx)(Xn.a,{value:"integerRestriction",children:"Integer"}),Object(le.jsx)(Xn.a,{value:"longRestriction",children:"Long"}),Object(le.jsx)(Xn.a,{value:"stringRestriction",children:"String"})]}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));function lT(e,t,n){const{metadataFieldDocument:o}=e,a=n.fieldName||o.name;return W.metadatafield.updateMetadataField({fieldName:a,metadataFieldDocument:o}).then((e=>({metadataFieldDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function jT(e,t,n){const{metadataFieldValueConstraintListDocument:o}=e,a=n.fieldName||e.fieldName;return W.metadatafield.getMetadataFieldAllowedValues({fieldName:a,metadataFieldValueConstraintListDocument:o}).then((e=>({constraintValueListDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var dT=ue((function({open:e,onClose:t,openSnackBar:n,history:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Metadata Field"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:iT,documentName:"metadataFieldDocument",onSubmit:lT,onSubmitSuccess:e=>{const{metadataFieldDocument:a}=e,{name:s}=a,r="Metadata Field ".concat(s," Created");n({messageContent:r}),o.push("/metadata-field/".concat(s,"/")),t()},onSubmitFail:()=>{n({messageContent:"Error Creating Metadata Field",messageColor:"secondary"})},onCancel:t})})]})}));function mT(e){return Object(le.jsx)(Ae,{title:"Metadata Field",helpTo:"/ref/metadata/field.html",...e})}const hT="METADATAFIELDLIST_CREATE_MODAL";class uT extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={metadataFieldListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Metadata Field"}onRefresh(){const{openSnackBar:e}=this.props;try{W.metadatafield.listMetadataField().then((e=>this.setState({metadataFieldListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Metadata Field List",messageColor:"secondary"})}}render(){const{metadataFieldListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(mT,{createModal:hT,onRefresh:this.onRefresh,code:e,codeModal:"MetadataFieldListDocument"}),e&&Object(le.jsx)(QF,{metadataFieldListDocument:e,onRefresh:this.onRefresh}),Object(le.jsx)(dT,{dialogName:hT})]})}}var bT=he(uT);function pT({metadataFieldGroupDocument:e={},onOpen:t}){return Object(le.jsxs)(po,{to:"/field-group/".concat(e.name,"/"),hover:!0,children:[Object(le.jsx)(uo,{children:Object(le.jsx)(un,{to:"/field-group/".concat(e.name,"/"),children:e.name})}),Object(le.jsx)(uo,{children:"true"===e.inheritance&&Object(le.jsx)(Yr.a,{})}),Object(le.jsx)(uo,{disableOnClick:!0,children:Object(le.jsx)(w.a,{onClick:()=>t({childGroupName:e.name,groupName:e.name}),children:Object(le.jsx)(ee.a,{})})})]})}var OT=ue((function({open:e,onClose:t,history:n,openSnackBar:o,groupName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Field Group "'.concat(a,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.fieldgroup.removeFieldGroup({groupName:a}).then((()=>{const e="Field Group ".concat(a," Removed");o({messageContent:e}),n.push("/field-group/"),t(),s&&s()})).catch((()=>{o({messageContent:"Error Removing Field Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var xT=ue((function({open:e,onClose:t,openSnackBar:n,groupName:o,childGroupName:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove "'.concat(a,'" From "').concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.fieldgroup.removeFieldGroupChild({groupName:o,childGroupName:a}).then((()=>{const e="".concat(a," Removed From ").concat(o);n({messageContent:e}),t(),s&&s()})).catch((()=>{n({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const gT="REMOVE_FIELDGROUP_DIALOG";var fT=xo((function({metadataFieldGroupListDocument:e=[],groupName:t,onRefresh:n,dialogProps:o,onOpen:a}){const{group:s=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Field Group Name"}),Object(le.jsx)(uo,{children:"Inheritance"}),Object(le.jsx)(uo,{padding:"checkbox"})]})}),Object(le.jsx)(ho,{children:s.map((e=>Object(le.jsx)(pT,{metadataFieldGroupDocument:e,onOpen:a(gT)},e.name)))})]}),t?Object(le.jsx)(xT,{...o,dialogName:gT,groupName:t,onSuccess:n}):Object(le.jsx)(OT,{...o,dialogName:gT,onSuccess:n})]})}));function vT({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(fT,{...e})})})}const yT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",label:"field",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"fieldGroup",label:"fieldGroup",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"user",label:"user",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"group",label:"group",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"permission",label:"permission",component:_t,fullWidth:!0})]}),CT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",label:"name",component:Io,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"inheritance",children:"Inheritance"}),Object(le.jsxs)(Zt,{name:"inheritance",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"true",children:"True"}),Object(le.jsx)(Xn.a,{value:"false",children:"False"})]})]})]}),ST=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"access",label:"access",component:yT})}),IT=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"field",label:"field",component:cT})}),RT=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Xt,{name:"schema",label:"schema",component:oT})}),DT=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"data",label:"data",component:Ea})}),FT=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(CT,{}),Object(le.jsx)(RT,{}),Object(le.jsx)(IT,{}),Object(le.jsx)(Yt,{name:"group",label:"group",component:FT}),Object(le.jsx)(ST,{}),Object(le.jsx)(DT,{})]}),TT=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"group",label:"group",component:FT})}),ET=(Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupDocument",component:DT}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupDocument",component:CT}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})))),PT=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupDocument",component:RT}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),NT=(Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupDocument",component:IT}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupDocument",component:TT}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupDocument",component:ST}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))));var kT=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupDocument",component:FT}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));function MT(e,t,n){const{metadataFieldGroupDocument:o}=e,a=n.groupName||o.name;return W.fieldgroup.updateFieldGroup({groupName:a,metadataFieldGroupDocument:o}).then((e=>({metadataFieldGroupDocument:e.data,groupName:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function AT(e,t,n){const{childGroupName:o}=e,{groupName:a}=n;return W.fieldgroup.updateFieldGroupChild({groupName:a,childGroupName:o}).then((()=>({childGroupName:o,groupName:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function LT(e,t,n){const o=n.groupName||e.groupName,a=n.fieldName||e.fieldName;return W.fieldgroup.updateFieldGroupField({groupName:o,fieldName:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function WT(e){const{matrixParams:t=[],queryParams:n={},metadataFieldGroupSearchDocument:o={}}=e;return W.fieldgroup.searchFieldGroup({metadataFieldGroupSearchDocument:o,queryParams:n,matrixParams:Object.entries(t)}).then((e=>({queryParams:n,matrixParams:t,metadataFieldGroupSearchDocument:o,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var _T=ue((function({open:e,onClose:t,openSnackBar:n,history:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Field Group"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:kT,documentName:"metadataFieldGroupDocument",onSubmit:MT,onSubmitSuccess:e=>{const{groupName:a}=e,s="Field Group ".concat(a," Created");n({messageContent:s}),o.push("/field-group/".concat(a,"/")),t()},onSubmitFail:()=>{n({messageContent:"Error Creating Field Group",messageColor:"secondary"})},onCancel:t})})]})}));function wT(e){return Object(le.jsx)(Ae,{title:"Metadata Field Group",helpTo:"/ref/metadata/field-group.html",...e})}const VT="FIELDGROUPLIST_CREATE_MODAL";class UT extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={metadataFieldGroupListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Field Group"}onRefresh(){const{openSnackBar:e}=this.props;try{W.fieldgroup.listFieldGroup().then((e=>this.setState({metadataFieldGroupListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Field Group List",messageColor:"secondary"})}}render(){const{metadataFieldGroupListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(wT,{createModal:VT,onRefresh:this.onRefresh,code:e,codeModal:"FieldGroupListDocument"}),e&&Object(le.jsx)(vT,{metadataFieldGroupListDocument:e,onRefresh:this.onRefresh}),Object(le.jsx)(_T,{dialogName:VT})]})}}var BT=he(UT);function qT(e){return Object(le.jsx)(Ae,{parentTitle:"Metadata Field Group",parentTo:"/field-group/",title:e.groupName,helpTo:"/ref/metadata/field-group.html",entityId:e.groupName,entityType:"field-group",...e})}var GT=ue((function({metadataFieldGroupDocument:e,groupName:t,openSnackBar:n,onRefresh:o,...a}){const s={groupName:t},r={metadataFieldGroupDocument:e},c={metadataFieldGroupDocument:e};return Object(le.jsx)(Ft,{formName:"EDIT_FIELDGROUP_FORM",onSubmitSuccess:()=>{n({messageContent:"Field Group Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Field Group",messageColor:"secondary"})},onSubmit:MT,formProps:s,displayProps:r,initialValues:c,...a})}));const HT=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"minInclusive",value:e.minInclusive}),Object(le.jsx)(Dn,{title:"maxInclusive",value:e.maxInclusive})]}),zT=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"minInclusive",value:e.minInclusive}),Object(le.jsx)(Dn,{title:"maxInclusive",value:e.maxInclusive})]}),JT=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"minInclusive",value:e.minInclusive}),Object(le.jsx)(Dn,{title:"maxInclusive",value:e.maxInclusive})]}),KT=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"pattern",value:e.pattern}),Object(le.jsx)(Dn,{title:"minLength",value:e.minLength}),Object(le.jsx)(Dn,{title:"maxLength",value:e.maxLength})]}),YT=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0}),Object(le.jsx)(Dn,{title:"reference",value:e.reference,hover:!0}),Object(le.jsx)(Dn,{title:"min",value:e.min,hover:!0}),Object(le.jsx)(Dn,{title:"max",value:e.max,hover:!0})]});function XT({value:e}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0}),Object(le.jsx)(Dn,{title:"type",value:e.type,hover:!0}),Object(le.jsx)(Dn,{title:"defaultValue",value:e.defaultValue,hover:!0}),Object(le.jsx)(Dn,{title:"system",value:e.system,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"sortable",value:e.sortable,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"inheritance",value:e.inheritance,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"fullText",value:e.fullText,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"index",value:e.index,hover:!0}),Object(le.jsx)(Fn,{title:"schema",component:YT,value:e.schema,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"values",component:Wa,value:e.values,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"data",component:_a,value:e.data,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"floatRestriction",value:e.floatRestriction,component:HT,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"integerRestriction",value:e.integerRestriction,component:zT,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"longRestriction",value:e.longRestriction,component:JT,hideNoValue:!0}),Object(le.jsx)(Fn,{title:"stringRestriction",value:e.stringRestriction,component:KT,hideNoValue:!0}),Object(le.jsx)(Fn,{value:e.constraint,component:({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"dataset",value:e.dataset}),Object(le.jsx)(Dn,{title:"levelProperty",value:e.levelProperty}),Object(le.jsx)(Dn,{title:"levelValue",value:e.levelValue}),Object(le.jsx)(Dn,{title:"value",value:e.value}),Object(le.jsx)(Dn,{title:"parent",value:e.parent}),Object(le.jsx)(Dn,{title:"validationGroup",value:e.validationGroup})]})})]})}var $T=XT;const QT=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"field",value:e.field,hover:!0}),Object(le.jsx)(Dn,{title:"fieldGroup",value:e.fieldGroup,hover:!0}),Object(le.jsx)(Dn,{title:"user",value:e.user,hover:!0}),Object(le.jsx)(Dn,{title:"group",value:e.group,hover:!0}),Object(le.jsx)(Dn,{title:"permission",value:e.permission,hover:!0})]}),ZT=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0}),Object(le.jsx)(Dn,{title:"inheritance",value:e.inheritance,variant:"boolean",hover:!0})]}),eE=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{title:"schema",value:e.schema,component:YT,hideNoValue:!0})}),tE=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(En,{title:"access",value:e.access,component:QT})}),nE=({metadataFieldGroupDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:ZT,value:e})}),oE=({metadataFieldGroupDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:eE,value:e})}),aE=({metadataFieldGroupDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:tE,value:e})});var sE=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"childGroupName",label:"Field Group",component:br,loadOptions:Px,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));const rE="FIELDGROUP_CHILD_FORM";var cE=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,groupName:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Child Group"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(sE,{form:rE,onSubmit:AT,onSubmitSuccess:e=>{const{childGroupName:a}=e,s="Field Group ".concat(a," Added");o({messageContent:s}),n&&n(),t()},onSubmitFail:()=>{o({messageContent:"Error Adding Field Group",messageColor:"secondary"})},onCancel:t,groupName:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(rE),children:"Save"})]})]})}));const iE="ADD_FIELDGROUP_CHILD";var lE=E((function({groupName:e,onRefresh:t,metadataFieldGroupDocument:n,onOpen:o}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Groups"}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"New",children:Object(le.jsx)(w.a,{onClick:()=>o({modalName:iE}),children:Object(le.jsx)(q.a,{})})})})})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(fT,{metadataFieldGroupListDocument:n,groupName:e,onRefresh:t})}),Object(le.jsx)(cE,{dialogName:iE,groupName:e,onSuccess:t})]})}));var jE=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"fieldName",label:"Metadata Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));const dE="FIELDGROUP_FIELD_FORM";var mE=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,groupName:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Metadata Field To Field Group"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(jE,{form:dE,onSubmit:LT,onSubmitSuccess:e=>{const{fieldName:a}=e,s="Field ".concat(a," Added");o({messageContent:s}),n&&n(),t()},onSubmitFail:()=>{o({messageContent:"Error Adding Field",messageColor:"secondary"})},onCancel:t,groupName:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(dE),children:"Save"})]})]})}));const hE="ADD_FIELDGROUP_FIELD";var uE=E((function({groupName:e,onRefresh:t,metadataFieldGroupDocument:n,onOpen:o}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{disableTypography:!0,title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Metadata Fields"}),action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Add",children:Object(le.jsx)(w.a,{onClick:()=>o({modalName:hE}),children:Object(le.jsx)(q.a,{})})})})})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)($F,{metadataFieldListDocument:n,groupName:e,onRefresh:t})}),Object(le.jsx)(mE,{dialogName:hE,groupName:e,onSuccess:t})]})}));function bE(e){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(we,{children:Object(le.jsx)(GT,{title:"Overview",formComponent:ET,displayComponent:nE,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(GT,{title:"Schema",formComponent:PT,displayComponent:oE,...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(uE,{...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(lE,{...e})}),Object(le.jsx)(we,{children:Object(le.jsx)(GT,{title:"Access",formComponent:NT,displayComponent:aE,...e})})]})}const pE="FIELDGROUP_REMOVE_MODAL";class OE extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={simpleMetadataDocument:void 0,metadataFieldGroupDocument:void 0}}componentDidMount(){const{groupName:e}=this.props;document.title="VidiCore Admin | Field Group | ".concat(e),this.onRefresh()}UNSAFE_componentWillReceiveProps({groupName:e}){const{groupName:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Field Group | ".concat(e))}onRefresh(){const{groupName:e}=this.props;this.onFetch(e)}onFetch(e){const{openSnackBar:t}=this.props;try{W.fieldgroup.getFieldGroup({groupName:e}).then((e=>this.setState({metadataFieldGroupDocument:e.data}))),W.fieldgroup.getSimpleMetadata({groupName:e}).then((e=>this.setState({simpleMetadataDocument:e.data})))}catch(n){t({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{groupName:e}=this.props,{simpleMetadataDocument:t,metadataFieldGroupDocument:n}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(qT,{removeModal:pE,onRefresh:this.onRefresh,groupName:e,code:n,codeModal:"MetadataFieldGroupDocument"}),n&&Object(le.jsx)(bE,{metadataFieldGroupDocument:n,groupName:e,onRefresh:this.onRefresh}),t&&Object(le.jsx)(Sp,{simpleMetadataList:t.field||[],onSuccess:this.onRefresh,entityType:"metadata-field/field-group",entityId:e}),Object(le.jsx)(OT,{dialogName:pE,groupName:e})]})}}var xE=he(OE);const gE=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"uri",label:"URI",component:_t,helperText:"Make Sure To Percent Encode",fullWidth:!0}),Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(le.jsx)(Vt.a,{name:"jobmetadata",label:"Job Metadata",component:Oi,buttonLabel:"Add Job Metadata"})]});var fE=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:gE}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const vE=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"original",label:"Original Shape Tag",component:_t,helperText:"Reset original to this tag",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"no-transcode",component:en}),label:"Disable Transcoding"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"overrideFastStart",component:en}),label:"Override Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"requireFastStart",component:en}),label:"Require Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"growing",component:en}),label:"Growing File"}),Object(le.jsx)($t.a,{name:"createPosters",label:"Poster Timecodes",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"fastStartLength",label:"Fast Start Length",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"storageId",label:"Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"xmpfile",label:"XMP URI",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"settings",label:"Access Control Setting",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"notification",label:"Notification ID",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsx)($t.a,{name:"importTag",label:"Default Shape Tag",component:Ta,simple:!0,fullWidth:!0})]});var yE=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:vE}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function CE(e){const{queryParams:t,metadataDocument:n}=e;return W.vsimport.createImportUri({queryParams:t,metadataDocument:n}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function SE(e){const{queryParams:t,metadataDocument:n,upload:o}=e,{transferId:a}=t,s=o[0],{name:r}=s;return W.vsimport.createImportRawPasskey({filename:r,queryParams:t,metadataDocument:n}).then((e=>{const{data:{data:t=[]}}=e,n=t.find((e=>"passkey"===e.key)).value;return W.vsimport.createImportRawNoAuth({file:s,queryParams:{passkey:n,transferId:a}})})).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function IE(e){const{queryParams:t,metadataDocument:n}=e;return W.vsimport.createImportPlaceholder({queryParams:t,metadataDocument:n}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function RE(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId,s=n.component||e.component;return W.vsimport.createImportComponent({itemId:a,component:s,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function DE(e,t,n){const{queryParams:o}=e,a=n.itemId||e.itemId;return W.vsimport.createImportItemSidecar({itemId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var FE=e=>class extends s.a.PureComponent{constructor(e){super(e),this.onBack=this.onBack.bind(this),this.onNext=this.onNext.bind(this),this.state={activeStep:0}}onBack(){const{activeStep:e}=this.state;0!==e&&this.setState({activeStep:e-1})}onNext(){const{activeStep:e}=this.state;this.setState({activeStep:e+1})}render(){const{activeStep:t}=this.state;return Object(le.jsx)(e,{onBack:this.onBack,onNext:this.onNext,activeStep:t,...this.props})}};const TE="EDIT_IMPORTURI_FORM";var EE=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"]},metadataDocument:{},...e},l=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},j=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"URI",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(TE),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"URI"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(fE,{onSubmit:CE,initialValues:i,onSubmitSuccess:l,onSubmitFail:j,form:TE,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:CE,initialValues:i,onSubmitSuccess:l,onSubmitFail:j,form:TE,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yE,{onSubmit:CE,initialValues:i,onSubmitSuccess:l,onSubmitFail:j,form:TE,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class PE extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | URI"}componentWillUnmount(){const{destroyForm:e}=this.props;e(TE)}render(){const{history:e,...t}=this.props;return Object(le.jsx)(EE,{onSuccess:t=>e.push("/job/".concat(t.data.jobId)),...t})}}var NE=Mo(PE);const kE=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"container",component:_t,type:"number",helperText:"Total Container Components",fullWidth:!0}),Object(le.jsx)(Zt,{name:"video",component:_t,type:"number",helperText:"Total Video Components",fullWidth:!0}),Object(le.jsx)(Zt,{name:"audio",component:_t,type:"number",helperText:"Total Audio Components",fullWidth:!0}),Object(le.jsx)(Zt,{name:"binary",component:_t,type:"number",helperText:"Total Binary Components",fullWidth:!0})]});var ME=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:kE}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const AE=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"frameDuration",label:"Frame Duration",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"settings",label:"Access Control Settings",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"importTag",label:"Default Shape Tag",component:Ta,simple:!0,fullWidth:!0})]});var LE=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:AE}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const WE="EDIT_IMPORTPLACEHOLDER_FORM";var _E=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i={queryParams:{container:1},metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]},...e},l=(e,n,o)=>{c({messageContent:"Placeholder Created"}),t&&t(e,n,o)},j=(e,t,o)=>{c({messageContent:"Error Creating Placeholder",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Placeholder Item",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(WE),children:"Create"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Placeholder Item"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(ME,{onSubmit:IE,initialValues:i,onSubmitSuccess:l,onSubmitFail:j,form:WE,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:IE,initialValues:i,form:WE,onSubmitSuccess:l,onSubmitFail:j,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(LE,{onSubmit:IE,initialValues:i,onSubmitSuccess:l,onSubmitFail:j,form:WE,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class wE extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Placeholder"}componentWillUnmount(){const{destroyForm:e}=this.props;e(WE)}render(){const{history:e,...t}=this.props;return Object(le.jsx)(_E,{onSuccess:t=>e.push("/item/".concat(t.data.id)),...t})}}var VE=Mo(wE);const UE=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"uri",label:"URI",component:_t,helperText:"Must be specified unless File Id is specified",fullWidth:!0}),Object(le.jsx)($t.a,{name:"fileId",label:"File ID",component:_t,helperText:"Must be specified unless URI is specified",fullWidth:!0}),Object(le.jsx)($t.a,{name:"shapeId",label:"Shape ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(le.jsx)(Vt.a,{name:"jobmetadata",label:"Job Metadata",component:Oi,buttonLabel:"Add Job Metadata"})]});var BE=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"itemId",label:"Item Id",component:_t,validate:[Td],required:!0,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"component",children:"Component"}),Object(le.jsxs)($t.a,{name:"component",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"container",children:"Container"}),Object(le.jsx)(Xn.a,{value:"video",children:"Video"}),Object(le.jsx)(Xn.a,{value:"audio",children:"Audio"}),Object(le.jsx)(Xn.a,{value:"binary",children:"Binary"})]})]}),Object(le.jsx)(Xt,{name:"queryParams",component:UE}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const qE=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"original",label:"Original Shape Tag",component:_t,helperText:"Reset original to this tag",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"allowReimport",component:en}),label:"Allow Reimport"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"no-transcode",component:en}),label:"Disable Transcoding"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"overrideFastStart",component:en}),label:"Override Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"requireFastStart",component:en}),label:"Require Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"growing",component:en}),label:"Growing File"}),Object(le.jsx)($t.a,{name:"createPosters",label:"Poster Timecodes",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"fastStartLength",label:"Fast Start Length",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"storageId",label:"Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"xmpfile",label:"XMP URI",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"settings",label:"Access Control Setting",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"notification",label:"Notification ID",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsx)($t.a,{name:"index",label:"Component Track",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"importTag",label:"Default Shape Tag",component:Ta,simple:!0,fullWidth:!0})]});var GE=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:qE}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const HE="EDIT_IMPORTCOMPONENT_FORM";var zE=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},l=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)},j={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"],allowReimport:!1,...e.queryParams},component:"container",itemId:e.itemId};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Component",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(HE),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Component"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(BE,{onSubmit:RE,initialValues:j,onSubmitSuccess:i,onSubmitFail:l,form:HE})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:RE,initialValues:j,onSubmitSuccess:i,onSubmitFail:l,form:HE,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(GE,{onSubmit:RE,initialValues:j,onSubmitSuccess:i,onSubmitFail:l,form:HE,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class JE extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Component"}componentWillUnmount(){const{destroyForm:e}=this.props;e(HE)}render(){const{history:e,location:t,...n}=this.props,o=new URLSearchParams(t.search),a=o.get("fileId"),s=o.get("itemId");return Object(le.jsx)(zE,{onSuccess:t=>e.push("/job/".concat(t.data.jobId)),initialValues:{itemId:s,queryParams:{fileId:a}},...n})}}var KE=Mo(JE);const YE=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"filename",label:"Filename",component:Wt.a,fullWidth:!0}),Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(le.jsx)(Vt.a,{name:"jobmetadata",label:"Job Metadata",component:Oi,buttonLabel:"Add Job Metadata"})]});var XE=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"upload",label:"Choose File",component:Pd,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:YE}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const $E=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"transferId",label:"Transfer ID",component:_t,disabled:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"original",label:"Original Shape Tag",component:_t,helperText:"Reset original to this tag",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"no-transcode",component:en}),label:"Disable Transcoding"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"overrideFastStart",component:en}),label:"Override Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"requireFastStart",component:en}),label:"Require Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"growing",component:en}),label:"Growing File"}),Object(le.jsx)($t.a,{name:"createPosters",label:"Poster Timecodes",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"fastStartLength",label:"Fast Start Length",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"storageId",label:"Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"xmpfile",label:"XMP URI",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"settings",label:"Access Control Setting",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"notification",label:"Notification ID",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Metadata",component:Ea}),Object(le.jsx)($t.a,{name:"importTag",label:"Default Shape Tag",component:Ta,simple:!0,fullWidth:!0})]});var QE=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:$E}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const ZE="EDIT_IMPORTRAW_FORM";var eP=Object(m.c)(FE,ue,Mo,Nh)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c,isFormSubmitting:i}){const l={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"],transferId:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},metadataDocument:{},...e},j=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},d=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Upload",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsxs)("div",{style:{position:"relative"},children:[Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(ZE),disabled:i,children:"Start"}),i&&Object(le.jsx)(Xr.a,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"File"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(XE,{onSubmit:SE,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:ZE,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:SE,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:ZE,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(QE,{onSubmit:SE,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:ZE,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}),ZE);class tP extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Upload"}componentWillUnmount(){const{destroyForm:e}=this.props;e(ZE)}render(){const{history:e,...t}=this.props;return Object(le.jsx)(eP,{onSuccess:t=>e.push("/job/".concat(t.data.jobId)),...t})}}var nP=Mo(tP);const oP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"filename",label:"File Name",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(le.jsx)(Vt.a,{name:"jobmetadata",label:"Job Metadata",component:Oi,buttonLabel:"Add Job Metadata"})]});var aP=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"fileId",label:"File ID",component:_t,validate:[Td],required:!0,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:oP}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const sP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"id",label:"External IDs",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"original",label:"Original Shape Tag",component:_t,helperText:"Reset original to this tag",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"allowReimport",component:en}),label:"Allow Reimport"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"no-transcode",component:en}),label:"Disable Transcoding"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"overrideFastStart",component:en}),label:"Override Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"requireFastStart",component:en}),label:"Require Fast Start"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"growing",component:en}),label:"Growing File"}),Object(le.jsx)($t.a,{name:"createPosters",label:"Poster Timecodes",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"fastStartLength",label:"Fast Start Length",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"storageId",label:"Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"xmpfile",label:"XMP URI",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"settings",label:"Access Control Setting",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"notification",label:"Notification ID",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsx)($t.a,{name:"importTag",label:"Default Shape Tag",component:Ta,simple:!0,fullWidth:!0})]});var rP=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:sP}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function cP(e,t,n){const o=n.fileId||e.fileId,{state:a}=e;return W.file.updateFileState({fileId:o,state:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function iP(e,t,n){const o=n.fileId||e.fileId,{hash:a,queryParams:s}=e;return W.file.updateFileHash({fileId:o,hash:a,queryParams:s}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function lP(e,t,n){const o=n.fileId||e.fileId,{targetStorageId:a,queryParams:s}=e;return W.file.createFileMove({fileId:o,targetStorageId:a,queryParams:s}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function jP(e,t,n){const o=n.fileId||e.fileId,{queryParams:a}=e;return W.file.removeFile({fileId:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function dP(e,t,n){const o=n.fileId||e.fileId,{queryParams:a}=e;return W.file.createFilePath({fileId:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function mP(e,t,n){const o=n.fileId||e.fileId,{queryParams:a,file:s}=e;return W.file.updateFileRaw({fileId:o,file:s[0],queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function hP(e,t,n){const o=n.fileId||e.fileId,{queryParams:a}=e;return W.file.getFile({fileId:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function uP(e,t,n){const{storageId:o}=n,{queryParams:a,matrixParams:s={}}=e;return W.file.listFile({storageId:o,queryParams:a,matrixParams:Object.entries(s)}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function bP(e){const{fileDocument:t,queryParams:n,storageId:o}=e;return W.file.createFileEntity({storageId:o,fileDocument:t,queryParams:n}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function pP(e,t,n){const{metadataDocument:o,queryParams:a}=e,s=n.fileId||e.fileId;return W.file.createFileImport({fileId:s,metadataDocument:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function OP(e,t,n){const{queryParams:o}=e,a=n.fileId||e.fileId;return W.file.analyzeFile({fileId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function xP(e,t,n){const{queryParams:o}=e,a=n.fileId||e.fileId;return W.file.analyzeFileImp({fileId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function gP(e,t,n){const{queryParams:o}=e,a=n.fileId||e.fileId;return W.file.createFileTemporaryCredentials({fileId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const fP="EDIT_IMPORTFILE_FORM";var vP=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},l=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)},j={queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"]},metadataDocument:{},...e};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"File",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(fP),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"File"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(aP,{onSubmit:pP,initialValues:j,onSubmitSuccess:i,onSubmitFail:l,form:fP,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:pP,initialValues:j,onSubmitSuccess:i,onSubmitFail:l,form:fP,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(rP,{onSubmit:pP,initialValues:j,onSubmitSuccess:i,onSubmitFail:l,form:fP,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class yP extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | File"}componentWillUnmount(){const{destroyForm:e}=this.props;e(fP)}render(){const{history:e,location:t,...n}=this.props,o=new URLSearchParams(t.search).get("fileId");return Object(le.jsx)(vP,{onSuccess:t=>e.push("/job/".concat(t.data.jobId)),initialValues:{fileId:o},...n})}}var CP=Mo(yP);const SP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"container",label:"Container",component:_t,type:"number",fullWidth:!0,helperText:"Total Container Files"}),Object(le.jsx)($t.a,{name:"video",label:"Video",component:_t,type:"number",helperText:"Total Video Files",fullWidth:!0}),Object(le.jsx)($t.a,{name:"audio",label:"Audio",component:_t,helperText:"Total Audio Files",type:"number",fullWidth:!0}),Object(le.jsx)($t.a,{name:"binary",label:"Binary",component:_t,type:"number",fullWidth:!0,helperText:"Total Binary Files"}),Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)($t.a,{name:"frameDuration",label:"Frame Duration",component:_t,type:"number",fullWidth:!0})]});var IP=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"itemId",label:"Item Id",component:_t,validate:[Td],required:!0,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:SP}),Object(le.jsx)(Xt,{name:"simpleMetadataDocument",label:"Metadata",component:Pa}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const RP="EDIT_IMPORTSHAPEPLACEHOLDER_FORM";var DP=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,openSnackBar:a}){const s={queryParams:{container:1,tag:["original"]},...e};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Placeholder Shape",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(RP),children:"Create"})}),Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(IP,{onSubmit:kf,initialValues:s,onSubmitSuccess:(e,n,o)=>{a({messageContent:"Placeholder Shape Created"}),t&&t(e,n,o)},onSubmitFail:(e,t,o)=>{a({messageContent:"Error Creating Placeholder Shape",messageColor:"secondary"}),n&&n(e,t,o)},form:RP,destroyOnUnmount:!1})})})]})}));class FP extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Shape Placeholder"}componentWillUnmount(){const{destroyForm:e}=this.props;e(RP)}render(){const{location:e,history:t}=this.props,n=new URLSearchParams(e.search).get("itemId");return Object(le.jsx)(DP,{initialValues:{itemId:n},onSuccess:(e,n,o)=>{var a;const s=null===e||void 0===e?void 0:e.data,r=null===o||void 0===o||null===(a=o.values)||void 0===a?void 0:a.itemId;t.push("/item/".concat(r,"/shape/").concat(s,"/"))},...this.props})}}var TP=Mo(FP);var EP=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsx)("form",{onSubmit:t,style:{padding:"10px"},children:Object(le.jsxs)($.a,{container:!0,direction:"row",alignItems:"center",children:[e&&Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)(X.a,{color:"error",children:e})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"itemId",label:"Item Id",component:_t,validate:[Td],required:!0,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"queryParams.uri",label:"URI",component:_t,helperText:"Must be specified unless File Id is specified",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"queryParams.fileId",label:"File ID",component:_t,helperText:"Must be specified unless URI is specified",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"queryParams.tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"queryParams.priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)(Vt.a,{name:"queryParams.jobmetadata",label:"Job Metadata",component:Oi,buttonLabel:"Add Job Metadata"})})]})})}));const PP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"allowReimport",component:en}),label:"Allow Reimport"}),Object(le.jsx)($t.a,{name:"storageId",label:"Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"notification",label:"Notification ID",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Metadata",component:Ea})]});var NP=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:PP}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const kP="EDIT_IMPORTSHAPE_FORM";var MP=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i={queryParams:{tag:["original"]},...e},l=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},j=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Shape",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(kP),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Shape"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(EP,{onSubmit:Nf,initialValues:i,onSubmitSuccess:l,onSubmitFail:j,form:kP,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(NP,{onSubmit:Nf,initialValues:i,onSubmitSuccess:l,onSubmitFail:j,form:kP,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class AP extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Shape"}componentWillUnmount(){const{destroyForm:e}=this.props;e(kP)}render(){const{history:e,location:t,...n}=this.props,o=new URLSearchParams(t.search),a=o.get("fileId"),s=o.get("itemId");return Object(le.jsx)(MP,{onSuccess:t=>e.push("/job/".concat(t.data.jobId)),initialValues:{itemId:s,queryParams:{fileId:a}},...n})}}var LP=Mo(AP);const WP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"id",label:"Entity ID",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Entity Type"}),Object(le.jsxs)(Zt,{name:"type",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"library",children:"Library"}),Object(le.jsx)(Xn.a,{value:"collection",children:"Collection"})]})]})]}),_P=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"metadata",label:"metadata",component:vg}),Object(le.jsx)(Yt,{name:"content",label:"content",component:WP})]}),wP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"name",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"externalId",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"settings",component:_t,fullWidth:!0})]}),VP=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"collectionDocument",component:_P}),Object(le.jsx)("button",{type:"submit",hidden:!0})]}))),UP=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:wP}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));var BP=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:wP}),Object(le.jsx)(Xt,{name:"collectionDocument",label:"collectionDocument",component:_P}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));const qP="EDIT_COLLECTION_FORM";var GP=Object(m.c)(FE,ue,Mo)((function({onSuccess:e,onFail:t,submitForm:n,onNext:o,onBack:a,activeStep:s,openSnackBar:r}){const c=(t,n,o)=>{r({messageContent:"Collection Created"}),e&&e(t,n,o)},i=(e,n,o)=>{r({messageContent:"Error Creating Collection",messageColor:"secondary"}),t&&t(e,n,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Collection",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>n(qP),children:"Create"})}),Object(le.jsxs)(Fc.a,{activeStep:s,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Collection"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(UP,{onSubmit:mf,onSubmitSuccess:c,onSubmitFail:i,form:qP,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Document"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(VP,{onSubmit:mf,onSubmitSuccess:c,onSubmitFail:i,form:qP,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:a,children:"Back"})})]})})]})]})]})}));class HP extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Collection"}componentWillUnmount(){const{destroyForm:e}=this.props;e(qP)}render(){const{history:e,...t}=this.props;return Object(le.jsx)(GP,{onSuccess:t=>e.push("/collection/".concat(t.data.id)),...t})}}var zP=Mo(HP);const JP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"fileId",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowReimport",component:en}),label:"Allow Reimport"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]});var KP=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"itemId",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:JP}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const YP=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Ea}),Object(le.jsx)(Zt,{name:"storageId",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Metadata",component:Ea})]});var XP=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:YP}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const $P="EDIT_IMPORTSHAPEESSENCE_FORM";var QP=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c,itemId:i}){const l=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},j=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Essence",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o($P),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Essence"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(KP,{onSubmit:Ef,initialValues:e,onSubmitSuccess:l,onSubmitFail:j,form:$P,destroyOnUnmount:!1,itemId:i})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(XP,{onSubmit:Ef,initialValues:e,onSubmitSuccess:l,onSubmitFail:j,form:$P,destroyOnUnmount:!1,itemId:i})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class ZP extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Essence"}componentWillUnmount(){const{destroyForm:e}=this.props;e($P)}render(){const{history:e,...t}=this.props;return Object(le.jsx)(QP,{onSuccess:t=>e.push("/job/".concat(t.data.jobId)),...t})}}var eN=Mo(ZP);var tN=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsx)("form",{onSubmit:t,style:{padding:"10px"},children:Object(le.jsxs)($.a,{container:!0,direction:"row",alignItems:"center",children:[e&&Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)(X.a,{color:"error",children:e})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"itemId",label:"Item Id",component:_t,validate:[Td],required:!0,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"queryParams.sidecar",label:"FileId / URI",component:_t,helperText:"Either the id of the sidecar file or a URL for locating it",required:!0,fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"queryParams.startTimeCode",label:"Start TimeCode",component:_t,helperText:"Expected start time code of the content",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"queryParams.priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)(Vt.a,{name:"queryParams.jobmetadata",label:"Job Metadata",component:Oi,buttonLabel:"Add Job Metadata"})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)($t.a,{name:"queryParams.notification",label:"Notification ID",component:_t,helperText:"The placeholder job notification to use for this job",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,xs:12,children:Object(le.jsx)(Vt.a,{name:"queryParams.notificationData",label:"Notification Data",component:Oi,buttonLabel:"Add Notification Data"})})]})})}));const nN="EDIT_IMPORTSIDECAR_FORM";var oN=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,activeStep:a,openSnackBar:s,itemId:r}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Import",title:"Essence",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(nN),children:"Start"})}),Object(le.jsx)(Fc.a,{activeStep:a,orientation:"vertical",children:Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Sidecar"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(tN,{onSubmit:DE,initialValues:e,onSubmitSuccess:(e,n,o)=>{s({messageContent:"Job Started"}),t&&t(e,n,o)},onSubmitFail:(e,t,o)=>{s({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)},form:nN,destroyOnUnmount:!1,itemId:r})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(nN),children:"Start"})})]})})]})})]})}));class aN extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | Import | Sidecar"}componentWillUnmount(){const{destroyForm:e}=this.props;e(nN)}render(){const{history:e,location:t,...n}=this.props,o=new URLSearchParams(t.search),a=o.get("fileId"),s=o.get("itemId");return Object(le.jsx)(oN,{onSuccess:t=>e.push("/job/".concat(t.data.jobId)),initialValues:{itemId:s,queryParams:{sidecar:a}},...n})}}function sN({listText:e,listItemProps:t={}}){return Object(le.jsxs)(Um.a,{style:{paddingLeft:8},disableGutters:!0,button:!0,...t,children:[Object(le.jsx)(Bm.a,{children:Object(le.jsx)(Hr.a,{style:{height:25,width:25},children:e[0]})}),Object(le.jsx)(Hm.a,{secondary:e})]})}const rN="IMPORTFILE_TAB",cN=[{tab:"IMPORTURI_TAB",listText:"URI",component:NE},{tab:"IMPORTPLACEHOLDER_TAB",listText:"Placeholder Item",component:VE},{tab:"IMPORTCOMPONENT_TAB",listText:"Component",component:KE},{tab:"IMPORTRAW_TAB",listText:"Upload",component:nP},{tab:rN,listText:"File",component:CP},{tab:"IMPORTSHAPEPLACEHOLDER_TAB",listText:"Placeholder Shape",component:TP},{tab:"IMPORTSHAPE_TAB",listText:"Shape",component:LP},{tab:"IMPORTCOLLECTION_TAB",listText:"Collection",component:zP},{tab:"IMPORTSHAPEESSENCE_TAB",listText:"Essence",component:eN},{tab:"IMPORTSIDECAR_TAB",listText:"Sidecar",component:Mo(aN)}],iN=({onChangeTab:e,tabValue:t})=>Object(le.jsx)(hm.a,{children:cN.map((({tab:n,listText:o})=>Object(le.jsx)(sN,{listText:o,listItemProps:{onClick:()=>e(null,n),selected:t===n||void 0}},o)))});class lN extends s.a.PureComponent{render(){const{tabValue:e,onChangeTab:t,...n}=this.props,o=cN.find((t=>t.tab===e))||cN[0],{listText:a,component:s}=o;return Object(le.jsx)(Gm,{mainComponent:s,listComponent:iN,defaultOpen:!0,onChangeTab:t,tabValue:e,title:a,...n})}}var jN=Ao(rN)(lN);function dN(e){return Object(le.jsx)(Ae,{title:"File",helpTo:"/ref/storage/file.html",...e})}var mN=n(705),hN=n(788);const uN=["CLOSED","ARCHIVED"],bN=["NONE","OPEN","BEING_READ","AWAITING_SYNC"],pN=["CLOSED","OPEN","BEING_READ"];var ON=["CLOSED","OPEN","NONE","LOST","TO_APPEAR","TO_BE_DELETED","BEING_READ","ARCHIVED","AWAITING_SYNC"];const xN=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"id",label:"File IDs",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"path",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"ignorecase",component:en}),label:"Ignore Case"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"recursive",component:en}),label:"Recursive"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"wildcard",component:en}),label:"Wildcard"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"count",component:en}),label:"Count"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"prefix",component:en}),label:"Prefix"}),Object(le.jsx)(Zt,{name:"hash",label:"Hashes",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"algorithm",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsx)(Zt,{name:"state",component:Lt,children:ON.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"methodType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"scheme",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"methodMetadata",label:"Method Metadata",component:Ea})]}),gN=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"prefixFirst",component:_t,type:"number",fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"prefixNumber",component:_t,type:"number",fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"sort",component:Ta,simple:!0,fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"storage",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageGroup",component:br,loadOptions:Xj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(le.jsxs)($n.a,{component:"fieldset",children:[Object(le.jsx)(mN.a,{component:"legend",children:"File Association"}),Object(le.jsxs)(Zt,{name:"filter",component:kt,children:[Object(le.jsx)(re.a,{value:"all",control:Object(le.jsx)(hN.a,{}),label:"All"}),Object(le.jsx)(re.a,{value:"item",control:Object(le.jsx)(hN.a,{}),label:"With Item"}),Object(le.jsx)(re.a,{value:"noitem",control:Object(le.jsx)(hN.a,{}),label:"Not Associated"})]})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"excludeQueued",component:en}),label:"Exclude Queued"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeItem",component:en}),label:"Include Item"})]});var fN=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:xN}),Object(le.jsx)(Xt,{name:"matrixParams",component:gN}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var vN=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s="FILE_FILTER_FORM",changeForm:r}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"File List Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(fN,{form:s,onSubmit:uP,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Listing Files",messageColor:"secondary"})},onCancel:e,destroyOnUnmount:!1,initialValues:{matrixParams:{first:0,number:10,prefixFirst:0,prefixNumber:10}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:async()=>{await r(s,"matrixParams.first",0),o(s)},children:"Filter"})]})]})}));var yN=({fileDocument:e})=>{if(void 0===e)return null;const{state:t}=e;return uN.includes(t)?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Qr,{}),label:ot()(t.toLowerCase())}):bN.includes(t)?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(tc,{}),label:ot()(t.toLowerCase())}):Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:t?ot()(t.toLowerCase()):"Unknown"})};function CN({fileDocument:e={}}){return Object(le.jsxs)(at,{to:"/file/".concat(e.id,"/"),hover:!0,children:[Object(le.jsx)(uo,{children:e.path}),Object(le.jsx)(uo,{children:e.id}),Object(le.jsx)(uo,{children:Object(le.jsx)(yN,{fileDocument:e})}),Object(le.jsx)(uo,{children:e.storage}),Object(le.jsx)(uo,{children:dn(e.size)}),Object(le.jsx)(uo,{children:e.timestamp?sn()(e.timestamp).toString():""})]})}function SN({fileListDocument:e,count:t=0,page:n=0,rowsPerPage:o=10,onChangePage:a,onChangeRowsPerPage:s,onChangeOrder:r,orderBy:c,orderDirection:i}){const{file:l=[]}=e,j=[10,100,250];return j.includes(o)||j.push(o),Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"filename"===c,direction:i,onClick:r?r("filename"):void 0,children:"Path"})}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"fileId"===c,direction:i,onClick:r?r("fileId"):void 0,children:"ID"})}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"state"===c,direction:i,onClick:r?r("state"):void 0,children:"State"})}),Object(le.jsx)(uo,{children:"Storage"}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"size"===c,direction:i,onClick:r?r("size"):void 0,children:"Size"})}),Object(le.jsx)(uo,{children:Object(le.jsx)(Ch.a,{active:"timestamp"===c,direction:i,onClick:r?r("timestamp"):void 0,children:"Timestamp"})})]})}),Object(le.jsx)(ho,{children:l.map((e=>Object(le.jsx)(CN,{fileDocument:e},e.id)))}),a&&Object(le.jsx)(Ih,{children:Object(le.jsx)(po,{children:Object(le.jsx)(Dh,{count:t,page:n,rowsPerPage:o,onPageChange:a,onRowsPerPageChange:s,ActionsComponent:tt,rowsPerPageOptions:j})})})]})}function IN({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(SN,{...e})})})}function RN({filePrefixType:e,onChangePrefix:t}){if(!e)return null;const{prefix:n=[]}=e;return Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsx)(po,{children:Object(le.jsx)(uo,{children:"Prefix"})})}),Object(le.jsx)(ho,{children:n.map((e=>Object(le.jsx)(po,{hover:!0,onClick:()=>t(e),children:Object(le.jsx)(uo,{children:e})})))})]})}function DN({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(RN,{...e})})})}const FN=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"path",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsx)(Zt,{name:"state",component:Lt,children:ON.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"size",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"hash",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"timestamp",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"refreshFlag",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"metadata",component:pi})]}),TN=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"createOnly",component:en}),label:"Create Only"})});var EN=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"storageId",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(le.jsx)(Xt,{name:"fileDocument",component:FN}),Object(le.jsx)(Xt,{name:"queryParams",component:TN}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const PN="FILE_ENTITY_FORM";var NN=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New File Entity"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(EN,{form:PN,onSubmit:bP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"File Created"}),t(),n&&n(e,a,s)},onSubmitFail:()=>{o({messageContent:"Error Creating File",messageColor:"secondary"})},onCancel:t})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(PN),children:"Save"})]})]})}));const kN="FILE_FILTER_FORM",MN="FILE_ENTITY_DIALOG";class AN extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onChangePrefix=this.onChangePrefix.bind(this),this.state={fileListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderBy:void 0,orderDirection:void 0}}componentDidMount(){document.title="VidiCore Admin | File",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(kN)}onSuccess(e){const t=e.data,{formValues:n={}}=this.props,{matrixParams:o={}}=n,{first:a=0,number:s=10}=o,{hits:r=0}=t,c=Math.ceil(r/s)-Math.ceil((r-a)/s);this.setState({count:r,rowsPerPage:s,page:c,fileListDocument:t})}async onChangePage({page:e}){const{formValues:t={},changeForm:n}=this.props,{matrixParams:o={}}=t,{number:a=10}=o;n(kN,"matrixParams.first",e*a),await n(kN,"matrixParams.number",a),this.onRefresh()}async onChangePrefix(e){const{changeForm:t}=this.props;await t(kN,"queryParams.path",e),this.onRefresh()}async onChangeRowsPerPage({target:{value:e}}={}){const{changeForm:t}=this.props;t(kN,"matrixParams.first",0),await t(kN,"matrixParams.number",e),this.onRefresh()}onChangeOrder(e){return async()=>{const{changeForm:t}=this.props,{orderDirection:n,orderBy:o}=this.state;let a,s,r="";e!==o?(s=e,a="desc",r=["".concat(e," ").concat(a)]):"desc"===n&&(s=e,a="asc",r=["".concat(e," ").concat(a)]),this.setState({orderBy:s,orderDirection:a}),await t(kN,"matrixParams.sort",r),this.onRefresh()}}render(){const{fileListDocument:e,count:t,page:n,rowsPerPage:o,orderBy:a,orderDirection:s}=this.state,{history:r}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(dN,{code:e,codeModal:"FileListDocument",createModal:MN,onRefresh:this.onRefresh}),Object(le.jsx)(vN,{form:kN,onSuccess:this.onSuccess}),e&&Object(le.jsxs)(le.Fragment,{children:[e.prefixes&&Object(le.jsx)(DN,{filePrefixType:e.prefixes,onChangePrefix:this.onChangePrefix}),Object(le.jsx)(IN,{fileListDocument:e,count:t,page:n,rowsPerPage:o,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:a,orderDirection:s})]}),Object(le.jsx)(NN,{dialogName:MN,onSuccess:e=>r.push("/file/".concat(e.data.id))})]})}}var LN=Object(m.c)(Mo,Nh)(AN,kN);var WN=me((({fileDocument:e,openSnackBar:t})=>{if(void 0===e)return null;const{path:n,id:o,state:a}=e,s=n.replace(/^.*(\\|\/|:)/,"");if(!pN.includes(a))return null;return Object(le.jsx)(Q.a,{title:"Download",children:Object(le.jsx)(w.a,{onClick:()=>(({fileId:e,fileName:t,openSnackBar:n})=>W.file.getFile({fileId:e,queryParams:{methodMetadata:[{key:"format",value:"SIGNED-AUTO"},{key:"contentDisposition",value:"attachment".concat(t?";+filename=".concat(t):void 0)}]}}).then((e=>{const{data:t}=e,{uri:o=[]}=t,[a]=o;if(a){const e="Download Started";n&&n({messageContent:e}),window.open(a,"_blank")}else{const e="Error Loading Download URL";n&&n({messageContent:e,messageColor:"secondary"})}})).catch((()=>{n&&n({messageContent:"Error Loading Download URL",messageColor:"secondary"})})))({fileId:o,fileName:s,openSnackBar:t}),children:Object(le.jsx)(ae.a,{})})})}));const _N=({fileDocument:e,abandonModal:t,onOpen:n})=>void 0===e?null:e.item?Object(le.jsx)(Xn.a,{onClick:()=>n({modalName:t}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Abandon Item"})}):null;var wN=T((function({fileId:e,onOpen:t,stateModal:n,moveModal:o,abandonModal:a,deleteModal:s,removeEntityModal:r,pathModal:c,overwriteModal:i,analyzeModal:l,impAnalyzeModal:j,uriModal:d,hashModal:m,fileDocument:h,breadcrumbList:u=[],...b}){return Object(le.jsx)(Ae,{helpTo:"/ref/storage/file.html",breadcrumbList:[{title:"File",to:mv()},{title:e,to:hv({fileId:e})},...u],iconList:Object(le.jsx)(le.Fragment,{children:h&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(yN,{fileDocument:h}),Object(le.jsx)(WN,{fileDocument:h}),Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:n}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Change State"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:d}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Generate Temporary URI"})}),Object(le.jsx)(un,{to:"/import?tab=IMPORTFILE_TAB&fileId=".concat(e),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Import As Item"})})}),Object(le.jsx)(Xn.a,{children:Object(le.jsx)(un,{to:"/import?tab=IMPORTSHAPE_TAB&fileId=".concat(e),children:Object(le.jsx)(X.a,{children:"Import As Shape"})})}),Object(le.jsx)(un,{to:"/import?tab=IMPORTCOMPONENT_TAB&fileId=".concat(e),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Import To Component"})})}),Object(le.jsx)(un,{to:"/import?tab=IMPORTSIDECAR_TAB&fileId=".concat(e),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Import As Sidecar"})})}),Object(le.jsx)(un,{to:"/import-imp/?tab=IMPORTIMP_FILE_TAB&fileId=".concat(e),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Import As IMP"})})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:l}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Shape Deduction"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:j}),children:Object(le.jsx)(X.a,{color:"inherit",children:"IMP Deduction"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:o}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Copy/Move File"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:c}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Set New Path"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:m}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Set Checksum Hash"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:i}),children:Object(le.jsx)(X.a,{color:"inherit",children:"Overwrite File Data"})}),Object(le.jsx)(_N,{fileDocument:b.code,abandonModal:a,onOpen:t}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:r}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Remove Entity"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:s}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete File"})})]})]})}),...b})}));const VN=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"id",value:e.id,hover:!0}),Object(le.jsx)(Dn,{title:"path",value:e.path,hideNoValue:!0,hover:!0}),Object(le.jsx)(ta,{title:"uri",value:e.uri,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"state",value:e.state,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"size",value:e.size,variant:"bytes",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"hash",value:e.hash,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"timestamp",value:e.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"refreshFlag",value:e.refreshFlag,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"sequence",value:e.sequence,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"storage",value:e.storage,variant:"storageId",hideNoValue:!0,hover:!0}),Object(le.jsx)(En,{value:e.item,component:({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"item",value:e.id,variant:"itemId"}),Object(le.jsx)(En,{value:e.shape,component:({value:t})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"shape",variant:"shapeId",value:t.id,variantProps:{itemId:e.id}}),Object(le.jsx)(En,{value:t.component,component:({value:n})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"component",value:n.id,hideNoValue:!0,variant:"componentId",variantProps:{itemId:e.id,shapeId:t.id}})}),hideNoValue:!0})]}),hideNoValue:!0})]}),hideNoValue:!0,hover:!0,dense:!0}),Object(le.jsx)(En,{title:"range",value:e.range,component:({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"start",value:e.start}),Object(le.jsx)(Dn,{title:"count",value:e.count})]}),hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"type",value:e.type,hideNoValue:!0,hover:!0})]}),UN=({fileDocument:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:VN,value:e})});function BN({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(UN,{...e})})})}const qN=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"methodType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"scheme",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"methodMetadata",label:"Method Metadata",component:Ea}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeItem",component:en}),label:"Include Item"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeShapes",component:en}),label:"Include Shapes"})]});var GN=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:qN}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var HN=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s="FILE_PARAMS_FORM",initialValues:r={},fileId:c}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"File Params"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(GN,{form:s,onSubmit:hP,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Requesting File",messageColor:"secondary"})},onCancel:e,destroyOnUnmount:!1,initialValues:r,fileId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>o(s),children:"Update"})]})]})}));const zN=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",component:Ea}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Data",component:Ea})]});var JN=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:zN}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const KN="FILE_DELETE_FORM";var YN=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const{path:r,id:c}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Delete File ".concat(r||c)}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(JN,{form:KN,onSubmit:jP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"File Delete Job Created"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Creating File Delete Job",messageColor:"secondary"})},onCancel:t,fileId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>a(KN),children:"Delete"})]})]})}));var XN=ue((function({open:e,onClose:t,openSnackBar:n,fileDocument:o,onSuccess:a}){if(void 0===o)return null;const{path:s,id:r}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Abandon File ".concat(s||r)}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.file.abandonFile({fileId:r}).then((()=>{n({messageContent:"File Abandoned"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Abandoned File",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Abandon"})]})]})}));var $N=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsx)($t.a,{name:"state",component:Lt,children:ON.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const QN="FILE_STATE_FORM";var ZN=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const{id:r,state:c}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Change File State"}),Object(le.jsx)(Lo,{children:Object(le.jsx)($N,{form:QN,onSubmit:cP,onSubmitSuccess:()=>{o({messageContent:"File State Updated"}),n&&n(),t()},onSubmitFail:()=>{o({messageContent:"Error Updating File State",messageColor:"secondary"})},onCancel:t,fileId:r,initialValues:{state:c}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(QN),children:"Save"})]})]})}));const ek=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"move",children:"Action"}),Object(le.jsxs)(Zt,{name:"move",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"false",children:"Copy"}),Object(le.jsx)(Xn.a,{value:"true",children:"Move"})]})]}),Object(le.jsx)(Zt,{name:"filename",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalFilename",component:en}),label:"Use Original Filename"}),Object(le.jsx)(Zt,{name:"timeRequirement",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"limitRate",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",component:Ea}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Data",component:Ea})]});var tk=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"targetStorageId",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:ek}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const nk="FILE_MOVE_FORM";var ok=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const{id:r}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Move/Copy File"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(tk,{form:nk,onSubmit:lP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Transfer Job Created"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Creating Transfer Job",messageColor:"secondary"})},onCancel:t,fileId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(nk),children:"Start"})]})]})}));var ak=ue((function({open:e,onClose:t,openSnackBar:n,fileDocument:o,onSuccess:a}){if(void 0===o)return null;const{id:s}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove File ".concat(s," Entity")}),Object(le.jsx)(fe.a,{children:"This does not affect the physical file."}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.file.removeFileEntity({fileId:s}).then((()=>{n({messageContent:"File Entity Removed"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing File Entity",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const sk=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"path",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Zt,{name:"storage",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsx)(Zt,{name:"state",component:Lt,children:ON.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"duplicate",component:en}),label:"Duplicate"})]});var rk=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:sk}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const ck="FILE_PATH_FORM";var ik=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const{id:r}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Set New Path"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(rk,{form:ck,onSubmit:dP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"New Path Saved"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Saving Path",messageColor:"secondary"})},onCancel:t,fileId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(ck),children:"Save"})]})]})}));const lk=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"transferId",component:_t,fullWidth:!0,disabled:!0}),Object(le.jsx)(Zt,{name:"transferPriority",component:_t,type:"number",fullWidth:!0})]});var jk=Object(Tt.a)()((function({error:e,handleSubmit:t,submitting:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"file",component:Pd,loading:n,required:!0,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:lk}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const dk="FILE_OVERWRITE_FORM";var mk=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const r=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),{id:c}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Overwrite File Data"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(jk,{form:dk,onSubmit:mP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"File Uploaded"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Uploading File",messageColor:"secondary"})},onCancel:t,fileId:c,initialValues:{queryParams:{transferId:r}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(dk),children:"Upload"})]})]})}));const hk=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"resourceId",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",component:Ea}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Data",component:Ea})]});var uk=Object(Tt.a)()((function({error:e,handleSubmit:t,fileId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"fileId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:hk}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const bk="FILE_ANALYZE_FORM";var pk=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const{id:r}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Run Shape Deduction Job"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(uk,{form:bk,onSubmit:OP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Starting Shape Deduction Job"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Starting Shape Deduction Job",messageColor:"secondary"})},onCancel:t,fileId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(bk),children:"Start"})]})]})}));const Ok="FILE_ANALYZE_FORM";var xk=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const{id:r}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Run IMP Deduction Job"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(uk,{form:Ok,onSubmit:xP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Starting IMP Deduction Job"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Starting IMP Deduction Job",messageColor:"secondary"})},onCancel:t,fileId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Ok),children:"Start"})]})]})}));const gk=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"algorithm",component:_t,fullWidth:!0})});var fk=Object(Tt.a)()((function({error:e,handleSubmit:t,fileId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"fileId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"hash",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:gk}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const vk="FILE_HASH_FORM";var yk=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:s}){if(void 0===s)return null;const{id:r}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Set File Checksum Hash"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(fk,{form:vk,onSubmit:iP,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Checksum Hash Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Updating Checksum Hash",messageColor:"secondary"})},onCancel:t,fileId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(vk),children:"Update"})]})]})}));const Ck=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"scheme",children:"Scheme"}),Object(le.jsxs)(Zt,{name:"scheme",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"https",children:"HTTPS"}),Object(le.jsx)(Xn.a,{value:"http",children:"HTTP"}),Object(le.jsx)(Xn.a,{value:"s3",children:"S3"})]})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"write",component:en}),label:"Write"}),Object(le.jsx)(Zt,{name:"duration",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"sse-kms",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"kmsKeyId",component:_t,fullWidth:!0})]});var Sk=Object(Tt.a)()((function({error:e,handleSubmit:t,fileId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"fileId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:Ck}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Ik="FILE_URI_FORM";var Rk=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,fileDocument:r}){if(void 0===r)return null;const[c,i]=s.a.useState(),{id:l}=r;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Generate Temporary URI"}),Object(le.jsx)(fe.a,{children:c?Object(le.jsx)(rt,{uriListDocument:c,header:!1,onClick:e=>window.open(e)}):Object(le.jsx)(Sk,{form:Ik,onSubmit:gP,onSubmitSuccess:(e,t,a)=>{const{data:s}=e;s&&i(s),o({messageContent:"URI Generated"}),n&&n(e,t,a)},onSubmitFail:()=>{o({messageContent:"Error Generating URI",messageColor:"secondary"})},onCancel:t,fileId:l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),c?Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>i(void 0),children:"Reset"}):Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(Ik),children:"Generate"})]})]})}));const Dk="FILE_DELETE_DIALOG",Fk="FILE_ABANDON_DIALOG",Tk="FILE_STATE_DIALOG",Ek="FILE_MOVE_DIALOG",Pk="FILE_ENTITY_REMOVE_DIALOG",Nk="FILE_PATH_DIALOG",kk="FILE_OVERWRITE_DIALOG",Mk="FILE_ANALYZE_DIALOG",Ak="FILE_IMP_ANALYZE_DIALOG",Lk="FILE_HASH_DIALOG",Wk="FILE_URI_DIALOG";class _k extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={fileDocument:void 0}}componentDidMount(){this.onRefresh();const{fileId:e}=this.props;document.title="VidiCore Admin | File | ".concat(e)}UNSAFE_componentWillReceiveProps({fileId:e}){const{fileId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | File | ".concat(e))}onRefresh(){const{fileId:e}=this.props;this.onFetch(e)}onFetch(e){const t=[{includeItem:!0}];try{W.file.getFile({fileId:e,matrixParams:t}).then((e=>this.setState({fileDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading File",messageColor:"secondary"})}onSuccess(e){const t=e.data;this.setState({fileDocument:t})}render(){const{fileDocument:e}=this.state,{fileId:t,titleComponent:n,history:o}=this.props;return Object(le.jsxs)(le.Fragment,{children:[n&&Object(le.jsx)(n,{code:e,fileDocument:e,codeModal:"FileDocument",onRefresh:this.onRefresh,deleteModal:Dk,abandonModal:Fk,stateModal:Tk,moveModal:Ek,removeEntityModal:Pk,pathModal:Nk,overwriteModal:kk,analyzeModal:Mk,impAnalyzeModal:Ak,uriModal:Wk,hashModal:Lk}),e&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(HN,{form:"FILE_PARAMS_FORM",onSuccess:this.onSuccess,fileId:t}),Object(le.jsx)(BN,{fileDocument:e}),Object(le.jsx)(Sp,{simpleMetadataDocument:e.metadata,onSuccess:this.onRefresh,entityType:"storage/file",entityId:t}),Object(le.jsx)(YN,{dialogName:Dk,onSuccess:e=>o.push("/job/".concat(e.data.jobId)),fileDocument:e}),Object(le.jsx)(XN,{dialogName:Fk,onSuccess:this.onRefresh,fileDocument:e}),Object(le.jsx)(ZN,{dialogName:Tk,onSuccess:this.onRefresh,fileDocument:e}),Object(le.jsx)(ok,{dialogName:Ek,onSuccess:e=>o.push("/job/".concat(e.data.jobId)),fileDocument:e}),Object(le.jsx)(ik,{dialogName:Nk,onSuccess:e=>o.push("/file/".concat(e.data.id)),fileDocument:e}),Object(le.jsx)(ak,{dialogName:Pk,onSuccess:()=>o.push("/file/"),fileDocument:e}),Object(le.jsx)(mk,{dialogName:kk,onSuccess:this.onRefresh,fileDocument:e}),Object(le.jsx)(pk,{dialogName:Mk,onSuccess:e=>o.push("/job/".concat(e.data.jobId)),fileDocument:e}),Object(le.jsx)(xk,{dialogName:Ak,onSuccess:e=>o.push("/job/".concat(e.data.jobId)),fileDocument:e}),Object(le.jsx)(yk,{dialogName:Lk,onSuccess:this.onRefresh,fileDocument:e}),Object(le.jsx)(Rk,{dialogName:Wk,onSuccess:this.onRefresh,fileDocument:e})]})]})}}var wk=ue(_k);function Vk(e){const{shapeDocument:t}=e;return void 0===t?null:Object(le.jsxs)(ii,{children:[Object(le.jsx)(Nv,{...e}),Object(le.jsx)(Mv,{...e}),Object(le.jsx)(_v,{...e}),Object(le.jsx)(Vv,{...e}),Object(le.jsx)(Lv,{...e}),Object(le.jsx)(Bv,{...e})]})}class Uk extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={shapeListDocument:void 0}}componentDidMount(){this.onRefresh();const{fileId:e}=this.props;document.title="VidiCore Admin | File | ".concat(e)}UNSAFE_componentWillReceiveProps({fileId:e}){const{fileId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | File | ".concat(e))}onRefresh(){const{fileId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.file.listFileShapes({fileId:e}).then((e=>this.setState({shapeListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading File",messageColor:"secondary"})}render(){const{shapeListDocument:e}=this.state,{titleComponent:t,tabComponent:n}=this.props;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:e,codeModal:"ShapeListDocument",onRefresh:this.onRefresh,breadcrumbList:["Shape"]}),n&&Object(le.jsx)(n,{}),e&&e.shape&&e.shape.map((e=>Object(le.jsx)(Vk,{shapeDocument:e})))]})}}const Bk="FILE_OVERVIEW_TAB",qk=[{tab:Bk,listText:"Overview",component:wk,path:"/file/:fileId/",exact:!0},{tab:"FILE_SHAPE_TAB",listText:"Shape",component:ue(Uk),path:"/file/:fileId/shape/"},{tab:"DELETIONLOCK_TAB",listText:"Deletion Locks",component:QI,path:"/file/:fileId/deletion-locks/"}],Gk=e=>Object(le.jsx)(hm.a,{children:qk.map((({path:t,listText:n,exact:o})=>Object(le.jsx)(zm,{secondary:n,to:Object(d.f)(t,e),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},t)))}),Hk=e=>Object(le.jsx)(d.d,{children:qk.map((({path:t,component:n,listText:o,exact:a})=>Object(le.jsx)(d.b,{path:t,exact:a,render:()=>Object(le.jsx)(n,{...e,title:o})},t)))});class zk extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{fileId:e}=this.props;document.title="VidiCore Admin | File | ".concat(e),this.onRefresh()}onRefresh(){const{onRefresh:e}=this.state;e&&e()}setOnRefresh(e){this.setState({onRefresh:e})}render(){const{fileId:e,onChangeTab:t,tabValue:n}=this.props;return Object(le.jsx)(Gm,{mainComponent:Hk,listComponent:Gk,defaultOpen:!0,onChangeTab:t,tabValue:n,titleComponent:t=>Object(le.jsx)(wN,{fileId:e,...t}),fileId:e,entityId:e,entityType:"file",setOnRefresh:this.setOnRefresh})}}var Jk=Object(m.c)(Ao(Bk),u,ue)(zk);function Kk(e){return Object(le.jsx)(Ae,{title:"Storage Rule",helpTo:"/ref/storage/storage-rule.html",...e})}var Yk=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Storage Rule"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:cd,documentName:"storageRuleDocument",onSubmit:Uj,onSubmitSuccess:e=>{n({messageContent:"Storage Rule Created"}),t(),o&&o(e)},onSubmitFail:()=>{n({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})},onCancel:t})})]})}));const Xk="STORAGERULE_DIALOG";class $k extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={storageRulesDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Storage Rule"}onRefresh(){const{openSnackBar:e}=this.props;try{W.storagerule.listStorageRule().then((e=>this.setState({storageRulesDocument:e.data})))}catch(t){e({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}render(){const{storageRulesDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Kk,{onRefresh:this.onRefresh,code:e,codeModal:"StorageRulesDocument",createModal:Xk}),e&&Object(le.jsx)(TI,{onRefresh:this.onRefresh,storageRulesDocument:e}),Object(le.jsx)(Yk,{dialogName:Xk,onSuccess:this.onRefresh})]})}}var Qk=he($k);function Zk(e){return Object(le.jsx)(Ae,{title:"Error Log",helpTo:"/ref/xml-schema.html?#schema-element-ErrorLogListDocument",...e})}function eM({errorLogDocument:e={}}){return Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.timestamp?sn()(e.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),Object(le.jsx)(uo,{children:e.id}),Object(le.jsx)(uo,{children:e.type}),Object(le.jsx)(uo,{children:e.entityType}),Object(le.jsx)(uo,{children:e.entityId}),Object(le.jsx)(uo,{children:e.description})]})}function tM({errorLogListDocument:e={}}){const{errorLog:t=[]}=e;return Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Timestamp"}),Object(le.jsx)(uo,{children:"ID"}),Object(le.jsx)(uo,{children:"Type"}),Object(le.jsx)(uo,{children:"Entity Type"}),Object(le.jsx)(uo,{children:"Entity ID"}),Object(le.jsx)(uo,{children:"Description"})]})}),Object(le.jsx)(ho,{children:t.map((e=>Object(le.jsx)(eM,{errorLogDocument:e},e.id)))})]})}function nM({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(tM,{...e})})})}class oM extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={errorLogListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Error Log",this.onRefresh()}onRefresh(){try{W.errorlog.listErrorLogs().then((e=>this.setState({errorLogListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Error Logs",messageColor:"secondary"})}render(){const{errorLogListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zk,{code:e,codeModal:"ErrorLogListDocument",onRefresh:this.onRefresh}),e&&Object(le.jsx)(nM,{errorLogListDocument:e})]})}}var aM=he(oM);function sM({vxaDocument:e={}}){return Object(le.jsx)(po,{to:"/vxa/".concat(e.uuid,"/"),hover:!0,children:Object(le.jsx)(uo,{children:Object(le.jsx)(un,{to:"/vxa/".concat(e.uuid,"/"),children:e.uuid})})})}function rM({vxaListDocument:e=[]}){const{vxa:t=[]}=e;return Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsx)(po,{children:Object(le.jsx)(uo,{children:"UUID"})})}),Object(le.jsx)(ho,{children:t.map((e=>Object(le.jsx)(sM,{vxaDocument:e},e.uuid)))})]})}function cM({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(rM,{...e})})})}const iM=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uuid",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"vxaname",label:"Name",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"vsip",label:"API IP",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"vsport",label:"API Port",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"ws",label:"Websocket URI",component:_t,fullWidth:!0})]});var lM=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:iM}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function jM(e){const{queryParams:t}=e;return W.vxa.createVxa({queryParams:t}).then((e=>({vxaConfiguration:e.data,queryParams:t}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const dM="EDIT_AGENT_FORM";var mM=Object(m.c)(ue,Mo)((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,submitForm:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Agent"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(lM,{form:dM,onSubmit:jM,onSubmitSuccess:e=>{n({messageContent:"Agent Created"}),t(),o(e)},onSubmitFail:()=>{n({messageContent:"Error Creating Agent",messageColor:"secondary"})}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(dM),children:"Save"})]})]})}));var hM=Object(m.c)(ue,Mo)((function({open:e,onClose:t,vxaConfiguration:n}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Agent Configuration"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Dn,{value:n,variant:"code"})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"})})]})}));function uM(e){return Object(le.jsx)(Ae,{title:"Agent",helpTo:"/ref/vsa.html",...e})}const bM="VXA_CREATE_MODAL",pM="VXA_CONFIG_MODAL";class OM extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={vxaListDocument:void 0,vxaConfiguration:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Agent"}onRefresh(){try{W.vxa.listVxa().then((e=>this.setState({vxaListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Agent List",messageColor:"secondary"})}render(){const{vxaListDocument:e,vxaConfiguration:t}=this.state,{onOpen:n}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(uM,{createModal:bM,onRefresh:this.onRefresh,code:e,codeModal:"VXAListDocument"}),e&&Object(le.jsx)(cM,{vxaListDocument:e,onRefresh:this.onRefresh}),Object(le.jsx)(mM,{dialogName:bM,onSuccess:e=>{this.setState({vxaConfiguration:e.vxaConfiguration}),n({modalName:pM}),this.onRefresh()}}),t&&Object(le.jsx)(hM,{dialogName:pM,vxaConfiguration:t})]})}}var xM=ue(OM);const gM=({vxaDocument:e})=>{if(void 0===e)return null;const{status:t}=e;return"ONLINE"===t?Object(le.jsx)(_.a,{avatar:Object(le.jsx)(Qr,{}),label:"Online"}):Object(le.jsx)(_.a,{avatar:Object(le.jsx)(ec,{}),label:"Offline"})};function fM({vxaUuid:e,...t}){return Object(le.jsx)(Ae,{helpTo:"/ref/vsa.html",title:e,parentTitle:"Agent",parentTo:"/vxa/",iconList:Object(le.jsx)(gM,{vxaDocument:t.code}),...t})}const vM=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"type",value:e.type,hover:!0}),Object(le.jsx)(Dn,{title:"url",value:e.url,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"version",value:e.version,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"reverseAddress",value:e.reverseAddress,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"reverseAddressDetected",value:e.reverseAddressDetected,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"directAccess",value:e.directAccess,hover:!0,hideNoValue:!0,variant:"list"}),Object(le.jsx)(Dn,{title:"state",value:e.state,hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"transcoder",value:e.transcoder,component:vM,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"weight",value:e.weight,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"maxJob",value:e.maxJob,hover:!0,hideNoValue:!0})]}),yM=({value:e={}})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"s3CredentialType",value:e,hover:!0})}),CM=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"vsClusterAddress",value:e.vsClusterAddress,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"uri",value:e.uri,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"status",value:e.status,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"lastSeen",value:e.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0})]}),SM=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0}),Object(le.jsx)(Dn,{title:"id",value:e.id,hover:!0}),Object(le.jsx)(Dn,{title:"path",value:e.path,hover:!0}),Object(le.jsx)(Dn,{title:"isCollectionStorage",value:e.isCollectionStorage,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"createProxiesStorage",value:e.createProxiesStorage,hover:!0,hideNoValue:!0})]}),IM=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"uuid",value:e.uuid,hover:!0}),Object(le.jsx)(Dn,{title:"name",value:e.name,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"uri",value:e.uri,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"lastSeen",value:e.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"user",value:e.user,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"allStorages",value:e.allStorages,variant:"boolean",hideNoValue:!0,hover:!0}),Object(le.jsx)(En,{title:"storage",value:e.storage,component:SM,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"file",value:e.file,hover:!0,variant:"list",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"instance",value:e.instance,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"vxaVersion",value:e.vxaVersion,hover:!0}),Object(le.jsx)(Fn,{component:yM,value:e.s3CredentialType,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"transcoderVersion",value:e.transcoderVersion,hover:!0}),Object(le.jsx)(Dn,{title:"port",value:e.port,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"status",value:e.status,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"mode",value:e.mode,hover:!0,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"publicKey",value:e.publicKey,hover:!0,variant:"code",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"vsClusterAddress",value:e.vsClusterAddress,hover:!0,hideNoValue:!0}),Object(le.jsx)(En,{title:"vsInstance",value:e.vsInstance,component:CM,hideNoValue:!0}),Object(le.jsx)(En,{title:"transcoder",value:e.transcoder,component:vM,hideNoValue:!0})]});function RM({vxaDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{component:IM,value:e})})}function DM({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(RM,{...e})})})}var FM=ue((function({open:e,onClose:t,openSnackBar:n,vxaDocument:o,onSuccess:a}){if(void 0===o)return null;const{uuid:s}=o;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Agent ".concat(s)}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.vxa.removeVxa({vxaUuid:s}).then((()=>{n({messageContent:"Agent Removed"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Agent",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const TM="REMOVE_AGENT_DIALOG";class EM extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={vxaDocument:void 0}}componentDidMount(){this.onRefresh();const{vxaUuid:e}=this.props;document.title="VidiCore Admin | Agent | ".concat(e)}onRefresh(){const{vxaUuid:e}=this.props;try{W.vxa.getVxa({vxaUuid:e}).then((e=>this.setState({vxaDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Agent",messageColor:"secondary"})}render(){const{vxaDocument:e}=this.state,{vxaUuid:t,history:n}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(fM,{onRefresh:this.onRefresh,code:e,codeModal:"VXADocument",removeModal:TM,vxaUuid:t}),e&&Object(le.jsx)(DM,{vxaDocument:e}),Object(le.jsx)(FM,{dialogName:TM,onSuccess:()=>n.push("/vxa/"),vxaDocument:e})]})}}var PM=ue(EM);const NM=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"autoRefresh",component:en}),label:"Auto Refresh"}),Object(le.jsx)(Zt,{name:"frequencyFrom",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"frequencyTo",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"updateMode",component:_t,fullWidth:!0})]});var kM=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"matrixParams",label:"matrixParams",component:NM})]})}));function MM(e){const{queryParams:t,itemListDocument:n}=e;return W.library.createLibrary({itemListDocument:n,queryParams:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function AM(e){const{matrixParams:t=[]}=e;return W.library.listLibrary({matrixParams:Object.entries(t)}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function LM(e,t,n){const{queryParams:o,matrixParams:a=[]}=e,s=n.libraryId||e.libraryId;return W.library.getLibrary({libraryId:s,queryParams:o,matrixParams:Object.entries(a)}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function WM(e,t,n){const{itemListDocument:o}=e,a=n.libraryId||e.libraryId;return W.library.updateLibrary({libraryId:a,itemListDocument:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function _M(e,t,n){const{librarySettingsDocument:o}=e,a=n.libraryId||e.libraryId;return W.library.updateLibrarySettings({libraryId:a,librarySettingsDocument:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function wM(e,t,n){const{metadataDocument:o,queryParams:a}=e,s=n.libraryId||e.libraryId;return W.library.updateLibraryItemMetadata({libraryId:s,metadataDocument:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function VM(e,t,n){const{queryParams:o}=e,a=n.libraryId||e.libraryId;return W.library.removeLibrary({libraryId:a,queryParams:o}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function UM(e,t,n){const{queryParams:o}=e,a=n.libraryId||e.libraryId;return W.library.getLibrary({libraryId:a,queryParams:o,path:"/API/library/".concat(a,"/export"),method:"POST"}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const BM="LIBRARY_LIST_PARAMS_FORM";var qM=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,...r}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Library List Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(kM,{form:BM,onSubmit:AM,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Library List",messageColor:"secondary"}),n&&n(e,t,a)},...r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(BM),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(BM),children:"Update"})]})]})}));const GM=()=>Object(le.jsx)(Zt,{name:"id",label:"Item ID",component:_t,fullWidth:!0}),HM=()=>Object(le.jsx)(Yt,{name:"item",label:"item",component:GM,withHeader:!1,arrayHeader:!0}),zM=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"externalId",component:_t,fullWidth:!0})});var JM=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:zM}),Object(le.jsx)(Xt,{name:"itemListDocument",label:"itemListDocument ",component:HM}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const KM="LIBRARY_CREATE_FORM";var YM=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,onSuccess:o,openSnackBar:a,onFail:s}){return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Library"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(JM,{onSubmit:MM,onSubmitSuccess:(e,t,s)=>{a({messageContent:"Library Created"}),o&&o(e,t,s),n()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Library",messageColor:"secondary"}),s&&s(e,t,n)},form:KM})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(KM),children:"Create"})]})]})}));const XM="LIBRARY_CREATE_DIALOG";class $M extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.state={uriListDocument:void 0,page:0,rowsPerPage:100}}componentDidMount(){document.title="VidiCore Admin | Library",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(BM)}async onChangeRowsPerPage({target:{value:e}}={}){const{changeForm:t}=this.props;t(BM,"matrixParams.first",1),await t(BM,"matrixParams.number",e),this.setState({page:0,rowsPerPage:e}),this.onRefresh()}async onChangePage({page:e}){const{rowsPerPage:t}=this.state,{formValues:n={},changeForm:o}=this.props,{matrixParams:a={}}=n,{number:s=t}=a;o(BM,"matrixParams.first",e*s+1),await o(BM,"matrixParams.number",s),this.setState({page:e,rowsPerPage:s}),this.onRefresh()}render(){const{uriListDocument:e,page:t,rowsPerPage:n}=this.state,{history:o}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Library",helpTo:"/ref/library.html",onRefresh:this.onRefresh,code:e,codeModal:"URIListDocument",createModal:XM}),Object(le.jsx)(qM,{onSuccess:e=>this.setState({uriListDocument:e.data}),initialValues:{matrixParams:{number:100,first:1}}}),e&&Object(le.jsx)(ct,{uriListDocument:e,linkTo:e=>"/library/".concat(e,"/"),page:t,rowsPerPage:n,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage}),Object(le.jsx)(YM,{dialogName:XM,onSuccess:e=>o.push("/library/".concat(e.data.uri[0],"/"))})]})}}var QM=Object(m.c)(Mo,Nh)($M,BM);const ZM=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"username",component:_t,disabled:!0,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"updateMode",children:"Update Mode"}),Object(le.jsxs)(Zt,{name:"updateMode",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"REPLACE",children:"REPLACE"}),Object(le.jsx)(Xn.a,{value:"MERGE",children:"MERGE"}),Object(le.jsx)(Xn.a,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"autoRefresh",component:en}),label:"Auto Refresh"}),Object(le.jsx)(Zt,{name:"updateFrequency",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"lastUpdate",component:_t,disabled:!0,fullWidth:!0}),Object(le.jsx)(Xt,{name:"query",label:"Query",component:Xx})]});var eA=Object(Tt.a)()((function({error:e,handleSubmit:t,libraryId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"libraryId",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"librarySettingsDocument",component:ZM}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const tA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"value",value:e.value,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"No Escape",value:e.noescape,variant:"boolean",hideNoValue:!0})]}),nA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"value",value:e.value,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"minimum",value:e.minimum,variant:"boolean",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"maximum",value:e.maximum,variant:"boolean",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"No Escape",value:e.noescape,variant:"boolean",hideNoValue:!0})]}),oA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{value:e.value[0],title:"start",component:nA}),Object(le.jsx)(Fn,{value:e.value[1],title:"end",component:nA}),Object(le.jsx)(Dn,{title:"Exclusive Minimum",value:e.exclusiveMinimum,variant:"boolean",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Exclusive Maximum",value:e.exclusiveMaximum,variant:"boolean",hideNoValue:!0})]}),aA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Field Name",value:e.name,hideNoValue:!0}),Object(le.jsx)(En,{value:e.value,arrayTitle:"Field Value",component:nA}),Object(le.jsx)(En,{value:e.range,arrayTitle:"Field Range",component:oA}),Object(le.jsx)(Dn,{title:"Field Target",value:e.target,hideNoValue:!0})]}),sA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Group Name",value:e.name,hideNoValue:!0}),Object(le.jsx)(En,{value:e.field,arrayTitle:"Field",component:aA}),Object(le.jsx)(En,{value:e.group,arrayTitle:"Group",component:sA}),Object(le.jsx)(Dn,{title:"reference",value:e.reference,hideNoValue:!0})]}),rA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Operation",value:e.operation,hideNoValue:!0}),Object(le.jsx)(En,{value:e.operator,arrayTitle:"Operator",component:rA}),Object(le.jsx)(En,{value:e.text,arrayTitle:"Text",component:tA}),Object(le.jsx)(En,{value:e.field,arrayTitle:"Field",component:aA}),Object(le.jsx)(En,{value:e.group,arrayTitle:"Group",component:sA}),Object(le.jsx)(ta,{title:"reference",value:e.reference,hideNoValue:!0})]}),cA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Filter Name",value:e.name,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Operation",value:e.operation,hideNoValue:!0}),Object(le.jsx)(En,{value:e.operator,arrayTitle:"Operator",component:rA}),Object(le.jsx)(En,{value:e.field,arrayTitle:"Field",component:aA}),Object(le.jsx)(En,{value:e.group,arrayTitle:"Group",component:sA}),Object(le.jsx)(ta,{title:"reference",value:e.reference,hideNoValue:!0})]}),iA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(En,{value:e.field,arrayTitle:"Field",component:aA}),Object(le.jsx)(En,{value:e.group,arrayTitle:"Group",component:sA}),Object(le.jsx)(Fn,{value:e.operator,component:rA})]}),lA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(iA,{value:e}),Object(le.jsx)(Fn,{value:e.file,component:iA,title:"File"})]}),jA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(iA,{value:e}),Object(le.jsx)(Fn,{value:e.shape,component:lA,title:"Shape"}),Object(le.jsx)(Fn,{value:e.file,component:iA,title:"File"})]}),dA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"start",value:e.start,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"End",value:e.end,hideNoValue:!0})]}),mA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Field Name",value:e.name,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Field Value",value:e.value,hideNoValue:!0}),Object(le.jsx)(Fn,{value:e.range,arrayTitle:"Field Range",component:dA})]}),hA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Field",value:e.field,hideNoValue:!0}),Object(le.jsx)(En,{value:e.range,arrayTitle:"Range",component:dA}),Object(le.jsx)(ta,{title:"exclude",value:e.exclude,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"count",value:e.count,variant:"boolean",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"minCount",value:e.minCount,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"maxResults",value:e.maxResults,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"name",value:e.name,hideNoValue:!0})]}),uA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"field",value:e.field,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"order",value:e.order,hideNoValue:!0})]}),bA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"field",value:e.field,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"matchingOnly",value:e.matchingOnly,variant:"boolean",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"prefix",value:e.prefix,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"suffix",value:e.suffix,hideNoValue:!0})]}),pA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"maximumSuggestions",value:e.maximumSuggestions,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"accuracy",value:e.accuracy,hideNoValue:!0})]}),OA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"text",value:e.text,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"field",value:e.field,hideNoValue:!0}),Object(le.jsx)(Dn,{title:"accuracy",value:e.accuracy,hideNoValue:!0})]}),xA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{value:e.operator,component:rA}),Object(le.jsx)(En,{value:e.text,arrayTitle:"Text",component:tA}),Object(le.jsx)(En,{value:e.field,arrayTitle:"Field",component:aA}),Object(le.jsx)(En,{value:e.group,arrayTitle:"Group",component:sA}),Object(le.jsx)(Dn,{title:"Intervals",value:e.intervals,hideNoValue:!0}),Object(le.jsx)(ta,{title:"reference",value:e.reference,hideNoValue:!0}),Object(le.jsx)(En,{value:e.filter,arrayTitle:"Filter",component:cA,hideNoValue:!0}),Object(le.jsx)(En,{value:e.facetFilter,arrayTitle:"Facet Filter",component:mA,hideNoValue:!0}),Object(le.jsx)(En,{value:e.facet,arrayTitle:"Facet",component:hA,hideNoValue:!0}),Object(le.jsx)(En,{value:e.sort,arrayTitle:"Sort",component:uA,hideNoValue:!0}),Object(le.jsx)(Fn,{value:e.highlight,component:bA,title:"Highlight",hideNoValue:!0}),Object(le.jsx)(Fn,{value:e.suggestion,component:pA,title:"Suggestion",hideNoValue:!0}),Object(le.jsx)(En,{value:e.autocomplete,arrayTitle:"autocomplete",component:OA,hideNoValue:!0}),Object(le.jsx)(Fn,{value:e.item,component:jA,title:"Item",hideNoValue:!0}),Object(le.jsx)(Fn,{value:e.shape,component:lA,title:"Shape",hideNoValue:!0}),Object(le.jsx)(Fn,{value:e.file,component:iA,title:"File",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"Version",value:e.version,hideNoValue:!0})]});const gA=({value:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Library ID",value:e.id,hover:!0}),Object(le.jsx)(Dn,{title:"username",value:e.username,hover:!0}),Object(le.jsx)(Dn,{title:"updateMode",value:e.updateMode,hover:!0}),Object(le.jsx)(Dn,{title:"autoRefresh",value:e.autoRefresh,variant:"boolean",hover:!0}),Object(le.jsx)(Dn,{title:"updateFrequency",value:e.updateFrequency,hover:!0}),Object(le.jsx)(Dn,{title:"lastUpdate",value:e.lastUpdate,hover:!0}),Object(le.jsx)(Fn,{value:e.query,title:"Query",component:xA})]});function fA({librarySettingsDocument:e}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:gA})})}var vA=he((function({librarySettingsDocument:e,openSnackBar:t,onSubmit:n,onSuccess:o,onFail:a,...s}){return Object(le.jsx)(Ft,{title:"Library Settings",formName:"LIBRARY_SETTINGS_FORM",onSubmitSuccess:(e,n,a)=>{t({messageContent:"Library Settings Updated"}),o&&o(e,n,a)},onSubmitFail:(e,n,o)=>{t({messageContent:"Error Updating Library Settings",messageColor:"secondary"}),a&&a(e,n,o)},onSubmit:_M,displayProps:{librarySettingsDocument:e},formComponent:eA,displayComponent:fA,initialValues:{librarySettingsDocument:e},formProps:s})}));function yA({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(vA,{...e})})})}class CA extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={librarySettingsDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({libraryId:e}){const{libraryId:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Library | ".concat(e))}onRefresh(){const{libraryId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.library.getLibrarySettings({libraryId:e}).then((e=>this.setState({librarySettingsDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Library",messageColor:"secondary"})}render(){const{libraryId:e,titleComponent:t,tabComponent:n}=this.props,{librarySettingsDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:o,codeModal:"LibrarySettingsDocument",onRefresh:this.onRefresh}),n&&Object(le.jsx)(n,{}),o&&Object(le.jsx)(yA,{libraryId:e,librarySettingsDocument:o,onSuccess:this.onRefresh})]})}}var SA=he(CA);const IA=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"count",component:en}),label:"Count"})]});var RA=Object(Tt.a)()((function({error:e,handleSubmit:t,libraryId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"libraryId",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:IA}),Object(le.jsx)(Xt,{name:"queryParams",component:fx}),Object(le.jsx)(Xt,{name:"matrixParams",label:"matrixParams",component:vx})]})}));const DA="LIBRARY_CONTENT_PARAMS_FORM";var FA=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,libraryId:r,expanded:c,onChangeExpansion:i,...l}){return Object(le.jsxs)(Uh,{expanded:c,onChange:i,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Library Content Display Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(RA,{form:DA,onSubmit:LM,onSubmitSuccess:(e,n,o)=>{i&&i(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Library Display",messageColor:"secondary"}),n&&n(e,t,a)},libraryId:r,...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(DA),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(DA),children:"Update"})]})]})}));function TA({itemListDocument:e}){if(void 0===e)return null;const{item:t=[]}=e;return t.map((e=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsx)(ZI,{itemId:e.id}),Object(le.jsx)(Hv,{itemDocument:e})]},e.id)))}class EA extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeExpansion=this.onChangeExpansion.bind(this),this.state={itemListDocument:void 0,rowsPerPage:100,expanded:!1}}componentDidMount(){this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(DA)}async onChangeRowsPerPage({target:{value:e}}={}){const{changeForm:t}=this.props;t(DA,"queryParams.first",1),await t(DA,"queryParams.number",e),this.setState({rowsPerPage:e}),this.onRefresh()}async onChangePage({page:e}){const{rowsPerPage:t}=this.state,{formValues:n={},changeForm:o}=this.props,{matrixParams:a={}}=n,{number:s=t}=a;o(DA,"queryParams.first",e*s+1),await o(DA,"queryParams.number",s),this.setState({rowsPerPage:s}),this.onRefresh()}onChangeExpansion(e,t){this.setState({expanded:t})}render(){const{libraryId:e,titleComponent:t,tabComponent:n}=this.props,{itemListDocument:o,expanded:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:o,codeModal:"ItemListDocument",onRefresh:this.onRefresh}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(FA,{libraryId:e,onSuccess:e=>this.setState({itemListDocument:e.data}),expanded:a,onChangeExpansion:this.onChangeExpansion,initialValues:{queryParams:{number:10,first:1}}}),o&&Object(le.jsx)(TA,{itemListDocument:o})]})}}var PA=Object(m.c)(Mo,Nh)(EA,DA);var NA=T((function({libraryId:e,onOpen:t,removeModal:n,updateModal:o,itemMetadataModal:a,exportModal:s,title:r,createModal:c,createTooltip:i="New",...l}){return Object(le.jsx)(Ae,{grandParentTitle:"Library",grandParentTo:"/library/",parentTitle:e,title:r,helpTo:"/ref/library.html",entityId:e,entityType:"library",removeModal:n,exportModal:s,iconList:Object(le.jsx)(le.Fragment,{children:c&&Object(le.jsx)(Q.a,{title:i,children:Object(le.jsx)(w.a,{onClick:()=>t({modalName:c}),children:Object(le.jsx)(q.a,{})})})}),actionComponent:Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:o}),children:Object(le.jsx)(X.a,{children:"Add Item"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:a}),children:Object(le.jsx)(X.a,{children:"Update Item Metadata"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:a}),children:Object(le.jsx)(X.a,{children:"Update Item Metadata"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:s}),children:Object(le.jsx)(X.a,{children:"Export"})}),Object(le.jsx)(Xn.a,{onClick:()=>t({modalName:n}),children:Object(le.jsx)(X.a,{color:"secondary",children:"Delete"})})]}),...l})}));const kA=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"async",component:en}),label:"Async"}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var MA=Object(Tt.a)()((function({error:e,handleSubmit:t,libraryId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"libraryId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:kA}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const AA="LIBRARY_REMOVE_FORM";var LA=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,libraryId:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Delete Library ".concat(r)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(MA,{form:AA,onSubmit:VM,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Library Deleted"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Deleting Library",messageColor:"secondary"}),o&&o(e,t,n)},libraryId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>s(AA),children:"Delete"})]})]})}));var WA=Object(Tt.a)()((function({error:e,handleSubmit:t,libraryId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"libraryId",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"itemListDocument",label:"itemListDocument",component:HM}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const _A="LIBRARY_ITEM_ADD_FORM";var wA=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,onSuccess:o,openSnackBar:a,onFail:s,libraryId:r}){return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Items To Library"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(WA,{onSubmit:WM,onSubmitSuccess:(e,t,s)=>{a({messageContent:"Library Updated"}),o&&o(e,t,s),n()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Updating Library",messageColor:"secondary"}),s&&s(e,t,n)},libraryId:r,form:_A})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(_A),children:"Update"})]})]})}));const VA=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var UA=Object(Tt.a)()((function({error:e,handleSubmit:t,libraryId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"libraryId",component:_t,fullWidth:!0}),Object(le.jsx)(Xt,{name:"metadataDocument",label:"MetadataDocument",component:vg}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:VA})]})}));const BA="LIBRARY_ITEM_METADATA_FORM";var qA=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,onSuccess:o,openSnackBar:a,onFail:s,libraryId:r}){return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Update Item Metadata"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(UA,{onSubmit:wM,onSubmitSuccess:(e,t,s)=>{a({messageContent:"Item Metadata Updated"}),o&&o(e,t,s),n()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Updating Item Metadata",messageColor:"secondary"}),s&&s(e,t,n)},libraryId:r,form:BA,initialValues:{metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(BA),children:"Update"})]})]})}));const GA=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"locationName",label:"Export Location",component:br,loadOptions:pR,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"metadata",component:en}),label:"Metadata Sidecar"}),Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalFilename",component:en}),label:"Use Original Filename"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalComponentFilename",component:en}),label:"Use Original Component Filename"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"start",label:"Start Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",label:"End Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"all",component:en}),label:"Allow Missing"}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"version",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"template",label:"Export Template",component:_t,fullWidth:!0})]});var HA=Object(Tt.a)()((function({error:e,handleSubmit:t,libraryId:n}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"libraryId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:GA}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var zA=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,libraryId:r,form:c="LIBRARY_EXPORT_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Export Library"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(HA,{form:c,onSubmit:UM,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Export Started"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,libraryId:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(c),children:"Start"})]})]})}));const JA="LIBRARY_SETTINGS_TAB",KA="LIBRARY_REMOVE_DIALOG",YA="LIBRARY_UPDATE_DIALOG",XA="LIBRARY_ITEM_METADATA_DIALOG",$A="LIBRARY_ACCESSCONTROL_ADD_DIALOG",QA="LIBRARY_EXPORT_DIALOG",ZA=[{tab:JA,listText:"Settings",component:SA,path:"/library/:libraryId/settings/"},{tab:"LIBRARY_CONTENT_TAB",listText:"Content",component:PA,path:"/library/:libraryId/",exact:!0},{tab:"ACCESS_TAB",listText:"Direct Access",component:pI,path:"/library/:libraryId/direct-access/"},{tab:"ACCESSMERGED_TAB",listText:"Merged Access",component:SI,path:"/library/:libraryId/merged-access/"},{tab:"STORAGERULE_TAB",listText:"Storage Rules",component:kI,path:"/library/:libraryId/storage-rules/"},{tab:"DELETIONLOCK_TAB",listText:"Deletion Locks",component:QI,path:"/library/:libraryId/deletion-locks/"}],eL=e=>Object(le.jsx)(hm.a,{children:ZA.map((({path:t,listText:n,exact:o})=>Object(le.jsx)(zm,{secondary:n,to:Object(d.f)(t,e),exact:o,dense:!0,style:{paddingLeft:8},disableGutters:!0},t)))}),tL=e=>Object(le.jsx)(d.d,{children:ZA.map((({path:t,component:n,listText:o,exact:a})=>Object(le.jsx)(d.b,{path:t,exact:a,render:()=>Object(le.jsx)(n,{...e,title:o})},t)))});class nL extends s.a.PureComponent{componentDidMount(){const{libraryId:e}=this.props;document.title="VidiCore Admin | Library | ".concat(e)}render(){const{onChangeTab:e,tabValue:t,libraryId:n,history:o}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Gm,{mainComponent:tL,listComponent:eL,defaultOpen:!0,onChangeTab:e,tabValue:t,titleComponent:e=>Object(le.jsx)(NA,{libraryId:n,removeModal:KA,updateModal:YA,itemMetadataModal:XA,addAccessControl:$A,exportModal:QA,...e}),libraryId:n,entityId:n,entityType:"library",setOnRefresh:this.setOnRefresh}),Object(le.jsx)(wA,{dialogName:YA,libraryId:n}),Object(le.jsx)(LA,{dialogName:KA,onSuccess:()=>o.push("/library/"),libraryId:n}),Object(le.jsx)(qA,{dialogName:XA,libraryId:n}),Object(le.jsx)(dI,{dialogName:$A,entityType:"library",entityId:n}),Object(le.jsx)(zA,{dialogName:QA,onSuccess:e=>o.push("/job/".concat(e.data.jobId,"/")),libraryId:n})]})}}var oL=Object(m.c)(Ao(JA),u)(nL);function aL({documentMetadata:e}){return Object(le.jsxs)(at,{hover:!0,to:"/document/".concat(e.name,"/"),children:[Object(le.jsx)(Be.a,{children:e.name}),Object(le.jsx)(Be.a,{})]})}function sL({documentListDocument:e={},page:t=0,rowsPerPage:n=10,onChangePage:o,onChangeRowsPerPage:a}){const{document:s=[],hits:r=0}=e,c=[10,100,250];return c.includes(n)||c.push(n),Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"Name"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:s.map((e=>Object(le.jsx)(aL,{documentMetadata:e},e.name)))}),Object(le.jsx)(He.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(ze.a,{count:r,page:t,rowsPerPage:n,colSpan:10,onPageChange:o,onRowsPerPageChange:a,ActionsComponent:tt,rowsPerPageOptions:[100,500,1e3]})})})]})}function rL({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(sL,{...e})})})}const cL=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"revision",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"skipForbidden",component:en}),label:"Skip Forbidden"})]});var iL=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"documentMetadataName",label:"documentName",component:Io,fullWidth:!0}),Object(le.jsx)(Xt,{name:"metadataDocument",label:"metadataDocument",component:vg}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:cL}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function lL(e,t,n){const{metadataDocument:o={},queryParams:a}=e,s=n.documentMetadataName||e.documentMetadataName;return W.documentmetadata.updateDocumentMetadata({documentMetadataName:s,metadataDocument:o,queryParams:a}).then((e=>({documentMetadataName:s,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function jL(e,t,n){const{matrixParams:o}=e,a=n.documentMetadataName||e.documentMetadataName;return W.documentmetadata.getDocumentMetadata({documentMetadataName:a,matrixParams:Object.entries(o)}).then((e=>({documentMetadataName:a,...e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const dL="EDIT_DOCUMENT_FORM";var mL=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Document"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(iL,{form:dL,onSubmit:lL,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Document Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Document",messageColor:"secondary"}),o&&o(e,t,n)}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(dL),children:"Save"})]})]})}));const hL="DOCUMENT_CREATE_DIALOG";class uL extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.onChangeRowsPerPage=this.onChangeRowsPerPage.bind(this),this.onChangePage=this.onChangePage.bind(this),this.state={documentListDocument:void 0,first:1,rowsPerPage:100,page:0}}componentDidMount(){document.title="VidiCore Admin | Document",this.onRefresh()}onRefresh(){const{first:e,rowsPerPage:t}=this.state;this.onFetch(e,t)}onFetch(e,t){const n=[{first:e},{number:t}];try{W.documentmetadata.listDocumentMetadata({matrixParams:n}).then((e=>this.setState({documentListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Document List",messageColor:"secondary"})}onChangeRowsPerPage({target:{value:e}}={}){this.setState({first:1,rowsPerPage:e}),this.onFetch(1,e)}onChangePage({page:e}){const{rowsPerPage:t}=this.state,n=e*t+1;this.setState({page:e,first:n}),this.onFetch(n,t)}render(){const{page:e,rowsPerPage:t,documentListDocument:n}=this.state,{history:o}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Document",code:n,codeModal:"DocumentListDocument",onRefresh:this.onRefresh,createModal:hL}),Object(le.jsx)(rL,{documentListDocument:n,page:e,rowsPerPage:t,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangePage:this.onChangePage}),Object(le.jsx)(mL,{dialogName:hL,onSuccess:e=>o.push("/document/".concat(e.documentMetadataName))})]})}}var bL=he(uL);var pL=he((function({metadataDocument:e,documentMetadataName:t,openSnackBar:n,onSuccess:o,onFail:a}){return Object(le.jsx)(Ft,{formName:"EDIT_DOCUMENTMETADATA_FORM",onSubmitSuccess:(e,t,a)=>{n({messageContent:"Document Updated"}),o&&o(e,t,a)},onSubmitFail:(e,t,o)=>{n({messageContent:"Error Updating Document",messageColor:"secondary"}),a&&a(e,t,o)},onSubmit:lL,displayProps:{metadataDocument:e},initialValues:{metadataDocument:e,documentMetadataName:t},formComponent:iL,displayComponent:Rg})}));function OL({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(pL,{...e})})})}var xL=ue((function({open:e,onClose:t,openSnackBar:n,documentMetadataName:o,onSuccess:a,onFail:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Document ".concat(o)}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.documentmetadata.removeDocumentMetadata({documentMetadataName:o}).then((()=>{n({messageContent:"Document Removed"}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Document",messageColor:"secondary"}),s&&s()}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const gL=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"interval",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"field",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"group",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"language",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"samplerate",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"include",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"conflict",component:en}),label:"Conflict"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"defaultValue",component:en}),label:"Default Value"})]});var fL=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"matrixParams",component:gL})]})}));const vL="DISPLAY_DOCUMENT_FORM";var yL=Object(m.c)(he,Mo)((function({onSuccess:e,onFail:t,openSnackBar:n,submitForm:o,resetForm:a,documentMetadataName:s}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:"Display Options"}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(fL,{form:vL,onSubmit:jL,onSubmitSuccess:(t,o,a)=>{n({messageContent:"Display Updated"}),e&&e(t,o,a)},onSubmitFail:(e,o,a)=>{n({messageContent:"Error Updating Display",messageColor:"secondary"}),t&&t(e,o,a)},documentMetadataName:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(vL),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>o(vL),children:"Update"})]})]})}));const CL="DOCUMENT_REMOVE_DIALOG";class SL extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataDocument:void 0}}componentDidMount(){const{documentMetadataName:e}=this.props;document.title="VidiCore Admin | Document | ".concat(e),this.onRefresh()}onRefresh(){const{documentMetadataName:e}=this.props;try{W.documentmetadata.getDocumentMetadata({documentMetadataName:e}).then((e=>this.setState({metadataDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Document",messageColor:"secondary"})}render(){const{documentMetadataName:e,history:t}=this.props,{metadataDocument:n}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{parentTitle:"Document",parentTo:"/document/",title:e,code:n,codeModal:"MetadataDocument",onRefresh:this.onRefresh,removeModal:CL}),Object(le.jsx)(yL,{documentMetadataName:e,onSuccess:e=>this.setState({metadataDocument:e.data})}),e&&Object(le.jsx)(OL,{metadataDocument:n,documentMetadataName:e,onSuccess:this.onRefresh}),Object(le.jsx)(xL,{documentMetadataName:e,onSuccess:()=>t.push("/document/"),dialogName:CL})]})}}var IL=he(SL);var RL=Object(Tt.a)()((function({handleSubmit:e}){return Object(le.jsxs)("form",{onSubmit:e,children:[Object(le.jsx)($t.a,{name:"queryParams.destinationItem",label:"Destination Item ID",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"queryParams.priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(le.jsx)($t.a,{name:"queryParams.tag",label:"Shape Tag",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"queryParams.conformMetadata",component:en}),label:"Conform Metadata"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"queryParams.createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"queryParams.createPosters",component:en}),label:"Create Posters"}),Object(le.jsx)($t.a,{name:"queryParams.thumbnailService",label:"Thumbnail Storage ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"queryParams.original",label:"Reset Original Tag",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"queryParams.resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"queryParams.sourceTag",label:"Source Tags",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"queryParams.notification",label:"Notification ID",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"queryParams.notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsx)(Vt.a,{name:"queryParams.jobmetadata",label:"Job Metadata",component:Oi,buttonLabel:"Add Job Metadata"}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function DL({label:e}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"numerator",component:_t,label:e?"".concat(e," Numerator"):"Numerator",type:"number"}),Object(le.jsx)($t.a,{name:"denominator",component:_t,label:e?"".concat(e," Denominator"):"Denominator",type:"number"})]})}function FL({label:e}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"samples",component:_t,label:e?"".concat(e," Sample"):"Sample",type:"number"}),Object(le.jsx)(wt.a,{name:"timeBase",component:DL,label:e})]})}function TL({fields:e,maxFields:t=1/0,minFields:n=0,label:o}){return Object(le.jsxs)(le.Fragment,{children:[e.map(((t,a)=>Object(le.jsx)(we,{children:Object(le.jsxs)(Le.a,{children:[Object(le.jsxs)($.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(le.jsx)($.a,{item:!0,sm:2,children:o&&Object(le.jsxs)(Yn.a,{shrink:!0,children:[o," ",a+1]})}),Object(le.jsx)($.a,{item:!0,sm:2,children:n<e.length&&Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>e.remove(a),children:"Remove Segment"})})]}),Object(le.jsx)($.a,{container:!0,direction:"row",alignItems:"flex-end",spacing:16,children:Object(le.jsxs)($.a,{item:!0,sm:8,children:[Object(le.jsx)($t.a,{name:"".concat(t,".source.id"),component:_t,label:"Source ID",fullWidth:!0}),Object(le.jsx)($.a,{container:!0,direction:"row",justifyContent:"space-between",children:Object(le.jsx)(wt.a,{name:"".concat(t,".source.interval.start"),component:FL,label:"Start"})}),Object(le.jsx)($.a,{container:!0,direction:"row",justifyContent:"space-between",children:Object(le.jsx)(wt.a,{name:"".concat(t,".source.interval.end"),component:FL,label:"End"})})]})},t)]})},t))),t>e.length&&Object(le.jsx)($.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:Object(le.jsx)(zt,{onClick:()=>e.push({}),color:"primary",children:"Add Segment"})})]})}var EL=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Vt.a,{name:"conformRequestDocument.conform.timeline.segment",component:TL,label:"Segment"}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var PL=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"conformRequestDocument.metadata",component:vg}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function NL(e){const{conformRequestDocument:t,queryParams:n}=e;return W.conform.createConform({conformRequestDocument:t,queryParams:n}).then((e=>e.json())).then((e=>({jobDocument:e}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function kL(e,t){const{openSnackBar:n}=o;t(n({messageContent:"Error Creating Conform Job",messageColor:"secondary"}))}const ML="EDIT_CONFORM_FORM";const AL={submitForm:Ct.f};var LL=Object(i.b)((e=>({submitting:Object(Eh.a)(ML)(e)})),AL)((function({submitForm:e,history:t}){const n=(e,n,a)=>{!function(e,t){const{jobDocument:n}=e,{jobId:a}=n,{openSnackBar:s}=o;t(s({messageContent:"Job ".concat(a," Created")}))}(e,n);const{jobDocument:s}=e,{jobId:r}=s;t&&t.push("/job/".concat(r))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($.a,{container:!0,justifyContent:"space-between",children:[Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Timeline"}),Object(le.jsx)(Oe.a,{color:"primary",onClick:()=>e(ML),children:"Start Conform"})]}),Object(le.jsx)(EL,{form:ML,onSubmit:NL,onSubmitSuccess:n,onSubmitFail:kL}),Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Settings"}),Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(RL,{form:ML,onSubmit:NL,onSubmitSuccess:n,onSubmitFail:kL,initialValues:{queryParams:{tag:["original"]}}})})}),Object(le.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Metadata"}),Object(le.jsx)(PL,{form:ML,onSubmit:NL,onSubmitSuccess:n,onSubmitFail:kL})]})}));const WL="CONFORM_CODE_MODAL";class _L extends s.a.PureComponent{render(){const{modalName:e,closeModal:t,openModal:n,conformRequestDocument:o={},history:a}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{openCode:()=>n({modalName:WL}),title:"Conform"}),Object(le.jsx)(LL,{history:a}),Object(le.jsx)(Me,{isOpen:e===WL,toggleDialogue:t,code:o,title:"ConformRequestDocument"})]})}}const wL={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var VL=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t,conformRequestDocument:Object(Pc.a)(ML)(e)}}),wL)(_L);const UL=({value:e={}})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Source ID",value:e.id,variant:e.type}),Object(le.jsx)(Dn,{title:"Source Type",value:e.type}),Object(le.jsx)(Dn,{title:"Source Location",value:e.loc})]});const BL=jg((function({metadataEntryDocument:e}){if(void 0===e)return null;const{group:t,field:n,value:o,source:a}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fn,{value:t,component:Sg,title:"group",hideNoValue:!0}),Object(le.jsx)(Fn,{value:n,component:Cg,title:"field",hideNoValue:!0}),Object(le.jsx)(Dn,{title:"value",value:o,hideNoValue:!0}),Object(le.jsx)(Fn,{value:a,component:UL,title:"source",hideNoValue:!0})]})}));class qL extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={metadataEntryDocument:void 0}}componentDidMount(){const{metadataUuid:e}=this.props;document.title="VidiCore Admin | Metadata | ".concat(e),this.onRefresh()}UNSAFE_componentWillReceiveProps({metadataUuid:e}){const{metadataUuid:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | Metadata | ".concat(e))}onRefresh(){const{metadataUuid:e}=this.props;this.onFetch(e)}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Metadata",messageColor:"secondary"})}onFetch(e){try{W.metadata.getMetadata({metadataUuid:e}).then((e=>this.setState({metadataEntryDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}render(){const{metadataUuid:e}=this.props,{metadataEntryDocument:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{code:t,codeModal:"MetadataDocument",title:e,parentTitle:"Metadata",parentTo:"/search/field-group/",onRefresh:this.onRefresh}),Object(le.jsx)(BL,{metadataEntryDocument:t})]})}}var GL=he(qL);var HL=Object(Tt.a)()((function({handleSubmit:e}){return Object(le.jsxs)("form",{onSubmit:e,children:[Object(le.jsx)($.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)($t.a,{name:"projectionId",label:"Projection Name",component:_t,fullWidth:!0,required:!0})})}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var zL=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"projectionDocument",component:Eo,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0}}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function JL(e,t,n){const{projectionId:o}=n,{projectionDocument:a}=e;return W.projection.updateProjectionOutgoing({projectionId:o,projectionDocument:a}).then((()=>({projectionDocument:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function KL(e,t,n){const{projectionId:o}=n,{projectionDocument:a}=e;return W.projection.updateProjectionIncoming({projectionId:o,projectionDocument:a}).then((()=>({projectionDocument:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function YL(e){const{projectionDocument:t,projectionId:n}=e;return W.projection.updateProjectionOutgoing({projectionId:n,projectionDocument:t}).then((()=>({projectionId:n,projectionDocument:t}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function XL(e){const{projectionDocument:t,projectionId:n}=e;return W.projection.updateProjectionIncoming({projectionId:n,projectionDocument:t}).then((()=>({projectionDocument:t,projectionId:n}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const $L="EDIT_PROJECTION_OUTGOING_FORM";var QL=Object(m.c)(ue,Mo)((function({submitForm:e,openSnackBar:t,onClose:n,onSuccess:o,open:a}){const s=(e,a,s)=>{t({messageContent:"Projection Created"}),n(),o&&o(e,a,s)},r=()=>{t({messageContent:"Error Creating Projection",messageColor:"secondary"})};return Object(le.jsxs)(xe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Outgoing Projection"}),Object(le.jsxs)(fe.a,{children:[Object(le.jsx)(HL,{form:$L,onSubmit:YL,onSubmitSuccess:s,onSubmitFail:r}),Object(le.jsx)(zL,{form:$L,onSubmit:YL,onSubmitSuccess:s,onSubmitFail:r})]}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e($L),children:"Save"})]})]})}));const ZL="EDIT_PROJECTION_INCOMING_FORM";var eW=Object(m.c)(ue,Mo)((function({submitForm:e,openSnackBar:t,onClose:n,onSuccess:o,open:a}){const s=(e,a,s)=>{t({messageContent:"Projection Created"}),n(),o&&o(e,a,s)},r=()=>{t({messageContent:"Error Creating Projection",messageColor:"secondary"})};return Object(le.jsxs)(xe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Incoming Projection"}),Object(le.jsxs)(fe.a,{children:[Object(le.jsx)(HL,{form:ZL,onSubmit:XL,onSubmitSuccess:s,onSubmitFail:r}),Object(le.jsx)(zL,{form:ZL,onSubmit:XL,onSubmitSuccess:s,onSubmitFail:r})]}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(ZL),children:"Save"})]})]})}));var tW=T((function({incomingDialog:e,outgoingDialog:t,onOpen:n,...o}){return Object(le.jsx)(Ae,{...o,actionComponent:Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:()=>n({modalName:e}),children:Object(le.jsx)(X.a,{children:"Create Incoming Projection"})}),Object(le.jsx)(Xn.a,{onClick:()=>n({modalName:t}),children:Object(le.jsx)(X.a,{children:"Create Outgoing Projection"})})]})})}));const nW="PROJECTION_OUTGOING_CREATE_MODAL",oW="PROJECTION_INCOMING_CREATE_MODAL";class aW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Projection",this.onRefresh()}onRefresh(){try{W.projection.listProjection().then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Projections",messageColor:"secondary"})}render(){const{uriListDocument:e}=this.state,{history:t}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(tW,{title:"Projection",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,code:e,codeModal:"URIListDocument",createModal:oW,incomingDialog:oW,outgoingDialog:nW}),Object(le.jsx)(ct,{uriListDocument:e,linkTo:e=>"/projection/".concat(e,"/"),titleCase:!0}),Object(le.jsx)(eW,{onSuccess:e=>t.push("/projection/".concat(e.projectionId)),dialogName:oW}),Object(le.jsx)(QL,{onSuccess:e=>t.push("/projection/".concat(e.projectionId)),dialogName:nW})]})}}var sW=he(aW);const rW="EDIT_PROJECTION_INCOMING_FORM",cW="EDIT_PROJECTION_OUTGOING_FORM";var iW=Object(m.c)(he,Mo)((function({submitForm:e,onSuccess:t,openSnackBar:n,projectionId:o,incomingProjectionDocument:a,outgoingProjectionDocument:s}){const r=(e,o,a)=>{n({messageContent:"Projection Updated"}),t&&t(e,o,a)},c=()=>{n({messageContent:"Error Updating Projection",messageColor:"secondary"})};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Incoming"}),disableTypography:!0,action:Object(le.jsx)(Oe.a,{color:"primary",size:"small",variant:"contained",onClick:()=>e(rW),children:"Save Incoming"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(zL,{form:rW,onSubmit:KL,onSubmitSuccess:r,onSubmitFail:c,initialValues:{projectionDocument:a},projectionId:o,enableReinitialize:!0})})]}),Object(le.jsxs)(we,{children:[Object(le.jsx)(We.a,{title:Object(le.jsx)(X.a,{variant:"subtitle1",children:"Outgoing"}),disableTypography:!0,action:Object(le.jsx)(Oe.a,{color:"primary",size:"small",variant:"contained",onClick:()=>e(cW),children:"Save Outgoing"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(zL,{form:cW,onSubmit:JL,onSubmitSuccess:r,onSubmitFail:c,initialValues:{projectionDocument:s},projectionId:o,enableReinitialize:!0})})]})]})}));var lW=ue((function({open:e,onClose:t,openSnackBar:n,projectionId:o,onSuccess:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Projection "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.projection.removeProjection({projectionId:o}).then((()=>{const e="Projection ".concat(o," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Projection",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const jW="PROJECTION_REMOVE_MODAL";class dW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={incomingProjectionDocument:"",outgoingProjectionDocument:"",isRefreshing:!0}}componentDidMount(){const{projectionId:e}=this.props;document.title="VidiCore Admin | Projection | ".concat(e),this.onRefresh()}onFetch(){const{projectionId:e}=this.props;try{Promise.all([W.projection.getProjectionIncoming({projectionId:e}).then((e=>Ee(e.text()))),W.projection.getProjectionOutgoing({projectionId:e}).then((e=>Ee(e.text())))]).then((([e,t])=>{this.setState({incomingProjectionDocument:e,outgoingProjectionDocument:t,isRefreshing:!1})})).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefresh(){this.setState({isRefreshing:!0},this.onFetch())}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Projection",messageColor:"secondary"})}render(){const{projectionId:e,history:t}=this.props,{incomingProjectionDocument:n,outgoingProjectionDocument:o,isRefreshing:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:e,parentTitle:"Projection",parentTo:"/projection/",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,removeModal:jW}),!a&&Object(le.jsx)(iW,{projectionId:e,onRefresh:this.onRefresh,incomingProjectionDocument:n,outgoingProjectionDocument:o}),Object(le.jsx)(lW,{dialogName:jW,projectionId:e,onSuccess:()=>t.push("/projection/")})]})}}var mW=he(dW);function hW(e){return Object(le.jsx)(Ae,{grandParentTitle:"Metadata Field",grandParentTo:"/metadata-field/",parentTitle:e.fieldName,helpTo:"/ref/metadata/field.html",entityId:e.fieldName,entityType:"metadata-field",...e})}var uW=ue((function({metadataFieldDocument:e,fieldName:t,openSnackBar:n,onRefresh:o}){const a={fieldName:t},s={value:e},r={metadataFieldDocument:e};return Object(le.jsx)(Ft,{formComponent:iT,displayComponent:$T,formName:"EDIT_METADATAFIELD_FORM",onSubmitSuccess:()=>{n({messageContent:"Metadata Field Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Metadata Field",messageColor:"secondary"})},onSubmit:lT,formProps:a,displayProps:s,initialValues:r})}));function bW(e){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(we,{children:Object(le.jsx)(uW,{...e})})})}class pW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={simpleMetadataDocument:void 0,metadataFieldDocument:void 0}}componentDidMount(){const{fieldName:e}=this.props;document.title="VidiCore Admin | Metadata Field | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,fieldName:t}=this.props;try{W.metadatafield.getMetadataField({fieldName:t,queryParams:{includeValues:!0}}).then((e=>this.setState({metadataFieldDocument:e.data}))),W.metadatafield.getSimpleMetadata({fieldName:t}).then((e=>this.setState({simpleMetadataDocument:e.data})))}catch(n){e({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:e,titleComponent:t,tabComponent:n}=this.props,{simpleMetadataDocument:o={},metadataFieldDocument:a}=this.state,{field:s=[]}=o;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:a,codeModal:"MetadataFieldDocument",onRefresh:this.onRefresh}),n&&Object(le.jsx)(n,{}),a&&Object(le.jsx)(bW,{metadataFieldDocument:a,onRefresh:this.onRefresh}),s&&Object(le.jsx)(Sp,{simpleMetadataList:s,onSuccess:this.onRefresh,entityType:"metadata-field",entityId:e})]})}}var OW=he(pW);var xW=xo((function({constraintValueListDocument:e={}}){const{value:t=[]}=e;return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Value"}),Object(le.jsx)(uo,{children:"ID"})]})}),Object(le.jsx)(ho,{children:t.map((e=>Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.value}),Object(le.jsx)(uo,{children:e.id})]},e.value)))})]})})}));function gW(e){return Object(le.jsx)(we,{children:Object(le.jsx)(xW,{...e})})}const fW=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"field",label:"Metadata Field",component:br,loadOptions:gx,cacheOptions:!0,isClearable:!0,fullWidth:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"value",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"id",component:_t,fullWidth:!0})]}),vW=()=>Object(le.jsx)(Yt,{name:"constraint",component:fW,fullWidth:!0});var yW=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,style:{width:"100%"},children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldValueConstraintListDocument",component:vW})]})}));const CW="METADATAFIELDALLOWEDVALUES_PARAMS_FORM";var SW=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,fieldName:r,...c}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Constraint Values"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(yW,{form:CW,onSubmit:jT,onSubmitSuccess:(e,n,a)=>{o({messageContent:"Allowed Values Updated"}),t&&t(e,n,a)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Allowed Values",messageColor:"secondary"}),n&&n(e,t,a)},fieldName:r,...c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(CW),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(CW),children:"Update"})]})]})}));class IW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={constraintValueListDocument:void 0}}componentDidMount(){const{fieldName:e}=this.props;document.title="VidiCore Admin | Metadata Field | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,fieldName:t}=this.props;try{W.metadatafield.getMetadataFieldAllowedValues({fieldName:t}).then((e=>this.setState({constraintValueListDocument:e.data})))}catch(n){e({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}render(){const{fieldName:e,titleComponent:t,tabComponent:n}=this.props,{constraintValueListDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[t&&Object(le.jsx)(t,{code:o,codeModal:"ConstraintValueListDocument",onRefresh:this.onRefresh}),n&&Object(le.jsx)(n,{}),Object(le.jsx)(SW,{fieldName:e,onSuccess:e=>this.setState({constraintValueListDocument:e.constraintValueListDocument})}),o&&Object(le.jsx)(gW,{constraintValueListDocument:o,onRefresh:this.onRefresh})]})}}const RW="METADATAFIELD_OVERVIEW_TAB",DW=[{tab:RW,listText:"Overview",component:OW},{tab:"METADATAFIELD_ALLOWEDVALUES_TAB",listText:"Allowed Values",component:he(IW)}],FW=({onChangeTab:e,tabValue:t})=>Object(le.jsx)(hm.a,{children:DW.map((({tab:n,listText:o})=>Object(le.jsx)(sN,{listText:o,listItemProps:{onClick:()=>e(null,n),selected:t===n||void 0}},o)))}),TW="METADATAFIELD_REMOVE_MODAL";class EW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{fieldName:e}=this.props;document.title="VidiCore Admin | Metadata Field | ".concat(e),this.onRefresh()}onRefresh(){const{onRefresh:e}=this.state;e&&e()}setOnRefresh(e){this.setState({onRefresh:e})}render(){const{fieldName:e,onChangeTab:t,tabValue:n}=this.props,o=DW.find((e=>e.tab===n))||DW[0],{listText:a,component:s}=o;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Gm,{onChangeTab:t,tabValue:n,fieldName:e,mainComponent:s,listComponent:FW,defaultOpen:!0,titleComponent:t=>Object(le.jsx)(hW,{removeModal:TW,fieldName:e,title:a,...t}),setOnRefresh:this.setOnRefresh}),Object(le.jsx)(YF,{dialogName:TW,fieldName:e})]})}}var PW=Object(m.c)(Ao(RW),he)(EW);const NW="NOTIFICATION_CREATE_DIALOG";class kW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){const{entityType:e}=this.props;document.title="VidiCore Admin | ".concat(jn(e)," Notification"),this.onRefresh()}UNSAFE_componentWillReceiveProps({entityType:e}){const{entityType:t}=this.props;t!==e&&(document.title="VidiCore Admin | ".concat(jn(e)," Notification"),this.onFetch(e))}onRefresh(){const{entityType:e}=this.props;this.onFetch(e)}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(e){try{W.notification.listNotification({entityType:e}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}render(){const{entityType:e,history:t}=this.props,{uriListDocument:n}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:jn(e),parentTitle:"Notification",parentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument",createModal:NW,entityType:e}),Object(le.jsx)(PC,{uriListDocument:n,entityType:e}),Object(le.jsx)(AS,{dialogName:NW,entityType:e,onSuccess:n=>{const{data:o}=n,{uri:a}=o,s=a[0];t.push("/notification/".concat(e,"/").concat(s))}})]})}}var MW=ue(kW);const AW="NOTIFICATION_REMOVE_DIALOG";class LW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){const{entityType:e,notificationId:t}=this.props;document.title="VidiCore Admin | Notification ".concat(jn(e)," | ").concat(t),this.onRefresh()}onRefresh(){const{entityType:e,notificationId:t}=this.props;try{W.notification.getNotification({notificationId:t,entityType:e}).then((e=>this.setState({notificationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{notificationId:e,entityType:t,history:n}=this.props,{notificationDocument:o,isEditing:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:e,parentTitle:jn(t),parentTo:"/notification/".concat(t,"/"),grandParentTitle:"Notification",grandParentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:o,codeModal:"NotificationDocument",entityId:"notification/".concat(e),entityType:t,removeModal:AW}),Object(le.jsx)(VS,{notificationDocument:o,entityType:t,notificationId:e,isEditing:a,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),Object(le.jsx)(US,{dialogName:AW,onSuccess:()=>n.push("/notification/".concat(t,"/")),entityType:t,notificationId:e})]})}}var WW=he(LW);const _W="NOTIFICATIONPLACEHOLDER_EDIT_FORM";var wW=Object(m.c)(ue,Mo,Nh)((function({notificationId:e,notificationDocument:t,submitForm:n,onRefresh:o,isEditing:a,toggleEdit:s,valueSelector:r,openSnackBar:c}){if(void 0===t)return null;const{action:i}=t,l=Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:a,onChange:s});return Object(le.jsx)(ii,{children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(We.a,{title:"Action",action:l}),a?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(XC,{notificationId:e,form:_W,onSubmit:PS,onSubmitSuccess:()=>{c({messageContent:"Notification Updated"}),o&&o(),s&&s()},onSubmitFail:()=>{c({messageContent:"Error Updating Notification",messageColor:"secondary"})},initialValues:{notificationDocument:t},valueSelector:r})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{size:"small",color:"primary",variant:"contained",onClick:()=>n(_W),children:"Save"})})]}):Object(le.jsx)(Le.a,{children:Object(le.jsx)(UC,{notificationId:e,action:i})})]})})}),_W);const VW="NOTIFICATION_REMOVE_DIALOG";class UW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.toggleEdit=this.toggleEdit.bind(this),this.state={notificationDocument:void 0,isEditing:!1}}componentDidMount(){const{notificationId:e}=this.props;document.title="VidiCore Admin | Notification | ".concat(e),this.onRefresh()}onRefresh(){const{notificationId:e}=this.props;try{W.notification.getNotification({notificationId:e,entityType:"placeholder",path:"/API/notification/".concat(e,"/")}).then((e=>this.setState({notificationDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(t){this.onRefreshError(t)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Notification",messageColor:"secondary"})}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{notificationId:e,history:t}=this.props,{notificationDocument:n,isEditing:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:e,parentTitle:"Notification",parentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:n,codeModal:"NotificationDocument",entityId:e,entityType:"notification",removeModal:VW}),Object(le.jsx)(wW,{notificationDocument:n,notificationId:e,isEditing:o,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),Object(le.jsx)(US,{dialogName:VW,onSuccess:()=>t.push("/notification/"),notificationId:e})]})}}var BW=he(UW);const qW="NOTIFICATION_CREATE_DIALOG";class GW extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onFetch=this.onFetch.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Notifications",this.onRefresh()}onRefresh(){const{entityType:e}=this.props;this.onFetch(e)}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Notifications",messageColor:"secondary"})}onFetch(){try{W.notification.listNotification({entityType:"placeholder",path:"/API/notification/"}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(e){this.onRefreshError(e)}}render(){const{history:e}=this.props,{uriListDocument:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Notification",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:t,codeModal:"URIListDocument",createModal:qW}),Object(le.jsxs)(ii,{children:[Object(le.jsx)(ct,{uriListDocument:{uri:L},linkTo:e=>"/notification/".concat(e,"/"),header:!1,titleCase:!0}),Object(le.jsx)(PC,{uriListDocument:t})]}),Object(le.jsx)(AS,{dialogName:qW,onSuccess:t=>{const{data:n}=t,{uri:o}=n,a=o[0];e.push("/notification/".concat(a))}})]})}}var HW=ue(GW);function zW({openCode:e,openCreate:t,onRefresh:n}){return Object(le.jsx)(Ae,{title:"Import Settings",onRefresh:n,openCode:e,openAction:t})}function JW({uriListDocument:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(rt,{uriListDocument:e,linkTo:e=>"/import/settings/".concat(e,"/")})})})}const KW=({fields:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Yn.a,{children:"Access Control"}),e.map(((t,n)=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,style:{marginTop:"10px"},children:[Object(le.jsxs)($.a,{item:!0,sm:8,children:[Object(le.jsxs)($t.a,{name:"".concat(t),component:eI,label:"Entity",fullWidth:!0,choices:{user:Object(le.jsx)(xh,{name:"".concat(t,".user"),label:"User",isClearable:!0,fullWidth:!0}),group:Object(le.jsx)(Lb,{name:"".concat(t,".group"),label:"Group",isClearable:!0,fullWidth:!0})},children:[Object(le.jsx)(Xn.a,{value:"user",children:"User"}),Object(le.jsx)(Xn.a,{value:"group",children:"Group"})]}),Object(le.jsx)($t.a,{name:"".concat(t,".priority"),component:_t,label:"Priority",fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"".concat(t,".permission"),children:"Permission"}),Object(le.jsxs)($t.a,{name:"".concat(t,".permission"),component:Lt,children:[Object(le.jsx)(Xn.a,{value:"READ",children:"Read"}),Object(le.jsx)(Xn.a,{value:"WRITE",children:"Write"}),Object(le.jsx)(Xn.a,{value:"ALL",children:"All"}),Object(le.jsx)(Xn.a,{value:"OWNER",children:"Owner"}),Object(le.jsx)(Xn.a,{value:"NONE",children:"None"})]})]}),Object(le.jsx)(xh,{name:"".concat(t,".grantor"),label:"Grantor",isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"".concat(t,".recursive"),component:en}),label:"Recursive"}),Object(le.jsxs)($t.a,{name:"".concat(t,".operation"),component:eI,label:"Operation",fullWidth:!0,choices:{metadata:Object(le.jsx)(wt.a,{name:"".concat(t,".operation.metadata"),component:tI}),shape:Object(le.jsx)(wt.a,{name:"".concat(t,".operation.shape"),component:nI}),uri:Object(le.jsx)(wt.a,{name:"".concat(t,".operation.uri"),component:oI})},children:[Object(le.jsx)(Xn.a,{value:"metadata",children:"Metadata"}),Object(le.jsx)(Xn.a,{value:"shape",children:"Shape"}),Object(le.jsx)(Xn.a,{value:"uri",children:"URI"})]})]}),Object(le.jsx)($.a,{item:!0,sm:"auto",children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]}),Object(le.jsx)(It.a,{})]},t))),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",children:"Add Access"})})]}),YW=()=>Object(le.jsx)(Vt.a,{name:"access",component:KW});var XW=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"importSettingsDocument",component:YW}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function $W(e,t,n){const{settingsId:o}=n,{importSettingsDocument:a}=e;return W.importsettings.updateImportSettings({settingsId:o,importSettingsDocument:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function QW(e){const{importSettingsDocument:t}=e;return W.importsettings.createImportSettings({importSettingsDocument:t}).then((e=>({importSettingsDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const ZW="EDIT_IMPORTSETTINGS_FORM";const e_={submitForm:Ct.f,openSnackBar:o.openSnackBar};var t_=Object(i.b)(null,e_)((function({submitForm:e,closeModal:t,isOpen:n,history:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Import Settings"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(XW,{form:ZW,onSubmit:QW,onSubmitSuccess:e=>{const{importSettingsDocument:n}=e,{id:s}=n,r="Import Settings ".concat(s," Created");a({messageContent:r}),o.push("/import/settings/".concat(s)),t()},onSubmitFail:()=>{a({messageContent:"Error Updating Import Settings",messageColor:"secondary"})}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(ZW),children:"Save"})]})]})}));const n_="IMPORTSETTINGSLIST_CODE_MODAL",o_="IMPORTSETTINGS_CREATE_MODAL";class a_ extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Import Settings",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.importsettings.listImportSettings().then((e=>e.json())).then((e=>this.setState({uriListDocument:e})))}catch(t){e({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n,history:o}=this.props,{uriListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(zW,{openCode:()=>n({modalName:n_}),openCreate:()=>n({modalName:o_}),onRefresh:this.onRefresh}),a&&Object(le.jsx)(JW,{uriListDocument:a}),Object(le.jsx)(Me,{isOpen:e===n_,toggleDialogue:t,code:a,title:"URIListDocument"}),Object(le.jsx)(t_,{isOpen:e===o_,closeModal:t,history:o})]})}}const s_={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var r_=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),s_)(a_);function c_({openCode:e,onRefresh:t,settingsId:n,openRemove:o}){return Object(le.jsx)(Ae,{title:n,parentTitle:"Import Settings",parentTo:"/import/settings/",openCode:e,onRefresh:t,actionComponent:Object(le.jsx)(w.a,{onClick:o,children:Object(le.jsx)(ee.a,{})})})}function i_({importSettingsDocument:e={}}){const{access:t=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"ID",value:e.id}),t.map(((e,t)=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsx)(KS,{access:e})]},t)))]})}const l_="EDIT_IMPORTSETTINGS_FORM";class j_ extends s.a.PureComponent{constructor(e){super(e),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{importSettingsDocument:e,submitForm:t,settingsId:n,onRefresh:o,openSnackBar:a}=this.props,{isEditing:s}=this.state,r={importSettingsDocument:e};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:s,onChange:this.toggleEdit})})})}),Object(le.jsx)(Le.a,{children:s?Object(le.jsx)(XW,{form:l_,initialValues:r,onSubmit:$W,onSubmitSuccess:()=>{this.toggleEdit();a({messageContent:"Import Settings Saved"}),o&&o()},onSubmitFail:()=>{a({messageContent:"Error Updating Import Settings",messageColor:"secondary"})},settingsId:n}):Object(le.jsx)(i_,{importSettingsDocument:e})}),s&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:()=>t(l_),size:"small",color:"primary",children:"Save"})]})]})]})}}const d_={submitForm:Ct.f,openSnackBar:o.openSnackBar};var m_=Object(i.b)(null,d_)(j_);function h_({settingsId:e,importSettingsDocument:t,onRefresh:n}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(m_,{settingsId:e,importSettingsDocument:t,onRefresh:n})})})}function u_({closeModal:e,isOpen:t,settingsId:n,onRemove:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Import Settings "'.concat(n,'"?')}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Zd.a,{children:"This may affect access to future imports."})}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>o({settingsId:n}),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const b_="IMPORTSETTINGS_CODE_MODAL",p_="IMPORTSETTINGS_REMOVE_MODAL";class O_ extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRemove=this.onRemove.bind(this),this.state={importSettingsDocument:void 0}}componentDidMount(){const{settingsId:e}=this.props;document.title="VidiCore Admin | Import Settings | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,settingsId:t}=this.props;W.importsettings.getImportSettings({settingsId:t}).then((e=>e.json())).then((e=>this.setState({importSettingsDocument:e}))).catch((()=>{e({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}))}onRemove({settingsId:e}){const{openSnackBar:t,history:n,closeModal:o}=this.props;try{W.importsettings.removeImportSettings({settingsId:e}).then((()=>{const a="Import Settings ".concat(e," Removed");t({messageContent:a}),n.push("/import/settings/"),o()}))}catch(a){t({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n,settingsId:o}=this.props,{importSettingsDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(c_,{settingsId:o,openCode:()=>n({modalName:b_}),openRemove:()=>n({modalName:p_}),onRefresh:this.onRefresh}),a&&Object(le.jsx)(h_,{settingsId:o,importSettingsDocument:a,onRefresh:this.onRefresh}),Object(le.jsx)(Me,{isOpen:e===b_,toggleDialogue:t,code:a,title:"ImportSettingsDocument"}),Object(le.jsx)(u_,{isOpen:e===p_,closeModal:t,onRemove:this.onRemove,settingsId:o})]})}}const x_={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var g_=Object(i.b)((function(e,t){const{settingsId:n}=t.match.params,{ui:{modalName:o}}=e;return{settingsId:n,modalName:o}}),x_)(O_);function f_({openCode:e,openCreate:t,onRefresh:n,userName:o}){return Object(le.jsx)(Ae,{title:"Import Access",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:o,parentTo:"/user/".concat(o,"/"),onRefresh:n,openCode:e,openAction:t})}function v_({group:e,openRemove:t,openEdit:n}){return Object(le.jsxs)(Ge.a,{hover:!0,children:[Object(le.jsx)(Be.a,{children:Object(le.jsx)(un,{to:"/group/".concat(e.name),children:e.name})}),Object(le.jsx)(Be.a,{children:e.permission}),Object(le.jsx)(Be.a,{numeric:!0,onClick:e=>e.stopPropagation(),children:Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:n(e),children:Object(le.jsx)(X.a,{color:"inherit",children:"Edit"})}),Object(le.jsx)(Xn.a,{onClick:t(e),children:Object(le.jsx)(X.a,{color:"error",children:"Remove"})})]})})]})}function y_({importAccessControlListDocument:e={},openRemove:t,openEdit:n}){const{group:o=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"Group"}),Object(le.jsx)(Be.a,{children:"Permission"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:o.map((e=>Object(le.jsx)(v_,{group:e,openRemove:t,openEdit:n},e.name)))})]})}function C_({importAccessControlListDocument:e,openRemove:t,openEdit:n}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(y_,{importAccessControlListDocument:e,openRemove:t,openEdit:n})})})}function S_({closeModal:e,isOpen:t,groupName:n,onRemove:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove "'.concat(n,'" Import Access?')}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Zd.a,{children:"This may affect access to future imports."})}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:o(n),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const I_=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"permission",children:"Permission"}),Object(le.jsxs)($t.a,{name:"permission",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"READ",children:"Read"}),Object(le.jsx)(Xn.a,{value:"WRITE",children:"Write"}),Object(le.jsx)(Xn.a,{value:"ALL",children:"All"}),Object(le.jsx)(Xn.a,{value:"OWNER",children:"Owner"}),Object(le.jsx)(Xn.a,{value:"NONE",children:"None"})]})]});var R_=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"groupName",label:"Group",component:br,loadOptions:Mb,cacheOptions:!0,isClearable:!0}),Object(le.jsx)(wt.a,{name:"queryParams",component:I_}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const D_="EDIT_IMPORTACCESS_FORM";const F_={submitForm:Ct.f,openSnackBar:o.openSnackBar};var T_=Object(i.b)(null,F_)((function({submitForm:e,closeModal:t,isOpen:n,onRefresh:o,openSnackBar:a,group:s={},userName:r}){const{name:c,permission:i}=s,l={groupName:c,queryParams:{permission:i}};return Object(le.jsxs)(xe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Edit Import Access"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(R_,{form:D_,onSubmit:cI,onSubmitSuccess:()=>{a({messageContent:"Import Access Created"}),o&&o(),t()},onSubmitFail:()=>{a({messageContent:"Error Creating Import Access",messageColor:"secondary"})},initialValues:l,userName:r})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(D_),children:"Save"})]})]})}));const E_="IMPORTACCESS_CODE_MODAL",P_="IMPORTACCESS_REMOVE_MODAL",N_="IMPORTACCESS_EDIT_MODAL";class k_ extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.openEdit=this.openEdit.bind(this),this.state={importAccessControlListDocument:void 0}}componentDidMount(){const{userName:e}=this.props;document.title="VidiCore Admin | User | ".concat(e," | Import Access"),this.onRefresh()}onRefresh(){const{openSnackBar:e,userName:t}=this.props,n={RunAs:t};W.access.getImportAccess({headers:n}).then((e=>e.json())).then((e=>this.setState({importAccessControlListDocument:e}))).catch((()=>{e({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}))}onRemove(e){const{openSnackBar:t,closeModal:n,userName:o}=this.props,a={RunAs:o};return()=>{W.access.removeImportAccessGroup({groupName:e,headers:a}).then((()=>{const o='Import Access "'.concat(e,'" Removed');t({messageContent:o}),n(),this.onRefresh()})).catch((()=>{t({messageContent:"Error Removing Import Access",messageColor:"secondary"})}))}}openRemove(e){const{openModal:t}=this.props;return()=>{this.setState({currentGroup:e},(()=>t({modalName:P_})))}}openEdit(e){const{openModal:t}=this.props;return()=>{this.setState({currentGroup:e},(()=>t({modalName:N_})))}}render(){const{modalName:e,closeModal:t,openModal:n,userName:o}=this.props,{importAccessControlListDocument:a,currentGroup:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(f_,{openCode:()=>n({modalName:E_}),openCreate:()=>n({modalName:N_}),onRefresh:this.onRefresh,userName:o}),a&&Object(le.jsx)(C_,{importAccessControlListDocument:a,openRemove:this.openRemove,openEdit:this.openEdit}),Object(le.jsx)(Me,{isOpen:e===E_,toggleDialogue:t,code:a,title:"ImportAccessControlListDocument"}),s&&Object(le.jsx)(S_,{isOpen:e===P_,closeModal:t,onRemove:this.onRemove,groupName:s.name}),Object(le.jsx)(T_,{isOpen:e===N_,closeModal:t,onRefresh:this.onRefresh,group:s,userName:o})]})}}const M_={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var A_=Object(i.b)((function(e,t){const{ui:{modalName:n}}=e,{userName:o}=t.match.params;return{userName:o,modalName:n}}),M_)(k_);function L_({openCode:e,openCreate:t,onRefresh:n}){return Object(le.jsx)(Ae,{title:"Task Group",onRefresh:n,openCode:e,openAction:t})}function W_({group:e}){return Object(le.jsxs)(at,{hover:!0,to:"/task-group/".concat(e.name,"/"),children:[Object(le.jsx)(Be.a,{children:e.name}),Object(le.jsx)(Be.a,{})]})}function __({taskGroupListDocument:e={}}){const{group:t=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"Name"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:t.map((e=>Object(le.jsx)(W_,{group:e},e.name)))})]})}function w_({taskGroupListDocument:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(__,{taskGroupListDocument:e})})})}const V_=e=>Object(le.jsx)(_t,{disabled:void 0!==e.meta.initial,onFocus:e.onFocus,onBlur:e.onBlur,...e}),U_=({fields:e})=>Object(le.jsxs)(le.Fragment,{children:[e.map(((t,n)=>Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(le.jsx)($.a,{item:!0,sm:10,children:Object(le.jsx)($t.a,{name:"".concat(t,".id"),component:_t,label:"Transcoder ID",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]},t))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:"Add Transcoder"})]}),B_=({fields:e})=>Object(le.jsxs)(le.Fragment,{children:[e.map(((t,n)=>Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)($t.a,{name:"".concat(t,".key"),component:_t,label:"Data Key",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)($t.a,{name:"".concat(t,".value"),component:_t,label:"Data Value",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]},t))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:"Add Data"})]}),q_=({fields:e})=>Object(le.jsxs)(le.Fragment,{children:[e.map(((t,n)=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(le.jsxs)($.a,{item:!0,sm:10,children:[Object(le.jsx)($t.a,{name:"".concat(t,".type"),label:"Job Type",component:br,loadOptions:Or,isMulti:!0,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"".concat(t,".priority"),label:"Job Priority",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"".concat(t,".user"),label:"Job User",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"".concat(t,".group"),label:"Job Group",component:Ta,simple:!0,fullWidth:!0})]}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]},t),Object(le.jsx)(Vt.a,{name:"".concat(t,".data"),component:B_})]},t))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:"Add Job"})]}),G_=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"name",component:V_,label:"Name",required:!0,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsxs)($t.a,{name:"priority",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(le.jsx)(Xn.a,{value:"HIGH",children:"HIGH"}),Object(le.jsx)(Xn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(le.jsx)(Xn.a,{value:"LOW",children:"LOW"}),Object(le.jsx)(Xn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(le.jsx)($t.a,{name:"maxConcurrency",component:_t,label:"Max Concurrency",fullWidth:!0}),Object(le.jsx)($.a,{container:!0,direction:"column",children:Object(le.jsx)(Vt.a,{name:"transcoder",component:U_})}),Object(le.jsx)($.a,{container:!0,direction:"column",children:Object(le.jsx)(Vt.a,{name:"job",component:q_})}),Object(le.jsx)(wt.a,{name:"metadata",component:Pa})]});var H_=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"taskGroupDocument",component:G_}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function z_(e){const{taskGroupDocument:t}=e,{name:n}=t;return W.taskgroup.updateTaskGroup({groupName:n,taskGroupDocument:t}).then((e=>({taskGroupDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const J_="EDIT_TASKGROUP_FORM";const K_={submitForm:Ct.f,openSnackBar:o.openSnackBar};var Y_=Object(i.b)(null,K_)((function({submitForm:e,closeModal:t,isOpen:n,history:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Task Group"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(H_,{form:J_,onSubmit:z_,onSubmitSuccess:e=>{const{taskGroupDocument:n}=e,{name:s}=n,r="Task Group ".concat(s," Created");a({messageContent:r}),o.push("/task-group/".concat(s)),t()},onSubmitFail:()=>{a({messageContent:"Error Creating Task Group",messageColor:"secondary"})}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(J_),children:"Save"})]})]})}));const X_="TASKGROUPLIST_CODE_MODAL",$_="TASKGROUPLIST_CREATE_MODAL";class Q_ extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={taskGroupListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Task Group",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.taskgroup.listTaskGroup().then((e=>e.json())).then((e=>this.setState({taskGroupListDocument:e})))}catch(t){e({messageContent:"Error Loading Task Groups",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n,history:o}=this.props,{taskGroupListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(L_,{openCode:()=>n({modalName:X_}),openCreate:()=>n({modalName:$_}),onRefresh:this.onRefresh}),a&&Object(le.jsx)(w_,{taskGroupListDocument:a}),Object(le.jsx)(Me,{isOpen:e===X_,toggleDialogue:t,code:a,title:"TaskGroupListDocument"}),Object(le.jsx)(Y_,{isOpen:e===$_,closeModal:t,history:o})]})}}const Z_={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var ew=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),Z_)(Q_);function tw({openCode:e,onRefresh:t,groupName:n,openRemove:o}){return Object(le.jsx)(Ae,{title:n,parentTitle:"Task Group",parentTo:"/task-group/",openCode:e,onRefresh:t,actionComponent:Object(le.jsx)(w.a,{onClick:o,children:Object(le.jsx)(ee.a,{})})})}const nw=({group:e})=>Object(le.jsxs)(le.Fragment,{children:[e.priority&&Object(le.jsx)(Dn,{title:"Priority",value:e.priority}),e.maxConcurrency&&Object(le.jsx)(Dn,{title:"Max Concurrency",value:e.maxConcurrency}),e.job&&Object(le.jsxs)(le.Fragment,{children:[e.job.map((e=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsx)(Dn,{title:"Job Type",variant:"list",value:e.type}),Object(le.jsx)(Dn,{title:"Job Priority",variant:"list",value:e.priority}),Object(le.jsx)(Dn,{title:"Job User",variant:"list",value:e.user}),Object(le.jsx)(Dn,{title:"Job Group",variant:"list",value:e.group})]},e.type))),Object(le.jsx)(It.a,{})]}),e.transcoder&&Object(le.jsxs)(le.Fragment,{children:[e.transcoder.map((e=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsx)(Dn,{title:"Transcoder",value:e.id})]},e.id))),Object(le.jsx)(It.a,{})]})]});function ow({taskGroupDocument:e}){return Object(le.jsx)(nw,{group:e})}const aw="EDIT_TASKGROUP_FORM";class sw extends s.a.PureComponent{constructor(e){super(e),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{taskGroupDocument:e,submitForm:t,groupName:n,onRefresh:o,openSnackBar:a}=this.props,{isEditing:s}=this.state,r={taskGroupDocument:e};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:s,onChange:this.toggleEdit})})})}),Object(le.jsx)(Le.a,{children:s?Object(le.jsx)(H_,{form:aw,initialValues:r,onSubmit:z_,onSubmitSuccess:()=>{this.toggleEdit();a({messageContent:"Task Group Saved"}),o&&o()},onSubmitFail:()=>{a({messageContent:"Error Updating Task Group",messageColor:"secondary"})},groupName:n}):Object(le.jsx)(ow,{taskGroupDocument:e})}),s&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:()=>t(aw),size:"small",color:"primary",children:"Save"})]})]})]})}}const rw={submitForm:Ct.f,openSnackBar:o.openSnackBar};var cw=Object(i.b)(null,rw)(sw);function iw(e){return e.editable?Object(le.jsx)(Fi,{...e}):Object(le.jsx)(vi,{...e})}function lw({groupName:e,taskGroupDocument:t,onRefresh:n}){const{metadata:o={}}=t;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(we,{children:Object(le.jsx)(cw,{groupName:e,taskGroupDocument:t,onRefresh:n})}),o&&Object(le.jsx)(we,{children:Object(le.jsx)(iw,{simpleMetadataList:o.field,entityType:"task-group",entityId:e,onSuccess:n,editable:!0})})]})}function jw({closeModal:e,isOpen:t,groupName:n,onRemove:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Task Group "'.concat(n,'"?')}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Zd.a,{children:"This may affect access to future imports."})}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>o({groupName:n}),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const dw="TASKGROUP_CODE_MODAL",mw="TASKGROUP_REMOVE_MODAL";class hw extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRemove=this.onRemove.bind(this),this.state={taskGroupDocument:void 0}}componentDidMount(){const{groupName:e}=this.props;document.title="VidiCore Admin | Task Group | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,groupName:t}=this.props;W.taskgroup.getTaskGroup({groupName:t}).then((e=>e.json())).then((e=>this.setState({taskGroupDocument:e}))).catch((()=>{e({messageContent:"Error Loading Task Group",messageColor:"secondary"})}))}onRemove({groupName:e}){const{openSnackBar:t,history:n,closeModal:o}=this.props;try{W.taskgroup.removeTaskGroup({groupName:e}).then((()=>{const a="Task Group ".concat(e," Removed");t({messageContent:a}),n.push("/task-group/"),o()}))}catch(a){t({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n,groupName:o}=this.props,{taskGroupDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(tw,{groupName:o,openCode:()=>n({modalName:dw}),openRemove:()=>n({modalName:mw}),onRefresh:this.onRefresh}),a&&Object(le.jsx)(lw,{groupName:o,taskGroupDocument:a,onRefresh:this.onRefresh}),Object(le.jsx)(Me,{isOpen:e===dw,toggleDialogue:t,code:a,title:"TaskGroupDocument"}),Object(le.jsx)(jw,{isOpen:e===mw,closeModal:t,onRemove:this.onRemove,groupName:o})]})}}const uw={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var bw=Object(i.b)((function(e,t){const{groupName:n}=t.match.params,{ui:{modalName:o}}=e;return{groupName:n,modalName:o}}),uw)(hw);function pw({openCode:e,openCreate:t,onRefresh:n}){return Object(le.jsx)(Ae,{title:"Quota",onRefresh:n,openCode:e,openAction:t})}function Ow({closeModal:e,isOpen:t,ruleId:n,onRemove:o}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Quota "'.concat(n,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:o(n),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const xw=({fields:e})=>Object(le.jsxs)(le.Fragment,{children:[e.map(((t,n)=>Object(le.jsx)(s.a.Fragment,{children:Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(le.jsxs)($.a,{item:!0,sm:10,children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"".concat(t,".name"),children:"Resource Name"}),Object(le.jsxs)($t.a,{name:"".concat(t,".name"),component:Lt,required:!0,children:[Object(le.jsx)(Xn.a,{value:"item",children:"Item"}),Object(le.jsx)(Xn.a,{value:"storage",children:"Storage"})]})]}),Object(le.jsx)($t.a,{name:"".concat(t,".limit"),label:"Resource Limit",component:_t,fullWidth:!0,required:!0})]}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]},t)},t))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:"Add Resource"})]}),gw=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"description",component:_t,label:"Description",fullWidth:!0}),Object(le.jsx)(xh,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),Object(le.jsx)(Lb,{name:"group",label:"Group",isClearable:!0,fullWidth:!0}),Object(le.jsx)($t.a,{name:"collection",component:_t,label:"Collection",fullWidth:!0}),Object(le.jsx)($t.a,{name:"library",component:_t,label:"Library",fullWidth:!0}),Object(le.jsx)($t.a,{name:"storage",component:_t,label:"Storage",fullWidth:!0}),Object(le.jsx)($t.a,{name:"storageGroup",component:_t,label:"Storage Group",fullWidth:!0}),Object(le.jsx)($t.a,{name:"tag",component:_t,label:"Tag",fullWidth:!0}),Object(le.jsx)($.a,{container:!0,direction:"column",children:Object(le.jsx)(Vt.a,{name:"resource",component:xw})})]});var fw=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"quotaRuleDocument",component:gw}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function vw(e){const{quotaRuleDocument:t}=e;return W.quota.createQuota({quotaRuleDocument:t}).then((e=>({quotaRuleDocument:e.data}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function yw(e){const{queryParams:t}=e,n=function(e){if(!("filter"in e)&&"object"!==typeof e.filter)return e;const{filter:t}=e,n=t.reduce(((e,t,n)=>t.key&&t.value?"".concat(e).concat(n>0?",":"").concat(t.key,"%3D").concat(t.value):e),"");return""!==n?Fa()(e,{filter:{$set:n}}):Fa()(e,{$unset:["filter"]})}(t);return W.quota.listQuota({queryParams:n}).then((e=>({quotaRuleListDocument:e.data,queryParams:n}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const Cw="EDIT_QUOTA_FORM";const Sw={submitForm:Ct.f,openSnackBar:o.openSnackBar};var Iw=Object(i.b)(null,Sw)((function({submitForm:e,closeModal:t,isOpen:n,onRefresh:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Quota"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(fw,{form:Cw,onSubmit:vw,onSubmitSuccess:e=>{const{quotaRuleDocument:n}=e,{id:s}=n,r="Import Settings ".concat(s," Created");a({messageContent:r}),t(),o()},onSubmitFail:()=>{a({messageContent:"Error Creating Quota",messageColor:"secondary"})},initialValues:{quotaRuleDocument:{resource:[{}]}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(Cw),children:"Save"})]})]})})),Rw=n(782);const Dw=({rule:e})=>Object(le.jsxs)(le.Fragment,{children:[e.user&&Object(le.jsx)(Dn,{title:"User",variant:"username",value:e.user}),e.group&&Object(le.jsx)(Dn,{title:"Group",variant:"group",value:e.group}),e.collection&&Object(le.jsx)(Dn,{title:"Collection",variant:"collection",value:e.collection}),e.library&&Object(le.jsx)(Dn,{title:"Library",variant:"library",value:e.library}),e.tag&&Object(le.jsx)(Dn,{title:"Shape Tag",variant:"shape-tag",value:e.tag}),e.storage&&Object(le.jsx)(Dn,{title:"Storage",variant:"storageId",value:e.storage}),e.storageGroup&&Object(le.jsx)(Dn,{title:"Storage Group",value:e.storageGroup}),e.resource&&Object(le.jsxs)(le.Fragment,{children:[e.resource.map((e=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsx)(Dn,{title:"Resource Name",value:e.name}),Object(le.jsx)(Dn,{title:"Resource Limit",value:e.limit}),Object(le.jsx)(Dn,{title:"Resource Usage",value:e.usage}),Object(le.jsx)(Rw.a,{variant:"determinate",value:e.usage/e.limit*100})]},e.name))),Object(le.jsx)(It.a,{})]}),Object(le.jsx)(Dn,{title:"Description",value:e.description}),Object(le.jsx)(Dn,{title:"Update Frequency",value:e.updateFrequency}),Object(le.jsx)(Dn,{title:"Last Update",variant:"timestamp",value:e.lastUpdate})]});function Fw({quotaRuleDocument:e}){return Object(le.jsx)(Dw,{rule:e})}function Tw({quotaRuleDocument:e,openRemove:t}){const{id:n}=e;return Object(le.jsx)(we,{children:Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(We.a,{subheader:n,action:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(w.a,{onClick:t(n),children:Object(le.jsx)(Bt.a,{})}),Object(le.jsx)(je,{entityId:n,entityType:"quota"})]})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Fw,{quotaRuleDocument:e})})]})})}function Ew({quotaRuleListDocument:e={},onRefresh:t,openRemove:n}){const{rule:o=[]}=e;return Object(le.jsx)(le.Fragment,{children:o.map((e=>Object(le.jsx)(Tw,{quotaRuleDocument:e,onRefresh:t,openRemove:n},e.id)))})}const Pw=({fields:e})=>Object(le.jsxs)(le.Fragment,{children:[e.map(((t,n)=>Object(le.jsxs)($.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"".concat(t,".key"),children:"Filter Key"}),Object(le.jsxs)($t.a,{name:"".concat(t,".key"),component:Lt,children:[Object(le.jsx)(Xn.a,{value:"user",children:"user"}),Object(le.jsx)(Xn.a,{value:"group",children:"group"}),Object(le.jsx)(Xn.a,{value:"storage",children:"storage"}),Object(le.jsx)(Xn.a,{value:"storageGroup",children:"storageGroup"}),Object(le.jsx)(Xn.a,{value:"collection",children:"collection"}),Object(le.jsx)(Xn.a,{value:"library",children:"library"}),Object(le.jsx)(Xn.a,{value:"tag",children:"tag"})]})]})}),Object(le.jsx)($.a,{item:!0,sm:5,children:Object(le.jsx)($t.a,{name:"".concat(t,".value"),component:_t,label:"Filter Value",fullWidth:!0})}),Object(le.jsx)($.a,{item:!0,sm:2,children:Object(le.jsx)(w.a,{onClick:()=>e.remove(n),children:Object(le.jsx)(Bt.a,{})})})]},t))),Object(le.jsx)(zt,{onClick:()=>e.push(),color:"primary",style:{marginTop:10},children:"Add Filter"})]}),Nw=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($.a,{container:!0,direction:"column",children:Object(le.jsx)(Vt.a,{name:"filter",component:Pw})}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"exceeded",component:en}),label:"Exceeded"}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"content",children:"Content"}),Object(le.jsx)($t.a,{name:"content",component:Lt,children:Object(le.jsx)(Xn.a,{value:"external",children:"External"})})]})]});var kw=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"queryParams",component:Nw}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Mw="EDIT_QUOTA_FILTER_FORM";const Aw={submitForm:Ct.f,openSnackBar:o.openSnackBar};var Lw=Object(i.b)(null,Aw)((function({submitForm:e,onFilter:t,openSnackBar:n}){return Object(le.jsx)(we,{children:Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(We.a,{action:Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(Mw),children:"Search"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(kw,{form:Mw,onSubmit:yw,onSubmitSuccess:e=>{const{quotaRuleListDocument:n,queryParams:o}=e;t({quotaRuleListDocument:n,queryParams:o})},onSubmitFail:()=>{n({messageContent:"Error Filtering Quota",messageColor:"secondary"})},initialValues:{queryParams:{exceeded:!1,filter:[{}]}}})})]})})}));const Ww="QUOTA_CODE_MODAL",_w="QUOTA_REMOVE_MODAL",ww="QUOTA_CREATE_MODAL";class Vw extends s.a.Component{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.openRemove=this.openRemove.bind(this),this.onRemove=this.onRemove.bind(this),this.onFilter=this.onFilter.bind(this),this.state={quotaRuleListDocument:void 0}}componentDidMount(){this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props,{queryParams:t}=this.state;W.quota.listQuota({queryParams:t}).then((e=>e.json())).then((e=>this.setState({quotaRuleListDocument:e}))).catch((()=>{e({messageContent:"Error Loading Quota",messageColor:"secondary"})}))}onFilter({quotaRuleListDocument:e,queryParams:t}){this.setState({quotaRuleListDocument:e,queryParams:t})}onRemove(e){const{openSnackBar:t,closeModal:n}=this.props;return()=>{W.quota.removeQuota({ruleId:e}).then((()=>{const o='Quota "'.concat(e,'" Removed');t({messageContent:o}),n(),this.onRefresh()})).catch((()=>{t({messageContent:"Error Removing Quota",messageColor:"secondary"})}))}}openRemove(e){const{openModal:t}=this.props;return()=>{this.setState({currentRuleId:e},(()=>t({modalName:_w})))}}render(){const{quotaRuleListDocument:e,currentRuleId:t}=this.state,{closeModal:n,modalName:o,openModal:a}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(pw,{openCode:()=>a({modalName:Ww}),openCreate:()=>a({modalName:ww}),onRefresh:this.onRefresh}),Object(le.jsx)(Lw,{onFilter:this.onFilter,onRefresh:this.onRefresh}),Object(le.jsx)(Ew,{quotaRuleListDocument:e,onRefresh:this.onRefresh,openRemove:this.openRemove}),t&&Object(le.jsx)(Ow,{isOpen:o===_w,closeModal:n,onRemove:this.onRemove,ruleId:t}),Object(le.jsx)(Iw,{isOpen:o===ww,closeModal:n,onRefresh:this.onRefresh}),Object(le.jsx)(Me,{isOpen:o===Ww,toggleDialogue:n,code:e,title:"QuotaRuleListDocument"})]})}}const Uw={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var Bw=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),Uw)(Vw);function qw({onRefresh:e,openCode:t}){return Object(le.jsx)(Ae,{title:"Resource",onRefresh:e,openCode:t})}function Gw({resourceType:e}){return Object(le.jsx)(at,{hover:!0,to:"/resource/".concat(e,"/"),children:Object(le.jsx)(Be.a,{children:ot()(e)})})}function Hw({resourceTypeListDocument:e={}}){const{resourcetype:t=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Be.a,{children:"Resource Type"})})}),Object(le.jsx)(Ue.a,{children:t.map((e=>Object(le.jsx)(Gw,{resourceType:e.type},e.type)))})]})}function zw({resourceTypeListDocument:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Hw,{resourceTypeListDocument:e})})})}const Jw="RESOURCETYPELIST_CODE_MODAL";class Kw extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={resourceTypeListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Resource",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.resource.listResource().then((e=>this.setState({resourceTypeListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Resource Types",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n}=this.props,{resourceTypeListDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(qw,{openCode:()=>n({modalName:Jw}),onRefresh:this.onRefresh}),o&&Object(le.jsx)(zw,{resourceTypeListDocument:o}),Object(le.jsx)(Me,{isOpen:e===Jw,toggleDialogue:t,code:o,title:"ResourceTypeListDocument"})]})}}const Yw={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var Xw=Object(i.b)((function(e,t){const{resourceType:n}=t.match.params,{ui:{modalName:o}}=e;return{modalName:o,resourceType:n}}),Yw)(Kw);function $w({resourceType:e,openCode:t,openCreate:n,onRefresh:o}){return Object(le.jsx)(Ae,{parentTitle:"Resource",parentTo:"/resource/",title:ot()(e),onRefresh:o,openCode:t,openAction:n})}const Qw=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.netmask}),Object(le.jsx)(Be.a,{children:e.bandwidth})]}),Zw=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.source}),Object(le.jsx)(Be.a,{children:e.destination}),Object(le.jsx)(Be.a,{children:e.shapeTag})]}),eV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.url}),Object(le.jsx)(Be.a,{children:e.version}),Object(le.jsx)(Be.a,{children:"ONLINE"===e.state?Object(le.jsx)(Qr,{}):Object(le.jsx)(ec,{})})]}),tV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.path}),Object(le.jsx)(Be.a,{children:"ONLINE"===e.state?Object(le.jsx)(Qr,{}):Object(le.jsx)(ec,{})})]}),nV=({resource:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Be.a,{children:e.address})}),oV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.url}),Object(le.jsx)(Be.a,{children:e.tag}),Object(le.jsx)(Be.a,{children:e.state})]}),aV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.url}),Object(le.jsx)(Be.a,{children:e.workspaceUrl}),Object(le.jsx)(Be.a,{children:e.userWorkspaceUrl})]}),sV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.url}),Object(le.jsx)(Be.a,{children:e.tag})]}),rV=({resource:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Be.a,{children:e.url})}),cV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.publicAddress}),Object(le.jsx)(Be.a,{children:e.apiHost})]}),iV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.url}),Object(le.jsx)(Be.a,{children:e.name}),Object(le.jsx)(Be.a,{children:e.endpoint}),Object(le.jsx)(Be.a,{children:e.state})]}),lV=({resource:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:e.url}),Object(le.jsx)(Be.a,{children:e.partyId}),Object(le.jsx)(Be.a,{children:e.userId})]}),jV=({resource:e,resourceType:t})=>{if(void 0===e[t])return null;switch(t){case"network":return Object(le.jsx)(Qw,{resource:e[t],resourceType:t});case"transcoder":return Object(le.jsx)(eV,{resource:e[t],resourceType:t});case"externalTranscoder":return Object(le.jsx)(Zw,{resource:e[t],resourceType:t});case"cerify":return Object(le.jsx)(nV,{resource:e[t],resourceType:t});case"thumbnail":return Object(le.jsx)(tV,{resource:e[t],resourceType:t});case"finalcutserver":return Object(le.jsx)(oV,{resource:e[t],resourceType:t});case"mxfserver":return Object(le.jsx)(aV,{resource:e[t],resourceType:t});case"signiant":return Object(le.jsx)(sV,{resource:e[t],resourceType:t});case"ldap":return Object(le.jsx)(rV,{resource:e[t],resourceType:t});case"cloudconvert":return Object(le.jsx)(cV,{resource:e[t],resourceType:t});case"vidinet":return Object(le.jsx)(iV,{resource:e[t],resourceType:t});case"eidr":return Object(le.jsx)(lV,{resource:e[t],resourceType:t});default:return Object(le.jsx)(Be.a,{})}};function dV({resource:e,resourceType:t}){const{id:n}=e;return Object(le.jsxs)(at,{hover:!0,to:"/resource/".concat(t,"/").concat(n,"/"),children:[Object(le.jsx)(Be.a,{children:n}),Object(le.jsx)(jV,{resource:e,resourceType:t})]})}const mV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"Netmask"}),Object(le.jsx)(Be.a,{children:"Bandswidth"})]}),hV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"Source"}),Object(le.jsx)(Be.a,{children:"Destination"}),Object(le.jsx)(Be.a,{children:"Shape Tag"})]}),uV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"URL"}),Object(le.jsx)(Be.a,{children:"Version"}),Object(le.jsx)(Be.a,{children:"Status"})]}),bV=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Be.a,{children:"Address"})}),pV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"URL"}),Object(le.jsx)(Be.a,{children:"Tag"}),Object(le.jsx)(Be.a,{children:"State"})]}),OV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"URL"}),Object(le.jsx)(Be.a,{children:"Workspace Url"}),Object(le.jsx)(Be.a,{children:"User Workspace Url"})]}),xV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"URL"}),Object(le.jsx)(Be.a,{children:"Tag"})]}),gV=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Be.a,{children:"URL"})}),fV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"Public Address"}),Object(le.jsx)(Be.a,{children:"API Host"})]}),vV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"Url"}),Object(le.jsx)(Be.a,{children:"Name"}),Object(le.jsx)(Be.a,{children:"Endpoint"}),Object(le.jsx)(Be.a,{children:"State"})]}),yV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"URL"}),Object(le.jsx)(Be.a,{children:"Party ID"}),Object(le.jsx)(Be.a,{children:"User ID"})]}),CV=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Be.a,{children:"Path"}),Object(le.jsx)(Be.a,{children:"Status"})]}),SV=({resourceType:e})=>{switch(e){case"network":return Object(le.jsx)(mV,{});case"transcoder":return Object(le.jsx)(uV,{});case"externalTranscoder":return Object(le.jsx)(hV,{});case"cerify":return Object(le.jsx)(bV,{});case"thumbnail":return Object(le.jsx)(CV,{});case"finalcutserver":return Object(le.jsx)(pV,{});case"mxfserver":return Object(le.jsx)(OV,{});case"signiant":return Object(le.jsx)(xV,{});case"ldap":return Object(le.jsx)(gV,{});case"cloudconvert":return Object(le.jsx)(fV,{});case"vidinet":return Object(le.jsx)(vV,{});case"eidr":return Object(le.jsx)(yV,{});default:return Object(le.jsx)(Be.a,{})}};function IV({resourceListDocument:e={},resourceType:t}){const{resource:n=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"ID"}),Object(le.jsx)(SV,{resourceType:t})]})}),Object(le.jsx)(Ue.a,{children:n.map((e=>Object(le.jsx)(dV,{resource:e,resourceType:t},e.id)))})]})}function RV({resourceListDocument:e,resourceType:t}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(IV,{resourceListDocument:e,resourceType:t})})})}const DV={openSnackBar:o.openSnackBar};var FV=Object(i.b)(null,DV)((function({closeModal:e,isOpen:t,history:n,openSnackBar:o,resourceType:a}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New ".concat(ot()(a))}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:TF,documentName:"resourceDocument",onSubmit:kF,onSubmitSuccess:t=>{const{resourceDocument:s}=t,{id:r}=s,c="".concat(a," ").concat(r," Created");o({messageContent:c}),n.push("/resource/".concat(a,"/").concat(r)),e()},onSubmitFail:()=>{o({messageContent:"Error Creating Resource",messageColor:"secondary"})},onCancel:e,resourceType:a})})]})}));const TV="RESOURCELIST_CODE_MODAL",EV="RESOURCE_CREATE_MODAL";class PV extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.state={resourceListDocument:void 0}}componentDidMount(){const{resourceType:e}=this.props;document.title="VidiCore Admin | Resource | ".concat(ot()(e)),this.onRefresh()}UNSAFE_componentWillReceiveProps({resourceType:e}){const{resourceType:t}=this.props;e!==t&&(this.setState({resourceListDocument:void 0}),this.onFetch(e),document.title="VidiCore Admin | Resource | ".concat(ot()(e)))}onFetch(e){const{openSnackBar:t}=this.props;try{W.resource.listResourceType({resourceType:e}).then((e=>this.setState({resourceListDocument:e.data})))}catch(n){t({messageContent:"Error Loading Resource List",messageColor:"secondary"})}}onRefresh(){const{resourceType:e}=this.props;this.onFetch(e)}render(){const{modalName:e,closeModal:t,openModal:n,resourceType:o,history:a}=this.props,{resourceListDocument:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($w,{openCode:()=>n({modalName:TV}),openCreate:()=>n({modalName:EV}),onRefresh:this.onRefresh,resourceType:o}),s&&Object(le.jsx)(RV,{resourceType:o,resourceListDocument:s}),Object(le.jsx)(Me,{isOpen:e===TV,toggleDialogue:t,code:s,title:"ResourceListDocument"}),Object(le.jsx)(FV,{resourceType:o,isOpen:e===EV,closeModal:t,history:a})]})}}const NV={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var kV=Object(i.b)((function(e,t){const{resourceType:n}=t.match.params,{ui:{modalName:o}}=e;return{modalName:o,resourceType:n}}),NV)(PV);function MV({resourceType:e,resourceId:t,openCode:n,onRefresh:o,openRemove:a}){return Object(le.jsx)(Ae,{grandParentTitle:"Resource",grandParentTo:"/resource/",parentTitle:ot()(e),parentTo:"/resource/".concat(e,"/"),title:t,onRefresh:o,openCode:n,actionComponent:Object(le.jsx)(w.a,{onClick:a,children:Object(le.jsx)(ee.a,{})})})}const AV=({metadata:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Metadata",value:""}),e.field&&e.field.map((e=>Object(le.jsx)(Dn,{title:e.key,value:e.value},e.key)))]}),LV=({thumbnail:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Path",value:e.path}),Object(le.jsx)(Dn,{title:"Mode",value:e.mode})]}),WV=({network:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Netmask",value:e.netmask}),Object(le.jsx)(Dn,{title:"Bandwidth",value:e.bandwidth})]}),_V=({finalcutserver:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URL",value:e.url}),Object(le.jsx)(Dn,{title:"Tag",value:e.tag}),Object(le.jsx)(Dn,{title:"State",value:e.state}),Object(le.jsx)(Dn,{title:"Description",value:e.description}),Object(le.jsx)(AV,{metadata:e.metadata})]}),wV=({cerify:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Address",value:e.address}),Object(le.jsx)(Dn,{title:"Cleanup",value:e.cleanup}),e.mediaLocation&&e.mediaLocation.map(((e,t)=>Object(le.jsxs)(s.a.Fragment,{children:[Object(le.jsx)(Dn,{title:"Media Location Name",value:e.name}),Object(le.jsx)(Dn,{title:"Media Location Storage Method",variant:"list",value:e.storageMethod})]},t)))]}),VV=({directAccess:e})=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Dn,{title:"Filter",value:e.filter})}),UV=({externalTranscoder:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Source",value:e.source}),Object(le.jsx)(Dn,{title:"Destination",value:e.destination}),Object(le.jsx)(Dn,{title:"Shape Tag",value:e.shapeTag}),Object(le.jsx)(Dn,{title:"Timeout",value:e.timeout}),Object(le.jsx)(Dn,{title:"Interval",value:e.interval}),Object(le.jsx)(Dn,{title:"Checks",value:e.checks}),Object(le.jsx)(Dn,{title:"Regex",value:e.regex})]}),BV=({transcoder:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Type",value:e.type}),Object(le.jsx)(Dn,{title:"URL",value:e.url}),Object(le.jsx)(Dn,{title:"Version",value:e.version}),Object(le.jsx)(Dn,{title:"Reverse Address",value:e.reverseAddress}),Object(le.jsx)(Dn,{title:"Reverse Address Detected",value:e.reverseAddressDetected}),Object(le.jsx)(Dn,{title:"Direct Access"}),e.directAccess&&e.directAccess.map(((e,t)=>Object(le.jsx)(VV,{directAccess:e},t))),Object(le.jsx)(Dn,{title:"State",value:e.state}),Object(le.jsx)(Dn,{title:"Weight",value:e.weight}),Object(le.jsx)(Dn,{title:"Max Job",value:e.maxJob})]}),qV=({mxfserver:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URL",value:e.url}),Object(le.jsx)(Dn,{title:"Workspace Url",value:e.workspaceUrl}),Object(le.jsx)(Dn,{title:"User Workspace Url",value:e.userWorkspaceUrl}),Object(le.jsx)(Dn,{title:"MXFServer Workspace Path",value:e.mxfServerWorkspacePath}),Object(le.jsx)(Dn,{title:"MXFServer User Id",value:e.mxfServerUserId}),Object(le.jsx)(Dn,{title:"MXFServer Path To Storage",value:e.mxfServerPathToStorage}),Object(le.jsx)(Dn,{title:"Database Name",value:e.databaseName}),Object(le.jsx)(Dn,{title:"Storage ID",value:e.storageId}),Object(le.jsx)(Dn,{title:"Description",value:e.description}),Object(le.jsx)(Dn,{title:"Atom Shapes",value:e.atomShapes}),Object(le.jsx)(Dn,{title:"Import Shapes",value:e.importShapes}),Object(le.jsx)(Dn,{title:"Detect Atom",variant:"boolean",value:e.detectAtom}),Object(le.jsx)(Dn,{title:"Enforce Quota",variant:"boolean",value:e.enforceQuota}),Object(le.jsx)(Dn,{title:"File Import Pattern",value:e.fileImportPattern}),Object(le.jsx)(AV,{metadata:e.metadata})]}),GV=({signiant:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URL",value:e.url}),Object(le.jsx)(Dn,{title:"Tag",value:e.tag}),Object(le.jsx)(Dn,{title:"Username",value:e.username}),Object(le.jsx)(Dn,{title:"Password",value:e.password}),Object(le.jsx)(Dn,{title:"Description",value:e.description})]}),HV=({ldap:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"url",variant:"list",value:e.url}),Object(le.jsx)(Dn,{title:"Use StartTLS",value:e.useStartTLS}),Object(le.jsx)(Dn,{title:"User DN",value:e.userDN}),Object(le.jsx)(Dn,{title:"Username Attribute",value:e.usernameAttribute}),Object(le.jsx)(Dn,{title:"User Search Filter",value:e.userSearchFilter}),Object(le.jsx)(Dn,{title:"Bind DN",value:e.bindDN}),Object(le.jsx)(Dn,{title:"Bind Password",value:e.bindPassword}),Object(le.jsx)(Dn,{title:"Cache Lifetime",value:e.cacheLifetime}),Object(le.jsx)(Dn,{title:"Group DN",value:e.groupDN}),Object(le.jsx)(Dn,{title:"Group Search Filter",value:e.groupSearchFilter}),Object(le.jsx)(Dn,{title:"Real Name Attribute",value:e.realNameAttribute}),Object(le.jsx)(Dn,{title:"Groupname Attribute",value:e.groupnameAttribute}),Object(le.jsx)(Dn,{title:"Username Format",value:e.usernameFormat}),e.sync&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Create Users",variant:"boolean",value:e.sync.createUsers}),Object(le.jsx)(Dn,{title:"Create Groups",variant:"boolean",value:e.sync.createGroups})]})]}),zV=({cloudconvert:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Public Address",value:e.publicAddress}),Object(le.jsx)(Dn,{title:"API Host",value:e.apiHost}),Object(le.jsx)(Dn,{title:"API Key",value:e.apiKey}),Object(le.jsx)(Dn,{title:"Input Method",value:e.inputMethod}),Object(le.jsx)(Dn,{title:"Script",value:e.script})]}),JV=({vidinet:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URL",value:e.url}),Object(le.jsx)(Dn,{title:"Name",value:e.name}),Object(le.jsx)(Dn,{title:"Endpoint",value:e.endpoint}),Object(le.jsx)(Dn,{title:"State",value:e.state}),Object(le.jsx)(Dn,{title:"Scheme",variant:"list",value:e.scheme})]}),KV=({eidr:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URL",value:e.url}),Object(le.jsx)(Dn,{title:"Include",variant:"list",value:e.include}),Object(le.jsx)(Dn,{title:"Party ID",value:e.partyId}),Object(le.jsx)(Dn,{title:"User ID",value:e.userId}),Object(le.jsx)(Dn,{title:"Password",value:e.password})]}),YV=({resourceType:e,resourceDocument:t})=>{switch(e){case"network":return Object(le.jsx)(WV,{network:t.network});case"transcoder":return Object(le.jsx)(BV,{transcoder:t.transcoder});case"externalTranscoder":return Object(le.jsx)(UV,{externalTranscoder:t.externalTranscoder});case"cerify":return Object(le.jsx)(wV,{cerify:t.cerify});case"thumbnail":return Object(le.jsx)(LV,{thumbnail:t.thumbnail});case"finalcutserver":return Object(le.jsx)(_V,{finalcutserver:t.finalcutserver});case"mxfserver":return Object(le.jsx)(qV,{mxfserver:t.mxfserver});case"signiant":return Object(le.jsx)(GV,{signiant:t.signiant});case"ldap":return Object(le.jsx)(HV,{ldap:t.ldap});case"cloudconvert":return Object(le.jsx)(zV,{cloudconvert:t.cloudconvert});case"vidinet":return Object(le.jsx)(JV,{vidinet:t.vidinet});case"eidr":return Object(le.jsx)(KV,{eidr:t.eidr});default:return null}};function XV({resourceType:e,resourceDocument:t}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"ID",value:t.id}),Object(le.jsx)(YV,{resourceType:e,resourceDocument:t})]})}const $V="EDIT_RESOURCE_FORM";class QV extends s.a.PureComponent{constructor(e){super(e),this.toggleEdit=this.toggleEdit.bind(this),this.state={isEditing:!1}}toggleEdit(){const{isEditing:e}=this.state;this.setState({isEditing:!e})}render(){const{resourceType:e,resourceId:t,resourceDocument:n,submitForm:o,onRefresh:a,openSnackBar:s}=this.props,{isEditing:r}=this.state,c={resourceDocument:n};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{action:Object(le.jsx)($.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(re.a,{control:Object(le.jsx)(se.a,{color:"primary"}),label:"Edit",checked:r,onChange:this.toggleEdit})})})}),Object(le.jsx)(Le.a,{children:r?Object(le.jsx)(TF,{form:$V,initialValues:c,onSubmit:NF,onSubmitSuccess:()=>{this.toggleEdit();s({messageContent:"Resource Saved"}),a&&a()},onSubmitFail:()=>{s({messageContent:"Error Updating Resource",messageColor:"secondary"})},resourceId:t,resourceType:e}):Object(le.jsx)(XV,{resourceDocument:n,resourceType:e})}),r&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(le.jsx)(Oe.a,{onClick:()=>o($V),size:"small",color:"primary",children:"Save"})]})]})]})}}const ZV={submitForm:Ct.f,openSnackBar:o.openSnackBar};var eU=Object(i.b)(null,ZV)(QV);function tU({resourceType:e,resourceId:t,resourceDocument:n,onRefresh:o}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(eU,{resourceId:t,resourceType:e,resourceDocument:n,onRefresh:o})})})}function nU({closeModal:e,isOpen:t,resourceId:n,resourceType:o,history:a,openSnackBar:s}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove ".concat(ot()(o),' "').concat(n,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.resource.removeResource({resourceId:n,resourceType:o}).then((()=>{const t="".concat(o," ").concat(n," Removed");s({messageContent:t}),a.push("/resource/".concat(o)),e()})).catch((()=>{s({messageContent:"Error Removing Resource",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const oU="RESOURCELIST_CODE_MODAL",aU="RESOURCE_REMOVE_MODAL";class sU extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={resourceDocument:void 0}}componentDidMount(){const{resourceType:e,resourceId:t}=this.props;document.title="VidiCore Admin | Resource | ".concat(ot()(e)," | ").concat(t),this.onRefresh()}onRefresh(){const{openSnackBar:e,resourceType:t,resourceId:n}=this.props;try{W.resource.getResource({resourceType:t,resourceId:n}).then((e=>this.setState({resourceDocument:e.data})))}catch(o){e({messageContent:"Error Loading Resource",messageColor:"secondary"})}}render(){const{resourceType:e,resourceId:t,modalName:n,closeModal:o,openModal:a,openSnackBar:s,history:r}=this.props,{resourceDocument:c}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(MV,{openCode:()=>a({modalName:oU}),openRemove:()=>a({modalName:aU}),onRefresh:this.onRefresh,resourceType:e,resourceId:t}),c&&Object(le.jsx)(tU,{onRefresh:this.onRefresh,resourceType:e,resourceId:t,resourceDocument:c}),Object(le.jsx)(Me,{isOpen:n===oU,toggleDialogue:o,code:c,title:"ResourceDocument"}),Object(le.jsx)(nU,{isOpen:n===aU,resourceType:e,resourceId:t,openSnackBar:s,closeModal:o,history:r})]})}}const rU={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var cU=Object(i.b)((function(e,t){const{resourceType:n,resourceId:o}=t.match.params,{ui:{modalName:a}}=e;return{modalName:a,resourceType:n,resourceId:o}}),rU)(sU);function iU({openCode:e,openCreate:t,onRefresh:n}){return Object(le.jsx)(Ae,{title:"Storage Group",onRefresh:n,openCode:e,openAction:t})}function lU({storageGroup:e}){const{name:t}=e;return Object(le.jsx)(at,{hover:!0,to:"/storage-group/".concat(t,"/"),children:Object(le.jsx)(Be.a,{children:t})})}function jU({storageGroupListDocument:e={}}){const{group:t=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Be.a,{children:"Storage Group Name"})})}),Object(le.jsx)(Ue.a,{children:t.map((e=>Object(le.jsx)(lU,{storageGroup:e},e.name)))})]})}function dU({storageGroupListDocument:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(jU,{storageGroupListDocument:e})})})}const mU=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($t.a,{name:"name",component:_t,label:"Group Name",fullWidth:!0})});var hU=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"storageGroupDocument",component:mU}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function uU(e){const{storageGroupDocument:t}=e,{name:n}=t;return W.storagegroup.createStorageGroup({groupName:n}).then((()=>({storageGroupDocument:t}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function bU(e,t,n){const{groupName:o}=n,{storageId:a}=e;return W.storagegroup.addStorageGroupStorage({storageId:a,groupName:o}).then((()=>({storageId:a}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const pU="EDIT_STORAGEGROUP_FORM";const OU={submitForm:Ct.f,openSnackBar:o.openSnackBar};var xU=Object(i.b)(null,OU)((function({submitForm:e,closeModal:t,isOpen:n,history:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Storage Group"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(hU,{form:pU,onSubmit:uU,onSubmitSuccess:e=>{const{storageGroupDocument:n}=e,{name:s}=n,r="Storage Group ".concat(s," Created");a({messageContent:r}),o.push("/storage-group/".concat(s,"/")),t()},onSubmitFail:()=>{a({messageContent:"Error Creating Storage Group",messageColor:"secondary"})}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(pU),children:"Save"})]})]})}));const gU="STORAGEGROUP_LIST_CODE_MODAL",fU="STORAGEGROUP_CREATE_MODAL";class vU extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={storageGroupListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Storage Group",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.storagegroup.listStorageGroup().then((e=>this.setState({storageGroupListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Storage Group List",messageColor:"secondary"})}}render(){const{modalName:e,closeModal:t,openModal:n,history:o}=this.props,{storageGroupListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(iU,{openCode:()=>n({modalName:gU}),openCreate:()=>n({modalName:fU}),onRefresh:this.onRefresh}),a&&Object(le.jsx)(dU,{storageGroupListDocument:a}),Object(le.jsx)(Me,{isOpen:e===gU,toggleDialogue:t,code:a,title:"StorageGroupListDocument"}),Object(le.jsx)(xU,{isOpen:e===fU,closeModal:t,history:o})]})}}const yU={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var CU=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),yU)(vU);function SU({groupName:e,openCode:t,onRefresh:n,openRemove:o,openAddStorage:a}){return Object(le.jsx)(Ae,{parentTitle:"Storage Group",parentTo:"/storage-group/",title:e,onRefresh:n,openCode:t,actionComponent:Object(le.jsxs)(oi,{children:[Object(le.jsx)(Xn.a,{onClick:a,children:Object(le.jsx)(X.a,{children:"Add Storage"})}),Object(le.jsx)(Xn.a,{onClick:o,children:Object(le.jsx)(X.a,{color:"error",children:"Remove Storage Group"})})]})})}function IU({storageDocument:e}){const{freeCapacity:t,capacity:n}=e,o=Math.round(t/n*100);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Type",value:e.type}),Object(le.jsx)(Dn,{title:"State",value:e.state}),Object(le.jsx)(Dn,{title:"Capacity",value:"".concat(dn(e.capacity)," (").concat(o,"% Available)")})]})}function RU({closeModal:e,isOpen:t,groupName:n,storageId:o,onRefresh:a,openSnackBar:s}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Storage "'.concat(o,'" From Storage Group "').concat(n,'"?')}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Zd.a,{children:"This operation does not delete the actual storages."})}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.storagegroup.removeStorageGroupStorage({groupName:n,storageId:o}).then((()=>{const t="Storage ".concat(o," Removed");s({messageContent:t}),e(),a()})).catch((()=>{s({messageContent:"Error Removing Storage",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}const DU="STORAGEGROUP_STORAGE_REMOVE_MODAL";const FU={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var TU=Object(i.b)((function(e){const{ui:{modalName:t}}=e;return{modalName:t}}),FU)(Object(d.i)((function({storageDocument:e,openModal:t,modalName:n,openSnackBar:o,closeModal:a,groupName:s,onRefresh:r,storageId:c,history:i}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(We.a,{subheader:e.id,action:Object(le.jsx)(w.a,{onClick:()=>t({modalName:DU}),children:Object(le.jsx)(Bt.a,{})})}),Object(le.jsx)(Le.a,{onClick:()=>i.push("/storage/".concat(c)),children:Object(le.jsx)(IU,{storageDocument:e})}),Object(le.jsx)(RU,{isOpen:n===DU,groupName:s,storageId:c,openSnackBar:o,closeModal:a,onRefresh:r})]})})));function EU({groupName:e,storageDocument:t,onRefresh:n,storageId:o}){return Object(le.jsx)(we,{children:Object(le.jsx)(TU,{storageId:o,groupName:e,storageDocument:t,onRefresh:n})})}function PU({groupName:e,storageGroupDocument:t,onRefresh:n}){const{data:o,storage:a=[]}=t;return Object(le.jsxs)(le.Fragment,{children:[a.map((t=>Object(le.jsx)(EU,{storageId:t.id,groupName:e,storageDocument:t,onRefresh:n},t.id))),Object(le.jsx)(we,{children:Object(le.jsx)(iw,{simpleMetadataList:o,entityType:"storage/storage-group",entityId:e,onSuccess:n,editable:!0})})]})}function NU({closeModal:e,isOpen:t,groupName:n,history:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:t,onClose:e,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Storage Group "'.concat(n,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:e,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.storagegroup.removeStorageGroup({groupName:n}).then((()=>{const t="Storage Group ".concat(n," Removed");a({messageContent:t}),o.push("/storage-group/"),e()})).catch((()=>{a({messageContent:"Error Removing Storage Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var kU=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)($t.a,{name:"storageId",component:_t,label:"Storage ID",fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const MU="EDIT_STORAGEGROUP_STORAGE_FORM";const AU={submitForm:Ct.f,openSnackBar:o.openSnackBar};var LU=Object(i.b)(null,AU)((function({submitForm:e,closeModal:t,isOpen:n,onRefresh:o,openSnackBar:a,groupName:s}){return Object(le.jsxs)(xe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Storage To Group"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(kU,{form:MU,groupName:s,onSubmit:bU,onSubmitSuccess:e=>{const{storageId:n}=e,s="Storage ".concat(n," Added");a({messageContent:s}),t(),o()},onSubmitFail:()=>{a({messageContent:"Error Adding Storage Group",messageColor:"secondary"})}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(MU),children:"Save"})]})]})}));const WU="STORAGEGROUP_CODE_MODAL",_U="STORAGEGROUP_REMOVE_MODAL",wU="STORAGEGROUP_STORAGE_ADD_MODAL";class VU extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={storageGroupDocument:void 0}}componentDidMount(){const{groupName:e}=this.props;document.title="VidiCore Admin | Storage Group | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,groupName:t}=this.props;try{W.storagegroup.getStorageGroup({groupName:t}).then((e=>this.setState({storageGroupDocument:e.data})))}catch(n){e({messageContent:"Error Loading Storage Group",messageColor:"secondary"})}}render(){const{groupName:e,modalName:t,closeModal:n,openModal:o,openSnackBar:a,history:s}=this.props,{storageGroupDocument:r}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(SU,{openCode:()=>o({modalName:WU}),openRemove:()=>o({modalName:_U}),openAddStorage:()=>o({modalName:wU}),onRefresh:this.onRefresh,groupName:e}),r&&Object(le.jsx)(PU,{onRefresh:this.onRefresh,groupName:e,storageGroupDocument:r}),Object(le.jsx)(Me,{isOpen:t===WU,toggleDialogue:n,code:r,title:"StorageGroupDocument"}),Object(le.jsx)(NU,{isOpen:t===_U,groupName:e,openSnackBar:a,closeModal:n,history:s}),Object(le.jsx)(LU,{isOpen:t===wU,closeModal:n,groupName:e,onRefresh:this.onRefresh})]})}}const UU={openSnackBar:o.openSnackBar,closeModal:o.closeModal,openModal:o.openModal};var BU=Object(i.b)((function(e,t){const{groupName:n}=t.match.params,{ui:{modalName:o}}=e;return{modalName:o,groupName:n}}),UU)(VU);function qU({...e}){return Object(le.jsx)(Ae,{title:"Auto Import Rule",helpTo:"/storage/auto-import.html",...e})}function GU({autoImportRule:e}){const{storage:t}=e;return Object(le.jsxs)(at,{hover:!0,to:"/auto-import/".concat(t,"/"),children:[Object(le.jsx)(Be.a,{children:t}),Object(le.jsx)(Be.a,{})]})}function HU({autoImportRuleListDocument:e={}}){const{rule:t=[]}=e;return Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"Storage ID"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:t.map((e=>Object(le.jsx)(GU,{autoImportRule:e},e.storage)))})]})}function zU({autoImportRuleListDocument:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(HU,{autoImportRuleListDocument:e})})})}const JU=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"pattern",label:"Filter Pattern",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"tag",label:"Filter Tag",component:Ta,simple:!0,fullWidth:!0})]}),KU=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"storage",label:"Storage ID",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"enabled",component:en}),label:"Enabled"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"fileNameAsTitle",component:en}),label:"File Name As Title"}),Object(le.jsx)(re.a,{control:Object(le.jsx)($t.a,{name:"ignoreSidecarImport",component:en}),label:"Ignore Sidecar Import"}),Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)($t.a,{name:"resourceId",label:"Resource ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"settingsId",label:"Settings ID",component:_t,fullWidth:!0}),Object(le.jsx)($t.a,{name:"projection",label:"Projection",component:_t,fullWidth:!0}),Object(le.jsx)(xh,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),Object(le.jsx)(Yt,{name:"excludeFilter",label:"Exclude Filter",component:JU}),Object(le.jsx)(Yt,{name:"shapeTagFilter",label:"Shape Tag Filter",component:JU}),Object(le.jsx)(wt.a,{name:"jobmetadata",component:pi,label:"Job Metadata"}),Object(le.jsx)(wt.a,{name:"metadata",component:vg})]});var YU=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"autoImportRuleDocument",component:KU}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function XU(e,t,n){const{autoImportRuleDocument:o}=e,a=n.storageId||o.storage;return W.autoimport.updateAutoImport({storageId:a,autoImportRuleDocument:o}).then((()=>({autoImportRuleDocument:o}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}var $U=ue((function({open:e,onClose:t,history:n,openSnackBar:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Auto Import Rule"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(zc,{FormComponent:YU,documentName:"autoImportRuleDocument",onSubmit:XU,onSubmitSuccess:e=>{const{autoImportRuleDocument:a}=e,{storage:s}=a,r="Auto Import Rules For ".concat(s," Created");o({messageContent:r}),n.push("/auto-import/".concat(s,"/")),t()},onSubmitFail:()=>{o({messageContent:"Error Creating Auto Import Rule",messageColor:"secondary"})},onCancel:t})})]})}));const QU="AUTOIMPORT_CREATE_MODAL";class ZU extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={autoImportRuleListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Auto Import",this.onRefresh()}onRefresh(){const{openSnackBar:e}=this.props;try{W.autoimport.listAutoImport().then((e=>this.setState({autoImportRuleListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Auto Import Rules",messageColor:"secondary"})}}render(){const{autoImportRuleListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(qU,{onRefresh:this.onRefresh,code:e,codeModal:"AutoImportRuleListDocument",createModal:QU}),e&&Object(le.jsx)(zU,{autoImportRuleListDocument:e}),Object(le.jsx)($U,{dialogName:QU})]})}}var eB=he(ZU);function tB({storageId:e,...t}){return Object(le.jsx)(Ae,{title:e,parentTitle:"Auto Import Rule",parentTo:"/auto-import/",helpTo:"/storage/auto-import.html",...t})}const nB=e=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Pattern",value:e.pattern}),Object(le.jsx)(Dn,{title:"Tag",variant:"list",value:e.tag})]}),oB=({rule:e})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Storage ID",variant:"storageId",value:e.storage,hover:!0}),Object(le.jsx)(Dn,{title:"Enabled",variant:"boolean",value:e.enabled,hover:!0}),Object(le.jsx)(Dn,{title:"File Name As Title",variant:"boolean",value:e.fileNameAsTitle,hover:!0}),Object(le.jsx)(Dn,{title:"Ignore Sidecar Import",variant:"boolean",value:e.ignoreSidecarImport,hover:!0}),Object(le.jsx)(Dn,{title:"Shape Tags",variant:"list",value:e.tag,hover:!0}),Object(le.jsx)(Dn,{title:"Resource ID",value:e.resourceId,hover:!0}),Object(le.jsx)(Dn,{title:"Settings ID",value:e.settingsId,hover:!0}),Object(le.jsx)(Dn,{title:"Projection",value:e.projection,hover:!0}),Object(le.jsx)(Dn,{title:"User",variant:"user",value:e.user,hover:!0}),e.excludeFilter&&Object(le.jsx)(En,{title:"Exclude Filter",value:e.excludeFilter,component:nB,hover:!0}),e.shapeTagFilter&&Object(le.jsx)(En,{title:"Shape Tag Filter",value:e.shapeTagFilter,component:nB,hover:!0}),e.jobmetadata&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(X.a,{variant:"caption",children:"Job Metadata"}),Object(le.jsx)(yi,{simpleMetadata:e.jobmetadata})]}),e.metadata&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(X.a,{variant:"caption",children:"Metadata"}),Object(le.jsx)(Ig,{value:e.metadata})]})]});function aB({autoImportRuleDocument:e}){return Object(le.jsx)(oB,{rule:e})}const sB={openSnackBar:o.openSnackBar};var rB=Object(i.b)(null,sB)((function({autoImportRuleDocument:e,storageId:t,openSnackBar:n,onRefresh:o}){const a={storageId:t},s={autoImportRuleDocument:e},r={autoImportRuleDocument:e};return Object(le.jsx)(Ft,{formName:"EDIT_AUTOIMPORTRULE_FORM",onSubmitSuccess:()=>{n({messageContent:"Auto Import Rule Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Auto Import Rule",messageColor:"secondary"})},onSubmit:XU,formComponent:YU,formProps:a,displayComponent:aB,displayProps:s,initialValues:r})}));function cB({storageId:e,autoImportRuleDocument:t,onRefresh:n}){return Object(le.jsx)(we,{children:Object(le.jsx)(rB,{storageId:e,autoImportRuleDocument:t,onRefresh:n})})}var iB=ue((function({open:e,onClose:t,storageId:n,history:o,openSnackBar:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Auto Import Rule From "'.concat(n,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.autoimport.removeAutoImport({storageId:n}).then((()=>{const e="Auto Import Rule ".concat(n," Removed");a({messageContent:e}),o.push("/auto-import/"),t()})).catch((()=>{a({messageContent:"Error Removing Storage Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const lB="AUTOIMPORTRULE_REMOVE_MODAL";class jB extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={autoImportRuleDocument:void 0}}componentDidMount(){const{storageId:e}=this.props;document.title="VidiCore Admin | Auto Import Rule | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,storageId:t}=this.props;try{W.autoimport.getAutoImport({storageId:t}).then((e=>this.setState({autoImportRuleDocument:e.data})))}catch(n){e({messageContent:"Error Loading Auto Import Rule",messageColor:"secondary"})}}render(){const{storageId:e}=this.props,{autoImportRuleDocument:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(tB,{removeModal:lB,onRefresh:this.onRefresh,storageId:e,code:t,codeModal:"AutoImportRuleDocument"}),t&&Object(le.jsx)(cB,{onRefresh:this.onRefresh,storageId:e,autoImportRuleDocument:t}),Object(le.jsx)(iB,{dialogName:lB,storageId:e})]})}}var dB=he(jB);function mB(e){return Object(le.jsx)(Ae,{title:"Stack Trace",helpTo:"/ref/vidispine-service.html",...e})}function hB({stacktrace:e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:e?Object(le.jsx)(Dn,{value:e,variant:"code"}):Object(le.jsx)($.a,{container:!0,justifyContent:"center",children:Object(le.jsx)(Xr.a,{size:100,color:"secondary"})})})})}class uB extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={stacktrace:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Stack Trace"}onRefresh(){const{openSnackBar:e}=this.props;this.setState({stacktrace:void 0});try{W.service.getStackTrace().then((e=>this.setState({stacktrace:e.data})))}catch(t){e({messageContent:"Error Loading Stack Trace",messageColor:"secondary"})}}render(){const{stacktrace:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(mB,{onRefresh:this.onRefresh}),Object(le.jsx)(hB,{onRefresh:this.onRefresh,stacktrace:e})]})}}var bB=he(uB);function pB(e){return Object(le.jsx)(Ae,{title:"Transfer",helpTo:"/ref/transfer.html",...e})}function OB(e,t,n){const o=n.transferId||e.transferId,{queryParams:a}=e;return W.transfer.updateTransferPriority({transferId:o,queryParams:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function xB(e){const{queryParams:t,matrixParams:n={}}=e;return W.transfer.listTransfer({queryParams:t,matrixParams:Object.entries(n)}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const gB=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsxs)(Zt,{name:"state",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"TRANSFERRING",children:"Transferring"}),Object(le.jsx)(Xn.a,{value:"WAITING",children:"Waiting"}),Object(le.jsx)(Xn.a,{value:"FINISHED",children:"Finished"}),Object(le.jsx)(Xn.a,{value:"ABORTED",children:"Aborted"}),Object(le.jsx)(Xn.a,{value:"FAILED",children:"Failed"}),Object(le.jsx)(Xn.a,{value:"FINISHED_PART",children:"Finished Part"})]})]});var fB=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:gB}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var vB=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s="TRANSFER_FILTER_FORM"}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(fB,{form:s,onSubmit:xB,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Listing Transfers",messageColor:"secondary"})},onCancel:e,initialValues:{queryParams:{state:"FINISHED"}}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>o(s),children:"Filter"})]})]})}));function yB({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(vB,{...e})})})}function CB({transferDocument:e={},onOpen:t}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.name}),Object(le.jsx)(uo,{children:e.state}),Object(le.jsx)(uo,{children:e.priority}),Object(le.jsx)(uo,{children:dn(e.transferred)}),Object(le.jsx)(uo,{children:Object(le.jsx)(un,{to:"/file/".concat(e.fileId,"/"),children:e.fileId})}),Object(le.jsx)(uo,{disableOnClick:!0,children:["TRANSFERRING","WAITING"].includes(e.state)&&Object(le.jsx)(w.a,{onClick:()=>t({transferDocument:e}),children:Object(le.jsx)(fo.a,{})})})]})})}const SB=()=>Object(le.jsx)(Zt,{name:"transferPriority",component:_t,type:"number",fullWidth:!0});var IB=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:SB}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const RB="TRANSFER_PRIORITY_FORM";var DB=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,openSnackBar:o,submitForm:a,transferDocument:s}){if(void 0===s)return null;const{name:r,priority:c}=s;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Change Transfer Priority"}),Object(le.jsx)(Lo,{children:Object(le.jsx)(IB,{form:RB,onSubmit:OB,onSubmitSuccess:(e,a,s)=>{o({messageContent:"Transfer Updated"}),n&&n(e,a,s),t()},onSubmitFail:()=>{o({messageContent:"Error Updating Transfer",messageColor:"secondary"})},onCancel:t,transferId:r,initialValues:{priority:c}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(RB),children:"Save"})]})]})}));const FB="TRANSFER_PRIORITY_DIALOG";var TB=xo((function({transferListDocument:e,onSuccess:t,dialogProps:n,onOpen:o}){const{transfer:a=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Name"}),Object(le.jsx)(uo,{children:"State"}),Object(le.jsx)(uo,{children:"Priority"}),Object(le.jsx)(uo,{children:"Transferred"}),Object(le.jsx)(uo,{children:"File Id"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:a.map((e=>Object(le.jsx)(CB,{transferDocument:e,onOpen:o(FB)},e.name)))})]}),Object(le.jsx)(DB,{...n,dialogName:FB,onSuccess:t})]})}));function EB({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(TB,{...e})})})}const PB="TRANSFER_FILTER_FORM";class NB extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={transferListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Transfers",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(PB)}onSuccess(e){this.setState({transferListDocument:e.data})}render(){const{transferListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(pB,{code:e,codeModal:"TransferListDocument",onRefresh:this.onRefresh}),Object(le.jsx)(yB,{form:PB,onSuccess:this.onSuccess}),e&&Object(le.jsx)(EB,{transferListDocument:e,onSuccess:this.onRefresh})]})}}var kB=Mo(NB);const MB=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"methodType",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"storageType",children:"StorageType"}),Object(le.jsx)(Zt,{name:"storageType",component:Lt,children:lc.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Zt,{name:"methodMetadata",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"scheme",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includePlaceholder",component:en}),label:"Include Placeholder"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"transient",component:en}),label:"Transient"})]});var AB=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:MB})]})}));const LB="SHAPE_PARAMS_FORM";var WB=Object(m.c)(he,Mo)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,itemId:r,shapeId:c,...i}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape Display Options"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(AB,{form:LB,onSubmit:Lf,onSubmitSuccess:(e,n,a)=>{o({messageContent:"Shape Display Updated"}),t&&t(e,n,a)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Updating Shape Display",messageColor:"secondary"}),n&&n(e,t,a)},itemId:r,shapeId:c,...i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(LB),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(LB),children:"Update"})]})]})}));const _B=e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})};function wB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId;return W.component.createComponent({itemId:o,shapeId:a,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function VB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId;return W.component.createComponentPlaceholder({itemId:o,shapeId:a,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function UB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId;return W.component.removeComponent({itemId:o,shapeId:a,componentId:s,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function BB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId,r=n.targetItemId||e.targetItemId,c=n.targetShapeId||e.targetShapeId,i=n.targetComponentId||e.targetComponentId;return W.component.copyComponent({itemId:o,shapeId:a,componentId:s,targetItemId:r,targetShapeId:c,targetComponentId:i,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function qB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId,r=n.targetItemId||e.targetItemId,c=n.targetShapeId||e.targetShapeId,i=n.targetComponentId||e.targetComponentId;return W.component.moveComponent({itemId:o,shapeId:a,componentId:s,targetItemId:r,targetShapeId:c,targetComponentId:i,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function GB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId,r=n.targetItemId||e.targetItemId,c=n.targetShapeId||e.targetShapeId;return W.component.moveComponentToShape({itemId:o,shapeId:a,componentId:s,targetItemId:r,targetShapeId:c,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function HB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId,r=n.targetItemId||e.targetItemId,c=n.targetShapeId||e.targetShapeId;return W.component.copyComponentToShape({itemId:o,shapeId:a,componentId:s,targetItemId:r,targetShapeId:c,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function zB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId,r=n.fileId||e.fileId;return W.component.addComponentFile({itemId:o,shapeId:a,componentId:s,fileId:r,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function JB(e,t,n){try{const{queryParams:t}=e,o=n.itemId||e.itemId,a=n.shapeId||e.shapeId,s=n.componentId||e.componentId,r=n.fileId||e.fileId;return W.component.removeComponentFile({itemId:o,shapeId:a,componentId:s,fileId:r,queryParams:t}).catch(_B)}catch(o){return _B(o)}}function KB(e,t,n){try{const{queryParams:t,analyzeJobDocument:o}=e,a=n.itemId||e.itemId,s=n.shapeId||e.shapeId,r=n.componentId||e.componentId;return W.component.createComponentAnalyze({itemId:a,shapeId:s,componentId:r,analyzeJobDocument:o,queryParams:t}).catch(_B)}catch(o){return _B(o)}}const YB=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"keepFiles",component:en}),label:"keepFiles"})});var XB=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:YB}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var $B=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,form:l="SHAPE_COMPONENT_DELETE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Delete Component ".concat(i)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(XB,{form:l,onSubmit:UB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Shape Component"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Deleting Component",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>s(l),children:"Delete"})]})]})}));const QB=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"otif",label:"otif",component:xl})}),ZB=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Yt,{name:"otif",label:"otif",component:xl})}),eq=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"model",component:_t,fullWidth:!0})}),tq=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"aspect",component:_t,fullWidth:!0})}),nq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"tone",label:"tone",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"stream",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"channel",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"thresh",component:_t,type:"number",fullWidth:!0})]});var oq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Xt,{name:"black",label:"Black",component:()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"threshold",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"percentage",component:_t,type:"number",fullWidth:!0})]})}),Object(le.jsx)(Xt,{name:"bars",label:"Bars",component:()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"threshold",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"percentage",component:_t,type:"number",fullWidth:!0})]})}),Object(le.jsx)(Xt,{name:"freeze",label:"Freeze",component:()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"threshold",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"time",component:_t,type:"number",fullWidth:!0})]})}),Object(le.jsx)(Yt,{name:"channel",label:"channel",component:nq}),Object(le.jsx)(Xt,{name:"audio",label:"Audio",component:QB}),Object(le.jsx)(Xt,{name:"video",label:"Video",component:ZB}),Object(le.jsx)(Xt,{name:"highlighter",label:"Highlighter",component:eq}),Object(le.jsx)(Xt,{name:"smartcrop",label:"SmartCrop",component:tq})]});const aq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageId",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"callbackId",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});var sq=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:aq}),Object(le.jsx)(Xt,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:oq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var rq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,form:l="SHAPE_COMPONENT_ANALYZE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Start Component Analyze Job"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(sq,{form:l,onSubmit:KB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Analyze Job Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(l),children:"Start"})]})]})}));const cq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"index",label:"Track Index",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"updateMetadata",component:en}),label:"updateMetadata"})]});var iq=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetItemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetShapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetComponentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:cq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var lq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,form:l="SHAPE_COMPONENT_COPY_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Copy Component"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(iq,{form:l,onSubmit:BB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Component Copied"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Copying Component",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(l),children:"Copy"})]})]})}));const jq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"index",label:"Track Index",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"updateMetadata",component:en}),label:"updateMetadata"})]});var dq=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetItemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetShapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:jq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var mq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,form:l="SHAPE_COMPONENT_COPY_SHAPE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Copy Component To Shape"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(dq,{form:l,onSubmit:HB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Component Copied"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Copying Component",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(l),children:"Copy"})]})]})}));const hq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"index",label:"Track Index",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"updateMetadata",component:en}),label:"updateMetadata"})]});var uq=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetItemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetShapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetComponentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:hq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var bq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,form:l="SHAPE_COMPONENT_MOVE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Move Component"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(uq,{form:l,onSubmit:qB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Component Moved"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Moving Component",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(l),children:"Move"})]})]})}));const pq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"index",label:"Track Index",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"updateMetadata",component:en}),label:"updateMetadata"})]});var Oq=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetItemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"targetShapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:pq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var xq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,form:l="SHAPE_COMPONENT_MOVE_SHAPE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Move Component To Shape"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(Oq,{form:l,onSubmit:GB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Component Moved"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Moving Component",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(l),children:"Move"})]})]})}));const gq=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowReimport",component:en}),label:"Allow Reimport"})});var fq=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a,fileId:s}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),!s&&Object(le.jsx)(Zt,{name:"fileId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:gq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var vq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,fileId:l,form:j="SHAPE_COMPONENT_ASSOCIATEFILE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Associate File With Component"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(fq,{form:j,onSubmit:zB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"File Added"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Adding Filet",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i,fileId:l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(j),children:"Add File"})]})]})}));var yq=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o,componentId:a,fileId:s}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),!a&&Object(le.jsx)(Zt,{name:"componentId",component:_t,validate:[Td],fullWidth:!0}),!s&&Object(le.jsx)(Zt,{name:"fileId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var Cq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,componentId:i,fileId:l,form:j="SHAPE_COMPONENT_UNASSOCIATEFILE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Unassociate File From Component"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(yq,{form:j,onSubmit:JB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"File Unassociated"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Unassociating File",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c,componentId:i,fileId:l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>s(j),children:"Unassociate File"})]})]})}));const Sq="ITEM_SHAPE_CREATE_DIALOG",Iq="SHAPE_COMPONENT_DELETE_DIALOG",Rq="SHAPE_COMPONENT_ANALYZE_DIALOG",Dq="SHAPE_COMPONENT_COPY_DIALOG",Fq="SHAPE_COMPONENT_COPY_SHAPE_DIALOG",Tq="SHAPE_COMPONENT_MOVE_DIALOG",Eq="SHAPE_COMPONENT_MOVE_SHAPE_DIALOG",Pq="SHAPE_COMPONENT_ASSOCIATE_FILE_DIALOG",Nq="SHAPE_COMPONENT_UNASSOCIATE_FILE_DIALOG";class kq extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={shapeDocument:void 0}}componentDidMount(){const{setOnRefresh:e}=this.props;e&&e(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t}){const{shapeId:n}=this.props;n!==e&&(this.onFetch(t,e),document.title="VidiCore Admin | Shape | ".concat(e))}onRefresh(){const{itemId:e,shapeId:t}=this.props;this.onFetch(e,t)}onFetch(e,t){try{W.shape.getShape({itemId:e,shapeId:t,queryParams:{includePlaceholder:!0}}).then((e=>this.setState({shapeDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Shape",messageColor:"secondary"})}onSuccess(e){const t=e.data;this.setState({shapeDocument:t})}render(){const{titleComponent:e,tabComponent:t,shapeId:n,itemId:o,history:a}=this.props,{shapeDocument:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:s,codeModal:"ShapeDocument",onRefresh:this.onRefresh,breadcrumbList:["Overview"],createShapeModal:Sq}),t&&Object(le.jsx)(t,{}),Object(le.jsx)(WB,{shapeId:n,itemId:o,onSuccess:this.onSuccess,initialValues:{queryParams:{includePlaceholder:!0}}}),s&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(qv,{shapeDocument:s,shapeId:n,itemId:o,onRefresh:this.onRefresh,ShapeComponentMenuProps:{removeModal:Iq,analyzeModal:Rq,copyToComponentModal:Dq,copyToShapeModal:Fq,moveToComponentModal:Tq,moveToShapeModal:Eq,associateFileModal:Pq,removeFileModal:Nq}}),Object(le.jsx)(PR,{dialogName:Sq,onSuccess:e=>a.push("/item/".concat(o,"/shape/").concat(e.data.id,"/")),itemId:o,initialValues:{shapeDocument:JSON.stringify(s,null,2)}}),Object(le.jsx)(lq,{dialogName:Dq,onSuccess:(e,t,n)=>a.push("/item/".concat(n.values.targetItemId,"/shape/").concat(e.data.id,"/")),itemId:o,shapeId:n}),Object(le.jsx)(mq,{dialogName:Fq,onSuccess:(e,t,n)=>a.push("/item/".concat(n.values.targetItemId,"/shape/").concat(e.data.id,"/")),itemId:o,shapeId:n}),Object(le.jsx)(bq,{dialogName:Tq,onSuccess:this.onRefresh,itemId:o,shapeId:n}),Object(le.jsx)(xq,{dialogName:Eq,onSuccess:this.onRefresh,itemId:o,shapeId:n}),Object(le.jsx)($B,{dialogName:Iq,shapeId:n,itemId:o,onSuccess:this.onRefresh,initialValues:{queryParams:{keepFiles:!0}}}),Object(le.jsx)(rq,{dialogName:Rq,shapeId:n,itemId:o,onSuccess:e=>a.push("/job/".concat(e.data.jobId,"/"))}),Object(le.jsx)(vq,{dialogName:Pq,shapeId:n,itemId:o,onSuccess:this.onRefresh}),Object(le.jsx)(Cq,{dialogName:Nq,shapeId:n,itemId:o,onSuccess:this.onRefresh})]})]})}}var Mq=he(kq);const Aq="BULKYMETADATA_SHAPE_DOWNLOAD_DIALOG";class Lq extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t,bulkyMetadataKey:n}){const{shapeId:o,bulkyMetadataKey:a}=this.props;o===e&&a===n||(this.onFetch(t,e,n),document.title="VidiCore Admin | Shape | ".concat(e))}onRefresh(){const{itemId:e,shapeId:t,bulkyMetadataKey:n}=this.props;this.onFetch(e,t,n)}onFetch(e,t,n){try{W.bulkymetadata.getShapeBulkyMetadata({itemId:e,shapeId:t,key:n}).then((e=>this.setState({bulkyMetadataDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,bulkyMetadataKey:n,itemId:o,shapeId:a}=this.props,{bulkyMetadataDocument:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:s,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:Object(d.f)("/item/:itemId/shape/:shapeId/bulky-metadata/",{itemId:o,shapeId:a})},n],downloadModal:Aq}),t&&Object(le.jsx)(t,{}),s&&Object(le.jsx)(eC,{bulkyMetadataDocument:s}),Object(le.jsx)(iC,{dialogName:Aq,itemId:o,shapeId:a,bulkyMetadataKey:n})]})}}var Wq=Object(m.c)(u,he)(Lq);class _q extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t}){const{shapeId:n}=this.props;n!==e&&(this.onFetch(t,e),document.title="VidiCore Admin | Shape | ".concat(e))}onRefresh(){const{itemId:e,shapeId:t}=this.props;this.onFetch(e,t)}onFetch(e,t){try{W.bulkymetadata.listShapeBulkyMetadata({itemId:e,shapeId:t}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,itemId:n,shapeId:o}=this.props,{uriListDocument:a}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:a,codeModal:"URIListDocument",onRefresh:this.onRefresh,breadcrumbList:["Bulky Metadata"]}),t&&Object(le.jsx)(t,{}),a&&Object(le.jsx)(ct,{uriListDocument:a,linkTo:e=>"/item/".concat(n,"/shape/").concat(o,"/bulky-metadata/").concat(e,"/")})]})}}var wq=he(_q);class Vq extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={graphImage:void 0,graphDot:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t}){const{shapeId:n}=this.props;n!==e&&(this.onFetch(t,e),document.title="VidiCore Admin | Shape | ".concat(e," | Graph"))}onRefresh(){const{itemId:e,shapeId:t}=this.props;this.onFetch(e,t)}onFetch(e,t){const{useGraphViz:n=!0}=this.props;try{n?W.shape.getShapeGraphDot({itemId:e,shapeId:t}).then((e=>{this.setState({graphDot:e.data})})).catch((e=>this.onRefreshError(e))):W.shape.getShapeGraph({itemId:e,shapeId:t,responseType:"blob"}).then((e=>{this.setState({graphImage:e.data})})).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:e,useGraphViz:t=!0}=this.props,{graphImage:n,graphDot:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{onRefresh:this.onRefresh,breadcumbList:["Graph"],code:o,codeModal:"DOT",codeVariant:"text"}),!1===t&&n?Object(le.jsx)("img",{alt:"graph",src:URL.createObjectURL(n),style:{width:"100%"}}):null,!0===t&&o?Object(le.jsx)(Pm,{dot:o,width:"100%",height:"80vh"}):null]})}}var Uq=he(Vq);class Bq extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={cpl:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t}){const{shapeId:n}=this.props;n!==e&&(this.onFetch(t,e),document.title="VidiCore Admin | Shape | ".concat(e," | CPL"))}onRefresh(){const{itemId:e,shapeId:t}=this.props;this.onFetch(e,t)}onFetch(e,t){try{W.shape.getShapeCpl({itemId:e,shapeId:t}).then((e=>{this.setState({cpl:e.data})})).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Shape",messageColor:"secondary"})}render(){const{titleComponent:e}=this.props,{cpl:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{onRefresh:this.onRefresh,breadcumbList:["CPL"]}),t&&Object(le.jsx)(Te,{value:Ee(t)||"",options:{readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}})]})}}var qq=he(Bq);const Gq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"methodType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"scheme",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"methodMetadata",label:"Method Metadata",component:Ea}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeItem",component:en}),label:"Include Item"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"closedFiles",component:en}),label:"Closed Files"})]});var Hq=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Gq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var zq=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s="SHAPE_FILE_PARAMS_FORM",initialValues:r={},itemId:c,shapeId:i}){return Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"File Params"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(Hq,{form:s,onSubmit:Wf,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Requesting File",messageColor:"secondary"})},onCancel:e,destroyOnUnmount:!1,initialValues:r,itemId:c,shapeId:i})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>o(s),children:"Update"})]})]})}));class Jq extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={fileListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t}){const{shapeId:n}=this.props;n!==e&&(this.onFetch(t,e),document.title="VidiCore Admin | Shape | ".concat(e," | File"))}onRefresh(){const{itemId:e,shapeId:t}=this.props;this.onFetch(e,t)}onFetch(e,t){try{W.shape.getShape({itemId:e,shapeId:t,path:"/API/item/".concat(e,"/shape/").concat(t,"/file")}).then((e=>{const t=e.data;this.setState({fileListDocument:t})})).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Shape",messageColor:"secondary"})}onSuccess(e){const t=e.data;this.setState({fileListDocument:t})}render(){const{titleComponent:e,itemId:t,shapeId:n}=this.props,{fileListDocument:o}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{onRefresh:this.onRefresh,breadcumbList:["Files"],code:o,codeModal:"FileListDocument"}),Object(le.jsx)(zq,{shapeId:n,itemId:t,onSuccess:this.onSuccess}),o&&Object(le.jsx)(IN,{fileListDocument:o})]})}}var Kq=he(Jq);const Yq=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"keepFiles",component:en}),label:"keepFiles"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"updateMetadata",component:en}),label:"updateMetadata"})]});var Xq=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Yq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const $q="SHAPE_DELETE_FORM";var Qq=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Delete Shape ".concat(c)}),Object(le.jsx)(Lo,{children:Object(le.jsx)(Xq,{form:$q,onSubmit:_f,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Shape Deleted"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Deleting Shape",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>s($q),children:"Delete"})]})]})}));const Zq="EDIT_SHAPE_TRANSCODE_FORM";var eG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Start Transcode"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(rR,{form:Zq,onSubmit:Vf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Transcode Job Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(Zq),children:"Start"})]})]})}));const tG=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"extractCc",children:"Extract closed captions as metadata"}),Object(le.jsxs)(Zt,{name:"extractCc",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"true",children:"true"}),Object(le.jsx)(Xn.a,{value:"mcc",children:"mcc"})]})]})," ",Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"ccFromVideo",component:en}),label:"Extract closed captions from video tracks as well as data tracks"}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]});var nG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:tG}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var oG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,form:i="SHAPE_DEDUCTION_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Start Shape Deduction"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(nG,{form:i,onSubmit:Uf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Shape Deduction Job Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Shape Deduction Job",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(i),children:"Start"})]})]})}));const aG=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"resourceId",label:"Transcoder ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageId",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});var sG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:aG}),Object(le.jsx)(Xt,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:oq}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const rG="SHAPE_ANALYZE_FORM";var cG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Start Shape Analyze Job"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(sG,{form:rG,onSubmit:Jf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Analyze Job Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(rG),children:"Start"})]})]})}));const iG=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"fileId",label:"File ID",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"uri",label:"URI",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowReimport",component:en}),label:"Allow Reimport"}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]});var lG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",label:"queryParams",component:iG}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const jG="SHAPE_ADD_COMPONENT_FORM";var dG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Import Component To Shape"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(lG,{form:jG,onSubmit:wB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Add Component Job Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Add Component Job",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(jG),children:"Start"})]})]})}));const mG=["container","audio","video","binary"],hG=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"type",children:"Type"}),Object(le.jsx)($t.a,{name:"type",component:Lt,children:mG.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)($t.a,{name:"index",label:"Track Index",component:_t,type:"number",fullWidth:!0})]});var uG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),void 0===n?Object(le.jsx)($t.a,{name:"itemId",label:"Item ID",component:_t,validate:[Td],required:!0,fullWidth:!0}):null,void 0===o?Object(le.jsx)($t.a,{name:"shapeId",label:"Shape ID",component:_t,validate:[Td],required:!0,fullWidth:!0}):null,Object(le.jsx)(Xt,{name:"queryParams",component:hG}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var bG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,form:i="SHAPE_CREATECOMPONENTPLACEHOLDER_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Create Component Placeholder"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(uG,{form:i,onSubmit:VB,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Component Placeholder Created"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Placeholder Component",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(i),children:"Create"})]})]})}));var pG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"tagName",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const OG="SHAPE_ADD_TAG_FORM";var xG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Shape Tags"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(pG,{form:OG,onSubmit:Bf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Shape Tag Added"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Adding Shape Tag",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(OG),children:"Add"})]})]})}));const gG="SHAPE_REMOVE_TAG_FORM";var fG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Shape Tags"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(pG,{form:gG,onSubmit:Hf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Shape Tag Removed"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Removing Shape Tag",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(gG),children:"Remove"})]})]})}));var vG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"mimeType",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var yG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,form:i="SHAPE_ADD_MIMETYPE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Add Mime-Type"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(vG,{form:i,onSubmit:qf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Mime-Type Added"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Adding Mime-Type",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(i),children:"Add"})]})]})}));var CG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Zt,{name:"mimeType",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var SG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,form:i="SHAPE_REMOVE_MIMETYPE_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Mime-Type"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(CG,{form:i,onSubmit:zf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Mime-Type Removed"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Removing Mime-Type",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>s(i),children:"Remove"})]})]})}));const IG=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"locationName",label:"Export Location",component:br,loadOptions:pR,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"metadata",component:en}),label:"Metadata Sidecar"}),Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalFilename",component:en}),label:"Use Original Filename"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalComponentFilename",component:en}),label:"Use Original Component Filename"}),Object(le.jsx)(Zt,{name:"start",label:"Start Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",label:"End Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowMissing",component:en}),label:"Allow Missing"}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0})]});var RG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:IG}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var DG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,form:i="SHAPE_EXPORT_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Export Shape"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(RG,{form:i,onSubmit:Kf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Export Started"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(i),children:"Start"})]})]})}));const FG=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"locationName",label:"Export Location",component:br,loadOptions:pR,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"metadata",component:en}),label:"Metadata Sidecar"}),Object(le.jsx)(Zt,{name:"projection",label:"Projection",component:br,loadOptions:Zu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",component:Ea,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(Yt,{name:"jobmetadata",component:Ea,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalFilename",component:en}),label:"Use Original Filename"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"useOriginalComponentFilename",component:en}),label:"Use Original Component Filename"}),Object(le.jsx)(Zt,{name:"start",label:"Start Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"end",label:"End Timecode",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowMissing",component:en}),label:"Allow Missing"}),Object(le.jsx)(Zt,{name:"track",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"cplTrack",label:"CPL Track",component:_t,fullWidth:!0})]});var TG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),!n&&Object(le.jsx)(Zt,{name:"itemId",component:_t,validate:[Td],fullWidth:!0}),!o&&Object(le.jsx)(Zt,{name:"shapeId",component:_t,validate:[Td],fullWidth:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:FG}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var EG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c,form:i="SHAPE_EXPORTIMP_FORM"}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Export Shape IMF Package"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(TG,{form:i,onSubmit:Yf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Export Started"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Starting Export",messageColor:"secondary"}),o&&o(e,t,n)},onCancel:t,itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(i),children:"Start"})]})]})}));const PG=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($t.a,{name:"container",label:"Container",component:_t,type:"number",fullWidth:!0,helperText:"Total Container Files"}),Object(le.jsx)($t.a,{name:"video",label:"Video",component:_t,type:"number",helperText:"Total Video Files",fullWidth:!0}),Object(le.jsx)($t.a,{name:"audio",label:"Audio",component:_t,helperText:"Total Audio Files",type:"number",fullWidth:!0}),Object(le.jsx)($t.a,{name:"binary",label:"Binary",component:_t,type:"number",fullWidth:!0,helperText:"Total Binary Files"}),Object(le.jsx)($t.a,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsx)($t.a,{name:"frameDuration",label:"Frame Duration",component:_t,type:"number",fullWidth:!0})]});var NG=Object(Tt.a)()((function({error:e,handleSubmit:t,itemId:n,shapeId:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),void 0===n?Object(le.jsx)($t.a,{name:"itemId",label:"Item ID",component:_t,validate:[Td],required:!0,fullWidth:!0}):null,void 0===o?Object(le.jsx)($t.a,{name:"shapeId",label:"Shape ID",component:_t,validate:[Td],required:!0,fullWidth:!0}):null,Object(le.jsx)(Xt,{name:"queryParams",component:PG}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const kG="SHAPE_PLACEHOLDERUPDATE_FORM";var MG=Object(m.c)(ue,Mo)((function({open:e,onClose:t,onSuccess:n,onFail:o,openSnackBar:a,submitForm:s,itemId:r,shapeId:c}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Update Placeholder Shape"}),Object(le.jsx)(fe.a,{style:{minHeight:200},children:Object(le.jsx)(NG,{form:kG,onSubmit:Gf,onSubmitSuccess:(e,o,s)=>{a({messageContent:"Placeholder Shape Updated"}),n&&n(e,o,s),t()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Updating Placeholder Shape",messageColor:"secondary"}),o&&o(e,t,n)},itemId:r,shapeId:c})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>s(kG),children:"Update"})]})]})}));const AG="SHAPE_REMOVE_DIALOG",LG="SHAPE_TRANSCODE_DIALOG",WG="SHAPE_ANALYZE_DIALOG",_G="SHAPE_ADD_TAG_DIALOG",wG="SHAPE_REMOVE_TAG_DIALOG",VG="SHAPE_ADD_MIMETYPE_DIALOG",UG="SHAPE_REMOVE_MIMETYPE_DIALOG",BG="SHAPE_ADD_COMPONENT_DIALOG",qG="SHAPE_EXPORT_DIALOG",GG="SHAPE_IMPEXPORT_DIALOG",HG="SHAPE_DEDUCTION_DIALOG",zG="SHAPE_PLACEHOLDERUPDATE_DIALOG",JG="SHAPE_CREATEPLACEHOLDERCOMPONENT_DIALOG",KG=[{listText:"Overview",component:Mq,path:"/item/:itemId/shape/:shapeId/",exact:!0},{listText:"Bulky Metadata",component:wq,path:"/item/:itemId/shape/:shapeId/bulky-metadata/"},{listText:"Files",component:Kq,path:"/item/:itemId/shape/:shapeId/file/"},{listText:"Graph",component:Uq,path:"/item/:itemId/shape/:shapeId/graph/"},{listText:"CPL",component:qq,path:"/item/:itemId/shape/:shapeId/cpl/"}],YG=({itemId:e,shapeId:t})=>Object(le.jsx)(hm.a,{children:KG.map((({path:n,listText:o,exact:a})=>Object(le.jsx)(zm,{secondary:o,to:Object(d.f)(n,{itemId:e,shapeId:t}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:a},n)))}),XG=e=>Object(le.jsxs)(d.d,{children:[Object(le.jsx)(d.b,{exact:!0,path:"/item/:itemId/shape/:shapeId/bulky-metadata/:bulkyMetadataKey",render:()=>Object(le.jsx)(Wq,{...e,title:"Bulky Metadata"}),...e}),KG.map((({path:t,component:n,listText:o,exact:a})=>Object(le.jsx)(d.b,{path:t,exact:a,render:()=>Object(le.jsx)(n,{...e,title:o})},t)))]});class $G extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{shapeId:e}=this.props;document.title="VidiCore Admin | Shape | ".concat(e)}onRefresh(){const{onRefresh:e}=this.state;e&&e()}setOnRefresh(e){this.setState({onRefresh:e})}render(){const{itemId:e,shapeId:t,history:n}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Gm,{shapeId:t,itemId:e,mainComponent:XG,listComponent:YG,defaultOpen:!0,titleComponent:n=>Object(le.jsx)(bv,{onRefresh:this.onRefresh,shapeId:t,itemId:e,removeModal:AG,transcodeModal:LG,deductionModal:HG,analyzeTagModal:WG,addTagModal:_G,removeTagModal:wG,addMimeTypeModal:VG,removeMimeTypeModal:UG,addComponentModal:BG,exportModal:qG,exportImpModal:GG,placeholderUpdateModal:zG,createPlaceholderComponentModal:JG,...n}),setOnRefresh:this.setOnRefresh}),Object(le.jsx)(Qq,{dialogName:AG,onSuccess:()=>n.push("/item/".concat(e)),itemId:e,shapeId:t}),Object(le.jsx)(eG,{dialogName:LG,onSuccess:e=>n.push("/job/".concat(e.data.jobId,"/")),itemId:e,shapeId:t}),Object(le.jsx)(oG,{dialogName:HG,onSuccess:e=>n.push("/job/".concat(e.data.jobId,"/")),itemId:e,shapeId:t}),Object(le.jsx)(cG,{dialogName:WG,onSuccess:e=>n.push("/job/".concat(e.data.jobId,"/")),itemId:e,shapeId:t}),Object(le.jsx)(dG,{dialogName:BG,onSuccess:e=>n.push("/job/".concat(e.data.jobId,"/")),itemId:e,shapeId:t}),Object(le.jsx)(xG,{dialogName:_G,onSuccess:this.onRefresh,itemId:e,shapeId:t}),Object(le.jsx)(fG,{dialogName:wG,onSuccess:this.onRefresh,itemId:e,shapeId:t}),Object(le.jsx)(yG,{dialogName:VG,onSuccess:this.onRefresh,itemId:e,shapeId:t}),Object(le.jsx)(SG,{dialogName:UG,onSuccess:this.onRefresh,itemId:e,shapeId:t}),Object(le.jsx)(MG,{dialogName:zG,onSuccess:this.onRefresh,itemId:e,shapeId:t}),Object(le.jsx)(bG,{dialogName:JG,onSuccess:this.onRefresh,itemId:e,shapeId:t}),Object(le.jsx)(DG,{dialogName:qG,onSuccess:e=>n.push("/job/".concat(e.data.jobId,"/")),itemId:e,shapeId:t}),Object(le.jsx)(EG,{dialogName:GG,onSuccess:e=>n.push("/job/".concat(e.data.jobId,"/")),itemId:e,shapeId:t})]})}}var QG=Object(m.c)(u)($G);const ZG=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"count",component:en}),label:"Count"})}),eH=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0})]});var tH=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:ZG}),Object(le.jsx)(Xt,{name:"queryParams",component:dD}),Object(le.jsx)(Xt,{name:"matrixParams",component:eH}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var nH=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="COLLECTION_SEARCH_PARAMS_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Collection Search Params"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(tH,{form:i,onSubmit:df,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Collections",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));var oH=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="COLLECTION_SEARCH_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Search Document"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)($x,{form:i,onSubmit:df,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Collections",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));const aH="EDIT_COLLECTION_FORM";var sH=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,onSuccess:o,openSnackBar:a,onFail:s}){return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Collection"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(BP,{onSubmit:mf,onSubmitSuccess:(e,t,s)=>{a({messageContent:"Collection Created"}),o&&o(e,t,s),n()},onSubmitFail:(e,t,n)=>{a({messageContent:"Error Creating Collection",messageColor:"secondary"}),s&&s(e,t,n)},form:aH})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(aH),children:"Create"})]})]})}));const rH="COLLECTION_CREATE_DIALOG",cH="COLLECTION_SEARCH_FORM",iH=Object(m.c)(jg,mg)(rg);class lH extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const t=this.onGetUrlParams(),{first:n=1,number:o=10,orderBy:a,orderDirection:s="desc",...r}=t,c=a?[{field:a,order:"".concat(s,"ending")}]:[];this.initialValues={queryParams:r,matrixParams:{first:n,number:o},itemSearchDocument:{sort:c}},this.state={collectionListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Collection",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(cH)}onSearchSuccess(e){const{data:t,queryParams:n}=e;this.setState({collectionListDocument:t,queryParams:n}),this.onSetUrlParams(n)}onSetUrlParams(e){const{location:t,history:n}=this.props,o=new URLSearchParams(t.search);Object.entries(e).forEach((([e,t])=>o.set(e,t))),n.push({search:o.toString()})}onGetUrlParams(){const{location:e}=this.props,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((([e,t])=>{n[e]=t})),n}render(){const{collectionListDocument:e,queryParams:t}=this.state,{history:n}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Collection",helpTo:"/ref/collection.html",onRefresh:this.onRefresh,code:e,codeModal:"CollectionListDocument",createModal:rH}),Object(le.jsxs)($.a,{container:!0,spacing:1,children:[Object(le.jsx)($.a,{item:!0,xs:12,sm:6,children:Object(le.jsx)(oH,{form:cH,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),Object(le.jsx)($.a,{item:!0,xs:12,sm:6,children:Object(le.jsx)(nH,{form:cH,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),Object(le.jsx)(iH,{collectionListDocument:e,queryParams:t,form:cH}),Object(le.jsx)(sH,{dialogName:rH,onSuccess:e=>n.push("/collection/".concat(e.data.id))})]})}}var jH=Object(m.c)(Mo)(lH);var dH=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="ITEM_SEARCH_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Search Document"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)($x,{form:i,onSubmit:Ug,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));const mH=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"result",children:"Result"}),Object(le.jsxs)(Zt,{name:"result",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"list",children:"List"}),Object(le.jsx)(Xn.a,{value:"library",children:"Library"})]})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"count",component:en}),label:"Count"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"save",component:en}),label:"Save"})]}),hH=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"library",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"libraryId",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"updateFrequency",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"updateMode",children:"Update Mode"}),Object(le.jsxs)(Zt,{name:"updateMode",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"REPLACE",children:"REPLACE"}),Object(le.jsx)(Xn.a,{value:"MERGE",children:"MERGE"}),Object(le.jsx)(Xn.a,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"autoRefresh",component:en}),label:"Auto Refresh"})]});var uH=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:mH}),Object(le.jsx)(Xt,{name:"queryParams",component:fx}),Object(le.jsx)(Xt,{name:"matrixParams",component:hH}),Object(le.jsx)(Xt,{name:"matrixParams",component:vx}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var bH=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="ITEM_SEARCH_PARAMS_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Search Params"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(uH,{form:i,onSubmit:Ug,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Items",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})})),pH=n(443),OH=n.n(pH);var xH=()=>Object(le.jsx)($.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(OH.a,{style:{fontSize:200}})})});var gH=Object(d.i)((({itemType:e={},history:t})=>{const{thumbnails:n={},id:o}=e,{uri:a=[]}=n,[s]=a,r=t?()=>t.push("/item/".concat(o,"/")):void 0;return Object(le.jsxs)(ty.a,{style:{padding:"10px",minWidth:"350px"},onClick:r,children:[s?Object(le.jsx)("img",{src:s,alt:s}):Object(le.jsx)(we,{children:Object(le.jsx)(xH,{})}),Object(le.jsx)(ny.a,{title:o})]})}));var fH=Object(d.i)((function({itemListDocument:e,queryParams:t={},history:n}){if(void 0===e)return null;const{item:o=[]}=e,{terse:a,content:s=[]}=t,r=s.includes("thumbnail");return Object(le.jsx)(le.Fragment,{children:o.map((e=>{return Object(le.jsxs)(we,{onClick:(t=e.id,()=>n.push("/item/".concat(t,"/"))),children:[Object(le.jsx)(We.a,{subheader:"Item ".concat(e.id)}),Object(le.jsx)(Le.a,{children:Object(le.jsxs)($.a,{container:!0,children:[r&&Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(ey.a,{cellHeight:"auto",children:Object(le.jsx)(gH,{itemType:e})})}),Object(le.jsxs)($.a,{item:!0,xs:12,sm:!0,children:[Object(le.jsx)(Dn,{title:"itemId",value:e.id}),a&&e.terse&&Object.keys(e.terse).map((t=>Object(le.jsx)(Dn,{title:t,value:e.terse[t]&&e.terse[t].value},t)))]})]})})]},e.id);var t}))})}));function vH({itemListDocument:e}){if(void 0===e)return null;const{item:t=[]}=e;return Object(le.jsx)(ey.a,{cellHeight:"auto",children:t.map((e=>Object(le.jsx)(gH,{itemType:e},e.id)))})}var yH=n(444),CH=n.n(yH),SH=n(446),IH=n.n(SH),RH=n(445),DH=n.n(RH);const FH="CARD_VIEW",TH="GRID_VIEW",EH="ROW_VIEW";function PH({isActive:e=EH,onChange:t}){const n=e=>()=>t(e);return Object(le.jsxs)($.a,{container:!0,children:[Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Row",children:Object(le.jsx)(w.a,{onClick:n(EH),children:Object(le.jsx)(CH.a,{color:e===EH?"action":"disabled"})})})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Card",children:Object(le.jsx)(w.a,{onClick:n(FH),children:Object(le.jsx)(DH.a,{color:e===FH?"action":"disabled"})})})}),Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(Q.a,{title:"Grid",children:Object(le.jsx)(w.a,{onClick:n(TH),children:Object(le.jsx)(IH.a,{color:e===TH?"action":"disabled"})})})})]})}const NH="ITEM_SEARCH_FORM",kH=Object(m.c)(jg,mg)(ng);class MH extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this),this.onChangeView=this.onChangeView.bind(this);const t=this.onGetUrlParams(),{first:n=1,number:o=10,orderBy:a,orderDirection:s="desc",...r}=t,c=a?[{field:a,order:"".concat(s,"ending")}]:[];this.initialValues={queryParams:r,matrixParams:{first:n,number:o},itemSearchDocument:{sort:c}},this.state={itemListDocument:void 0,viewLayout:EH}}componentDidMount(){document.title="VidiCore Admin | Item",setTimeout(this.onRefresh,10)}onRefresh(){const{submitForm:e}=this.props;e(NH)}onSearchSuccess(e){const{data:t,queryParams:n}=e;this.setState({itemListDocument:t,queryParams:n}),this.onSetUrlParams(n)}onChangeView(e){this.setState({viewLayout:e})}onSetUrlParams(e){const{location:t,history:n}=this.props,o=new URLSearchParams(t.search);Object.entries(e).forEach((([e,t])=>o.set(e,t))),n.push({search:o.toString()})}onGetUrlParams(){const{location:e}=this.props,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((([e,t])=>{n[e]=t})),n}render(){const{itemListDocument:e,queryParams:t,viewLayout:n}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Item",helpTo:"/ref/item/item.html",onRefresh:this.onRefresh,code:e,codeModal:"ItemListDocument"}),Object(le.jsxs)($.a,{container:!0,spacing:1,children:[Object(le.jsx)($.a,{item:!0,xs:12,sm:6,children:Object(le.jsx)(dH,{form:NH,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})}),Object(le.jsx)($.a,{item:!0,xs:12,sm:6,children:Object(le.jsx)(bH,{form:NH,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1})})]}),Object(le.jsx)(PH,{onChange:this.onChangeView,isActive:n}),n===EH&&Object(le.jsx)(kH,{form:NH,itemListDocument:e,queryParams:t}),n===FH&&Object(le.jsx)(fH,{form:NH,itemListDocument:e,queryParams:t}),n===TH&&Object(le.jsx)(vH,{form:NH,itemListDocument:e,queryParams:t})]})}}var AH=Object(m.c)(Mo)(MH);const LH=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"content",component:br,isMulti:!0,options:[{value:"component",label:"Component"},{value:"metadata",label:"Metadata"},{value:"essenceVersion",label:"Essence Version"},{value:"tag",label:"Tag"},{value:"mimeType",label:"Mime Type"},{value:"*",label:"All"}],fullWidth:!0}),Object(le.jsx)(Zt,{name:"methodType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageType",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"methodMetadata",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"scheme",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"count",component:en}),label:"Count"})]}),WH=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0})]});var _H=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:LH}),Object(le.jsx)(Xt,{name:"matrixParams",component:WH}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var wH=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="SHAPE_SEARCH_PARAMS_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Params"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)(_H,{form:i,onSubmit:Dx,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Shapes",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));var VH=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"shapeSearchDocument",component:Xx}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var UH=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="SHAPE_SEARCH_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Document"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(VH,{form:i,onSubmit:Dx,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Shapes",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));const BH=({orderBy:e,orderDirection:t,onChangeOrder:n,name:o})=>n?Object(le.jsx)(Be.a,{children:Object(le.jsx)(Ch.a,{active:e===o,direction:t||void 0,onClick:n(o),children:ot()(o)})}):Object(le.jsx)(Be.a,{children:ot()(o)}),qH=({shapeType:e})=>{const{id:t,item:n=[],mimeType:o=[],essenceVersion:a,tag:s=[]}=e,r=n.map((e=>e.id)),[c]=r,i=c?"/item/".concat(c,"/shape/").concat(t,"/"):void 0;return Object(le.jsxs)(at,{to:i,hover:!0,children:[Object(le.jsx)(Be.a,{children:t}),Object(le.jsx)(Be.a,{children:Object(le.jsx)(II,{labels:r})}),Object(le.jsx)(Be.a,{children:a}),Object(le.jsx)(Be.a,{children:Object(le.jsx)(II,{labels:o})}),Object(le.jsx)(Be.a,{children:Object(le.jsx)(II,{labels:s})})]})};var GH=function({shapeListDocument:e,onChangePage:t,onChangeRowsPerPage:n,rowsPerPageOptions:o,page:a,rowsPerPage:s,onChangeOrder:r,orderBy:c,orderDirection:i}){if(void 0===e)return null;const{shape:l=[],hits:j=0}=e;return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(BH,{name:"shapeId"}),Object(le.jsx)(BH,{name:"itemId",onChangeOrder:r,orderBy:c,orderDirection:i}),Object(le.jsx)(BH,{name:"essenceVersion"}),Object(le.jsx)(BH,{name:"mimeType",onChangeOrder:r,orderBy:c,orderDirection:i}),Object(le.jsx)(BH,{name:"shapeTag",onChangeOrder:r,orderBy:c,orderDirection:i})]})}),Object(le.jsx)(Ue.a,{children:l.map((e=>Object(le.jsx)(qH,{shapeType:e},e.id)))}),t&&n&&Object(le.jsx)(He.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(ze.a,{count:j,page:a,rowsPerPage:s,onPageChange:t,onRowsPerPageChange:n,ActionsComponent:tt,rowsPerPageOptions:o})})})]})})};const HH="SHAPE_SEARCH_FORM",zH=Object(m.c)(jg,mg)(GH);class JH extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const t=this.onGetUrlParams(),{first:n=1,number:o=10,orderBy:a,orderDirection:s="desc",...r}=t,c=a?[{field:a,order:"".concat(s,"ending")}]:[];this.initialValues={queryParams:r,matrixParams:{first:n,number:o},itemSearchDocument:{sort:c}},this.state={shapeListDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Shape",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(HH)}onSearchSuccess(e){const{data:t,queryParams:n}=e;this.setState({shapeListDocument:t,queryParams:n}),this.onSetUrlParams(n)}onSetUrlParams(e){const{location:t,history:n}=this.props,o=new URLSearchParams(t.search);Object.entries(e).forEach((([e,t])=>o.set(e,t))),n.push({search:o.toString()})}onGetUrlParams(){const{location:e}=this.props,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((([e,t])=>{n[e]=t})),n}render(){const{shapeListDocument:e,queryParams:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Shape",helpTo:"/ref/item/shape.html",onRefresh:this.onRefresh,code:e,codeModal:"ShapeListDocument"}),Object(le.jsx)(UH,{form:HH,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(le.jsx)(wH,{form:HH,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(le.jsx)(zH,{shapeListDocument:e,queryParams:t,form:HH,sortField:"shapeSearchDocument.sort"})]})}}var KH=Object(m.c)(Mo)(JH);const YH=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"source",component:br,isMulti:!0,options:[{value:"item",label:"item"},{value:"collection",label:"collection"},{value:"global",label:"global"},{value:"document",label:"document"}],fullWidth:!0}),Object(le.jsx)(Zt,{name:"group",component:br,loadOptions:Px,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0,creatable:!0}),Object(le.jsx)(Zt,{name:"data",component:_t,fullWidth:!0}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"traverse",component:en}),label:"Traverse"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeValue",component:en}),label:"Include Value"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeDefinition",component:en}),label:"Include Definition"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"includeSource",component:en}),label:"Include Source"})]}),XH=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"first",component:_t,type:"number",fullWidth:!0}),Object(le.jsx)(Zt,{name:"number",component:_t,type:"number",fullWidth:!0})]});var $H=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:YH}),Object(le.jsx)(Xt,{name:"matrixParams",component:XH}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var QH=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="FIELDGROUP_SEARCH_PARAMS_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Params"})}),Object(le.jsx)(Wh.a,{children:Object(le.jsx)($H,{form:i,onSubmit:WT,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));var ZH=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"metadataFieldGroupSearchDocument",component:Xx}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var ez=Object(m.c)(he,Mo,Rx)((function({onSubmit:e,onSuccess:t,onFail:n,openSnackBar:o,submitForm:a,resetForm:s,expanded:r,onChangeExpansion:c,form:i="FIELDGROUP_SEARCH_FORM",...l}){return Object(le.jsxs)(Uh,{expanded:r,onChange:c,children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Document"})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(ZH,{form:i,onSubmit:WT,onSubmitSuccess:(e,n,o)=>{c&&c(null,!1),t&&t(e,n,o)},onSubmitFail:(e,t,a)=>{o({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),n&&n(e,t,a)},...l})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>s(i),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>a(i),children:"Update"})]})]})}));const tz=({orderBy:e,orderDirection:t,onChangeOrder:n,name:o})=>n?Object(le.jsx)(Be.a,{children:Object(le.jsx)(Ch.a,{active:e===o,direction:t||void 0,onClick:n(o),children:ot()(o)})}):Object(le.jsx)(Be.a,{children:ot()(o)}),nz=({fieldGroupType:e})=>{const{name:t,uuid:n}=e;return Object(le.jsxs)(at,{to:"/metadata/".concat(n,"/"),hover:!0,children:[Object(le.jsx)(Be.a,{children:n}),Object(le.jsx)(Be.a,{children:t})]})};var oz=function({metadataFieldResultDocument:e,onChangePage:t,onChangeRowsPerPage:n,rowsPerPageOptions:o,page:a,rowsPerPage:s}){if(void 0===e)return null;const{group:r=[],hits:c=0}=e;return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(tz,{name:"uuid"}),Object(le.jsx)(tz,{name:"name"})]})}),Object(le.jsx)(Ue.a,{children:r.map((e=>Object(le.jsx)(nz,{fieldGroupType:e},e.uuid)))}),t&&n&&Object(le.jsx)(He.a,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(ze.a,{count:c,page:a,rowsPerPage:s,onPageChange:t,onRowsPerPageChange:n,ActionsComponent:tt,rowsPerPageOptions:o})})})]})})};const az="FIELDGROUP_SEARCH_FORM",sz=Object(m.c)(jg,mg)(oz);class rz extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onSearchSuccess=this.onSearchSuccess.bind(this),this.onSetUrlParams=this.onSetUrlParams.bind(this),this.onGetUrlParams=this.onGetUrlParams.bind(this);const t=this.onGetUrlParams(),{first:n=1,number:o=10,orderBy:a,orderDirection:s="desc",...r}=t,c=a?[{field:a,order:"".concat(s,"ending")}]:[];this.initialValues={queryParams:r,matrixParams:{first:n,number:o},itemSearchDocument:{sort:c}},this.state={metadataFieldResultDocument:void 0}}componentDidMount(){document.title="VidiCore Admin | Field Group",this.onRefresh()}onRefresh(){const{submitForm:e}=this.props;e(az)}onSearchSuccess(e){const{data:t,queryParams:n}=e;this.setState({metadataFieldResultDocument:t,queryParams:n}),this.onSetUrlParams(n)}onSetUrlParams(e){const{location:t,history:n}=this.props,o=new URLSearchParams(t.search);Object.entries(e).forEach((([e,t])=>o.set(e,t))),n.push({search:o.toString()})}onGetUrlParams(){const{location:e}=this.props,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((([e,t])=>{n[e]=t})),n}render(){const{metadataFieldResultDocument:e,queryParams:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Field Groups",helpTo:"/ref/metadata/field-group.html",onRefresh:this.onRefresh,code:e,codeModal:"MetadataFieldResultDocument"}),Object(le.jsx)(ez,{form:az,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(le.jsx)(QH,{form:az,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(le.jsx)(sz,{metadataFieldResultDocument:e,queryParams:t,form:az,sortField:"metadataFieldGroupSearchDocument.sort"})]})}}var cz=Object(m.c)(Mo)(rz);const iz=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",component:_t,fullWidth:!0,required:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"noCPLreimport",component:en}),label:"No CPL Reimport"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"no-transcode",component:en}),label:"No Transcode"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]});var lz=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:iz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const jz=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"overrideFastStart",component:en}),label:"Override FastStart"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"requireFastStart",component:en}),label:"Require FastStart"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"growing",component:en}),label:"Growing"}),Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Ea}),Object(le.jsx)(Zt,{name:"original",component:_t,label:"Reset Original",fullWidth:!0}),Object(le.jsx)(Zt,{name:"thumbnailService",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"createPosters",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"fastStartLength",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"storageId",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"xmpfile",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"sidecar",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"settings",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"importTag",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"resourceId",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Metadata",component:Ea})]});var dz=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:jz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));function mz(e){const{queryParams:t,metadataDocument:n}=e;return W.vsimport.createImportImp({queryParams:t,metadataDocument:n}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function hz(e,t,n){const{queryParams:o,metadataDocument:a}=e,s=n.fileId||e.fileId;return W.file.createFileImportAssetMap({fileId:s,queryParams:o,metadataDocument:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}function uz(e,t,n){const{queryParams:o,metadataDocument:a}=e,s=n.storageId||e.storageId;return W.file.createFilePathImportAssetMap({storageId:s,queryParams:o,metadataDocument:a}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const bz="EDIT_IMPORTIMPURL_FORM";var pz=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},l=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{grandParentTitle:"Import",parentTitle:"IMF",title:"URL",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(bz),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"IMP URL"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(lz,{onSubmit:mz,initialValues:e,onSubmitSuccess:i,onSubmitFail:l,form:bz,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:mz,initialValues:e,form:bz,onSubmitSuccess:i,onSubmitFail:l,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(dz,{onSubmit:mz,initialValues:e,onSubmitSuccess:i,onSubmitFail:l,form:bz,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class Oz extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | IMF | Import URL"}componentWillUnmount(){const{destroyForm:e}=this.props;e(bz)}render(){const{history:e}=this.props;return Object(le.jsx)(pz,{initialValues:{metadataDocument:{}},onSuccess:t=>e.push("/job/".concat(t.data.jobId))})}}var xz=Mo(Oz);const gz=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowReimport",component:en}),label:"Allow Reimport"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"no-transcode",component:en}),label:"No Transcode"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]});var fz=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"fileId",component:_t,fullWidth:!0,required:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:gz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const vz=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"overrideFastStart",component:en}),label:"Override FastStart"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"requireFastStart",component:en}),label:"Require FastStart"}),Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Ea}),Object(le.jsx)(Zt,{name:"original",component:_t,label:"Reset Original",fullWidth:!0}),Object(le.jsx)(Zt,{name:"thumbnailService",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"createPosters",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"fastStartLength",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"settings",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"importTag",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Metadata",component:Ea})]});var yz=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:vz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Cz="EDIT_IMPORTIMPFILE_FORM";var Sz=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},l=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{grandParentTitle:"Import",parentTitle:"IMF",title:"File",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(Cz),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"IMP File"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(fz,{onSubmit:hz,initialValues:e,onSubmitSuccess:i,onSubmitFail:l,form:Cz,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:hz,initialValues:e,form:Cz,onSubmitSuccess:i,onSubmitFail:l,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yz,{onSubmit:hz,initialValues:e,onSubmitSuccess:i,onSubmitFail:l,form:Cz,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class Iz extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | IMF | Import File"}componentWillUnmount(){const{destroyForm:e}=this.props;e(Cz)}render(){const{history:e,location:t}=this.props,n=new URLSearchParams(t.search).get("fileId");return Object(le.jsx)(Sz,{initialValues:{fileId:n,metadataDocument:{}},onSuccess:t=>e.push("/job/".concat(t.data.jobId))})}}var Rz=Mo(Iz);const Dz=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"path",component:_t,fullWidth:!0,required:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"priority",children:"Priority"}),Object(le.jsx)(Zt,{name:"priority",component:Lt,children:Qn.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"allowReimport",component:en}),label:"Allow Reimport"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"createOnly",component:en}),label:"Create Only"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"no-transcode",component:en}),label:"No Transcode"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"createThumbnails",component:en}),label:"Create Thumbnails"}),Object(le.jsx)(Zt,{name:"tag",label:"Shape Tag",component:br,loadOptions:Qj,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsx)(Zt,{name:"state",component:Lt,children:ON.map((e=>Object(le.jsx)(Xn.a,{value:e,children:e},e)))})]})]});var Fz=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"storageId",label:"Storage ID",component:br,loadOptions:Kj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(le.jsx)(Xt,{name:"queryParams",component:Dz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Tz=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"overrideFastStart",component:en}),label:"Override FastStart"}),Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"requireFastStart",component:en}),label:"Require FastStart"}),Object(le.jsx)(Yt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Ea}),Object(le.jsx)(Zt,{name:"original",component:_t,label:"Reset Original",fullWidth:!0}),Object(le.jsx)(Zt,{name:"thumbnailService",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"createPosters",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"fastStartLength",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"settings",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"importTag",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"notification",component:_t,fullWidth:!0}),Object(le.jsx)(Yt,{name:"notificationData",label:"Notification Metadata",component:Ea})]});var Ez=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Tz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const Pz="EDIT_IMPORTIMPPATH_FORM";var Nz=Object(m.c)(FE,ue,Mo)((function({initialValues:e,onSuccess:t,onFail:n,submitForm:o,onNext:a,onBack:s,activeStep:r,openSnackBar:c}){const i=(e,n,o)=>{c({messageContent:"Job Started"}),t&&t(e,n,o)},l=(e,t,o)=>{c({messageContent:"Error Starting Job",messageColor:"secondary"}),n&&n(e,t,o)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{grandParentTitle:"Import",parentTitle:"IMF",title:"Path",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(le.jsx)(Oe.a,{color:"primary",variant:"text",size:"large",onClick:()=>o(Pz),children:"Start"})}),Object(le.jsxs)(Fc.a,{activeStep:r,orientation:"vertical",children:[Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"IMP Path"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(Fz,{onSubmit:uz,initialValues:e,onSubmitSuccess:i,onSubmitFail:l,form:Pz,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Metadata"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(yg,{onSubmit:uz,initialValues:e,form:Pz,onSubmitSuccess:i,onSubmitFail:l,destroyOnUnmount:!1})}),Object(le.jsxs)(St.a,{children:[Object(le.jsx)(Oe.a,{onClick:s,children:"Back"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:a,children:"Next"})]})]})})]}),Object(le.jsxs)(Tc.a,{children:[Object(le.jsx)(Ec.a,{children:"Advanced"}),Object(le.jsx)(Ac.a,{children:Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(Ez,{onSubmit:uz,initialValues:e,onSubmitSuccess:i,onSubmitFail:l,form:Pz,destroyOnUnmount:!1})}),Object(le.jsx)(St.a,{children:Object(le.jsx)(Oe.a,{onClick:s,children:"Back"})})]})})]})]})]})}));class kz extends s.a.PureComponent{componentDidMount(){document.title="VidiCore Admin | IMF | Import Path"}componentWillUnmount(){const{destroyForm:e}=this.props;e(Pz)}render(){const{history:e}=this.props;return Object(le.jsx)(Nz,{initialValues:{metadataDocument:{}},onSuccess:t=>e.push("/job/".concat(t.data.jobId))})}}const Mz="IMPORTIMP_URL_TAB",Az=[{tab:Mz,listText:"URL",component:xz},{tab:"IMPORTIMP_PATH_TAB",listText:"Path",component:Mo(kz)},{tab:"IMPORTIMP_FILE_TAB",listText:"File",component:Rz}],Lz=({onChangeTab:e,tabValue:t})=>Object(le.jsx)(hm.a,{children:Az.map((({tab:n,listText:o})=>Object(le.jsx)(sN,{listText:o,listItemProps:{onClick:()=>e(null,n),selected:t===n||void 0}},o)))});class Wz extends s.a.PureComponent{render(){const{tabValue:e,onChangeTab:t,...n}=this.props,o=Az.find((t=>t.tab===e))||Az[0],{listText:a,component:s}=o;return Object(le.jsx)(Gm,{mainComponent:s,listComponent:Lz,defaultOpen:!0,onChangeTab:t,tabValue:e,title:a,...n})}}var _z=Ao(Mz)(Wz);function wz({accessKeyDocument:e={},onOpenRemove:t}){const{id:n,name:o,status:a,created:s}=e;return Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:n}),Object(le.jsx)(Be.a,{children:o}),Object(le.jsx)(Be.a,{children:s}),Object(le.jsx)(Be.a,{children:a}),Object(le.jsx)(Be.a,{children:t&&Object(le.jsx)(w.a,{onClick:()=>t({keyId:n}),children:Object(le.jsx)(ee.a,{})})})]})}var Vz=ue((function({open:e,onClose:t,openSnackBar:n,userName:o,onSuccess:a,keyId:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Key "'.concat(s,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.user.removeKey({userName:o,keyId:s}).then((()=>{const e="".concat(s," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing User Key",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const Uz="REMOVE_USERKEY_DIALOG";var Bz=xo((function({accessKeyListDocument:e,onRemoveSuccess:t,userName:n,dialogProps:o,onOpen:a}){if(!e)return null;const{key:s=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Ve.a,{children:[Object(le.jsx)(qe.a,{children:Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Be.a,{children:"ID"}),Object(le.jsx)(Be.a,{children:"Name"}),Object(le.jsx)(Be.a,{children:"Created"}),Object(le.jsx)(Be.a,{children:"Status"}),Object(le.jsx)(Be.a,{})]})}),Object(le.jsx)(Ue.a,{children:s.map((e=>Object(le.jsx)(wz,{accessKeyDocument:e,onOpenRemove:a(Uz)},e.id)))})]}),Object(le.jsx)(Vz,{...o,dialogName:Uz,userName:n,onSuccess:t})]})}));function qz({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(Bz,{...e})})})}const Gz=()=>Object(le.jsx)(Zt,{name:"name",component:_t,fullWidth:!0});var Hz=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Gz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const zz="EDIT_USERKEY_FORM";var Jz=Object(m.c)(ue,Mo)((function({submitForm:e,openSnackBar:t,onClose:n,onSuccess:o,open:a,userName:s,accessKeyDocument:r,onSetAccessKey:c}){return Object(le.jsx)(xe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:r?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ve.a,{children:"Success!"}),Object(le.jsx)(fe.a,{children:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"ID",value:r.id,hideNoValue:!0,hover:!0}),Object(le.jsx)(Dn,{title:"Secret",value:r.secret,hideNoValue:!0,hover:!0})]})}),Object(le.jsx)(It.a,{}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:()=>{c(),n()},children:"Close"})})]}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ve.a,{children:"New User Key"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(Hz,{form:zz,onSubmit:Gp,onSubmitSuccess:(e,n,a)=>{const{data:s}=e;c(s);t({messageContent:"User Key Created"}),o&&o(e,n,a)},onSubmitFail:()=>{t({messageContent:"Error Creating User Key",messageColor:"secondary"})},userName:s})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(zz),children:"Create"})]})]})})}));const Kz="USERKEY_CREATE_MODAL";class Yz extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.onSetAccessKey=this.onSetAccessKey.bind(this),this.state={accessKeyListDocument:void 0}}componentDidMount(){this.onRefresh();const{userName:e}=this.props;document.title="VidiCore Admin | User | ".concat(e," | Keys")}UNSAFE_componentWillReceiveProps({userName:e}){const{userName:t}=this.props;t!==e&&(this.onFetch(e),document.title="VidiCore Admin | User | ".concat(e," | Keys"))}onRefresh(){const{userName:e}=this.props;this.onFetch(e)}onFetch(e){try{W.user.listKey({userName:e}).then((e=>this.setState({accessKeyListDocument:e.data}))).catch((e=>this.onFetchError(e)))}catch(t){this.onFetchError(t)}}onSetAccessKey(e){this.setState({accessKeyDocument:e})}onFetchError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading User Keys",messageColor:"secondary"})}render(){const{accessKeyListDocument:e,accessKeyDocument:t}=this.state,{userName:n}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{helpTo:"/ref/user.html",title:"Keys",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:n,parentTo:"/user/".concat(n),onRefresh:this.onRefresh,code:e,codeModal:"AccessKeyListDocument",createModal:Kz}),Object(le.jsx)(qz,{accessKeyListDocument:e,userName:n,onRemoveSuccess:this.onRefresh}),Object(le.jsx)(Jz,{dialogName:Kz,onSuccess:this.onRefresh,accessKeyDocument:t,onSetAccessKey:this.onSetAccessKey,userName:n})]})}}var Xz=ue(Yz),$z=e=>Object(le.jsx)(Ae,{title:"Scheduled Requests",helpTo:"/ref/scheduled-requests.html",...e});function Qz(e){const{queryParams:t}=e;return W.scheduledrequest.listScheduledRequest({queryParams:t}).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const Zz=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"state",children:"State"}),Object(le.jsxs)(Zt,{name:"state",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"WAITING",children:"Waiting"}),Object(le.jsx)(Xn.a,{value:"SUCCESS",children:"Success"}),Object(le.jsx)(Xn.a,{value:"CONNECTION_FAILURE",children:"Connection Failure"}),Object(le.jsx)(Xn.a,{value:"BAD_REQUEST",children:"Bad Request"})]})]});var eJ=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:Zz}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));var tJ=Object(m.c)(ue,Mo)((function({onClose:e,onSuccess:t,openSnackBar:n,submitForm:o,resetForm:a,form:s}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(eJ,{form:s,onSubmit:Qz,onSubmitSuccess:(e,n,o)=>{t&&t(e,n,o)},onSubmitFail:()=>{n({messageContent:"Error Listing Scheduled Requests",messageColor:"secondary"})},onCancel:e})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>a(s),children:"Reset"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>o(s),children:"Filter"})]})]})})),nJ=({...e})=>Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(tJ,{...e})})}),oJ=n(447),aJ=n.n(oJ);function sJ({scheduledRequestType:e={},onOpen:t,onRemove:n}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(po,{hover:!0,children:[Object(le.jsx)(uo,{children:e.id}),Object(le.jsx)(uo,{children:e.user}),Object(le.jsx)(uo,{children:e.state}),Object(le.jsx)(uo,{children:e.created?sn()(e.created).toString():""}),Object(le.jsx)(uo,{children:e.date?sn()(e.date).toString():""}),Object(le.jsx)(uo,{children:e.executed?sn()(e.executed).toString():""}),Object(le.jsxs)(uo,{disableOnClick:!0,children:[Object(le.jsx)(w.a,{onClick:()=>t({scheduledRequestType:e}),children:Object(le.jsx)(aJ.a,{})}),Object(le.jsx)(w.a,{onClick:()=>n({scheduledRequestType:e}),children:Object(le.jsx)(Bt.a,{})})]})]})})}function rJ({scheduledRequestType:e,openSnackBar:t}){const{id:n,request:o={},response:a={}}=e,{contentType:r}=a,[c,i]=s.a.useState();return s.a.useEffect((()=>{a.hasBody&&W.scheduledrequest.getScheduledRequestResponse({requestId:n}).then((({data:e})=>i(e))).catch((()=>{t({messageContent:"Error Loading Request Response",messageColor:"secondary"})}))}),[]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URI",value:o.uri,hover:!0}),Object(le.jsx)(Dn,{title:"Method",value:o.method,hover:!0}),Object(le.jsx)(Dn,{title:"Request Body",value:o.body,variant:"code",hover:!0,hideNoValue:!0}),a.statusCode&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Response Status",value:a.statusCode,hover:!0}),Object(le.jsx)(Dn,{title:"Response Content-Type",value:a.contentType,hover:!0}),c&&Object(le.jsx)(Dn,{title:"Response Body",value:"application/json"===r?JSON.stringify(c):c,variant:r,hover:!0,hideNoValue:!0})]})]})}var cJ=ue((function({open:e,onClose:t,scheduledRequestType:n,openSnackBar:o}){if(!n)return null;const{id:a}=n;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Scheduled Request ".concat(a)}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(rJ,{scheduledRequestType:n,openSnackBar:o})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Close"})})]})}));var iJ=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o,scheduledRequestType:a}){if(!a)return null;const{id:s}=a;return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove Scheduled Request ".concat(s)}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.scheduledrequest.removeScheduledRequest({requestId:s}).then((()=>{n({messageContent:"Scheduled Request Removed"}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing Scheduled Request",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const lJ="SCHEDULEDREQUEST_REMOVE_DIALOG",jJ="SCHEDULEDREQUEST_DETAIL_DIALOG";var dJ=xo((function({scheduledRequestListDocument:e,onSuccess:t,dialogProps:n,onOpen:o}){const{scheduledRequest:a=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"ID"}),Object(le.jsx)(uo,{children:"User"}),Object(le.jsx)(uo,{children:"State"}),Object(le.jsx)(uo,{children:"Created"}),Object(le.jsx)(uo,{children:"Date"}),Object(le.jsx)(uo,{children:"Executed"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:a.map((e=>Object(le.jsx)(sJ,{scheduledRequestType:e,onOpen:o(jJ),onRemove:o(lJ)},e.id)))})]}),Object(le.jsx)(cJ,{...n,dialogName:jJ}),Object(le.jsx)(iJ,{...n,dialogName:lJ,onSuccess:t})]})})),mJ=({...e})=>Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(dJ,{...e})})});var hJ=ue((function({open:e,onClose:t,openSnackBar:n,onSuccess:o}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Remove All Scheduled Requests"}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.scheduledrequest.removeAllScheduledRequest().then((()=>{n({messageContent:"All Scheduled Requests Removed"}),t(),o&&o()})).catch((()=>{n({messageContent:"Error Removing All Scheduled Requests",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const uJ="SCHEDULED_FILTER_FORM",bJ="SCHEDULED_REMOVEALL";var pJ=Mo((({submitForm:e})=>{document.title="VidiCore Admin | Scheduled Requests";const t=()=>{e(uJ)},[n,o]=s.a.useState();return s.a.useEffect(t,[]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)($z,{code:n,codeModal:"ScheduledRequestListDocument",onRefresh:t,removeModal:bJ}),Object(le.jsx)(nJ,{form:uJ,onSuccess:({data:e})=>o(e)}),n&&Object(le.jsx)(mJ,{scheduledRequestListDocument:n,onSuccess:t}),Object(le.jsx)(hJ,{dialogName:bJ,onSuccess:t})]})}));const OJ=e=>{const{queryParams:t}=e,{uri:n,...o}=t,a=n.reduce(((e,t,n)=>{const o=n>0?"&":"";return"".concat(e).concat(o,"uri=").concat(encodeURIComponent(t))}),""),s=(e=>{const t=Object.keys(e);return 0===t.length?"":t.reduce(((t,n,o)=>{if("undefined"===typeof e[n])return t;const a=o>0?"&":"";return"".concat(t).concat(a).concat(n,"=").concat(e[n])}),"?")})(o);return"".concat("/APInoauth/stitch/").concat(s||"?","&").concat(a)},xJ=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"uri",label:"URI",component:Ta,simple:!0,fullWidth:!0}),Object(le.jsx)(Zt,{name:"geometry",component:_t,fullWidth:!0}),Object(le.jsx)(Zt,{name:"tile",component:_t,fullWidth:!0}),Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"format",children:"Format"}),Object(le.jsxs)(Zt,{name:"format",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"png",children:"PNG"}),Object(le.jsx)(Xn.a,{value:"jpeg",children:"JPG"})]})]}),Object(le.jsx)(Zt,{name:"background",component:_t,fullWidth:!0})]});var gJ=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Xt,{name:"queryParams",component:xJ}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const fJ="STITCH_FORM";var vJ=Object(m.c)(he,Mo)((function({submitForm:e,resetForm:t,openSnackBar:n,onSuccess:o,onFail:a,url:s}){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(we,{children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(gJ,{onSubmit:OJ,onSubmitSuccess:(e,t,a)=>{n({messageContent:"Image Stitched"}),o&&o(e,t,a)},onSubmitFail:(e,t,o,s)=>{n({messageContent:"Error Stitching Image",messageColor:"secondary"}),a&&a(e,t,o,s)},form:fJ})}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",onClick:()=>t(fJ),children:"Reset"}),Object(le.jsx)(Oe.a,{variant:"text",color:"primary",onClick:()=>e(fJ),children:"Get"})]})]}),Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)($.a,{container:!0,justifyContent:"center",children:s&&Object(le.jsx)("img",{src:s,alt:s})})})})]})}));class yJ extends s.a.PureComponent{constructor(e){super(e),this.state={url:void 0}}componentDidMount(){document.title="VidiCore Admin | Stitch"}render(){const{url:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Stitch Images",helpTo:"/ref/misc/stitching.html"}),Object(le.jsx)(vJ,{url:e,onSuccess:e=>this.setState({url:e}),onFail:()=>this.setState({url:void 0})})]})}}function CJ({lockId:e,...t}){return Object(le.jsx)(Ae,{helpTo:"/ref/deletion-lock.html",title:e,parentTitle:"Deletion Lock",parentTo:"/deletion-lock/",...t})}const SJ=({value:e={},showMetadataType:t=!1})=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Lock ID",value:e.id}),Object(le.jsx)(Dn,{title:"User",value:e.user,variant:"username"}),Object(le.jsx)(Dn,{title:"Expiry Time",value:e.expiryTime,variant:"timestring"}),Object(le.jsx)(Dn,{title:"Modified",value:e.modified,variant:"timestring"}),Object(le.jsx)(Dn,{title:"Entity Type",value:e.entityType,to:e.entityType?"/".concat(e.entityType.toLowerCase(),"/"):void 0,variant:"link"}),Object(le.jsx)(Dn,{title:"Entity ID",value:e.entityId,to:e.entityId?"/".concat(e.entityType.toLowerCase(),"/").concat(e.entityId,"/"):void 0,variant:"link"}),Object(le.jsx)(Dn,{title:"Effective",value:e.isEffective,variant:"boolean"}),Object(le.jsx)(Dn,{title:"Inherited",value:e.isInherited,variant:"boolean"}),Object(le.jsx)(Dn,{title:"Expired",value:e.isExpired,variant:"boolean"}),t&&Object(le.jsx)(Fn,{value:e.metadata,component:Wa})]});function IJ({deletionLockDocument:e,showMetadataType:t}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Fn,{value:e,component:SJ,showMetadataType:t})})}const RJ={openSnackBar:o.openSnackBar};var DJ=Object(i.b)(null,RJ)((function({deletionLockDocument:e,lockId:t,openSnackBar:n,onRefresh:o}){return Object(le.jsx)(Ft,{formComponent:JI,displayComponent:IJ,formName:"EDIT_DELETIONLOCK_FORM",onSubmitSuccess:()=>{n({messageContent:"Deletion Lock Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Deletion Lock",messageColor:"secondary"})},onSubmit:WI,formProps:{lockId:t},displayProps:{deletionLockDocument:e},initialValues:{deletionLockDocument:e}})}));function FJ(e){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(we,{children:Object(le.jsx)(DJ,{...e})})})}var TJ=ue((function({open:e,onClose:t,openSnackBar:n,lockId:o,onSuccess:a}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Deletion Lock "'.concat(o,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.deletionlock.removeDeletionLock({lockId:o}).then((()=>{const e="Deletion Lock ".concat(o," Removed");n({messageContent:e}),t(),a&&a()})).catch((()=>{n({messageContent:"Error Removing Deletion Lock",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const EJ="DELETIONLOCK_REMOVE_DIALOG";class PJ extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onFetch=this.onFetch.bind(this),this.onFetchError=this.onFetchError.bind(this),this.state={deletionLockDocument:void 0}}componentDidMount(){this.onRefresh();const{lockId:e}=this.props;document.title="VidiCore Admin | Deletion Lock | ".concat(e)}onRefresh(){const{lockId:e}=this.props;this.onFetch(e)}onFetch(e){try{W.deletionlock.getDeletionLock({lockId:e}).then((({data:e})=>this.setState({deletionLockDocument:e}))).catch((e=>this.onFetchError(e)))}catch(t){this.onFetchError(t)}}onFetchError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Deletion Lock",messageColor:"secondary"})}render(){const{deletionLockDocument:e}=this.state,{lockId:t,history:n,entityId:o,entityType:a}=this.props;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(CJ,{onRefresh:this.onRefresh,code:e,codeModal:"DeletionLockDocument",lockId:t,removeModal:EJ}),e&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(FJ,{deletionLockDocument:e,lockId:t,onRefresh:this.onRefresh,entityId:o,entityType:a}),Object(le.jsx)(Sp,{simpleMetadataDocument:e.metadata,onSuccess:this.onRefresh,entityType:"deletion-lock",entityId:t})]}),Object(le.jsx)(TJ,{dialogName:EJ,lockId:t,onSuccess:()=>n.push("/deletion-lock/")})]})}}var NJ=ue(PJ);var kJ=function({datasetId:e,onOpen:t}){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(po,{to:"/metadata-dataset/".concat(e,"/"),hover:!0,children:[Object(le.jsx)(uo,{children:Object(le.jsx)(un,{to:"/metadata-dataset/".concat(e,"/"),children:e})}),Object(le.jsx)(uo,{disableOnClick:!0,children:Object(le.jsx)(w.a,{onClick:()=>t({datasetId:e}),children:Object(le.jsx)(ee.a,{})})})]})})};var MJ=ue((function({open:e,onClose:t,history:n,openSnackBar:o,datasetId:a,onSuccess:s}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:'Remove Metadata Dataset "'.concat(a,'"?')}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{onClick:t,color:"primary",children:"Cancel"}),Object(le.jsx)(Oe.a,{variant:"text",onClick:()=>{W.metadatadataset.removeMetadataDataset({datasetId:a}).then((()=>{const e="Metadata Dataset ".concat(a," Removed");o({messageContent:e}),n.push("/metadata-dataset/"),t(),s&&s()})).catch((()=>{o({messageContent:"Error Removing Metadata Dataset",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));const AJ="REMOVE_METADATAFIELD_DIALOG";var LJ=xo((function({metadataDatasetListDocument:e=[],onRefresh:t,dialogProps:n,onOpen:o}){const{dataset:a=[]}=e;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Dataset Name"}),Object(le.jsx)(uo,{})]})}),Object(le.jsx)(ho,{children:a.map((({name:e})=>Object(le.jsx)(kJ,{datasetId:e,onOpen:o(AJ)},e)))})]}),Object(le.jsx)(MJ,{...n,dialogName:AJ,onSuccess:t})]})}));function WJ({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(LJ,{...e})})})}const _J=()=>Object(le.jsx)(Zt,{name:"id-seed",label:"id-seed",component:_t,fullWidth:!0}),wJ=()=>Object(le.jsxs)($n.a,{fullWidth:!0,children:[Object(le.jsx)(Yn.a,{htmlFor:"contentType",children:"Model"}),Object(le.jsxs)(Zt,{name:"contentType",component:Lt,children:[Object(le.jsx)(Xn.a,{value:"application/rdf+xml",children:"RDF"}),Object(le.jsx)(Xn.a,{value:"text/turtle",children:"TURTLE"}),Object(le.jsx)(Xn.a,{value:"application/ld+json",children:"LD+JSON"})]})]});var VJ=Object(Tt.a)()((({error:e,handleSubmit:t})=>Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"datasetId",label:"name",component:Io,fullWidth:!0}),Object(le.jsx)(Xt,{name:"headers",component:wJ}),Object(le.jsx)(Xt,{name:"queryParams",component:_J}),Object(le.jsx)(Zt,{name:"body",label:"body",component:Eo,options:{theme:"material",mode:"application/ld+json",lineWrapping:!0,lineNumbers:!0}}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})));function UJ(e,t,n){const{body:o,headers:a}=e,s=n.datasetId||e.datasetId;return W.metadatadataset.updateMetadataMigration({datasetId:s,body:o,headers:{accept:a.contentType,contentType:a.contentType}}).then((e=>({body:e.data,datasetId:s}))).catch((e=>{let t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,((e,t)=>null===t?void 0:t))),new jt.a({_error:t})}))}const BJ="EDIT_METADATADATASET_FORM";var qJ=Object(m.c)(ue,Mo)((function({submitForm:e,open:t,onClose:n,openSnackBar:o,history:a}){return Object(le.jsxs)(xe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"New Metadata Dataset"}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(VJ,{form:BJ,onSubmit:UJ,onSubmitSuccess:e=>{const{datasetId:t}=e,s="Metadata Dataset ".concat(t," Created");o({messageContent:s}),a.push("/metadata-dataset/".concat(t,"/")),n()},onSubmitFail:()=>{o({messageContent:"Error Creating Metadata Dataset",messageColor:"secondary"})}})}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",onClick:()=>e(BJ),children:"Save"})]})]})}));function GJ(e){return Object(le.jsx)(Ae,{title:"Metadata Dataset",helpTo:"/ref/metadata/dataset-ref.html",...e})}const HJ="METADATADATASETLIST_CREATE_MODAL";class zJ extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={metadataDatasetListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Metadata Dataset"}onRefresh(){const{openSnackBar:e}=this.props;try{W.metadatadataset.listMetadataDataset().then((e=>this.setState({metadataDatasetListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Metadata Dataset List",messageColor:"secondary"})}}render(){const{metadataDatasetListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(GJ,{createModal:HJ,onRefresh:this.onRefresh,code:e,codeModal:"MetadataDatasetListDocument"}),e&&Object(le.jsx)(WJ,{metadataDatasetListDocument:e,onRefresh:this.onRefresh}),Object(le.jsx)(qJ,{dialogName:HJ})]})}}var JJ=he(zJ);function KJ(e){return Object(le.jsx)(Ae,{parentTitle:"Metadata Dataset",parentTo:"/metadata-dataset/",title:e.datasetId,helpTo:"/ref/metadata/dataset-ref.html",entityId:e.datasetId,entityType:"metadata-dataset",...e})}var YJ=function({value:e}){return Object(le.jsx)(Dn,{title:"body",value:e,variant:"application/ld+json"})};var XJ=ue((function({body:e,datasetId:t,openSnackBar:n,onRefresh:o}){const a={datasetId:t},s={value:e},r={datasetId:t,body:e,headers:{contentType:"application/ld+json"}};return Object(le.jsx)(Ft,{formComponent:VJ,displayComponent:YJ,formName:"EDIT_METADATADATASET_FORM",onSubmitSuccess:()=>{n({messageContent:"Metadata Dataset Saved"}),o&&o()},onSubmitFail:()=>{n({messageContent:"Error Updating Metadata Dataset",messageColor:"secondary"})},onSubmit:UJ,formProps:a,displayProps:s,initialValues:r})}));function $J(e){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(we,{children:Object(le.jsx)(XJ,{...e})})})}const QJ="METADATADATASET_REMOVE_MODAL";class ZJ extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={body:void 0}}componentDidMount(){const{datasetId:e}=this.props;document.title="VidiCore Admin | Metadata Dataset | ".concat(e),this.onRefresh()}onRefresh(){const{openSnackBar:e,datasetId:t}=this.props;try{W.metadatadataset.getMetadataDataset({datasetId:t,headers:{accept:"application/ld+json"}}).then((e=>this.setState({body:e.request.responseText})))}catch(n){e({messageContent:"Error Getting Metadata Dataset",messageColor:"secondary"})}}render(){const{datasetId:e}=this.props,{body:t}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(KJ,{removeModal:QJ,onRefresh:this.onRefresh,datasetId:e,code:t?JSON.parse(t):void 0,codeModal:"body"}),t&&Object(le.jsx)($J,{body:t,datasetId:e,onRefresh:this.onRefresh}),Object(le.jsx)(MJ,{dialogName:QJ,datasetId:e})]})}}var eK=he(ZJ);var tK=Object(ye.a)((()=>({logo:{text:"100%",textAlign:"center"}})))((function({classes:e}){return Object(le.jsx)(X.a,{className:e.text,children:"Page does not exist"})}));function nK({jobProblemType:e}){const[t]=e.job,n=t?"/job/".concat(e.job,"/"):void 0;return Object(le.jsxs)(at,{to:n,hover:!0,children:[Object(le.jsx)(uo,{children:e.job}),Object(le.jsx)(uo,{children:e.type}),Object(le.jsx)(uo,{children:e.id}),Object(le.jsx)(uo,{children:e.data?JSON.stringify(e.data):null})]})}function oK({jobProblemListDocument:e}){const{problem:t=[]}=e;return Object(le.jsxs)(Sh,{children:[Object(le.jsx)(bo,{children:Object(le.jsxs)(po,{children:[Object(le.jsx)(uo,{children:"Job"}),Object(le.jsx)(uo,{children:"Type"}),Object(le.jsx)(uo,{children:"ID"}),Object(le.jsx)(uo,{children:"Data"})]})}),Object(le.jsx)(ho,{children:t.map((e=>Object(le.jsx)(nK,{jobProblemType:e},e.id)))})]})}function aK({...e}){return Object(le.jsx)(we,{children:Object(le.jsx)(Le.a,{children:Object(le.jsx)(oK,{...e})})})}class sK extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.state={jobProblemListDocument:void 0}}componentDidMount(){this.onRefresh(),document.title="VidiCore Admin | Job Problems"}onRefresh(){const{openSnackBar:e}=this.props;try{W.job.listJob({path:"/API/job/problem"}).then((e=>this.setState({jobProblemListDocument:e.data})))}catch(t){e({messageContent:"Error Loading Job Problems",messageColor:"secondary"})}}render(){const{jobProblemListDocument:e}=this.state;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ae,{title:"Job Problems",helpTo:"/ref/job.html",onRefresh:this.onRefresh,code:e,codeModal:"JobProblemListDocument"}),e&&Object(le.jsx)(aK,{jobProblemListDocument:e})]})}}var rK=he(sK);function cK({metadata:e,componentId:t,itemId:n,shapeId:o,onRefresh:a,...s}){const r=void 0!==n||void 0!==o||void 0!==t?"".concat(n,"/shape/").concat(o,"/component/").concat(t):void 0;return Object(le.jsx)(Fi,{simpleMetadataDocument:{field:e},titleProps:{variant:"subtitle2"},onSuccess:a,entityType:"item",entityId:r,...s})}function iK({componentDocument:e,itemId:t,shapeId:n,componentId:o,onRefresh:a}){if(void 0===e)return null;const{metadata:s,file:r}=e;return Object(le.jsx)(we,{children:Object(le.jsxs)(Le.a,{children:[Object(le.jsx)(Ov,{title:"Files",value:r}),Object(le.jsx)(cK,{title:"Metadata",metadata:s,onRefresh:a,itemId:t,shapeId:n,componentId:o})]})})}function lK(e){const{componentDocument:t}=e;return void 0===t?null:Object(le.jsx)(ii,{children:Object(le.jsx)(iK,{...e})})}class jK extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.state={componentDocument:void 0}}componentDidMount(){const{setOnRefresh:e}=this.props;e&&e(this.onRefresh),this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t,componentId:n}){const{componentId:o}=this.props;o!==n&&(this.onFetch(t,e,n),document.title="VidiCore Admin | Component | ".concat(n))}onRefresh(){const{itemId:e,shapeId:t,componentId:n}=this.props;this.onFetch(e,t,n)}onFetch(e,t,n){try{W.component.getComponent({itemId:e,shapeId:t,componentId:n,queryParams:{full:!0}}).then((e=>this.setState({componentDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Component",messageColor:"secondary"})}onSuccess(e){const t=e.data;this.setState({componentDocument:t})}render(){const{titleComponent:e,tabComponent:t,shapeId:n,itemId:o,componentId:a}=this.props,{componentDocument:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:s,codeModal:"ComponentDocument",onRefresh:this.onRefresh,breadcrumbList:["Overview"]}),t&&Object(le.jsx)(t,{}),s&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(lK,{componentDocument:s,shapeId:n,itemId:o,componentId:a,onRefresh:this.onRefresh})})]})}}var dK=he(jK);const mK="BULKYMETADATA_COMPONENT_DOWNLOAD_DIALOG";class hK extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={bulkyMetadataDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({shapeId:e,itemId:t,componentId:n,bulkyMetadataKey:o}){const{componentId:a,bulkyMetadataKey:s}=this.props;a===n&&s===o||(this.onFetch(t,e,n,o),document.title="VidiCore Admin | Component | ".concat(n))}onRefresh(){const{itemId:e,shapeId:t,componentId:n,bulkyMetadataKey:o}=this.props;this.onFetch(e,t,n,o)}onFetch(e,t,n,o){try{W.bulkymetadata.getComponentBulkyMetadata({itemId:e,shapeId:t,componentId:n,key:o}).then((e=>this.setState({bulkyMetadataDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(a){this.onRefreshError(a)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,bulkyMetadataKey:n,itemId:o,shapeId:a,componentId:s}=this.props,{bulkyMetadataDocument:r}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:r,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,breadcrumbList:[{title:"Bulky Metadata",to:Object(d.f)("/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/",{itemId:o,shapeId:a,componentId:s})},n],downloadModal:mK}),t&&Object(le.jsx)(t,{}),r&&Object(le.jsx)(eC,{bulkyMetadataDocument:r}),Object(le.jsx)(iC,{dialogName:mK,itemId:o,shapeId:a,componentId:s,bulkyMetadataKey:n})]})}}var uK=Object(m.c)(u,he)(hK);class bK extends s.a.PureComponent{constructor(e){super(e),this.onFetch=this.onFetch.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.state={uriListDocument:void 0}}componentDidMount(){this.onRefresh()}UNSAFE_componentWillReceiveProps({componentId:e,shapeId:t,itemId:n}){const{componentId:o}=this.props;o!==e&&(this.onFetch(n,t,e),document.title="VidiCore Admin | Component | ".concat(e))}onRefresh(){const{itemId:e,shapeId:t,componentId:n}=this.props;this.onFetch(e,t,n)}onFetch(e,t,n){try{W.bulkymetadata.listComponentBulkyMetadata({itemId:e,shapeId:t,componentId:n}).then((e=>this.setState({uriListDocument:e.data}))).catch((e=>this.onRefreshError(e)))}catch(o){this.onRefreshError(o)}}onRefreshError(){const{openSnackBar:e}=this.props;e({messageContent:"Error Loading Component",messageColor:"secondary"})}render(){const{titleComponent:e,tabComponent:t,itemId:n,shapeId:o,componentId:a}=this.props,{uriListDocument:s}=this.state;return Object(le.jsxs)(le.Fragment,{children:[e&&Object(le.jsx)(e,{code:s,codeModal:"URIListDocument",onRefresh:this.onRefresh,breadcrumbList:["Bulky Metadata"]}),t&&Object(le.jsx)(t,{}),s&&Object(le.jsx)(ct,{uriListDocument:s,linkTo:e=>"/item/".concat(n,"/shape/").concat(o,"/component/").concat(a,"/bulky-metadata/").concat(e,"/")})]})}}var pK=he(bK);var OK=T((function({title:e,itemId:t,shapeId:n,componentId:o,breadcrumbList:a=[],...s}){return Object(le.jsx)(Ae,{breadcrumbList:Array.isArray(a)?[{title:"Item",to:av()},{title:t,to:sv({itemId:t})},{title:"Shape",to:rv({itemId:t})},{title:n,to:cv({itemId:t,shapeId:n})},{title:"Component",to:iv({itemId:t,shapeId:n})},{title:o,to:lv({itemId:t,shapeId:n,componentId:o})},...a]:void 0,...s})}));const xK=[{listText:"Overview",component:dK,path:"/item/:itemId/shape/:shapeId/component/:componentId/",exact:!0},{listText:"Bulky Metadata",component:pK,path:"/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/"}],gK=({itemId:e,shapeId:t,componentId:n})=>Object(le.jsx)(hm.a,{children:xK.map((({path:o,listText:a,exact:s})=>Object(le.jsx)(zm,{secondary:a,to:Object(d.f)(o,{itemId:e,shapeId:t,componentId:n}),dense:!0,style:{paddingLeft:8},disableGutters:!0,exact:s},o)))}),fK=e=>Object(le.jsxs)(d.d,{children:[Object(le.jsx)(d.b,{exact:!0,path:"/item/:itemId/shape/:shapeId/component/:componentId/bulky-metadata/:bulkyMetadataKey",render:()=>Object(le.jsx)(uK,{...e,title:"Bulky Metadata"}),...e}),xK.map((({path:t,component:n,listText:o,exact:a})=>Object(le.jsx)(d.b,{path:t,exact:a,render:()=>Object(le.jsx)(n,{...e,title:o})},t)))]});class vK extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.setOnRefresh=this.setOnRefresh.bind(this),this.state={onRefresh:void 0}}componentDidMount(){const{componentId:e}=this.props;document.title="VidiCore Admin | Component | ".concat(e)}onRefresh(){const{onRefresh:e}=this.state;e&&e()}setOnRefresh(e){this.setState({onRefresh:e})}render(){const{itemId:e,shapeId:t,componentId:n}=this.props;return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Gm,{shapeId:t,itemId:e,componentId:n,mainComponent:fK,listComponent:gK,defaultOpen:!0,titleComponent:o=>Object(le.jsx)(OK,{onRefresh:this.onRefresh,shapeId:t,itemId:e,componentId:n,...o}),setOnRefresh:this.setOnRefresh})})}}var yK=Object(m.c)(u)(vK),CK=n(783),SK=n(758),IK=n(708),RK=n(791),DK=n(449),FK=n.n(DK),TK=n(450),EK=n.n(TK),PK=n(454),NK=n.n(PK),kK=n(451),MK=n.n(kK),AK=n(452),LK=n.n(AK),WK=n(453),_K=n.n(WK);class wK extends s.a.PureComponent{constructor(e){super(e),this.onShow=this.onShow.bind(this),this.onHide=this.onHide.bind(this),this.onDelayHide=this.onDelayHide.bind(this),this.onClear=this.onClear.bind(this),this.requestInterceptor=W.utils.defaultClient.interceptors.request.use((e=>(this.onShow(),e))),this.responseInterceptor=W.utils.defaultClient.interceptors.response.use((e=>(this.onDelayHide(),e)),(e=>(this.onDelayHide(),Promise.reject(e)))),this.state={isLoading:!1}}componentWillUnmount(){W.utils.defaultClient.interceptors.request.eject(this.requestInterceptor),W.utils.defaultClient.interceptors.response.eject(this.responseInterceptor),this.onClear()}onShow(){this.onClear(),this.setState({isLoading:!0})}onHide(){this.setState({isLoading:!1}),this.onClear()}onDelayHide(){this.timer=setInterval((()=>this.onHide()),1e3)}onClear(){clearInterval(this.timer),this.timer=void 0}render(){const{isLoading:e}=this.state,{classes:t}=this.props;return Object(le.jsx)("div",{children:Object(le.jsx)(Rw.a,{variant:e?"indeterminate":"determinate",color:"primary",classes:{colorPrimary:t.colorPrimary,barColorPrimary:t.barColorPrimary},value:100})})}}var VK=Object(ye.a)((({palette:e})=>({barColorPrimary:{backgroundColor:{light:"rgb(3, 102, 214)",dark:"rgb(88, 166, 255)"}[e.type]},colorPrimary:{backgroundColor:"#005d9f"}})))(wK),UK=n(27),BK=n(448),qK=n.n(BK);function GK(e,t,n=.2){const o=function(e,t){const[n,o]=e.length>t.length?[e,t]:[t,e],a=Math.floor(n.length/2)-1,s=[],r=[];for(let d=0;d<o.length;d++){const e=o[d],t=Math.max(0,d-a),c=Math.min(d+a+1,n.length);for(let o=t;o<c;o++)if(void 0===r[o]&&e===n[o]){s[d]=r[o]=e;break}}const c=s.join(""),i=r.join(""),l=c.length;let j=0;for(let d=0;d<c.length;d++)c[d]!==i[d]&&(j+=1);return l>0?(l/o.length+l/n.length+(l-Math.floor(j/2))/l)/3:0}(e,t);let a=0;for(let s=0;s<e.length&&e[s]===t[s];s++)a+=1;return o+Math.min(a,4)*n*(1-o)}function HK(e,t,n=0){return t.map((t=>function(e,t){const{synonyms:n=[]}=t;let o=null;return n.every((t=>{const n=GK(t.trim().toLowerCase(),e.trim().toLowerCase());return!(null===o||n>o.similarity)||(o={similarity:n,value:t},1!==n)})),{score:o.similarity,closestSynonym:o.value,option:t}}(e,t))).filter((({score:e})=>e>=n)).sort(((e,t)=>t.score-e.score))}const zK=[{value:e=>"/item/".concat(e),label:"Item",synonyms:["item"],siteId:!0},{value:e=>"/collection/".concat(e),label:"Collection",synonyms:["collection"],siteId:!0},{value:e=>"/storage/".concat(e),label:"Storage",synonyms:["storage"],siteId:!0},{value:e=>"/storage/file/".concat(e),label:"File",synonyms:["file"],siteId:!0},{value:e=>"/user/".concat(e),label:"User",synonyms:["user"],siteId:!1},{value:e=>"/group/".concat(e),label:"Group",synonyms:["group"],siteId:!1},{value:e=>"/metadata-field/".concat(e),label:"Metadata Field",synonyms:["metadata","field","md"],siteId:!1},{value:e=>"/field-group/".concat(e),label:"Field Group",synonyms:["fieldgroup","fg"],siteId:!1},{value:e=>"/job/".concat(e),label:"Job",synonyms:["job"],siteId:!0}],JK=[{value:"/new-job/",label:"New Job"},{value:"/job",label:"Job List"},{value:"/job/problem",label:"Job Problems"},{value:"/jobtype/",label:"Job Types"},{value:"/search/",label:"Search Items & Collections"},{value:av(),label:"Search Items"},{value:"/collection/",label:"Search Collections"},{value:"/shape/",label:"Search Shapes"},{value:"/search/field-group/",label:"Search Field Groups"},{value:"/library/",label:"Search Libraries"},{value:"/storage/",label:"Storages"},{value:"/file/",label:"Files"},{value:"/storage-rule/",label:"Storage Rules"},{value:"/import/?tab=IMPORTPLACEHOLDER_TAB",label:"Create Item"},{value:"/import/?tab=IMPORTCOLLECTION_TAB",label:"Create Collection"},{value:"/import/?tab=IMPORTSHAPEPLACEHOLDER_TAB",label:"Create Shape"},{value:"/import/?tab=IMPORTFILE_TAB",label:"Import File"},{value:"/import/?tab=IMPORTRAW_TAB",label:"Upload"},{value:"/import/?tab=IMPORTURI_TAB",label:"Import URIs"},{value:"/import/?tab=IMPORTSHAPE_TAB",label:"Import Shape"},{value:"/import/?tab=IMPORTCOMPONENT_TAB",label:"Import Component"},{value:"/import-imp/?tab=IMPORTIMP_URL_TAB",label:"Import IMP URL"},{value:"/import-imp/?tab=IMPORTIMP_PATH_TAB",label:"Import IMP Path"},{value:"/import-imp/?tab=IMPORTIMP_FILE_TAB",label:"Import IMP File"},{value:"/vxa/",label:"VSA Server Agents"},{value:"/resource/transcoder/",label:"Transcoders"},{value:"/resource/thumbnail/",label:"Thumbnail Paths"},{value:"/resource/vidinet/",label:"Vidinet"},{value:"/export-location",label:"Export Locations"},{value:"/user/",label:"Users"},{value:"/group/",label:"Groups"},{value:"/metadata-field/",label:"Metadata Fields"},{value:"/metadata-dataset/",label:"Metadata Datasets"},{value:"/field-group/",label:"Metadata Field Groups"},{value:"/debug/echo/",label:"XML Echo"},{value:"/javascript/test/",label:"Javascript Test"},{value:"/wizard/",label:"Wizard"},{value:"/shape-tag/",label:"Shape Tags"},{value:"/version/",label:"Version"},{value:"/selftest/",label:"Self Test"},{value:"/log",label:"Audit Log"},{value:"/error/",label:"Error Log"},{value:"/reindex/",label:"Re-Index"},{value:"/service/",label:"Services"},{value:"/configuration/properties/",label:"Configuration Properties"},{value:"/configuration/job-pool/",label:"Job Pools"},{value:"/configuration/path-alias/",label:"Path Alias"},{value:"/external-id/",label:"External Identifiers"},{value:"/document/",label:"Document"},{value:"/conform/",label:"Conform"},{value:"/projection/",label:"Projection"},{value:"/notification/",label:"Notification"},{value:"/notification/item/",label:"Item Notification"},{value:"/notification/collection/",label:"Collection Notification"},{value:"/notification/job/",label:"Job Notification"},{value:"/notification/storage/",label:"Storage Notification"},{value:"/notification/file/",label:"File Notification"},{value:"/notification/quota/",label:"Quota Notification"},{value:"/notification/group/",label:"Group Notification"},{value:"/notification/document/",label:"Document Notification"},{value:"/import/settings/",label:"Import Settings"},{value:"/task-group/",label:"Task Groups"},{value:"/quota/",label:"Quota"},{value:"/storage-group/",label:"Storage Groups"},{value:"/auto-import/",label:"Auto Import Rules"},{value:"/service/stacktrace/",label:"Stack Trace"},{value:"/transfer/",label:"Import Transfers"},{value:"/configuration/",label:"Configuration"},{value:"/configuration/ftp-pool/",label:"FTP Pool"},{value:"/scheduled-request/",label:"Scheduled Requests"},{value:"/stitch/",label:"Stitch"},{value:"/deletion-lock/",label:"Deletion Locks"}],KK=Object(ri.a)({Option:{"&:hover $ValueIcon":{visibility:"visible"}},ValueWrapper:{display:"flex",width:"100%",justifyContent:"space-between","&:hover $ValueIcon":{visibility:"visible"}},ValueLink:{textDecoration:"none",color:"inherit",flexGrow:1},ValueIcon:{color:"inherit",visibility:"hidden"}}),YK=e=>{var t;const n=KK(),{value:o,__isNew__:a,label:s}=e.data||{},{fuzzyRef:r}=e.selectProps;let c=o;if(!0===a&&(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.value)){const{entityId:e,value:t}=r.current;c="function"===typeof t?t(e):t}return c?Object(le.jsx)(UK.q.Option,{...e,className:n.Option,children:Object(le.jsxs)("div",{className:n.ValueWrapper,children:[Object(le.jsx)(j.b,{className:n.ValueLink,to:c,children:s}),Object(le.jsx)(Q.a,{title:"Open in new tab",children:Object(le.jsx)(j.b,{className:n.ValueIcon,to:c,target:"_blank",rel:"noopener",children:Object(le.jsx)(qK.a,{fontSize:"small"})})})]})}):UK.q.Option(e)};function XK({onChange:e,...t}){const n=Object(d.h)(),o=s.a.useRef(),a=s.a.useCallback((e=>{try{var t;const n=HK(e,zK,.5),a=null===n||void 0===n||null===(t=n[0])||void 0===t?void 0:t.option;return a?(o.current=a,!0):(o.current=void 0,!1)}catch(n){return!1}}),[]),r=s.a.useCallback((e=>{var t;const n=null===o||void 0===o||null===(t=o.current)||void 0===t?void 0:t.label;if(n){let[,...t]=e.split(" ");if(t=t.join(" "),t)return o.current.siteId&&(t=t.toUpperCase(),/^\d/.test(t)&&(t="VX-".concat(t))),o.current.entityId=t,"Go to ".concat(n," ").concat(t)}return"Keep typing...."}),[]),c=s.a.useCallback((()=>{var e,t;if((null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.entityId)&&(null===o||void 0===o||null===(t=o.current)||void 0===t?void 0:t.value)){const{entityId:e,value:t}=o.current;"function"===typeof t?n.push(t(e)):n.push(t)}o.current=void 0}),[]),i=s.a.useCallback((t=>{e&&e(t),n.push(t.value)}),[n,e]);return Object(le.jsx)(pr,{value:"",options:JK,label:"Search for endpoint...",formatCreateLabel:r,isValidNewOption:a,components:{Option:YK},fuzzyRef:o,onChange:i,onCreateOption:c,...t})}var $K=n(462);var QK=function(e){return Object(le.jsx)($K.a,{...e,children:Object(le.jsx)("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})})};var ZK,eY,tY=s.a.forwardRef(((e,t)=>Object(le.jsx)(w.a,{color:"inherit",href:"https://github.com/vidispine/admin-tool",target:"_blank",rel:"noopener noreferrer",disableRipple:!0,ref:t,children:Object(le.jsx)(QK,{})})));function nY(){return(nY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function oY({title:e,titleId:t,...n},o){return a.createElement("svg",nY({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 76.64 76.21",ref:o,"aria-labelledby":t},n),ZK||(ZK=a.createElement("defs",null,a.createElement("style",null,".cls-1{fill:#7c74bd;}.cls-2{fill:#6dc3c5;}.cls-3{fill:#0068a9;}.cls-4{fill:#44a8aa;fill-rule:evenodd;}"))),void 0===e?a.createElement("title",{id:t},"Vidispine-icon-RGB"):e?a.createElement("title",{id:t},e):null,eY||(eY=a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1-2"},a.createElement("rect",{className:"cls-1",width:21.3,height:21.35}),a.createElement("rect",{className:"cls-2",x:55.27,y:.01,width:21.36,height:21.35}),a.createElement("rect",{className:"cls-3",y:27.19,width:21.3,height:21.35}),a.createElement("path",{className:"cls-4",d:"M55.27,48.54A21.36,21.36,0,0,0,76.64,27.19H55.27Z"}),a.createElement("rect",{className:"cls-3",y:54.86,width:21.3,height:21.35}),a.createElement("path",{className:"cls-4",d:"M27.61,76.21A21.35,21.35,0,0,0,49,54.86H27.61Z"})))))}const aY=a.forwardRef(oY);n.p;var sY=function(e){return Object(le.jsx)($K.a,{...e,component:aY,viewBox:"0 0 76.64 76.21"})};var rY=s.a.forwardRef((({IconButtonProps:e={},IconProps:t={}},n)=>Object(le.jsx)(w.a,{color:"inherit",href:"https://vidispine.com",target:"_blank",rel:"noopener noreferrer",disableRipple:!0,ref:n,...e,children:Object(le.jsx)(sY,{...t})}))),cY=n(272);var iY=Object(ye.a)((e=>({root:{backgroundColor:{light:"rgb(36, 41, 46)",dark:"rgb(22, 27, 34)"}[e.palette.type],color:{light:"rgb(255, 255, 255)",dark:"rgb(240, 246, 252)"}[e.palette.type],zIndex:e.zIndex.drawer+1},VidispineIcon:{width:15,height:15},VidispineButton:{width:24,height:24,backgroundColor:{light:"rgb(255, 255, 255)",dark:"rgb(240, 246, 252)"}[e.palette.type],padding:2,borderRadius:20}})))((function({toggleMainMenu:e,toggleHistory:t,classes:n,onLogout:o,userName:a,baseUrl:r}){const c=Object(mr.c)(),[i,l]=s.a.useState(Object(cY.a)("paletteType")||"system"),j=Object(IK.a)("(prefers-color-scheme: dark)")?"dark":"light",d=e=>{null!==e&&(l(e),"system"===e?(document.cookie="paletteType=;path=/;max-age=31536000",c({paletteType:j})):(document.cookie="paletteType=".concat(e,";path=/;max-age=31536000"),c({paletteType:e})))};return Object(le.jsxs)(CK.a,{elevation:0,classes:{root:n.root},position:"fixed",children:[Object(le.jsxs)(SK.a,{disableGutters:!0,variant:"dense",children:[Object(le.jsx)(w.a,{onClick:e,color:"inherit",children:Object(le.jsx)(FK.a,{})}),Object(le.jsx)(w.a,{onClick:t,color:"inherit",children:Object(le.jsx)(EK.a,{})}),Object(le.jsx)(X.a,{variant:"subtitle2",color:"inherit",children:r}),Object(le.jsx)(RK.a,{xsDown:!0,children:Object(le.jsx)("div",{style:{flex:1,justifyContent:"center",alignItems:"center",display:"flex"},children:Object(le.jsx)("div",{style:{maxWidth:540,width:"100%"},children:Object(le.jsx)(XK,{variant:"outlined"})})})}),{light:Object(le.jsx)(Q.a,{title:"Light Theme",children:Object(le.jsx)(w.a,{onClick:()=>d("dark"),color:"inherit",children:Object(le.jsx)(MK.a,{})})}),dark:Object(le.jsx)(Q.a,{title:"Dark Theme",children:Object(le.jsx)(w.a,{onClick:()=>d("system"),color:"inherit",children:Object(le.jsx)(LK.a,{})})}),system:Object(le.jsx)(Q.a,{title:"Auto Theme",children:Object(le.jsx)(w.a,{onClick:()=>d("light"),color:"inherit",children:Object(le.jsx)(_K.a,{})})})}[i],Object(le.jsx)(Q.a,{title:"GitHub",children:Object(le.jsx)(tY,{})}),Object(le.jsx)(Q.a,{title:"Vidispine",children:Object(le.jsx)(rY,{IconProps:{className:n.VidispineIcon},IconButtonProps:{className:n.VidispineButton}})}),Object(le.jsxs)(oi,{icon:Object(le.jsx)(NK.a,{}),iconProps:{color:"inherit"},children:[Object(le.jsx)(Xn.a,{disabled:!0,children:Object(le.jsx)(X.a,{children:"User: ".concat(a)})}),Object(le.jsx)(un,{to:"/user/".concat(a),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Profile"})})}),Object(le.jsx)(un,{to:"/import/access/".concat(a),children:Object(le.jsx)(Xn.a,{children:Object(le.jsx)(X.a,{color:"inherit",children:"Import Access"})})}),Object(le.jsx)(Xn.a,{onClick:o,children:Object(le.jsx)(X.a,{color:"error",children:"Sign out"})})]})]}),Object(le.jsx)(VK,{})]})})),lY=n(784),jY=n(190),dY=n.n(jY),mY=n(711);const hY=s.a.forwardRef(((e,t)=>Object(le.jsx)(mY.a,{direction:"down",ref:t,...e})));var uY=Object(m.c)(T,Object(ye.a)((e=>({appBar:{position:"relative",backgroundColor:e.palette.background.default},dialogRoot:{justifyContent:"flex-start"},scrollPaper:{width:"85%",backgroundColor:e.palette.background.default}}))))((function({classes:e,open:t,onClose:n}){const o=({to:e,primary:t})=>Object(le.jsx)(Um.a,{button:!0,to:e,component:j.b,onClick:n,children:Object(le.jsx)(Hm.a,{secondary:t})}),a=({subheader:e,children:t})=>Object(le.jsx)(hm.a,{component:"nav",subheader:Object(le.jsx)(lY.a,{disableSticky:!0,children:e}),children:t}),s={lg:2,md:3,sm:6,xs:12};return Object(le.jsxs)(xe.a,{fullScreen:!0,open:t,onClose:n,TransitionComponent:hY,classes:{root:e.dialogRoot,scrollPaper:e.scrollPaper},children:[Object(le.jsx)(CK.a,{elevation:0,className:e.appBar,children:Object(le.jsx)(SK.a,{disableGutters:!0,variant:"dense",children:Object(le.jsxs)($.a,{container:!0,alignItems:"flex-start",children:[Object(le.jsx)($.a,{item:!0,children:Object(le.jsx)(w.a,{onClick:n,children:Object(le.jsx)(dY.a,{})})}),Object(le.jsx)($.a,{item:!0,xs:8,children:Object(le.jsx)(XK,{onChange:n})})]})})}),Object(le.jsx)(fe.a,{children:Object(le.jsxs)($.a,{container:!0,alignItems:"flex-start",children:[Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Workflow",children:[Object(le.jsx)(o,{to:"/new-job/",primary:"New Job"}),Object(le.jsx)(o,{to:"/job",primary:"Job List"}),Object(le.jsx)(o,{to:"/job/problem/",primary:"Job Problems"}),Object(le.jsx)(o,{to:"/jobtype/",primary:"Job Types"}),Object(le.jsx)(o,{to:"/task-group/",primary:"Task Groups"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Search",children:[Object(le.jsx)(o,{to:"/search/",primary:"Items & Collections"}),Object(le.jsx)(o,{to:av(),primary:"Items"}),Object(le.jsx)(o,{to:"/collection/",primary:"Collections"}),Object(le.jsx)(o,{to:"/shape/",primary:"Shapes"}),Object(le.jsx)(o,{to:"/library/",primary:"Libraries"}),Object(le.jsx)(o,{to:"/search/field-group/",primary:"Field Groups"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Storage",children:[Object(le.jsx)(o,{to:"/storage/",primary:"Storages"}),Object(le.jsx)(o,{to:"/file/",primary:"Files"}),Object(le.jsx)(o,{to:"/storage-rule/",primary:"Storage Rules"}),Object(le.jsx)(o,{to:"/quota/",primary:"Quota"}),Object(le.jsx)(o,{to:"/storage-group/",primary:"Storage Groups"}),Object(le.jsx)(o,{to:"/auto-import/",primary:"Auto Import Rules"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Create",children:[Object(le.jsx)(o,{to:"/import/?tab=IMPORTPLACEHOLDER_TAB",primary:"Item"}),Object(le.jsx)(o,{to:"/import/?tab=IMPORTCOLLECTION_TAB",primary:"Collection"}),Object(le.jsx)(o,{to:"/import/?tab=IMPORTSHAPEPLACEHOLDER_TAB",primary:"Shape"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Import",children:[Object(le.jsx)(o,{to:"/import/?tab=IMPORTFILE_TAB",primary:"File"}),Object(le.jsx)(o,{to:"/import/?tab=IMPORTRAW_TAB",primary:"Upload"}),Object(le.jsx)(o,{to:"/import/?tab=IMPORTURI_TAB",primary:"URIs"}),Object(le.jsx)(o,{to:"/import/?tab=IMPORTSHAPE_TAB",primary:"Shape"}),Object(le.jsx)(o,{to:"/import/?tab=IMPORTCOMPONENT_TAB",primary:"Component"}),Object(le.jsx)(o,{to:"/import/settings/",primary:"Settings"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"IMF",children:[Object(le.jsx)(o,{to:"/import-imp/?tab=IMPORTIMP_URL_TAB",primary:"Import From URL"}),Object(le.jsx)(o,{to:"/import-imp/?tab=IMPORTIMP_PATH_TAB",primary:"Import From Path"}),Object(le.jsx)(o,{to:"/import-imp/?tab=IMPORTIMP_FILE_TAB",primary:"Import From File"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Resources",children:[Object(le.jsx)(o,{to:"/vxa/",primary:"Server Agents"}),Object(le.jsx)(o,{to:"/resource/transcoder/",primary:"Transcoders"}),Object(le.jsx)(o,{to:"/resource/thumbnail/",primary:"Thumbnail Paths"}),Object(le.jsx)(o,{to:"/export-location",primary:"Export Locations"}),Object(le.jsx)(o,{to:"/resource/vidinet/",primary:"Vidinet"}),Object(le.jsx)(o,{to:"/resource/",primary:"All Resources"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Authentication",children:[Object(le.jsx)(o,{to:"/user/",primary:"Users"}),Object(le.jsx)(o,{to:"/group/",primary:"Groups"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Metadata",children:[Object(le.jsx)(o,{to:"/metadata-field/",primary:"Fields"}),Object(le.jsx)(o,{to:"/field-group/",primary:"Field Groups"}),Object(le.jsx)(o,{to:"/document/",primary:"Document"}),Object(le.jsx)(o,{to:"/projection/",primary:"Projection"}),Object(le.jsx)(o,{to:"/metadata-dataset/",primary:"Datasets"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Utils",children:[Object(le.jsx)(o,{to:"/debug/echo/",primary:"XML Echo"}),Object(le.jsx)(o,{to:"/javascript/test/",primary:"Javascript Test"}),Object(le.jsx)(o,{to:"/stitch/",primary:"Stitch"}),Object(le.jsx)(o,{to:"/wizard/",primary:"Wizard"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Transcoding",children:[Object(le.jsx)(o,{to:"/shape-tag/",primary:"Shape Tags"}),Object(le.jsx)(o,{to:"/conform/",primary:"Conform Media"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Information",children:[Object(le.jsx)(o,{to:"/version/",primary:"Version"}),Object(le.jsx)(o,{to:"/selftest/",primary:"Self Test"}),Object(le.jsx)(o,{to:"/log",primary:"Audit Log"}),Object(le.jsx)(o,{to:"/error/",primary:"Error Log"}),Object(le.jsx)(o,{to:"/transfer/",primary:"Import Transfers"}),Object(le.jsx)(o,{to:"/scheduled-request/",primary:"Scheduled Requests"}),Object(le.jsx)(o,{to:"/deletion-lock/",primary:"Deletion Locks"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"System",children:[Object(le.jsx)(o,{to:"/reindex/",primary:"Re-Index"}),Object(le.jsx)(o,{to:"/service/",primary:"Services"}),Object(le.jsx)(o,{to:"/service/stacktrace/",primary:"Stack Trace"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Configuration",children:[Object(le.jsx)(o,{to:"/configuration/properties/",primary:"Properties"}),Object(le.jsx)(o,{to:"/configuration/job-pool/",primary:"Job Pool"}),Object(le.jsx)(o,{to:"/configuration/ftp-pool/",primary:"FTP Pool"}),Object(le.jsx)(o,{to:"/configuration/path-alias/",primary:"Path Alias"}),Object(le.jsx)(o,{to:"/external-id/",primary:"External Identifiers"}),Object(le.jsx)(o,{to:"/configuration/",primary:"All Configuration"})]})}),Object(le.jsx)($.a,{item:!0,...s,children:Object(le.jsxs)(a,{subheader:"Notification",children:[Object(le.jsx)(o,{to:"/notification/item/",primary:"Item"}),Object(le.jsx)(o,{to:"/notification/collection/",primary:"Collection"}),Object(le.jsx)(o,{to:"/notification/job/",primary:"Job"}),Object(le.jsx)(o,{to:"/notification/",primary:"All Notification"})]})})]})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(X.a,{variant:"caption",children:"Last Commit: ".concat("23.2.0")||!1})})]})})),bY=n(276),pY=n.n(bY),OY=n(458);const xY=["accept","content-type","authorization"];var gY=function({request:e,onClick:t,label:n="Go To JavaScript Test"}){const o=(({method:e,fullUrl:t,requestHeaders:n,requestData:o,requestContentType:a})=>{const s=[];let r;const c=new URL(t);c.pathname.startsWith("/API/")?(s.push("api"),s.push("path('".concat(c.pathname.replace("/API/",""),"')"))):(s.push("http"),s.push("uri('".concat(c.origin).concat(c.pathname,"')"))),Object.entries(n).filter((([e])=>!xY.includes(e.toLowerCase()))).forEach((([e,t])=>s.push("header('".concat(e,"', '").concat(t,"')")))),[...c.searchParams.entries()].forEach((([e,t])=>s.push("queryParam('".concat(e,"', '").concat(t,"')"))));const i=a&&"application/json"===a.toLowerCase();if(void 0!==o){const e=i?Object(OY.a)(o,{indent:"  "}):"`".concat(o,"`");r="const requestBody = ".concat(e,";"),s.push("input(requestBody)"),i||s.push("dataType('".concat(a,"')"))}s.push("".concat(e.toLowerCase(),"();"));const l=s.join("").length;s[1]=[s[0],s[1]].join("."),s.splice(0,1);const j=s.join(l>100?"\n  .":".");return r?[r,j].join("\n\n"):j})(e),a=t?()=>t(o):void 0;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{value:o,variant:"code",codeProps:{lineNumbers:!1,mode:"javascript"}}),a&&n?Object(le.jsx)(Oe.a,{variant:"text",startIcon:Object(le.jsx)(pY.a,{}),onClick:a,children:n}):null]})};const fY=e=>String(e).replaceAll("'","'\\''");var vY=function({request:e,onClick:t,label:n}){const o=(({method:e,fullUrl:t,requestHeaders:n,requestData:o,requestContentType:a})=>{const s=[];return s.push("curl '".concat(fY(t),"'")),s.push("--request ".concat(e)),Object.entries(n).forEach((([e,t])=>s.push("--header '".concat(fY("".concat(e,": ").concat(t)),"'")))),o&&("application/json"===a?s.push("--data-raw '".concat(fY(JSON.stringify(o)),"'")):s.push("--data-raw '".concat(fY(o),"'"))),s.join(" \\\n")})(e),a=t?()=>t(o):void 0;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{value:o,variant:"code",codeProps:{lineNumbers:!1,mode:"shell"}}),a&&n?Object(le.jsx)(Oe.a,{variant:"text",startIcon:Object(le.jsx)(pY.a,{}),onClick:a,children:n}):null]})};const yY="TRANSFORM_CURL",CY="TRANSFORM_JAVASCRIPTAPI";class SY extends s.a.PureComponent{constructor(e){super(e),this.onRequest=this.onRequest.bind(this),this.onResponse=this.onResponse.bind(this),this.onClose=this.onClose.bind(this),this.onTransform=this.onTransform.bind(this),this.maxReponsesLength=20,this.requestInterceptor=W.utils.defaultClient.interceptors.request.use((e=>(e.requestId=Math.random().toString(36).substr(2,12),this.onRequest(e),e))),this.responseInterceptor=W.utils.defaultClient.interceptors.response.use((e=>(this.onResponse(e),e)),(e=>(this.onResponse({...e.response,config:e.config}),Promise.reject(e)))),this.state={recentResponses:[],displayResponse:void 0,transformResponse:void 0}}componentWillUnmount(){W.utils.defaultClient.interceptors.request.eject(this.requestInterceptor),W.utils.defaultClient.interceptors.response.eject(this.responseInterceptor)}onRequest(e){if(!e)return;const{recentResponses:t}=this.state,{requestId:n,headers:o={},data:a,method:s,url:r,baseURL:c}=e;let{url:i}=e;c&&(i=[c,r].join(""));const l={};let j,d;Object.entries(o).forEach((([e,t])=>{"string"===typeof t&&(l[e]=t)}));const m=Object.keys(l).find((e=>"content-type"===e.toLowerCase()));if(m&&a)switch(d=l[m].toLowerCase(),d){case"application/xml":j=Ee(a);break;case"application/json":j="string"===typeof a?JSON.parse(a):a;break;case"application/javascript":case"text/plain":j=a}const h=[{requestId:n,url:r,fullUrl:i,baseURL:c,method:s.toUpperCase(),requestData:j,requestHeaders:l,requestContentType:d},...t].slice(0,this.maxReponsesLength);this.setState({recentResponses:h})}onResponse(e){if(!e)return;const{recentResponses:t}=this.state,{config:n={},status:o,headers:a={},data:s}=e,{requestId:r}=n;let c,i;const l=Object.keys(a).find((e=>"content-type"===e.toLowerCase()));if(l)switch(i=a[l].toLowerCase(),i){case"application/xml":c=Ee(s);break;case"application/json":case"application/javascript":case"text/plain":c=s}const j={status:o,responseData:c,responseHeaders:a,responseContentType:i},d=t.findIndex((e=>e.requestId===r)),m=[...t];if(d>=0){const e=t[d];m[d]={...e,...j}}else m.unshift(j);const h=m.slice(0,this.maxReponsesLength);this.setState({recentResponses:h})}onClose(){const{onClose:e}=this.props;e(),this.setState({displayResponse:void 0,transformResponse:void 0})}onTransform(e){const{transformResponse:t}=this.state;this.setState({transformResponse:t===e?void 0:e})}render(){const{classes:e,open:t,history:n}=this.props,{recentResponses:o,displayResponse:a,transformResponse:s}=this.state;return!1===t?null:Object(le.jsxs)(xe.a,{fullScreen:!0,open:t,onClose:this.onClose,classes:{root:e.dialogRoot,scrollPaper:e.scrollPaper},children:[Object(le.jsx)(CK.a,{elevation:0,className:e.appBar,children:Object(le.jsx)(SK.a,{disableGutters:!0,variant:"dense",children:a?Object(le.jsxs)("div",{className:e.displayToolbar,children:[Object(le.jsx)(w.a,{onClick:()=>this.setState({displayResponse:void 0,transformResponse:void 0}),style:{padding:4},children:Object(le.jsx)(mi.a,{})}),Object(le.jsxs)("div",{className:e.transformButtonList,children:[Object(le.jsx)(Oe.a,{variant:"outlined",size:"small",onClick:()=>this.onTransform(CY),children:s===CY?"Hide Javascript API":"Show Javascript API"}),Object(le.jsx)(Oe.a,{variant:"outlined",size:"small",onClick:()=>this.onTransform(yY),children:s===yY?"Hide cURL":"Show cURL"})]})]}):Object(le.jsx)(w.a,{onClick:this.onClose,children:Object(le.jsx)(dY.a,{})})})}),a?Object(le.jsxs)(fe.a,{children:[s===yY?Object(le.jsx)(vY,{request:a}):null,s===CY?Object(le.jsx)(gY,{request:a,onClick:e=>{n.push({pathname:"/javascript/test/",state:{initialValues:{javascriptDocument:e}}}),this.onClose()}}):null,void 0===s?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"URL",value:a.fullUrl,hover:!0}),Object(le.jsx)(Dn,{title:"Method",value:a.method,hover:!0}),Object(le.jsx)(Dn,{title:"Status",value:a.status,hover:!0}),Object(le.jsx)(En,{arrayTitle:"Request Headers",value:Object.entries(a.requestHeaders),component:({value:e})=>{const[t]=e;let[,n]=e;return t&&["authorization"].includes(t.toLowerCase())&&(n=n.replace(/[^*]/g,"\u2022")),Object(le.jsx)(Dn,{title:t,value:n,hover:!0,titleStartCase:!1})}}),"application/json"===a.requestContentType?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(X.a,{variant:"subtitle2",children:"Request Data"}),Object(le.jsx)(pe.a,{src:a.requestData,theme:"solarized",displayDataTypes:!1,collapsed:!1,enableClipboard:e=>navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t")),displayObjectSize:!1,name:!1})]}):Object(le.jsx)(Dn,{title:"Request Data",value:a.requestData,variant:"code",hover:!0,hideNoValue:!0}),a.responseHeaders&&Object(le.jsx)(En,{arrayTitle:"Response Headers",value:Object.entries(a.responseHeaders),component:({value:e})=>Object(le.jsx)(Dn,{title:e[0],value:e[1],hover:!0,titleStartCase:!1})}),a.responseData&&Object(le.jsx)(le.Fragment,{children:"application/json"===a.responseContentType?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(X.a,{variant:"subtitle2",children:"Response Data"}),Object(le.jsx)(pe.a,{src:a.responseData,theme:"solarized",displayDataTypes:!1,collapsed:2,enableClipboard:e=>navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t")),name:!1})]}):Object(le.jsx)(Dn,{title:"Response Data",value:a.responseData,variant:"code",hover:!0,hideNoValue:!0})})]}):null]}):Object(le.jsx)(Sh,{children:Object(le.jsx)(ho,{children:o.map((e=>Object(le.jsxs)(po,{hover:!0,onClick:()=>this.setState({displayResponse:e}),children:[Object(le.jsx)(uo,{children:e.url}),Object(le.jsx)(uo,{children:e.method}),Object(le.jsx)(uo,{children:e.status||"Pending"})]},e.requestId)))})})]})}}var IY=Object(m.c)(E,Object(ye.a)((e=>({appBar:{position:"relative",backgroundColor:e.palette.background.default},scrollPaper:{width:"85%",backgroundColor:e.palette.background.default},dialogRoot:{justifyContent:"flex-start"},displayToolbar:{display:"flex",width:"100%",alignContent:"center",justifyContent:"space-between",paddingRight:e.spacing(2)},transformButtonList:{display:"flex",gap:e.spacing(2)}}))))(SY),RY=n(792);const DY={closeSnackBar:o.closeSnackBar};var FY=Object(i.b)((function(e){const{ui:{snackBar:t}}=e;return{...t}}),DY)((function({closeSnackBar:e,isOpen:t=!1,messageContent:n,actionButton:o,messageColor:a="inherit"}){const s=[o,Object(le.jsx)(w.a,{"aria-label":"Close",color:"inherit",onClick:e,children:Object(le.jsx)(dY.a,{})},"close")],r=Object(le.jsx)(X.a,{color:a,id:"message-id",children:n});return Object(le.jsx)(RY.a,{open:t,autoHideDuration:6e3,onClose:e,message:r,action:s,anchorOrigin:{vertical:"bottom",horizontal:"left"}})}));const TY="HISTORY_DIALOG",EY="MAINMENU_DIALOG";var PY=Object(m.c)(Ht,T)((function({onOpen:e,unsetToken:t,unsetRunAs:n,unsetResponseInterceptor:o,userName:a,baseUrl:s}){return Object(le.jsxs)("div",{style:{zIndex:1,minWidth:"100%"},children:[Object(le.jsx)(uY,{dialogName:EY}),Object(le.jsx)(IY,{dialogName:TY}),Object(le.jsx)(iY,{onLogout:()=>{t(),n(),o()},userName:a,toggleMainMenu:()=>e({modalName:EY}),toggleHistory:()=>e({modalName:TY}),baseUrl:s}),Object(le.jsx)("main",{style:{marginLeft:"10px",marginRight:"10px",marginTop:48},children:Object(le.jsxs)(d.d,{children:[Object(le.jsx)(d.b,{exact:!0,path:"/collection/",component:jH}),Object(le.jsx)(d.b,{path:"/collection/:collectionId/",component:tF}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/",component:lt}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/properties/",component:Ko}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/indexing/",component:Ln}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/ftp-pool/",component:Kn}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/job-pool/",component:jo}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/path-alias/",component:Sa}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/metrics/",component:ia}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/logreport/",component:pa}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/cors/",component:Za}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/auth/",component:ls}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/bulkymetadata/",component:Hs}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/purging/",component:sr}),Object(le.jsx)(d.b,{exact:!0,path:"/configuration/job-priority/",component:Fr}),Object(le.jsx)(d.b,{exact:!0,path:"/resource/",component:Xw}),Object(le.jsx)(d.b,{exact:!0,path:"/resource/:resourceType/",component:kV}),Object(le.jsx)(d.b,{exact:!0,path:"/resource/:resourceType/:resourceId/",component:cU}),Object(le.jsx)(d.b,{exact:!0,path:"/storage/",component:Zc}),Object(le.jsx)(d.b,{exact:!0,path:"/storage/:storageId/",component:Ji}),Object(le.jsx)(d.b,{exact:!0,path:"/storage/:storageId/method/:storageMethodId",component:al}),Object(le.jsx)(d.b,{exact:!0,path:"/shape-tag/",component:Ql}),Object(le.jsx)(d.b,{exact:!0,path:"/shape-tag/:tagName/",component:Od}),Object(le.jsx)(d.b,{exact:!0,path:"/version/",component:Ud}),Object(le.jsx)(d.b,{exact:!0,path:"/service/",component:Qd}),Object(le.jsx)(d.b,{exact:!0,path:"/jobtype/",component:mm}),Object(le.jsx)(d.b,{path:"/task-definition/jobtype/:taskDefinitionType",component:Qm}),Object(le.jsx)(d.b,{exact:!0,path:"/debug/echo",component:ch}),Object(le.jsx)(d.b,{exact:!0,path:"/javascript/test",component:mh}),Object(le.jsx)(d.b,{exact:!0,path:"/log",component:Ah}),Object(le.jsx)(d.b,{exact:!0,path:"/job",component:hu}),Object(le.jsx)(d.b,{exact:!0,path:"/job/problem/",component:rK}),Object(le.jsx)(d.b,{exact:!0,path:"/job/:jobId/",component:zu}),Object(le.jsx)(d.b,{exact:!0,path:"/export-location",component:cb}),Object(le.jsx)(d.b,{exact:!0,path:"/export-location/:locationName/",component:pb}),Object(le.jsx)(d.b,{exact:!0,path:"/selftest/",component:Sb}),Object(le.jsx)(d.b,{exact:!0,path:"/group/",component:ep}),Object(le.jsx)(d.b,{exact:!0,path:"/group/:groupName/",component:Dp}),Object(le.jsx)(d.b,{exact:!0,path:"/user/",component:Kp}),Object(le.jsx)(d.b,{exact:!0,path:"/user/:userName/",component:wO}),Object(le.jsx)(d.b,{exact:!0,path:"/user/:userName/key",component:Xz}),Object(le.jsx)(d.b,{exact:!0,path:"/external-id/",component:nx}),Object(le.jsx)(d.b,{exact:!0,path:"/search/",component:pg}),Object(le.jsx)(d.b,{exact:!0,path:"/search/field-group/",component:cz}),Object(le.jsx)(d.b,{exact:!0,path:"/item/",component:AH}),Object(le.jsx)(d.b,{exact:!0,path:"/shape",component:KH}),Object(le.jsx)(d.b,{path:"/item/:itemId/shape/:shapeId/component/:componentId/",component:yK}),Object(le.jsx)(d.b,{path:"/item/:itemId/shape/:shapeId/",component:QG}),Object(le.jsx)(d.b,{path:"/item/:itemId/",component:sD}),Object(le.jsx)(d.b,{exact:!0,path:"/reindex/",component:mF}),Object(le.jsx)(d.b,{exact:!0,path:"/wizard/",component:zF}),Object(le.jsx)(d.b,{exact:!0,path:"/metadata-field/",component:bT}),Object(le.jsx)(d.b,{exact:!0,path:"/field-group/",component:BT}),Object(le.jsx)(d.b,{exact:!0,path:"/field-group/:groupName",component:xE}),Object(le.jsx)(d.b,{exact:!0,path:"/import",component:jN}),Object(le.jsx)(d.b,{exact:!0,path:"/import-imp",component:_z}),Object(le.jsx)(d.b,{exact:!0,path:"/file/",component:LN}),Object(le.jsx)(d.b,{path:"/file/:fileId/",component:Jk}),Object(le.jsx)(d.b,{exact:!0,path:"/storage-rule/",component:Qk}),Object(le.jsx)(d.b,{exact:!0,path:"/error/",component:aM}),Object(le.jsx)(d.b,{exact:!0,path:"/vxa/",component:xM}),Object(le.jsx)(d.b,{exact:!0,path:"/vxa/:vxaUuid/",component:PM}),Object(le.jsx)(d.b,{exact:!0,path:"/new-job/",component:Ku}),Object(le.jsx)(d.b,{exact:!0,path:"/library/",component:QM}),Object(le.jsx)(d.b,{path:"/library/:libraryId/",component:oL}),Object(le.jsx)(d.b,{exact:!0,path:"/document/",component:bL}),Object(le.jsx)(d.b,{path:"/document/:documentMetadataName",component:IL}),Object(le.jsx)(d.b,{path:"/metadata/:metadataUuid/",component:GL}),Object(le.jsx)(d.b,{exact:!0,path:"/conform/",component:VL}),Object(le.jsx)(d.b,{exact:!0,path:"/projection/",component:sW}),Object(le.jsx)(d.b,{path:"/projection/:projectionId",component:mW}),Object(le.jsx)(d.b,{path:"/metadata-field/:fieldName",component:PW}),Object(le.jsx)(d.b,{exact:!0,path:"/notification/",component:HW}),Object(le.jsx)(d.b,{exact:!0,path:"/notification/:entityType(".concat(L.join("|"),")/"),component:MW}),Object(le.jsx)(d.b,{exact:!0,path:"/notification/:entityType(".concat(L.join("|"),")/:notificationId"),component:WW}),Object(le.jsx)(d.b,{exact:!0,path:"/notification/:notificationId",component:BW}),Object(le.jsx)(d.b,{exact:!0,path:"/import/settings/",component:r_}),Object(le.jsx)(d.b,{exact:!0,path:"/import/settings/:settingsId",component:g_}),Object(le.jsx)(d.b,{exact:!0,path:"/import/access/:userName",component:A_}),Object(le.jsx)(d.b,{exact:!0,path:"/task-group/",component:ew}),Object(le.jsx)(d.b,{exact:!0,path:"/task-group/:groupName/",component:bw}),Object(le.jsx)(d.b,{exact:!0,path:"/quota/",component:Bw}),Object(le.jsx)(d.b,{exact:!0,path:"/storage-group/",component:CU}),Object(le.jsx)(d.b,{exact:!0,path:"/storage-group/:groupName/",component:BU}),Object(le.jsx)(d.b,{exact:!0,path:"/auto-import/",component:eB}),Object(le.jsx)(d.b,{exact:!0,path:"/auto-import/:storageId/",component:dB}),Object(le.jsx)(d.b,{exact:!0,path:"/service/stacktrace/",component:bB}),Object(le.jsx)(d.b,{exact:!0,path:"/transfer/",component:kB}),Object(le.jsx)(d.b,{exact:!0,path:"/scheduled-request/",component:pJ}),Object(le.jsx)(d.b,{exact:!0,path:"/stitch/",component:yJ}),Object(le.jsx)(d.b,{exact:!0,path:"/deletion-lock/",component:QI}),Object(le.jsx)(d.b,{exact:!0,path:"/deletion-lock/:lockId/",component:NJ}),Object(le.jsx)(d.b,{exact:!0,path:"/external-id/:entityType/:entityId",component:px}),Object(le.jsx)(d.b,{exact:!0,path:"/external-id/:entityType/:entitySubType/:entityId",component:px}),Object(le.jsx)(d.b,{exact:!0,path:"/metadata-dataset/",component:JJ}),Object(le.jsx)(d.b,{exact:!0,path:"/metadata-dataset/:datasetId/",component:eK}),Object(le.jsx)(d.a,{exact:!0,from:"/",push:!0,to:"/job"}),Object(le.jsx)(d.b,{path:"*",component:tK})]})}),Object(le.jsx)(FY,{})]})}));var NY=n(785),kY=n(455),MY=n.n(kY),AY=n(331),LY=n(707);const WY=(e,{secretKey:t,headers:n={}})=>n.token||t?void 0:Td(e),_Y=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"username",label:"Username",component:_t,fullWidth:!0,validate:[WY],variant:"outlined",margin:"dense",size:"small"}),Object(le.jsx)(Zt,{name:"password",label:"Password",type:"password",component:_t,fullWidth:!0,validate:[WY],variant:"outlined",margin:"dense"})]}),wY=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(re.a,{control:Object(le.jsx)(Zt,{name:"autoRefresh",component:en}),label:"Remember Me"})});var VY=Object(Tt.a)()((function({error:e,handleSubmit:t,onTestUrl:n,useProxy:o}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(Zt,{name:"baseUrl",label:"VidiCore Server",component:_t,required:!0,onBlur:(e,t)=>n(t),fullWidth:!0,autoFocus:!0,validate:[Td,Ed],variant:"outlined",margin:"dense",useStartCase:!1,disabled:o}),Object(le.jsx)(wt.a,{name:"headers",component:_Y}),Object(le.jsx)(wt.a,{name:"queryParams",component:wY}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const UY=()=>Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Zt,{name:"token",label:"Token",component:_t,fullWidth:!0,variant:"outlined",margin:"dense"}),Object(le.jsx)(Zt,{name:"runAs",label:"Login As User",component:_t,fullWidth:!0,variant:"outlined",margin:"dense"})]}),BY=()=>Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Zt,{name:"seconds",label:"Timeout ",component:_t,helperText:"Seconds",fullWidth:!0,variant:"outlined",margin:"dense"})});var qY=Object(Tt.a)()((function({error:e,handleSubmit:t}){return Object(le.jsxs)("form",{onSubmit:t,children:[e&&Object(le.jsx)(X.a,{color:"error",children:e}),Object(le.jsx)(wt.a,{name:"headers",component:UY}),Object(le.jsx)(wt.a,{name:"queryParams",component:BY}),Object(le.jsx)(Zt,{name:"accessKey",label:"Access Key",component:_t,fullWidth:!0,variant:"outlined",margin:"dense"}),Object(le.jsx)(Zt,{name:"secretKey",label:"Secret Key",component:_t,fullWidth:!0,variant:"outlined",margin:"dense"}),Object(le.jsx)("button",{type:"submit",hidden:!0})]})}));const GY="LOGIN_FORM";var HY=Object(m.c)(me,Mo)((function({onSuccess:e,onFail:t,openSnackBar:n,submitForm:o,...a}){const s=(t,o,a)=>{n({messageContent:"Login Success"}),e&&e(t,o,a)},r=(e,o,a)=>{n({messageContent:"Error Logging In",messageColor:"secondary"}),t&&t(e,o,a)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(fe.a,{children:[Object(le.jsx)(VY,{form:GY,onSubmit:Vp,onSubmitSuccess:s,onSubmitFail:r,...a}),Object(le.jsxs)(Uh,{children:[Object(le.jsx)(Lh.a,{expandIcon:Object(le.jsx)(wh.a,{}),style:{padding:0},children:Object(le.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Advanced"})}),Object(le.jsx)(Wh.a,{style:{padding:0},children:Object(le.jsx)(qY,{form:GY,onSubmit:Vp,onSubmitSuccess:s,onSubmitFail:r,...a})})]})]}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{variant:"outlined",color:"primary",onClick:()=>o(GY),fullWidth:!0,children:"Log In"})})]})}));var zY=Object(m.c)(me)((function({open:e=!1,onClose:t,onSuccess:n,onError:o,openSnackBar:a,loadingInit:s,setLoadingInit:r}){return Object(le.jsxs)(xe.a,{open:e,onClose:t,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Run API Init?"}),Object(le.jsx)(Lo,{children:"This is required for new Vidispine installations."}),Object(le.jsx)(It.a,{}),Object(le.jsxs)(ge.a,{children:[Object(le.jsx)(Oe.a,{size:"small",color:"inherit",onClick:t,children:"Close"}),Object(le.jsx)(Oe.a,{size:"small",color:"primary",variant:"outlined",onClick:()=>{r(!0),W.noauth.createInit().then((()=>{r(!1);a({messageContent:"Init Success"}),t(),n&&n()})).catch((()=>{r(!1);a({messageContent:"Error Running Init",messageColor:"secondary"}),o&&o()}))},disabled:s,children:s?Object(le.jsx)(Xr.a,{color:"primary",size:16}):"Run"})]})]})}));const JY='<CORSConfigurationDocument xmlns="http://xml.vidispine.com/schema/vidispine">\n    <entry>\n        <request>\n            <origin>'.concat(window.location.origin,"</origin>\n        </request>\n        <response>\n            <allowOrigin>").concat(window.location.origin,"</allowOrigin>\n            <allowMethods>OPTIONS,GET,HEAD,POST,PUT,DELETE</allowMethods>\n            <allowHeaders>accept,content-type,authorization,index,size,runas</allowHeaders>\n            <allowMaxAge>600</allowMaxAge>\n        </response>\n    </entry>\n</CORSConfigurationDocument>"),KY='{\n  "entry": [\n    {\n      "request": [\n        {\n          "origin": [\n            "'.concat(window.location.origin,'"\n          ]\n        }\n      ],\n      "response": {\n        "allowOrigin": "').concat(window.location.origin,'",\n        "allowMethods": [\n          "OPTIONS,GET,HEAD,POST,PUT,DELETE"\n        ],\n        "allowHeaders": [\n          "accept,content-type,authorization,index,size,runas"\n        ],\n        "allowMaxAge": 600\n      }\n    }\n  ]\n}'),YY='curl \'{YOUR_VIDICORE_SERVER}/API/configuration/cors\' \\\n-uadmin -XPUT -H \'Content-Type: application/json\' \\\n--data-raw \'{\n  "entry": [\n    {\n      "request": [\n        {\n          "origin": [\n            "'.concat(window.location.origin,'"\n          ]\n        }\n      ],\n      "response": {\n        "allowOrigin": "').concat(window.location.origin,'",\n        "allowMethods": [\n          "OPTIONS,GET,HEAD,POST,PUT,DELETE"\n        ],\n        "allowHeaders": [\n          "accept,content-type,authorization,index,size,runas"\n        ],\n        "allowMaxAge": 600\n      }\n    }\n  ]\n}\''),XY="XML_TAB";var $Y=T((function({open:e,onClose:t,baseUrl:n}){const[o,a]=s.a.useState(XY);return Object(le.jsxs)(xe.a,{open:e,onClose:t,maxWidth:!1,children:[Object(le.jsx)(ve.a,{children:"Configure CORS"}),Object(le.jsx)(Lo,{children:"Cross-Origin must be configured on the VidiCore server to allow browser requests from this location."}),Object(le.jsxs)(Lo,{children:[Object(le.jsxs)(Co.a,{value:o,onChange:(e,t)=>a(t),children:[Object(le.jsx)(So.a,{label:"XML",value:XY}),Object(le.jsx)(So.a,{label:"JSON",value:"JSON_TAB"}),Object(le.jsx)(So.a,{label:"cURL",value:"CURL_TAB"})]}),{XML_TAB:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Request",value:"PUT ".concat(n,"/API/configuration/cors"),variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),Object(le.jsx)(Dn,{title:"Body",value:JY,variant:"xml",codeProps:{lineNumbers:!1}})]}),JSON_TAB:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Dn,{title:"Request",value:"PUT ".concat(n,"/API/configuration/cors"),variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),Object(le.jsx)(Dn,{title:"Body",value:KY,variant:"json",codeProps:{lineNumbers:!1}})]}),CURL_TAB:Object(le.jsx)(Dn,{value:YY.replace("{YOUR_VIDICORE_SERVER}",n),variant:"code",codeProps:{lineNumbers:!1,mode:"shell"}})}[o]]}),Object(le.jsx)(Lo,{children:Object(le.jsx)(NY.a,{href:"https://apidoc.vidispine.com/latest/system/property.html#cors-configuration",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",children:"View API Documentation"})}),Object(le.jsx)(ge.a,{children:Object(le.jsx)(Oe.a,{size:"small",color:"inherit",onClick:t,children:"Close"})})]})})),QY=n.p+"static/media/logo.db253c2c.svg";n.p;const ZY=QY,eX="INIT_DIALOG",tX="HELP_DIALOG",{REACT_APP_VERSION:nX}=Object({NODE_ENV:"production",PUBLIC_URL:"https://vidispine.github.io/admin-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_GIT_COMMIT:"23.2.0",REACT_APP_VERSION:"23.2.0",REACT_APP_NAME:"@vidispine/admin-tool"}),oX=e=>Object(AY.a)({...e,palette:{type:"light"}});class aX extends s.a.PureComponent{constructor(e){super(e),this.onRefresh=this.onRefresh.bind(this),this.onRefreshError=this.onRefreshError.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onTestUrl=this.onTestUrl.bind(this),this.state={selfTestDocument:void 0,loading:!1,loadingInit:!1}}componentDidMount(){document.title="VidiCore Admin";const{baseUrl:e}=this.props;e&&this.onRefresh()}async onRefresh(){const{onOpen:e,useProxy:t}=this.props;this.setState({selfTestDocument:void 0}),await this.setState({loading:!0});try{W.selftest.listSelfTest({noAuth:!0,baseURL:t?window.location.origin:this.props.baseUrl}).then((({data:t})=>{this.setState({selfTestDocument:t,loading:!1});const{status:n,test:o=[]}=t;let a;"warning"===n&&(a=o.find((e=>{const{name:t,test:n=[]}=e;return"database"===t&&n.find((e=>{const{message:t=[]}=e;return t.find((e=>e.includes("did APIInit run?")))}))}))),a&&e({modalName:eX})})).catch((e=>this.onRefreshError(e)))}catch(n){this.onRefreshError(n)}}onRefreshError(){const{openSnackBar:e}=this.props;this.setState({loading:!1,selfTestDocument:{status:"failed"}});e({messageContent:"Error Contacting Server",messageColor:"secondary"})}onSuccess({data:e,userName:t,runAs:n,baseUrl:o}){if(o){const e=encodeURIComponent(o),t=M()?encodeURIComponent(M()):void 0,n=window.location.pathname.replace(/(.+?)\/+$/,"$1");if(!n.includes(e)){let o;o=t&&n.includes(t)?n.replace(t,e):"/"===n?[e,"/"].join(""):[n,e,""].join("/"),window.history.pushState({},"",o)}}const{setUserName:a,setToken:s,setRunAs:r,setResponseInterceptor:c}=this.props;n&&r(n,o),c(),a(t,o),s(e,o)}onTestUrl(e){const{setBaseUrl:t}=this.props;t(e),this.onRefresh()}render(){const{selfTestDocument:e,loading:t,loadingInit:n}=this.state,{userName:o,baseUrl:a,onOpen:s,useProxy:r}=this.props,c={headers:{username:o,accept:"text/plain"},queryParams:{autoRefresh:!0,seconds:604800},baseUrl:a},{status:i}=e||{};return Object(le.jsxs)(LY.a,{theme:oX,children:[Object(le.jsxs)($.a,{container:!0,children:[Object(le.jsx)($.a,{item:!0,sm:4,children:Object(le.jsxs)(_e.a,{elevation:0,square:!0,style:{height:"100vh"},children:[Object(le.jsx)($.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:"100%"},children:Object(le.jsxs)($.a,{item:!0,children:[Object(le.jsx)($.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"row",style:{height:35,marginBottom:20},children:e&&Object(le.jsx)(Ob,{selfTestDocument:e,clickable:!0,onClick:this.onRefresh,loading:t})}),Object(le.jsx)(HY,{initialValues:c,onSuccess:this.onSuccess,onTestUrl:this.onTestUrl,status:i,useProxy:r})]})}),Object(le.jsx)(CK.a,{color:"inherit",style:{top:"auto",bottom:0,backgroundColor:"black",color:"white"},square:!0,elevation:0,children:Object(le.jsx)(SK.a,{variant:"dense",children:Object(le.jsxs)($.a,{container:!0,justifyContent:"flex-end",alignItems:"center",children:[Object(le.jsx)(NY.a,{href:"https://github.com/vidispine/admin-tool",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",style:{marginRight:5},children:"VidiCore Admin"}),Object(le.jsx)(X.a,{variant:"body2",color:"inherit",children:"v".concat(nX)}),Object(le.jsx)(tY,{}),Object(le.jsx)(w.a,{color:"inherit",disableRipple:!0,onClick:()=>s({modalName:tX}),children:Object(le.jsx)(MY.a,{})})]})})})]})}),Object(le.jsx)($.a,{item:!0,sm:8,style:{background:"linear-gradient(-45deg,#b0c800,#0068a9 0,#0068a9 33%,#002749 100%,#b0c800 0)"},container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(le.jsx)("div",{style:{width:"25vw",minWidth:"100px",backgroundColor:"#fff"},children:Object(le.jsx)("img",{src:ZY,alt:"VidiCore Admin Tool"})})})]}),Object(le.jsx)(zY,{dialogName:eX,onSuccess:this.onRefresh,loadingInit:n,setLoadingInit:e=>this.setState({loadingInit:e})}),Object(le.jsx)($Y,{dialogName:tX,baseUrl:a})]})}}var sX=Object(m.c)(T,me)(aX),rX=n(786);var cX=()=>{console.info('%c\ud83c\udf89\ud83c\udf89\ud83c\udf89 Welcome to the VidiCore admin-tool!  \ud83c\udf89\ud83c\udf89\ud83c\udf89\n\ud83d\udc7b\ud83d\udc7b\ud83d\udc7b    Try using the "VidiCore" object   \ud83d\udc7b\ud83d\udc7b\ud83d\udc7b\n\ud83e\udd16\ud83e\udd16\ud83e\udd16 https://vidispine.github.io/vdt-api/ \ud83e\udd16\ud83e\udd16\ud83e\udd16',"\n    color:white;\n    background-color:black;\n    padding: 8px;\n    font-weight: 600;\n    font-family: Courier;\n    font-size: 16px;\n"),window.VidiCore=Object.keys(W).reduce(((e,t)=>{const n=Object.keys(W[t]).reduce(((e,n)=>{const o=W[t][n];return{...e,[n]:e=>o(e).then((e=>(console.log(e.data),e)))}}),{});return{...e,[t]:n}}),{})};const iX="VIDISPINE-TOKEN",lX="VIDISPINE-USERNAME",jX="VIDISPINE-RUNAS",dX="VIDISPINE-IS-AUTHENTICATED",mX="VIDISPINE-SERVER-URL";class hX extends s.a.Component{constructor(e){super(e),this.setUserName=this.setUserName.bind(this),this.unsetUserName=this.unsetUserName.bind(this),this.setToken=this.setToken.bind(this),this.unsetToken=this.unsetToken.bind(this),this.setRunAs=this.setRunAs.bind(this),this.unsetRunAs=this.unsetRunAs.bind(this),this.setBaseUrl=this.setBaseUrl.bind(this),this.unsetBaseUrl=this.unsetBaseUrl.bind(this),this.setResponseInterceptor=this.setResponseInterceptor.bind(this),this.unsetResponseInterceptor=this.unsetResponseInterceptor.bind(this),this.cookieVidispineUrl=((e="VIDISPINE-SERVER-URL")=>{const t={};if(document.cookie.split("; ").forEach((e=>{const[n,o]=e.split("=");t[n]=o})),t[e])return decodeURIComponent(t[e])})(),this.windowVidispineUrl=((e="VIDISPINE_URL")=>window[e]!=="$".concat(e)?window[e]:void 0)(),this.envVidispineUrl=((e="REACT_APP_VIDISPINE_URL")=>""!==Object({NODE_ENV:"production",PUBLIC_URL:"https://vidispine.github.io/admin-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_GIT_COMMIT:"23.2.0",REACT_APP_VERSION:"23.2.0",REACT_APP_NAME:"@vidispine/admin-tool"})[e]?Object({NODE_ENV:"production",PUBLIC_URL:"https://vidispine.github.io/admin-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_GIT_COMMIT:"23.2.0",REACT_APP_VERSION:"23.2.0",REACT_APP_NAME:"@vidispine/admin-tool"})[e]:void 0)(),this.pathVidispineUrl=M();const t=this.pathVidispineUrl||this.windowVidispineUrl||this.envVidispineUrl||this.cookieVidispineUrl;this.useProxy=void 0!==t&&(t===this.windowVidispineUrl||t===this.envVidispineUrl),this.basename=k(t);const{cookies:n}=this.props,o=n.get(iX,{path:this.basename}),a=n.get(lX,{path:this.basename}),s=n.get(jX,{path:this.basename});if("true"===n.get(dX,{path:N})&&this.cookieVidispineUrl&&void 0===this.pathVidispineUrl){const e=window.location.pathname.replace(/(.+?)\/+$/,"$1"),t=encodeURIComponent(this.cookieVidispineUrl),n="/"===e?[t,"/"].join(""):[e,t,""].join("/");window.history.pushState({},"",n),window.location.reload()}t&&"undefined"!==t&&(W.utils.defaultClient.defaults.baseURL=this.useProxy?window.location.origin:t),o&&"undefined"!==o&&(W.utils.defaultClient.defaults.headers.Authorization="token ".concat(o),this.setResponseInterceptor(),cX()),s&&"undefined"!==s&&(W.utils.defaultClient.defaults.headers.RunAs=s),this.state={token:"undefined"!==o?o:void 0,userName:"undefined"!==a?a:void 0,runAs:"undefined"!==s?s:void 0,baseUrl:"undefined"!==t?t:void 0}}setUserName(e,t){const{cookies:n}=this.props;n.set(lX,e,{path:A(t)}),this.setState({userName:e})}setToken(e,t){const{cookies:n}=this.props;n.set(iX,e,{path:A(t)}),n.set(dX,!0,{path:N}),W.utils.defaultClient.defaults.headers.Authorization="token ".concat(e),this.setState({token:e}),this.setResponseInterceptor()}setResponseInterceptor(){const{openSnackBar:e}=this.props;this.responseInterceptor=W.utils.defaultClient.interceptors.response.use((e=>e),(t=>{if(t.response&&t.response.status){if(401===t.response.status){e({messageContent:"Logged Out",messageColor:"secondary"}),setTimeout((()=>this.unsetToken()),1e3)}}else{const{config:{baseURL:n}={}}=t;this.checkOnline||(this.checkOnline=!0,W.noauth.getSelfTest({baseURL:n}).then((()=>{e({messageContent:"Logged Out",messageColor:"secondary"}),setTimeout((()=>this.unsetToken()),1e3),this.checkOnline=!1})).catch((()=>{e({messageContent:"Server Offline",messageColor:"secondary"}),this.checkOnline=!1})))}return Promise.reject(t)}))}setRunAs(e,t){const{cookies:n}=this.props;n.set(jX,e,{path:A(t)}),W.utils.defaultClient.defaults.headers.RunAs=e,this.setState({runAs:e})}setBaseUrl(e){const{cookies:t}=this.props;t.set(mX,e,{path:N}),this.windowVidispineUrl!==e&&(this.useProxy=!1),W.utils.defaultClient.defaults.baseURL=this.useProxy?window.location.origin:e,this.setState({baseUrl:e})}unsetResponseInterceptor(){this.responseInterceptor&&W.utils.defaultClient.interceptors.response.eject(this.responseInterceptor)}unsetUserName(){const{cookies:e}=this.props,{baseUrl:t}=this.state;e.remove(lX,{path:A(t)}),this.setState({userName:void 0}),this.unsetToken()}unsetToken(){const{cookies:e}=this.props,{baseUrl:t}=this.state;e.remove(iX,{path:A(t)}),e.remove(dX,{path:N}),delete W.utils.defaultClient.defaults.headers.Authorization,this.setState({token:void 0})}unsetRunAs(){const{cookies:e}=this.props,{baseUrl:t}=this.state;e.remove(jX,{path:A(t)}),delete W.utils.defaultClient.defaults.headers.RunAs,this.setState({runAs:void 0})}unsetBaseUrl(){const{cookies:e}=this.props;e.remove(mX,{path:N}),delete W.utils.defaultClient.defaults.baseURL,this.setState({baseUrl:void 0})}render(){const{token:e,userName:t,runAs:n,baseUrl:o}=this.state,{loginComponent:a,appComponent:s,...r}=this.props;return e?Object(le.jsx)(s,{userName:n||t,baseUrl:o,unsetResponseInterceptor:this.unsetResponseInterceptor,unsetUserName:this.unsetUserName,unsetToken:this.unsetToken,unsetRunAs:this.unsetRunAs,useProxy:this.useProxy,...r}):Object(le.jsx)(a,{userName:t,runAs:n,baseUrl:o,setUserName:this.setUserName,setToken:this.setToken,setBaseUrl:this.setBaseUrl,setRunAs:this.setRunAs,setResponseInterceptor:this.setResponseInterceptor,unsetUserName:this.unsetUserName,unsetToken:this.unsetToken,unsetRunAs:this.unsetRunAs,useProxy:this.useProxy,...r})}}var uX=Object(m.c)(me,rX.a)(hX),bX=n(414);const pX={modalName:void 0,isMainMenuOpen:!1,isLoading:!1,snackBar:{isOpen:!1}};var OX=Object(m.b)({ui:function(e=pX,t){switch(t.type){case f:return{...e,isLoading:t.isLoading};case g:return function(e,t){return{...e,snackBar:{isOpen:!0,...t}}}(e,t);case x:return function(e){return{...e,snackBar:{isOpen:!1}}}(e);case b:return function(e){return{...e,modalName:null}}(e);case p:return{...e,...t};case O:return{...e,isMainMenuOpen:t.isMainMenuOpen}}return e},form:bX.a});const xX=function({preloadedState:e}){return Object(m.d)(OX,e)}({history:Object(l.a)()});c.a.render(Object(le.jsx)(i.a,{store:xX,children:Object(le.jsx)(mr.a,{children:Object(le.jsx)(uX,{loginComponent:sX,appComponent:function(e){const{baseUrl:t}=e,n=k(t);return Object(le.jsx)(j.a,{basename:n,children:Object(le.jsx)(PY,{...e})})}})})}),document.getElementById("root"))}},[[696,1,2]]]);