(this["webpackJsonp@vidispine/admin-tool"]=this["webpackJsonp@vidispine/admin-tool"]||[]).push([[0],{103:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return O}));var a=n(2),r=n(41),o=n(1),c=n.n(o),i=n(636),s=n(291),l=n(633),u=n(635),j=n(237),d=n(0),m=c.a.createContext((function(){throw new Error("Forgot to wrap component in `ThemeProvider`")})),b=["-apple-system","BlinkMacSystemFont",'"Segoe UI"','"Helvetica Neue"',"Helvetica","Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",");function h(t){var n=t.children,o=Object(u.a)("(prefers-color-scheme: dark)")?"dark":"light",h=c.a.useReducer((function(e,t){switch(t.type){case"CHANGE":return Object(a.a)(Object(a.a)({},e),{},{paletteType:t.payload.paletteType||e.paletteType});default:throw new Error("Unrecognized type ".concat(t.type))}}),{}),O=Object(r.a)(h,2),p=O[0],x=O[1],f=p.paletteType,v=void 0===f?o:f;c.a.useEffect((function(){if(e.browser){var t=Object(j.a)("paletteType")||o;x({type:"CHANGE",payload:{paletteType:t}})}}),[o]);var g=c.a.useMemo((function(){return Object(s.a)({overrides:{},props:{MuiTextField:{InputLabelProps:{shrink:!0}},MuiPaper:{square:!0,elevation:0},MuiCard:{square:!0,elevation:0,variant:"outlined"},MuiTable:{component:"div"},MuiTableBody:{component:"div"},MuiTableCell:{component:"div"},MuiTableFooter:{component:"div"},MuiTableHead:{component:"div"},MuiTablePagination:{component:"div"},MuiTableRow:{component:"div"}},palette:{type:v,background:{default:{light:"rgb(246, 248, 250)",dark:"rgb(9, 12, 16)"}[v],paper:{light:"rgb(255, 255, 255)",dark:"rgb(13, 17, 23)"}[v]},text:{primary:{light:"rgba(0, 0, 0, 0.87)",dark:"rgb(201, 209, 217)"}[v],secondary:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(139, 148, 158)"}[v]}},action:{active:{light:"rgba(0, 0, 0, 0.54)",dark:"rgb(201, 209, 217)"}[v]},divider:{light:"rgba(0, 0, 0, 0.12)",dark:"rgb(48, 54, 61)"}[v],typography:{fontFamily:b}})}),[v]);return Object(d.jsxs)(l.a,{theme:g,children:[Object(d.jsx)(i.a,{}),Object(d.jsx)(m.Provider,{value:x,children:n})]})}function O(){var e=c.a.useContext(m);return c.a.useCallback((function(t){return e({type:"CHANGE",payload:t})}),[e])}}).call(this,n(200))},237:function(e,t,n){"use strict";(function(e){function a(t){if(e.browser){var n="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===n.length)return n.pop().split(";").shift()}}n.d(t,"a",(function(){return a}))}).call(this,n(200))},351:function(e,t,n){},626:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"MODAL_RESET",(function(){return O})),n.d(a,"MODAL_RECEIVE",(function(){return p})),n.d(a,"MAINMENU_TOGGLE",(function(){return x})),n.d(a,"SNACKBAR_RESET",(function(){return f})),n.d(a,"SNACKBAR_RECEIVE",(function(){return v})),n.d(a,"LOADING_RECEIVE",(function(){return g})),n.d(a,"closeModal",(function(){return y})),n.d(a,"openModal",(function(){return S})),n.d(a,"setLoading",(function(){return C})),n.d(a,"toggleMainMenu",(function(){return R})),n.d(a,"closeSnackBar",(function(){return I})),n.d(a,"openSnackBar",(function(){return D}));var r=n(1),o=n.n(r),c=n(50),i=n.n(c),s=n(23),l=n(400),u=n(2),j=n(64),d=n(71),m=n(10);function b(e,t){var n=t.match,a=(void 0===n?{}:n).params,r=void 0===a?{}:a;return Object(u.a)({},r)}var h=function(e){return Object(s.b)(b,null)(Object(d.g)(e))},O="MODAL_RESET",p="MODAL_RECEIVE",x="MAINMENU_TOGGLE",f="SNACKBAR_RESET",v="SNACKBAR_RECEIVE",g="LOADING_RECEIVE";function y(){return{type:O}}function S(e){var t=e.modalName;return{type:p,modalName:t}}function C(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:g,isLoading:e}}function R(){return function(e,t){e(function(e){return{type:x,isMainMenuOpen:e}}(!t().ui.isMainMenuOpen))}}function I(){return{type:f}}function D(e){var t=Object.assign({},e);return Object(u.a)({type:v},t)}function F(e,t){var n=t.dialogName,a=t.isOpen,r=e.ui.modalName,o=void 0!==n&&r===n;return void 0!==a&&(o=a),{open:o,currentDialog:r,modalName:r}}var k={onClose:a.closeModal,onOpen:a.openModal},T=function(e){return Object(s.b)(F,k)(e)},P=Object(m.c)(T,h),E=n(6),N=n(7),M=n(4),A=n(9),L=n(8),W=n(3),w=n(366),_=n(403),V=n(286),B=n.n(V),U=n(68),q=n.n(U),G=n(138),H=n.n(G),J=n(373),z=n.n(J),K=n(372),Y=n.n(K),X=n(109),Q=n(670),$=n(715),Z=n(51),ee=n.n(Z),te=n(374),ne=n.n(te),ae=n(672),re=n(671),oe=n(371),ce=n.n(oe),ie=n(0),se=Object(d.g)((function(e){var t=e.entityId,n=e.entityType,a=e.history;return Object(ie.jsx)($.a,{title:"External Id",children:Object(ie.jsx)(_.a,{onClick:function(){return a.push("/external-id/".concat(n,"/").concat(t))},children:Object(ie.jsx)(ce.a,{})})})})),le={openSnackBar:a.openSnackBar},ue=function(e){return Object(s.b)(null,le)(e)},je=Object(m.c)(ue,h),de=Object(m.c)(T,ue,h),me=n(184),be=n.n(me),he=n(669),Oe=n(665),pe=n(668),xe=n(667),fe=n(666);var ve=de((function(e){var t=e.code,n=e.title,a=e.open,r=e.onClose;return Object(ie.jsx)(Oe.a,{open:a,onClose:r,fullWidth:!0,maxWidth:!1,children:a&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fe.a,{children:n||""}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(be.a,{src:t,theme:"solarized",displayDataTypes:!1,collapsed:!1,displayObjectSize:!1,name:!1,enableClipboard:function(e){return navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t"))}})}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{onClick:r,color:"primary",children:"Close"})})]})})}));var ge=de((function(e){var t,n=e.title,a=e.openCode,r=e.openAction,o=e.actionComponent,c=e.iconList,i=e.parentTitle,s=e.grandParentTo,l=e.grandParentTitle,u=e.parentTo,d=e.entityId,m=e.entityType,b=e.onRefresh,h=e.autoRefresh,O=e.onChangeAutoRefresh,p=e.autoRefreshLabel,x=void 0===p?"Background Refresh":p,f=e.helpTo,v=e.codeModal,g=e.onOpen,y=e.createModal,S=e.removeModal,C=e.code,R=e.titleChip,I=e.addAccessControl,D=e.style,F=void 0===D?{}:D,k=localStorage.getItem("vsBaseUrl")||"",T=Object(ie.jsxs)(Q.a,{container:!0,alignItems:"center",children:[l&&Object(ie.jsx)(Q.a,{item:!0,children:s?Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",component:j.b,to:s,style:{textDecoration:"none"},children:l}):Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",children:l})}),l&&Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(_.a,{disabled:!0,children:Object(ie.jsx)(H.a,{})})}),i&&Object(ie.jsx)(Q.a,{item:!0,children:u?Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",component:j.b,to:u,style:{textDecoration:"none"},children:i}):Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",children:i})}),i&&Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(_.a,{disabled:!0,children:Object(ie.jsx)(H.a,{})})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(X.a,{variant:"h5",children:n})}),R&&Object(ie.jsx)(w.a,{label:R})]});a?t=Object(ie.jsx)($.a,{title:"Code",children:Object(ie.jsx)(_.a,{onClick:a,children:Object(ie.jsx)(B.a,{})})}):v&&(t=Object(ie.jsx)($.a,{title:"Code",children:Object(ie.jsx)(_.a,{onClick:function(){return g({modalName:v})},children:Object(ie.jsx)(B.a,{})})}));var P,E=O&&Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{checked:h,onChange:O}),label:x}),N=b&&Object(ie.jsx)($.a,{title:"Refresh",children:Object(ie.jsx)(_.a,{onClick:b,children:Object(ie.jsx)(Y.a,{})})});r?P=Object(ie.jsx)(_.a,{onClick:r,children:Object(ie.jsx)(q.a,{})}):y&&(P=Object(ie.jsx)($.a,{title:"New",children:Object(ie.jsx)(_.a,{onClick:function(){return g({modalName:y})},children:Object(ie.jsx)(q.a,{})})}));var M=f&&Object(ie.jsx)($.a,{title:"API Guide",children:Object(ie.jsx)(_.a,{onClick:function(){return window.open("".concat(k,"/APIdoc").concat(f))},children:Object(ie.jsx)(z.a,{})})}),A=S&&Object(ie.jsx)($.a,{title:"Remove",children:Object(ie.jsx)(_.a,{onClick:function(){return g({modalName:S})},children:Object(ie.jsx)(ee.a,{})})}),L=d&&Object(ie.jsx)(se,{entityId:d,entityType:m}),W=I&&Object(ie.jsx)($.a,{title:"Add ACL",children:Object(ie.jsx)(_.a,{onClick:function(){return g({modalName:I})},children:Object(ie.jsx)(ne.a,{})})}),V=o||P;return Object(ie.jsxs)("div",{style:F,children:[Object(ie.jsxs)(Q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",children:[Object(ie.jsx)(Q.a,{item:!0,children:T}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsxs)(Q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[E,A,M,W,L,t,N,c,V]})})]}),C&&Object(ie.jsx)(ve,{dialogName:v,code:C,title:v})]})})),ye=n(13),Se=n(684),Ce=n(683),Re=n(673),Ie=Re.a,De=n(676),Fe=n(678),ke=n(675),Te=n(677),Pe=n(674),Ee=n(679),Ne=n(719),Me=n(17),Ae=n(375),Le=n.n(Ae),We=n(376),we=n.n(We),_e=n(377),Ve=n.n(_e),Be=n(378),Ue=n.n(Be);var qe=Object(Me.a)((function(e){return{root:{flexShrink:0,color:e.palette.text.secondary}}}))((function(e){var t=e.classes,n=e.count,a=e.page,r=e.rowsPerPage,o=e.onChangePage;return Object(ie.jsxs)("div",{className:t.root,children:[Object(ie.jsx)(_.a,{onClick:function(){return o({page:0})},disabled:0===a,children:Object(ie.jsx)(Le.a,{})}),Object(ie.jsx)(_.a,{onClick:function(){return o({page:a-1})},disabled:0===a,children:Object(ie.jsx)(we.a,{})}),Object(ie.jsx)(_.a,{onClick:function(){return o({page:a+1})},disabled:a>=Math.ceil(n/r)-1,children:Object(ie.jsx)(Ve.a,{})}),Object(ie.jsx)(_.a,{onClick:function(){return o({page:Math.max(0,Math.ceil(n/r)-1)})},disabled:a>=Math.ceil(n/r)-1,children:Object(ie.jsx)(Ue.a,{})})]})})),Ge=n(26),He=n.n(Ge);var Je=Object(d.g)((function(e){var t=e.history,n=e.to,a=(e.staticContext,e.match,e.location,Object(ye.a)(e,["history","to","staticContext","match","location"])),r=n?function(){return t.push(n)}:a.onClick;return Object(ie.jsx)(Pe.a,Object(u.a)({onClick:r},a))}));function ze(e){return Object(ie.jsx)(j.b,Object(u.a)(Object(u.a)({style:{textDecoration:"none",color:"inherit"}},e),{},{onClick:function(e){return e.stopPropagation()}}))}function Ke(e){var t=e.uri,n=e.linkTo,a=e.textTo,r=e.titleCase,o=void 0!==r&&r,c={},i=t;a&&(i=a(t)),n&&(c.to=n(t));var s=o?He()(i):i;return Object(ie.jsxs)(Je,Object(u.a)(Object(u.a)({hover:!0},c),{},{children:[Object(ie.jsx)(ke.a,{children:n?Object(ie.jsx)(ze,Object(u.a)(Object(u.a)({},c),{},{children:s})):s}),Object(ie.jsx)(ke.a,{})]}))}function Ye(e){var t=e.uriListDocument,n=void 0===t?{}:t,a=e.page,r=e.rowsPerPage,o=e.onChangePage,c=e.onChangeRowsPerPage,i=Object(ye.a)(e,["uriListDocument","page","rowsPerPage","onChangePage","onChangeRowsPerPage"]),s=n.uri,l=void 0===s?[]:s,j=n.hits,d=void 0===j?0:j,m=[10,100,250];return m.includes(r)||m.push(r),Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"ID"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:l.map((function(e){return Object(ie.jsx)(Ke,Object(u.a)({uri:e},i),e)}))}),o&&c&&Object(ie.jsx)(Ee.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(Ne.a,{count:d,page:a,rowsPerPage:r,onChangePage:o,onChangeRowsPerPage:c,ActionsComponent:qe,rowsPerPageOptions:m})})})]})}function Xe(e){var t=e.title,n=e.uriListDocument,a=Object(ye.a)(e,["title","uriListDocument"]);return void 0===n?null:Object(ie.jsxs)(Ie,{children:[t&&Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:t})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Ye,Object(u.a)({uriListDocument:n},a))})]})}var Qe=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Configuration",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this;try{W.g.getConfiguration().then((function(t){return e.setState({uriListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Job Pools",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Configuration",helpTo:"/ref/property.html",onRefresh:this.onRefresh,code:e,codeModal:"URIListDocument"}),e&&Object(ie.jsx)(Xe,{uriListDocument:e,linkTo:function(e){return"/configuration/".concat(e,"/")},titleCase:!0})]})}}]),n}(o.a.PureComponent)),$e=n(182);function Ze(e){var t=e.configurationPropertyDocument;return W.g.updatePropertiesConfiguration({configurationPropertyDocument:t}).then((function(){return{configurationPropertyDocument:t}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function et(e){var t=e.indexingConfigurationDocument;return W.g.updateIndexingConfiguration({indexingConfigurationDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function tt(e){var t=e.jobPoolListDocument;return W.g.updateJobPoolConfiguration({jobPoolListDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function nt(e){var t=e.ftpPoolConfigurationDocument;return W.g.updateFtpPoolConfiguration({ftpPoolConfigurationDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function at(e){var t=e.metricsConfigurationDocument;return W.g.updateMetricsConfiguration({metricsConfigurationDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function rt(e){var t=e.pathAliasConfigurationDocument;return W.g.updatePathAliasConfiguration({pathAliasConfigurationDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ot(e){var t=e.logReportConfigurationDocument;return W.g.updateLogReportConfiguration({logReportConfigurationDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ct(e){var t=e.corsConfigurationDocument;return W.g.updateCorsConfiguration({corsConfigurationDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function it(e){var t=e.oAuth2ConfigurationDocument;return W.g.updateAuthConfiguration({oAuth2ConfigurationDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var st=n(11),lt=n(686),ut=n(685),jt=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).toggleEdit=a.toggleEdit.bind(Object(M.a)(a)),a.onSubmitSuccess=a.onSubmitSuccess.bind(Object(M.a)(a)),a.state={isEditing:e.defaultEditing||!1},a}return Object(N.a)(n,[{key:"onSubmitSuccess",value:function(e,t,n){var a=this.props.onSubmitSuccess;this.toggleEdit(),a(e,t,n)}},{key:"toggleEdit",value:function(){var e=this.state.isEditing;this.setState({isEditing:!e})}},{key:"render",value:function(){var e=this.props,t=e.submitForm,n=e.initialValues,a=e.formComponent,r=e.formProps,o=void 0===r?{}:r,c=e.displayComponent,i=e.displayProps,s=void 0===i?{}:i,l=e.formName,j=e.onSubmit,d=e.onSubmitFail,m=e.title,b=e.iconList,h=this.state.isEditing;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:m}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsxs)(Q.a,{item:!0,children:[b,a&&Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{color:"primary"}),label:"Edit",checked:h,onChange:this.toggleEdit})]})})}),Object(ie.jsx)(Se.a,{children:h?a&&Object(ie.jsx)(a,Object(u.a)({form:l,initialValues:n,onSubmit:j,onSubmitSuccess:this.onSubmitSuccess,onSubmitFail:d},o)):c&&Object(ie.jsx)(c,Object(u.a)({},s))}),h&&a&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:function(){return t(l)},size:"small",color:"primary",children:"Save"})]})]})]})}}]),n}(o.a.PureComponent),dt={submitForm:st.f},mt=Object(s.b)(null,dt)(jt),bt=n(357),ht=n(711);function Ot(e,t){var n=function(n){Object(A.a)(o,n);var a=Object(L.a)(o);function o(){return Object(E.a)(this,o),a.apply(this,arguments)}return Object(N.a)(o,[{key:"getRenderedComponent",value:function(){return this.component}},{key:"render",value:function(){var n,a=this;return Object(r.createElement)(e,Object(u.a)(Object(u.a)({},t(this.props)),{},{ref:(n=e,n.render?function(e){return a.component=e}:null)}))}}]),o}(r.Component);return n.displayName="ReduxFormMaterialUI".concat(e.name),n}var pt=Ot(ht.a,(function(e){var t=e.input,n=t.onChange,a=t.value,r=Object(ye.a)(t,["onChange","value"]),o=(e.meta,e.onChange,e.defaultChecked,Object(ye.a)(e,["input","meta","onChange","defaultChecked"]));return Object(u.a)(Object(u.a)(Object(u.a)({},r),o),{},{checked:!!a,onChange:function(e,t){n(t)}})})),xt=Ot(n(687).a,(function(e){var t=e.input,n=t.onChange,a=t.value,r=Object(ye.a)(t,["onChange","value"]),o=(e.meta,e.onChange),c=Object(ye.a)(e,["input","meta","onChange"]);return Object(u.a)(Object(u.a)(Object(u.a)({},r),c),{},{value:a,onChange:function(e,t){n(t),o&&o(t)}})})),ft=n(638),vt=function(e){var t=e.hasHelperText,n=void 0===t||t,a=e.meta,r=(a=void 0===a?{}:a).touched,o=a.error,c=a.warning,i=e.input,s=Object(ye.a)(e,["hasHelperText","meta","input"]),l=r&&(o||c)?Object(u.a)(Object(u.a)(Object(u.a)({},s),i),{},{error:Boolean(o||c)}):Object(u.a)(Object(u.a)({},i),s);return r&&n&&(o||c)&&(l.helperText=o||c),l},gt=Ot(ft.a,(function(e){var t=e.input,n=t.onChange,a=t.value,r=t.onBlur,o=Object(ye.a)(t,["onChange","value","onBlur"]),c=e.onChange,i=(e.defaultValue,Object(ye.a)(e,["input","onChange","defaultValue"]));return Object(u.a)(Object(u.a)(Object(u.a)({},vt(Object(u.a)(Object(u.a)({},i),{},{hasHelperText:!1}))),o),{},{value:a,onChange:function(e){n(e.target.value),c&&c(e.target.value)},onBlur:function(){return r(a)}})})),yt=(Ot(ae.a,(function(e){var t=e.input,n=t.onChange,a=t.value,r=Object(ye.a)(t,["onChange","value"]),o=(e.checked,e.meta,Object(ye.a)(e,["input","checked","meta"]));return Object(u.a)(Object(u.a)(Object(u.a)({},r),o),{},{onChange:n,checked:!!a})})),n(688)),St=Ot(yt.a,(function(e){e.defaultValue;var t=Object(ye.a)(e,["defaultValue"]);return Object(u.a)({},vt(t))})),Ct=n(319),Rt=n(359),It=n(59),Dt=n.n(It),Ft=function(e){return function(t){Object(A.a)(a,t);var n=Object(L.a)(a);function a(e){var t;return Object(E.a)(this,a),(t=n.call(this,e)).state={hasError:null},t}return Object(N.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0}),console.error(this.props)}},{key:"render",value:function(){return this.state.hasError?Object(ie.jsx)(X.a,{color:"error",children:"Unable to render component (see console)"}):Object(ie.jsx)(e,Object(u.a)({},this.props))}}]),a}(o.a.Component)},kt=Object(Me.a)({button:{padding:"unset",minWidth:"unset"}})((function(e){var t=e.classes,n=e.children,a=Object(ye.a)(e,["classes","children"]);return Object(ie.jsx)(he.a,Object(u.a)(Object(u.a)({className:t.button,disableFocusRipple:!0,disableRipple:!0},a),{},{children:n}))})),Tt=function(e){var t=e.removeLabel,n=e.fields,a=e.index,r=e.label;return t?Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return n.remove(a)},children:"Remove ".concat(r)}):Object(ie.jsx)(_.a,{onClick:function(){return n.remove(a)},children:Object(ie.jsx)(Dt.a,{})})};function Pt(e){var t=e.fields,n=e.label,a=e.typeComponent,r=e.classes,o=e.removeLabel,c=e.hover,i=void 0===c||c,s=e.labelStartCase,l=void 0===s||s,u=e.maxOccurs,j=void 0===u?1/0:u,d=e.dense,m=void 0!==d&&d,b=e.withHeader,h=void 0===b||b,O=e.direction,p=void 0===O?"column":O,x=e.arrayHeader,f=void 0!==x&&x,v=l?He()(n):n;return Object(ie.jsxs)("div",{children:[f&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:v}),t.map((function(e,n){return Object(ie.jsxs)("div",{className:i?r.onHover:r.noHover,children:[Object(ie.jsxs)(Q.a,{container:!0,direction:"row-reverse",justify:"space-between",alignItems:"baseline",children:[Object(ie.jsx)(Q.a,{item:!0,sm:"auto",children:"row"!==p&&Object(ie.jsx)(Tt,{index:n,removeLabel:o,fields:t,label:v})}),h&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:"".concat(v," ").concat(n+1)})]}),"row"===p?Object(ie.jsxs)(Q.a,{container:!0,direction:"row",children:[Object(ie.jsx)(Q.a,{item:!0,sm:11,children:Object(ie.jsx)(Ct.a,{name:"".concat(e),component:a})}),Object(ie.jsx)(Q.a,{item:!0,sm:"auto",children:Object(ie.jsx)(Tt,{index:n,removeLabel:o,fields:t,label:v})})]}):Object(ie.jsx)("div",{className:m?void 0:r.marginLeft,children:Object(ie.jsx)(Ct.a,{name:"".concat(e),component:a})})]},"".concat(e))})),t.length!==j&&Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:v?"Add ".concat(v):"Add"})]})}var Et,Nt=Ft(Object(Me.a)((function(e){return{onHover:{"&:hover":{backgroundColor:e.palette.action.hover}},noHover:{},marginLeft:{marginLeft:"10px"}}}))((function(e){var t=e.component,n=Object(ye.a)(e,["component"]);return Object(ie.jsx)(Rt.a,Object(u.a)({component:Pt,typeComponent:t},n))}))),Mt=Object(Me.a)((function(e){return{onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:e.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}}}))((function(e){var t=e.label,n=e.hover,a=void 0!==n&&n,r=e.classes,o=e.labelStartCase,c=void 0===o||o,i=Object(ye.a)(e,["label","hover","classes","labelStartCase"]);return Object(ie.jsxs)("div",{className:a?r.onHover:r.noHover,children:[t&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:c?He()(t):t}),Object(ie.jsx)("div",{className:t?r.marginLeft:void 0,children:Object(ie.jsx)(Ct.a,Object(u.a)({},i))})]})})),At=n(358),Lt=(Et=At.a,function(e){var t=e.nameAsTitle,n=void 0===t||t,a=e.useStartCase,r=void 0===a||a,o=Object(ye.a)(e,["nameAsTitle","useStartCase"]),c=o.label;c=!c&&n?o.name&&r?He()(o.name):o.name:o.label&&r?He()(o.label):o.label;var i=o.title&&r?He()(o.title):o.title;return Object(ie.jsx)(Et,Object(u.a)(Object(u.a)({},o),{},{title:i,label:c}))}),Wt=function(e){return Object(ie.jsx)(pt,Object(u.a)({value:e.input.checked,checked:e.input.checked,onClick:function(){return e.input.onChange(!e.input.checked)},indeterminate:""===e.input.value},e))},wt=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"fullText",component:Wt}),label:"Full Text"})]})},_t=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"solrPath",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"solrCollection",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"zookeeperHost",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"elasticsearchPath",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"commitInterval",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"softCommitInterval",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"autoSoftCommit",component:Wt}),label:"Auto Soft Commit"}),Object(ie.jsx)(Lt,{name:"pingAttempts",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"pingTimeout",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"queryTimeout",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Nt,{name:"fieldDefault",label:"fieldDefault",component:wt})]})};var Vt=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"indexingConfigurationDocument",component:_t}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Bt=n(41),Ut=n(52),qt=n.n(Ut),Gt=n(234),Ht=n.n(Gt),Jt=n(104),zt=n.n(Jt),Kt=(n(341),n(342),n(266),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).cmRef=a.cmRef.bind(Object(M.a)(a)),a}return Object(N.a)(n,[{key:"cmRef",value:function(e){this.jsonRef=e}},{key:"render",value:function(){var e=this.props.value;return this.jsonRef&&this.jsonRef.codeMirror.setValue(e),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ht.a,Object(u.a)({codeMirrorInstance:zt.a,ref:this.cmRef},this.props))})}}]),n}(o.a.Component));function Yt(e,t){if(void 0===e)return"";if(Number.isNaN(e))return"";if(0===e)return"0";var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?"".concat(e," ").concat(t[n],")"):"".concat((e/Math.pow(1e3,n)).toFixed(1)," ").concat(t[n])}function Xt(e){return Yt(e,["Hz","kHz","mHz","gHz","tHz"])}function Qt(e){var t=" ".repeat(2),n=0;return e.replace(/(>)(<)(\/*)/g,"$1\r\n$2$3").split("\r\n").map((function(e){var a=0;return e.match(/.+<\/\w[^>]*>$/)?a=0:e.match(/^<\/\w/)&&n>0?n-=1:a=e.match(/^<\w[^>]*[^/]>.*$/)?1:0,n+=a,t.repeat(n-a)+e})).join("\r\n")}function $t(e,t){if(e)return JSON.stringify(JSON.parse(e),null,t||2)}var Zt=function(e){return e[0].toUpperCase()+e.toLowerCase().slice(1)};function en(e){return function(e,t){if(void 0===e)return"";if(Number.isNaN(e))return"";if(0===e)return"0";var n,a=e;e<0&&(n=!0,a=-e);var r=parseInt(Math.floor(Math.log(a)/Math.log(1024)),10);return 0===r?"".concat(e," ").concat(t[r]):"".concat(n?"-":"").concat((e/Math.pow(1024,r)).toFixed(1)," ").concat(t[r])}(e,["Bytes","KB","MB","GB","TB","PB","EB"])}function tn(e){var t=qt()(e),n=qt()(),a=qt.a.duration(n.diff(t));return"".concat(parseInt(a.asMinutes(),10)," minutes")}var nn=Ft(Object(Me.a)((function(e){return{FormControlLabel:{height:e.typography.subtitle1.lineHeight},onHover:{minHeight:"32px","&:hover":{backgroundColor:e.palette.action.hover}},default:{minHeight:"32px"}}}))((function(e){var t=e.title,n=e.value,a=e.variant,r=e.capitalize,c=void 0!==r&&r,i=e.titleGridProps,s=e.valueGridProps,l=e.titleTypographyProps,j=void 0===l?{}:l,d=e.valueTypographyProps,m=void 0===d?{}:d,b=e.classes,h=e.hover,O=void 0!==h&&h,p=e.hideNoValue,x=void 0!==p&&p,f=e.titleStartCase,v=void 0===f||f,g=e.codeProps,y=void 0===g?{}:g,S=e.onClick,C=e.disableOnClick,R=void 0===C||C,I=e.noWrap,D=void 0!==I&&I,F=e.noWrapTitle,k=void 0===F||F,T=e.hideCode,P=void 0!==T&&T,E=e.initialHideCode,N=void 0===E||E,M=e.to,A=o.a.useState(N),L=Object(Bt.a)(A,2),W=L[0],_=L[1],V=function(){return _((function(e){return!e}))},B=R?function(e){return e.stopPropagation()}:S;if(x){if(void 0===n)return null;if(Array.isArray(n)&&0===n.length)return null}if("code"===a||"text/plain"===a)return Object(ie.jsxs)("div",{children:[void 0!==t&&Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",className:O?b.onHover:b.default,wrap:"nowrap",children:[Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({xl:1,lg:2,md:3,sm:4,xs:6},i),{},{item:!0,children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:B,noWrap:k,children:v?He()(t):t})})),!0===P&&Object(ie.jsx)(he.a,{onClick:V,size:"small",variant:"outlined",children:"".concat(W?"Show":"Hide"," ").concat(v?He()(t):t)})]}),(!1===P||!1===W)&&Object(ie.jsx)(Kt,{value:n||"",onClick:B,options:Object(u.a)({readOnly:!0,theme:"material",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},y)})]});if("json"===a||"application/json"===a)return Object(ie.jsxs)("div",{children:[void 0!==t&&Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",className:O?b.onHover:b.default,wrap:"nowrap",children:[Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({xl:1,lg:2,md:3,sm:4,xs:6},i),{},{item:!0,children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:B,noWrap:k,children:v?He()(t):t})})),!0===P&&Object(ie.jsx)(he.a,{onClick:V,size:"small",variant:"outlined",children:"".concat(W?"Show":"Hide"," ").concat(v?He()(t):t)})]}),(!1===P||!1===W)&&Object(ie.jsx)(Kt,{value:$t(n)||"",onClick:B,options:Object(u.a)({readOnly:!0,theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},y)})]});if("application/ld+json"===a)return Object(ie.jsxs)("div",{children:[void 0!==t&&Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",className:O?b.onHover:b.default,wrap:"nowrap",children:[Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({xl:1,lg:2,md:3,sm:4,xs:6},i),{},{item:!0,children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:B,noWrap:k,children:v?He()(t):t})})),!0===P&&Object(ie.jsx)(he.a,{onClick:V,size:"small",variant:"outlined",children:"".concat(W?"Show":"Hide"," ").concat(v?He()(t):t)})]}),(!1===P||!1===W)&&Object(ie.jsx)(Kt,{value:n||"",onClick:B,options:Object(u.a)({readOnly:!0,theme:"material",mode:"application/ld+json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},y)})]});if("xml"===a||"application/xml"===a)return Object(ie.jsxs)("div",{children:[void 0!==t&&Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",className:O?b.onHover:b.default,wrap:"nowrap",children:[Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({xl:1,lg:2,md:3,sm:4,xs:6},i),{},{item:!0,children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",onClick:B,noWrap:k,children:v?He()(t):t})})),!0===P&&Object(ie.jsx)(he.a,{onClick:V,size:"small",variant:"outlined",children:"".concat(W?"Show":"Hide"," ").concat(v?He()(t):t)})]}),(!1===P||!1===W)&&Object(ie.jsx)(Kt,{value:Qt(n)||"",onClick:B,options:Object(u.a)({readOnly:!0,theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},y)})]});if("boolean"===a)return Object(ie.jsx)("div",{className:O?b.onHover:b.default,children:Object(ie.jsx)(re.a,{classes:{root:b.FormControlLabel},control:Object(ie.jsx)(ht.a,{checked:"true"===n||!0===n,indeterminate:""===n||void 0===n,disabled:!0}),label:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:v?He()(t):t})})});var U=function(e){var t=e.value,n=e.variant,a=e.capitalize,r=(e.classes,e.to),o=Object(ye.a)(e,["value","variant","capitalize","classes","to"]),c=null;if(void 0===t)return c;var i,s=function(e){return Object(ie.jsx)(X.a,Object(u.a)(Object(u.a)({color:"textPrimary",variant:"subtitle2"},o),e))};switch(n){case"checkbox":c=Object(ie.jsx)(ht.a,{checked:t,disabled:!0});break;case"component":c=t;break;case"aspectratio":"object"===typeof t&&t.horizontal&&(c=Object(ie.jsx)(s,{children:"Horizontal:".concat(t.horizontal," Vertical:").concat(t.vertical)}));break;case"duration":if("object"===typeof t&&t.started){var l=qt()(t.started),j=qt()(t.finished),d=qt.a.duration(j.diff(l)).humanize();c=Object(ie.jsx)(s,{children:d})}break;case"fromnow":c=Object(ie.jsx)(s,{children:tn(t)});break;case"timestring":c=Object(ie.jsx)(s,{children:t?qt()(t).toString():""});break;case"timestamp":c=Object(ie.jsx)(s,{children:t});break;case"seconds":c=Object(ie.jsx)(s,{children:qt.a.duration(t,"seconds").humanize()});break;case"rational":"object"===typeof t&&t.denominator&&(c=Object(ie.jsx)(s,{children:"".concat(t.numerator,"/").concat(t.denominator)}));break;case"resolution":"object"===typeof t&&t.width&&(c=Object(ie.jsx)(s,{children:"Width:".concat(t.width," Height:").concat(t.height)}));break;case"timebase":"object"===typeof t&&t.denominator&&(c=Object(ie.jsx)(s,{children:"".concat(t.denominator,"/").concat(t.numerator)}));break;case"timecode":"object"===typeof t&&t.samples&&(c=Object(ie.jsx)(s,{children:"".concat(t.samples,"@").concat(t.timeBase.denominator,"/").concat(t.timeBase.numerator)}));break;case"fps":if("object"===typeof t&&t.denominator){var m=+(t.denominator/t.numerator).toFixed(2);c=Object(ie.jsx)(s,{children:"".concat(m," fps")})}break;case"fps-reverse":if("object"===typeof t&&t.denominator){var b=+(t.numerator/t.denominator).toFixed(2);c=Object(ie.jsx)(s,{children:"".concat(b," fps")})}break;case"bitrate":c=Object(ie.jsx)(s,{children:(i=t,Yt(i,["bps","Kbps","Mbps","Gbps","Tbps"]))});break;case"percent":c=Object(ie.jsx)(s,{children:"".concat(parseInt(t,10)||0,"%")});break;case"frequency":c=Object(ie.jsx)(s,{children:Xt(t)});break;case"bytes":c=Object(ie.jsx)(s,{children:en(t)});break;case"link":c=Object(ie.jsx)(s,{children:r?Object(ie.jsx)(ze,{to:r,children:t}):t});break;case"username":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/user/".concat(t,"/"),children:t})});break;case"group":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/group/".concat(t,"/"),children:t})});break;case"shape-tag":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/shape-tag/".concat(t,"/"),children:t})});break;case"metadata-field":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/metadata-field/".concat(t,"/"),children:t})});break;case"itemId":case"item":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/item/".concat(t,"/"),children:t})});break;case"collectionId":case"collection":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/collection/".concat(t,"/"),children:t})});break;case"library":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/library/".concat(t,"/"),children:t})});break;case"documentMetadataName":case"document":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/document/".concat(t),children:t})});break;case"fileId":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/file/".concat(t,"/"),children:t})});break;case"storageId":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/storage/".concat(t,"/"),children:t})});break;case"jobtype":c=Object(ie.jsx)(s,{children:Object(ie.jsx)(ze,{to:"/task-definition/jobtype/".concat(t,"/"),children:t})});break;case"boolean":c=Object(ie.jsxs)(s,{children:[("true"===t||!0===t)&&"True",("false"===t||!1===t)&&"False"]});break;case"list":Array.isArray(t)&&(c=t.map((function(e){return Object(ie.jsx)(w.a,{label:e},e)})));break;default:n&&console.warn("TextGrid: Unknown variant=".concat(n)),c=Object(ie.jsx)(s,{children:a?Zt(t):t.toString()})}return c}(Object(u.a)({value:n,variant:a,capitalize:c,onClick:B,classes:b,noWrap:D,to:M},m));return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",className:O?b.onHover:b.default,wrap:"nowrap",children:[Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({xl:1,lg:2,md:3,sm:4,xs:6},i),{},{item:!0,children:Object(ie.jsx)(X.a,Object(u.a)(Object(u.a)({color:"textSecondary",variant:"subtitle2",onClick:B,noWrap:k},j),{},{children:v?He()(t):t}))})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({xs:"auto"},s),{},{item:!0,children:U}))]})}))),an=Ft(Object(Me.a)((function(e){return{onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:e.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}}}))((function(e){var t=e.title,n=e.value,a=e.classes,r=e.component,o=e.hover,c=void 0!==o&&o,i=e.hideNoValue,s=void 0!==i&&i,l=e.titleStartCase,j=void 0===l||l,d=e.dense,m=void 0!==d&&d,b=Object(ye.a)(e,["title","value","classes","component","hover","hideNoValue","titleStartCase","dense"]);return s&&void 0===n?null:Object(ie.jsxs)("div",{className:c?a.onHover:a.noHover,children:[t&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:j?He()(t):t}),"object"===typeof n&&Object(ie.jsx)("div",{className:m?void 0:a.marginLeft,children:Object(ie.jsx)(r,Object(u.a)({value:n},b))})]})}))),rn={marginLeft:{marginLeft:"10px"},withPadding:{paddingTop:"10px",paddingBottom:"10px"}},on=Ft(Object(Me.a)((function(e){return{onHover:{"&:hover":{backgroundColor:e.palette.action.hover}}}}))((function(e){var t=e.title,n=e.titleKey,a=e.value,r=e.classes,o=e.arrayTitle,c=e.arrayStartCase,i=void 0!==c&&c,s=e.component,l=e.hover,u=void 0===l||l,j=e.dense,d=void 0!==j&&j,m=e.hideNoValue,b=void 0!==m&&m,h=e.titleStartCase,O=void 0===h||h,p=e.arrayKey;return b&&void 0===a||b&&0===a.length?null:Array.isArray(a)?Object(ie.jsxs)(ie.Fragment,{children:[o&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:i?He()(o):o}),a.map((function(e,a){return Object(ie.jsxs)("div",{className:u?r.onHover:void 0,style:d?void 0:rn.marginLeft,children:[t&&!n&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:O?He()("".concat(t," ").concat(a+1)):"".concat(t," ").concat(a+1)}),n&&t&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:O?He()("".concat(t," ").concat(e[n])):"".concat(t," ").concat(e[n])}),n&&!t&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:O?He()(e[n]):e[n]}),Object(ie.jsx)("div",{className:d?void 0:r.marginLeft,children:Object(ie.jsx)(s,{value:e})})]},p?e[p]:a)}))]}):null}))),cn=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"solrPath",value:n.solrPath,hover:!0}),Object(ie.jsx)(nn,{title:"solrCollection",value:n.solrCollection,hover:!0}),Object(ie.jsx)(nn,{title:"zookeeperHost",value:n.zookeeperHost,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"elasticsearchPath",value:n.elasticsearchPath,hover:!0}),Object(ie.jsx)(nn,{title:"commitInterval",value:n.concurrentJobs,hover:!0}),Object(ie.jsx)(nn,{title:"softCommitInterval",value:n.softCommitInterval,hover:!0}),Object(ie.jsx)(nn,{title:"autoSoftCommit",value:n.autoSoftCommit,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"pingAttempts",value:n.pingAttempts,hover:!0}),Object(ie.jsx)(nn,{title:"pingTimeout",value:n.pingTimeout,hover:!0}),Object(ie.jsx)(nn,{title:"queryTimeout",value:n.queryTimeout,hover:!0}),Object(ie.jsx)(on,{value:n.fieldDefault,component:function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:e.name,hover:!0}),Object(ie.jsx)(nn,{title:"fullText",value:e.fullText,variant:"boolean",hover:!0})]})},arrayTitle:"Pools",dense:!0})]})};function sn(e){var t=e.indexingConfigurationDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:cn})})}var ln=je((function(e){var t=e.indexingConfigurationDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_INDEXING_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"Indexing Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating Indexing Configuration",messageColor:"secondary"})},onSubmit:et,displayProps:{indexingConfigurationDocument:t},initialValues:{indexingConfigurationDocument:t},formComponent:Vt,displayComponent:sn})}));function un(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(ln,Object(u.a)({},e))})}var jn=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={indexingConfigurationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Configuration | Indexing"}},{key:"onRefresh",value:function(){var e=this;try{W.g.getIndexingConfiguration().then((function(t){return e.setState({indexingConfigurationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Indexing Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.indexingConfigurationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Indexing",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#indexing-settings",onRefresh:this.onRefresh,code:e,codeModal:"IndexingConfigurationDocument"}),e&&Object(ie.jsx)(un,{indexingConfigurationDocument:e,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),dn=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"minSize",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxSize",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"evictionInterval",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"minIdleTime",component:St,type:"number",fullWidth:!0})]})},mn=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"pool",component:dn})})};var bn=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"ftpPoolConfigurationDocument",component:mn}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),hn=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"minSize",value:n.minSize,hover:!0}),Object(ie.jsx)(nn,{title:"maxSize",value:n.maxSize,hover:!0}),Object(ie.jsx)(nn,{title:"evictionInterval",value:n.evictionInterval,hover:!0}),Object(ie.jsx)(nn,{title:"minIdleTime",value:n.minIdleTime,hover:!0})]})},On=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:n.pool,component:hn,dense:!0})})};function pn(e){var t=e.ftpPoolConfigurationDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:On})})}var xn=je((function(e){var t=e.ftpPoolConfigurationDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_FTPPOOL_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"FTP Pool Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating FTP Pool Configuration",messageColor:"secondary"})},onSubmit:nt,displayProps:{ftpPoolConfigurationDocument:t},initialValues:{ftpPoolConfigurationDocument:t},formComponent:bn,displayComponent:pn})}));function fn(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(xn,Object(u.a)({},e))})}var vn=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove All FTP Pool Configuration"}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.g.removeFtpPoolConfiguration().then((function(){a({messageContent:"FTP Pool Configuration Removed"}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing FTP Pool Configuratio",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),gn="FTPPOOL_REMOVE_DIALOG",yn=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={ftpPoolConfigurationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Configuration | FTP Pool"}},{key:"onRefresh",value:function(){var e=this;try{W.g.getFtpPoolConfiguration().then((function(t){return e.setState({ftpPoolConfigurationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading FTP Pool Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.ftpPoolConfigurationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Configuration",parentTo:"/configuration/",title:"FTP Pool",helpTo:"/ref/property.html#ftp-pool-configuration",onRefresh:this.onRefresh,code:e,codeModal:"FtpPoolConfigurationDocument",removeModal:gn}),e&&Object(ie.jsx)(fn,{ftpPoolConfigurationDocument:e,onSuccess:this.onRefresh}),Object(ie.jsx)(vn,{dialogName:gn,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),Sn=n(274),Cn=n(680),Rn=n(273),In=["HIGHEST","HIGH","MEDIUM","LOW","LOWEST","IMMEDIATE"],Dn=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priorityThreshold",children:"Priority Threshold"}),Object(ie.jsx)(Lt,{name:"priorityThreshold",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Lt,{name:"size",component:St,type:"number",fullWidth:!0})]})},Fn=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"concurrentJobs",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Nt,{name:"pool",label:"Pool",component:Dn})]})};var kn=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"jobPoolListDocument",component:Fn}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Tn=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"priorityThreshold",value:n.priorityThreshold,hover:!0}),Object(ie.jsx)(nn,{title:"size",value:n.size,hover:!0})]})},Pn=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"concurrentJobs",value:n.concurrentJobs,hover:!0}),Object(ie.jsx)(on,{value:n.pool,component:Tn,arrayTitle:"Pools",dense:!0})]})};function En(e){var t=e.jobPoolListDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:Pn})})}var Nn=je((function(e){var t=e.jobPoolListDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_JOBPOOL_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"Job Pool Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating Job Pool Configuration",messageColor:"secondary"})},onSubmit:tt,displayProps:{jobPoolListDocument:t},initialValues:{jobPoolListDocument:t},formComponent:kn,displayComponent:En})}));function Mn(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Nn,Object(u.a)({},e))})}var An=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove All Job Pool Configuration"}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.g.removeAllJobPoolConfiguration().then((function(){a({messageContent:"Job Pool Configuration Removed"}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing Job Pool Configuration",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Ln="JOBPOOL_REMOVE_DIALOG",Wn=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={jobPoolListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Job Pools"}},{key:"onRefresh",value:function(){var e=this;try{W.g.getJobPoolConfiguration().then((function(t){return e.setState({jobPoolListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Job Pool Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.jobPoolListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Job Pool",helpTo:"/ref/property.html#job-pool-configuration",onRefresh:this.onRefresh,code:e,codeModal:"JobPoolListDocument",removeModal:Ln}),e&&Object(ie.jsx)(Mn,{jobPoolListDocument:e,onSuccess:this.onRefresh}),Object(ie.jsx)(An,{dialogName:Ln,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),wn=Object(Me.a)({root:{tableLayout:"fixed"}})((function(e){return Object(ie.jsx)(De.a,Object(u.a)(Object(u.a)({},e),{},{className:e.classes.root}))})),_n=Fe.a;var Vn=function(e){var t=e.disableOnClick,n=e.onClick,a=Object(ye.a)(e,["disableOnClick","onClick"]),r=t?function(e){return e.stopPropagation()}:n;return Object(ie.jsx)(ke.a,Object(u.a)({onClick:r},a))},Bn=Te.a;function Un(e){var t=e.to,n=Object(ye.a)(e,["to"]),a=Object(d.f)(),r=n.onClick,o=t?function(){return a.push(t)}:r;return Object(ie.jsx)(Pe.a,Object(u.a)({onClick:o,style:{cursor:o?"pointer":"auto"}},n))}var qn={onClose:a.closeModal,onOpen:a.openModal},Gn=function(e){return Object(s.b)(null,qn)(function(t){Object(A.a)(a,t);var n=Object(L.a)(a);function a(e){var t;return Object(E.a)(this,a),(t=n.call(this,e)).onOpen=t.onOpen.bind(Object(M.a)(t)),t.state={dialogProps:void 0},t}return Object(N.a)(a,[{key:"onOpen",value:function(e){var t=this,n=this.props.onOpen;return function(a){t.setState({dialogProps:a},(function(){return n({modalName:e})}))}}},{key:"render",value:function(){return Object(ie.jsx)(e,Object(u.a)(Object(u.a)({},this.props),{},{dialogProps:this.state.dialogProps,onOpen:this.onOpen}))}}]),a}(o.a.PureComponent))},Hn=n(165),Jn=n.n(Hn);function zn(e){var t=e.configurationPropertyDocument,n=void 0===t?{}:t,a=e.onRemove,r=e.onEdit;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:n.key}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(X.a,{noWrap:!0,children:n.value})}),Object(ie.jsx)(Vn,{children:n.lastChange?qt()(n.lastChange).fromNow().toString():""}),Object(ie.jsxs)(Vn,{disableOnClick:!0,children:[Object(ie.jsx)(_.a,{onClick:function(){return a({propertyKey:n.key})},children:Object(ie.jsx)(ee.a,{})}),Object(ie.jsx)(_.a,{onClick:function(){return r({configurationPropertyDocument:n})},children:Object(ie.jsx)(Jn.a,{})})]})]})})}var Kn=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.propertyKey,o=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Configuration Property "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.g.removePropertiesConfiguration({key:r}).then((function(){var e="Configuration Property ".concat(r," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Configuration Property",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Yn=n(709),Xn=n(689),Qn=function(e){return Object(ie.jsx)(St,Object(u.a)({disabled:void 0!==e.meta.initial&&""!==e.meta.initial,onFocus:e.onFocus,onBlur:e.onBlur},e))},$n=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"key",label:"Key",component:Qn,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"value",label:"Value",component:St,fullWidth:!0,multiline:!0})]})},Zn=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"configurationPropertyDocument",component:$n}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ea=n(275),ta=function(e){var t=e.className||{};return Object(ie.jsxs)("div",{className:t.root,children:[e.label&&Object(ie.jsx)(Sn.a,{error:Boolean(e.error||e.warning),className:t.label,children:e.label}),Object(ie.jsx)(Ht.a,Object(u.a)({codeMirrorInstance:zt.a,options:Object(u.a)({theme:"material"},e.options),className:t.input,ref:e.cmRef},e.input)),Boolean(e.meta.touched&&e.meta.error)&&Object(ie.jsx)(ea.a,{error:!0,className:t.helper,children:e.meta.error})]})},na=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"key",label:"Key",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"value",label:"Value",component:ta,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})]})},aa=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"configurationPropertyDocument",component:na}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ra={submitForm:st.f,resetForm:st.d,changeForm:st.a,destroyForm:st.b,initializeForm:st.c},oa=function(e){return Object(s.b)(null,ra)(e)},ca=function(e){return function(t){return function(n){Object(A.a)(r,n);var a=Object(L.a)(r);function r(t){var n;Object(E.a)(this,r),(n=a.call(this,t)).onChangeTab=n.onChangeTab.bind(Object(M.a)(n));var o=new URLSearchParams(t.location.search).get("tab");return n.state={tabValue:o||e},n}return Object(N.a)(r,[{key:"onChangeTab",value:function(e,t){this.props.history.push({search:"?tab=".concat(t)}),this.setState({tabValue:t})}},{key:"render",value:function(){var e=this.state.tabValue;return Object(ie.jsx)(t,Object(u.a)(Object(u.a)({},this.props),{},{tabValue:e,onChangeTab:this.onChangeTab}))}}]),r}(o.a.PureComponent)}},ia=Object(Me.a)({root:{overflow:"visible"}})((function(e){return Object(ie.jsx)(xe.a,Object(u.a)(Object(u.a)({},e),{},{className:e.classes.root}))})),sa="CONFIGURATIONPROPERTIES_FORM",la="TEXT_TAB",ua="JAVASCRIPT_TAB";var ja=Object(m.c)(de,oa,ca(la))((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.configurationPropertyDocument,i=e.tabValue,s=e.onChangeTab,l=function(e){var t=e.configurationPropertyDocument.key,o="Configuration Property ".concat(t," Updated");r({messageContent:o}),a&&a(),n()},u=function(){r({messageContent:"Error Updating Configuration Property",messageColor:"secondary"})},j=!1;return c&&c.key&&c.key.startsWith("javascript-")&&(j=!0),Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Edit Configuration Property"}),Object(ie.jsxs)(ia,{children:[!1===j&&Object(ie.jsxs)(Yn.a,{value:i,onChange:s,children:[Object(ie.jsx)(Xn.a,{label:"Text",value:la}),Object(ie.jsx)(Xn.a,{label:"Javascript",value:ua})]}),!j&&i===la&&Object(ie.jsx)(Zn,{form:sa,onSubmit:Ze,onSubmitSuccess:l,onSubmitFail:u,onCancel:n,initialValues:{configurationPropertyDocument:c},destroyOnUnmount:!1,enableReinitialize:!0}),(j||i===ua)&&Object(ie.jsx)(aa,{form:sa,onSubmit:Ze,onSubmitSuccess:l,onSubmitFail:u,onCancel:n,initialValues:c?{configurationPropertyDocument:c}:{configurationPropertyDocument:{key:"javascript-"}},destroyOnUnmount:!1,enableReinitialize:!0})]}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(sa)},children:"Save"})]})]})})),da="REMOVE_CONFIGURATIONPROPERTIES_DIALOG",ma="CONFIGURATIONPROPERTIES_EDIT_MODAL";var ba=Gn((function(e){var t=e.configurationPropertyListDocument,n=void 0===t?[]:t,a=e.onRefresh,r=e.dialogProps,o=e.onOpen,c=n.property,i=void 0===c?[]:c;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(wn,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Key"}),Object(ie.jsx)(Vn,{children:"Value"}),Object(ie.jsx)(Vn,{children:"Last Changed"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:i.map((function(e){return Object(ie.jsx)(zn,{configurationPropertyDocument:e,onRemove:o(da),onEdit:o(ma)},e.key)}))})]}),Object(ie.jsx)(Kn,Object(u.a)(Object(u.a)({},r),{},{dialogName:da,onSuccess:a})),Object(ie.jsx)(ja,Object(u.a)(Object(u.a)({},r),{},{dialogName:ma,onSuccess:a}))]})}));function ha(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(ba,Object(u.a)({},t))})})}var Oa="CONFIGURATIONPROPERTIES_CREATE_MODAL",pa=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={configurationPropertyListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Configuration Properties",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.g.getPropertiesConfiguration().then((function(t){return e.setState({configurationPropertyListDocument:t.data})}))}catch(n){t({messageContent:"Error Getting Configuration Properties",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.configurationPropertyListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Configuration",parentTo:"/configuration/",title:"Properties",helpTo:"/ref/property.html#configuration-properties",createModal:Oa,onRefresh:this.onRefresh,code:e,codeModal:"ConfigurationPropertyListDocument"}),e&&Object(ie.jsx)(ha,{configurationPropertyListDocument:e,onRefresh:this.onRefresh}),Object(ie.jsx)(ja,{dialogName:Oa,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),xa=function(e){return{onHover:{paddingTop:"10px",paddingBottom:"10px","&:hover":{backgroundColor:e.palette.action.hover}},noHover:{paddingTop:"10px",paddingBottom:"10px"},marginLeft:{marginLeft:"10px"}}},fa=function(e){var t=e.fields,n=e.label,a=e.classes,r=e.hover,o=void 0===r||r,c=e.labelStartCase,i=void 0===c||c,s=e.fieldComponent,l=Object(ye.a)(e,["fields","label","classes","hover","labelStartCase","fieldComponent"]);return Object(ie.jsxs)("div",{children:[t.map((function(e,r){return Object(ie.jsxs)("div",{className:o?a.onHover:a.noHover,children:[Object(ie.jsxs)(Q.a,{container:!0,direction:"row-reverse",justify:"space-between",alignItems:"baseline",children:[Object(ie.jsx)(Q.a,{item:!0,sm:"auto",children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(r)},children:Object(ie.jsx)(Dt.a,{})})}),n&&Object(ie.jsx)(X.a,{variant:"subtitle2",children:i?He()("".concat(n," ").concat(r+1)):"".concat(n," ").concat(r+1)})]}),Object(ie.jsx)("div",{className:a.marginLeft,children:Object(ie.jsx)(At.a,Object(u.a)({name:"".concat(e),component:s},l))})]},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:n?"Add ".concat(n):"Add"})]})},va=Ft((function(e){var t=e.component,n=Object(ye.a)(e,["component"]),a=Object(Me.a)(xa)(fa);return Object(ie.jsx)(Rt.a,Object(u.a)({component:a,fieldComponent:t},n))})),ga=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"host",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"port",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"prefix",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"tags",component:Wt}),label:"Tags"}),Object(ie.jsx)(va,{name:"exclude",label:"Exclude Filter",component:St,fullWidth:!0}),Object(ie.jsx)(va,{name:"include",label:"Include Filter",component:St,fullWidth:!0})]})},ya=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"statsd",component:ga})})};var Sa=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metricsConfigurationDocument",component:ya}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Ca=Ft((function(e){var t=e.value,n=e.title,a=Object(ye.a)(e,["value","title"]);return a.hideNoValue&&void 0===t?null:Array.isArray(t)?a.hideNoValue&&0===t.lenght?null:t.map((function(e,t){return Object(ie.jsx)(nn,Object(u.a)({title:0===t?n:"",value:e},a),t)})):null})),Ra=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"host",value:n.host,hover:!0}),Object(ie.jsx)(nn,{title:"port",value:n.port,hover:!0}),Object(ie.jsx)(nn,{title:"prefix",value:n.prefix,hover:!0}),Object(ie.jsx)(nn,{title:"tags",value:n.tags,variant:"boolean",hover:!0}),Object(ie.jsx)(Ca,{value:n.exclude,title:"Exclude Filter",hover:!0}),Object(ie.jsx)(Ca,{value:n.include,title:"Include Filter",hover:!0})]})},Ia=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:n.statsd,component:Ra,dense:!0})})};function Da(e){var t=e.metricsConfigurationDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:Ia})})}var Fa=je((function(e){var t=e.metricsConfigurationDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_METRICS_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"Metrics Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating Metrics Configuration",messageColor:"secondary"})},onSubmit:at,displayProps:{metricsConfigurationDocument:t},initialValues:{metricsConfigurationDocument:t},formComponent:Sa,displayComponent:Da})}));function ka(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Fa,Object(u.a)({},e))})}var Ta=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={metricsConfigurationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Configuration | Metrics"}},{key:"onRefresh",value:function(){var e=this;try{W.g.getMetricsConfiguration().then((function(t){return e.setState({metricsConfigurationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Metrics Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.metricsConfigurationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Metrics",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#metrics-settings",onRefresh:this.onRefresh,code:e,codeModal:"MetricsConfigurationDocument"}),e&&Object(ie.jsx)(ka,{metricsConfigurationDocument:e,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),Pa=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"path",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"expiryTime",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"uploadUri",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"certificate",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"clientKey",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"clientCertificate",component:St,fullWidth:!0})]})};var Ea=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"logReportConfigurationDocument",component:Pa}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Na=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"path",value:n.path,hover:!0}),Object(ie.jsx)(nn,{title:"expiryTime",value:n.expiryTime,hover:!0}),Object(ie.jsx)(nn,{title:"uploadUri",value:n.uploadUri,hover:!0}),Object(ie.jsx)(nn,{title:"certificate",value:n.certificate,hover:!0}),Object(ie.jsx)(nn,{title:"clientKey",value:n.clientKey,hover:!0}),Object(ie.jsx)(nn,{title:"clientCertificate",value:n.clientCertificate,hover:!0})]})};function Ma(e){var t=e.logReportConfigurationDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:Na})})}var Aa=je((function(e){var t=e.logReportConfigurationDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_LOGREPORT_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"LogReport Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating LogReport Configuration",messageColor:"secondary"})},onSubmit:ot,displayProps:{logReportConfigurationDocument:t},initialValues:{logReportConfigurationDocument:t},formComponent:Ea,displayComponent:Ma})}));function La(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Aa,Object(u.a)({},e))})}var Wa=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={logReportConfigurationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Configuration | Log Report"}},{key:"onRefresh",value:function(){var e=this;try{W.g.getLogReportConfiguration().then((function(t){return e.setState({logReportConfigurationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Log Report Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.logReportConfigurationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Log Report",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#logreport-settings",onRefresh:this.onRefresh,code:e,codeModal:"LogReportConfigurationDocument"}),e&&Object(ie.jsx)(La,{logReportConfigurationDocument:e,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),wa=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(va,{name:"alias",label:"Alias",component:St,fullWidth:!0})})};var _a=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"pathAliasConfigurationDocument",component:wa}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Va(e){var t=e.pathAlias;return Object(ie.jsxs)(Pe.a,{hover:!0,children:[Object(ie.jsx)(ke.a,{children:t}),Object(ie.jsx)(ke.a,{})]})}function Ba(e){var t=e.pathAliasConfigurationDocument.alias,n=void 0===t?[]:t;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"Alias"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:n.map((function(e){return Object(ie.jsx)(Va,{pathAlias:e},e)}))})]})}var Ua=je((function(e){var t=e.pathAliasConfigurationDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_PATHALIAS_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"Path Alias Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating Path Alias Configuration",messageColor:"secondary"})},onSubmit:rt,displayProps:{pathAliasConfigurationDocument:t},initialValues:{pathAliasConfigurationDocument:t},formComponent:_a,displayComponent:Ba})}));function qa(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Ua,Object(u.a)({},e))})}var Ga=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={pathAliasConfigurationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Path Alias",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this;try{W.g.getPathAliasConfiguration().then((function(t){return e.setState({pathAliasConfigurationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Path Alias Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.pathAliasConfigurationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Path Alias",parentTitle:"Configuration",parentTo:"/configuration/",helpTo:"/ref/property.html#path-alias-configuration",onRefresh:this.onRefresh,code:e,codeModal:"PathAliasConfigurationDocument"}),e&&Object(ie.jsx)(qa,{pathAliasConfigurationDocument:e,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),Ha=n(381),Ja=n.n(Ha),za=n(60),Ka=n.n(za);var Ya=Object(Me.a)({chipContainer:{minWidth:260}})((function(e){var t=e.classes,n=e.input,a=e.simple,r=void 0!==a&&a,o=Object(ye.a)(e,["classes","input","simple"]),c="string"===typeof n.value?void 0:n.value,i=r?void 0:{value:"value",text:"value"};return Object(ie.jsx)(Ja.a,Object(u.a)(Object(u.a)(Object(u.a)({},n),o),{},{dataSourceConfig:i,value:c,onDelete:function(e,t){var a=Ka()(n.value,{$splice:[[t,1]]});n.onChange(a)},onBlur:function(e){if(e.target.value){var t=r?[e.target.value]:[{value:e.target.value}];if("object"===typeof n.value){var a=Ka()(n.value,{$push:t});n.onBlur(a)}else n.onBlur(t)}else n.onBlur(n.value)},classes:{chipContainer:t.chipContainer}}))})),Xa=function(e){var t=e.dense;return void 0===t||t?Object(ie.jsxs)(Q.a,{container:!0,spacing:8,children:[Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"key",label:"key",component:St,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"value",label:"value",component:St,fullWidth:!0})})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"key",label:"key",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"value",label:"value",component:St,fullWidth:!0})]})},Qa=function(e){var t=e.dense,n=void 0===t||t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"field",arrayHeader:"field",withHeader:!1,component:Xa,dense:n})})},$a=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"method",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"origin",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"originRegex",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"pathRegex",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"headerRegex",label:"headerRegex",component:Xa,fullWidth:!0})]})},Za=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"allowOrigin",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"allowMethods",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"allowHeaders",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"allowMaxAge",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"allowOtherHeader",label:"allowOtherHeader",component:Xa,fullWidth:!0})]})},er=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Nt,{name:"request",label:"request",component:$a}),Object(ie.jsx)(Mt,{name:"response",label:"response",component:Za})]})},tr=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"entry",label:"entry",component:er})})};var nr=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"corsConfigurationDocument",component:tr}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ar=function(e){var t=e.value,n=void 0===t?{}:t,a=e.dense,r=void 0===a||a;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{title:r?void 0:"field",value:n.field,component:function(e){var t=e.value,n=void 0===t?{}:t;return r?Object(ie.jsx)(nn,{title:n.key,value:n.value,hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"key",value:n.key}),Object(ie.jsx)(nn,{title:"value",value:n.value})]})}})})},rr=function(e){var t=e.value,n=void 0===t?{}:t,a=e.dense;return void 0===a||a?Object(ie.jsx)(nn,{title:n.key,value:n.value,hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"key",value:n.key}),Object(ie.jsx)(nn,{title:"value",value:n.value})]})},or=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"numerator",value:n.numerator,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"denominator",value:n.denominator,hover:!0,hideNoValue:!0})]})},cr=or,ir=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"samples",value:n.samples,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,component:cr,title:"timeBase",value:n.timeBase})]})},sr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"width",value:n.width,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"height",value:n.height,hover:!0,hideNoValue:!0})]})},lr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"horizontal",value:n.horizontal,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"vertical",value:n.vertical,hover:!0,hideNoValue:!0})]})},ur=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{hideNoValue:!0,title:"start",component:ir,value:n.start}),Object(ie.jsx)(an,{hideNoValue:!0,title:"end",component:ir,value:n.end})]})},jr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"method",value:n.method,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"origin",value:n.origin,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"originRegex",value:n.originRegex,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"pathRegex",value:n.pathRegex,variant:"list",hover:!0}),Object(ie.jsx)(on,{title:"headerRegex",value:n.headerRegex,component:rr})]})},dr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"allowOrigin",value:n.allowOrigin,hover:!0}),Object(ie.jsx)(nn,{title:"allowMethods",value:n.allowMethods,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"allowHeaders",value:n.allowHeaders,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"allowMaxAge",value:n.allowMaxAge,hover:!0}),Object(ie.jsx)(on,{title:"allowOtherHeader",value:n.allowOtherHeader,component:rr})]})},mr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(on,{title:"request",value:n.request,component:jr}),Object(ie.jsx)(an,{title:"response",value:n.response,component:dr})]})},br=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{title:"entry",value:n.entry,component:mr})})};function hr(e){var t=e.corsConfigurationDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:br})})}var Or=je((function(e){var t=e.corsConfigurationDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_CORS_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"CORS Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating CORS Configuration",messageColor:"secondary"})},onSubmit:ct,displayProps:{corsConfigurationDocument:t},initialValues:{corsConfigurationDocument:t},formComponent:nr,displayComponent:hr})}));function pr(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Or,Object(u.a)({},e))})}var xr=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={corsConfigurationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Configuration | CORS"}},{key:"onRefresh",value:function(){var e=this;try{W.g.getCorsConfiguration().then((function(t){return e.setState({corsConfigurationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Cors Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.corsConfigurationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Configuration",parentTo:"/configuration/",title:"CORS",helpTo:"/ref/property.html#cors-configuration",onRefresh:this.onRefresh,code:e,codeModal:"CORSConfigurationDocument"}),e&&Object(ie.jsx)(pr,{corsConfigurationDocument:e,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),fr=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"federationMetadataURI",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"federationMetadataInterval",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"expectedAudience",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"validationEndpoint",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"tokenUser",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"x509Certificate",component:St,fullWidth:!0,multiline:!0})]})};var vr=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"oAuth2ConfigurationDocument",component:fr}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),gr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"federationMetadataURI",value:n.federationMetadataURI,hover:!0}),Object(ie.jsx)(nn,{title:"federationMetadataInterval",value:n.federationMetadataInterval,hover:!0}),Object(ie.jsx)(nn,{title:"expectedAudience",value:n.expectedAudience,hover:!0}),Object(ie.jsx)(nn,{title:"validationEndpoint",value:n.validationEndpoint,hover:!0}),Object(ie.jsx)(nn,{title:"tokenUser",value:n.tokenUser,hover:!0}),Object(ie.jsx)(nn,{title:"x509Certificate",value:n.x509Certificate,hover:!0})]})};function yr(e){var t=e.oAuth2ConfigurationDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:gr})})}var Sr=je((function(e){var t=e.oAuth2ConfigurationDocument,n=e.openSnackBar,a=e.onSuccess;return Object(ie.jsx)(mt,{formName:"EDIT_AUTH_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"OAuth2 Configuration Updated"}),a&&a(e,t,r)},onSubmitFail:function(){n({messageContent:"Error Updating OAuth2 Configuration",messageColor:"secondary"})},onSubmit:it,displayProps:{oAuth2ConfigurationDocument:t},initialValues:{oAuth2ConfigurationDocument:t},formComponent:vr,displayComponent:yr})}));function Cr(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Sr,Object(u.a)({},e))})}var Rr=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove All OAuth2 Configuration"}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.g.removeAuthConfiguration().then((function(){a({messageContent:"OAuth2 Configuration Removed"}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing OAuth2 Configuration",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Ir="AUTH_REMOVE_DIALOG",Dr=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={oAuth2ConfigurationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Configuration | OAuth2"}},{key:"onRefresh",value:function(){var e=this;try{W.g.getAuthConfiguration().then((function(t){return e.setState({oAuth2ConfigurationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading OAuth2 Configuration",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.oAuth2ConfigurationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Configuration",parentTo:"/configuration/",title:"OAuth2",helpTo:"/ref/property.html#oauth2-configuration",onRefresh:this.onRefresh,code:e,codeModal:"OAuth2ConfigurationDocument",removeModal:Ir}),e&&Object(ie.jsx)(Cr,{oAuth2ConfigurationDocument:e,onSuccess:this.onRefresh}),Object(ie.jsx)(Rr,{dialogName:Ir,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent));function Fr(e){var t=e.openCode,n=e.openCreate,a=e.onRefresh;return Object(ie.jsx)(ge,{title:"Storage",onRefresh:a,openCode:t,openAction:n,helpTo:"/ref/storage/storage.html"})}var kr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"regex",value:n.regex}),Object(ie.jsx)(nn,{title:"numGroup",value:n.numGroup})]})},Tr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"id",value:n.id}),Object(ie.jsx)(nn,{title:"uri",value:n.uri}),Object(ie.jsx)(nn,{title:"read",variant:"boolean",value:n.read}),Object(ie.jsx)(nn,{title:"write",variant:"boolean",value:n.write}),Object(ie.jsx)(nn,{title:"browse",variant:"boolean",value:n.browse}),Object(ie.jsx)(nn,{title:"lastSuccess",value:n.lastSuccess,variant:"timestamp"}),Object(ie.jsx)(nn,{title:"lastFailure",value:n.lastFailure,variant:"timestamp"}),Object(ie.jsx)(nn,{title:"bandwidth",value:n.value}),Object(ie.jsx)(nn,{title:"failureMessage",value:n.failureMessage}),Object(ie.jsx)(nn,{title:"type",value:n.type}),Object(ie.jsx)(nn,{title:"loc",value:n.loc}),Object(ie.jsx)(on,{title:"metadata",value:n.metadata,component:ar})]})},Pr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"id",value:n.id,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"type",value:n.type,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"state",value:n.state,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"Last Scan",value:n.timestamp,variant:"fromnow",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"capacity",value:n.capacity,variant:"bytes",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"autoDetect",value:n.autoDetect,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"showImportables",value:n.showImportables,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"scanInterval",value:n.scanInterval,variant:"seconds",hideNoValue:!0,hover:!0})]})},Er=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Pr,value:n})})},Nr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"bandwidth",value:n.bandwidth,hover:!0}),Object(ie.jsx)(nn,{title:"lowWatermark",value:n.lowWatermark,variant:"bytes",hover:!0}),Object(ie.jsx)(nn,{title:"highWatermark",value:n.highWatermark,variant:"bytes",hover:!0}),Object(ie.jsx)(nn,{title:"lowWatermarkPercentage",value:n.lowWatermarkPercentage,hover:!0}),Object(ie.jsx)(nn,{title:"lowWatermarkPercentage",value:n.lowWatermarkPercentage,hover:!0}),Object(ie.jsx)(nn,{title:"bean",value:n.bean,hover:!0}),Object(ie.jsx)(nn,{title:"projection",value:n.projection,hover:!0}),Object(ie.jsx)(on,{title:"sequence",value:n.sequence,component:kr,hover:!0}),Object(ie.jsx)(nn,{title:"sequenceTimeout",value:n.sequenceTimeout,hover:!0})]})},Mr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Nr,value:n})})},Ar=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"archiveScript",value:n.archiveScript,variant:"code",hideNoValue:!0})})},Lr=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Ar,value:n})})};var Wr=n(631),wr=n(278),_r=n.n(wr),Vr=n(276),Br=n.n(Vr),Ur=n(277),qr=n.n(Ur),Gr=n(716),Hr=n(289),Jr=n.n(Hr),zr=n(81),Kr=n.n(zr),Yr=n(690),Xr={greenAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:_r.a[500]},baseAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40},redAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:Br.a[500]},orangeAvatar:{marginTop:10,marginBottom:10,color:"#fff",width:40,height:40,backgroundColor:qr.a[500]},icon:{width:25,height:25}},Qr=Object(Me.a)(Xr)((function(e){var t=e.classes;return Object(ie.jsx)(Gr.a,{className:t.greenAvatar,children:Object(ie.jsx)(Kr.a,{className:t.icon})})})),$r=Object(Me.a)(Xr)((function(e){var t=e.classes,n=e.children,a=e.isLoading,r=void 0===a||a;return Object(ie.jsx)(Gr.a,{className:t.baseAvatar,children:r?Object(ie.jsxs)("div",{style:{position:"relative"},children:[Object(ie.jsx)(Yr.a,{className:t.icon,style:{zIndex:1,position:"absolute",left:-20,top:-20}}),Object(ie.jsx)("div",{style:{position:"absolute",left:-20,top:-30},children:n})]}):n})})),Zr=Object(Me.a)(Xr)((function(e){var t=e.classes;return Object(ie.jsx)(Gr.a,{className:t.redAvatar,children:Object(ie.jsx)(Jr.a,{className:t.icon})})})),eo=Object(Me.a)(Xr)((function(e){var t=e.classes;return Object(ie.jsx)(Gr.a,{className:t.orangeAvatar,children:Object(ie.jsx)(Jr.a,{className:t.icon})})}));function to(e){var t=e.storageMethod,n=e.storageId,a=!1;return t.lastFailure?t.lastSuccess&&t.lastFailure&&(a=qt()(t.lastSuccess).isAfter(t.lastFailure)):a=!0,Object(ie.jsxs)(Je,{hover:!0,to:"/storage/".concat(n,"/method/").concat(t.id),children:[Object(ie.jsx)(ke.a,{children:t.id}),Object(ie.jsx)(ke.a,{children:t.uri}),Object(ie.jsx)(ke.a,{padding:"checkbox",children:Object(ie.jsxs)(Wr.a,{row:!0,children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ht.a,{checked:t.read,disabled:!0}),label:Object(ie.jsx)(X.a,{variant:"subtitle2",children:"Read"})}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ht.a,{checked:t.write,disabled:!0}),label:Object(ie.jsx)(X.a,{variant:"subtitle2",children:"Write"})}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ht.a,{checked:t.browse,disabled:!0}),label:Object(ie.jsx)(X.a,{variant:"subtitle2",children:"Browse"})})]})}),Object(ie.jsx)(ke.a,{children:a?Object(ie.jsx)(Qr,{}):Object(ie.jsx)(Zr,{})})]})}function no(e){var t=e.storageDocument,n=t.method,a=t.id;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"ID"}),Object(ie.jsx)(ke.a,{children:"URI"}),Object(ie.jsx)(ke.a,{padding:"checkbox",children:"Permissions"}),Object(ie.jsx)(ke.a,{padding:"checkbox"})]})}),Object(ie.jsx)(Fe.a,{children:n&&n.map((function(e){return Object(ie.jsx)(to,{storageMethod:e,storageId:a},e.id)}))})]})}var ao=["NONE","READY"],ro=["EVACUATING","EVACUATED","DISABLED"],oo=function(e){var t=e.storageDocument;if(void 0===t)return null;var n=t.state;if(ao.includes(n)){var a="NONE"===n?"Online":n.toLowerCase();return Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Qr,{}),label:a})}return ro.includes(n)?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(eo,{}),label:He()(n.toLowerCase())}):Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Zr,{}),label:n?He()(n.toLowerCase()):"Unknown"})};var co=Object(d.g)(Object(Me.a)((function(e){return{onHover:{"&:hover":{backgroundColor:e.palette.action.hover}}}}))((function(e){var t=e.storageDocument,n=e.classes,a=t.id;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Ie,{onClick:function(){return e.history.push("/storage/".concat(a,"/"))},className:n.onHover,children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:a}),action:Object(ie.jsx)(oo,{storageDocument:t})}),Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Er,{value:t}),Object(ie.jsx)(no,{onClick:function(e){return e.stopPropagation()},storageDocument:t})]})]})})})));function io(e){var t=e.storageListDocument.storage;return(void 0===t?[]:t).map((function(e){return Object(ie.jsx)(co,{storageDocument:e},e.id)}))}var so=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("universal:/"===e)return{href:e,protocol:"universal"};var t=!1,n=e;e.startsWith("direct+")&&(t=!0,n=n.replace("direct+",""));var a,r=/(?:([^:]*):\/\/)?(?:([^:@]*)(?::([^@]*))?@)?(?:([^/:]*)\.(?=[^./:]*\.[^./:]*))?([^./:]*)(?:\.([^/.:]*))?(?::([0-9]*))?(\/[^?#]*(?=.*?\/)\/)?([^?#]*)?(?:\?([^#]*))?(?:#(.*))?/,o=r.exec(n),c=Object(Bt.a)(o,12),i=c[0],s=c[1],l=c[2],j=c[3],d=c[4],m=c[5],b=c[6],h=c[7],O=c[8],p=c[9],x=c[10],f=c[11];""===d?a="".concat(a,"."):void 0!==d&&(a="".concat(d,".")),m&&(a="".concat(a||"").concat(m)),""===b?a="".concat(a,"."):void 0!==b&&(a="".concat(a,".").concat(b));var v={};x&&(v=x.split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{[t[0]]:t[1]})}),{}));var g="".concat(O||"").concat(p&&"/"!==p?p:"");return{href:i,protocol:s,username:l,password:j,port:h,path:g||void 0,file:p,hash:f,host:a,queryParams:v,subdomain:d,domain:m,tld:b,direct:t}},lo="file",uo="sftp",jo="http",mo="https",bo="omms",ho="azure",Oo="universal",po="vidinet",xo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={};t&&(n=so(t));var a=Object(u.a)(Object(u.a)({},n),e),r=a.direct,o=a.protocol,c=a.username,i=a.password,s=a.host,l=a.port,j=a.path,d=a.queryParams;if(o===Oo)return"universal:/";var m="";if(r&&(m="direct+"),o&&(m="".concat(m).concat(o,"://")),c&&(m="".concat(m).concat(c,"@")),i&&m.endsWith("@")&&(m="".concat(m.split("@")[0],":").concat(i,"@")),s&&(m="".concat(m).concat(s)),l&&(m="".concat(m,":").concat(l)),j&&(m=j.startsWith("/")||m.endsWith("/")?"".concat(m).concat(j):"".concat(m,"/").concat(j)),d){var b=Object.entries(d).filter((function(e){return""!==e[1]})),h=b.map((function(e){return e.join("=")})).join("&");h&&(m="".concat(m,"?").concat(h))}return m},fo=function(e){var t=e.onChange,n=e.value,a=Object(ye.a)(e,["onChange","value"]);return Object(ie.jsx)(yt.a,Object(u.a)({value:decodeURIComponent(n),onChange:function(e){var n=e.target,a=n.value,r=Object(ye.a)(n,["value"]),o=Object(ye.a)(e,["target"]);return t(Object(u.a)(Object(u.a)({},o),{},{target:Object(u.a)(Object(u.a)({},r),{},{value:encodeURIComponent(a)})}))}},a))},vo=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onChange=a.onChange.bind(Object(M.a)(a)),a}return Object(N.a)(n,[{key:"onChange",value:function(e){var t=this;return function(n,a){var r,o=t.props,c=o.name,i=o.value;if(e===c)r={[c]:n.target.value};else{var s=e.split(".").reverse(),l={$set:n.target.value};void 0!==a&&(l={$set:a});var u=s.reduce((function(e,t){return{[t]:e}}),l);r=Ka()(i,u)}t.props.onChange(r)}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.choices,a=void 0===n?{}:n,r=e.name,o=void 0===r?"":r,c=e.value,i=void 0===c?{}:c,s=Object(ye.a)(e,["children","choices","name","value"]),l=i[o],j=l?a[l]:null;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{select:!0,value:l||"",FormHelperTextProps:{focused:!0},onChange:this.onChange(o),fullWidth:!0,children:t}),j&&Object(ie.jsx)(j,Object(u.a)(Object(u.a)({},s),{},{value:i,onChange:this.onChange}))]})}}]),n}(o.a.PureComponent),go=function(e,t){return function(n){if("path"===e&&!n.target.value.endsWith("/")){var a="".concat(n.target.value,"/");t({target:{value:a}})}}},yo=function(e){var t=e.value,n=void 0===t?{queryParams:{}}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ht.a,{checked:n.direct,onChange:a("direct"),value:n.direct.toString()}),label:"Direct"}),Object(ie.jsx)(yt.a,{label:"Bucket",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Folder",value:n.path||"/",onChange:a("path"),onBlur:go("path",a("path")),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Access Key",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Secret Key",value:n.password||"",onChange:a("password"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Endpoint",value:n.queryParams.endpoint||"",onChange:a("queryParams.endpoint"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Region",value:n.queryParams.region||"",onChange:a("queryParams.region"),fullWidth:!0}),Object(ie.jsxs)(yt.a,{select:!0,fullWidth:!0,value:n.queryParams.signer||"",onChange:a("queryParams.signer"),label:"Signer Type",children:[Object(ie.jsx)(Cn.a,{value:""}),Object(ie.jsx)(Cn.a,{value:"S3SignerType",children:"S3 Signer"}),Object(ie.jsx)(Cn.a,{value:"AWSS3V4SignerType",children:"AWS S3 v4 Signer"})]}),Object(ie.jsxs)(yt.a,{select:!0,fullWidth:!0,value:n.queryParams.storageClass||"",onChange:a("queryParams.storageClass"),label:"Storage Class",children:[Object(ie.jsx)(Cn.a,{value:""}),Object(ie.jsx)(Cn.a,{value:"standard",children:"Standard"}),Object(ie.jsx)(Cn.a,{value:"infrequent",children:"Infrequent"}),Object(ie.jsx)(Cn.a,{value:"reduced",children:"Reduced"})]}),Object(ie.jsx)(yt.a,{label:"SSE Algorithm",value:n.queryParams.sseAlgorithm||"",onChange:a("queryParams.sseAlgorithm"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"SSE Key ID",value:n.queryParams.sseKeyId||"",onChange:a("queryParams.sseKeyId"),fullWidth:!0}),Object(ie.jsxs)(yt.a,{select:!0,fullWidth:!0,value:n.queryParams.accelerate||"",onChange:a("queryParams.accelerate"),label:"Accelerate Transfer",children:[Object(ie.jsx)(Cn.a,{value:""}),Object(ie.jsx)(Cn.a,{value:"true",children:"True"}),Object(ie.jsx)(Cn.a,{value:"false",children:"False"})]}),Object(ie.jsxs)(yt.a,{select:!0,fullWidth:!0,value:n.queryParams.retrievalTier||"",onChange:a("queryParams.retrievalTier"),label:"Retrieval Tier",children:[Object(ie.jsx)(Cn.a,{value:""}),Object(ie.jsx)(Cn.a,{value:"Expedited",children:"Expedited"}),Object(ie.jsx)(Cn.a,{value:"Standard",children:"Standard"}),Object(ie.jsx)(Cn.a,{value:"Bulk",children:"Bulk"})]}),Object(ie.jsxs)(yt.a,{select:!0,fullWidth:!0,value:n.queryParams.ssl||"true",onChange:a("queryParams.ssl"),label:"Use SSL",children:[Object(ie.jsx)(Cn.a,{value:""}),Object(ie.jsx)(Cn.a,{value:"true",children:"True"}),Object(ie.jsx)(Cn.a,{value:"false",children:"False"})]})]})},So=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Bucket",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Folder",value:n.path||"/",onChange:a("path"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Access Key",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Secret Key",value:n.password||"",onChange:a("password"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Endpoint",value:n.queryParams.endpoint||"",onChange:a("queryParams.endpoint"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Chunk Ready Timeout",value:n.queryParams.chunkReadyTimeout||"",onChange:a("queryParams.chunkReadyTimeout"),fullWidth:!0}),Object(ie.jsxs)(yt.a,{select:!0,fullWidth:!0,value:n.queryParams.checksumType||"",onChange:a("queryParams.checksumType"),label:"Checksum Type",children:[Object(ie.jsx)(Cn.a,{value:""}),Object(ie.jsx)(Cn.a,{value:"md5",children:"md5"}),Object(ie.jsx)(Cn.a,{value:"crc32",children:"crc32"}),Object(ie.jsx)(Cn.a,{value:"crc32c",children:"crc32c"})]})]})},Co=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Account Name",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Container",value:n.path||"/",onBlur:go("path",a("path")),onChange:a("path"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Access Key",value:n.username||"",onChange:a("username"),fullWidth:!0})]})},Ro=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Bucket",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Access Key",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Project",value:n.queryParams.project||"",onChange:a("queryParams.project"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Account",value:n.queryParams.account||"",onChange:a("queryParams.account"),fullWidth:!0})]})},Io=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Resource ID",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Access Key",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Secret Key",value:n.password||"",onChange:a("password"),fullWidth:!0})]})},Do=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Host",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Path",value:n.path||"/",onBlur:go("path",a("path")),onChange:a("path"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Username",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Password",value:n.password||"",onChange:a("password"),fullWidth:!0})]})},Fo=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Host",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Path",value:n.path||"/",onBlur:go("path",a("path")),onChange:a("path"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Username",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"Password",value:n.password||"",onChange:a("password"),fullWidth:!0})]})},ko=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange,r=e.showHttpCreds,o=void 0!==r&&r;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Host",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Port",value:n.port||"",onChange:a("port"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Path",value:n.path||"/",onChange:a("path"),onBlur:go("path",a("path")),fullWidth:!0}),o&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fo,{label:"URL Username",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"URL Password",value:n.password||"",onChange:a("password"),fullWidth:!0})]})]})},To=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange,r=e.showHttpCreds,o=void 0!==r&&r;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Host",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Port",value:n.port||"",onChange:a("port"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Path",value:n.path||"/",onBlur:go("path",a("path")),onChange:a("path"),fullWidth:!0}),o&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fo,{label:"URL Username",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"URL Password",value:n.password||"",onChange:a("password"),fullWidth:!0})]})]})},Po=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Host",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"ClusterID/VaultID",value:n.path||"/",onBlur:go("path",a("path")),onChange:a("path"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"User ID",value:n.username||"",onChange:a("username"),fullWidth:!0}),Object(ie.jsx)(fo,{label:"User Key",value:n.password||"",onChange:a("password"),fullWidth:!0})]})},Eo=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(yt.a,{label:"Path",value:n.path||"/",onChange:a("path"),onBlur:go("path",a("path")),fullWidth:!0})})},No=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yt.a,{label:"Agent UUID",value:n.host||"",onChange:a("host"),fullWidth:!0}),Object(ie.jsx)(yt.a,{label:"Share",value:n.path||"/",onChange:a("path"),onBlur:go("path",a("path")),fullWidth:!0})]})};function Mo(e){var t=e.defaultValue,n=e.input.value,a=so(n||t),r=a.path;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ea.a,{children:"".concat(e.label||"URL",": ").concat(n||t||"")}),Object(ie.jsxs)(vo,{choices:{[lo]:Eo,s3:yo,ftp:Do,[uo]:Fo,[jo]:ko,[mo]:To,[bo]:Po,ds3:So,[ho]:Co,gs:Ro,vxa:No,[po]:Io},value:Object(u.a)(Object(u.a)({},a),{},{path:r||"/"}),onChange:function(t){var n=xo(t);e.input.onChange(n)},name:"protocol",children:[Object(ie.jsx)(Cn.a,{value:lo,children:"File"}),Object(ie.jsx)(Cn.a,{value:jo,children:"HTTP"}),Object(ie.jsx)(Cn.a,{value:"s3",children:"S3"}),Object(ie.jsx)(Cn.a,{value:"ftp",children:"FTP"}),Object(ie.jsx)(Cn.a,{value:uo,children:"SFTP"}),Object(ie.jsx)(Cn.a,{value:mo,children:"HTTPS"}),Object(ie.jsx)(Cn.a,{value:bo,children:"Matrix Store"}),Object(ie.jsx)(Cn.a,{value:"ds3",children:"Spectra BlackPearl"}),Object(ie.jsx)(Cn.a,{value:ho,children:"Azure"}),Object(ie.jsx)(Cn.a,{value:"gs",children:"Google Storage"}),Object(ie.jsx)(Cn.a,{value:"vxa",children:"Vidispine Agent"}),Object(ie.jsx)(Cn.a,{value:Oo,children:"Universal"}),Object(ie.jsx)(Cn.a,{value:po,children:"Vidinet"})]})]})}var Ao=["LOCAL","SHARED","REMOTE","EXTERNAL","ARCHIVE","EXPORT"],Lo=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"regex",label:"regex",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"numGroup",label:"numGroup",component:St,type:"number",fullWidth:!0})]})},Wo=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"read",component:Wt}),label:"Read"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"write",component:Wt}),label:"Write"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"browse",component:Wt}),label:"Browse"}),Object(ie.jsx)(Lt,{name:"uri",label:"uri",component:Mo,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bandwidth",label:"bandwidth",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"loc",label:"loc",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"lastSuccess",label:"lastSuccess",component:St,disabled:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"lastFailure",label:"lastFailure",component:St,disabled:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"failureMessage",label:"failureMessage",component:St,disabled:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"type",label:"type",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"metadata",label:"metadata",component:Qa})]})},wo=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Type"}),Object(ie.jsx)(Lt,{name:"type",component:gt,children:Ao.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Lt,{name:"scanInterval",label:"scanInterval",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"autoDetect",component:Wt}),label:"Auto Detect"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"showImportables",component:Wt}),label:"Show Importables"}),Object(ie.jsx)(Lt,{name:"capacity",label:"capacity",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"state",label:"state",component:St,fullWidth:!0,disabled:!0})]})},_o=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"storageDocument",component:wo}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Vo=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"metadata",label:"metadata",component:Qa})})},Bo=(Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Vo}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"method",label:"method",component:Wo})})}),Uo=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Bo}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),qo=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"method",component:Wo}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Go=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"freeCapacity",label:"freeCapacity",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bandwidth",label:"bandwidth",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"timestamp",label:"timestamp",component:St,disabled:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"lowWatermark",label:"lowWatermark",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"highWatermark",label:"highWatermark",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"lowWatermarkPercentage",label:"lowWatermarkPercentage",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bean",label:"bean",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"projection",label:"projection",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"sequenceTimeout",label:"sequenceTimeout",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Nt,{name:"sequence",label:"sequence",component:Lo})]})},Ho=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Go}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Jo=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"archiveScript",label:"archiveScript",component:ta,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})})},zo=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Jo}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Ko=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"storageDocument",component:wo}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Bo}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Go}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Vo}),Object(ie.jsx)(Mt,{name:"storageDocument",component:Jo}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Yo(e){var t=e.storageDocument;return W.M.createStorage({storageDocument:t}).then((function(e){return{storageDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Xo(e,t,n){var a=e.storageDocument,r=n.storageId||a.storageId;return W.M.modifyStorage({storageId:r,storageDocument:a}).then((function(e){return{storageDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Qo(e,t,n){var a=e.method,r=n.storageId,o=n.storageMethodId||a.storageMethodId,c={url:encodeURIComponent(a.uri),read:a.read,write:a.write,browse:a.browse,bandwidth:a.bandwidth,type:a.type};return W.M.modifyStorageMethod({storageId:r,storageMethodId:o,queryParams:c}).then((function(e){return{storageMethodDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function $o(e,t,n){var a=e.method,r=n.storageId,o={url:encodeURIComponent(a.uri),read:a.read,write:a.write,browse:a.browse,bandwidth:a.bandwidth,type:a.type};return W.M.createStorageMethod({storageId:r,queryParams:o}).then((function(e){return{storageMethodDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Zo(e,t,n){var a=e.type,r=n.storageId||e.storageId;return W.M.updateStorageType({storageId:r,storageType:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var ec=n(717),tc=n(692),nc=n(712),ac=n(362),rc=n(360);function oc(e){var t=e.xmlDocument;return W.i.echo({xmlDocument:t}).then((function(e){return e.data})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function cc(e){var t=e.jsonDocument;try{return t?JSON.parse(t):void 0}catch(n){throw new $e.a({_error:n.message})}}var ic=n(691),sc=Object(Me.a)({root:{overflow:"visible"}})((function(e){return Object(ie.jsx)(ic.a,Object(u.a)(Object(u.a)({},e),{},{classes:{transition:e.classes.root}}))}));var lc=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"jsonDocument",component:ta,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),uc=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"xmlDocument",component:ta,options:{theme:"material",mode:"xml",lineWrapping:!0,lineNumbers:!0}}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),jc="EDIT_JSON_FORM",dc="EDIT_XML_FORM",mc="JSON_TAB",bc="XML_TAB",hc="EDIT_WIZARD_FORM",Oc=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onBack=a.onBack.bind(Object(M.a)(a)),a.onNext=a.onNext.bind(Object(M.a)(a)),a.onSkip=a.onSkip.bind(Object(M.a)(a)),a.onGetValues=a.onGetValues.bind(Object(M.a)(a)),a.onChangeTab=a.onChangeTab.bind(Object(M.a)(a)),a.state={activeStep:e.initialStep||1,jsonDocument:void 0,xmlDocument:void 0,tabValue:bc},a}return Object(N.a)(n,[{key:"componentWillUnmount",value:function(){this.props.destroyForm(dc)}},{key:"onBack",value:function(e){0!==this.state.activeStep&&this.setState((function(t){return{activeStep:t.activeStep-1,jsonDocument:e,tabValue:mc}}))}},{key:"onNext",value:function(e){var t=this.state.activeStep;this.setState({activeStep:t+1,jsonDocument:e})}},{key:"onSkip",value:function(){var e=this.state.activeStep;this.setState({activeStep:e+1,jsonDocument:""})}},{key:"onChangeTab",value:function(e,t){this.setState({tabValue:t})}},{key:"onGetValues",value:function(){var e=this.props,t=e.formValues,n=e.stopSubmitForm,a=e.documentName;try{var r=function(e){try{return JSON.stringify(e,null,2)}catch(t){throw new $e.a({_error:t.message})}}(t[a]);this.onBack(r)}catch(s){var o=s.errors,c=(void 0===o?{}:o)._error,i=void 0===c?s.message:c;n(hc,{_error:i})}}},{key:"render",value:function(){var e=this.props,t=e.submitForm,n=e.documentName,a=e.FormComponent,r=e.isJSONFormDirty,o=e.isXMLFormDirty,c=e.onCancel,i=(e.initialStep,Object(ye.a)(e,["submitForm","documentName","FormComponent","isJSONFormDirty","isXMLFormDirty","onCancel","initialStep"])),s=this.state,l=s.activeStep,j=s.jsonDocument,d=s.xmlDocument,m=s.tabValue,b={[n]:j};return Object(ie.jsxs)(ec.a,{activeStep:l,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:n}),Object(ie.jsxs)(sc,{children:[Object(ie.jsxs)(Yn.a,{value:m,onChange:this.onChangeTab,children:[Object(ie.jsx)(Xn.a,{label:"JSON",value:mc}),Object(ie.jsx)(Xn.a,{label:"XML",value:bc})]}),m===mc&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(lc,{form:jc,onSubmitSuccess:this.onNext,onSubmit:cc,initialValues:{jsonDocument:j}}),Object(ie.jsxs)(lt.a,{children:[c&&Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:c,children:"Cancel"}),void 0===j&&Object(ie.jsx)(he.a,{onClick:this.onSkip,children:"Skip"}),r&&Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return t(jc)},children:"Next"}),!r&&void 0!==j&&Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return t(jc)},children:"Next"})]})]}),m===bc&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(uc,{form:dc,onSubmitSuccess:this.onNext,onSubmit:oc,initialValues:{xmlDocument:d},destroyOnUnmount:!1}),Object(ie.jsxs)(lt.a,{children:[c&&Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:c,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:this.onSkip,children:"Skip"}),o&&Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return t(dc)},children:"Next"})]})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Form"}),Object(ie.jsxs)(sc,{children:[Object(ie.jsx)(a,Object(u.a)({form:hc,initialValues:b},i)),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(ut.a,{}),c&&Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:c,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:this.onGetValues,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return t(hc)},children:"Save"})]})]})]})]})}}]),n}(o.a.PureComponent);var pc={openSnackBar:a.openSnackBar,submitForm:st.f,destroyForm:st.b,stopSubmitForm:st.e},xc=Object(s.b)((function(e){return{formValues:Object(ac.a)(hc)(e),isJSONFormDirty:Object(rc.a)(jc)(e),isXMLFormDirty:Object(rc.a)(dc)(e)}}),pc)(Oc);var fc={openSnackBar:a.openSnackBar},vc=Object(s.b)(null,fc)((function(e){var t=e.closeModal,n=e.isOpen,a=e.history,r=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Storage"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:Ko,documentName:"storageDocument",onSubmit:Yo,onSubmitSuccess:function(e){var n=e.storageDocument.id,o="Storage ".concat(n," Created");r({messageContent:o}),a.push("/storage/".concat(n,"/")),t()},onSubmitFail:function(){r({messageContent:"Error Creating Storage",messageColor:"secondary"})},onCancel:t})})]})})),gc="STORAGE_LIST_CODE_MODAL",yc="STORAGE_CREATE_MODAL",Sc=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={storageListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Storage",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.M.listStorage().then((function(t){return e.setState({storageListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Storage List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.history,o=this.state.storageListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Fr,{openCode:function(){return a({modalName:gc})},openCreate:function(){return a({modalName:yc})},onRefresh:this.onRefresh}),o&&Object(ie.jsx)(io,{storageListDocument:o}),Object(ie.jsx)(ve,{isOpen:t===gc,toggleDialogue:n,code:o,title:"StorageListDocument"}),Object(ie.jsx)(vc,{isOpen:t===yc,closeModal:n,history:r})]})}}]),n}(o.a.PureComponent);var Cc={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},Rc=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),Cc)(Sc),Ic=n(382),Dc=n.n(Ic),Fc=n(401),kc=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).openMenu=a.openMenu.bind(Object(M.a)(a)),a.closeMenu=a.closeMenu.bind(Object(M.a)(a)),a.renderChildren=a.renderChildren.bind(Object(M.a)(a)),a.state={menuAnchor:null},a}return Object(N.a)(n,[{key:"openMenu",value:function(e){var t=e.currentTarget;this.setState({menuAnchor:t})}},{key:"closeMenu",value:function(){this.setState({menuAnchor:null})}},{key:"renderChildren",value:function(){var e=this;return o.a.Children.map(this.props.children,(function(t){return o.a.isValidElement(t)?o.a.cloneElement(t,{onClick:function(){var n;t.props.onClick&&(n=t.props).onClick.apply(n,arguments);e.closeMenu()}}):t}))}},{key:"render",value:function(){var e=this.state.menuAnchor,t=this.props,n=t.icon,a=t.children,r=void 0===a?[]:a,o=t.iconProps,c=void 0===o?{}:o,i=this.renderChildren(r);return Object(ie.jsx)(ie.Fragment,{children:0===i.length?Object(ie.jsx)("div",{}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(_.a,Object(u.a)(Object(u.a)({onClick:this.openMenu},c),{},{children:n||Object(ie.jsx)(Dc.a,{})})),Object(ie.jsx)(Fc.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.closeMenu,children:i})]})})}}]),n}(o.a.PureComponent),Tc=function(e){var t=e.storageDocument,n=e.evacuateModal,a=e.evacuateCancelModal,r=e.onOpen;if(void 0===t)return null;var o=t.state;return ao.includes(o)?Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:n})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Evacuate Storage"})}):"EVACUATING"===o?Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:a})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Cancel Evacuate Storage"})}):null};var Pc=T((function(e){var t=e.onOpen,n=e.storageId,a=e.typeModal,r=e.onRescan,o=e.evacuateModal,c=e.evacuateCancelModal,i=e.removeModal,s=e.code,l=Object(ye.a)(e,["onOpen","storageId","typeModal","onRescan","evacuateModal","evacuateCancelModal","removeModal","code"]);return Object(ie.jsx)(ge,Object(u.a)({title:n,parentTitle:"Storage",parentTo:"/storage/",helpTo:"/ref/storage/storage.html",entityId:n,entityType:"storage",code:s,iconList:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(oo,{storageDocument:s}),Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return t({modalName:a})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Change Storage Type"})}),Object(ie.jsx)(Cn.a,{onClick:r,children:Object(ie.jsx)(X.a,{color:"inherit",children:"Rescan"})}),Object(ie.jsx)(Tc,{storageDocument:s,evacuateModal:o,evacuateCancelModal:c,onOpen:t}),Object(ie.jsx)(Cn.a,{onClick:function(){return t({modalName:i})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Delete Storage"})})]})]})},l))})),Ec=n(693),Nc=Object(Ec.a)((function(e){return{root:function(t){return{"& > *":{marginBottom:e.spacing(t.mb)}}}}}));function Mc(e){var t=e.mb,n=void 0===t?2:t,a=e.children,r=Nc({mb:n});return Object(ie.jsx)("div",{className:r.root,children:a})}var Ac={openSnackBar:a.openSnackBar},Lc=Object(s.b)(null,Ac)((function(e){var t=e.storageDocument,n=e.storageId,a=e.openSnackBar,r=e.onRefresh,o=Object(ye.a)(e,["storageDocument","storageId","openSnackBar","onRefresh"]),c={storageId:n},i={value:t},s={storageDocument:t};return Object(ie.jsx)(mt,Object(u.a)({formName:"EDIT_STORAGE_FORM",onSubmitSuccess:function(){a({messageContent:"Storage Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Storage",messageColor:"secondary"})},onSubmit:Xo,formProps:c,displayProps:i,initialValues:s},o))})),Wc=n(235),wc=n.n(Wc);function _c(e){var t=e.fields,n=e.onRestore;return Object(ie.jsxs)(ie.Fragment,{children:[t.length>0&&Object(ie.jsx)(Sn.a,{shrink:!0,children:"Removed"}),t.map((function(e,a){return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(At.a,{name:"".concat(e,".key"),component:St,label:"Key",disabled:!0,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(At.a,{name:"".concat(e,".value"),component:St,label:"Value",disabled:!0,fullWidth:!0})})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return function(e){var a=t.get(e);n&&n(a,e),t.remove(e)}(a)},children:Object(ie.jsx)(wc.a,{})})})]},e)}))]})}function Vc(e){var t=e.fields,n=e.buttonLabel,a=e.label,r=e.onAdd,o=e.onRemove,c=function(e){return Object(ie.jsx)(St,Object(u.a)({disabled:void 0!==e.meta.initial,onFocus:e.onFocus,onBlur:e.onBlur},e))};return Object(ie.jsxs)(Q.a,{container:!0,direction:"column",children:[Object(ie.jsx)(Sn.a,{shrink:!0,children:a}),t.map((function(e,n){return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:4,children:[Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(At.a,{name:"".concat(e,".key"),component:c,label:"Key",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(At.a,{name:"".concat(e,".value"),component:St,label:"Value",fullWidth:!0})})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return function(e){var n=t.get(e);o&&o(n,e),t.remove(e)}(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e)})),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(kt,{onClick:function(){t.push(),r&&r()},color:"primary",style:{marginTop:10},children:n||"Add Metadata"})})]})}var Bc=function(){return Object(ie.jsx)(Rt.a,{name:"field",component:Vc,label:"Job Metadata"})},Uc=Vc,qc=function(e){return Object(ie.jsx)(Rt.a,Object(u.a)(Object(u.a)({},e),{},{name:"field",component:Vc}))};var Gc=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.onAdd,r=e.array,o=e.initialValues;return Object(ie.jsxs)("form",{onSubmit:n,style:{padding:"10px"},children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"simpleMetadataDocument",component:qc,onAdd:a,onRemove:function(e){if(e){var t=o.simpleMetadataDocument,n=(void 0===t?{}:t).field;(void 0===n?[]:n).find((function(t){return t.key===e.key}))&&r.push("removedKeys",e)}}}),Object(ie.jsx)(Rt.a,{name:"removedKeys",component:_c,onRestore:function(e){e&&r.push("simpleMetadataDocument.field",e)}}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Hc(e){var t=e.simpleMetadataList;return(void 0===t?[]:t).map((function(e){return Object(ie.jsx)(nn,{title:e.key,value:e.value,titleStartCase:!1},e.key)}))}var Jc=function(e){var t=e.simpleMetadata.field;return(void 0===t?[]:t).map((function(e){return Object(ie.jsx)(nn,{title:e.key,value:e.value,titleStartCase:!1},e.key)}))};function zc(e,t,n){var a=n.entityType,r=n.entityId,o=e.simpleMetadataDocument,c=e.removedKeys,i=void 0===c?[]:c,s=[new Promise((function(e,t){return W.x.updateSimpleMetadata({entityType:a,entityId:r,simpleMetadataDocument:o}).then((function(){return e()})).catch((function(){return t()}))}))];return i.forEach((function(e){var t=e.key,n=new Promise((function(e,n){return W.x.removeSimpleMetadataKey({entityType:a,entityId:r,key:t}).then((function(){return e()})).catch((function(){return n()}))}));s.push(n)})),Promise.all(s).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Kc(e,t){t((0,a.openSnackBar)({messageContent:"Error Updating Metadata",messageColor:"secondary"}))}var Yc="EDIT_SIMPLE_METADATA_FORM",Xc=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).toggleEdit=a.toggleEdit.bind(Object(M.a)(a)),a.state={isEditing:!1},a}return Object(N.a)(n,[{key:"toggleEdit",value:function(){var e=this.state.isEditing;this.setState({isEditing:!e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.simpleMetadataDocument,r=t.submitForm,o=t.entityType,c=t.entityId,i=t.onSuccess,s=t.title,l=void 0===s?"Metadata":s,j=t.titleProps,d=void 0===j?{}:j,m=this.state.isEditing,b=this.props.simpleMetadataList,h={simpleMetadataDocument:{field:b}};n&&(h={simpleMetadataDocument:n},b=n.field||[]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{title:Object(ie.jsx)(X.a,Object(u.a)(Object(u.a)({variant:"subtitle1"},d),{},{children:l})),disableTypography:!0,action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{color:"primary"}),label:"Edit",checked:m,onChange:this.toggleEdit})})})}),Object(ie.jsx)(Se.a,{children:m?Object(ie.jsx)(Gc,{form:Yc,initialValues:h,onSubmit:zc,onSubmitSuccess:function(t,n,r){!function(e,t){t((0,a.openSnackBar)({messageContent:"Metadata Updated"}))}(0,n),e.toggleEdit(),i&&i(t,n,r)},onSubmitFail:Kc,entityType:o,entityId:c}):Object(ie.jsx)(Hc,{simpleMetadataList:b})}),m&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:function(){return r(Yc)},size:"small",color:"primary",children:"Save"})]})]})]})}}]),n}(o.a.PureComponent),Qc={submitForm:st.f},$c=Object(s.b)(null,Qc)(Xc);function Zc(e){var t=e.storageDocument,n=e.storageId,a=e.onRefresh,r=Object(ye.a)(e,["storageDocument","storageId","onRefresh"]);return Object(ie.jsx)($c,Object(u.a)({entityType:"storage",entityId:n,simpleMetadataDocument:t.metadata,onSuccess:a},r))}function ei(e){var t=e.storageDocument,n=e.openMethodCreate,a=n?Object(ie.jsx)(_.a,{onClick:n,children:Object(ie.jsx)(q.a,{})}):void 0;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Methods"}),action:a}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(no,{storageDocument:t})})]})}function ti(e){return Object(ie.jsxs)(Mc,{children:[Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Lc,Object(u.a)({title:"Settings",formComponent:_o,displayComponent:Er},e))}),Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(ei,Object(u.a)({},e))}),Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Lc,Object(u.a)({title:"Advanced",formComponent:Ho,displayComponent:Mr},e))}),Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Zc,Object(u.a)({},e))}),Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Lc,Object(u.a)({title:"Scripts",formComponent:zo,displayComponent:Lr},e))})]})}function ni(e){var t=e.closeModal,n=e.isOpen,a=e.storageId,r=e.history,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Storage "'.concat(a,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.M.removeStorage({storageId:a}).then((function(){var e="Storage ".concat(a," Removed");o({messageContent:e}),r.push("/storage/"),t()})).catch((function(){o({messageContent:"Error Removing Storage",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var ai={openSnackBar:a.openSnackBar},ri=Object(s.b)(null,ai)((function(e){var t=e.closeModal,n=e.isOpen,a=e.openSnackBar,r=e.storageId,o=e.onRefresh;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Storage Method"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:qo,documentName:"storageMethodDocument",onSubmit:$o,onSubmitSuccess:function(){a({messageContent:"Storage Method Added"}),o(),t()},onSubmitFail:function(){a({messageContent:"Error Adding Storage Method",messageColor:"secondary"})},onCancel:t,storageId:r})})]})}));var oi=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Type"}),Object(ie.jsx)(At.a,{name:"type",component:gt,children:Ao.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ci="STORAGE_TYPE_FORM";var ii=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.storageDocument;if(void 0===c)return null;var i=c.id,s=c.type;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Change Storage Type"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(oi,{form:ci,onSubmit:Zo,onSubmitSuccess:function(e,t,o){r({messageContent:"Storage Type Updated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Updating Storage Type",messageColor:"secondary"})},onCancel:n,storageId:i,initialValues:{type:s}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(ci)},children:"Save"})]})]})}));var si=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.storageDocument,o=e.onSuccess;if(void 0===r)return null;var c=r.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Evacuate Storage ".concat(c)}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.M.startEvacuateStorage({storageId:c}).then((function(){a({messageContent:"Storage Evacuation Started"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Starting Storage Evacuation",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Start"})]})]})}));var li=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.storageDocument,o=e.onSuccess;if(void 0===r)return null;var c=r.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Cancel Storage ".concat(c," Evacuation")}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.M.cancelEvacuateStorage({storageId:c}).then((function(){a({messageContent:"Storage Evacuation Stopping"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Stopping Storage Evacuation",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Stop"})]})]})})),ui="STORAGE_REMOVE_MODAL",ji="STORAGEMETHOD_CREATE_MODAL",di="STORAGE_TYPE_DIALOG",mi="STORAGE_EVACUATE_DIALOG",bi="STORAGE_EVACUATE_CANCEL_DIALOG",hi=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRescan=a.onRescan.bind(Object(M.a)(a)),a.onRescanError=a.onRescanError.bind(Object(M.a)(a)),a.state={storageDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.storageId;document.title="xray | Storage | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this.props.storageId;this.onFetch(e)}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Storage",messageColor:"secondary"})}},{key:"onFetch",value:function(e){var t=this;try{W.M.getStorage({storageId:e}).then((function(e){return t.setState({storageDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRescan",value:function(){var e=this,t=this.props,n=t.storageId,a=t.openSnackBar;try{W.M.rescanStorage({storageId:n}).then((function(){a({messageContent:"Rescan Started"}),e.onRefresh()})).catch((function(t){return e.onRescanError(t)}))}catch(r){this.onRescanError(r)}}},{key:"onRescanError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Rescanning Storage",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.storageId,n=e.modalName,a=e.closeModal,r=e.openModal,o=e.openSnackBar,c=e.history,i=this.state.storageDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pc,{removeModal:ui,typeModal:di,evacuateModal:mi,evacuateCancelModal:bi,onRefresh:this.onRefresh,storageId:t,code:i,codeModal:"StorageDocument",onRescan:this.onRescan}),i&&Object(ie.jsx)(ti,{onRefresh:this.onRefresh,storageId:t,storageDocument:i,openMethodCreate:function(){return r({modalName:ji})}}),Object(ie.jsx)(ni,{isOpen:n===ui,storageId:t,openSnackBar:o,closeModal:a,history:c}),Object(ie.jsx)(ri,{isOpen:n===ji,onRefresh:this.onRefresh,storageId:t,closeModal:a}),Object(ie.jsx)(ii,{dialogName:di,storageDocument:i,onSuccess:this.onRefresh}),Object(ie.jsx)(si,{dialogName:mi,storageDocument:i,onSuccess:this.onRefresh}),Object(ie.jsx)(li,{dialogName:bi,storageDocument:i,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent);var Oi={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},pi=Object(s.b)((function(e,t){var n=t.match.params.storageId;return{modalName:e.ui.modalName,storageId:n}}),Oi)(hi);function xi(e){var t=e.openCode,n=e.onRefresh,a=e.storageId,r=e.storageMethodId,o=e.openRemove;return Object(ie.jsx)(ge,{title:"Method ".concat(r),grandParentTitle:"Storage",grandParentTo:"/storage/",parentTitle:a,parentTo:"/storage/".concat(a),openCode:t,onRefresh:n,helpTo:"/ref/storage/storage.html#storage-methods",actionComponent:Object(ie.jsx)(_.a,{onClick:o,children:Object(ie.jsx)(ee.a,{})})})}var fi={openSnackBar:a.openSnackBar},vi=Object(s.b)(null,fi)((function(e){var t=e.storageMethodDocument,n=e.storageId,a=e.storageMethodId,r=e.openSnackBar,o=e.onRefresh,c={storageId:n,storageMethodId:a},i={value:t.method[0]},s={method:t.method[0]};return Object(ie.jsx)(mt,{formComponent:qo,displayComponent:Tr,formName:"EDIT_STORAGEMETHOD_FORM",onSubmitSuccess:function(){r({messageContent:"Storage Method Saved"}),o&&o()},onSubmitFail:function(){r({messageContent:"Error Updating Storage Method",messageColor:"secondary"})},onSubmit:Qo,formProps:c,displayProps:i,initialValues:s})}));function gi(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie,{children:Object(ie.jsx)(vi,Object(u.a)({},e))})})}function yi(e){var t=e.closeModal,n=e.isOpen,a=e.storageId,r=e.storageMethodId,o=e.history,c=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Storage Method "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.M.removeStorageMethod({storageId:a,storageMethodId:r}).then((function(){var e="Storage Method ".concat(r," Removed");c({messageContent:e}),o.push("/storage/".concat(r)),t()})).catch((function(){c({messageContent:"Error Removing Storage Method",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var Si="STORAGEMETHOD_CODE_MODAL",Ci="STORAGEMETHOD_REMOVE_MODAL",Ri=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={storageMethodDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.storageId,n=e.storageMethodId;document.title="xray | Storage | ".concat(t," | Method | ").concat(n),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.storageId,r=t.storageMethodId;try{W.M.getStorageMethod({storageId:a,storageMethodId:r}).then((function(t){return e.setState({storageMethodDocument:t.data})}))}catch(o){n({messageContent:"Error Loading Storage Method",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.storageId,n=e.storageMethodId,a=e.modalName,r=e.closeModal,o=e.openModal,c=e.openSnackBar,i=e.history,s=this.state.storageMethodDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(xi,{openCode:function(){return o({modalName:Si})},openRemove:function(){return o({modalName:Ci})},onRefresh:this.onRefresh,storageId:t,storageMethodId:n}),s&&Object(ie.jsx)(gi,{onRefresh:this.onRefresh,storageMethodDocument:s,storageId:t,storageMethodId:n}),Object(ie.jsx)(ve,{isOpen:a===Si,toggleDialogue:r,code:s,title:"StorageMethodDocument"}),Object(ie.jsx)(yi,{isOpen:a===Ci,storageId:t,storageMethodId:n,openSnackBar:c,closeModal:r,history:i})]})}}]),n}(o.a.PureComponent);var Ii={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},Di=Object(s.b)((function(e,t){var n=t.match.params,a=n.storageId,r=n.storageMethodId;return{modalName:e.ui.modalName,storageId:a,storageMethodId:r}}),Ii)(Ri);function Fi(e){var t=e.openCode,n=e.openCreate,a=e.onRefresh;return Object(ie.jsx)(ge,{title:"Shape Tag",onRefresh:a,openCode:t,openAction:n,helpTo:"/item/shape-tag.html"})}function ki(e){var t=e.uriListDocument;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Ye,{uriListDocument:t,linkTo:function(e){return"/shape-tag/".concat(e,"/")}})})})}var Ti=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"requireFastStart",component:Wt}),label:"requireFastStart"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"analyzeDuration",component:Wt}),label:"analyzeDuration"})]})},Pi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"width",label:"width",component:St,fullWidth:!0,type:"number"}),Object(ie.jsx)(Lt,{name:"height",label:"height",component:St,type:"number",fullWidth:!0})]})},Ei=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"horizontal",label:"horizontal",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"vertical",label:"vertical",component:St,type:"number",fullWidth:!0})]})},Ni=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"width",label:"width",component:St,fullWidth:!0,type:"number"}),Object(ie.jsx)(Lt,{name:"height",label:"height",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"top",label:"top",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bottom",label:"bottom",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"left",label:"left",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"right",label:"right",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"padColor",label:"padColor",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"rotate",label:"rotate",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"pixelAspectRatio",label:"pixelAspectRatio",component:Ei}),Object(ie.jsx)(Mt,{name:"targetDAR",label:"targetDAR",component:Ei})]})},Mi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"key",label:"key",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"value",label:"value",component:St,fullWidth:!0})]})},Ai=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"numerator",label:"numerator",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"denominator",label:"denominator",component:St,type:"number",fullWidth:!0})]})},Li=Ai,Wi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"samples",label:"samples",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Mt,{name:"timeBase",label:"timeBase",type:"number",component:Li})]})},wi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"id",label:"id",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"stream",label:"stream",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"channel",label:"channel",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"gain",label:"gain",type:"number",component:St,fullWidth:!0})]})},_i=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Nt,{name:"input",label:"input",component:wi}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"silence",component:Wt}),label:"silence"})]})},Vi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"name",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(Lt,{name:"uri",label:"uri",component:St,fullWidth:!0,required:!0})]})},Bi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"uuid",label:"uuid",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(Lt,{name:"versionMajor",label:"versionMajor",type:"number",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(Lt,{name:"versionMinor",label:"versionMinor",type:"number",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(Lt,{name:"versionPatch",label:"versionPatch",type:"number",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(Nt,{name:"configuration",label:"configuration",component:Mi}),Object(ie.jsx)(Nt,{name:"resource",label:"resource",component:Vi})]})},Ui=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"format",label:"format",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"codec",label:"codec",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bitrate",label:"bitrate",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"framerate",label:"framerate",component:Li}),Object(ie.jsx)(Lt,{name:"channel",label:"channel",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"stream",label:"stream",component:Ya,simple:!0,fullWidth:!0})]})},qi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"codec",label:"codec",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bitrate",label:"bitrate",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"framerate",label:"framerate",component:Li}),Object(ie.jsx)(Lt,{name:"channel",label:"channel",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"stream",label:"stream",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"preset",label:"preset",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"noAudio",component:Wt}),label:"noAudio"}),Object(ie.jsx)(Nt,{name:"setting",label:"setting",component:Mi}),Object(ie.jsx)(Nt,{name:"mix",label:"mix",component:_i}),Object(ie.jsx)(Mt,{name:"otif",label:"otif",component:Bi}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"monoFile",component:Wt}),label:"monoFile"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allChannel",component:Wt}),label:"allChannel"}),Object(ie.jsx)(Nt,{name:"output",label:"output",component:Ui})]})},Gi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"codec",label:"codec",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bitrate",label:"bitrate",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"framerate",label:"framerate",component:Li}),Object(ie.jsx)(Lt,{name:"channel",label:"channel",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"preset",label:"preset",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"setting",label:"setting",component:Mi}),Object(ie.jsx)(Nt,{name:"mix",label:"mix",component:_i})]})},Hi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"codec",label:"codec",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bitrate",label:"bitrate",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"framerate",label:"framerate",component:Li}),Object(ie.jsx)(Mt,{name:"resolution",label:"resolution",component:Pi}),Object(ie.jsx)(Mt,{name:"scaling",label:"scaling",component:Ni}),Object(ie.jsx)(Mt,{name:"displayWidth",label:"displayWidth",component:Ai}),Object(ie.jsx)(Mt,{name:"displayHeight",label:"displayHeight",component:Ai}),Object(ie.jsx)(Mt,{name:"displayXOffset",label:"displayXOffset",component:Ai}),Object(ie.jsx)(Mt,{name:"displayYOffset",label:"displayYOffset",component:Ai}),Object(ie.jsx)(Mt,{name:"containerSAR",label:"containerSAR",component:Ei}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"forceCFR",component:Wt}),label:"forceCFR"}),Object(ie.jsx)(Lt,{name:"gopSize",label:"gopSize",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxBFrames",label:"maxBFrames",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"pixelFormat",label:"pixelFormat",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"preset",label:"preset",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"profile",label:"profile",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"noVideo",component:Wt}),label:"noVideo"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"stripParameterSets",component:Wt}),label:"stripParameterSets"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"addParameterSets",component:Wt}),label:"addParameterSets"}),Object(ie.jsx)(Lt,{name:"parameterSets",label:"parameterSets",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"setting",label:"setting",component:Mi}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"burnTimecode",component:Wt}),label:"burnTimecode"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"burnSubtitles",component:Wt}),label:"burnSubtitles"}),Object(ie.jsx)(Lt,{name:"imageQuality",label:"imageQuality",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"otif",label:"otif",component:Bi})]})},Ji=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"start",label:"start",type:"number",component:St,required:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"width",label:"width",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"count",label:"count",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"wildcard",label:"wildcard",component:St,required:!0,fullWidth:!0})]})},zi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{name:"start",label:"start",component:Wi}),Object(ie.jsx)(Mt,{name:"end",label:"end",component:Wi})]})},Ki=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"uri",label:"uri",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"range",label:"range",component:Ji}),Object(ie.jsx)(Lt,{name:"id",label:"id",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"x",label:"x",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"y",label:"y",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"interval",label:"interval",component:zi}),Object(ie.jsx)(Lt,{name:"opacity",label:"opacity",type:"number",component:St,fullWidth:!0})]})},Yi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"line",label:"line",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"align",label:"align",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"x",label:"x",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"y",label:"y",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"xRel",label:"xRel",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"yRel",label:"yRel",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"horizontalBase",label:"horizontalBase",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"verticalBase",label:"verticalBase",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"font",label:"font",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"size",label:"size",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"sizeRel",label:"sizeRel",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"r",label:"r",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"g",label:"g",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"b",label:"b",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"a",label:"a",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"outline",label:"outline",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"outlineSize",label:"outlineSize",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"outlineR",label:"outlineR",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"outlineG",label:"outlineG",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"outlineB",label:"outlineB",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"outlineA",label:"outlineA",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"language",label:"language",component:St,fullWidth:!0})]})},Xi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{name:"text",label:"text",component:Yi}),Object(ie.jsx)(Mt,{name:"interval",label:"interval",component:zi}),Object(ie.jsx)(Lt,{name:"opacity",label:"opacity",component:St,type:"number",fullWidth:!0})]})},Qi=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"start",label:"start",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"width",label:"width",type:"number",component:St,fullWidth:!0})]})},$i=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"Name",component:Qn,required:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"description",label:"description",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"format",label:"format",component:St,fullWidth:!0})]})},Zi=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:$i}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),es=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{name:"audio",label:"audio",component:qi}),Object(ie.jsx)(Nt,{name:"audioTrack",label:"audioTrack",component:Gi})]})},ts=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:es}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ns=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"video",label:"video",component:Hi})})},as=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:ns}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),rs=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Nt,{name:"overlay",label:"overlay",component:Ki}),Object(ie.jsx)(Nt,{name:"textOverlay",label:"textOverlay",component:Xi})]})},os=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:rs}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),cs=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"startTimecode",label:"startTimecode",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"fastStartSetting",label:"fastStartSetting",component:Ti}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"faceDetect",component:Wt}),label:"faceDetect"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"preserveEDL",component:Wt}),label:"preserveEDL"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"addClipName",component:Wt}),label:"addClipName"}),Object(ie.jsx)(Lt,{name:"preferredSourceTag",label:"preferredSourceTag",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"shapeMetadata",label:"shapeMetadata",component:Mi}),Object(ie.jsx)(Mt,{name:"maxChunkDuration",label:"maxChunkDuration",component:Wi}),Object(ie.jsx)(Nt,{name:"demuxerSetting",label:"demuxerSetting",component:Mi}),Object(ie.jsx)(Nt,{name:"muxerSetting",label:"muxerSetting",component:Mi}),Object(ie.jsx)(Mt,{name:"sequenceOutput",label:"sequenceOutput",component:Qi})]})},is=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:cs}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ss=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{name:"thumbnailResolution",label:"thumbnailResolution",component:Pi}),Object(ie.jsx)(Lt,{name:"thumbnailBackground",label:"thumbnailBackground",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"thumbnailPeriod",label:"thumbnailPeriod",component:Wi}),Object(ie.jsx)(Lt,{name:"thumbnailPlugin",label:"thumbnailPlugin",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"posterResolution",label:"posterResolution",component:Pi}),Object(ie.jsx)(Lt,{name:"posterBackground",label:"posterBackground",component:St,fullWidth:!0})]})},ls=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:ss}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),us=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"script",component:ta,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})})},js=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:us}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var ds=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:$i}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:es}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:ns}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:ss}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:rs}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:cs}),Object(ie.jsx)(Mt,{name:"transcodePresetDocument",component:us}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function ms(e,t,n){var a=e.transcodePresetDocument,r=n.tagName||a.name;return W.L.updateShapeTag({tagName:r,transcodePresetDocument:a}).then((function(){return{transcodePresetDocument:a,tagName:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function bs(){return W.L.createShapeTagPreset().catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var hs={openSnackBar:a.openSnackBar},Os=Object(s.b)(null,hs)((function(e){var t=e.closeModal,n=e.isOpen,a=e.history,r=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Shape Tag"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:ds,documentName:"transcodePresetDocument",onSubmit:ms,onSubmitSuccess:function(e){var n=e.transcodePresetDocument.name,o="Shape Tag ".concat(n," Created");r({messageContent:o}),a.push("/shape-tag/".concat(n,"/")),t()},onSubmitFail:function(){r({messageContent:"Error Creating Shape Tag",messageColor:"secondary"})},onCancel:t})})]})})),ps="SHAPETAG_LIST_CODE_MODAL",xs="SHAPETAG_CREATE_MODAL",fs=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Shape Tag",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.L.listShapeTag().then((function(t){return e.setState({uriListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Shape Tag List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.history,o=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Fi,{openCode:function(){return a({modalName:ps})},openCreate:function(){return a({modalName:xs})},onRefresh:this.onRefresh}),o&&Object(ie.jsx)(ki,{uriListDocument:o}),Object(ie.jsx)(ve,{isOpen:t===ps,toggleDialogue:n,code:o,title:"URIListDocument"}),Object(ie.jsx)(Os,{isOpen:t===xs,closeModal:n,history:r})]})}}]),n}(o.a.PureComponent);var vs={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},gs=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),vs)(fs);function ys(e){var t=e.openCode,n=e.onRefresh,a=e.tagName,r=e.openRemove;return Object(ie.jsx)(ge,{title:a,parentTitle:"Shape Tag",parentTo:"/shape-tag/",openCode:t,onRefresh:n,actionComponent:Object(ie.jsx)(_.a,{onClick:r,children:Object(ie.jsx)(ee.a,{})})})}var Ss={openSnackBar:a.openSnackBar},Cs=Object(s.b)(null,Ss)((function(e){var t=e.transcodePresetDocument,n=e.tagName,a=e.openSnackBar,r=e.onRefresh,o=e.formComponent,c=Object(ye.a)(e,["transcodePresetDocument","tagName","openSnackBar","onRefresh","formComponent"]),i={tagName:n},s={transcodePresetDocument:t};return Object(ie.jsx)(mt,Object(u.a)({formName:"EDIT_SHAPTAG_FORM",onSubmitSuccess:function(){a({messageContent:"Shape Tag Rule Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Shape Tag",messageColor:"secondary"})},onSubmit:ms,formProps:i,displayProps:{transcodePresetDocument:t},initialValues:s,formComponent:n.startsWith("__")?void 0:o},c))})),Rs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"requireFastStart",value:n.requireFastStart,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"analyzeDuration",value:n.analyzeDuration,variant:"boolean",hover:!0,hideNoValue:!0})]})},Is=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"width",value:n.width,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"height",value:n.height,hover:!0,hideNoValue:!0})]})},Ds=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"horizontal",value:n.horizontal,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"vertical",value:n.vertical,hover:!0,hideNoValue:!0})]})},Fs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"width",value:n.width,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"height",value:n.height,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"top",value:n.top,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"bottom",value:n.bottom,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"left",value:n.left,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"right",value:n.right,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"padColor",value:n.padColor,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"rotate",value:n.rotate,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{title:"pixelAspectRatio",value:n.pixelAspectRatio,component:Ds,hideNoValue:!0}),Object(ie.jsx)(an,{title:"targetDAR",value:n.targetDAR,component:Ds,hideNoValue:!0})]})},ks=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"key",value:n.key,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"value",value:n.value,hover:!0,hideNoValue:!0})]})},Ts=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"numerator",value:n.numerator,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"denominator",value:n.denominator,hover:!0,hideNoValue:!0})]})},Ps=Ts,Es=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"samples",value:n.samples,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,component:Ps,title:"timeBase",value:n.timeBase})]})},Ns=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"id",value:n.id,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"stream",value:n.stream,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"channel",value:n.channel,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"gain",value:n.gain,hover:!0,hideNoValue:!0})]})},Ms=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(on,{title:"input",value:n.input,component:Ns}),Object(ie.jsx)(nn,{title:"silence",value:n.silence,variant:"boolean",hover:!0,hideNoValue:!0})]})},As=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"uri",value:n.uri,hover:!0,hideNoValue:!0})]})},Ls=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"uuid",value:n.uuid,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"versionMajor",value:n.versionMajor,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"versionMinor",value:n.versionMinor,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"versionPatch",value:n.versionPatch,hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"configuration",value:n.configuration,component:ks}),Object(ie.jsx)(on,{title:"resource",value:n.resource,component:As})]})},Ws=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"format",value:n.format,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"codec",value:n.codec,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"bitrate",value:n.bitrate,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,title:"framerate",component:Ps,value:n.framerate}),Object(ie.jsx)(nn,{title:"channel",value:n.channel,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"stream",value:n.stream,variant:"list",hover:!0,hideNoValue:!0})]})},ws=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"format",value:n.format,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"codec",value:n.codec,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"bitrate",value:n.bitrate,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,title:"framerate",component:Ps,value:n.framerate}),Object(ie.jsx)(nn,{title:"channel",value:n.channel,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"stream",value:n.stream,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"preset",value:n.preset,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"noAudio",value:n.noAudio,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"setting",value:n.setting,component:ks}),Object(ie.jsx)(on,{title:"mix",value:n.mix,component:Ms}),Object(ie.jsx)(an,{hideNoValue:!0,title:"otif",component:Ls,value:n.otif}),Object(ie.jsx)(nn,{title:"monoFile",value:n.monoFile,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"allChannel",value:n.allChannel,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"output",value:n.output,component:Ws})]})},_s=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"codec",value:n.codec,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"bitrate",value:n.bitrate,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,title:"framerate",component:Ps,value:n.framerate}),Object(ie.jsx)(nn,{title:"channel",value:n.channel,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"preset",value:n.preset,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"setting",value:n.setting,component:ks}),Object(ie.jsx)(on,{title:"mix",value:n.mix,component:Ms})]})},Vs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"codec",value:n.codec,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"bitrate",value:n.bitrate,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,title:"framerate",component:Ps,value:n.framerate}),Object(ie.jsx)(an,{hideNoValue:!0,title:"resolution",component:Is,value:n.resolution}),Object(ie.jsx)(an,{hideNoValue:!0,title:"scaling",component:Fs,value:n.scaling}),Object(ie.jsx)(an,{hideNoValue:!0,title:"displayWidth",component:Ts,value:n.displayWidth}),Object(ie.jsx)(an,{hideNoValue:!0,title:"displayHeight",component:Ts,value:n.displayHeight}),Object(ie.jsx)(an,{hideNoValue:!0,title:"displayXOffset",component:Ts,value:n.displayXOffset}),Object(ie.jsx)(an,{hideNoValue:!0,title:"displayYOffset",component:Ts,value:n.displayYOffset}),Object(ie.jsx)(an,{hideNoValue:!0,title:"containerSAR",component:Ds,value:n.containerSAR}),Object(ie.jsx)(nn,{title:"forceCFR",value:n.forceCFR,hover:!0,hideNoValue:!0,variant:"boolean"}),Object(ie.jsx)(nn,{title:"gopSize",value:n.gopSize,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"maxBFrames",value:n.maxBFrames,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"pixelFormat",value:n.pixelFormat,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"preset",value:n.preset,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"profile",value:n.profile,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"noVideo",value:n.noVideo,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"stripParameterSets",value:n.stripParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"addParameterSets",value:n.addParameterSets,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"parameterSets",value:n.parameterSets,hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"setting",value:n.setting,component:ks}),Object(ie.jsx)(nn,{title:"burnTimecode",value:n.burnTimecode,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"burnSubtitles",value:n.burnSubtitles,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"imageQuality",value:n.imageQuality,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,title:"otif",component:Ls,value:n.otif})]})},Bs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"start",value:n.start,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"width",value:n.width,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"count",value:n.count,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"wildcard",value:n.wildcard,hover:!0,hideNoValue:!0})]})},Us=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{hideNoValue:!0,title:"start",component:Es,value:n.start}),Object(ie.jsx)(an,{hideNoValue:!0,title:"end",component:Es,value:n.end})]})},qs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"uri",value:n.uri,variant:"list",hover:!0}),Object(ie.jsx)(on,{name:"range",title:"range",component:Bs,value:n.range}),Object(ie.jsx)(nn,{title:"id",value:n.id,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"x",value:n.x,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"y",value:n.y,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,title:"interval",component:Us,value:n.interval}),Object(ie.jsx)(nn,{title:"opacity",value:n.opacity,hover:!0,hideNoValue:!0})]})},Gs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"line",value:n.line,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"align",value:n.align,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"x",value:n.x,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"y",value:n.y,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"xRel",value:n.xRel,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"yRel",value:n.yRel,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"horizontalBase",value:n.horizontalBase,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"verticalBase",value:n.verticalBase,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"font",value:n.font,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"size",value:n.size,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"sizeRel",value:n.sizeRel,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"r",value:n.r,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"g",value:n.g,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"b",value:n.b,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"a",value:n.a,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"outline",value:n.outline,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"outlineSize",value:n.outlineSize,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"outlineR",value:n.outlineR,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"outlineG",value:n.outlineG,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"outlineB",value:n.outlineB,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"outlineA",value:n.outlineA,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"language",value:n.language,hover:!0,hideNoValue:!0})]})},Hs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{hideNoValue:!0,title:"text",component:Gs,value:n.text}),Object(ie.jsx)(an,{hideNoValue:!0,title:"interval",component:Us,value:n.interval}),Object(ie.jsx)(nn,{title:"opacity",value:n.opacity,hover:!0,hideNoValue:!0})]})},Js=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"start",value:n.start,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"width",value:n.width,hover:!0,hideNoValue:!0})]})},zs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"description",value:n.description,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"format",value:n.format,hover:!0,hideNoValue:!0})]})},Ks=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{hideNoValue:!0,component:ws,value:n.audio}),Object(ie.jsx)(an,{hideNoValue:!0,title:"audioTrack",component:_s,value:n.audioTrack})]})},Ys=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Vs,value:n.video})})},Xs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(on,{hideNoValue:!0,hover:!1,title:"overlay",component:qs,value:n.overlay}),Object(ie.jsx)(on,{hideNoValue:!0,hover:!1,title:"textOverlay",component:Hs,value:n.textOverlay})]})},Qs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"startTimecode",value:n.startTimecode,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,name:"fastStartSetting",title:"fastStartSetting",component:Rs,value:n.fastStartSetting}),Object(ie.jsx)(nn,{title:"faceDetect",value:n.faceDetect,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"preserveEDL",value:n.preserveEDL,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"addClipName",value:n.addClipName,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"preferredSourceTag",value:n.preferredSourceTag,hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{name:"shapeMetadata",title:"shapeMetadata",component:ks,value:n.shapeMetadata}),Object(ie.jsx)(an,{hideNoValue:!0,name:"maxChunkDuration",title:"maxChunkDuration",component:Es,value:n.maxChunkDuration}),Object(ie.jsx)(on,{name:"demuxerSetting",title:"demuxerSetting",component:ks,value:n.demuxerSetting}),Object(ie.jsx)(on,{name:"muxerSetting",title:"muxerSetting",component:ks,value:n.muxerSetting}),Object(ie.jsx)(an,{hideNoValue:!0,name:"sequenceOutput",title:"sequenceOutput",component:Js,value:n.SequenceOutputType})]})},$s=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{hideNoValue:!0,name:"thumbnailResolution",title:"thumbnailResolution",component:Is,value:n.thumbnailResolution}),Object(ie.jsx)(nn,{title:"thumbnailBackground",value:n.thumbnailBackground,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,name:"thumbnailPeriod",title:"thumbnailPeriod",component:Es,value:n.thumbnailPeriod}),Object(ie.jsx)(nn,{title:"thumbnailPlugin",value:n.thumbnailPlugin,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{hideNoValue:!0,name:"posterResolution",title:"posterResolution",component:Is,value:n.posterResolution}),Object(ie.jsx)(nn,{title:"posterBackground",value:n.posterBackground,hover:!0,hideNoValue:!0})]})},Zs=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{value:n.script,variant:"json"})})};function el(e){var t=e.transcodePresetDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:zs,value:t})})}function tl(e){var t=e.transcodePresetDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Ks,value:t})})}function nl(e){var t=e.transcodePresetDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Ys,value:t})})}function al(e){var t=e.transcodePresetDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:$s,value:t})})}function rl(e){var t=e.transcodePresetDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Xs,value:t})})}function ol(e){var t=e.transcodePresetDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Qs,value:t})})}function cl(e){var t=e.transcodePresetDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Zs,value:t})})}function il(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Cs,Object(u.a)({title:"Container",formComponent:Zi,displayComponent:el},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Cs,Object(u.a)({title:"Video",formComponent:as,displayComponent:nl},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Cs,Object(u.a)({title:"Audio",formComponent:ts,displayComponent:tl},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Cs,Object(u.a)({title:"Thumbnail",formComponent:ls,displayComponent:al},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Cs,Object(u.a)({title:"Overlay",formComponent:os,displayComponent:rl},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Cs,Object(u.a)({title:"Advanced",formComponent:is,displayComponent:ol},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Cs,Object(u.a)({title:"Script",formComponent:js,displayComponent:cl},e))})]})}function sl(e){var t=e.closeModal,n=e.isOpen,a=e.tagName,r=e.history,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Shape Tag "'.concat(a,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.L.removeShapeTag({tagName:a}).then((function(){var e="Shape Tag ".concat(a," Removed");o({messageContent:e}),r.push("/shape-tag/"),t()})).catch((function(){o({messageContent:"Error Removing Shape Tag",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}function ll(e,t,n){var a=e.storageRuleDocument,r=n.entityType||e.entityType,o=n.entityId||e.entityId,c=n.tagName||e.tagName;return W.O.updateEntityStorageRuleTag({entityType:r,entityId:o,tagName:c,storageRuleDocument:a}).then((function(){return{storageRuleDocument:a}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ul(e,t,n){var a=e.storageRuleDocument,r=n.entityType||e.entityType,o=n.entityId||e.entityId;return void 0!==(n.tagName||e.tagName)?ll(e,0,n):W.O.updateEntityStorageRule({entityType:r,entityId:o,storageRuleDocument:a}).then((function(){return{storageRuleDocument:a}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function jl(e,t,n){var a=e.storageRuleDocument,r=n.tagName||a.tag;return W.O.updateStorageRuleShapeTag({tagName:r,storageRuleDocument:a}).then((function(){return{storageRuleDocument:a}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var dl=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"storageCount",value:n.storageCount,hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"priority",value:n.priority,component:function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"value",value:e.value,hover:!0}),Object(ie.jsx)(nn,{title:"level",value:e.value,hover:!0})]})},hideNoValue:!0}),Object(ie.jsx)(nn,{title:"inherited",value:n.inherited,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"storage",value:n.storage,variant:"storageId",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Storage Group",value:n.storage,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{title:"not",value:n.priority,component:function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"storage",value:e.storage,variant:"storageId",hover:!0}),Object(ie.jsx)(nn,{title:"Storage Group",value:e.storage,hover:!0})]})},hideNoValue:!0}),Object(ie.jsx)(an,{title:"pool",value:n.priority,component:function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"storage",value:e.storage,variant:"storageId",hover:!0}),Object(ie.jsx)(nn,{title:"Storage Group",value:e.storage,hover:!0})]})},hideNoValue:!0}),Object(ie.jsx)(an,{title:"appliesTo",value:n.priority,component:function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"id",value:e.id,hover:!0}),Object(ie.jsx)(nn,{title:"type",value:e.type,hover:!0})]})},hideNoValue:!0}),Object(ie.jsx)(nn,{title:"precedence",value:n.precedence,hover:!0,hideNoValue:!0})]})};function ml(e){var t=e.storageRuleDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:dl,value:t})})}var bl=n(293),hl=n(190),Ol=n(290),pl=n(62),xl=n(694),fl=n(103),vl={container:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{color:t.isDisabled?t.selectProps.palette.text.disabled:"inherit",fontFamily:fl.b})},control:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:t.selectProps.palette.selected,borderRadius:"0",borderWidth:"outlined"===t.selectProps.variant?"1px 1px 1px 1px":"0 0 1px 0",boxShadow:"none",borderColor:t.selectProps.palette.divider,color:t.isDisabled?t.selectProps.palette.text.disabled:"inherit",marginTop:!t.hasValue&&"6px",fontFamily:fl.b})},dropdownIndicator:function(e){return Object(u.a)(Object(u.a)({},e),{},{padding:"2px"})},indicatorsContainer:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{color:"inherit",visibility:t.isDisabled?"hidden":void 0})},indicatorSeparator:function(e){return Object(u.a)(Object(u.a)({},e),{},{background:"inherit"})},input:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{color:t.isDisabled?t.selectProps.palette.text.disabled:"inherit",visibility:t.isDisabled?"visible":void 0,fontFamily:fl.b})},menu:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:t.selectProps.palette.background.paper,borderRadius:"0px",zIndex:1500,fontFamily:fl.b})},multiValueLabel:function(e){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:fl.b})},option:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{color:t.selectProps.palette.text.primary,backgroundColor:t.isFocused?t.selectProps.palette.action.focus:t.isSelected?t.selectProps.palette.action.focus.selected:t.selectProps.palette.action.focus.hover})},placeholder:function(e){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:fl.b,fontSize:"16px",lineHeight:1})},singleValue:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"inherit",fontFamily:fl.b})},valueContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:fl.b})}};var gl=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(M.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(M.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(M.a)(a));var r,o,c=a.props.input.value,i=e.optionLabelKey,s=void 0===i?"label":i,l=e.optionValueKey,u=void 0===l?"value":l;if(e.isMulti&&c){var j=c;Array.isArray(c)||(j=c.split(",")),r=j.map((function(e){return{[s]:e,[u]:e}}))}else r=c&&{[s]:c,[u]:c},o=c;return a.state={inputValue:o,valueOption:r},a}return Object(N.a)(n,[{key:"handleUpdate",value:function(e){this.setState({inputValue:e})}},{key:"handleChange",value:function(e){var t=this.props,n=t.input,a=n.name,r=n.onChange,o=t.meta,c=o.dispatch,i=o.form,s=t.optionValueKey,l=void 0===s?"value":s,u=t.isMulti,j="";e?u?e.length>0?j=e.map((function(e){return e[l]})):(j=[],this.handleInputChange([])):j=e[l]:this.handleInputChange(j),this.setState({valueOption:e}),r(j),c?c(Object(st.a)(i,a,j)):r(j)}},{key:"handleInputChange",value:function(e){this.props.isMulti&&0===e.length?this.setState({inputValue:void 0}):this.setState({inputValue:e})}},{key:"render",value:function(){var e=this.props,t=e.input,n=e.meta,a=e.theme,r=Object(ye.a)(e,["input","meta","theme"]),o=a.palette,c=r.optionLabelKey,i=void 0===c?"label":c,s=r.optionValueKey,l=void 0===s?"value":s,j=r.creatable,d=void 0!==j&&j,m=r.getOptionLabel,b=void 0===m?function(e){return e[i]}:m,h=r.getOptionValue,O=void 0===h?function(e){return e[l]}:h,p=r.loadOptions,x=r.disableInitial,f=r.isDisabled,v=this.state,g=v.valueOption,y=v.inputValue,S=f;x&&(S=void 0!==n.initial&&""!==n.initial);var C=Ol.a;return p&&(C=d?bl.a:hl.a),Object(ie.jsxs)(ie.Fragment,{children:[g&&Object(ie.jsx)(X.a,{variant:"caption",children:r.required?"".concat(r.label," *"):r.label}),Object(ie.jsx)(C,Object(u.a)(Object(u.a)(Object(u.a)({},r),t),{},{id:t.name,styles:vl,placeholder:r.required?"".concat(r.label," *"):r.label,getOptionLabel:b,getOptionValue:O,value:g,inputValue:y,onInputChange:this.handleInputChange,onChange:this.handleChange,onBlur:function(){return!0},onFocus:function(){return!0},isDisabled:S,palette:o,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:0,spacing:Object(u.a)(Object(u.a)({},e.spacing),{},{menuGutter:0}),colors:Object(u.a)(Object(u.a)({},e.colors),{},{primary:a.palette.text.primary})})}}))]})}}]),n}(o.a.Component),yl=Object(xl.a)(gl);function Sl(e){var t=e.input,n=(e.meta,Object(ye.a)(e,["input","meta"])),a=Object(pl.a)().palette;return Object(ie.jsx)(Ol.a,Object(u.a)(Object(u.a)(Object(u.a)({},t),n),{},{palette:a,styles:vl,placeholder:n.label,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:0,spacing:Object(u.a)(Object(u.a)({},e.spacing),{},{menuGutter:0}),colors:Object(u.a)(Object(u.a)({},e.colors),{},{primary:a.text.primary})})}}))}var Cl=function(e){return new Promise((function(t,n){W.M.listStorage().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.storage,r=(void 0===a?[]:a).map((function(e){return e.id}));e&&"*"!==e&&(r=r.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())})));var o=r.map((function(e){return{label:e,value:e}}));t(o)})).catch((function(e){n(e)}))}))};var Rl=function(e){return new Promise((function(t,n){W.M.listStorage().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.group,r=(void 0===a?[]:a).map((function(e){return e.name}));e&&"*"!==e&&(r=r.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())})));var o=r.map((function(e){return{label:e,value:e}}));t(o)})).catch((function(e){n(e)}))}))};var Il=function(e){return new Promise((function(t,n){W.L.listShapeTag().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.uri,r=void 0===a?[]:a,o=r;e&&"*"!==e&&(o=r.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())})));var c=o.map((function(e){return{label:e,value:e}}));t(c)})).catch((function(e){n(e)}))}))};var Dl=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"value",children:"Criteria"}),Object(ie.jsxs)(Lt,{name:"value",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"bandwidth",children:"bandwidth"}),Object(ie.jsx)(Cn.a,{value:"capacity",children:"capacity"})]})]})},Fl=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"storage",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"group",label:"Storage Group",component:yl,loadOptions:Rl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]})},kl=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Fl,{}),Object(ie.jsx)(Lt,{name:"any",component:St,fullWidth:!0})]})},Tl=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"level",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Dl,{})]})},Pl=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"id",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"type",component:St,fullWidth:!0})]})},El=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"storageCount",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"priority",label:"Priority",component:Tl}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"inherited",component:Wt}),label:"Inherited"}),Object(ie.jsx)(Lt,{name:"storage",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"group",label:"Storage Group",component:yl,loadOptions:Rl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Mt,{name:"not",label:"not",component:kl}),Object(ie.jsx)(Mt,{name:"pool",label:"pool",component:Fl}),Object(ie.jsx)(Mt,{name:"appliesTo",label:"appliesTo",component:Pl}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"precedence",children:"Precedence"}),Object(ie.jsxs)(Lt,{name:"precedence",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]})]})},Nl=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"tagName",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"storageRuleDocument",component:El}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Ml=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"storageRuleDocument",component:El}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Al=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"entityType",children:"Type"}),Object(ie.jsxs)(Lt,{name:"entityType",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"Collection"}),Object(ie.jsx)(Cn.a,{value:"library",children:"Library"})]})]}),Object(ie.jsx)(Lt,{name:"entityId",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"storageRuleDocument",component:El}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Ll=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.storageRuleDocument,o=e.onSuccess;if(void 0===r)return null;var c,i=r.appliesTo,s=void 0===i?{}:i,l=r.id,u=s.type,j=s.id,d=u.toLowerCase();return c="GENERIC"===u?function(){W.O.removeStorageRuleShapeTag({tagName:j}).then((function(){a({messageContent:"Storage Rule Removed"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})}))}:"default"===l?function(){W.O.removeEntityStorageRule({entityType:d,entityId:j}).then((function(){a({messageContent:"Storage Rule Removed"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})}))}:function(){W.O.removeEntityStorageRuleTag({entityType:d,entityId:j,tagName:l}).then((function(){a({messageContent:"Storage Rule Removed"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Storage Rule",messageColor:"secondary"})}))},Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Storage Rule ".concat(He()(d)," For ").concat(j," On ").concat(l)}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:c,color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var Wl=de((function(e){var t=e.storageRuleDocument,n=e.tagName,a=e.openSnackBar,r=e.onRefresh,o=e.onOpen,c="REMOVE_STORAGERULE_DIALOG",i={tagName:n},s={storageRuleDocument:t},l={storageRuleDocument:t};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(mt,{formName:"EDIT_STORAGERULE_TAG_FORM",onSubmitSuccess:function(){a({messageContent:"Storage Rule Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Storage Rule",messageColor:"secondary"})},onSubmit:jl,formProps:i,displayProps:s,initialValues:l,displayComponent:ml,formComponent:Ml,title:"Storage Rule",iconList:t&&Object(ie.jsx)(_.a,{onClick:function(){return o({modalName:c})},children:Object(ie.jsx)(ee.a,{})})}),Object(ie.jsx)(Ll,{dialogName:c,onSuccess:r,storageRuleDocument:t})]})}));function wl(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Wl,Object(u.a)({},e))})})}var _l=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={storageRuleDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.tagName;try{W.O.getStorageRuleShapeTag({tagName:t}).then((function(t){return e.setState({storageRuleDocument:t.data})})).catch((function(t){t.response&&404===t.response.status?e.setState({storageRuleDocument:void 0}):e.onRefreshError(t)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props.tagName,t=this.state.storageRuleDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(wl,{onRefresh:this.onRefresh,storageRuleDocument:t,createModal:"STORAGERULE_DIALOG",tagName:e})})}}]),n}(o.a.PureComponent)),Vl="SHAPETAG_CODE_MODAL",Bl="SHAPETAG_REMOVE_MODAL",Ul=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={transcodePresetDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.tagName;document.title="xray | Shape Tag | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.tagName;try{W.L.getShapeTag({tagName:a}).then((function(t){return e.setState({transcodePresetDocument:t.data})}))}catch(r){n({messageContent:"Error Loading Shape Tag",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.tagName,n=e.modalName,a=e.closeModal,r=e.openModal,o=e.openSnackBar,c=e.history,i=this.state.transcodePresetDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ys,{openCode:function(){return r({modalName:Vl})},openRemove:function(){return r({modalName:Bl})},onRefresh:this.onRefresh,tagName:t}),i&&Object(ie.jsx)(il,{onRefresh:this.onRefresh,tagName:t,transcodePresetDocument:i}),Object(ie.jsx)(_l,Object(u.a)(Object(u.a)({},this.props),{},{tagName:t})),Object(ie.jsx)(ve,{isOpen:n===Vl,toggleDialogue:a,code:i,title:"TranscodePresetDocument"}),Object(ie.jsx)(sl,{isOpen:n===Bl,tagName:t,openSnackBar:o,closeModal:a,history:c})]})}}]),n}(o.a.PureComponent);var ql={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},Gl=Object(s.b)((function(e,t){var n=t.match.params.tagName;return{modalName:e.ui.modalName,tagName:n}}),ql)(Ul),Hl=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"licenseError",value:n.licenseError,hover:!0,hideNoValue:!0})})},Jl=function(e){var t=e.value,n=void 0===t?{}:t,a=e.dense;return void 0===a||a?Object(ie.jsx)(nn,{title:"Current: ".concat(n.current),value:"Allowed: ".concat("-1"===n.allowed?"Unlimited":n.allowed),hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"allowed",value:n.allowed,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"current",value:n.current,hover:!0,hideNoValue:!0})]})},zl=function(e){var t=e.value,n=void 0===t?{}:t,a=e.dense;return void 0===a||a?Object(ie.jsx)(nn,{title:n.name,value:"".concat(n.encode?"Encode":"").concat(n.decode&&!n.encode?"Decode":""),hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"encode",value:n.encode,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"decode",value:n.decode,variant:"boolean",hover:!0,hideNoValue:!0})]})},Kl=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(on,{value:n.codec,component:zl}),Object(ie.jsx)(nn,{title:"codecExtraTags",value:n.codecExtraTags,hover:!0,hideNoValue:!0})]})},Yl=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"macaddress",value:n.macaddress,variant:"list",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"databaseSize",value:n.databaseSize,hover:!0,hideNoValue:!0})]})},Xl=function(e){var t=e.value,n=void 0===t?{}:t,a=e.dense;return void 0===a||a?Object(ie.jsx)(nn,{title:n.siteId?"".concat(n.siteId," ").concat(n.name):n.name,value:n.version,hover:!0,hideNoValue:!0,titleStartCase:!1}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:n.name,value:n.version,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"siteId",value:n.siteId,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"version",value:n.version,hover:!0,hideNoValue:!0})]})},Ql=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"expiryDate",value:n.expiryDate,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{title:"systemInfo",value:n.systemInfo,component:Yl,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"fileStatus",value:n.fileStatus,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{title:"storageNumber",value:n.storageNumber,component:Jl,hideNoValue:!0}),Object(ie.jsx)(an,{title:"userNumber",value:n.userNumber,component:Jl,hideNoValue:!0}),Object(ie.jsx)(an,{title:"itemNumber",value:n.itemNumber,component:Jl,hideNoValue:!0}),Object(ie.jsx)(an,{title:"transcoderNumber",value:n.transcoderNumber,component:Jl,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"endCustomerCompanyname",value:n.endCustomerCompanyname,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"endCustomerCompanyContactEmail",value:n.endCustomerCompanyContactEmail,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"resellerCompanyName",value:n.resellerCompanyName,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"resellerCompanyContactEmail",value:n.resellerCompanyContactEmail,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"licenseStatus",value:n.licenseStatus,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{title:"licenseErrorStatus",value:n.licenseErrorStatus,component:Hl,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"licenseType",value:n.licenseType,hover:!0,hideNoValue:!0}),Object(ie.jsx)(an,{title:"codecStatus",value:n.codecStatus,component:Kl,hideNoValue:!0})]})};function $l(e){var t=e.versionDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{title:"systemInfo",value:t.systemInfo,component:Yl})})}function Zl(e){var t=e.versionDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{title:"licenseInfo",value:t.licenseInfo,component:Ql})})}function eu(e){var t=e.versionDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{value:t.component,component:Xl})})}function tu(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{title:"System"}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)($l,Object(u.a)({},e))})]}),Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{title:"License"}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Zl,Object(u.a)({},e))})]}),Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{title:"Component"}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(eu,Object(u.a)({},e))})]})]})}var nu=function(e){return e?void 0:"Required"};function au(e){var t=e.input,n=e.meta,a=e.loading,r=e.fullWidth,o=void 0!==r&&r,c=t.value,i=c&&c[0].name;return Object(ie.jsxs)(ie.Fragment,{children:[Boolean(n.touched&&n.error)&&Object(ie.jsx)(ea.a,{error:!0,children:n.error}),Object(ie.jsxs)(he.a,{variant:"text",component:"label",color:"primary",disableRipple:!0,disabled:a,fullWidth:o,children:[i||"Choose File",Object(ie.jsx)("input",{style:{display:"none"},type:"file",onChange:t.onChange})]})]})}var ru=Object(bt.a)({form:"EDIT_LICENSE_FORM"})((function(e){var t=e.error,n=e.handleSubmit,a=e.className,r=e.onSubmit,o=e.submitOnChange?function(){return setTimeout(n((function(e){return r(e)})))}:void 0;return Object(ie.jsx)("form",{onChange:o,onSubmit:n,className:a,style:{padding:"10px"},children:Object(ie.jsxs)(Q.a,{container:!0,direction:"column",alignItems:"center",children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"license",label:"Choose License File",fullWidth:!0,component:au,validate:[nu]}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})}));function ou(e){var t=e.license[0];return W.w.createLicense({file:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var cu="EDIT_LICENSE_FORM";var iu=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.submitForm,r=e.openSnackBar,o=e.onSuccess,c=e.onFail;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Upload License"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(ru,{form:cu,onSubmit:ou,onSubmitSuccess:function(e,t,a){r({messageContent:"License Updated"}),o&&o(e,t,a),n()},onSubmitFail:function(e,t,n){r({messageContent:"Error Updating License",messageColor:"secondary"}),c&&c(e,t,n)}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return a(cu)},children:"Upload"})]})]})})),su=n(383),lu=n.n(su);var uu=T((function(e){var t=e.uploadModal,n=e.onOpen,a=Object(ye.a)(e,["uploadModal","onOpen"]),r=function(e){var t=e.versionDocument;if(void 0===t)return null;var n=t.licenseInfo;return"valid"===(void 0===n?{}:n).licenseStatus?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Qr,{}),label:"Valid License"}):Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Zr,{}),label:"Invalid License"})}({versionDocument:a.code});return Object(ie.jsx)(ge,Object(u.a)({title:"Version",iconList:Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)($.a,{title:"Upload License",children:Object(ie.jsx)(_.a,{onClick:function(){return n({modalName:t})},children:Object(ie.jsx)(lu.a,{})})}),r]})},a))})),ju="VERSION_UPDATE_MODAL",du=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={versionDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Version",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.U.getVersion().then((function(t){return e.setState({versionDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Version Information",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.versionDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(uu,{onRefresh:this.onRefresh,uploadModal:ju,code:e,codeModal:"VersionDocument"}),e&&Object(ie.jsx)(tu,{versionDocument:e}),Object(ie.jsx)(iu,{dialogName:ju,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent));function mu(e){var t=function(e){var t=e.vidispineServiceListDocument;if(void 0===t)return null;var n=t.service,a=(void 0===n?[]:n).filter((function(e){return!0!==e.isRunning}));return 0===a.length?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Qr,{}),label:"All Services Running"}):Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Zr,{}),label:"".concat(a.length," ").concat(1===a.length?"Service":"Services"," Not Running")})}({vidispineServiceListDocument:e.code});return Object(ie.jsx)(ge,Object(u.a)({title:"Service",helpTo:"/ref/vidispine-service.html",iconList:t},e))}var bu=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"id",value:n.id,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"class",value:n.class,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"arguments",value:n.arguments,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"isEnabled",value:n.isEnabled,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"isRunning",value:n.isRunning,variant:"boolean",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"exception",value:n.exception,variant:"code",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"exceptionTimestamp",value:n.exceptionTimestamp,variant:"timestamp",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"thread",value:n.thread,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"threadStatus",value:n.threadStatus,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"load5",value:n.load5,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"load60",value:n.load60,hover:!0,hideNoValue:!0})]})};function hu(e){var t=e.vidispineServiceDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:bu,value:t})})}var Ou=Object(Me.a)((function(e){return{onHover:{"&:hover":{backgroundColor:e.palette.action.hover}}}}))((function(e){var t=e.vidispineServiceDocument,n=e.classes,a=e.onDisable,r=e.onEnable;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Ie,{className:n.onHover,children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:He()(t.name)}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:t.isEnabled?Object(ie.jsx)(he.a,{onClick:function(){return a({serviceName:t.name})},color:"secondary",children:"Disable"}):Object(ie.jsx)(he.a,{onClick:function(){return r({serviceName:t.name})},color:"primary",children:"Enable"})})})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(hu,{vidispineServiceDocument:t})})]})})}));var pu=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.serviceName,o=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Disable Service "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.J.disableService({serviceName:r}).then((function(){var e="Service ".concat(r," Disabled");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Disabling Service",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Disable"})]})]})}));var xu=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.serviceName,o=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Enable Service "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"secondary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.J.enableService({serviceName:r}).then((function(){var e="Service ".concat(r," Enabled");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Enabling Service",messageColor:"secondary"})}))},color:"primary",autoFocus:!0,children:"Enable"})]})]})})),fu="ENABLE_SERVICE_DIALOG",vu="DISABLE_SERVICE_DIALOG";var gu=Gn((function(e){var t=e.vidispineServiceListDocument,n=e.onRefresh,a=e.dialogProps,r=e.onOpen,o=t.service,c=void 0===o?[]:o;return Object(ie.jsxs)(ie.Fragment,{children:[c.map((function(e){return Object(ie.jsx)(Ou,{vidispineServiceDocument:e,onEnable:r(fu),onDisable:r(vu)},e.name)})),Object(ie.jsx)(xu,Object(u.a)(Object(u.a)({},a),{},{dialogName:fu,onSuccess:n})),Object(ie.jsx)(pu,Object(u.a)(Object(u.a)({},a),{},{dialogName:vu,onSuccess:n}))]})})),yu=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={vidispineServiceListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Service"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.J.getServiceList().then((function(t){return e.setState({vidispineServiceListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Service List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.vidispineServiceListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(mu,{onRefresh:this.onRefresh,code:e,codeModal:"VidispineServiceListDocument"}),e&&Object(ie.jsx)(gu,{onRefresh:this.onRefresh,vidispineServiceListDocument:e})]})}}]),n}(o.a.PureComponent)),Su=n(695),Cu=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"id",component:St,fullWidth:!0})})},Ru=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"jobType",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:Cu}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Iu(e){var t={task:[e.taskDefinitionDocument]};return W.P.createTaskDefinition({taskDefinitionListDocument:t}).then((function(e){return{uriListDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Du(e,t,n){var a=e.taskDefinitionDocument,r=n.taskDefinitionId||a.id;return W.P.modifyTaskDefinition({taskDefinitionId:r,taskDefinitionDocument:a}).then((function(e){return{taskDefinitionDocument:e.data,taskDefinitionId:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Fu(e){var t=e.jobType,n=e.queryParams;return W.P.createJobType({jobType:t,queryParams:n}).then((function(){return{jobType:t}})).catch((function(e){var t=e.message;throw e.response&&(t=404===e.response.status?'{"invalidInput":{"context":"job-type","explanation":"id must be between 20000 and 30000"}}':JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var ku="EDIT_JOBTYPE_FORM";var Tu=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.openSnackBar,a=e.onClose,r=e.onSuccess,o=e.open;return Object(ie.jsxs)(Oe.a,{open:o,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Create Job Type"}),Object(ie.jsxs)(xe.a,{children:[Object(ie.jsx)(Su.a,{children:"The recommended format of the type is VENDORPREFIX_JOBTYPE."}),Object(ie.jsx)(Ru,{form:ku,onSubmit:Fu,onSubmitSuccess:function(e){var t=e.jobType,o="Job Type ".concat(t," Created");n({messageContent:o}),a(),r&&r(e)},onSubmitFail:function(){n({messageContent:"Error Creating Job Type",messageColor:"secondary"})}})]}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(ku)},children:"Save"})]})]})}));function Pu(e){var t=e.uriListDocument;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Ye,{uriListDocument:t,linkTo:function(e){return"/task-definition/jobtype/".concat(e,"/")}})})})}function Eu(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Job Type",helpTo:"/ref/job.html#job-types"},e))}var Nu="JOBTYPE_CREATE_MODAL",Mu=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={uriListDocument:null},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Job Type"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.P.listJobType().then((function(t){return e.setState({uriListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Job Type List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props.history,t=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Eu,{createModal:Nu,onRefresh:this.onRefresh,code:t,codeModal:"URIListDocument"}),t&&Object(ie.jsx)(Pu,{uriListDocument:t}),Object(ie.jsx)(Tu,{dialogName:Nu,onSuccess:function(t){var n=t.jobType;return e.push("/task-definition/jobtype/".concat(n,"/"))}})]})}}]),n}(o.a.PureComponent));function Au(e){return Object(ie.jsx)(ge,Object(u.a)({parentTitle:"Job Type",parentTo:"/jobtype/",title:e.taskDefinitionType,helpTo:"/ref/task-definition.html"},e))}var Lu=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"step",value:n.step,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"previous",value:n.previous,hover:!0,variant:"boolean"}),Object(ie.jsx)(nn,{title:"allPrevious",value:n.allPrevious,hover:!0,variant:"boolean"})]})};function Wu(e){var t=e.taskDefinitionDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Q.a,{container:!0,children:[Object(ie.jsxs)(Q.a,{item:!0,sm:6,xs:12,children:[Object(ie.jsx)(nn,{title:"ID",value:t.id,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Cleanup",value:t.cleanup,hover:!0,variant:"boolean"}),Object(ie.jsx)(nn,{title:"Critical",value:t.critical,hover:!0,variant:"boolean"}),Object(ie.jsx)(nn,{title:"Extra Data",value:t.extradata,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Flags",value:t.flags,hover:!0,hideNoValue:!0})]}),Object(ie.jsxs)(Q.a,{item:!0,sm:6,xs:12,children:[Object(ie.jsx)(nn,{title:"Bean",value:t.bean,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Method",value:t.method,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Plugin",value:t.plugin,hover:!0,variant:"boolean"})]})]}),Object(ie.jsxs)(Q.a,{container:!0,children:[Object(ie.jsx)(Q.a,{item:!0,sm:6,xs:12,children:Object(ie.jsx)(an,{title:"Dependency",component:Lu,value:t.dependency})}),Object(ie.jsx)(Q.a,{item:!0,sm:6,xs:12,children:Object(ie.jsx)(an,{title:"Parallel Dependency",component:Lu,value:t.parallelDependency})})]}),Object(ie.jsx)(nn,{title:"Script",value:t.script,variant:"code",codeProps:{mode:"javascript",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},hideNoValue:!0})]})}var wu=function(e){return new Promise((function(t,n){W.P.listJobType().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.uri,r=void 0===a?[]:a,o=r;e&&"*"!==e&&(o=r.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())})));var c=o.map((function(e){return{label:e,value:e}}));t(c)})).catch((function(e){n(e)}))}))};var _u=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"step",type:"number",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"previous",component:Wt}),label:"Previous"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allPrevious",component:Wt}),label:"All Previous"})]})},Vu=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"jobType",label:"Job Type",component:yl,loadOptions:wu,disableInitial:!0,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"step",label:"Step",component:St,validate:[nu],type:"number",required:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"description",label:"Description",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"flags",label:"Flags",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"critical",component:Wt}),label:"Critical"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"cleanup",component:Wt}),label:"Cleanup"}),Object(ie.jsx)(Mt,{name:"dependency",label:"dependency",component:_u}),Object(ie.jsx)(Mt,{name:"parallelDependency",label:"parallelDependency",component:_u}),Object(ie.jsx)(Lt,{name:"script",label:"script",component:ta,options:{theme:"material",mode:"javascript",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}}),Object(ie.jsx)(Lt,{name:"jobType",type:"hidden",component:"input"})]})};var Bu=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"taskDefinitionDocument",component:Vu}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Uu=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.taskDefinitionDocument,o=e.onSuccess,c=r.step,i=r.jobType;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Step ".concat(c)}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:function(){W.P.removeTaskDefinitionStep({taskDefinitionType:i,taskDefinitionStep:c}).then((function(){var e="Step ".concat(c," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Step",messageColor:"secondary"})}))},color:"secondary",children:"Remove"})]})]})}));var qu=de((function(e){var t=e.taskDefinitionDocument,n=e.openSnackBar,a=e.onRefresh,r=e.onOpen,o=t.id,c=t.step,i=t.description,s="EDIT_TASKDEFINTION_FORM_".concat(o),l="TASKDEFINITION_REMOVE_".concat(o),u={taskDefinitionDocument:t},j={taskDefinitionDocument:t};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(mt,{title:"Step ".concat(c).concat(i?" - ".concat(i):""),formName:s,onSubmitSuccess:function(){n({messageContent:"Task Definition Saved"}),a&&a()},onSubmitFail:function(){n({messageContent:"Error Updating Task Definition",messageColor:"secondary"})},onSubmit:Du,displayProps:u,initialValues:j,displayComponent:Wu,formComponent:Bu,iconList:Object(ie.jsx)(_.a,{onClick:function(){return r({modalName:l})},children:Object(ie.jsx)(ee.a,{})})}),Object(ie.jsx)(Uu,{dialogName:l,taskDefinitionDocument:t,onSuccess:a})]})}));function Gu(e){return Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(qu,Object(u.a)({},e))})}function Hu(e){e.classes;var t=e.taskDefinitionListDocument,n=Object(ye.a)(e,["classes","taskDefinitionListDocument"]),a=t.task,r=void 0===a?[]:a;return Object(ie.jsx)(Mc,{children:r.map((function(e){return Object(ie.jsx)(Gu,Object(u.a)({taskDefinitionDocument:e},n),e.id)}))})}var Ju="EDIT_TASKDEFINITION_FORM";var zu=Object(m.c)(de,oa)((function(e){var t=e.jobType,n=e.submitForm,a=e.openSnackBar,r=e.onClose,o=e.onSuccess,c=e.open,i={taskDefinitionDocument:{jobType:t,script:"//"}};return Object(ie.jsxs)(Oe.a,{open:c,onClose:r,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Step"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Bu,{form:Ju,initialValues:i,onSubmit:Iu,onSubmitSuccess:function(e){var t=e.uriListDocument.uri[0],n="Step ID ".concat(t," Saved");a({messageContent:n}),r(),o&&o()},onSubmitFail:function(){a({messageContent:"Error Saving Step",messageColor:"secondary"})}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:r,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return n(Ju)},children:"Save"})]})]})}));var Ku=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.jobType,o=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Job Type "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.P.removeJobType({jobType:r}).then((function(){var e="Job Type ".concat(r," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Job Typ",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Yu="JOBTYPE_REMOVE_MODAL",Xu="TASKDEFINITION_DIALOG",Qu=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={taskDefinitionListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.taskDefinitionType;this.onRefresh(),document.title="xray | Task Definition | ".concat(e)}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.taskDefinitionType;try{W.P.getTaskDefinitionType({taskDefinitionType:a}).then((function(t){return e.setState({taskDefinitionListDocument:t.data})}))}catch(r){n({messageContent:"Error Getting Job Type",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.taskDefinitionType,n=e.history,a=this.state.taskDefinitionListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Au,{onRefresh:this.onRefresh,taskDefinitionType:t,code:a,codeModal:"TaskDefinitionListDocument",removeModal:Yu,createModal:Xu}),a&&Object(ie.jsx)(Hu,{onRefresh:this.onRefresh,taskDefinitionListDocument:a}),Object(ie.jsx)(Ku,{dialogName:Yu,jobType:t,onSuccess:function(){return n.push("/jobtype/")}}),Object(ie.jsx)(zu,{dialogName:Xu,jobType:t,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent));var $u=Object(bt.a)()(Object(Me.a)({scriptFieldRoot:{height:300,marginBottom:50},scriptFieldInput:{height:300}})((function(e){var t=e.classes,n=e.error,a=e.handleSubmit,r=e.cmRef;return Object(ie.jsxs)("form",{onSubmit:a,children:[n&&Object(ie.jsx)(X.a,{color:"error",children:n}),Object(ie.jsx)(At.a,{name:"xmlDocument",label:"XML Input",component:ta,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},className:{root:t.scriptFieldRoot,input:t.scriptFieldInput}}),Object(ie.jsx)(At.a,{name:"jsonDocument",label:"JSON Output",component:ta,options:{theme:"material",mode:"application/json",readOnly:!0,lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},cmRef:r})]})}))),Zu="ECHO_FORM";function ej(e){var t=e.onSubmit,n=e.submitForm,a=e.cmRef;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{title:"XML Echo"}),Object(ie.jsxs)(Re.a,{elevation:0,children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)($u,{onSubmit:t,cmRef:a,form:Zu})}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return n(Zu)},children:"Submit"})})]})]})}var tj=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onSubmit=a.onSubmit.bind(Object(M.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | XML Echo"}},{key:"onSubmit",value:function(e){var t=this,n=e.xmlDocument,a=this.props.dispatch;return W.i.echo({xmlDocument:n}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){var n=JSON.stringify(e,null,2);t.jsonRef.codeMirror.setValue(n)})).catch((function(e){throw a(D({messageContent:"Error Bad Request",messageColor:"secondary"})),new $e.a({_error:"Error ".concat(e.statusText)})}))}},{key:"render",value:function(){var e=this,t=this.props.dispatch;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ej,{onSubmit:this.onSubmit,submitForm:function(e){return t(Object(st.f)(e))},cmRef:function(t){e.jsonRef=t}})})}}]),n}(o.a.PureComponent),nj=Object(s.b)()(tj);function aj(e){var t=e.javascriptDocument;return W.t.test({javascriptDocument:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var rj=Object(bt.a)()(Object(Me.a)({scriptFieldRoot:{height:300,marginBottom:50},scriptFieldInput:{height:300}})((function(e){var t=e.classes,n=e.error,a=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:a,children:[n&&Object(ie.jsx)(X.a,{color:"error",children:n}),Object(ie.jsx)(At.a,{name:"javascriptDocument",label:"Javascript Input",component:ta,options:{theme:"material",mode:"application/javascript",lineWrapping:!0,lineNumbers:!0},className:{root:t.scriptFieldRoot,input:t.scriptFieldInput}})]})}))),oj="TEST_FORM";var cj=Object(m.c)(je,oa)((function(e){var t=e.submitForm,n=e.openSnackBar,a=e.onSuccess,r=e.onFail,o=e.result;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{title:"Javascript Test",action:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return t(oj)},children:"RUN"})}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(rj,{onSubmit:aj,onSubmitSuccess:function(e,t,r){n({messageContent:"Script Success"}),a&&a(e,t,r)},onSubmitFail:function(e,t,a,o){n({messageContent:"Error Running Script",messageColor:"secondary"}),r&&r(e,t,a,o)},form:oj})})}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(nn,{title:"Result",value:o,variant:"code"})})})]})})),ij=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).state={result:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Javascript Test"}},{key:"render",value:function(){var e=this,t=this.state.result;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(cj,{result:t,onSuccess:function(t){return e.setState({result:JSON.stringify(t.data,null,2)})},onFail:function(){return e.setState({result:void 0})}})})}}]),n}(o.a.PureComponent),sj=n(27),lj=n.n(sj),uj=n(45);function jj(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Audit Log",helpTo:"/ref/audit-trail.html"},e))}function dj(e){var t=e.queryParams;return W.b.listAuditLog({path:"/API/log/",queryParams:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var mj=function(e){return new Promise((function(t,n){W.S.listUser().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.user,r=void 0===a?[]:a,o=r;e&&"*"!==e&&(o=r.filter((function(t){return t.userName.toLowerCase().includes(e.toLowerCase())})));var c=o.map((function(e){return{label:e.userName,value:e.userName}}));t(c)})).catch((function(e){n(e)}))}))},bj=function(e){if(e)return e.value};function hj(e){return Object(ie.jsx)(At.a,Object(u.a)({component:yl,loadOptions:mj,cacheOptions:!0,parse:bj,createable:!1},e))}var Oj=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"method",children:"Method"}),Object(ie.jsxs)(Lt,{name:"method",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"GET",children:"GET"}),Object(ie.jsx)(Cn.a,{value:"PUT",children:"PUT"}),Object(ie.jsx)(Cn.a,{value:"POST",children:"POST"}),Object(ie.jsx)(Cn.a,{value:"DELETE",children:"DELETE"})]})]}),Object(ie.jsx)(Lt,{name:"path",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"rows",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"username",component:yl,loadOptions:mj,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"starttime",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"endtime",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"wildcard",component:Wt}),label:"Wildcard"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"performCount",component:Wt,disabled:!0}),label:"Perform Count"})]})};var pj=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Oj}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var xj=Object(m.c)(de,oa)((function(e){var t=e.onClose,n=e.onSuccess,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.form,i=void 0===c?"AUDITLOG_FILTER_FORM":c,s=e.changeForm,l=function(){var e=Object(uj.a)(lj.a.mark((function e(){return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(i,"queryParams.first",0);case 2:r(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(pj,{form:i,onSubmit:dj,onSubmitSuccess:function(e,t,a){n&&n(e,t,a)},onSubmitFail:function(){a({messageContent:"Error Listing Audit Log",messageColor:"secondary"})},onCancel:t,initialValues:{queryParams:{performCount:!1}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(i)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:l,children:"Filter"})]})]})}));function fj(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(xj,Object(u.a)({},t))})})}var vj=n(720),gj=De.a,yj=Ee.a;function Sj(e){var t=e.entry,n=void 0===t?{}:t;return Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:n.timestamp?qt()(n.timestamp).toString():""}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/username/".concat(n.username,"/"),children:n.username})}),Object(ie.jsx)(Vn,{children:n.method}),Object(ie.jsx)(Vn,{children:n.path}),Object(ie.jsx)(Vn,{children:n.queryParameters}),Object(ie.jsx)(Vn,{children:n.matrixParameters})]})}var Cj=Ne.a;function Rj(e){var t=e.auditLogDocument,n=e.count,a=void 0===n?0:n,r=e.page,o=void 0===r?0:r,c=e.rowsPerPage,i=void 0===c?100:c,s=e.onChangePage,l=e.onChangeRowsPerPage,u=e.onChangeOrder,j=e.orderDirection,d=t.entry,m=void 0===d?[]:d,b=[100,250,500];return b.includes(i)||b.push(i),Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:void 0!==j,direction:j,onClick:u,children:"Timestamp"})}),Object(ie.jsx)(Vn,{children:"username"}),Object(ie.jsx)(Vn,{children:"Method"}),Object(ie.jsx)(Vn,{children:"Path"}),Object(ie.jsx)(Vn,{children:"Query Parameters"}),Object(ie.jsx)(Vn,{children:"Matrix Parameters"})]})}),Object(ie.jsx)(_n,{children:m.map((function(e,t){return Object(ie.jsx)(Sj,{entry:e},t)}))}),Object(ie.jsx)(yj,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Cj,{count:a,page:o,rowsPerPage:i,onChangePage:s,onChangeRowsPerPage:l,ActionsComponent:qe,rowsPerPageOptions:b})})})]})}function Ij(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Rj,Object(u.a)({},t))})})}var Dj=n(363),Fj=n(364),kj=function(e,t){return Object(s.b)(function(e){return function(t){return{formValues:Object(ac.a)(e)(t),isFormDirty:Object(rc.a)(e)(t),isFormSubmitting:Object(Dj.a)(e)(t),valueSelector:function(n){return Object(Fj.a)(e)(t,n)}}}}(t))(e)},Tj="AUDITLOG_FILTER_FORM",Pj=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSuccess=a.onSuccess.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.onChangeOrder=a.onChangeOrder.bind(Object(M.a)(a)),a.state={auditLogDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderDirection:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Audit Log",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(Tj)}},{key:"onSuccess",value:function(e){var t=e.data,n=this.props.formValues,a=(void 0===n?{}:n).queryParams,r=void 0===a?{}:a,o=r.first,c=void 0===o?0:o,i=r.rows,s=void 0===i?100:i,l=t.count,u=void 0===l?0:l,j=Math.ceil(u/s)-Math.ceil((u-c)/s);this.setState({count:u,rowsPerPage:s,page:j,auditLogDocument:t})}},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.props,r=a.formValues,o=void 0===r?{}:r,c=a.changeForm,i=o.queryParams,s=(void 0===i?{}:i).rows,c(Tj,"queryParams.first",n*(l=void 0===s?100:s)),e.next=8,c(Tj,"queryParams.rows",l);case 8:this.onRefresh();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,(a=this.props.changeForm)(Tj,"queryParams.first",0),e.next=6,a(Tj,"queryParams.rows",n);case 6:this.onRefresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeOrder",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.changeForm,void 0===(n=this.state.orderDirection)?a="desc":"desc"===n&&(a="asc"),this.setState({orderDirection:a}),e.next=6,t(Tj,"queryParams.sort",a);case 6:this.onRefresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.auditLogDocument,n=e.count,a=e.page,r=e.rowsPerPage,o=e.orderDirection;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(jj,{code:t,codeModal:"AuditLogDocument",onRefresh:this.onRefresh}),Object(ie.jsx)(fj,{form:Tj,onSuccess:this.onSuccess}),t&&Object(ie.jsx)(Ij,{auditLogDocument:t,count:n,page:a,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderDirection:o})]})}}]),n}(o.a.PureComponent),Ej=Object(m.c)(oa,kj)(Pj,Tj),Nj=n(696),Mj=n(697),Aj=n(56),Lj=n.n(Aj),Wj=n(718);var wj=function(e){var t=e.style,n=void 0===t?{}:t,a=Object(u.a)({marginTop:"5px",marginBottom:"5px"},n);return Object(ie.jsx)(Wj.a,Object(u.a)(Object(u.a)({elevation:0,square:!0},e),{},{style:a}))};function _j(e){var t=e.queryParams,n=e.matrixParams,a=void 0===n?{}:n;return W.u.listJob({queryParams:t,matrixParams:Object.entries(a)}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Vj(e,t,n){var a=n.jobId||e.jobId,r=e.queryParams;return W.u.modifyJob({jobId:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Bj(e,t,n){var a=n.jobId||e.jobId,r=e.queryParams;return W.u.duplicateJob({jobId:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Uj(e,t,n){var a=n.jobId||e.jobId,r=e.queryParams;return W.u.abortJob({jobId:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function qj(e){var t=e.queryParams;return W.u.createJob({queryParams:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Gj=["READY","STARTED","VIDINET_JOB","FINISHED"],Hj=["WAITING","FINISHED_WARNING","ABORT_PENDING"],Jj=["READY","STARTED","VIDINET_JOB","WAITING","ABORT_PENDING"],zj=["READY","STARTED","VIDINET_JOB","FINISHED","FINISHED_WARNING","FAILED_TOTAL","WAITING","ABORT_PENDING","ABORTED"],Kj=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",component:Xa}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"metadata",component:Wt}),label:"Include Metadata"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"idonly",component:Wt}),label:"Only IDs"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"step",component:Wt}),label:"Include Steps"}),Object(ie.jsx)(Lt,{name:"starttime-from",component:St,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(ie.jsx)(Lt,{name:"starttime-to",component:St,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(ie.jsx)(Lt,{name:"finishtime-from",component:St,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(ie.jsx)(Lt,{name:"finishtime-to",component:St,type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0})]})},Yj=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsxs)(Lt,{name:"state",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"all",children:"All"}),zj.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))]})]}),Object(ie.jsx)(Lt,{name:"type",label:"Type",component:yl,loadOptions:wu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"sort",component:Ya,simple:!0,fullWidth:!0,disabled:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"user",component:Wt}),label:"Only My User"})]})};var Xj=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Kj}),Object(ie.jsx)(Mt,{name:"matrixParams",component:Yj}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Qj=Object(m.c)(de,oa)((function(e){var t=e.onClose,n=e.onSuccess,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.form,i=void 0===c?"JOB_FILTER_FORM":c,s=e.changeForm,l=function(){var e=Object(uj.a)(lj.a.mark((function e(){return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(i,"matrixParams.first",0);case 2:r(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Job List Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(Xj,{form:i,onSubmit:_j,onSubmitSuccess:function(e,t,a){n&&n(e,t,a)},onSubmitFail:function(){a({messageContent:"Error Listing Jobs",messageColor:"secondary"})},onCancel:t,destroyOnUnmount:!1,initialValues:{matrixParams:{first:0,number:10,sort:["jobId desc"],user:!1}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(i)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:l,children:"Filter"})]})]})})),$j=function(e){var t=e.jobDocument;if(void 0===t)return null;var n=t.status,a=Jj.includes(n);return Gj.includes(n)?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)($r,{isLoading:a,children:Object(ie.jsx)(Qr,{})}),label:He()(n.toLowerCase())}):Hj.includes(n)?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)($r,{isLoading:a,children:Object(ie.jsx)(eo,{})}),label:He()(n.toLowerCase())}):Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)($r,{isLoading:a,children:Object(ie.jsx)(Zr,{})}),label:n?He()(n.toLowerCase()):"Unknown"})};function Zj(e){var t,n=e.jobDocument,a=qt()(n.started);if(n.finished){var r=qt()(n.finished);t=qt.a.duration(r.diff(a)).humanize()}else if("STARTED"===n.status){var o=qt()(),c=qt.a.duration(o.diff(a));t="".concat(parseInt(c.asMinutes(),10)," minutes")}var i=function(e){return Object(ie.jsx)(ze,Object(u.a)({to:"/job/".concat(n.jobId,"/")},e))};return Object(ie.jsxs)(Un,{to:"/job/".concat(n.jobId,"/"),hover:!0,children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:n.jobId})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:n.user})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:n.started?qt()(n.started).format("YYYY-MM-DD HH:mm").toString():""})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:n.finished?qt()(n.finished).format("YYYY-MM-DD HH:mm").toString():""})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:t})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:Object(ie.jsx)($j,{jobDocument:n})})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:n.type})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(i,{children:n.priority})})]})}function ed(e){var t=e.jobListDocument,n=e.count,a=void 0===n?0:n,r=e.page,o=void 0===r?0:r,c=e.rowsPerPage,i=void 0===c?10:c,s=e.onChangePage,l=e.onChangeRowsPerPage,u=e.onChangeOrder,j=e.orderBy,d=e.orderDirection,m=t.job,b=void 0===m?[]:m,h=[10,100,250];return h.includes(i)||h.push(i),Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"jobId"===j,direction:d,onClick:u("jobId"),children:"ID"})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"user"===j,direction:d,onClick:u("user"),children:"User"})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"startTime"===j,direction:d,onClick:u("startTime"),children:"Start"})}),Object(ie.jsx)(Vn,{children:"End"}),Object(ie.jsx)(Vn,{children:"Duration"}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"status"===j,direction:d,onClick:u("status"),children:"Status"})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"type"===j,direction:d,onClick:u("type"),children:"Type"})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"priority"===j,direction:d,onClick:u("priority"),children:"Priority"})})]})}),Object(ie.jsx)(_n,{children:b.map((function(e){return Object(ie.jsx)(Zj,{jobDocument:e},e.jobId)}))}),Object(ie.jsx)(yj,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Cj,{count:a,page:o,rowsPerPage:i,onChangePage:s,onChangeRowsPerPage:l,ActionsComponent:qe,rowsPerPageOptions:h})})})]})}function td(e){var t=Object.assign({},e);return void 0===t.jobListDocument?null:Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(ed,Object(u.a)({},t))})})}var nd=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"type",label:"Type",component:yl,loadOptions:wu,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]})};var ad=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:nd}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),rd="JOB_CREATE_FORM";var od=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.initialValues;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Start Job"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(ad,{form:rd,onSubmit:qj,onSubmitSuccess:function(e,t,o){r({messageContent:"Job Started"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Starting Job",messageColor:"secondary"})},onCancel:n,initialValues:c})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(rd)},children:"Start"})]})]})})),cd="JOB_FILTER_FORM",id="JOB_CREATE_DIALOG",sd=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSuccess=a.onSuccess.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.onChangeOrder=a.onChangeOrder.bind(Object(M.a)(a)),a.onChangeAutoRefresh=a.onChangeAutoRefresh.bind(Object(M.a)(a)),a.state={jobListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderBy:void 0,orderDirection:void 0,autoRefresh:!1},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Job",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(cd)}},{key:"onChangeAutoRefresh",value:function(){var e=this,t=!this.state.autoRefresh;this.setState({autoRefresh:t}),!0===t&&void 0===this.timer?this.timer=setInterval((function(){return e.onRefresh()}),2500):!1===t&&void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}},{key:"onSuccess",value:function(e){var t=e.data,n=this.props.formValues,a=(void 0===n?{}:n).matrixParams,r=void 0===a?{}:a,o=r.first,c=void 0===o?0:o,i=r.number,s=void 0===i?10:i,l=t.hits,u=void 0===l?0:l,j=Math.ceil(u/s)-Math.ceil((u-c)/s);this.setState({count:u,rowsPerPage:s,page:j,jobListDocument:t})}},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.props,r=a.formValues,o=void 0===r?{}:r,c=a.changeForm,i=o.matrixParams,s=(void 0===i?{}:i).number,c(cd,"matrixParams.first",n*(l=void 0===s?10:s)),e.next=8,c(cd,"matrixParams.number",l);case 8:this.onRefresh();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,(a=this.props.changeForm)(cd,"matrixParams.first",0),e.next=6,a(cd,"matrixParams.number",n);case 6:this.onRefresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeOrder",value:function(e){var t=this;return Object(uj.a)(lj.a.mark((function n(){var a,r,o,c,i,s,l;return lj.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.props.changeForm,r=t.state,o=r.orderDirection,c=r.orderBy,i="",e!==c?(l=e,s="desc",i=["".concat(e," ").concat(s)]):"desc"===o&&(l=e,s="asc",i=["".concat(e," ").concat(s)]),t.setState({orderBy:l,orderDirection:s}),n.next=7,a(cd,"matrixParams.sort",i);case 7:t.onRefresh();case 8:case"end":return n.stop()}}),n)})))}},{key:"render",value:function(){var e=this.state,t=e.jobListDocument,n=e.count,a=e.page,r=e.rowsPerPage,o=e.orderBy,c=e.orderDirection,i=e.autoRefresh,s=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Job",helpTo:"/ref/job.html",onRefresh:this.onRefresh,code:t,codeModal:"JobListDocument",createModal:id,autoRefresh:i,onChangeAutoRefresh:this.onChangeAutoRefresh}),Object(ie.jsx)(Qj,{form:cd,onSuccess:this.onSuccess}),Object(ie.jsx)(td,{jobListDocument:t,count:n,page:a,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:o,orderDirection:c}),Object(ie.jsx)(od,{dialogName:id,onSuccess:function(e){return s.push("/job/".concat(e.data.jobId))}})]})}}]),n}(o.a.PureComponent),ld=Object(m.c)(oa,kj)(sd,cd),ud=function(e){var t=e.jobDocument,n=e.priorityDialog,a=e.abortDialog,r=e.onOpen;if(void 0===t)return null;var o=t.status;return Jj.includes(o)?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:n})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Change Priority"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:a})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Abort"})})]}):null};var jd=T((function(e){var t=e.onOpen,n=e.priorityDialog,a=e.abortDialog,r=e.removeDialog,o=e.duplicateDialog,c=Object(ye.a)(e,["onOpen","priorityDialog","abortDialog","removeDialog","duplicateDialog"]);return Object(ie.jsx)(ge,Object(u.a)({parentTitle:"Job",parentTo:"/job/",helpTo:"/ref/job.html",codeModal:"JobDocument",iconList:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)($j,{jobDocument:c.code}),Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(ud,{jobDocument:c.code,priorityDialog:n,abortDialog:a,onOpen:t}),Object(ie.jsx)(Cn.a,{onClick:function(){return t({modalName:o})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Duplicate Job"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return t({modalName:r})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Delete"})})]})]})},c))}));function dd(e){if(e.startsWith("transcodeShapeDocument"))return"xml";if(e.startsWith("assetMapShapeDocument"))return"xml";if(e.endsWith("transcodePreset"))return"xml";switch(e){case"item":case"itemId":return"itemId";case"fileId":case"sourceFileId":case"destinationFileId":case"originalFileId":return"fileId";case"username":return"username";case"destinationStorageId":case"sourceStorageId":case"storageId":return"storageId";case"shapeDocument":case"result":case"jobDocument":case"jobStatusDocument":case"conformXML":case"metadata":case"importCompositionPlaylists":case"shapeListDocument":case"importAssetMap":case"importPackingList":return"xml";case"originalShapeIdsStruct":return"json";default:return}}var md=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:n.total,value:n.unit,hideNoValue:!0,hover:!0})})},bd=function e(t){var n=t.value,a=void 0===n?{}:n;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"step",value:a.step,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"attempts",value:a.attempts,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"status",value:a.status,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"timestamp",value:a.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"description",value:a.description,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{component:md,value:a.progress,hideNoValue:!0}),Object(ie.jsx)(on,{value:a.subStep,component:function(e){var t=e.value;return Object(ie.jsx)(nn,{title:qt()(t.timestamp).format("llll"),value:t.description,titleStartCase:!1})},hideNoValue:!0,hover:!0,dense:!0}),Object(ie.jsx)(nn,{title:"errorMessage",value:a.errorMessage,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"totalSubTasks",value:a.totalSubTasks,hideNoValue:!0,hover:!0}),Object(ie.jsx)(on,{title:"subTask",value:a.subTask,component:e,hideNoValue:!0,hover:!0})]})},hd=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(on,{arrayTitle:"Data",value:n.data,arrayKey:"key",component:function(e){var t=e.value;return Object(ie.jsx)(nn,{title:t.key,value:t.value,titleStartCase:!1,variant:dd(t.key),hideCode:!0})},hideNoValue:!0,hover:!0,dense:!0})},Od=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(an,{value:n.log,dense:!0,component:function(e){var t=e.value;return Object(ie.jsx)(on,{arrayTitle:"Step",titleKey:"step",value:Array.isArray(t.task)?t.task.reverse():t.task,component:bd,hideNoValue:!0,hover:!0,dense:!0})}})},pd=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(an,{title:"currentStep",value:n.currentStep,component:function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"description",value:t.description,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"number",value:t.number,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"status",value:t.status,hideNoValue:!0,hover:!0})]})},hideNoValue:!0,dense:!0})},xd=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"jobId",value:n.jobId,hover:!0}),Object(ie.jsx)(nn,{title:"user",value:n.user,variant:"username",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"started",value:n.started,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"finished",value:n.finished,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"status",value:n.status,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"type",value:n.type,variant:"jobtype",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"priority",value:n.priority,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"totalSteps",value:n.totalSteps,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"waiting",value:n.waiting,component:function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"resourceId",value:t.resourceId,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"resourceType",value:t.resourceType,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"requirement",value:t.requirement,hideNoValue:!0,hover:!0})]})},hideNoValue:!0,dense:!0})]})},fd=function(e){var t=e.jobDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:xd,value:t})})},vd=function(e){var t=e.jobDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:hd,value:t})})},gd=function(e){var t=e.jobDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Od,value:t})})},yd=function(e){var t=e.jobDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:pd,value:t})})};function Sd(e){var t=Object.assign({},e);return void 0===t.jobDocument?null:Object(ie.jsxs)(Mc,{children:[Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(fd,Object(u.a)({},t))})}),Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(yd,Object(u.a)({},t))})}),Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(vd,Object(u.a)({},t))})}),Object(ie.jsx)(Re.a,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(gd,Object(u.a)({},t))})})]})}var Cd=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]})};var Rd=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Cd}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Id="JOB_PRIORITY_FORM";var Dd=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.jobDocument;if(void 0===c)return null;var i=c.jobId,s=c.priority;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Change Job ".concat(i," Priority")}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Rd,{form:Id,onSubmit:Vj,onSubmitSuccess:function(e,t,o){r({messageContent:"Job Status Updated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Updating Job Status",messageColor:"secondary"})},onCancel:n,jobId:i,initialValues:{queryParams:{priority:s}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(Id)},children:"Save"})]})]})})),Fd="JOB_DUPLICATE_FORM";var kd=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.jobDocument;if(void 0===c)return null;var i=c.jobId,s=c.priority;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Duplicate Job ".concat(i)}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Rd,{form:Fd,onSubmit:Bj,onSubmitSuccess:function(e,t,o){r({messageContent:"Job Duplicated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Duplicating Job",messageColor:"secondary"})},onCancel:n,jobId:i,initialValues:{queryParams:{priority:s}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(Fd)},children:"Start"})]})]})})),Td=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"reason",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"cleanup",component:Wt}),label:"Cleanup"})]})};var Pd=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Td}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Ed="JOB_ABORT_FORM";var Nd=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.jobDocument;if(void 0===c)return null;var i=c.jobId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Abort Job ".concat(i)}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Pd,{form:Ed,onSubmit:Uj,onSubmitSuccess:function(e,t,o){r({messageContent:"Job Abort Requested"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Updating Aborting Job",messageColor:"secondary"})},onCancel:n,jobId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return o(Ed)},children:"Abort"})]})]})}));var Md=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.jobDocument,o=e.onSuccess;if(void 0===r)return null;var c=r.jobId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Job ".concat(c,"?")}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){var e={id:c};W.u.deleteJob({queryParams:e}).then((function(){var e="Job ".concat(c," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Job",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Ad="JOB_PRIORITY_DIALOG",Ld="JOB_DUPLICATE_DIALOG",Wd="JOB_ABORT_DIALOG",wd="JOB_REMOVE_DIALOG",_d=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onAutoRefresh=a.onAutoRefresh.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onChangeAutoRefresh=a.onChangeAutoRefresh.bind(Object(M.a)(a)),a.state={jobDocument:void 0,autoRefresh:!0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.onRefresh(),this.timer=setInterval((function(){return e.onAutoRefresh()}),2500);var t=this.props.jobId;document.title="xray | Job | ".concat(t)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=e.jobId;this.props.jobId!==n&&(this.onFetch(n),clearInterval(this.timer),this.timer=setInterval((function(){return t.onAutoRefresh()}),2500),this.setState({autoRefresh:!0}),document.title="xray | Job | ".concat(n))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=void 0}},{key:"onRefresh",value:function(){var e=this.props.jobId;this.onFetch(e)}},{key:"onAutoRefresh",value:function(){var e=this.state.jobDocument,t=(void 0===e?{}:e).status;return void 0===t||this.timer&&!Jj.includes(t)?(clearInterval(this.timer),this.timer=void 0,void this.setState({autoRefresh:!1})):void this.onRefresh()}},{key:"onFetch",value:function(e){var t=this;try{W.u.getJob({jobId:e,queryParams:{metadata:!0}}).then((function(e){return t.setState({jobDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Job",messageColor:"secondary"})}},{key:"onChangeAutoRefresh",value:function(){var e=this,t=!this.state.autoRefresh;this.setState({autoRefresh:t}),!0===t&&void 0===this.timer?this.timer=setInterval((function(){return e.onAutoRefresh()}),2500):!1===t&&void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}},{key:"render",value:function(){var e=this.state,t=e.jobDocument,n=e.autoRefresh,a=this.props,r=a.jobId,o=a.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(jd,{title:r,onRefresh:this.onRefresh,autoRefresh:n,onChangeAutoRefresh:this.onChangeAutoRefresh,code:t,priorityDialog:Ad,duplicateDialog:Ld,abortDialog:Wd,removeDialog:wd}),Object(ie.jsx)(Sd,{jobDocument:t}),Object(ie.jsx)(Dd,{dialogName:Ad,onSuccess:this.onRefresh,jobDocument:t}),Object(ie.jsx)(kd,{dialogName:Ld,onSuccess:function(e){return o.push("/job/".concat(e.data.jobId))},jobDocument:t}),Object(ie.jsx)(Nd,{dialogName:Wd,onSuccess:this.onRefresh,jobDocument:t}),Object(ie.jsx)(Md,{dialogName:wd,onSuccess:function(){return o.push("/job/")},jobDocument:t})]})}}]),n}(o.a.PureComponent)),Vd="JOB_CREATE_FORM";var Bd=Object(m.c)(je,oa)((function(e){var t=e.openSnackBar,n=e.submitForm,a=e.initialValues,r=e.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Start Job",helpTo:"/ref/job.html"}),Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(ad,{form:Vd,onSubmit:qj,onSubmitSuccess:function(e){t({messageContent:"Job Started"}),r.push("/job/".concat(e.data.jobId))},onSubmitFail:function(){t({messageContent:"Error Starting Job",messageColor:"secondary"})},initialValues:a})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return n(Vd)},children:"Start"})})]})]})}));function Ud(e){var t=e.exportLocationDocument,n=void 0===t?{}:t;return Object(ie.jsx)(Un,{to:"/export-location/".concat(n.name,"/"),hover:!0,children:Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/export-location/".concat(n.name,"/"),children:n.name})})})}function qd(e){var t=e.exportLocationListDocument,n=(void 0===t?[]:t).exportLocation,a=void 0===n?[]:n;return Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Vn,{children:"Name"})})}),Object(ie.jsx)(_n,{children:a.map((function(e){return Object(ie.jsx)(Ud,{exportLocationDocument:e},e.name)}))})]})}function Gd(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(qd,Object(u.a)({},t))})})}var Hd=function(e){return new Promise((function(t,n){W.C.listProjection().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.uri,r=void 0===a?[]:a,o=r;e&&"*"!==e&&(o=r.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())})));var c=o.map((function(e){return{label:e,value:e}}));t(c)})).catch((function(e){n(e)}))}))};var Jd=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"name",component:Qn,fullWidth:!0}),Object(ie.jsx)(va,{name:"uriList",label:"URI",component:Mo}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"projection",label:"Projection",component:yl,loadOptions:Hd,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"script",label:"Script",component:ta,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}})]})},zd=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"exportLocationDocument",component:Jd}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Kd(e,t,n){var a=e.exportLocationDocument,r=n.locationName||a.name;return W.m.updateExportLocation({locationName:r,exportLocationDocument:a}).then((function(e){return{exportLocationDocument:e.data,locationName:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Yd=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.history;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Export Location"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(xc,{FormComponent:zd,documentName:"exportLocationDocument",onSubmit:Kd,onSubmitSuccess:function(e){var t=e.locationName,o="Export Location ".concat(t," Created");a({messageContent:o}),r.push("/export-location/".concat(t,"/")),n()},onSubmitFail:function(){a({messageContent:"Error Creating Export Location",messageColor:"secondary"})},onCancel:n})})]})}));function Xd(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Export Location",helpTo:"/ref/export-location.html"},e))}var Qd="EXPORTLOCATION_CREATE_MODAL",$d=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={exportLocationListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Export Location"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.m.listExportLocation().then((function(t){return e.setState({exportLocationListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Export Location List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.exportLocationListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Xd,{createModal:Qd,onRefresh:this.onRefresh,code:e,codeModal:"ExportLocationListDocument"}),e&&Object(ie.jsx)(Gd,{exportLocationListDocument:e,onRefresh:this.onRefresh}),Object(ie.jsx)(Yd,{dialogName:Qd})]})}}]),n}(o.a.PureComponent));function Zd(e){return Object(ie.jsx)(ge,Object(u.a)({parentTitle:"Export Location",parentTo:"/export-location/",title:e.locationName,helpTo:"/ref/export-location.html"},e))}var em=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0}),Object(ie.jsx)(nn,{title:"uriList",value:n.uriList,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"projection",value:n.projection,hover:!0}),Object(ie.jsx)(nn,{title:"tag",value:n.tag,variant:"list",hover:!0}),Object(ie.jsx)(nn,{title:"Script",value:n.script,variant:"code"})]})};function tm(e){var t=e.exportLocationDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:em,value:t})})}var nm=de((function(e){var t=e.exportLocationDocument,n=e.locationName,a=e.openSnackBar,r=e.onRefresh,o={locationName:n},c={exportLocationDocument:t},i={exportLocationDocument:t};return Object(ie.jsx)(mt,{formName:"EDIT_EXPORTLOCATION_FORM",onSubmitSuccess:function(){a({messageContent:"Export Location Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Export Location",messageColor:"secondary"})},onSubmit:Kd,formProps:o,displayProps:c,initialValues:i,displayComponent:tm,formComponent:zd})}));function am(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie,{children:Object(ie.jsx)(nm,Object(u.a)({},e))})})}var rm=de((function(e){var t=e.open,n=e.onClose,a=e.history,r=e.openSnackBar,o=e.locationName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Export Location "'.concat(o,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.m.removeExportLocation({locationName:o}).then((function(){var e="Export Location ".concat(o," Removed");r({messageContent:e}),a.push("/export-location/"),n(),c&&c()})).catch((function(){r({messageContent:"Error Removing Export Location",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),om="EXPORTLOCATION_REMOVE_MODAL",cm=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={exportLocationDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.locationName;document.title="xray | Export Location | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.locationName;try{W.m.getExportLocation({locationName:a}).then((function(t){return e.setState({exportLocationDocument:Ka()(t.data,{$unset:["uri"]})})}))}catch(r){n({messageContent:"Error Getting Export Location",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props.locationName,t=this.state.exportLocationDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Zd,{removeModal:om,onRefresh:this.onRefresh,locationName:e,code:t,codeModal:"ExportLocationDocument"}),t&&Object(ie.jsx)(am,{exportLocationDocument:t,onRefresh:this.onRefresh}),Object(ie.jsx)(rm,{dialogName:om,locationName:e})]})}}]),n}(o.a.PureComponent)),im=function(e){var t=e.selfTestDocument,n=void 0===t?{}:t,a=e.loading,r=void 0!==a&&a,o=Object(ye.a)(e,["selfTestDocument","loading"]);if(!0===r)return Object(ie.jsx)(w.a,Object(u.a)({avatar:Object(ie.jsx)($r,{}),label:"Loading"},o));var c=n.status,i=n.took;return"ok"===c?Object(ie.jsx)(w.a,Object(u.a)({avatar:Object(ie.jsx)(Qr,{}),label:"Online".concat(i?" (".concat(i,")"):"")},o)):"warning"===c?Object(ie.jsx)(w.a,Object(u.a)({avatar:Object(ie.jsx)(eo,{}),label:"Warning".concat(i?" (".concat(i,")"):"")},o)):Object(ie.jsx)(w.a,Object(u.a)({avatar:Object(ie.jsx)(Zr,{}),label:"Failed".concat(i?" (".concat(i,")"):"")},o))};function sm(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Self Test",helpTo:"/ref/self-test.html",iconList:Object(ie.jsx)(im,{selfTestDocument:e.code})},e))}var lm=function e(t){var n=t.value,a=void 0===n?{}:n;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:a.name,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"description",value:a.description,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"status",value:a.status,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"took",value:a.took,hover:!0,hideNoValue:!0}),Object(ie.jsx)(Ca,{title:"message",value:a.message,hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"test",value:a.test,component:e,titleKey:"name",hideNoValue:!0})]})};function um(e){var t=e.selfTestDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:lm,value:t})})}function jm(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:He()(e.selfTestDocument.name)}),action:Object(ie.jsx)(im,{selfTestDocument:e.selfTestDocument})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(um,Object(u.a)({},e))})]})})}function dm(e){var t=e.selfTestDocument.test;return(void 0===t?[]:t).map((function(e){return Object(ie.jsx)(jm,{selfTestDocument:e},e.name)}))}var mm=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={selfTestDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Self Test"}},{key:"onRefresh",value:function(){var e=this;try{W.I.listSelfTest().then((function(t){return e.setState({selfTestDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Getting Self Test",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.selfTestDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(sm,{onRefresh:this.onRefresh,code:e,codeModal:"SelfTestDocument"}),e&&Object(ie.jsx)(dm,{selfTestDocument:e})]})}}]),n}(o.a.PureComponent));function bm(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Group",helpTo:"/ref/group.html"},e))}function hm(e){var t=e.groupDocument,n=void 0===t?{}:t,a=e.onRemove;return Object(ie.jsxs)(Un,{to:"/group/".concat(n.groupName,"/"),hover:!0,children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/group/".concat(n.groupName,"/"),children:n.groupName})}),Object(ie.jsx)(Vn,{children:n.role&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:a&&Object(ie.jsx)(_.a,{onClick:function(){return a({groupName:n.groupName})},children:Object(ie.jsx)(ee.a,{})})})]})}var Om=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.groupName,o=e.userName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove "'.concat(o,'" From "').concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.q.removeGroupUser({groupName:r,userName:o}).then((function(){var e="".concat(o," Removed From ").concat(r);a({messageContent:e}),n(),c&&c()})).catch((function(){a({messageContent:"Error Removing User From Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var pm=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.parentGroupName,o=e.groupName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Group "'.concat(o,'" From ').concat(r,"?")}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.q.removeGroupChildren({groupName:r,childGroupName:o}).then((function(){var e="Group ".concat(o," Removed From ").concat(r);a({messageContent:e}),n(),c&&c()})).catch((function(){a({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var xm=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.groupName,o=e.childGroupName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Group "'.concat(o,'" From ').concat(r,"?")}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.q.removeGroupChildren({groupName:r,childGroupName:o}).then((function(){var e="Group ".concat(o," Removed From ").concat(r);a({messageContent:e}),n(),c&&c()})).catch((function(){a({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),fm="REMOVE_GROUP_DIALOG";var vm=Gn((function(e){var t=e.groupListDocument,n=void 0===t?{}:t,a=e.userName,r=e.parentGroupName,o=e.childGroupName,c=e.onSuccess,i=e.dialogProps,s=e.onOpen,l=e.showRemove,j=e.count,d=e.page,m=e.rowsPerPage,b=e.onChangePage,h=e.onChangeRowsPerPage,O=n.group,p=void 0===O?[]:O,x=[100,250,500];return x.includes(m)||x.push(m),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Group Name"}),Object(ie.jsx)(Vn,{children:"Role"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:p.map((function(e){return Object(ie.jsx)(hm,{groupDocument:e,onRemove:l?s(fm):void 0},e.groupName)}))}),j&&Object(ie.jsx)(yj,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Cj,{count:j,page:d,rowsPerPage:m,onChangePage:b,onChangeRowsPerPage:h,ActionsComponent:qe,rowsPerPageOptions:x})})})]}),a&&Object(ie.jsx)(Om,Object(u.a)(Object(u.a)({},i),{},{dialogName:fm,userName:a,onSuccess:c})),r&&Object(ie.jsx)(pm,Object(u.a)(Object(u.a)({},i),{},{dialogName:fm,parentGroupName:r,onSuccess:c})),o&&Object(ie.jsx)(xm,Object(u.a)(Object(u.a)({},i),{},{dialogName:fm,childGroupName:o,onSuccess:c}))]})}));function gm(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(vm,Object(u.a)({},t))})})}var ym=function(e){return new Promise((function(t,n){W.q.listGroup().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.group,r=void 0===a?[]:a,o=r;e&&"*"!==e&&(o=r.filter((function(t){return t.groupName.toLowerCase().includes(e.toLowerCase())})));var c=o.map((function(e){return{label:e.groupName,value:e.groupName}}));t(c)})).catch((function(e){n(e)}))}))},Sm=function(e){if(e)return e.value};function Cm(e){return Object(ie.jsx)(At.a,Object(u.a)({component:yl,loadOptions:ym,cacheOptions:!0,parse:Sm},e))}var Rm=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"groupName",label:"Group",component:yl,loadOptions:ym,cacheOptions:!0,isClearable:!0})})},Im=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"userName",label:"User",component:yl,loadOptions:mj,cacheOptions:!0,isClearable:!0})})},Dm=function(){return Object(ie.jsx)(Nt,{name:"group",label:"Group",component:Rm})},Fm=function(){return Object(ie.jsx)(Nt,{name:"user",component:Im})},km=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"groupName",component:Qn,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"description",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"role",component:Wt,disabled:!0}),label:"Role"}),Object(ie.jsx)(Mt,{name:"metadata",component:qc}),Object(ie.jsx)(Mt,{name:"parentGroupList",label:"Parent Groups",component:Dm}),Object(ie.jsx)(Mt,{name:"childGroupList",label:"Child Groups",component:Dm}),Object(ie.jsx)(Mt,{name:"userList",label:"Users",component:Fm})]})},Tm=function(){return Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"clear",component:Wt}),label:"Clear Existing Users/Groups"})},Pm=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"userList",component:Fm})})},Em=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"groupDocument",component:Pm}),Object(ie.jsx)(Mt,{name:"queryParams",component:Tm}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Nm=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"childGroupList",component:Dm})})},Mm=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"groupDocument",component:Nm}),Object(ie.jsx)(Mt,{name:"queryParams",component:Tm}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Am=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"parentGroupList",component:Dm})})},Lm=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"groupDocument",component:Am}),Object(ie.jsx)(Mt,{name:"queryParams",component:Tm}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Wm=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"groupDocument",component:km}),Object(ie.jsx)(Mt,{name:"queryParams",component:Tm}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function wm(e,t,n){var a=e.queryParams,r=e.groupDocument,o=n.groupName||e.groupDocument.groupName;return W.q.updateGroup({groupName:o,groupDocument:r,queryParams:a}).then((function(){return{data:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var _m=de((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Group"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:Wm,documentName:"groupDocument",onSubmit:wm,onSubmitSuccess:function(e,t,o){r({messageContent:"Group Created"}),n(),a&&a(e,t,o)},onSubmitFail:function(){r({messageContent:"Error Creating Group",messageColor:"secondary"})},onCancel:n})})]})})),Vm="GROUP_CREATE_MODAL",Bm=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.state={groupListDocument:void 0,page:0,rowsPerPage:100},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Group"}},{key:"onRefresh",value:function(){var e=this,t=this.state,n=t.page,a=t.rowsPerPage,r={number:a,first:a*n+1};try{W.q.listGroup({queryParams:r}).then((function(t){return e.setState({groupListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(o){this.onRefreshError(o)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Group List",messageColor:"secondary"})}},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,a=0,e.next=4,this.setState({first:a,rowsPerPage:n});case 4:this.onRefresh();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.state.rowsPerPage,r=n*a+1,e.next=5,this.setState({first:r,page:n});case 5:this.onRefresh();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.groupListDocument,n=e.first,a=e.rowsPerPage,r=e.page,o=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(bm,{createModal:Vm,onRefresh:this.onRefresh,code:t,codeModal:"GroupListDocument"}),t&&Object(ie.jsx)(gm,{groupListDocument:t,onRefresh:this.onRefresh,first:n,rowsPerPage:a,count:t.hits,onChangePage:this.onChangePage,page:r,onChangeRowsPerPage:this.onChangeRowsPerPage}),Object(ie.jsx)(_m,{dialogName:Vm,onSuccess:function(e){return o.push("/group/".concat(e.data.groupName))}})]})}}]),n}(o.a.PureComponent));function Um(e){var t=e.groupName,n=(e.onOpen,e.onEnable,e.onDisable,e.realNameModal,e.tokenModal,e.passwordModal,Object(ye.a)(e,["groupName","onOpen","onEnable","onDisable","realNameModal","tokenModal","passwordModal"]));return Object(ie.jsx)(ge,Object(u.a)({helpTo:"/ref/group.html",title:t,parentTitle:"Group",parentTo:"/group/"},n))}var qm=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"groupName",value:n.groupName,hover:!0}),Object(ie.jsx)(nn,{title:"description",value:n.description,hover:!0}),Object(ie.jsx)(nn,{title:"role",value:n.role,variant:"boolean",hover:!0})]})},Gm=function(e){var t=e.groupDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:qm,value:t})})};function Hm(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Gm,Object(u.a)({},t))})})}var Jm="GROUP_CHILD_FORM";var zm=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.groupName,i=e.groupDocument;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Groups To ".concat(c)}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Mm,{form:Jm,onSubmit:wm,onSubmitSuccess:function(e,t,o){r({messageContent:"Groups Updated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Adding Groups",messageColor:"secondary"})},onCancel:n,groupName:c,initialValues:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(Jm)},children:"Save"})]})]})})),Km="ADD_GROUP_CHILD";var Ym=P((function(e){var t=e.groupName,n=e.onSuccess,a=e.groupDocument,r=e.onOpen;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Child Groups"}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Add",children:Object(ie.jsx)(_.a,{onClick:function(){return r({modalName:Km})},children:Object(ie.jsx)(q.a,{})})})})})}),Object(ie.jsx)(vm,{groupListDocument:a.childGroupList,parentGroupName:t,onSuccess:n,showRemove:!0}),Object(ie.jsx)(zm,{dialogName:Km,groupName:t,groupDocument:a,onSuccess:n})]})}));function Xm(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Ym,Object(u.a)({},t))})})}var Qm="GROUP_PARENT_FORM";var $m=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.groupName,i=e.groupDocument;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Add "'.concat(c,'" To Groups')}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Lm,{form:Qm,onSubmit:wm,onSubmitSuccess:function(e,t,o){r({messageContent:"Groups Updated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Adding Groups",messageColor:"secondary"})},onCancel:n,groupName:c,initialValues:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(Qm)},children:"Save"})]})]})})),Zm="ADD_GROUP_PARENT";var eb=P((function(e){var t=e.groupName,n=e.onSuccess,a=e.groupDocument,r=e.onOpen;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Parent Groups"}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Add",children:Object(ie.jsx)(_.a,{onClick:function(){return r({modalName:Zm})},children:Object(ie.jsx)(q.a,{})})})})})}),Object(ie.jsx)(vm,{groupListDocument:a.parentGroupList,childGroupName:t,onSuccess:n,showRemove:!0}),Object(ie.jsx)($m,{dialogName:Zm,groupName:t,groupDocument:a,onSuccess:n})]})}));function tb(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(eb,Object(u.a)({},t))})})}function nb(e){var t=e.userDocument,n=void 0===t?{}:t,a=e.onRemove;return Object(ie.jsxs)(Un,{to:"/user/".concat(n.userName,"/"),hover:!0,children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/user/".concat(n.userName,"/"),children:n.userName})}),Object(ie.jsx)(Vn,{children:n.realName}),Object(ie.jsx)(Vn,{children:n.disabled&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:a&&Object(ie.jsx)(_.a,{onClick:function(){return a({userName:n.userName})},children:Object(ie.jsx)(ee.a,{})})})]})}var ab="REMOVE_USER_DIALOG";var rb=Gn((function(e){var t=e.userListDocument,n=void 0===t?{}:t,a=e.count,r=e.page,o=e.rowsPerPage,c=e.onChangePage,i=e.onChangeRowsPerPage,s=e.groupName,l=e.onSuccess,j=e.onOpen,d=e.showRemove,m=e.dialogProps,b=n.user,h=void 0===b?[]:b,O=[100,250,500];return O.includes(o)||O.push(o),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Username"}),Object(ie.jsx)(Vn,{children:"Real Name"}),Object(ie.jsx)(Vn,{children:"Disabled"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:h.map((function(e){return Object(ie.jsx)(nb,{userDocument:e,onRemove:d?j(ab):void 0},e.userName)}))}),a&&Object(ie.jsx)(yj,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Cj,{count:a,page:r,rowsPerPage:o,onChangePage:c,onChangeRowsPerPage:i,ActionsComponent:qe,rowsPerPageOptions:O})})})]}),s&&Object(ie.jsx)(Om,Object(u.a)(Object(u.a)({},m),{},{dialogName:ab,groupName:s,onSuccess:l}))]})})),ob="GROUP_USER_FORM";var cb=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.groupName,i=e.groupDocument;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Users To ".concat(c)}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Em,{form:ob,onSubmit:wm,onSubmitSuccess:function(e,t,o){r({messageContent:"Users Updated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Adding Users",messageColor:"secondary"})},onCancel:n,groupName:c,initialValues:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(ob)},children:"Save"})]})]})})),ib="ADD_GROUP_USER";var sb=P((function(e){var t=e.groupName,n=e.onSuccess,a=e.groupDocument,r=e.onOpen;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Users"}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Add",children:Object(ie.jsx)(_.a,{onClick:function(){return r({modalName:ib})},children:Object(ie.jsx)(q.a,{})})})})})}),Object(ie.jsx)(rb,{userListDocument:a.userList,groupName:t,onSuccess:n,showRemove:!0}),Object(ie.jsx)(cb,{dialogName:ib,groupName:t,groupDocument:a,onSuccess:n})]})}));function lb(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(sb,Object(u.a)({},t))})})}var ub=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.groupName,o=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Group "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.q.removeGroup({groupName:r}).then((function(){var e="Group ".concat(r," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));function jb(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie,{children:Object(ie.jsx)($c,Object(u.a)({},e))})})}var db="GROUP_REMOVE_DIALOG",mb=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onFetchError=a.onFetchError.bind(Object(M.a)(a)),a.state={groupDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh();var e=this.props.groupName;document.title="xray | Group | ".concat(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.groupName;this.props.groupName!==t&&(this.onFetch(t),document.title="xray | Group | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.groupName;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.q.getGroup({groupName:e}).then((function(e){return t.setState({groupDocument:e.data})})).catch((function(e){return t.onFetchError(e)}))}catch(n){this.onFetchError(n)}}},{key:"onFetchError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Group",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.groupDocument,t=this.props,n=t.groupName,a=t.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Um,{onRefresh:this.onRefresh,code:e,codeModal:"GroupDocument",groupName:n,removeModal:db}),e&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Hm,{groupDocument:e}),Object(ie.jsx)(Xm,{groupDocument:e,onSuccess:this.onRefresh,groupName:n}),Object(ie.jsx)(tb,{groupDocument:e,onSuccess:this.onRefresh,groupName:n}),Object(ie.jsx)(lb,{groupDocument:e,onSuccess:this.onRefresh,groupName:n}),Object(ie.jsx)(jb,{simpleMetadataDocument:e.metadata,onSuccess:this.onRefresh,entityType:"group",entityId:n})]}),Object(ie.jsx)(ub,{dialogName:db,groupName:n,onSuccess:function(){return a.push("/group/")}})]})}}]),n}(o.a.PureComponent));function bb(e){return Object(ie.jsx)(ge,Object(u.a)({title:"User",helpTo:"/ref/user.html"},e))}function hb(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(rb,Object(u.a)({},t))})})}var Ob=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"groupName",label:"Group",component:yl,loadOptions:ym,cacheOptions:!0,isClearable:!0})})},pb=function(){return Object(ie.jsx)(Nt,{name:"group",component:Ob})},xb=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"userName",component:Qn,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"realName",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"alias",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"password",component:St,type:"password",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"salt",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"groupList",component:pb}),Object(ie.jsx)(Mt,{name:"metadata",component:qc}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"disabled",component:Wt}),label:"Disabled"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"remove",component:Wt}),label:"remove"})]})},fb=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"passwordType",children:"Password Type"}),Object(ie.jsxs)(Lt,{name:"passwordType",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"md5",children:"MD5"}),Object(ie.jsx)(Cn.a,{value:"raw",children:"Raw"})]})]})};var vb=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:fb}),Object(ie.jsx)(Mt,{name:"userDocument",component:xb}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function gb(e){var t=e.userDocument,n=e.queryParams;return W.S.createUser({userDocument:t,queryParams:n}).then((function(){return{data:t}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function yb(e,t,n){var a=n.userName||e.userName,r=e.password,o=e.queryParams;return W.S.updateUserPassword({userName:a,password:r,queryParams:o}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Sb(e,t,n){var a=e.headers,r=void 0===a?{}:a,o=e.queryParams,c=n.runAs||e.runAs||r.runAs;return W.S.getToken({queryParams:o,headers:Object(u.a)({runAs:c},r)}).then((function(e){return Object(u.a)(Object(u.a)({},e),{},{runAs:c})})).catch((function(e){var t=e.message;if(e.response){var n=e.response,a=n.data,r=n.statusText;t=a?JSON.stringify(a,(function(e,t){return null===t?void 0:t})):r}throw new $e.a({_error:t})}))}function Cb(e,t,n){var a=e.headers,r=void 0===a?{}:a,o=e.queryParams,c=n.status,i=r.runAs,s=r.token,l=Object(ye.a)(r,["runAs","token"]);if(s)return function(e,t,n){var a=e.headers,r=void 0===a?{}:a,o=n.status,c=r.runAs,i=r.token;return W.S.whoAmI({headers:{Authorization:"token ".concat(i)}}).then((function(e){return{userName:e.data,runAs:c,data:i}})).catch((function(e){var t=e.message;if(e.response){var n=e.response,a=n.data,r=n.statusText;t=a?JSON.stringify(a,(function(e,t){return null===t?void 0:t})):r}if("ok"===o&&"Network Error"===t)throw new $e.a({_error:"Incorrect Token"});throw new $e.a({_error:t})}))}(e,0,n);var j=n.userName||e.userName||r.username;return W.S.getUserToken({username:j,queryParams:o,headers:l}).then((function(e){return Object(u.a)(Object(u.a)({},e),{},{userName:j,runAs:i})})).catch((function(e){var t=e.message;if(e.response){var n=e.response,a=n.data,r=n.statusText;t=a?JSON.stringify(a,(function(e,t){return null===t?void 0:t})):r}if("ok"===c&&"Network Error"===t)throw new $e.a({_error:"Incorrect Credentials"});throw new $e.a({_error:t})}))}function Rb(e,t,n){var a=e.groupListDocument,r=e.queryParams,o=n.userName||e.userName;return W.S.updateUserGroup({userName:o,groupListDocument:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Ib(e,t,n){var a=e.realName,r=n.userName||e.userName;return W.S.updateUserRealName({userName:r,realName:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Db(e,t,n){var a=e.queryParams,r=n.userName||e.userName;return W.S.createKey({userName:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Fb=de((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New User"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:vb,documentName:"userDocument",onSubmit:gb,onSubmitSuccess:function(e,t,o){r({messageContent:"User Created"}),n(),a&&a(e,t,o)},onSubmitFail:function(){r({messageContent:"Error Creating User",messageColor:"secondary"})},onCancel:n,initialValues:{queryParams:{passwordType:"raw"}}})})]})})),kb="USER_CREATE_MODAL",Tb=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.state={userListDocument:void 0,page:0,rowsPerPage:100},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | User"}},{key:"onRefresh",value:function(){var e=this,t=this.state,n=t.page,a=t.rowsPerPage,r={number:a,first:a*n+1};try{W.S.listUser({queryParams:r}).then((function(t){return e.setState({userListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(o){this.onRefreshError(o)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading User List",messageColor:"secondary"})}},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,a=0,e.next=4,this.setState({first:a,rowsPerPage:n});case 4:this.onRefresh();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.state.rowsPerPage,r=n*a+1,e.next=5,this.setState({first:r,page:n});case 5:this.onRefresh();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.userListDocument,n=e.first,a=e.rowsPerPage,r=e.page,o=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(bb,{createModal:kb,onRefresh:this.onRefresh,code:t,codeModal:"UserListDocument"}),t&&Object(ie.jsx)(hb,{userListDocument:t,onRefresh:this.onRefresh,first:n,rowsPerPage:a,count:t.hits,onChangePage:this.onChangePage,page:r,onChangeRowsPerPage:this.onChangeRowsPerPage}),Object(ie.jsx)(Fb,{dialogName:kb,onSuccess:function(e){return o.push("/user/".concat(e.data.userName))}})]})}}]),n}(o.a.PureComponent)),Pb=n(384),Eb=n.n(Pb),Nb=function(e){var t=e.userDocument;return void 0===t?null:!0===t.disabled?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Zr,{}),label:"Disabled"}):null},Mb=function(e){var t=e.userDocument,n=e.onEnable,a=e.onDisable;return void 0===t?null:!0===t.disabled?Object(ie.jsx)(Cn.a,{onClick:n,children:Object(ie.jsx)(X.a,{children:"Enable User"})}):Object(ie.jsx)(Cn.a,{onClick:a,children:Object(ie.jsx)(X.a,{color:"secondary",children:"Disable User"})})};var Ab=P((function(e){var t=e.userName,n=e.onOpen,a=e.onEnable,r=e.onDisable,o=e.realNameModal,c=e.tokenModal,i=e.passwordModal,s=e.history,l=Object(ye.a)(e,["userName","onOpen","onEnable","onDisable","realNameModal","tokenModal","passwordModal","history"]),j=l.code;return Object(ie.jsx)(ge,Object(u.a)({helpTo:"/ref/user.html",title:t,parentTitle:"User",parentTo:"/user/",iconList:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)($.a,{title:"Access Keys",children:Object(ie.jsx)(_.a,{onClick:function(){return s.push("/user/".concat(t,"/key"))},children:Object(ie.jsx)(Eb.a,{})})}),Object(ie.jsx)(Nb,{userDocument:j}),Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:i})},children:Object(ie.jsx)(X.a,{children:"Change Password"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:o})},children:Object(ie.jsx)(X.a,{children:"Change Real Name"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:c})},children:Object(ie.jsx)(X.a,{children:"Generate Token"})}),"admin"!==t&&Object(ie.jsx)(Mb,{userDocument:j,onEnable:a,onDisable:r})]})]})},l))})),Lb=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"userName",value:n.userName,hover:!0}),Object(ie.jsx)(nn,{title:"realName",value:n.realName,hover:!0}),Object(ie.jsx)(nn,{title:"alias",value:n.alias,variant:"list",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"id",value:n.id,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"loc",hideNoValue:!0,value:n.loc,hover:!0}),Object(ie.jsx)(nn,{title:"password",value:n.password,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"salt",value:n.salt,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"origin",value:n.origin,hideNoValue:!0,hover:!0})]})},Wb=function(e){var t=e.userDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:Lb,value:t})})};function wb(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Wb,Object(u.a)({},t))})})}var _b=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"groupName",label:"Group",component:yl,loadOptions:ym,cacheOptions:!0,isClearable:!0})})},Vb=function(){return Object(ie.jsx)(Nt,{name:"group",component:_b})},Bb=function(){return Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"move",component:Wt}),label:"Move All Groups"})};var Ub=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Bb}),Object(ie.jsx)(Mt,{name:"groupListDocument",component:Vb}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),qb="USER_GROUP_FORM";var Gb=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.userName;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add User To Groups"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Ub,{form:qb,onSubmit:Rb,onSubmitSuccess:function(e,t,o){r({messageContent:"Groups Updated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Adding Groups",messageColor:"secondary"})},onCancel:n,userName:c})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(qb)},children:"Save"})]})]})})),Hb="ADD_USER_GROUP";var Jb=P((function(e){var t=e.userName,n=e.onSuccess,a=e.groupListDocument,r=e.onOpen;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Groups"}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Add",children:Object(ie.jsx)(_.a,{onClick:function(){return r({modalName:Hb})},children:Object(ie.jsx)(q.a,{})})})})})}),Object(ie.jsx)(vm,{groupListDocument:a,userName:t,onSuccess:n,showRemove:!0}),Object(ie.jsx)(Gb,{dialogName:Hb,userName:t,onSuccess:n})]})}));function zb(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Jb,Object(u.a)({},t))})})}var Kb=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Password Type"}),Object(ie.jsxs)(Lt,{name:"type",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"md5",children:"MD5"}),Object(ie.jsx)(Cn.a,{value:"raw",children:"Raw"})]})]})};var Yb=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"password",component:St,type:"password",fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:Kb}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Xb="USER_PASSWORD_FORM";var Qb=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.userName;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Change Password"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Yb,{form:Xb,onSubmit:yb,onSubmitSuccess:function(e,t,o){r({messageContent:"Password Changed"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Changing Password",messageColor:"secondary"})},onCancel:n,userName:c,initialValues:{queryParams:{type:"raw"}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(Xb)},children:"Change"})]})]})})),$b=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"seconds",label:"Duration (Seconds)",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"autoRefresh",component:Wt}),label:"Auto Refresh"})]})};var Zb=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:$b}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),eh="USER_TOKEN_FORM";var th=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.userName,i=e.userToken;return Object(ie.jsx)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:i?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fe.a,{children:"Current Token"}),Object(ie.jsx)(ia,{children:i}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return a({data:void 0})},children:"Generate New"})]})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fe.a,{children:"Generate Token"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Zb,{form:eh,onSubmit:Sb,onSubmitSuccess:function(e,t,n){r({messageContent:"New Token Generated"}),a&&a(e,t,n)},onSubmitFail:function(){r({messageContent:"Error Generating Token",messageColor:"secondary"})},onCancel:n,runAs:c})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(eh)},children:"Generate"})]})]})})}));var nh=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"realName",component:St,fullWidth:!0}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ah="USER_PASSWORD_FORM";var rh=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.userName,i=e.realName;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Change Real Name"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(nh,{form:ah,onSubmit:Ib,onSubmitSuccess:function(e,t,o){r({messageContent:"Real Name Changed"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Changing Real Name",messageColor:"secondary"})},onCancel:n,userName:c,initialValues:{realName:i}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(ah)},children:"Change"})]})]})})),oh="USER_PASSWORD_DIALOG",ch="USER_TOKEN_DIALOG",ih="USER_REALNAME_DIALOG",sh=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onFetchError=a.onFetchError.bind(Object(M.a)(a)),a.onEnable=a.onEnable.bind(Object(M.a)(a)),a.onDisable=a.onDisable.bind(Object(M.a)(a)),a.state={userDocument:void 0,userToken:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh();var e=this.props.userName;document.title="xray | User | ".concat(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.userName;this.props.userName!==t&&(this.onFetch(t),document.title="xray | User | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.userName;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.S.getUser({userName:e}).then((function(e){return t.setState({userDocument:e.data})})).catch((function(e){return t.onFetchError(e)}))}catch(n){this.onFetchError(n)}}},{key:"onFetchError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading User",messageColor:"secondary"})}},{key:"onEnable",value:function(){var e=this,t=this.props,n=t.userName,a=t.openSnackBar;try{W.S.enableUser({userName:n}).then((function(){a({messageContent:"User Enabled"}),e.onRefresh()})).catch((function(t){return e.onRefreshError(t)}))}catch(r){this.onRefreshError(r)}}},{key:"onDisable",value:function(){var e=this,t=this.props,n=t.userName,a=t.openSnackBar;try{W.S.disableUser({userName:n}).then((function(){a({messageContent:"User Disabled"}),e.onRefresh()})).catch((function(t){return e.onRefreshError(t)}))}catch(r){this.onRefreshError(r)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.userDocument,a=t.userToken,r=this.props.userName;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ab,{onRefresh:this.onRefresh,code:n,codeModal:"UserDocument",userName:r,passwordModal:oh,realNameModal:ih,tokenModal:ch,onEnable:this.onEnable,onDisable:this.onDisable}),n&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(wb,{userDocument:n}),Object(ie.jsx)(jb,{simpleMetadataDocument:n.metadata,onSuccess:this.onRefresh,entityType:"user",entityId:r}),Object(ie.jsx)(zb,{groupListDocument:n.groupList,onSuccess:this.onRefresh,userName:r}),Object(ie.jsx)(rh,{dialogName:ih,onSuccess:this.onRefresh,userName:r,realName:n.realName})]}),Object(ie.jsx)(Qb,{dialogName:oh,userName:r}),Object(ie.jsx)(th,{dialogName:ch,userName:r,userToken:a,onSuccess:function(t){return e.setState({userToken:t.data})}})]})}}]),n}(o.a.PureComponent));function lh(e){return Object(ie.jsx)(ge,Object(u.a)({title:"External ID Namespace",helpTo:"/ref/external-id.html"},e))}function uh(e){var t=e.externalIdentifierNamespaceDocument,n=void 0===t?{}:t,a=e.onEdit,r=e.onRemove;return Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:n.name}),Object(ie.jsx)(Vn,{children:n.pattern}),Object(ie.jsx)(Vn,{children:n.priority}),Object(ie.jsxs)(Vn,{disableOnClick:!0,children:[Object(ie.jsx)(_.a,{onClick:function(){return r({externalIdentifierNamespaceDocument:n})},children:Object(ie.jsx)(ee.a,{})}),Object(ie.jsx)(_.a,{onClick:function(){return a({externalIdentifierNamespaceDocument:n})},children:Object(ie.jsx)(Jn.a,{})})]})]})}var jh=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.externalIdentifierNamespaceDocument,o=e.onSuccess;if(void 0===r)return null;var c=r.name;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove External ID Namespace "'.concat(c,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.n.removeExternalIdNamespace({idName:c}).then((function(){var e="External ID Namespace ".concat(c," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing External ID Namespace",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));function dh(e,t,n){var a=e.externalIdentifierNamespaceDocument,r=n.idName||a.name;return W.n.updateExternalIdNamespace({idName:r,externalIdentifierNamespaceDocument:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function mh(e,t,n){var a=e.externalId,r=n.entityType||e.entityType,o=n.entityId||e.entityId;return W.n.createExternalId({externalId:a,entityId:o,entityType:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var bh=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",component:Qn,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"pattern",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"priority",component:St,type:"number",fullWidth:!0})]})};var hh=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"externalIdentifierNamespaceDocument",component:bh}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Oh="EXTERNALID_NAMESPACE_FORM";var ph=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.externalIdentifierNamespaceDocument;if(void 0===c)return null;var i=c.name;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Edit External ID Namespace ".concat(i)}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(hh,{form:Oh,onSubmit:dh,onSubmitSuccess:function(e,t,o){r({messageContent:"External ID Namespace Updated"}),n(),a&&a(e,t,o)},onSubmitFail:function(){r({messageContent:"Error Updating External ID Namespace",messageColor:"secondary"})},onCancel:n,initialValues:{externalIdentifierNamespaceDocument:c},idName:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(Oh)},children:"Save"})]})]})})),xh="EXTERNALID_NAMESPACE_REMOVE_DIALOG",fh="EXTERNALID_NAMESPACE_EDIT_DIALOG";var vh=Gn((function(e){var t=e.externalIdentifierNamespaceListDocument,n=e.onRefresh,a=e.dialogProps,r=e.onOpen,o=t.namespace,c=void 0===o?[]:o;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Name"}),Object(ie.jsx)(Vn,{children:"Pattern"}),Object(ie.jsx)(Vn,{children:"Priority"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:c.map((function(e){return Object(ie.jsx)(uh,{externalIdentifierNamespaceDocument:e,onRemove:r(xh),onEdit:r(fh)},e.name)}))})]}),Object(ie.jsx)(ph,Object(u.a)(Object(u.a)({},a),{},{dialogName:fh,onSuccess:n})),Object(ie.jsx)(jh,Object(u.a)(Object(u.a)({},a),{},{dialogName:xh,onSuccess:n}))]})}));function gh(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(vh,Object(u.a)({},t))})})}var yh=de((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New External ID Namespace"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:hh,documentName:"externalIdentifierNamespaceDocument",onSubmit:dh,onSubmitSuccess:function(e,t,o){r({messageContent:"External ID Namespace Created"}),n(),a&&a(e,t,o)},onSubmitFail:function(){r({messageContent:"Error Creating External ID Namespace",messageColor:"secondary"})},onCancel:n})})]})})),Sh="EXTERNALID_NAMESPACE_CREATE_MODAL",Ch=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={externalIdentifierNamespaceListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | External ID Namespace"}},{key:"onRefresh",value:function(){var e=this;try{W.n.listExternalIdNamespace().then((function(t){return e.setState({externalIdentifierNamespaceListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading External ID Namespace List",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.externalIdentifierNamespaceListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(lh,{createModal:Sh,onRefresh:this.onRefresh,code:e,codeModal:"ExternalIdentifierNamespaceListDocument"}),e&&Object(ie.jsx)(gh,{externalIdentifierNamespaceListDocument:e,onRefresh:this.onRefresh}),Object(ie.jsx)(yh,{dialogName:Sh,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent));function Rh(e){var t=e.entityType,n=e.entityId,a=Object(ye.a)(e,["entityType","entityId"]);return Object(ie.jsx)(ge,Object(u.a)({title:"External ID",grandParentTitle:He()(t),parentTitle:n,parentTo:"/".concat(t,"/").concat(n,"/"),grandParentTo:"/".concat(t,"/"),helpTo:"/ref/external-id.html"},a))}function Ih(e){var t=e.externalIdentifierDocument,n=void 0===t?{}:t,a=e.onRemove;return Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:n.externalId}),Object(ie.jsx)(Vn,{children:n.namespace}),Object(ie.jsx)(Vn,{children:n.entityId}),Object(ie.jsx)(Vn,{children:n.entityType}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:Object(ie.jsx)(_.a,{onClick:function(){return a({externalIdentifierDocument:n})},children:Object(ie.jsx)(ee.a,{})})})]})}var Dh=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess,o=e.externalIdentifierDocument,c=e.entityType,i=e.entityId;if(void 0===o)return null;var s=o.externalId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove External ID "'.concat(s,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.n.removeExternalId({externalId:s,entityType:c,entityId:i}).then((function(){var e="External ID ".concat(s," Removed");a({messageContent:e}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing External ID",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Fh="EXTERNALID_REMOVE_DIALOG";var kh=Gn((function(e){var t=e.externalIdentifierListDocument,n=e.onRefresh,a=e.dialogProps,r=e.onOpen,o=e.entityType,c=e.entityId,i=t.id,s=void 0===i?[]:i;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"External Id"}),Object(ie.jsx)(Vn,{children:"Namespace"}),Object(ie.jsx)(Vn,{children:"Entity Id"}),Object(ie.jsx)(Vn,{children:"Entity Type"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:s.map((function(e){return Object(ie.jsx)(Ih,{externalIdentifierDocument:e,onRemove:r(Fh)},e.externalId)}))})]}),Object(ie.jsx)(Dh,Object(u.a)(Object(u.a)({},a),{},{dialogName:Fh,onSuccess:n,entityType:o,entityId:c}))]})}));function Th(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(kh,Object(u.a)({},t))})})}var Ph=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"externalId",component:St,required:!0,fullWidth:!0}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Eh="EXTERNALID_FORM";var Nh=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.entityType,i=e.entityId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Create External ID"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Ph,{form:Eh,onSubmit:mh,onSubmitSuccess:function(e,t,o){r({messageContent:"External ID Created"}),n(),a&&a(e,t,o)},onSubmitFail:function(){r({messageContent:"Error Creating External ID",messageColor:"secondary"})},onCancel:n,entityType:c,entityId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(Eh)},children:"Save"})]})]})}));var Mh=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess,o=e.entityType,c=e.entityId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove All External IDs For "'.concat(c,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.n.removeAllExternalId({entityType:o,entityId:c}).then((function(){a({messageContent:"All External IDs Removed"}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing External IDs",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),Ah="EXTERNALID_CREATE_MODAL",Lh="EXTERNALID_REMOVEALL_MODAL",Wh=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={externalIdentifierListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | External ID"}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.entityType,a=t.entityId,r=t.entitySubType;try{W.n.listExternalId({entityType:r?"".concat(n,"/").concat(r):n,entityId:a}).then((function(t){return e.setState({externalIdentifierListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(o){this.onRefreshError(o)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading External ID List",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.externalIdentifierListDocument,t=this.props,n=t.entityType,a=t.entityId,r=t.entitySubType;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Rh,{createModal:Ah,onRefresh:this.onRefresh,removeModal:Lh,code:e,codeModal:"ExternalIdentifierListDocument",entityType:r?"".concat(n,"/").concat(r):n,entityId:a}),e&&Object(ie.jsx)(Th,{externalIdentifierListDocument:e,onRefresh:this.onRefresh,entityType:r?"".concat(n,"/").concat(r):n,entityId:a}),Object(ie.jsx)(Nh,{dialogName:Ah,onSuccess:this.onRefresh,entityType:r?"".concat(n,"/").concat(r):n,entityId:a}),Object(ie.jsx)(Mh,{dialogName:Lh,onSuccess:this.onRefresh,entityType:r?"".concat(n,"/").concat(r):n,entityId:a})]})}}]),n}(o.a.PureComponent)),wh=[{name:"__user"},{name:"__collection"},{name:"__collection_size"},{name:"__ancestor_collection"},{name:"__ancestor_collection_size"},{name:"__shape"},{name:"__shape_size"},{name:"__shape_last_added"},{name:"__placeholder_shape_size"},{name:"__version"},{name:"__version_size"},{name:"__storage"},{name:"__storage_size"},{name:"__storagegroup"},{name:"__storagegroup_size"},{name:"__sequence"},{name:"__sequence_size"},{name:"__metadata_last_modified"},{name:"____metadataFieldGroup"},{name:"__externalId"},{name:"__child_collection"},{name:"__child_collection_size"},{name:"__parent_collection"},{name:"__parent_collection_size"},{name:"__items_size"},{name:"__folder_mapped"},{name:"__child_folder_collection"},{name:"__parent_folder_collection"},{name:"__parent_folder_collection"},{name:"__deletion_lock_expiry"}],_h=function(e){return new Promise((function(t,n){W.z.listMetadataField().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.field,r=(void 0===a?[]:a).concat(wh),o=r;if(e&&"*"!==e){var c=e.toLowerCase();o=r.filter((function(e){return e.name.toLowerCase().includes(c)}))}var i=o.map((function(e){return{label:e.name,value:e.name}}));t(i)})).catch((function(e){n(e)}))}))};var Vh=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"content",component:yl,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"uri",label:"uri"},{value:"shape",label:"shape"},{value:"poster",label:"poster"},{value:"thumbnail",label:"thumbnail"},{value:"access",label:"access"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),Object(ie.jsx)(Lt,{name:"p",label:"Path",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"group",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"language",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"sampleRate",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"interval",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"track",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"include",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"includeValues",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"revision",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mergedType",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mergedPermission",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mergedExtradata",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"uriType",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"scheme",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"storageType",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"methodType",children:"Method Type"}),Object(ie.jsxs)(Lt,{name:"methodType",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"AUTO",children:"AUTO"}),Object(ie.jsx)(Cn.a,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),Object(ie.jsx)(Nt,{name:"methodMetadata",label:"Method Metadata",component:Xa}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"version",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"baseURI",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"closedFiles",component:Wt}),label:"Closed Files"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"noauth-url",component:Wt}),label:"No-Auth URL"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"conflict",component:Wt}),label:"Conflict"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"terse",component:Wt}),label:"Terse"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"defaultValue",component:Wt}),label:"Default Value"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includeTransientMetadata",component:Wt}),label:"Include Transient Metadata"})]})},Bh=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"storage",label:"Storage",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"storageGroup",label:"Storage Group",component:yl,loadOptions:Rl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"includeConstraintValue",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"starttc",component:Wt}),label:"Start TC"})]})};var Uh=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:Vh}),Object(ie.jsx)(Mt,{name:"matrixParams",label:"matrixParams",component:Bh})]})})),qh=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"count",component:Wt}),label:"Count"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"save",component:Wt}),label:"Save"})]})},Gh=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"storage",label:"Storage",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"storageGroup",label:"Storage Group",component:yl,loadOptions:Rl,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]})};var Hh=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:qh}),Object(ie.jsx)(Mt,{name:"queryParams",component:Vh}),Object(ie.jsx)(Mt,{name:"matrixParams",component:Gh}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Jh=function(e){return function(t){Object(A.a)(a,t);var n=Object(L.a)(a);function a(e){var t;Object(E.a)(this,a),(t=n.call(this,e)).onChangeExpansion=t.onChangeExpansion.bind(Object(M.a)(t));var r=e.defaultExpanded,o=void 0!==r&&r;return t.state={expanded:o},t}return Object(N.a)(a,[{key:"onChangeExpansion",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){var t=this.state.expanded;return Object(ie.jsx)(e,Object(u.a)({onChangeExpansion:this.onChangeExpansion,expanded:t},this.props))}}]),a}(o.a.PureComponent)};function zh(e){var t=e.matrixParams,n=void 0===t?[]:t,a=e.queryParams,r=void 0===a?{}:a,o=e.shapeSearchDocument,c=void 0===o?{}:o;return W.H.searchShape({shapeSearchDocument:c,queryParams:r,matrixParams:Object.entries(n)}).then((function(e){return Object(u.a)({queryParams:r,matrixParams:n,shapeSearchDocument:c},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Kh(e){var t=e.matrixParams,n=void 0===t?[]:t,a=e.queryParams,r=void 0===a?{}:a,o=e.itemSearchDocument,c=void 0===o?{}:o;return W.H.searchItemCollection({itemSearchDocument:c,queryParams:r,matrixParams:Object.entries(n)}).then((function(e){return Object(u.a)({queryParams:r,matrixParams:n,itemSearchDocument:c},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Yh=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"SEARCH_PARAMS_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Search Params"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(Hh,Object(u.a)({form:l,onSubmit:Kh,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})})),Xh=function(e){return new Promise((function(t,n){W.o.listFieldGroup().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.group,r=void 0===a?[]:a,o=r;e&&"*"!==e&&(o=r.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})));var c=o.map((function(e){return{label:e.name,value:e.name}}));t(c)})).catch((function(e){n(e)}))}))};var Qh=function(){return Object(ie.jsxs)(Q.a,{container:!0,children:[Object(ie.jsx)(Q.a,{item:!0,sm:10,children:Object(ie.jsx)(Lt,{name:"value",component:St,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"noescape",component:Wt}),label:"No Escape"})})]})},$h=function(){return Object(ie.jsxs)(Q.a,{container:!0,children:[Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"value",component:St,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"noescape",component:Wt}),label:"No Escape"})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"minimum",component:Wt}),label:"Minimum"})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"maximum",component:Wt}),label:"Maximum"})})]})},Zh=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{name:"value[0]",component:$h,label:"Start"}),Object(ie.jsx)(Mt,{name:"value[1]",component:$h,label:"End"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"exclusiveMinimum",component:Wt}),label:"Exclusive Minimum"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"exclusiveMaximum",component:Wt}),label:"Exclusive Maximum"})]})},eO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"Field Name",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)(Nt,{name:"value",component:$h,label:"Field Value",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"range",component:Zh,label:"Range",withHeader:!1,arrayHeader:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"target",children:"Target"}),Object(ie.jsxs)(Lt,{name:"target",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"shape",children:"Shape"}),Object(ie.jsx)(Cn.a,{value:"file",children:"File"})]})]})]})},tO=function e(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"Group Name",component:yl,loadOptions:Xh,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(ie.jsx)(Nt,{name:"field",component:eO,label:"field",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"group",component:e,label:"group",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Lt,{name:"reference",component:St,fullWidth:!0})]})},nO=function e(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"operation",children:"Operation"}),Object(ie.jsxs)(Lt,{name:"operation",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"AND",children:"AND"}),Object(ie.jsx)(Cn.a,{value:"OR",children:"OR"}),Object(ie.jsx)(Cn.a,{value:"NOT",children:"NOT"})]})]}),Object(ie.jsx)(Nt,{name:"operator",component:e,label:"operator",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"text",component:Qh,label:"Text",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"field",component:eO,label:"field",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"group",component:tO,label:"group",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Lt,{name:"reference",component:Ya,simple:!0,fullWidth:!0})]})},aO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"operation",children:"Operation"}),Object(ie.jsxs)(Lt,{name:"operation",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"AND",children:"AND"}),Object(ie.jsx)(Cn.a,{value:"OR",children:"OR"}),Object(ie.jsx)(Cn.a,{value:"NOT",children:"NOT"})]})]}),Object(ie.jsx)(Nt,{name:"operator",component:nO,label:"operator",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"field",component:eO,label:"field",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"group",component:tO,label:"group",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Lt,{name:"reference",component:Ya,simple:!0,fullWidth:!0})]})},rO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"start",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"end",component:St,fullWidth:!0})]})},oO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"field",label:"Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)(Lt,{name:"value",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"range",label:"Range",component:rO})]})},cO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"field",label:"Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)(Nt,{name:"range",component:rO,label:"range",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Lt,{name:"exclude",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"count",component:Wt}),label:"Count"}),Object(ie.jsx)(Lt,{name:"minCount",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxResults",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"name",component:St,fullWidth:!0})]})},iO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"field",label:"Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"order",children:"order"}),Object(ie.jsxs)(Lt,{name:"order",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"ascending",children:"Ascending"}),Object(ie.jsx)(Cn.a,{value:"descending",children:"Descending"})]})]})]})},sO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"field",label:"Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,isMulti:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"matchingOnly",component:Wt}),label:"Matching Only"}),Object(ie.jsx)(Lt,{name:"prefix",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"suffix",component:St,fullWidth:!0})]})},lO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"maximumSuggestions",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"accuracy",component:St,type:"number",fullWidth:!0})]})},uO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"text",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"field",label:"Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)(Lt,{name:"accuracy",component:St,type:"number",fullWidth:!0})]})},jO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Nt,{name:"text",component:Qh,label:"Text",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"field",component:eO,label:"field",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Mt,{name:"operator",label:"operator",component:nO}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"intervals",children:"Intervals"}),Object(ie.jsxs)(Lt,{name:"intervals",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"generic",children:"Generic"}),Object(ie.jsx)(Cn.a,{value:"timed",children:"Timed"}),Object(ie.jsx)(Cn.a,{value:"all",children:"All"})]})]}),Object(ie.jsx)(Nt,{name:"filter",component:aO,label:"filter",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"facetFilter",component:oO,label:"facetFilter",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"facet",component:cO,label:"facet",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Nt,{name:"sort",component:iO,label:"sort",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Mt,{name:"highlight",label:"highlight",component:sO}),Object(ie.jsx)(Mt,{name:"suggestion",label:"suggestion",component:lO}),Object(ie.jsx)(Nt,{name:"autocomplete",component:uO,label:"autocomplete",withHeader:!1,arrayHeader:!0}),Object(ie.jsx)(Lt,{name:"version",component:St,fullWidth:!0,type:"number"})]})};var dO=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"itemSearchDocument",component:jO}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var mO=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"SEARCH_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Search Document"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(dO,Object(u.a)({form:l,onSubmit:Kh,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})})),bO=function(e){var t=e.orderBy,n=e.orderDirection,a=e.onChangeOrder,r=e.name;return a?Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(vj.a,{active:t===r,direction:n||void 0,onClick:a(r),children:He()(r)})}):Object(ie.jsx)(ke.a,{children:He()(r)})},hO=function(e){var t=e.itemType,n=e.terse,a=e.fieldList,r=e.children;return Object(ie.jsxs)(Je,{to:"/item/".concat(t.id,"/"),hover:!0,children:[r,Object(ie.jsx)(ke.a,{children:t.id}),n&&t.terse&&a.map((function(e){return Object(ie.jsx)(ke.a,{children:t.terse[e]&&t.terse[e].length>0&&t.terse[e].map((function(e){return e.value})).join(", ")},e)}))]})};var OO=function(e){var t=e.itemListDocument,n=e.queryParams,a=void 0===n?{}:n,r=e.onChangePage,o=e.onChangeRowsPerPage,c=e.rowsPerPageOptions,i=e.page,s=e.rowsPerPage,l=e.onChangeOrder,u=e.orderBy,j=e.orderDirection;if(void 0===t)return null;var d=t.item,m=void 0===d?[]:d,b=t.hits,h=void 0===b?0:b,O=a.terse,p=a.field,x=void 0===p?[]:p,f=x;return Array.isArray(x)||(f=x.split(",")),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(bO,{name:"itemId",onChangeOrder:l,orderBy:u,orderDirection:j}),O&&f.map((function(e){return Object(ie.jsx)(bO,{name:e,onChangeOrder:l,orderBy:u,orderDirection:j},e)}))]})}),Object(ie.jsx)(Fe.a,{children:m.map((function(e){return Object(ie.jsx)(hO,{itemType:e,terse:O,fieldList:f},e.id)}))}),r&&o&&Object(ie.jsx)(Ee.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(Ne.a,{count:h,page:i,rowsPerPage:s,onChangePage:r,onChangeRowsPerPage:o,ActionsComponent:qe,rowsPerPageOptions:c})})})]})})},pO=function(e){var t=e.orderBy,n=e.orderDirection,a=e.onChangeOrder,r=e.name;return a?Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(vj.a,{active:t===r,direction:n||void 0,onClick:a(r),children:He()(r)})}):Object(ie.jsx)(ke.a,{children:He()(r)})},xO=function(e){var t=e.collectionType,n=e.terse,a=e.fieldList,r=e.withName,o=void 0===r||r,c=e.children;return Object(ie.jsxs)(Je,{to:"/collection/".concat(t.id,"/"),hover:!0,children:[c,Object(ie.jsx)(ke.a,{children:t.id}),o&&Object(ie.jsx)(ke.a,{children:t.name}),n&&t.terse&&a.map((function(e){return Object(ie.jsx)(ke.a,{children:t.terse[e]&&t.terse[e].value},e)}))]})};var fO=function(e){var t=e.collectionListDocument,n=e.queryParams,a=void 0===n?{}:n,r=e.onChangePage,o=e.onChangeRowsPerPage,c=e.rowsPerPageOptions,i=e.page,s=e.rowsPerPage,l=e.onChangeOrder,u=e.orderBy,j=e.orderDirection;if(void 0===t)return null;var d=t.collection,m=void 0===d?[]:d,b=t.hits,h=void 0===b?0:b,O=a.terse,p=a.field,x=void 0===p?[]:p,f=x;return Array.isArray(x)||(f=x.split(",")),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(pO,{name:"collectionId",onChangeOrder:l,orderBy:u,orderDirection:j}),Object(ie.jsx)(pO,{name:"title",onChangeOrder:l,orderBy:u,orderDirection:j}),O&&f.map((function(e){return Object(ie.jsx)(pO,{name:e,onChangeOrder:l,orderBy:u,orderDirection:j},e)}))]})}),Object(ie.jsx)(Fe.a,{children:m.map((function(e){return Object(ie.jsx)(xO,{collectionType:e,fieldList:f,terse:O},e.id)}))}),r&&o&&Object(ie.jsx)(Ee.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(Ne.a,{count:h,page:i,rowsPerPage:s,onChangePage:r,onChangeRowsPerPage:o,ActionsComponent:qe,rowsPerPageOptions:c})})})]})})},vO=function(e){var t=e.orderBy,n=e.orderDirection,a=e.onChangeOrder,r=e.name;return a?Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(vj.a,{active:t===r,direction:n||void 0,onClick:a(r),children:He()(r)})}):Object(ie.jsx)(ke.a,{children:He()(r)})},gO=function(e){var t=e.searchResultEntryType,n=e.terse,a=e.fieldList,r=Object(ie.jsx)(ke.a,{children:t.type}),o=Object.keys(t);if(o.includes("item")){var c=t.item,i=void 0===c?{}:c;return Object(ie.jsx)(hO,{itemType:i,terse:n,fieldList:a,children:r})}if(o.includes("collection")){var s=t.collection,l=void 0===s?{}:s;return Object(ie.jsx)(xO,{collectionType:l,terse:n,fieldList:a,withName:!1,children:r})}return Object(ie.jsx)(Pe.a,{children:r})};var yO=function(e){var t=e.searchResultDocument,n=e.queryParams,a=e.onChangePage,r=e.onChangeRowsPerPage,o=e.rowsPerPageOptions,c=e.onChangeOrder,i=e.orderDirection,s=e.orderBy,l=e.page,u=e.rowsPerPage;if(void 0===t)return null;var j=t.entry,d=void 0===j?[]:j,m=t.hits,b=void 0===m?0:m,h=n.terse,O=n.field,p=void 0===O?[]:O,x=p;return Array.isArray(p)||(x=p.split(",")),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(vO,{name:"type"}),Object(ie.jsx)(vO,{name:"id"}),h&&x.map((function(e){return Object(ie.jsx)(vO,{name:e,onChangeOrder:c,orderBy:s,orderDirection:i},e)}))]})}),Object(ie.jsx)(Fe.a,{children:d.map((function(e){return Object(ie.jsx)(gO,{searchResultEntryType:e,terse:h,fieldList:x},e.id)}))}),a&&r&&Object(ie.jsx)(Ee.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(Ne.a,{count:b,page:l,rowsPerPage:u,onChangePage:a,onChangeRowsPerPage:r,ActionsComponent:qe,rowsPerPageOptions:o})})})]})})},SO=function(e){return function(t){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(e,Object(u.a)({},t))})})}},CO=function(e){return function(t){Object(A.a)(a,t);var n=Object(L.a)(a);function a(e){var t;Object(E.a)(this,a),(t=n.call(this,e)).onChangeRowsPerPage=t.onChangeRowsPerPage.bind(Object(M.a)(t)),t.onChangePage=t.onChangePage.bind(Object(M.a)(t)),t.onChangeOrder=t.onChangeOrder.bind(Object(M.a)(t));var r=e.page,o=void 0===r?0:r,c=e.rowsPerPage,i=void 0===c?10:c,s=e.orderBy,l=e.orderDirection;return t.state={page:o,rowsPerPage:i,orderBy:s,orderDirection:l},t}return Object(N.a)(a,[{key:"onChangeRowsPerPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target.value,n=this.props.onChangeRowsPerPage,a=0;this.setState({page:a,rowsPerPage:t}),n&&n({page:a,rowsPerPage:t})}},{key:"onChangePage",value:function(e){var t=e.page,n=this.props.onChangePage,a=this.state.rowsPerPage;this.setState({page:t}),n&&n({page:t,rowsPerPage:a})}},{key:"onChangeOrder",value:function(e){var t=this;return function(){var n=t.props.onChangeOrder,a=t.state,r=a.orderDirection,o=a.orderBy,c="",i="";e!==o?(i=e,c="desc"):"desc"===r&&(i=e,c="asc");t.setState({orderBy:i,orderDirection:c,page:0}),n&&n({orderBy:i,orderDirection:c,page:0})}}},{key:"render",value:function(){var t=this.state,n=t.page,a=t.rowsPerPage,r=t.orderBy,o=t.orderDirection,c=[10,100,250];return c.includes(a)||c.push(a),Object(ie.jsx)(e,Object(u.a)(Object(u.a)({},this.props),{},{page:n,rowsPerPage:a,rowsPerPageOptions:c,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:r,orderDirection:o,onChangeOrder:this.onChangeOrder}))}}]),a}(o.a.PureComponent)},RO=Object(m.c)(h,oa,(function(e){return function(t){Object(A.a)(a,t);var n=Object(L.a)(a);function a(e){var t;Object(E.a)(this,a),(t=n.call(this,e)).onChangeRowsPerPage=t.onChangeRowsPerPage.bind(Object(M.a)(t)),t.onChangePage=t.onChangePage.bind(Object(M.a)(t)),t.onChangeOrder=t.onChangeOrder.bind(Object(M.a)(t)),t.onSetUrlParams=t.onSetUrlParams.bind(Object(M.a)(t)),t.onGetUrlParams=t.onGetUrlParams.bind(Object(M.a)(t));var r=t.onGetUrlParams(),o=r.orderBy,c=void 0===o?"":o,i=r.orderDirection,s=void 0===i?"":i,l=r.first,u=void 0===l?1:l,j=r.number,d=void 0===j?10:j;Number.isInteger(u)||(u=parseInt(u,10)),(Number.isNaN(u)||u<=0)&&(u=1),Number.isInteger(d)||(d=parseInt(d,10)),(Number.isNaN(d)||d<=0)&&(d=10);var m=Math.floor((u-1)/d);return t.state={page:m,rowsPerPage:d,orderBy:c,orderDirection:s},t}return Object(N.a)(a,[{key:"onSetUrlParams",value:function(e){var t=this.props,n=t.location,a=t.history,r=new URLSearchParams(n.search);Object.entries(e).forEach((function(e){var t=Object(Bt.a)(e,2),n=t[0],a=t[1];return r.set(n,a)})),a.push({search:r.toString()})}},{key:"onGetUrlParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((function(e){var t=Object(Bt.a)(e,2),a=t[0],r=t[1];n[a]=r})),n}},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l,u,j;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rowsPerPage,a=this.props,r=a.changeForm,o=a.firstField,c=void 0===o?"matrixParams.first":o,i=a.numberField,s=void 0===i?"matrixParams.number":i,l=a.submitForm,u=a.form,r(u,c,j=1),e.next=6,r(u,s,n);case 6:this.onSetUrlParams({first:j,number:n}),l(u);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l,u,j,d,m,b,h,O,p;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=t.rowsPerPage,r=this.props,o=r.formValues,c=void 0===o?{}:o,i=r.changeForm,s=r.firstField,l=void 0===s?"matrixParams.first":s,u=r.numberField,j=void 0===u?"matrixParams.number":u,d=r.submitForm,m=r.form,b=c.matrixParams,h=(void 0===b?{}:b).number,i(m,l,p=n*(O=void 0===h?a:h)+1),e.next=8,i(m,j,O);case 8:this.onSetUrlParams({first:p,number:O}),d(m);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeOrder",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l,u,j,d,m,b;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderBy,a=t.orderDirection,r=this.props,o=r.changeForm,c=r.submitForm,i=r.sortField,s=void 0===i?"itemSearchDocument.sort":i,l=r.firstField,u=void 0===l?"matrixParams.first":l,j=r.form,d=[],n&&(m="".concat(a,"ending"),d=[{field:n,order:m}]),b=1,o(j,s,d),e.next=8,o(j,u,b);case 8:this.onSetUrlParams({orderDirection:a,orderBy:n,first:b}),c(j);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,n=t.page,a=t.rowsPerPage,r=t.orderBy,o=t.orderDirection;return Object(ie.jsx)(e,Object(u.a)({page:n,rowsPerPage:a,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,orderBy:r,orderDirection:o,onChangeOrder:this.onChangeOrder},this.props))}}]),a}(o.a.PureComponent)}),CO),IO="SEARCH_FORM",DO=Object(m.c)(SO,RO)(yO),FO=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSearchSuccess=a.onSearchSuccess.bind(Object(M.a)(a)),a.onSetUrlParams=a.onSetUrlParams.bind(Object(M.a)(a)),a.onGetUrlParams=a.onGetUrlParams.bind(Object(M.a)(a));var r=a.onGetUrlParams(),o=r.first,c=void 0===o?1:o,i=r.number,s=void 0===i?10:i,l=r.orderBy,u=r.orderDirection,j=void 0===u?"desc":u,d=Object(ye.a)(r,["first","number","orderBy","orderDirection"]),m=l?[{field:l,order:"".concat(j,"ending")}]:[];return a.initialValues={queryParams:d,matrixParams:{first:c,number:s},itemSearchDocument:{sort:m}},a.state={searchResultDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Search",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(IO)}},{key:"onSearchSuccess",value:function(e){var t=e.data,n=e.queryParams;this.setState({searchResultDocument:t,queryParams:n}),this.onSetUrlParams(n)}},{key:"onSetUrlParams",value:function(e){var t=this.props,n=t.location,a=t.history,r=new URLSearchParams(n.search);Object.entries(e).forEach((function(e){var t=Object(Bt.a)(e,2),n=t[0],a=t[1];return r.set(n,a)})),a.push({search:r.toString()})}},{key:"onGetUrlParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((function(e){var t=Object(Bt.a)(e,2),a=t[0],r=t[1];n[a]=r})),n}},{key:"render",value:function(){var e=this.state,t=e.searchResultDocument,n=e.queryParams;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Search",helpTo:"/ref/search.html",onRefresh:this.onRefresh,code:t,codeModal:"SearchResultDocument"}),Object(ie.jsx)(mO,{form:IO,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(Yh,{form:IO,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(DO,{searchResultDocument:t,queryParams:n,form:IO})]})}}]),n}(o.a.PureComponent),kO=Object(m.c)(oa)(FO),TO=n(682),PO=function(){return Object(ie.jsxs)(Q.a,{container:!0,spacing:8,children:[Object(ie.jsx)(Q.a,{item:!0,sm:10,children:Object(ie.jsx)(Lt,{name:"value",component:St,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"mode",children:"Mode"}),Object(ie.jsxs)(Lt,{name:"mode",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"add",children:"Add"}),Object(ie.jsx)(Cn.a,{value:"remove",children:"Remove"})]})]})})]})},EO=function(){return Object(ie.jsxs)(Q.a,{container:!0,spacing:8,children:[Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"name",label:"Field Name",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Nt,{name:"value",label:"value",withHeader:!1,direction:"row",component:PO})})]})},NO=function e(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"Group Name",component:yl,loadOptions:Xh,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0,creatable:!0}),Object(ie.jsx)(Nt,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:EO}),Object(ie.jsx)(Nt,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:e})]})},MO=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Q.a,{container:!0,spacing:8,children:[Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"start",component:Qn,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"end",component:Qn,fullWidth:!0})})]}),Object(ie.jsx)(Nt,{name:"field",label:"field",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:EO}),Object(ie.jsx)(Nt,{name:"group",label:"group",withHeader:!1,arrayHeader:!0,removeLabel:!0,component:NO})]})},AO=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"timespan",label:"timespan",arrayHeader:!0,withHeader:!1,hover:!1,removeLabel:!0,component:MO})})};var LO=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataDocument",component:AO}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),WO=function(e){var t=e.value,n=void 0===t?{}:t,a=n.value,r=(void 0===a?[]:a).map((function(e){return e.value}));return Object(ie.jsx)(Ca,{title:n.name,value:r,titleStartCase:!1,titleGridProps:{xl:2},titleTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},valueTypographyProps:{style:{wordWrap:"break-word"},noWrap:!1},hover:!0})},wO=function e(t){var n=t.value,a=void 0===n?{}:n;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Group Name",value:a.name,variant:"group",titleStartCase:!1}),Object(ie.jsx)(on,{arrayTitle:"Fields",value:a.field,component:WO,titleStartCase:!1}),Object(ie.jsx)(on,{arrayTitle:"Groups",value:a.group,component:e,titleStartCase:!1})]})},_O=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{value:n.timespan,hover:!1,dense:!0,component:function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Timespan",value:"".concat(n.start," ").concat(n.end)}),Object(ie.jsx)(on,{arrayTitle:"Fields",value:n.field,component:WO,titleStartCase:!1,hideNoValue:!0}),Object(ie.jsx)(on,{arrayTitle:"Groups",value:n.group,component:wO,titleStartCase:!1,hideNoValue:!0})]})}})})};function VO(e){var t=e.metadataDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:_O})})}var BO=["user","itemId"];function UO(e){return{value:e.value}}function qO(e,t){var n=t.name,a=t.value,r=void 0===a?[]:a;if(n.startsWith("__"))return e;if(BO.includes(n))return e;var o=r.map(UO);return e.push({name:n,value:o}),e}function GO(e){var t=e.name,n=e.field,a=void 0===n?[]:n,r=e.group,o=void 0===r?[]:r;return{name:t,field:a.reduce(qO,[]),group:o.map(GO)}}function HO(e){var t=e.start,n=e.end,a=e.field,r=void 0===a?[]:a,o=e.group,c=void 0===o?[]:o;return{start:t,end:n,field:r.reduce(qO,[]),group:c.map(GO)}}var JO=function(e){if(void 0===e)return{};var t=e.timespan;return{timespan:(void 0===t?[]:t).map(HO)}};var zO=je((function(e){var t=e.metadataDocument,n=e.openSnackBar,a=e.onSubmit,r=e.onSuccess,o=e.onFail,c=e.title,i=Object(ye.a)(e,["metadataDocument","openSnackBar","onSubmit","onSuccess","onFail","title"]),s=JO(t);return Object(ie.jsx)(mt,{title:c,formName:"EDIT_METADATA_FORM",onSubmitSuccess:function(e,t,a){n({messageContent:"Metadata Updated"}),r&&r(e,t,a)},onSubmitFail:function(e,t,a){n({messageContent:"Error Updating Metadata",messageColor:"secondary"}),o&&o(e,t,a)},onSubmit:a,displayProps:{metadataDocument:t},initialValues:{metadataDocument:s},formComponent:LO,displayComponent:VO,formProps:i})}));function KO(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId;return W.s.createExport({itemId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function YO(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId;return W.s.createExportImp({itemId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function XO(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId;return W.s.removeItem({itemId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function QO(e,t,n){var a=e.metadataDocument,r=void 0===a?{}:a,o=e.matrixParams,c=void 0===o?[]:o,i=e.queryParams,s=n.itemId||e.itemId;return W.s.updateItemMetadata({itemId:s,metadataDocument:r,queryParams:i,matrixParams:Object.entries(c)}).then((function(e){return Object(u.a)({itemId:s},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function $O(e,t,n){var a=e.matrixParams,r=void 0===a?[]:a,o=e.queryParams,c=void 0===o?{}:o,i=n.itemId||e.itemId,s=n.headers||e.headers;return W.s.getItemMetadata({itemId:i,queryParams:c,matrixParams:Object.entries(r),headers:s}).then((function(e){return Object(u.a)({itemId:i},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ZO(e,t,n){var a=e.matrixParams,r=void 0===a?[]:a,o=e.queryParams,c=void 0===o?{}:o,i=n.itemId||e.itemId;return W.s.getItem({itemId:i,queryParams:c,matrixParams:Object.entries(r)}).then((function(e){return Object(u.a)({itemId:i},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ep(e){var t=e.matrixParams,n=void 0===t?[]:t,a=e.queryParams,r=void 0===a?{}:a,o=e.itemSearchDocument,c=void 0===o?{}:o;return W.s.searchItem({itemSearchDocument:c,queryParams:r,matrixParams:Object.entries(n)}).then((function(e){return Object(u.a)({queryParams:r,matrixParams:n,itemSearchDocument:c},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function tp(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.itemId||e.itemId;return W.s.getItemUri({itemId:o,queryParams:r}).then((function(e){return Object(u.a)({itemId:o},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function np(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.itemId||e.itemId;return W.s.createTranscode({itemId:o,queryParams:r}).then((function(e){return Object(u.a)({itemId:o},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ap(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.itemId||e.itemId;return W.s.createThumbnail({itemId:o,queryParams:r}).then((function(e){return Object(u.a)({itemId:o},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function rp(e,t,n){var a=n.itemId||e.itemId,r=e.queryParams,o=void 0===r?{}:r,c=o.relationMetadata,i=void 0===c?[]:c,s=Object(ye.a)(o,["relationMetadata"]);return i.forEach((function(e){s[e.key]=e.value})),W.s.listItemRelation({itemId:a,queryParams:s}).then((function(e){return Object(u.a)({itemId:a},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function op(e,t,n){var a=n.itemId||e.itemId,r=n.relationItemId||e.relationItemId,o=e.queryParams,c=void 0===o?{}:o,i=c.relationMetadata,s=void 0===i?[]:i,l=Object(ye.a)(c,["relationMetadata"]);return s.forEach((function(e){l[e.key]=e.value})),W.s.createItemRelation({itemId:a,relationItemId:r,queryParams:l}).then((function(e){return Object(u.a)({itemId:a},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function cp(e,t,n){var a=n.relationId||e.relationId,r=e.queryParams,o=void 0===r?{}:r,c=o.relationMetadata,i=void 0===c?[]:c,s=Object(ye.a)(o,["relationMetadata"]);return i.forEach((function(e){s[e.key]=e.value})),W.s.updateRelation({relationId:a,queryParams:s}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ip(e){var t=e.metadataListDocument,n=Object(ye.a)(e,["metadataListDocument"]);if(void 0===t)return null;var a=t.item,r=void 0===a?[]:a;if(1!==r.length)return null;var o=(r[0]||{}).metadata,c=void 0===o?{}:o;return Object(ie.jsx)(zO,Object(u.a)({onSubmit:QO,metadataDocument:c},n))}function sp(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(ip,Object(u.a)({},t))})})}var lp=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"group",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"interval",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"track",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"language",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"samplerate",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"revision",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"include",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"from",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"to",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"includeConstraintValue",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"conflict",component:Wt}),label:"Conflict"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"defaultValue",component:Wt}),label:"Default Value"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"starttc",component:Wt}),label:"Start TC"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"terse",component:Wt}),label:"Terse"})]})},up=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includeTransientMetadata",component:Wt}),label:"Include Transient Metadata"})})};var jp=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:up}),Object(ie.jsx)(Mt,{name:"matrixParams",component:lp})]})})),dp="METADATA_DISPLAY_FORM";var mp=Object(m.c)(je,oa)((function(e){var t=e.onSubmit,n=e.onSuccess,a=e.onFail,r=e.openSnackBar,o=e.submitForm,c=e.resetForm,i=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Metadata Display Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(jp,Object(u.a)({form:dp,onSubmit:t,onSubmitSuccess:function(e,t,a){r({messageContent:"Display Updated"}),n&&n(e,t,a)},onSubmitFail:function(e,t,n){r({messageContent:"Error Updating Display",messageColor:"secondary"}),a&&a(e,t,n)}},i))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return c(dp)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(dp)},children:"Update"})]})]})}));function bp(e){var t=Object.assign({},e);return Object(ie.jsx)(mp,Object(u.a)({onSubmit:$O},t))}var hp=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={metadataListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.s.getItemMetadata({itemId:e}).then((function(e){return t.setState({metadataListDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemId,a=t.titleComponent,r=t.tabComponent,o=this.state.metadataListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:o,codeModal:"MetadataListDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(bp,{itemId:n,onSuccess:function(t){return e.setState({metadataListDocument:t.data})}}),o&&Object(ie.jsx)(sp,{itemId:n,metadataListDocument:o,onSuccess:function(){return e.onRefresh()}})]})}}]),n}(o.a.PureComponent)),Op=["__collection","__ancestor_collection","__parent_collection"];function pp(e){var t=e.metadataDocument,n=[],a=(void 0===t?{}:t).timespan,r=(void 0===a?[]:a).find((function(e){return"-INF"===e.start&&"+INF"===e.end}));if(r){var o=r.field;(void 0===o?[]:o).forEach((function(e){if(Op.includes(e.name)){var t=e.value,a=(void 0===t?[]:t).find((function(e){return e.value}));if(a){var r="__collection"===e.name||"__parent_collection"===e.name?"Parent":"Ancestor";n.push({relation:r,id:a.value})}}}))}return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"ID"}),Object(ie.jsx)(ke.a,{children:"Type"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:n.map((function(e){return Object(ie.jsxs)(Je,{to:"/collection/".concat(e.id,"/"),hover:!0,children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/collection/".concat(e.id,"/"),children:e.id})}),Object(ie.jsx)(ke.a,{children:e.relation}),Object(ie.jsx)(ke.a,{})]},"".concat(e.relation,"_").concat(e.id))}))})]})}function xp(e){var t=e.metadataListDocument,n=Object(ye.a)(e,["metadataListDocument"]);if(void 0===t)return null;var a=t.item,r=void 0===a?[]:a;if(1!==r.length)return null;var o=(r[0]||{}).metadata,c=void 0===o?{}:o;return Object(ie.jsx)(pp,Object(u.a)({metadataDocument:c},n))}function fp(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(xp,Object(u.a)({},e))})})}var vp=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={metadataListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.s.getItemMetadata({itemId:e,matrixParams:Object.entries({field:"__collection,__ancestor_collection,__parent_collection"})}).then((function(e){return t.setState({metadataListDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=this.state.metadataListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:a,codeModal:"MetadataListDocument",onRefresh:this.onRefresh}),n&&Object(ie.jsx)(n,{}),a&&Object(ie.jsx)(fp,{metadataListDocument:a})]})}}]),n}(o.a.PureComponent)),gp=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"placeholder",children:"Placeholder"}),Object(ie.jsxs)(Lt,{name:"placeholder",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"all",children:"All"}),Object(ie.jsx)(Cn.a,{value:"true",children:"True"}),Object(ie.jsx)(Cn.a,{value:"false",children:"False"})]})]}),Object(ie.jsx)(Lt,{name:"version",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"url",component:Wt}),label:"Show URL"})]})};var yp=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:gp})]})}));function Sp(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId;return W.K.createShapeEssenceImport({itemId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Cp(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId;return W.K.createShapeImport({itemId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Rp(e,t,n){var a=e.queryParams,r=e.metadataDocument,o=void 0===r?{}:r,c=n.itemId||e.itemId;return W.K.createShapePlaceholder({itemId:c,metadataDocument:o,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Ip(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.itemId||e.itemId;return W.K.listShape({itemId:o,queryParams:r}).then((function(e){return Object(u.a)({itemId:o},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Dp(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.itemId||e.itemId,c=n.shapeId||e.shapeId;return W.K.getShape({itemId:o,shapeId:c,queryParams:r}).then((function(e){return Object(u.a)({itemId:o},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Fp(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId,o=n.shapeId||e.shapeId;return W.K.removeShape({itemId:r,shapeId:o,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function kp(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.itemId||e.itemId,c=n.shapeId||e.shapeId;return W.K.createTranscode({itemId:o,shapeId:c,queryParams:r}).then((function(e){return Object(u.a)({itemId:o},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Tp(e,t,n){var a=n.itemId||e.itemId,r=n.shapeId||e.shapeId,o=n.tagName||e.tagName;return W.K.updateShapeTag({itemId:a,shapeId:r,tagName:o}).then((function(e){return Object(u.a)({itemId:a},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Pp(e,t,n){var a=n.itemId||e.itemId,r=n.shapeId||e.shapeId,o=n.tagName||e.tagName;return W.K.removeShapeTag({itemId:a,shapeId:r,tagName:o}).then((function(e){return Object(u.a)({itemId:a},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Ep(e,t,n){var a=e.analyzeJobDocument,r=void 0===a?{}:a,o=e.queryParams,c=n.itemId||e.itemId,i=n.shapeId||e.shapeId;return W.K.createShapeAnalyze({itemId:c,shapeId:i,queryParams:o,analyzeJobDocument:r}).then((function(e){return Object(u.a)({itemId:c},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Np="SHAPE_LIST_PARAMS_FORM";var Mp=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.itemId,i=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","itemId"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape List Display Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(yp,Object(u.a)({form:Np,onSubmit:Ip,onSubmitSuccess:function(e,n,r){a({messageContent:"Shape List Display Updated"}),t&&t(e,n,r)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Shape List Display",messageColor:"secondary"}),n&&n(e,t,r)},itemId:c},i))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(Np)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(Np)},children:"Update"})]})]})})),Ap=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.K.listShape({itemId:e,queryParams:{placeholder:"all"}}).then((function(e){return t.setState({uriListDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemId,a=t.titleComponent,r=t.tabComponent,o=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:o,codeModal:"URIListDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(Mp,{itemId:n,onSuccess:function(t){return e.setState({uriListDocument:t.data})}}),o&&Object(ie.jsx)(Xe,{uriListDocument:o,linkTo:function(e){return"/item/".concat(n,"/shape/").concat(e,"/")}})]})}}]),n}(o.a.PureComponent)),Lp="ITEM_PARAMS_FORM";var Wp=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.itemId,i=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","itemId"]);return Object(ie.jsxs)(wj,{defaultExpanded:!0,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Display Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(Uh,Object(u.a)({form:Lp,onSubmit:ZO,onSubmitSuccess:function(e,n,a){t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Item Display",messageColor:"secondary"}),n&&n(e,t,r)},itemId:c},i))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(Lp)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(Lp)},children:"Update"})]})]})}));function wp(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(VO,Object(u.a)({},t))})})}var _p=function(e){var t=e.shapeId,n=e.title;return Object(ie.jsxs)(Q.a,{container:!0,alignItems:"center",children:[Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",children:"Shape"})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(_.a,{disabled:!0,children:Object(ie.jsx)(H.a,{})})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(X.a,{variant:"h5",children:t})}),n&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(_.a,{disabled:!0,children:Object(ie.jsx)(H.a,{})})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(X.a,{variant:"h5",children:n})})]})]})};var Vp=T((function(e){var t=e.title,n=e.itemId,a=e.shapeId,r=e.onOpen,o=e.transcodeModal,c=e.removeModal,i=e.addTagModal,s=e.removeTagModal,l=e.analyzeTagModal,j=e.addComponentModal,d=Object(ye.a)(e,["title","itemId","shapeId","onOpen","transcodeModal","removeModal","addTagModal","removeTagModal","analyzeTagModal","addComponentModal"]),m=localStorage.getItem("vsBaseUrl")||"",b=new URLSearchParams({content:"metadata,thumbnail",baseURI:"".concat(m,"/APInoauth/"),terse:!0,"noauth-url":!0});return Object(ie.jsx)(ge,Object(u.a)({grandParentTitle:"Item",grandParentTo:"/item/?".concat(b.toString()),parentTitle:n,parentTo:"/item/".concat(n,"?tab=ITEM_SHAPE_TAB"),title:Object(ie.jsx)(_p,{shapeId:a,title:t}),actionComponent:Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:o})},children:Object(ie.jsx)(X.a,{children:"Transcode"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:l})},children:Object(ie.jsx)(X.a,{children:"Analyze"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:j})},children:Object(ie.jsx)(X.a,{children:"Add Component"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:i})},children:Object(ie.jsx)(X.a,{children:"Add Tag"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:s})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Remove Tag"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return r({modalName:c})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Delete"})})]})},d))})),Bp=function(e){var t=e.fileType;return Object(ie.jsxs)(Pe.a,{hover:!0,children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/file/".concat(t.id,"/"),children:t.id})}),Object(ie.jsx)(ke.a,{children:t.size&&t.size>-1&&en(t.size)}),Object(ie.jsx)(ke.a,{children:t.state}),Object(ie.jsx)(ke.a,{children:t.timestamp?qt()(t.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),Object(ie.jsx)(ke.a,{children:t.path}),Object(ie.jsx)(ke.a,{children:t.hash}),Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/storage/".concat(t.storage,"/"),children:t.storage})})]},t.id)};function Up(e){var t=e.value,n=e.hideNoValue,a=e.title,r=void 0===a?"Files":a;return n&&void 0===t?null:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(X.a,{variant:"subtitle2",children:r}),Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"ID"}),Object(ie.jsx)(ke.a,{children:"Size"}),Object(ie.jsx)(ke.a,{children:"State"}),Object(ie.jsx)(ke.a,{children:"Timestamp"}),Object(ie.jsx)(ke.a,{children:"Path"}),Object(ie.jsx)(ke.a,{children:"Hash"}),Object(ie.jsx)(ke.a,{children:"Storage"})]})}),Array.isArray(t)&&Object(ie.jsx)(Fe.a,{children:t.map((function(e){return Object(ie.jsx)(Bp,{fileType:e},e.id)}))})]})]})}var qp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(on,{value:n,component:function(e){var t=e.value;return Object(ie.jsx)(nn,{title:t.key,value:t.value,titleStartCase:!1,hideNoValue:!0,hover:!0})}})},Gp=function(e){var t=e.value,n=void 0===t?{}:t,a=e.title,r=void 0===a?"Component":a,o=e.hideMetadata,c=void 0===o||o,i=Object(ye.a)(e,["value","title","hideMetadata"]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,Object(u.a)({title:"".concat(r," ID"),value:n.id},i)),!c&&Object(ie.jsx)(an,Object(u.a)({title:"".concat(r," Metadata"),value:n.metadata,component:qp,dense:!0},i)),Object(ie.jsx)(Up,Object(u.a)({title:"".concat(r," Files"),value:n.file},i))]})},Hp=function(e){var t=e.value,n=void 0===t?{}:t,a=e.title,r=void 0===a?"Component":a,o=Object(ye.a)(e,["value","title"]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Gp,Object(u.a)({title:r,value:n},o)),Object(ie.jsx)(nn,Object(u.a)({title:"codec",value:n.codec},o)),Object(ie.jsx)(an,{title:"timeBase",component:cr,value:n.timeBase,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,Object(u.a)({title:"itemTrack",value:n.itemTrack},o)),Object(ie.jsx)(nn,Object(u.a)({title:"essenceStreamId",value:n.essenceStreamId},o)),Object(ie.jsx)(an,{title:"interval",component:ur,value:n.interval,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,Object(u.a)({title:"bitrate",value:n.bitrate},o)),Object(ie.jsx)(nn,Object(u.a)({title:"numberOfPackets",value:n.numberOfPackets},o)),Object(ie.jsx)(nn,Object(u.a)({title:"extradata",value:n.extradata},o)),Object(ie.jsx)(nn,Object(u.a)({title:"pid",value:n.pid},o)),Object(ie.jsx)(an,{title:"duration",component:ir,value:n.duration,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,Object(u.a)({title:"profile",value:n.profile},o)),Object(ie.jsx)(nn,Object(u.a)({title:"level",value:n.level},o)),Object(ie.jsx)(an,{title:"startTimestamp",component:ir,value:n.startTimestamp,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,Object(u.a)({title:"repeatCount",value:n.repeatCount},o)),Object(ie.jsx)(nn,Object(u.a)({title:"trackOrder",value:n.trackOrder},o)),Object(ie.jsx)(nn,Object(u.a)({title:"segment",value:n.segment},o))]})},Jp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(on,{component:rr,dense:!0,value:n.property,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"Bit_rate_mode",value:n.Bit_rate_mode,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"Source",value:n.Source,hideNoValue:!0,hover:!0})]})},zp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Gp,{title:"Container Component",value:n,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"duration",component:ir,value:n.duration,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"format",value:n.format,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"subFormat",value:n.subFormat,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"firstSMPTETimecode",value:n.firstSMPTETimecode,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"startTimecode",value:n.startTimecode,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"startTimestamp",component:ir,value:n.startTimestamp,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"roundedTimeBase",value:n.roundedTimeBase,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"dropFrame",value:n.dropFrame,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"timeCodeTimeBase",component:cr,value:n.timeCodeTimeBase,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"mediaInfo",component:Jp,value:n.mediaInfo,hideNoValue:!0,hover:!0})]})},Kp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Gp,{title:"Descriptor Component",value:n,hideNoValue:!0,hover:!0}),Object(ie.jsx)(on,{value:n.description,hover:!1,component:function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{value:t.type,title:"Type"}),Object(ie.jsx)(nn,{value:t.value,variant:"xml"})]})}})]})},Yp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Gp,{title:"Binary Component",value:n,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"format",value:n.format,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"encoding",value:n.encoding,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"offset",value:n.offset,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"length",value:n.length,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"mediaInfo",component:Jp,value:n.mediaInfo,hideNoValue:!0,hover:!0})]})},Xp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Hp,{title:"Audio Component",value:n,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"channelCount",value:n.channelCount,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"channelLayout",value:n.channelLayout,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"sampleFormat",value:n.sampleFormat,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"frameSize",value:n.frameSize,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"blockAlign",value:n.blockAlign,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"mediaInfo",component:Jp,value:n.mediaInfo,hideNoValue:!0,hover:!0})]})},Qp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Hp,{title:"Video Component",value:n,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"resolution",component:sr,value:n.resolution,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"pixelFormat",value:n.pixelFormat,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"maxBFrames",value:n.maxBFrames,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"pixelAspectRatio",component:lr,value:n.pixelAspectRatio,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"fieldOrder",value:n.fieldOrder,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"codecTimeBase",component:cr,value:n.codecTimeBase,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"averageFrameRate",component:cr,value:n.averageFrameRate,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"realBaseFrameRate",component:cr,value:n.realBaseFrameRate,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"displayWidth",component:or,value:n.displayWidth,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"displayHeight",component:or,value:n.displayHeight,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"displayXOffset",component:or,value:n.displayXOffset,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"displayYOffset",component:or,value:n.displayYOffset,hideNoValue:!0,hover:!0}),Object(ie.jsx)(an,{title:"containerSAR",component:lr,value:n.containerSAR,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"colr_primaries",value:n.colr_primaries,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"colr_transfer_function",value:n.colr_transfer_function,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"colr_matrix",value:n.colr_matrix,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"max_packet_size",value:n.max_packet_size,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"startTimecode",value:n.startTimecode,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"dropFrame",value:n.dropFrame,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"ticks_per_frame",value:n.ticks_per_frame,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"bitDepth",value:n.bitDepth,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"bitsPerPixel",value:n.bitsPerPixel,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"colorPrimaries",value:n.colorPrimaries,hideNoValue:!0,hover:!0})]})},$p=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Hp,{title:"Subtitle Component",value:n,hideNoValue:!0,hover:!0})})},Zp=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"id",value:n.id,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"created",value:n.created,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"essenceVersion",value:n.essenceVersion,hideNoValue:!0,hover:!0}),Object(ie.jsx)(Ca,{title:"tag",value:n.tag,hideNoValue:!0,hover:!0}),Object(ie.jsx)(Ca,{title:"mimeType",value:n.mimeType,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"uuid",value:n.uuid,hideNoValue:!0,hover:!0})]})};function ex(e){var t=e.shapeDocument,n=void 0===t?{}:t,a=e.itemId,r=e.shapeId,o=e.onRefresh;if(void 0===n)return null;var c=n.metadata;return Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Shape - ".concat(r)})}),Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Zp,{value:n}),Object(ie.jsx)($c,{simpleMetadataDocument:c,title:"Shape Metadata",titleProps:{variant:"subtitle2"},onSuccess:o,entityType:"item",entityId:"".concat(a,"/shape/").concat(r)})]})]})}function tx(e){var t=e.metadata,n=e.componentId,a=e.itemId,r=e.shapeId,o=e.onRefresh,c=Object(ye.a)(e,["metadata","componentId","itemId","shapeId","onRefresh"]);return Object(ie.jsx)($c,Object(u.a)({simpleMetadataDocument:{field:t},titleProps:{variant:"subtitle2"},onSuccess:o,entityType:"item",entityId:"".concat(a,"/shape/").concat(r,"/component/").concat(n)},c))}function nx(e){var t=e.shapeDocument,n=void 0===t?{}:t,a=e.itemId,r=e.shapeId,o=e.onRefresh,c=n.containerComponent;if(void 0===c)return null;var i=c.id,s=c.metadata;return Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:i?Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Container Component - ".concat(i)}):void 0}),Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(zp,{value:c}),Object(ie.jsx)(tx,{title:"Container Component Metadata",metadata:s,onRefresh:o,itemId:a,shapeId:r,componentId:i})]})]})}function ax(e){var t=e.videoComponent,n=void 0===t?{}:t,a=e.itemId,r=e.shapeId,o=e.onRefresh;if(void 0===n)return null;var c=n.id,i=n.metadata;return Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:c?Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Video Component - ".concat(c)}):void 0}),Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Qp,{value:n}),Object(ie.jsx)(tx,{title:"Video Component Metadata",metadata:i,onRefresh:o,itemId:a,shapeId:r,componentId:c})]})]})}function rx(e){var t=e.shapeDocument,n=void 0===t?{}:t,a=Object(ye.a)(e,["shapeDocument"]),r=n.videoComponent;return void 0!==r&&Array.isArray(r)?r.map((function(e){return Object(ie.jsx)(ax,Object(u.a)({videoComponent:e},a),e.id)})):null}function ox(e){var t=e.descriptorComponent,n=void 0===t?{}:t,a=e.itemId,r=e.shapeId,o=e.onRefresh;if(void 0===n)return null;var c=n.id,i=n.metadata;return Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:c?Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Descriptor Component - ".concat(c)}):void 0}),Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Kp,{value:n}),Object(ie.jsx)(tx,{title:"Desciptor Component Metadata",metadata:i,onRefresh:o,itemId:a,shapeId:r,componentId:c})]})]})}function cx(e){var t=e.shapeDocument,n=void 0===t?{}:t,a=Object(ye.a)(e,["shapeDocument"]),r=n.descriptorComponent;return void 0!==r&&Array.isArray(r)?r.map((function(e){return Object(ie.jsx)(ox,Object(u.a)({descriptorComponent:e},a),e.id)})):null}function ix(e){var t=e.audioComponent,n=void 0===t?{}:t,a=e.itemId,r=e.shapeId,o=e.onRefresh;if(void 0===n)return null;var c=n.id,i=n.metadata;return Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:c?Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Audio Component - ".concat(c)}):void 0}),Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Xp,{value:n}),Object(ie.jsx)(tx,{title:"Audio Component Metadata",metadata:i,onRefresh:o,itemId:a,shapeId:r,componentId:c})]})]})}function sx(e){var t=e.shapeDocument,n=void 0===t?{}:t,a=Object(ye.a)(e,["shapeDocument"]),r=n.audioComponent;return void 0!==r&&Array.isArray(r)?r.map((function(e){return Object(ie.jsx)(ix,Object(u.a)({audioComponent:e},a),e.id)})):null}function lx(e){var t=e.binaryComponent,n=void 0===t?{}:t,a=e.itemId,r=e.shapeId,o=e.onRefresh;if(void 0===n)return null;var c=n.id,i=n.metadata;return Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:c?Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Binary Component - ".concat(c)}):void 0}),Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Yp,{value:n}),Object(ie.jsx)(tx,{title:"Binary Component Metadata",metadata:i,onRefresh:o,itemId:a,shapeId:r,componentId:c})]})]})}function ux(e){var t=e.shapeDocument,n=void 0===t?{}:t,a=Object(ye.a)(e,["shapeDocument"]),r=n.binaryComponent;return void 0!==r&&Array.isArray(r)?r.map((function(e){return Object(ie.jsx)(lx,Object(u.a)({binaryComponent:e},a),e.id)})):null}function jx(e){var t=e.subtitleComponent,n=void 0===t?{}:t;if(void 0===n)return null;var a=n.id;return Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:a?Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Subtitle Component - ".concat(a)}):void 0}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)($p,{value:n})})]})}function dx(e){var t=e.shapeDocument,n=void 0===t?{}:t,a=Object(ye.a)(e,["shapeDocument"]),r=n.subtitleComponent;return void 0!==r&&Array.isArray(r)?r.map((function(e){return Object(ie.jsx)(jx,Object(u.a)({subtitleComponent:e},a),e.id)})):null}function mx(e){return void 0===e.shapeDocument?null:Object(ie.jsxs)(Mc,{children:[Object(ie.jsx)(ex,Object(u.a)({},e)),Object(ie.jsx)(nx,Object(u.a)({},e)),Object(ie.jsx)(rx,Object(u.a)({},e)),Object(ie.jsx)(sx,Object(u.a)({},e)),Object(ie.jsx)(ux,Object(u.a)({},e)),Object(ie.jsx)(cx,Object(u.a)({},e)),Object(ie.jsx)(dx,Object(u.a)({},e))]})}function bx(e){var t=e.shapeList,n=void 0===t?[]:t,a=e.itemId;return void 0!==n&&Array.isArray(n)?n.map((function(e){return Object(ie.jsxs)(o.a.Fragment,{children:[a?Object(ie.jsx)(Vp,{shapeId:e.id,itemId:a}):Object(ie.jsx)(_p,{shapeId:e.id}),Object(ie.jsx)(mx,{shapeDocument:e})]},e.id)})):null}function hx(e){var t=e.itemDocument;if(void 0===t)return null;var n=t.id,a=t.metadata,r=t.thumbnails,o=t.posters,c=t.files,i=t.shape;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(wp,{itemId:n,metadataDocument:a}),r&&Object(ie.jsx)(Xe,{title:"Thumbnails",uriListDocument:r}),o&&Object(ie.jsx)(Xe,{title:"Posters",uriListDocument:o}),c&&Object(ie.jsx)(Xe,{title:"Files",uriListDocument:c}),i&&Object(ie.jsx)(bx,{itemId:n,shapeList:i})]})}var Ox=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={itemDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onRefresh(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(Lp)}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemId,a=t.titleComponent,r=t.tabComponent,o=this.state.itemDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:o,codeModal:"ItemDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(Wp,{itemId:n,onSuccess:function(t){return e.setState({itemDocument:t.data})}}),o&&Object(ie.jsx)(hx,{itemId:n,itemDocument:o})]})}}]),n}(o.a.PureComponent)),px=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"type",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"scheme",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"storageType",children:"StorageType"}),Object(ie.jsx)(Lt,{name:"storageType",component:gt,children:Ao.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"methodType",children:"Method Type"}),Object(ie.jsxs)(Lt,{name:"methodType",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"AUTO",children:"AUTO"}),Object(ie.jsx)(Cn.a,{value:"AZURE_SAS",children:"AZURE_SAS"})]})]}),Object(ie.jsx)(Lt,{name:"methodMetadata",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"closedFiles",component:Wt}),label:"Closed Files"})]})};var xx=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:px})]})})),fx="ITEM_URI_PARAMS_FORM";var vx=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.itemId,i=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","itemId"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item URI Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(xx,Object(u.a)({form:fx,onSubmit:tp,onSubmitSuccess:function(e,n,r){a({messageContent:"Item URI Display Updated"}),t&&t(e,n,r)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Item URI Display",messageColor:"secondary"}),n&&n(e,t,r)},itemId:c},i))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(fx)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(fx)},children:"Update"})]})]})})),gx=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.s.getItemUri({itemId:e}).then((function(e){return t.setState({uriListDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemId,a=t.titleComponent,r=t.tabComponent,o=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:o,codeModal:"URIListDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(vx,{itemId:n,onSuccess:function(t){return e.setState({uriListDocument:t.data})}}),o&&Object(ie.jsx)(Xe,{uriListDocument:o})]})}}]),n}(o.a.PureComponent)),yx=n(698),Sx=n(699),Cx=n(700);function Rx(e){var t=e.uriListDocument;if(void 0===t)return null;var n=t.uri,a=void 0===n?[]:n,r=function(e){var t=e.split("?"),n=Object(Bt.a)(t,1)[0],a=n.split(";");return n=Object(Bt.a)(a,2)[1]};return Object(ie.jsx)(yx.a,{cellHeight:"auto",cols:1,children:a.map((function(e){return Object(ie.jsxs)(Sx.a,{children:[Object(ie.jsx)("img",{src:e,alt:e}),Object(ie.jsx)(Cx.a,{title:r(e)})]},e)}))})}var Ix=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={itemDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this,n=localStorage.getItem("vsBaseUrl")||"",a={content:"poster","noauth-url":!0,baseURI:"".concat(n,"/APInoauth/")};try{W.s.getItem({itemId:e,queryParams:a}).then((function(e){return t.setState({itemDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(r){this.onRefreshError(r)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=this.state.itemDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:a,codeModal:"ItemDocument",onRefresh:this.onRefresh}),n&&Object(ie.jsx)(n,{}),a&&Object(ie.jsx)(ie.Fragment,{children:a.posters&&Object(ie.jsx)(Rx,{uriListDocument:a.posters})})]})}}]),n}(o.a.PureComponent));function Dx(e){var t=e.uriListDocument;if(void 0===t)return null;var n=t.uri,a=void 0===n?[]:n,r=function(e){var t=e.split("?"),n=Object(Bt.a)(t,1)[0],a=n.split(";");return n=Object(Bt.a)(a,2)[1]};return Object(ie.jsx)(yx.a,{cellHeight:"auto",cols:3,children:a.map((function(e){return Object(ie.jsxs)(Sx.a,{children:[Object(ie.jsx)("img",{src:e,alt:e}),Object(ie.jsx)(Cx.a,{title:r(e)})]},e)}))})}var Fx=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={itemDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this,n=localStorage.getItem("vsBaseUrl")||"",a={content:"thumbnail","noauth-url":!0,baseURI:"".concat(n,"/APInoauth/")};try{W.s.getItem({itemId:e,queryParams:a}).then((function(e){return t.setState({itemDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(r){this.onRefreshError(r)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=this.state.itemDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:a,codeModal:"ItemDocument",onRefresh:this.onRefresh}),n&&Object(ie.jsx)(n,{}),a&&Object(ie.jsx)(ie.Fragment,{children:a.thumbnails&&Object(ie.jsx)(Dx,{uriListDocument:a.thumbnails})})]})}}]),n}(o.a.PureComponent)),kx=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.onChangeOrder=a.onChangeOrder.bind(Object(M.a)(a)),a.state={jobListDocument:void 0,count:void 0,page:1,rowsPerPage:10,orderBy:"jobId",orderDirection:"desc",sort:"jobId desc",first:0,number:10},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Jobs",messageColor:"secondary"})}},{key:"onFetch",value:function(e){var t=this,n=this.state,a=n.sort,r={first:n.first,number:n.number,sort:a},o={jobmetadata:[{key:"itemId",value:e}]};try{W.u.listJob({queryParams:o,matrixParams:Object.entries(r)}).then((function(e){return t.onSuccess(e)})).catch((function(e){return t.onRefreshError(e)}))}catch(c){this.onRefreshError(c)}}},{key:"onSuccess",value:function(e){var t=e.data,n=this.state,a=n.first,r=void 0===a?0:a,o=n.number,c=void 0===o?10:o,i=t.hits,s=void 0===i?0:i,l=Math.ceil(s/c)-Math.ceil((s-r)/c);this.setState({count:s,rowsPerPage:c,page:l,jobListDocument:t})}},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.state.number,r=n*(void 0===a?10:a),e.next=5,this.setState({first:r});case 5:this.onRefresh();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,a=0,e.next=4,this.setState({first:a,number:n});case 4:this.onRefresh();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeOrder",value:function(e){var t=this;return Object(uj.a)(lj.a.mark((function n(){var a,r,o,c,i,s;return lj.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.state,r=a.orderDirection,o=a.orderBy,c="",e!==o?(s=e,i="desc",c=["".concat(e," ").concat(i)]):"desc"===r&&(s=e,i="asc",c=["".concat(e," ").concat(i)]),n.next=5,t.setState({orderBy:s,orderDirection:i,sort:c});case 5:t.onRefresh();case 6:case"end":return n.stop()}}),n)})))}},{key:"render",value:function(){var e=this.state,t=e.jobListDocument,n=e.count,a=e.page,r=e.rowsPerPage,o=e.orderBy,c=e.orderDirection,i=this.props,s=i.titleComponent,l=i.tabComponent;return Object(ie.jsxs)(ie.Fragment,{children:[s&&Object(ie.jsx)(s,{code:t,codeModal:"JobListDocument",onRefresh:this.onRefresh}),l&&Object(ie.jsx)(l,{}),Object(ie.jsx)(td,{jobListDocument:t,count:n,page:a,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:o,orderDirection:c})]})}}]),n}(o.a.PureComponent)),Tx=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"projection",label:"Projection",component:yl,loadOptions:Hd,cacheOptions:!0,isClearable:!0,fullWidth:!0})})};var Px=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"matrixParams",component:Tx})]})})),Ex="ITEM_PROJECTION_FORM";var Nx=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.openSnackBar,a=e.onSuccess,r=e.onFail,o=e.itemId,c=e.outgoingProjectionDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Px,{form:Ex,onSubmit:$O,onSubmitSuccess:function(e,t,r){n({messageContent:"Projection Applied"}),a&&a(e,t,r)},onSubmitFail:function(e,t,a){n({messageContent:"Error Appying Projection",messageColor:"secondary"}),r&&r(e,t,a)},itemId:o,headers:{accept:"application/xml"},initialValues:{matrixParams:{projection:"default"}}}),Object(ie.jsx)(he.a,{color:"primary",variant:"contained",onClick:function(){return t(Ex)},children:"Update"}),c&&Object(ie.jsx)(nn,{title:"Projection",value:c,variant:"xml",hideNoValue:!0})]})}));var Mx=function(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Nx,Object(u.a)({},e))})})},Ax=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={outgoingProjectionDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.s.getItemMetadata({itemId:e,headers:{accept:"application/xml"},matrixParams:[{projection:"default"}]}).then((function(e){return t.setState({outgoingProjectionDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemId,a=t.titleComponent,r=t.tabComponent,o=this.state.outgoingProjectionDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:o,codeModal:"OutgoingProjectionDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),o&&Object(ie.jsx)(Mx,{itemId:n,outgoingProjectionDocument:o,onSuccess:function(t){return e.setState({outgoingProjectionDocument:t.data})}})]})}}]),n}(o.a.PureComponent)),Lx=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"direction",children:"Direction"}),Object(ie.jsxs)(Lt,{name:"direction",component:gt,fullWidth:!0,children:[Object(ie.jsx)(Cn.a,{value:"A",children:"All"}),Object(ie.jsx)(Cn.a,{value:"U",children:"Unidirectional"}),Object(ie.jsx)(Cn.a,{value:"S",children:"Source"}),Object(ie.jsx)(Cn.a,{value:"T",children:"Target"}),Object(ie.jsx)(Cn.a,{value:"D",children:"Source or Target"})]})]}),Object(ie.jsx)(Nt,{name:"relationMetadata",component:Xa,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]})};var Wx=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,style:{width:"100%"},children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:Lx})]})})),wx="ITEM_RELATION_LIST_PARAMS_FORM";var _x=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.itemId,i=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","itemId"]);return Object(ie.jsxs)(wj,{defaultExpanded:!0,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Relation Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(Wx,Object(u.a)({form:wx,onSubmit:rp,onSubmitSuccess:function(e,n,a){t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Item Relations",messageColor:"secondary"}),n&&n(e,t,r)},itemId:c},i))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(wx)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(wx)},children:"Update"})]})]})})),Vx=function(e){var t=e.isEditing,n=e.toggleEdit;return Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{color:"primary"}),label:"Edit",checked:t,onChange:n})},Bx=function(e){var t=e.onRemove;return Object(ie.jsx)(_.a,{onClick:t,children:Object(ie.jsx)(Dt.a,{})})},Ux=function(e){var t=e.toggleComponent,n=void 0===t?Vx:t,a=e.toggleProps,r=void 0===a?{}:a,o=e.removeComponent,c=void 0===o?Bx:o,i=e.removeProps,s=void 0===i?{}:i,l=e.isEditing,j=e.toggleEdit,d=e.onRemove,m=Object(ye.a)(e,["toggleComponent","toggleProps","removeComponent","removeProps","isEditing","toggleEdit","onRemove"]);return Object(ie.jsxs)(ie.Fragment,{children:[d&&Object(ie.jsx)(c,Object(u.a)(Object(u.a)({onRemove:d},s),m)),j&&Object(ie.jsx)(n,Object(u.a)(Object(u.a)({isEditing:l,toggleEdit:j},r),m))]})},qx=function(e){var t=e.actionComponent,n=void 0===t?Ux:t,a=e.actionProps,r=void 0===a?{}:a,o=e.isEditing,c=e.toggleEdit,i=e.onRemove,s=e.cardHeaderProps,l=void 0===s?{}:s,j=Object(ye.a)(e,["actionComponent","actionProps","isEditing","toggleEdit","onRemove","cardHeaderProps"]);return Object(ie.jsx)(Ce.a,Object(u.a)({action:Object(ie.jsx)(n,Object(u.a)(Object(u.a)({isEditing:o,toggleEdit:c,onRemove:i},r),j))},l))},Gx=function(e){var t=e.editComponent,n=e.editProps,a=void 0===n?{}:n,r=e.displayComponent,o=e.displayProps,c=void 0===o?{}:o,i=e.isEditing,s=Object(ye.a)(e,["editComponent","editProps","displayComponent","displayProps","isEditing"]);return Object(ie.jsx)(Se.a,{children:i?Object(ie.jsx)(t,Object(u.a)(Object(u.a)({},a),s)):Object(ie.jsx)(r,Object(u.a)(Object(u.a)({},c),s))})},Hx=function(e){var t=e.children;return Object(ie.jsx)(Ie,{children:t})},Jx=function(e){var t=e.isEditing,n=void 0!==t&&t,a=e.toggleEdit,r=e.onSave,o=e.saveProps,c=void 0===o?{}:o,i=e.cancelProps,s=void 0===i?{}:i;return n?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,Object(u.a)(Object(u.a)({size:"small",onClick:a},s),{},{children:"Cancel"})),Object(ie.jsx)(he.a,Object(u.a)(Object(u.a)({onClick:r,size:"small",color:"primary"},c),{},{children:"Save"}))]})]}):null},zx=function(e){var t=e.initialState,n=void 0!==t&&t,a=e.editComponent,r=e.editProps,c=void 0===r?{}:r,i=e.displayComponent,s=e.displayProps,l=void 0===s?{}:s,j=e.cardComponent,d=void 0===j?Hx:j,m=e.cardProps,b=void 0===m?{}:m,h=e.cardHeaderComponent,O=void 0===h?qx:h,p=e.cardHeaderProps,x=void 0===p?{}:p,f=e.cardContentComponent,v=void 0===f?Gx:f,g=e.cardContentProps,y=void 0===g?{}:g,S=e.cardActionComponent,C=void 0===S?Jx:S,R=e.cardActionProps,I=void 0===R?{}:R,D=e.onRemove,F=e.onSave,k=Object(ye.a)(e,["initialState","editComponent","editProps","displayComponent","displayProps","cardComponent","cardProps","cardHeaderComponent","cardHeaderProps","cardContentComponent","cardContentProps","cardActionComponent","cardActionProps","onRemove","onSave"]),T=o.a.useState(n),P=Object(Bt.a)(T,2),E=P[0],N=P[1],M=function(){return N(!E)};return Object(ie.jsxs)(d,Object(u.a)(Object(u.a)(Object(u.a)({},b),k),{},{children:[Object(ie.jsx)(O,Object(u.a)({isEditing:E,toggleEdit:M,onRemove:D,cardHeaderProps:x},k)),Object(ie.jsx)(v,Object(u.a)(Object(u.a)({isEditing:E,toggleEdit:M,editComponent:a,editProps:c,displayComponent:i,displayProps:l},y),k)),Object(ie.jsx)(C,Object(u.a)(Object(u.a)({isEditing:E,toggleEdit:M,onSave:F},I),k))]}))},Kx=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"direction",children:"Direction"}),Object(ie.jsxs)(Lt,{name:"direction",component:gt,fullWidth:!0,children:[Object(ie.jsx)(Cn.a,{value:"U",children:"Unidirectional"}),Object(ie.jsx)(Cn.a,{value:"S",children:"Source"}),Object(ie.jsx)(Cn.a,{value:"T",children:"Target"})]})]})},Yx=function(){return Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allowDuplicate",component:Wt}),label:"Allow Duplicates"})},Xx=function(){return Object(ie.jsx)(Nt,{name:"relationMetadata",component:Xa,label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0})},Qx=function(){return Object(ie.jsx)(Lt,{name:"relationItemId",label:"Relation Item ID",component:St,fullWidth:!0})},$x=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Kx,{}),Object(ie.jsx)(Yx,{}),Object(ie.jsx)(Xx,{})]})};var Zx=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,style:{width:"100%"},children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Qx,{}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:$x})]})})),ef=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Kx,{}),Object(ie.jsx)(Xx,{})]})};var tf=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,style:{width:"100%"},children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:ef})]})})),nf="ITEM_RELATION_FORM_EDIT",af=function(e){var t=e.itemRelationType;return Object(ie.jsxs)(ie.Fragment,{children:[t.direction&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Source",value:t.direction.source}),Object(ie.jsx)(nn,{title:"Target",value:t.direction.target}),Object(ie.jsx)(nn,{title:"Type",value:t.direction.type})]}),t.value&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsx)(nn,{title:"Metadata"}),t.value.map((function(e){return Object(ie.jsx)(nn,{title:e.key,value:e.value},e.key)}))]})]})},rf=function(e){var t=e.itemRelationType;return Object(ie.jsx)(af,{itemRelationType:t})},of=function(e){var t=e.itemRelationType,n=e.toggleEdit,a=e.openSnackBar,r=e.onRefresh;return Object(ie.jsx)(tf,{form:nf,onSubmit:cp,onSubmitSuccess:function(){n(),r()},onSubmitFail:function(){return a({messageContent:"Error Updating Relation",messageColor:"secondary"})},relationId:t.id,initialValues:{queryParams:{direction:t.direction.type,relationMetadata:t.value}}})},cf=Object(m.c)(oa,de)((function(e){var t=e.itemRelationType,n=e.openRemove,a=e.submitForm,r=e.onRefresh,o=e.openSnackBar;return Object(ie.jsx)(zx,{editComponent:of,displayComponent:rf,cardHeaderProps:{subheader:"Relation ID: ".concat(t.id)},itemRelationType:t,onRemove:n(t.id),onSave:function(){return a(nf)},onRefresh:r,openSnackBar:o})}));function sf(e){var t=e.itemRelationListDocument,n=e.openRemove,a=e.onRefresh;if(void 0===t)return null;var r=t.relation;return(void 0===r?[]:r).map((function(e){return Object(ie.jsx)(cf,{itemRelationType:e,openRemove:n,onRefresh:a},e.id)}))}function lf(e){var t=e.onClose,n=e.isOpen,a=e.relationId,r=e.onRemove;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Relation ".concat(a," ?")}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:r(a),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var uf="ITEM_RELATION_REMOVE_MODAL",jf=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.openRemove=a.openRemove.bind(Object(M.a)(a)),a.onRemove=a.onRemove.bind(Object(M.a)(a)),a.state={itemRelationListDocument:void 0,currentRelationId:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.setOnRefresh;this.onRefresh(),e(this.onRefresh)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onRefresh(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(wx)}},{key:"onRemove",value:function(e){var t=this,n=this.props,a=n.openSnackBar,r=n.onClose;return function(){W.s.removeRelation({relationId:e}).then((function(){var n='Relation "'.concat(e,'" Removed');a({messageContent:n}),r(),t.onRefresh()})).catch((function(){a({messageContent:"Error Removing Relation",messageColor:"secondary"})}))}}},{key:"openRemove",value:function(e){var t=this,n=this.props.onOpen;return function(){t.setState({currentRelationId:e},(function(){return n({modalName:uf})}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemId,a=t.titleComponent,r=t.tabComponent,o=t.onClose,c=t.modalName,i=this.state,s=i.itemRelationListDocument,l=i.currentRelationId;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:s,codeModal:"ItemRelationListDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(_x,{itemId:n,onSuccess:function(t){return e.setState({itemRelationListDocument:t.data})}}),s&&Object(ie.jsx)(sf,{itemId:n,itemRelationListDocument:s,openRemove:this.openRemove,onRefresh:this.onRefresh}),Object(ie.jsx)(lf,{isOpen:c===uf,onClose:o,onRemove:this.onRemove,relationId:l})]})}}]),n}(o.a.PureComponent),df=Object(m.c)(oa,de)(jf),mf=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.itemId;this.props.itemId!==t&&(this.onFetch(t),document.title="xray | Item | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.itemId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.d.listItemBulkyMetadata({itemId:e}).then((function(e){return t.setState({uriListDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Item",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:a,codeModal:"URIListDocument",onRefresh:this.onRefresh}),n&&Object(ie.jsx)(n,{}),a&&Object(ie.jsx)(Xe,{uriListDocument:a})]})}}]),n}(o.a.PureComponent)),bf=function(e){var t=e.uri;return Object(ie.jsx)(nn,{title:"URI Type",value:t.type})},hf=function(e){var t=e.shape;return Object(ie.jsx)(nn,{title:"Shape Tag",variant:"shape-tag",value:t.tag})},Of=function(e){var t=e.metadata;return Object(ie.jsx)(nn,{title:"Metadata Field",variant:"metadata-field",value:t.field})},pf=function(e){var t=e.access;return Object(ie.jsxs)(ie.Fragment,{children:[t.user&&Object(ie.jsx)(nn,{title:"User",variant:"username",value:t.user}),t.group&&Object(ie.jsx)(nn,{title:"Group",variant:"group",value:t.group}),Object(ie.jsx)(nn,{title:"Permission",value:t.permission}),Object(ie.jsx)(nn,{title:"Grantor",variant:"username",value:t.grantor}),Object(ie.jsx)(nn,{title:"Recursive",variant:"boolean",value:t.recursive}),Object(ie.jsx)(nn,{title:"Priority",value:t.priority}),t.operation&&t.operation.uri&&Object(ie.jsx)(bf,{uri:t.operation.uri}),t.operation&&t.operation.shape&&Object(ie.jsx)(hf,{shape:t.operation.shape}),t.operation&&t.operation.metadata&&Object(ie.jsx)(Of,{metadata:t.operation.metadata})]})};function xf(e){var t=e.accessControlDocument;return Object(ie.jsx)(pf,{access:t})}function ff(e){var t,n=e.accessControlDocument,a=e.entityType,r=e.entityId,o=e.openRemove,c=n.id;return"OWNER"!==n.permission&&(t=Object(ie.jsx)(_.a,{onClick:o(c),children:Object(ie.jsx)(Dt.a,{})})),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{subheader:n.id,action:t}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(xf,{accessControlDocument:n,entityType:a,entityId:r})})]})}function vf(e){var t=e.accessControlDocument,n=e.onRefresh,a=e.entityType,r=e.entityId,o=e.openRemove;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(ff,{accessControlDocument:t,onRefresh:n,entityType:a,entityId:r,openRemove:o})})})}function gf(e){var t=e.accessControlListDocument,n=void 0===t?{}:t,a=e.onRefresh,r=e.entityType,o=e.entityId,c=e.openRemove,i=e.openCreate,s=n.access,l=void 0===s?[]:s;return Object(ie.jsxs)(ie.Fragment,{children:[i&&Object(ie.jsx)(Ce.a,{action:Object(ie.jsx)(_.a,{onClick:i,children:Object(ie.jsx)(q.a,{})})}),l.map((function(e){return Object(ie.jsx)(vf,{accessControlDocument:e,onRefresh:a,entityType:r,entityId:o,openRemove:c},e.id)}))]})}function yf(e){var t=e.closeModal,n=e.isOpen,a=e.accessId,r=e.onRemove;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Import Setting ".concat(a," ?")}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Su.a,{children:"Users may no longer be able to access this."})}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:r(a),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var Sf=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(M.a)(a));var r=e.meta,o=e.choices,c=void 0===o?{}:o,i=r.initial,s=void 0===i?{}:i,l=Object.keys(c).find((function(e){return Object.keys(s).includes(e)}));return a.state={value:l||""},a}return Object(N.a)(n,[{key:"handleChange",value:function(e){var t=e.target.value,n=this.state.value,a=this.props.input,r=a.value,o=a.onChange;r?o(Ka()(r,{[t]:{$set:""},$unset:[n]})):o({[t]:""});this.setState({value:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.label,a=e.choices,r=void 0===a?{}:a,o=(e.input,Object(ye.a)(e,["children","label","choices","input"])),c=this.state.value,i=c?r[c]:null;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ea.a,{children:n}),Object(ie.jsx)(yt.a,Object(u.a)(Object(u.a)({},o),{},{select:!0,value:c,FormHelperTextProps:{focused:!0},onChange:this.handleChange,children:t})),i]})}}]),n}(o.a.PureComponent),Cf=function(){return Object(ie.jsx)(At.a,{name:"field",label:"Metadata Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0})},Rf=function(){return Object(ie.jsx)(At.a,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,creatable:!0,cacheOptions:!0,isClearable:!0})},If=function(){return Object(ie.jsx)(At.a,{name:"type",component:St,label:"URI Type",fullWidth:!0})},Df=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"priority",component:St,label:"Priority",type:"number",fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"permission",children:"Permission"}),Object(ie.jsxs)(At.a,{name:"permission",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"READ",children:"Read"}),Object(ie.jsx)(Cn.a,{value:"WRITE",children:"Write"}),Object(ie.jsx)(Cn.a,{value:"ALL",children:"All"}),Object(ie.jsx)(Cn.a,{value:"OWNER",children:"Owner"}),Object(ie.jsx)(Cn.a,{value:"NONE",children:"None"})]})]}),Object(ie.jsx)(hj,{name:"grantor",label:"Grantor",isClearable:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"recursive",component:Wt}),label:"Recursive"})]})},Ff=function(){return Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"allowDuplicate",component:Wt}),label:"Allow Duplicate"})};var kf=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsxs)(At.a,{name:"accessControlDocument",component:Sf,label:"Entity",fullWidth:!0,choices:{user:Object(ie.jsx)(hj,{name:"accessControlDocument.user",label:"User",isClearable:!0,fullWidth:!0}),group:Object(ie.jsx)(Cm,{name:"accessControlDocument.group",label:"Group",isClearable:!0,fullWidth:!0})},children:[Object(ie.jsx)(Cn.a,{value:"user",children:"User"}),Object(ie.jsx)(Cn.a,{value:"group",children:"Group"})]}),Object(ie.jsxs)(At.a,{name:"accessControlDocument.operation",component:Sf,label:"Operation",fullWidth:!0,choices:{metadata:Object(ie.jsx)(Ct.a,{name:"accessControlDocument.operation.metadata",component:Cf}),shape:Object(ie.jsx)(Ct.a,{name:"accessControlDocument.operation.shape",component:Rf}),uri:Object(ie.jsx)(Ct.a,{name:"accessControlDocument.operation.uri",component:If})},children:[Object(ie.jsx)(Cn.a,{value:"metadata",children:"Metadata"}),Object(ie.jsx)(Cn.a,{value:"shape",children:"Shape"}),Object(ie.jsx)(Cn.a,{value:"uri",children:"URI"})]}),Object(ie.jsx)(Ct.a,{name:"accessControlDocument",component:Df}),Object(ie.jsx)(Ct.a,{name:"queryParams",component:Ff}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Tf(e,t,n){var a=e.groupName,r=e.queryParams,o={RunAs:n.userName};return W.a.updateImportAccessGroup({groupName:a,queryParams:r,headers:o}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Pf(e,t,n){var a=e.accessControlDocument,r=e.queryParams,o=n.entityId,c=n.entityType;return W.a.createEntityAccess({entityType:c,entityId:o,queryParams:r,accessControlDocument:a}).then((function(e){return{accessControlDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Ef(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.entityType||e.entityType,c=n.entityId||e.entityId;return W.a.getEntityAccessMerged({entityType:o,entityId:c,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Nf="EDIT_ACCESSCONTROL_FORM";var Mf=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.onClose,a=e.open,r=e.onRefresh,o=e.openSnackBar,c=e.entityType,i=e.entityId;return Object(ie.jsxs)(Oe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Create Access Control"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(kf,{form:Nf,onSubmit:Pf,onSubmitSuccess:function(){o({messageContent:"Access Control Created"}),r&&r(),n()},onSubmitFail:function(){o({messageContent:"Error Creating Access Control",messageColor:"secondary"})},entityType:c,entityId:i,initialValues:{queryParams:{allowDuplicate:!0}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(Nf)},children:"Save"})]})]})})),Af="ACCESSCONTROL_REMOVE_MODAL",Lf="ACCESSCONTROL_CREATE_MODAL",Wf=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.openRemove=a.openRemove.bind(Object(M.a)(a)),a.onRemove=a.onRemove.bind(Object(M.a)(a)),a.state={accessControlListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.entityId,r=t.entityType;try{W.a.listEntityAccess({entityType:r,entityId:a}).then((function(e){return e.json()})).then((function(t){return e.setState({accessControlListDocument:t})}))}catch(o){n({messageContent:"Error Loading Access List",messageColor:"secondary"})}}},{key:"onRemove",value:function(e){var t=this,n=this.props,a=n.openSnackBar,r=n.closeModal,o=n.entityType,c=n.entityId;return function(){W.a.removeEntityAccess({accessId:e,entityId:c,entityType:o}).then((function(){var n='Access Control "'.concat(e,'" Removed');a({messageContent:n}),r(),t.onRefresh()})).catch((function(){a({messageContent:"Error Removing Access Control",messageColor:"secondary"})}))}}},{key:"openRemove",value:function(e){var t=this,n=this.props.openModal;return function(){t.setState({currentAccessId:e},(function(){return n({modalName:Af})}))}}},{key:"render",value:function(){var e=this.state,t=e.accessControlListDocument,n=e.currentAccessId,a=this.props,r=a.entityType,o=a.entityId,c=a.closeModal,i=a.modalName,s=a.openModal,l=a.titleComponent,u=a.tabComponent;return Object(ie.jsxs)(ie.Fragment,{children:[l&&Object(ie.jsx)(l,{onRefresh:this.onRefresh,codeModal:"AccessControlListDocument",code:t,createModal:Lf}),u&&Object(ie.jsx)(u,{}),Object(ie.jsx)(gf,{accessControlListDocument:t,openCreate:l?void 0:function(){return s({modalName:Lf})},entityType:r,entityId:o,onRefresh:this.onRefresh,openRemove:this.openRemove}),n&&Object(ie.jsx)(yf,{isOpen:i===Af,closeModal:c,onRemove:this.onRemove,accessId:n}),Object(ie.jsx)(Mf,{isOpen:i===Lf,closeModal:c,entityType:r,entityId:o,onRefresh:this.onRefresh})]})}}]),n}(o.a.PureComponent);var wf={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},_f=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),wf)(Wf),Vf=function(e){var t=e.access;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Permission",value:t.permission}),Object(ie.jsx)(nn,{title:"Type",value:t.type}),Object(ie.jsx)(nn,{title:"Priority",value:t.priority}),t.username&&Object(ie.jsx)(nn,{title:"User",variant:"username",value:t.username}),t.group&&Object(ie.jsx)(nn,{title:"Group",variant:"group",value:t.group}),t.grantor&&Object(ie.jsx)(nn,{title:"Grantor",variant:"username",value:t.grantor}),t.extradata&&Object(ie.jsx)(nn,{title:"Extra Data",value:t.extradata}),t.collection&&Object(ie.jsx)(nn,{title:"Collection",variant:"collection",value:t.collection}),t.library&&Object(ie.jsx)(nn,{title:"Library",variant:"collection",value:t.library}),t.superUser&&Object(ie.jsx)(nn,{title:"Super User",variant:"boolean",value:t.superUser}),t.matches&&Object(ie.jsx)(nn,{title:"Matches",variant:"boolean",value:t.matches}),t.id&&Object(ie.jsx)(nn,{title:"ID",value:t.id}),t.effectivePermission&&Object(ie.jsx)(nn,{title:"Effective Permission",value:t.effectivePermission})]})};function Bf(e){var t=e.accessControlMergedDocument,n=(void 0===t?{}:t).access,a=void 0===n?[]:n;return Object(ie.jsx)(ie.Fragment,{children:a.map((function(e,t){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Vf,{access:e})})},t)}))})}var Uf=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"username",label:"User",component:yl,loadOptions:mj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"permission",children:"Permission"}),Object(ie.jsxs)(Lt,{name:"permission",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"NONE",children:"None"}),Object(ie.jsx)(Cn.a,{value:"READ",children:"Read"}),Object(ie.jsx)(Cn.a,{value:"WRITE",children:"Write"}),Object(ie.jsx)(Cn.a,{value:"ALL",children:"All"}),Object(ie.jsx)(Cn.a,{value:"OWNER",children:"Owner"})]})]}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Type"}),Object(ie.jsxs)(Lt,{name:"type",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"GENERIC",children:"Generic"}),Object(ie.jsx)(Cn.a,{value:"URI",children:"URI"}),Object(ie.jsx)(Cn.a,{value:"SHAPE",children:"Shape"}),Object(ie.jsx)(Cn.a,{value:"METADATA",children:"Metadata"})]})]}),Object(ie.jsx)(Lt,{name:"Extra Data",label:"extradata",component:St,fullWidth:!0})]})};var qf=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:Uf,fullWidth:!0})]})})),Gf="ACCESS_PARAMS_FORM";var Hf=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.entityType,i=e.entityId,s=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","entityType","entityId"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Access Control Merged Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(Q.a,{container:!0,children:Object(ie.jsx)(Q.a,{item:!0,xs:!0,children:Object(ie.jsx)(qf,Object(u.a)({form:Gf,onSubmit:Ef,onSubmitSuccess:function(e,n,a){t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Access Control Merged Display",messageColor:"secondary"}),n&&n(e,t,r)},entityType:c,entityId:i},s))})})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(Gf)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(Gf)},children:"Update"})]})]})})),Jf=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={accessControlMergedDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(Gf)}},{key:"render",value:function(){var e=this,t=this.state.accessControlMergedDocument,n=this.props,a=n.titleComponent,r=n.tabComponent,o=n.entityId,c=n.entityType;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{onRefresh:this.onRefresh,codeModal:"AccessControlMergedDocument",code:t}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(Hf,{entityId:o,entityType:c,onSuccess:function(t){return e.setState({accessControlMergedDocument:t.data})}}),Object(ie.jsx)(Bf,{accessControlMergedDocument:t})]})}}]),n}(o.a.PureComponent));function zf(e){var t=e.labels,n=void 0===t?[]:t;return Object(ie.jsx)(Q.a,{container:!0,children:n.map((function(e){return Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(w.a,{label:e})},e)}))})}function Kf(e){var t=e.storageRuleDocument,n=e.onRemove;return Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:t.appliesTo.id}),Object(ie.jsx)(Vn,{children:t.appliesTo.type}),Object(ie.jsx)(Vn,{children:t.id}),Object(ie.jsx)(Vn,{children:t.storageCount}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(zf,{labels:t.storage})}),Object(ie.jsx)(Vn,{children:t.precedence}),Object(ie.jsx)(Vn,{children:!0===t.inherited&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:Object(ie.jsx)(_.a,{onClick:function(){return n({storageRuleDocument:t})},children:Object(ie.jsx)(ee.a,{})})})]})}var Yf="REMOVE_STORAGERULE_DIALOG";var Xf=Gn((function(e){var t=e.storageRulesDocument,n=e.onRefresh,a=e.dialogProps,r=e.onOpen,o=t.tag,c=void 0===o?[]:o;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Entity"}),Object(ie.jsx)(Vn,{children:"Type"}),Object(ie.jsx)(Vn,{children:"ID"}),Object(ie.jsx)(Vn,{children:"Count"}),Object(ie.jsx)(Vn,{children:"Storage"}),Object(ie.jsx)(Vn,{children:"Precedence"}),Object(ie.jsx)(Vn,{children:"Inherited"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:c.map((function(e){return Object(ie.jsx)(Kf,{storageRuleDocument:e,onRemove:r(Yf)},"".concat(e.appliesTo.id,"_").concat(e.appliesTo.type,"_").concat(e.id))}))})]}),Object(ie.jsx)(Ll,Object(u.a)(Object(u.a)({},a),{},{dialogName:Yf,onSuccess:n}))]})}));var Qf=T((function(e){var t=e.createModal,n=e.title,a=e.onOpen,r=Object(ye.a)(e,["createModal","title","onOpen"]);return Object(ie.jsxs)(Ie,{children:[t&&Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:n}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(_.a,{onClick:function(){return a({modalName:t})},children:Object(ie.jsx)(q.a,{})})})})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Xf,Object(u.a)({},r))})]})}));var $f=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess,o=e.entityType,c=e.entityId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Storage Rule"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:Nl,documentName:"storageRuleDocument",onSubmit:ul,onSubmitSuccess:function(e){a({messageContent:"Storage Rule Created"}),n(),r&&r(e)},onSubmitFail:function(){a({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})},onCancel:n,entityType:o,entityId:c})})]})})),Zf="STORAGERULE_DIALOG",ev=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={storageRulesDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.entityId,r=t.entityType;try{W.O.getEntityStorageRule({entityId:a,entityType:r}).then((function(t){return e.setState({storageRulesDocument:t.data})}))}catch(o){n({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.entityId,n=e.entityType,a=e.titleComponent,r=e.tabComponent,o=this.state.storageRulesDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{onRefresh:this.onRefresh,codeModal:"StorageRulesDocument",code:o,createModal:Zf}),r&&Object(ie.jsx)(r,{}),o&&Object(ie.jsx)(Qf,{onRefresh:this.onRefresh,storageRulesDocument:o,createModal:a?void 0:Zf}),Object(ie.jsx)($f,{dialogName:Zf,onSuccess:this.onRefresh,entityId:t,entityType:n})]})}}]),n}(o.a.PureComponent));function tv(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Deletion Lock",helpTo:"/ref/deletion-lock.html"},e))}function nv(e){var t=e.queryParams;return W.j.listDeletionLock({queryParams:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function av(e,t,n){var a=e.queryParams,r=n.entityType,o=n.entityId;return W.j.listEntityDeletionLock({entity:r,entityId:o,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function rv(e,t,n){var a=e.deletionLockDocument,r=n.lockId||a.id;return W.j.updateDeletionLock({lockId:r,deletionLockDocument:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ov(e,t,n){var a=e.deletionLockDocument,r=n.entityType||a.entityType,o=n.entityId||a.entityId;return W.j.createEntityDeletionLock({entity:r,entityId:o,deletionLockDocument:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var cv=function(e){var t=e.entityType;return Object(ie.jsxs)(ie.Fragment,{children:[!t&&Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"entityTypes",children:"Entity Types"}),Object(ie.jsxs)(Lt,{name:"entityTypes",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"Collection"}),Object(ie.jsx)(Cn.a,{value:"file",children:"File"}),Object(ie.jsx)(Cn.a,{value:"all",children:"All"})]})]}),Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"username",component:yl,loadOptions:mj,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"range",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"onlyEffective",component:Wt}),label:"Only Effective"}),Object(ie.jsx)(Nt,{name:"metadata",label:"Metadata",component:Xa})]})};var iv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.entityType;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:cv,entityType:a}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var sv=Object(m.c)(de,oa)((function(e){var t=e.onClose,n=e.onSuccess,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.form,i=void 0===c?"DELETIONLOCKLIST_FILTER_FORM":c,s=e.changeForm,l=e.entityId,u=e.entityType,j=function(){var e=Object(uj.a)(lj.a.mark((function e(){return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(i,"queryParams.first",1);case 2:r(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(iv,{form:i,onSubmit:u?av:nv,onSubmitSuccess:function(e,t,a){n&&n(e,t,a)},onSubmitFail:function(){a({messageContent:"Error Listing Deletion Lock list",messageColor:"secondary"})},onCancel:t,initialValues:{queryParams:{entityTypes:"all",onlyEffective:!1}},entityId:l,entityType:u})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(i)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:j,children:"Filter"})]})]})}));function lv(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(sv,Object(u.a)({},t))})})}function uv(e){var t=e.deletionLockType,n=void 0===t?{}:t,a=n.id,r=n.user,o=n.expiryTime,c=n.modified,i=n.entityType,s=n.entityId,l=n.isEffective,u=n.isInherited,j=n.isExpired;return Object(ie.jsxs)(Un,{hover:!0,to:"/deletion-lock/".concat(a,"/"),children:[Object(ie.jsx)(Vn,{children:a}),Object(ie.jsx)(Vn,{children:r}),Object(ie.jsx)(Vn,{children:o?qt()(o).toString():""}),Object(ie.jsx)(Vn,{children:c?qt()(c).toString():""}),Object(ie.jsx)(Vn,{children:i}),Object(ie.jsx)(Vn,{children:s}),Object(ie.jsx)(Vn,{children:l&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{children:u&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{children:j&&Object(ie.jsx)(Kr.a,{})})]})}function jv(e){var t=e.deletionLockListDocument,n=e.count,a=void 0===n?0:n,r=e.page,o=void 0===r?0:r,c=e.rowsPerPage,i=void 0===c?100:c,s=e.onChangePage,l=e.onChangeRowsPerPage,u=t.lock,j=void 0===u?[]:u,d=[100,250,500];return d.includes(i)||d.push(i),Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Lock ID"}),Object(ie.jsx)(Vn,{children:"Username"}),Object(ie.jsx)(Vn,{children:"Expiry Time"}),Object(ie.jsx)(Vn,{children:"Modified"}),Object(ie.jsx)(Vn,{children:"Entity Type"}),Object(ie.jsx)(Vn,{children:"Entity ID"}),Object(ie.jsx)(Vn,{children:"Effective"}),Object(ie.jsx)(Vn,{children:"Inherited"}),Object(ie.jsx)(Vn,{children:"Expired"})]})}),Object(ie.jsx)(_n,{children:j.map((function(e){return Object(ie.jsx)(uv,{deletionLockType:e},e.id)}))}),Object(ie.jsx)(yj,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Cj,{count:a,page:o,rowsPerPage:i,onChangePage:s,onChangeRowsPerPage:l,ActionsComponent:qe,rowsPerPageOptions:d})})})]})}function dv(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(jv,Object(u.a)({},t))})})}var mv=function(e){var t=e.showMetadataType,n=e.isNew,a=e.entityId,r=e.entityType;return Object(ie.jsxs)(ie.Fragment,{children:[!n&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"id",component:St,fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"user",component:St,fullWidth:!0,disabled:!0})]}),Object(ie.jsx)(Lt,{name:"expiryTime",component:St,fullWidth:!0}),!n&&Object(ie.jsx)(Lt,{name:"modified",component:St,fullWidth:!0,disabled:!0}),!r&&Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"entityType",children:"Entity Type"}),Object(ie.jsxs)(Lt,{name:"entityType",component:gt,required:n,disabled:!n,children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"Collection"}),Object(ie.jsx)(Cn.a,{value:"file",children:"File"})]})]}),!a&&Object(ie.jsx)(Lt,{name:"entityId",component:St,fullWidth:!0,required:n,disabled:!n}),!n&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"isEffective",component:Wt,disabled:!0}),label:"Effective"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"isInherited",component:Wt,disabled:!0}),label:"Inherited"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"isExpired",component:Wt,disabled:!0}),label:"Expired"})]}),t&&Object(ie.jsx)(Mt,{name:"metadata",component:Qa})]})};var bv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.showMetadataType,r=e.isNew,o=e.entityId,c=e.entityType;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"deletionLockDocument",component:mv,entityId:o,entityType:c,showMetadataType:a,isNew:r}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var hv=de((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.entityId,c=e.entityType;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Deletion Lock"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:bv,documentName:"deletionLockDocument",onSubmit:ov,onSubmitSuccess:function(e,t,o){r({messageContent:"Deletion Lock Created"}),n(),a&&a(e,t,o)},onSubmitFail:function(){r({messageContent:"Error Creating Deletion Lock",messageColor:"secondary"})},onCancel:n,entityId:o,entityType:c,initialStep:1,showMetadataType:!0,isNew:!0})})]})})),Ov="DELETIONLOCKLIST_FILTER_FORM",pv="DELETIONLOCK_CREATE_MODAL",xv=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSuccess=a.onSuccess.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.state={deletionLockListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Deletion Lock",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(Ov)}},{key:"onSuccess",value:function(e){var t=e.data,n=this.props.formValues,a=(void 0===n?{}:n).queryParams,r=void 0===a?{}:a,o=r.first,c=void 0===o?1:o,i=r.number,s=void 0===i?100:i,l=t.count,u=void 0===l?0:l,j=Math.ceil(u/s)-Math.ceil((u-c)/s);this.setState({count:u,rowsPerPage:s,page:j,deletionLockListDocument:t})}},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.props,r=a.formValues,o=void 0===r?{}:r,c=a.changeForm,i=o.queryParams,s=(void 0===i?{}:i).number,c(Ov,"queryParams.first",n*(l=void 0===s?100:s)),e.next=8,c(Ov,"queryParams.number",l);case 8:this.onRefresh();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,(a=this.props.changeForm)(Ov,"queryParams.first",1),e.next=6,a(Ov,"queryParams.number",n);case 6:this.onRefresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.deletionLockListDocument,n=e.count,a=e.page,r=e.rowsPerPage,o=this.props,c=o.history,i=o.entityId,s=o.entityType,l=o.titleComponent,u=void 0===l?tv:l;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(u,{code:t,codeModal:"DeletionLockListDocument",onRefresh:this.onRefresh,createModal:pv}),Object(ie.jsx)(lv,{form:Ov,onSuccess:this.onSuccess,entityId:i,entityType:s}),t&&Object(ie.jsx)(dv,{deletionLockListDocument:t,count:n,page:a,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,entityId:i,entityType:s}),Object(ie.jsx)(hv,{dialogName:pv,onSuccess:i?this.onRefresh:function(e){var t=e.data;return c.push("/deletion-lock/".concat(t.id))},entityId:i,entityType:s})]})}}]),n}(o.a.PureComponent),fv=Object(m.c)(oa,kj)(xv,Ov),vv=new URLSearchParams({content:"metadata",field:["title","originalFilename"],terse:!0}),gv=function(e){return Object(d.d)("/item/?".concat(vv.toString()),e)},yv=function(e){var t=e.itemId;return Object(ie.jsxs)(Q.a,{container:!0,alignItems:"center",children:[Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",children:"Item"})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(_.a,{disabled:!0,children:Object(ie.jsx)(H.a,{})})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(X.a,{variant:"h5",component:j.b,to:gv({itemId:t}),style:{textDecoration:"none"},children:t})})]})};var Sv=T((function(e){var t=e.itemId,n=e.onOpen,a=e.removeModal,r=e.transcodeModal,o=e.relationModal,c=e.thumbnailModal,i=e.posterModal,s=e.exportModal,l=e.exportImpModal,j=e.addToCollectionModal,d=e.startJobModal,m=e.title,b=e.createModal,h=e.createTooltip,O=void 0===h?"New":h,p=Object(ye.a)(e,["itemId","onOpen","removeModal","transcodeModal","relationModal","thumbnailModal","posterModal","exportModal","exportImpModal","addToCollectionModal","startJobModal","title","createModal","createTooltip"]);return Object(ie.jsx)(ge,Object(u.a)({grandParentTitle:"Item",grandParentTo:gv(),parentTitle:t,title:m,helpTo:"/ref/item/item.html",entityId:t,entityType:"item",removeModal:a,actionComponent:Object(ie.jsxs)(ie.Fragment,{children:[b&&Object(ie.jsx)($.a,{title:O,children:Object(ie.jsx)(_.a,{onClick:function(){return n({modalName:b})},children:Object(ie.jsx)(q.a,{})})}),Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{children:Object(ie.jsx)(ze,{to:"/import?tab=IMPORTCOMPONENT_TAB&itemId=".concat(t),children:Object(ie.jsx)(X.a,{children:"Import Component"})})}),Object(ie.jsx)(ze,{to:"/import?tab=IMPORTSIDECAR_TAB&itemId=".concat(t),children:Object(ie.jsx)(Cn.a,{children:Object(ie.jsx)(X.a,{color:"inherit",children:"Import Sidecar"})})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:j})},children:Object(ie.jsx)(X.a,{children:"Add To Collection"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:o})},children:Object(ie.jsx)(X.a,{children:"Add Relation"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:d})},children:Object(ie.jsx)(X.a,{children:"Start Job"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:r})},children:Object(ie.jsx)(X.a,{children:"Transcode"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:c})},children:Object(ie.jsx)(X.a,{children:"Create Thumbnail"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:i})},children:Object(ie.jsx)(X.a,{children:"Create Poster"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:s})},children:Object(ie.jsx)(X.a,{children:"Export"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:l})},children:Object(ie.jsx)(X.a,{children:"Export IMF Package"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:a})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Delete"})})]})]})},p))})),Cv=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"keepShapeTagMedia",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"Storage",component:St,fullWidth:!0})]})};var Rv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Cv}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Iv="ITEM_DELETE_FORM";var Dv=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Delete Item ".concat(i)}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(Rv,{form:Iv,onSubmit:XO,onSubmitSuccess:function(e,t,r){o({messageContent:"Item Deleted"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Deleting Item",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return c(Iv)},children:"Delete"})]})]})})),Fv=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(Lt,{name:"createPosters",label:"Poster Timecodes",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"destinationItem",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"original",label:"Reset Original",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(ie.jsx)(Lt,{name:"thumbnailService",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"overrideFastStart",component:Wt}),label:"Override FastStart"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"requireFastStart",component:Wt}),label:"Require FastStart"}),Object(ie.jsx)(Lt,{name:"fastStartLength",component:St,fullWidth:!0})]})};var kv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.itemId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"itemId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:Fv}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Tv="EDIT_ITEM_TRANSCODE_FORM";var Pv=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Start Transcode"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(kv,{form:Tv,onSubmit:np,onSubmitSuccess:function(e,t,r){o({messageContent:"Transcode Job Created"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(Tv)},children:"Start"})]})]})})),Ev=function(e){var t=e.variant;return Object(ie.jsxs)(ie.Fragment,{children:["thumbnail"!==t&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"createPosters",label:"Poster Timecode",component:Ya,validate:[nu],simple:!0,required:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"posterWidth",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"posterHeight",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"posterFormat",children:"Poster Format"}),Object(ie.jsxs)(Lt,{name:"posterFormat",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"jpeg",children:"JPEG"}),Object(ie.jsx)(Cn.a,{value:"png",children:"PNG"})]})]})]}),"poster"!==t&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"createThumbnails",label:"Thumbnail Timecode",component:Ya,validate:[nu],simple:!0,required:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"thumbnailWidth",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"thumbnailHeight",component:St,fullWidth:!0})]}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape-Tag Settings",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"version",label:"Item Essence ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"sourceTag",label:"Source Shape-Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"thumbnailService",label:"Thumbnail Service ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",label:"Notification ID",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]})};var Nv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.variant,r=e.itemId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!r&&Object(ie.jsx)(Lt,{name:"itemId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:Ev,variant:a}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Mv="ITEM_THUMBNAIL_FORM";var Av=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.variant,s=e.itemId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Start ".concat(i?He()(i):"Thumbnail"," Job")}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Nv,{form:Mv,onSubmit:ap,onSubmitSuccess:function(e,t,r){o({messageContent:"Thumbnail Job Created"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Thumbnail Job",messageColor:"secondary"}),r&&r(e,t,n)},variant:i,itemId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(Mv)},children:"Start"})]})]})})),Lv="ITEM_RELATION_FORM";var Wv=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Item-To-Item Relation"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Zx,{form:Lv,onSubmit:op,onSubmitSuccess:function(e,t,r){o({messageContent:"Relation Created"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Relation",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(Lv)},children:"Create"})]})]})})),wv=function(e){return new Promise((function(t,n){W.m.listExportLocation().then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(n){var a=n.exportLocation,r=void 0===a?[]:a,o=r;e&&"*"!==e&&(o=r.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})));var c=o.map((function(e){return{label:e.name,value:e.name}}));t(c)})).catch((function(e){n(e)}))}))};var _v=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"uri",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"locationName",label:"Export Location",component:yl,loadOptions:wv,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"metadata",component:Wt}),label:"Metadata Sidecar"}),Object(ie.jsx)(Lt,{name:"projection",label:"Projection",component:yl,loadOptions:Hd,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"useOriginalFilename",component:Wt}),label:"Use Original Filename"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"useOriginalComponentFilename",component:Wt}),label:"Use Original Component Filename"}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"start",label:"Start Timecode",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"end",label:"End Timecode",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"template",label:"Export Template",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allowMissing",component:Wt}),label:"Allow Missing"}),Object(ie.jsx)(Lt,{name:"track",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"version",component:St,fullWidth:!0})]})};var Vv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.itemId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"itemId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:_v}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Bv="ITEM_EXPORT_FORM";var Uv=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Export Item"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Vv,{form:Bv,onSubmit:KO,onSubmitSuccess:function(e,t,r){o({messageContent:"Export Started"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Starting Export",messageColor:"secondary"}),r&&r(e,t,n)},onCancel:n,itemId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(Bv)},children:"Start"})]})]})})),qv=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"uri",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"locationName",label:"Export Location",component:yl,loadOptions:wv,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"metadata",component:Wt}),label:"Metadata Sidecar"}),Object(ie.jsx)(Lt,{name:"projection",label:"Projection",component:yl,loadOptions:Hd,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"useOriginalFilename",component:Wt}),label:"Use Original Filename"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"useOriginalComponentFilename",component:Wt}),label:"Use Original Component Filename"}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"start",label:"Start Timecode",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"end",label:"End Timecode",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"template",label:"Export Template",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allowMissing",component:Wt}),label:"Allow Missing"}),Object(ie.jsx)(Lt,{name:"track",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"cplTrack",label:"CPL Track",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"version",component:St,fullWidth:!0})]})};var Gv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.itemId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"itemId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:qv}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Hv="ITEM_EXPORTIMP_FORM";var Jv=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Export Item IMF Package"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Gv,{form:Hv,onSubmit:YO,onSubmitSuccess:function(e,t,r){o({messageContent:"Export Started"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Starting Export",messageColor:"secondary"}),r&&r(e,t,n)},onCancel:n,itemId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(Hv)},children:"Start"})]})]})})),zv=function(){return Object(ie.jsxs)(Q.a,{container:!0,spacing:8,children:[Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"key",label:"key",component:St,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:6,children:Object(ie.jsx)(Lt,{name:"value",label:"value",component:St,fullWidth:!0})})]})},Kv=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Entity Type"}),Object(ie.jsxs)(Lt,{name:"type",component:gt,validate:[nu],children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"Collection"}),Object(ie.jsx)(Cn.a,{value:"library",children:"Library"})]})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"addItems",component:Wt}),label:"Add Items"}),Object(ie.jsx)(Nt,{name:"metadata",label:"Relation Metadata",arrayHeader:!0,withHeader:!1,dense:!0,component:zv})]})};var Yv=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.collectionId,r=e.entityId,o=e.initialValues;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"collectionId",label:"Collection ID",component:St,fullWidth:!0}),!r&&Object(ie.jsx)(Lt,{name:"entityId",label:"Entity ID",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:Kv,initialValues:o}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Xv(e,t,n){var a=e.metadataDocument,r=void 0===a?{}:a,o=e.matrixParams,c=void 0===o?[]:o,i=e.queryParams,s=n.collectionId||e.collectionId;return W.e.updateCollectionMetadata({collectionId:s,metadataDocument:r,queryParams:i,matrixParams:Object.entries(c)}).then((function(e){return Object(u.a)({collectionId:s},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Qv(e,t,n){var a=e.matrixParams,r=void 0===a?[]:a,o=e.queryParams,c=void 0===o?{}:o,i=n.collectionId||e.collectionId;return W.e.getCollectionMetadata({collectionId:i,queryParams:c,matrixParams:Object.entries(r)}).then((function(e){return Object(u.a)({collectionId:i},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function $v(e,t,n){var a=e.queryParams,r=void 0===a?{}:a,o=n.collectionId||e.collectionId;return W.e.getCollection({collectionId:o,queryParams:r}).then((function(e){return Object(u.a)({collectionId:o},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Zv(e){var t=e.queryParams,n=void 0===t?{}:t,a=e.matrixParams,r=void 0===a?[]:a,o=e.itemSearchDocument,c=void 0===o?{}:o;return W.e.searchCollection({itemSearchDocument:c,queryParams:n,matrixParams:Object.entries(r)}).then((function(e){return Object(u.a)({queryParams:n,matrixParams:r,itemSearchDocument:c},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function eg(e){var t=e.queryParams,n=void 0===t?{}:t,a=e.collectionDocument,r=void 0===a?{}:a;return W.e.createCollection({collectionDocument:r,queryParams:n}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function tg(e,t,n){var a=e.queryParams,r=n.collectionId||e.collectionId;return W.e.renameCollection({collectionId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ng(e,t,n){var a=e.queryParams,r=n.collectionId||e.collectionId,o=n.entityId||e.entityId;return W.e.addCollectionEntity({collectionId:r,entityId:o,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function ag(e,t,n){var a=e.queryParams,r=n.collectionId||e.collectionId,o=n.entityId||e.entityId;return W.e.removeCollectionEntity({collectionId:r,entityId:o,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var rg="COLLECTION_ENTITY_ADD_FORM";var og=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.onSuccess,o=e.openSnackBar,c=e.onFail,i=e.collectionId,s=e.entityId,l=e.entityType;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Entity To Collection"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Yv,{onSubmit:ng,onSubmitSuccess:function(e,t,n){o({messageContent:"Collection Entity Added"}),r&&r(e,t,n),a()},onSubmitFail:function(e,t,n){o({messageContent:"Error Adding Collection Entity",messageColor:"secondary"}),c&&c(e,t,n)},form:rg,collectionId:i,entityId:s,initialValues:{queryParams:{type:l}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(rg)},children:"Add"})]})]})})),cg=n(14),ig=n(701),sg=n(385),lg=n.n(sg),ug=n(386),jg=n.n(ug),dg=n(629),mg=n(702),bg=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).handleDrawerOpen=a.handleDrawerOpen.bind(Object(M.a)(a)),a.handleDrawerClose=a.handleDrawerClose.bind(Object(M.a)(a)),a.state={open:e.defaultOpen||!1},a}return Object(N.a)(n,[{key:"handleDrawerOpen",value:function(){this.setState({open:!0})}},{key:"handleDrawerClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.listComponent,a=e.mainComponent,r=Object(ye.a)(e,["classes","listComponent","mainComponent"]),o=this.state.open;return Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsxs)(ig.a,{variant:"permanent",className:Object(cg.default)(t.drawer,{[t.drawerOpen]:o,[t.drawerClose]:!o}),classes:{paper:Object(cg.default)(t.paper,{[t.drawerOpen]:o,[t.drawerClose]:!o})},open:o,children:[Object(ie.jsx)(dg.a,{button:!0,onClick:o?this.handleDrawerClose:this.handleDrawerOpen,disableRipple:!0,disableGutters:!0,children:Object(ie.jsx)(mg.a,{children:o?Object(ie.jsx)(lg.a,{}):Object(ie.jsx)(jg.a,{})})}),Object(ie.jsx)(n,Object(u.a)({},r))]}),Object(ie.jsx)("div",{style:{flexGrow:1},children:Object(ie.jsx)(a,Object(u.a)({},r))})]})}}]),n}(o.a.PureComponent),hg=Object(Me.a)((function(e){return{drawer:{width:200,flexShrink:0,whiteSpace:"nowrap"},paper:{marginTop:54},drawerOpen:{width:200,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(4),[e.breakpoints.up("sm")]:{width:e.spacing(6)}}}}))(bg),Og=n(703);function pg(e){var t=e.listText,n=e.listItemProps,a=void 0===n?{}:n;return Object(ie.jsxs)(dg.a,Object(u.a)(Object(u.a)({style:{paddingLeft:8},disableGutters:!0,button:!0},a),{},{children:[Object(ie.jsx)(mg.a,{children:Object(ie.jsx)(Gr.a,{style:{height:25,width:25},children:t[0]})}),Object(ie.jsx)(Og.a,{secondary:t})]}))}var xg="ITEM_METADATA_TAB",fg="ITEM_REMOVE_DIALOG",vg="ITEM_TRANSCODE_DIALOG",gg="ITEM_RELATION_DIALOG",yg="ITEM_THUMBNAIL_DIALOG",Sg="ITEM_POSTER_DIALOG",Cg="ITEM_EXPORT_DIALOG",Rg="ITEM_IMPEXPORT_DIALOG",Ig="COLLECTION_ENTITY_ADD_DIALOG",Dg="JOB_CREATE_DIALOG",Fg="ITEM_ACCESSCONTROL_ADD_DIALOG",kg=[{tab:xg,listText:"Metadata",component:hp},{tab:"ITEM_CONTENT_TAB",listText:"Content",component:Ox},{tab:"ITEM_COLLECTION_TAB",listText:"Collection",component:vp},{tab:"ITEM_SHAPE_TAB",listText:"Shape",component:Ap},{tab:"ITEM_URI_TAB",listText:"URI",component:gx},{tab:"ITEM_THUMBNAIL_TAB",listText:"Thumbnail",component:Fx},{tab:"ITEM_POSTER_TAB",listText:"Poster",component:Ix},{tab:"ITEM_JOB_TAB",listText:"Job",component:kx},{tab:"ITEM_PROJECTION_TAB",listText:"Projection",component:Ax},{tab:"ITEM_RELATION_TAB",listText:"Relation",component:df},{tab:"ACCESS_TAB",listText:"Direct Access",component:_f},{tab:"ACCESSMERGED_TAB",listText:"Merged Access",component:Jf},{tab:"STORAGERULE_TAB",listText:"Storage Rules",component:ev},{tab:"BULKYMETADATA_TAB",listText:"Bulky Metadata",component:mf},{tab:"DELETIONLOCK_TAB",listText:"Deletion Locks",component:fv}],Tg=function(e){var t=e.onChangeTab,n=e.tabValue;return Object(ie.jsx)(TO.a,{children:kg.map((function(e){var a=e.tab,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{onClick:function(){return t(null,a)},selected:n===a||void 0}},r)}))})},Pg=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.setOnRefresh=a.setOnRefresh.bind(Object(M.a)(a)),a.state={onRefresh:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.itemId;document.title="xray | Item | ".concat(e)}},{key:"onRefresh",value:function(){var e=this.state.onRefresh;e&&e()}},{key:"setOnRefresh",value:function(e){this.setState({onRefresh:e})}},{key:"render",value:function(){var e=this.props,t=e.onChangeTab,n=e.tabValue,a=e.itemId,r=e.history,o=kg.find((function(e){return e.tab===n}))||kg[0],c=o.listText,i=o.component;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(hg,{mainComponent:i,listComponent:Tg,defaultOpen:!0,onChangeTab:t,tabValue:n,titleComponent:function(e){return Object(ie.jsx)(Sv,Object(u.a)({itemId:a,removeModal:fg,transcodeModal:vg,thumbnailModal:yg,relationModal:gg,posterModal:Sg,exportModal:Cg,exportImpModal:Rg,addToCollectionModal:Ig,startJobModal:Dg,addAccessControl:Fg,title:c},e))},itemId:a,entityId:a,entityType:"item",setOnRefresh:this.setOnRefresh}),Object(ie.jsx)(Dv,{dialogName:fg,onSuccess:function(){return r.push("/item/?content=metadata%2Cthumbnail&baseURI=%2FAPInoauth%2F&terse=true&noauth-url=true")},itemId:a}),Object(ie.jsx)(Pv,{dialogName:vg,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:a}),Object(ie.jsx)(Av,{dialogName:yg,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:a,variant:"thumbnail"}),Object(ie.jsx)(Av,{dialogName:Sg,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:a,variant:"poster"}),Object(ie.jsx)(Wv,{dialogName:gg,onSuccess:this.onRefresh,itemId:a}),Object(ie.jsx)(Uv,{dialogName:Cg,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:a}),Object(ie.jsx)(Jv,{dialogName:Rg,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:a}),Object(ie.jsx)(og,{dialogName:Ig,entityId:a,entityType:"item"}),Object(ie.jsx)(Mf,{dialogName:Fg,entityType:"item",entityId:a}),Object(ie.jsx)(od,{dialogName:Dg,initialValues:{queryParams:{jobmetadata:[{key:"itemId",value:a}]}}})]})}}]),n}(o.a.PureComponent),Eg=Object(m.c)(ca(xg),h)(Pg);function Ng(e){var t=Object.assign({},e);return Object(ie.jsx)(zO,Object(u.a)({onSubmit:Xv},t))}function Mg(e){var t=Object.assign({},e);return Object(ie.jsx)(mp,Object(u.a)({onSubmit:Qv},t))}var Ag=SO(Ng),Lg=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={metadataDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.collectionId;this.props.collectionId!==t&&(this.onFetch(t),document.title="xray | Collection | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.collectionId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.e.getCollectionMetadata({collectionId:e}).then((function(e){return t.setState({metadataDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Collection",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.collectionId,a=t.titleComponent,r=t.tabComponent,o=this.state.metadataDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:o,codeModal:"MetadataDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(Mg,{collectionId:n,onSuccess:function(t){return e.setState({metadataDocument:t.data})}}),o&&Object(ie.jsx)(Ag,{collectionId:n,metadataDocument:o,onSuccess:function(){return e.onRefresh()}})]})}}]),n}(o.a.PureComponent)),Wg=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"content",component:yl,isMulti:!0,options:[{value:"metadata",label:"metadata"},{value:"merged-access",label:"merged-access"},{value:"external",label:"external"}],fullWidth:!0}),Object(ie.jsx)(Lt,{name:"field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"group",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"interval",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"track",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"language",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"sampleRate",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"include",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"includeValues",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"revision",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mergedType",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mergedPermission",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mergedExtradata",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"defaultValue",component:Wt}),label:"Default Value"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"conflict",component:Wt}),label:"Conflict"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includeTransientMetadata",component:Wt}),label:"Include Transient Metadata"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"terse",component:Wt}),label:"Terse"})]})};var wg=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Wg}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),_g="COLLECTION_CONTENT_DISPLAY_FORM";var Vg=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Content Display Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(wg,Object(u.a)({form:_g,onSubmit:$v,onSubmitSuccess:function(e,n,r){a({messageContent:"Content Display Updated"}),t&&t(e,n,r)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Content Display",messageColor:"secondary"}),n&&n(e,t,r)}},c))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(_g)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(_g)},children:"Update"})]})]})})),Bg=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Entity Type"}),Object(ie.jsxs)(Lt,{name:"type",component:gt,validate:[nu],children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"Collection"}),Object(ie.jsx)(Cn.a,{value:"library",children:"Library"})]})]})})};var Ug=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"collectionId",label:"Collection ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"entityId",label:"Entity ID",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:Bg})]})})),qg="COLLECTION_ENTITY_REMOVE_FORM";var Gg=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.onSuccess,o=e.openSnackBar,c=e.onFail,i=e.collectionId,s=e.entityId,l=e.entityType;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Entity From Collection"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Ug,{onSubmit:ag,onSubmitSuccess:function(e,t,n){o({messageContent:"Collection Entity Removed"}),r&&r(e,t,n),a()},onSubmitFail:function(e,t,n){o({messageContent:"Error Removing Collection Entity",messageColor:"secondary"}),c&&c(e,t,n)},form:qg,collectionId:i,entityId:s,initialValues:{entityId:s,collectionId:i,queryParams:{type:l}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return t(qg)},children:"Remove"})]})]})})),Hg="REMOVE_COLLECTION_ENTITY_DIALOG";var Jg=Gn((function(e){var t=e.collectionDocument,n=e.onSuccess,a=e.onOpen,r=e.dialogProps,o=t.content,c=void 0===o?[]:o,i=t.id,s=a(Hg);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"ID"}),Object(ie.jsx)(ke.a,{children:"Type"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:c.map((function(e){return Object(ie.jsxs)(Pe.a,{hover:!0,children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/".concat(e.type.toLowerCase(),"/").concat(e.id,"/"),children:e.id})}),Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/".concat(e.type.toLowerCase(),"/").concat(e.id,"/"),children:Zt(e.type)})}),Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(_.a,{onClick:function(){return s({entityType:e.type,entityId:e.id})},children:Object(ie.jsx)(ee.a,{})})})]},"".concat(e.type,"_").concat(e.id))}))})]}),Object(ie.jsx)(Gg,Object(u.a)({dialogName:Hg,onSuccess:n,collectionId:i},r))]})})),zg=function(){return Object(ie.jsx)(Lt,{name:"name",component:St,fullWidth:!0})};var Kg=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:zg}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Yg="COLLECTION_RENAME_FORM";var Xg=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.onSuccess,o=e.openSnackBar,c=e.onFail,i=e.collectionId,s=e.collectionDocument,l={queryParams:{name:(void 0===s?{}:s).name}};return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Rename Collection"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Kg,{onSubmit:tg,onSubmitSuccess:function(e,t,n){o({messageContent:"Collection Name Updated"}),r&&r(e,t,n),a()},onSubmitFail:function(e,t,n){o({messageContent:"Error Updating Collection Name",messageColor:"secondary"}),c&&c(e,t,n)},form:Yg,collectionId:i,initialValues:l})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(Yg)},children:"Update"})]})]})})),Qg="COLLECTION_RENAME_DIALOG",$g="COLLECTION_ENTITY_ADD_DIALOG",Zg=SO(Jg),ey=SO(Ng),ty=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={collectionDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.collectionId;this.props.collectionId!==t&&(this.onFetch(t),document.title="xray | Collection | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.collectionId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.e.getCollection({collectionId:e}).then((function(e){return t.setState({collectionDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Collection",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onOpen,a=t.collectionId,r=t.titleComponent,o=t.tabComponent,c=this.state.collectionDocument;return Object(ie.jsxs)(ie.Fragment,{children:[r&&Object(ie.jsx)(r,{code:c,codeModal:"CollectionDocument",onRefresh:this.onRefresh,titleChip:c&&c.name,actionComponent:Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:$g})},children:Object(ie.jsx)(X.a,{children:"Add Entity"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:Qg})},children:Object(ie.jsx)(X.a,{children:"Rename"})})]})}),o&&Object(ie.jsx)(o,{}),Object(ie.jsx)(Vg,{collectionId:a,onSuccess:function(t){return e.setState({collectionDocument:t.data})}}),c&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Zg,{collectionId:a,collectionDocument:c,onSuccess:this.onRefresh}),c.metadata&&Object(ie.jsx)(ey,{collectionId:a,metadataDocument:c.metadata,onSuccess:function(){return e.onRefresh()}}),Object(ie.jsx)(Xg,{dialogName:Qg,collectionId:a,collectionDocument:c,onSuccess:function(){return e.onRefresh()}})]}),Object(ie.jsx)(og,{dialogName:$g,onSuccess:this.onRefresh,collectionId:a})]})}}]),n}(o.a.PureComponent),ny=Object(m.c)(de,je)(ty),ay=SO(pp),ry=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={metadataDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.collectionId;this.props.collectionId!==t&&(this.onFetch(t),document.title="xray | Collection | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.collectionId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.e.getCollectionMetadata({collectionId:e,matrixParams:Object.entries({field:"__collection,__ancestor_collection,__parent_collection"})}).then((function(e){return t.setState({metadataDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Collection",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=this.state.metadataDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:a,codeModal:"MetadataDocument",onRefresh:this.onRefresh}),n&&Object(ie.jsx)(n,{}),a&&Object(ie.jsx)(ay,{metadataDocument:a})]})}}]),n}(o.a.PureComponent));var oy=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess,o=e.onFail,c=e.collectionId;return void 0===c?null:Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Collection ".concat(c)}),Object(ie.jsx)(xe.a,{children:"This does not affect any entities within the collection."}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.e.removeCollection({collectionId:c}).then((function(){a({messageContent:"Collection Removed"}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing Collection",messageColor:"secondary"}),o&&o()}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),cy="COLLECTION_CONTENT_TAB",iy="COLLECTION_REMOVE_DIALOG",sy="COLLECTION_ACCESSCONTROL_ADD_DIALOG",ly=[{tab:"COLLECTION_METADATA_TAB",listText:"Metadata",component:Lg},{tab:cy,listText:"Content",component:ny},{tab:"COLLECTION_COLLECTION_TAB",listText:"Collection",component:ry},{tab:"ACCESS_TAB",listText:"Direct Access",component:_f},{tab:"ACCESSMERGED_TAB",listText:"Merged Access",component:Jf},{tab:"STORAGERULE_TAB",listText:"Storage Rules",component:ev},{tab:"DELETIONLOCK_TAB",listText:"Deletion Locks",component:fv}],uy=function(e){var t=e.onChangeTab,n=e.tabValue;return Object(ie.jsx)(TO.a,{children:ly.map((function(e){var a=e.tab,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{onClick:function(){return t(null,a)},selected:n===a||void 0}},r)}))})},jy=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.collectionId;document.title="xray | Collection | ".concat(e)}},{key:"render",value:function(){var e=this.props,t=e.onChangeTab,n=e.tabValue,a=e.collectionId,r=e.history,o=ly.find((function(e){return e.tab===n}))||ly[0],c=o.listText,i=o.component;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(hg,{mainComponent:i,listComponent:uy,defaultOpen:!0,onChangeTab:t,tabValue:n,titleComponent:function(e){return Object(ie.jsx)(ge,Object(u.a)({grandParentTitle:"Collection",grandParentTo:"/collection/",parentTitle:a,title:c,removeModal:iy,helpTo:"/ref/collection.html",entityId:a,entityType:"collection",addAccessControl:sy},e))},collectionId:a,entityId:a,entityType:"collection"}),Object(ie.jsx)(oy,{dialogName:iy,onSuccess:function(){return r.push("/collection/")},collectionId:a}),Object(ie.jsx)(Mf,{dialogName:sy,entityType:"collection",entityId:a})]})}}]),n}(o.a.PureComponent),dy=Object(m.c)(ca(cy),h)(jy),my=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"index",value:n.index,hover:!0}),Object(ie.jsx)(nn,{title:"priority",value:n.priority,hover:!0}),Object(ie.jsx)(nn,{title:"status",value:n.status,hover:!0}),Object(ie.jsx)(nn,{title:"start",value:n.start,variant:"timestamp",hover:!0}),Object(ie.jsx)(nn,{title:"finish",value:n.finish,variant:"timestamp",hover:!0}),Object(ie.jsx)(nn,{title:"indexesDone",value:n.indexesDone,hover:!0}),Object(ie.jsx)(nn,{title:"indexesTotal",value:n.indexesTotal,hover:!0})]})};function by(e){var t=e.reindexRequestDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:my})})}var hy=["FINISHED"],Oy=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"],py=["ABORTED"],xy=["PAUSED","IN_QUEUE","IN_PROGRESS","IN PROGRESS"],fy=function(e){var t=e.reindexRequestDocument;if(void 0===t)return null;var n=Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(eo,{}),label:"Unknown"}),a=t.status;return hy.includes(a)?n=Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Qr,{}),label:He()(a)}):Oy.includes(a)?n=Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(eo,{}),label:He()(a)}):py.includes(a)&&(n=Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Zr,{}),label:He()(a)})),n};var vy=de((function(e){var t=e.indexName,n=e.reindexRequestDocument,a=e.onSuccess,r=e.openSnackBar,o=function(e){W.E.updateReindex({indexName:t,queryParams:e}).then((function(){var e="Reindex Request ".concat(t," Updated");r({messageContent:e}),a&&a(t)})).catch((function(){var e="Error Updating Reindex ".concat(t," Request");r({messageContent:e,messageColor:"secondary"})}))};return Object(ie.jsx)(Ie,{children:Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:He()(t)}),action:Object(ie.jsx)(fy,{reindexRequestDocument:n})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(by,{reindexRequestDocument:n})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:function(){return o({status:"ABORTED"})},color:"secondary",children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:function(){return o({status:"PAUSED"})},color:"primary",children:"Pause"}),Object(ie.jsx)(he.a,{onClick:function(){return o({status:"IN_PROGRESS"})},color:"primary",children:"Resume"}),Object(ie.jsx)(he.a,{onClick:function(){return o({status:"IN_QUEUE"})},color:"primary",children:"Start"})]})]})})})),gy=["item","collection","acl","file","thumbnail"],yy=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onAutoRefresh=a.onAutoRefresh.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.state={item:void 0,collection:void 0,acl:void 0,file:void 0,thumbnail:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.title="xray | Reindex",this.timer=setInterval((function(){return e.onAutoRefresh()}),2500),this.onRefresh()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=void 0}},{key:"onRefresh",value:function(){var e=this;gy.forEach((function(t){return e.onFetch(t)}))}},{key:"onRefreshError",value:function(e,t){(0,this.props.openSnackBar)({messageContent:"Error Loading ".concat(t," Reindex Status"),messageColor:"secondary"})}},{key:"onAutoRefresh",value:function(){var e=this;if(void 0===gy.find((function(t){var n=e.state[t],a=(void 0===n?{}:n).status;return xy.includes(a)})))return clearInterval(this.timer),void(this.timer=void 0);this.onRefresh()}},{key:"onFetch",value:function(e){var t=this;try{W.E.getReindex({indexName:e}).then((function(n){return t.setState({[e]:n.data})})).catch((function(n){n.response&&404===n.response.status?t.setState({[e]:{}}):t.onRefreshError(n)}))}catch(n){this.onRefreshError(n)}}},{key:"render",value:function(){var e=this;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Reindex",helpTo:"/ref/metadata/reindex.html",onRefresh:this.onRefresh,code:this.state,codeModal:"All reindexRequestDocument"}),gy.map((function(t){return Object(ie.jsx)(vy,{indexName:t,reindexRequestDocument:e.state[t],onSuccess:function(){e.onFetch(t),void 0===e.timer&&(e.timer=setInterval((function(){return e.onAutoRefresh()}),2500))}},t)}))]})}}]),n}(o.a.PureComponent)),Sy=n(191),Cy=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"encoderThreads",label:"encoderThreads",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"decoderOfferThreads",label:"decoderOfferThreads",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"apiURL",label:"apiURL",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"apiUsername",label:"apiUsername",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"apiPassword",label:"apiPassword",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"dataPath",label:"dataPath",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"presetPath",label:"presetPath",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"tempPath",label:"tempPath",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"bilinearEffects",component:Wt}),label:"Bilinear Effects"})]})},Ry=function(e){var t=e.fields;return Object(ie.jsxs)(Q.a,{container:!0,direction:"column",children:[t.map((function(e,n){return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(Lt,{name:"".concat(e,".name"),component:St,label:"Media Location Name",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(Lt,{name:"".concat(e,".storageMethod"),component:Ya,label:"Media Location Storage Method",simple:!0,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:"Add Media Location"})]})},Iy=function(e){var t=e.fields;return Object(ie.jsxs)(Q.a,{container:!0,direction:"column",children:[t.map((function(e,n){return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(ie.jsx)(Q.a,{item:!0,sm:10,children:Object(ie.jsx)(Lt,{name:"".concat(e,".filter"),component:St,label:"Filter",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:"Add Direct Access"})]})},Dy=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"netmask",component:St,label:"Netmask",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bandwidth",component:St,label:"Bandwidth",fullWidth:!0})]})},Fy=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"source",component:St,label:"Source",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"destination",component:St,label:"Destination",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"shapeTag",component:St,label:"Shape Tag",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"timeout",component:St,label:"Timeout",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"interval",component:St,label:"Interval",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"checks",component:St,label:"Checks",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"regex",component:St,label:"Regex",fullWidth:!0})]})},ky=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"address",component:Mo,label:"Address",fullWidth:!0,defaultValue:"http://"}),Object(ie.jsx)(Lt,{name:"cleanup",component:St,label:"Cleanup",fullWidth:!0}),Object(ie.jsx)(Rt.a,{name:"mediaLocation",component:Ry})]})},Ty=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"url",component:Mo,label:"URL",fullWidth:!0,defaultValue:"http://"}),Object(ie.jsx)(Lt,{name:"tag",component:St,label:"Tag",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"State",component:St,label:"state",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"description",label:"Description",component:St,fullWidth:!0}),Object(ie.jsx)(Rt.a,{name:"metadata.field",component:Vc})]})},Py=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"url",label:"URL",component:Mo,fullWidth:!0,defaultValue:"http://"}),Object(ie.jsx)(Lt,{name:"workspaceUrl",label:"Workspace Url",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"userWorkspaceUrl",label:"User Workspace Url",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mxfServerWorkspacePath",label:"MXFServer Workspace Path",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mxfServerUserId",label:"MXFServer User Id",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"mxfServerPathToStorage",label:"MXFServer Path To Storage",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"databaseName",label:"Database Name",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"description",label:"Description",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"atomShapes",label:"Atom Shapes",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"importShapes",label:"Import Shapes",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"detectAtom",label:"Detect Atom",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"enforceQuota",label:"Enforce Quota",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"fileImportPattern",label:"File Import Pattern",component:St,fullWidth:!0}),Object(ie.jsx)(Rt.a,{name:"metadata.field",component:Vc})]})},Ey=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"url",component:Mo,label:"URL",fullWidth:!0,defaultValue:"http://"}),Object(ie.jsx)(Lt,{name:"tag",label:"Tag",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"username",label:"Username",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"password",label:"Password",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"description",label:"Description",component:St,fullWidth:!0})]})},Ny=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"url",label:"url",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"useStartTLS",label:"Use StartTLS",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"userDN",label:"User DN",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"",label:"",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"usernameAttribute",label:"Username Attribute",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"userSearchFilter",label:"User Search Filter",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bindDN",label:"Bind DN",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"bindPassword",label:"Bind Password",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"cacheLifetime",label:"Cache Lifetime",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"groupDN",label:"Group DN",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"groupSearchFilter",label:"Group Search Filter",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"realNameAttribute",label:"Real Name Attribute",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"groupnameAttribute",label:"Groupname Attribute",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"sync.createUsers",component:Wt}),label:"Create Users"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"sync.createGroups",component:Wt}),label:"Create Groups"})]})},My=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"publicAddress",label:"Public Address",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"apiHost",label:"API Host",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"apiKey",label:"API Key",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"inputMethod",label:"Input Method",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"script",label:"Script",component:St,fullWidth:!0})]})},Ay=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"url",component:Mo,label:"URL",fullWidth:!0,defaultValue:"vidinet://"}),Object(ie.jsx)(Lt,{name:"name",label:"Name",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"endpoint",label:"Endpoint",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"scheme",label:"Scheme",component:Ya,simple:!0,fullWidth:!0})]})},Ly=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"url",component:Mo,label:"URL",fullWidth:!0,defaultValue:"http://"}),Object(ie.jsx)(Lt,{name:"include",label:"Include",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"partyId",label:"Party ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"userId",label:"User ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"password",label:"Password",component:St,fullWidth:!0})]})},Wy=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"url",label:"URL",component:Mo,fullWidth:!0,defaultValue:"http://"}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Resource Name"}),Object(ie.jsxs)(Lt,{name:"type",component:gt,required:!0,children:[Object(ie.jsx)(Cn.a,{value:"TRANSCODER",children:"TRANSCODER"}),Object(ie.jsx)(Cn.a,{value:"DIRECTORY",children:"DIRECTORY"})]})]}),Object(ie.jsx)(Lt,{label:"Weight",name:"weight",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxJob",label:"Max Job",component:St,fullWidth:!0}),Object(ie.jsx)(Rt.a,{name:"directAccess",component:Iy}),Object(ie.jsx)(Mt,{name:"configuration",label:"Configuration",component:Cy})]})},wy=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"path",component:Mo,label:"Path",fullWidth:!0,defaultValue:"file://"}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"mode",children:"Mode"}),Object(ie.jsxs)(Lt,{name:"mode",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"READ_WRITE",children:"READ_WRITE"}),Object(ie.jsx)(Cn.a,{value:"READ",children:"READ"}),Object(ie.jsx)(Cn.a,{value:"NONE",children:"NONE"})]})]})]})},_y=function(e){switch(e.resourceType){case"network":return Object(ie.jsx)(Mt,{name:"network",component:Dy});case"transcoder":return Object(ie.jsx)(Mt,{name:"transcoder",component:Wy});case"externalTranscoder":return Object(ie.jsx)(Mt,{name:"externalTranscoder",component:Fy});case"cerify":return Object(ie.jsx)(Mt,{name:"cerify",component:ky});case"thumbnail":return Object(ie.jsx)(Mt,{name:"thumbnail",component:wy});case"finalcutserver":return Object(ie.jsx)(Mt,{name:"finalcutserver",component:Ty});case"mxfserver":return Object(ie.jsx)(Mt,{name:"mxfserver",component:Py});case"signiant":return Object(ie.jsx)(Mt,{name:"signiant",component:Ey});case"ldap":return Object(ie.jsx)(Mt,{name:"ldap",component:Ny});case"cloudconvert":return Object(ie.jsx)(Mt,{name:"cloudconvert",component:My});case"vidinet":return Object(ie.jsx)(Mt,{name:"vidinet",component:Ay});case"eidr":return Object(ie.jsx)(Mt,{name:"eidr",component:Ly});default:return null}};var Vy=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.resourceType;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"resourceDocument",component:_y,resourceType:a}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var By="EDIT_SHAPETAG_PRESET",Uy=Object(bt.a)({form:By})((function(e){var t=e.handleSubmit,n=e.error;return Object(ie.jsxs)("form",{onSubmit:t,children:[n&&Object(ie.jsx)(X.a,{color:"error",children:n}),Object(ie.jsxs)(xe.a,{children:[Object(ie.jsx)(Su.a,{children:"Add built-in shape-tag templates."}),Object(ie.jsx)(Su.a,{children:"These template tags have names that begin with double underscore and cannot be overwritten."})]}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function qy(e,t,n){var a=n.resourceId,r=n.resourceType,o=e.resourceDocument;return W.F.modifyResource({resourceType:r,resourceId:a,resourceDocument:o}).then((function(e){return{resourceDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Gy(e,t,n){var a=n.resourceType,r=e.resourceDocument;return W.F.createResource({resourceType:a,resourceDocument:r}).then((function(e){return{resourceDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Hy="EDIT_USER_PASSWORD_FORM",Jy="EDIT_STORAGE_DETAILS_FORM",zy="EDIT_THUMBNAIL_RESOURCE_FORM",Ky="EDIT_TRANSCODER_RESOURCE_FORM",Yy="EDIT_LICENSE_FORM",Xy="EDIT_CONFIGURATIONPROPERTIES_SOLRPATH_FORM",Qy="EDIT_CONFIGURATIONPROPERTIES_APIURI_FORM",$y={storageDocument:{type:"LOCAL",autoDetect:!0,showImportables:!0,method:[{uri:"file:///media/",read:!0,write:!0,browse:!0}]}},Zy={resourceDocument:{transcoder:{url:"http://transcoder:8888/"}}},eS={resourceDocument:{thumbnail:{path:"file:///thumbnail/"}}};var tS=Object(m.c)(oa,de)((function(e){var t=e.openSnackBar,n=e.submitForm,a=o.a.useState(),r=Object(Bt.a)(a,2),c=r[0],i=r[1],s=o.a.useState(0),l=Object(Bt.a)(s,2),u=l[0],d=l[1],m=o.a.useState([]),b=Object(Bt.a)(m,2),h=b[0],O=b[1];o.a.useEffect((function(){try{W.U.getVersion().then((function(e){var t=e.data;return i(t)}))}catch(e){t({messageContent:"Error Loading Version Information",messageColor:"secondary"})}}),[]),o.a.useEffect((function(){document.title="xray | Wizard"}),[]);var p=function(){0!==u&&d(u-1)},x=function(){return d(u+1)},f=function(e){return O([e].concat(Object(Sy.a)(h)))},v=function(e){var n=e.stepName,a=e.messageContent,r=e.action,o=e.canRetry,c=void 0!==o&&o;t({messageContent:a}),!1===c&&(x(),f(n)),r&&r()},g=function(e){var n=e.stepName,a=e.messageContent,r=e.action,o=e.canRetry,c=void 0!==o&&o;t({messageContent:a,messageColor:"secondary"}),!1===c&&(x(),f(n)),r&&r()};return Object(ie.jsxs)(ec.a,{activeStep:u,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Set Admin Password"}),Object(ie.jsxs)(ic.a,{children:[Object(ie.jsx)(Yb,{userName:"admin",onSubmit:yb,initialValues:{passwordType:"raw"},onSubmitFail:function(){return g({stepName:Hy,messageContent:"Error Changing Password",canRetry:!0})},onSubmitSuccess:function(){return v({stepName:Hy,messageContent:"Password Changed"})},form:Hy}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(Hy)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(Hy)},children:"Save"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Upload License"}),Object(ie.jsxs)(ic.a,{children:[c&&Object(ie.jsx)(Zl,{versionDocument:Ka()(c,{licenseInfo:{$unset:["codecStatus"]}})}),Object(ie.jsx)(ru,{form:Yy,onSubmit:ou,onSubmitSuccess:function(){return v({stepName:Yy,messageContent:"License Updated"})},onSubmitFail:function(){return g({stepName:Yy,messageContent:"Error Updating License",canRetry:!0})}}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(Yy)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(Yy)},children:"Upload"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Add Storage"}),Object(ie.jsxs)(ic.a,{children:[Object(ie.jsx)(_o,{form:Jy,onSubmit:Yo,initialValues:$y,showMethod:!0,onSubmitSuccess:function(){return v({stepName:Jy,messageContent:"Storage Added"})},onSubmitFail:function(){return g({stepName:Jy,messageContent:"Error Adding Storage"})}}),Object(ie.jsx)(Uo,{form:Jy,onSubmit:Yo,initialValues:$y,showMethod:!0,onSubmitSuccess:function(){return v({stepName:Jy,messageContent:"Storage Added"})},onSubmitFail:function(){return g({stepName:Jy,messageContent:"Error Adding Storage"})}}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(Jy)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(Jy)},children:"Save"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Add Transcoder"}),Object(ie.jsxs)(ic.a,{children:[Object(ie.jsx)(Vy,{form:Ky,resourceType:"transcoder",initialValues:Zy,onSubmit:Gy,onSubmitSuccess:function(){return v({stepName:Ky,messageContent:"Transcoder Added"})},onSubmitFail:function(){return g({stepName:Ky,messageContent:"Error Adding Transcoder"})}}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(Ky)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(Ky)},children:"Save"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Add Thumbnail Store"}),Object(ie.jsxs)(ic.a,{children:[Object(ie.jsx)(Vy,{form:zy,resourceType:"thumbnail",initialValues:eS,onSubmit:Gy,onSubmitSuccess:function(){return v({stepName:zy,messageContent:"Thumbnail Store Added"})},onSubmitFail:function(){return g({stepName:zy,messageContent:"Error Adding Thumbnail Store"})}}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(zy)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(zy)},children:"Save"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Set API URL"}),Object(ie.jsxs)(ic.a,{children:[Object(ie.jsx)(X.a,{children:"This is used by the transcoder to connect to the Vidispine API Server"}),Object(ie.jsx)(Zn,{form:Qy,onSubmit:Ze,initialValues:{configurationPropertyDocument:{key:"apiUri",value:"http://vidispineserver:8080/API"}},onSubmitSuccess:function(){return v({stepName:Qy,messageContent:"API URL Added"})},onSubmitFail:function(){return g({stepName:Qy,messageContent:"Error Adding API URL"})},destroyOnUnmount:!0,enableReinitialize:!0}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(Qy)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(Qy)},children:"Save"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Add Solr Server"}),Object(ie.jsxs)(ic.a,{children:[Object(ie.jsx)(Zn,{form:Xy,onSubmit:Ze,initialValues:{configurationPropertyDocument:{key:"solrPath",value:"http://solr:8983/solr"}},onSubmitSuccess:function(){return v({stepName:Xy,messageContent:"Solr Server Added"})},onSubmitFail:function(){return g({stepName:Xy,messageContent:"Error Adding Solr Server"})},destroyOnUnmount:!0,enableReinitialize:!0}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(Xy)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(Xy)},children:"Save"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Add Preset Shape Tags"}),Object(ie.jsxs)(ic.a,{children:[Object(ie.jsx)(Uy,{onSubmit:bs,onSubmitSuccess:function(){return v({stepName:By,messageContent:"Shape Tags Created"})},onSubmitFail:function(){return g({stepName:By,messageContent:"Error Creating Shape Tags"})}}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{onClick:x,children:"Skip"}),h.includes(By)?Object(ie.jsx)(X.a,{variant:"caption",children:"Step completed"}):Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return n(By)},children:"Save"})]})]})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Complete"}),Object(ie.jsxs)(ic.a,{children:["All steps complete.",Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:p,children:"Back"}),Object(ie.jsx)(he.a,{component:j.b,to:"/selftest",variant:"text",color:"primary",children:"Self Test"})]})]})]})]})}));var nS=function(e){var t=e.metadataFieldDocument,n=void 0===t?{}:t,a=e.onOpen;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Un,{to:"/metadata-field/".concat(n.name,"/"),hover:!0,children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/metadata-field/".concat(n.name,"/"),children:n.name})}),Object(ie.jsx)(Vn,{children:n.type}),Object(ie.jsx)(Vn,{children:n.system&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{children:"true"===n.inheritance&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:Object(ie.jsx)(_.a,{onClick:function(){return a({fieldName:n.name})},children:Object(ie.jsx)(ee.a,{})})})]})})};var aS=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.groupName,o=e.fieldName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove "'.concat(o,'" From "').concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.o.removeFieldGroupField({groupName:r,fieldName:o}).then((function(){var e="".concat(o," Removed From ").concat(r);a({messageContent:e}),n(),c&&c()})).catch((function(){a({messageContent:"Error Removing Field",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var rS=de((function(e){var t=e.open,n=e.onClose,a=e.history,r=e.openSnackBar,o=e.fieldName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Metadata Field "'.concat(o,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.z.removeMetadataField({fieldName:o}).then((function(){var e="Metadata Field ".concat(o," Removed");r({messageContent:e}),a.push("/metadata-field/"),n(),c&&c()})).catch((function(){r({messageContent:"Error Removing Metadata Field",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),oS="REMOVE_METADATAFIELD_DIALOG";var cS=Gn((function(e){var t=e.metadataFieldListDocument,n=void 0===t?[]:t,a=e.groupName,r=e.onRefresh,o=e.dialogProps,c=e.onOpen,i=n.field,s=void 0===i?[]:i;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Field Name"}),Object(ie.jsx)(Vn,{children:"Type"}),Object(ie.jsx)(Vn,{children:"System"}),Object(ie.jsx)(Vn,{children:"Inheritance"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:s.map((function(e){return Object(ie.jsx)(nS,{metadataFieldDocument:e,onOpen:c(oS)},e.name)}))})]}),a?Object(ie.jsx)(aS,Object(u.a)(Object(u.a)({},o),{},{dialogName:oS,groupName:a,onSuccess:r})):Object(ie.jsx)(rS,Object(u.a)(Object(u.a)({},o),{},{dialogName:oS,onSuccess:r}))]})}));function iS(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(cS,Object(u.a)({},t))})})}var sS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"minInclusive",label:"minInclusive",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxInclusive",label:"maxInclusive",component:St,type:"number",fullWidth:!0})]})},lS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"minInclusive",label:"minInclusive",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxInclusive",label:"maxInclusive",component:St,type:"number",fullWidth:!0})]})},uS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"minInclusive",label:"minInclusive",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxInclusive",label:"maxInclusive",component:St,type:"number",fullWidth:!0})]})},jS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"minLength",label:"minLength",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"maxLength",label:"maxLength",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"pattern",label:"pattern",component:St,fullWidth:!0})]})},dS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"reference",component:Wt}),label:"Reference"}),Object(ie.jsx)(Lt,{name:"min",label:"min",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"max",label:"max",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"name",label:"name",component:St,fullWidth:!0})]})},mS=function(e){return Object(ie.jsxs)(gt,Object(u.a)(Object(u.a)({},e),{},{children:[Object(ie.jsx)(Cn.a,{value:"string",children:"String"}),Object(ie.jsx)(Cn.a,{value:"integer",children:"Integer"}),Object(ie.jsx)(Cn.a,{value:"float",children:"Float"}),Object(ie.jsx)(Cn.a,{value:"boolean",children:"Boolean"}),Object(ie.jsx)(Cn.a,{value:"date",children:"Date"}),Object(ie.jsx)(Cn.a,{value:"timeCode",children:"Time Code"}),Object(ie.jsx)(Cn.a,{value:"date-noindex",children:"Date (No Index)"}),Object(ie.jsx)(Cn.a,{value:"date-sortable",children:"Date (Sortable)"}),Object(ie.jsx)(Cn.a,{value:"float-noindex",children:"Float (No Index)"}),Object(ie.jsx)(Cn.a,{value:"float-sortable",children:"Float (Sortable)"}),Object(ie.jsx)(Cn.a,{value:"integer-noindex",children:"Integer (No Index)"}),Object(ie.jsx)(Cn.a,{value:"integer-sortable",children:"Integer (Sortable)"}),Object(ie.jsx)(Cn.a,{value:"long-noindex",children:"Long (No Index)"}),Object(ie.jsx)(Cn.a,{value:"string-sortable",children:"String (Sortable)"}),Object(ie.jsx)(Cn.a,{value:"string-exact",children:"String (Exact)"}),Object(ie.jsx)(Cn.a,{value:"string-exact-sortable",children:"String (Exact Sortable)"}),Object(ie.jsx)(Cn.a,{value:"string-noindex",children:"String (No Index)"}),Object(ie.jsx)(Cn.a,{value:"boolean-noindex",children:"Boolean (No Index)"}),Object(ie.jsx)(Cn.a,{value:"timeCode-noindex",children:"Time Code (No Index)"})]}))},bS=function(e){return Object(ie.jsxs)(gt,Object(u.a)(Object(u.a)({},e),{},{children:[Object(ie.jsx)(Cn.a,{value:"index",children:"index"}),Object(ie.jsx)(Cn.a,{value:"noindex",children:"noindex"}),Object(ie.jsx)(Cn.a,{value:"extend",children:"extend"})]}))},hS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"dataset",label:"dataset",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"levelProperty",label:"levelProperty",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"levelValue",label:"levelValue",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"value",label:"value",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"parent",label:"parent",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"validationGroup",label:"validationGroup",component:St,fullWidth:!0})]})},OS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"name",component:Qn,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"defaultValue",label:"defaultValue",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"system",component:Wt}),label:"System"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"sortable",component:Wt}),label:"Sortable"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"inheritance",component:Wt}),label:"Inheritance"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"fullText",component:Wt}),label:"Full Text"}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Type"}),Object(ie.jsx)(Lt,{name:"type",component:mS})]}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"index",children:"Index"}),Object(ie.jsx)(Lt,{name:"index",component:bS})]}),Object(ie.jsx)(Mt,{name:"constraint",label:"constraint",component:hS}),Object(ie.jsx)(Mt,{name:"schema",label:"schema",component:dS}),Object(ie.jsx)(Mt,{name:"values",label:"values",component:Qa}),Object(ie.jsx)(Nt,{name:"data",label:"data",component:Xa})]})},pS=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldDocument",component:OS}),Object(ie.jsxs)(Lt,{name:"metadataFieldDocument",component:Sf,label:"Restriction",fullWidth:!0,choices:{floatRestriction:Object(ie.jsx)(Mt,{name:"metadataFieldDocument.floatRestriction",label:"floatRestriction",component:sS}),integerRestriction:Object(ie.jsx)(Mt,{name:"metadataFieldDocument.integerRestriction",label:"integerRestriction",component:lS}),longRestriction:Object(ie.jsx)(Mt,{name:"metadataFieldDocument.longRestriction",label:"longRestriction",component:uS}),stringRestriction:Object(ie.jsx)(Mt,{name:"metadataFieldDocument.stringRestriction",label:"stringRestriction",component:jS})},children:[Object(ie.jsx)(Cn.a,{value:"floatRestriction",children:"Float"}),Object(ie.jsx)(Cn.a,{value:"integerRestriction",children:"Integer"}),Object(ie.jsx)(Cn.a,{value:"longRestriction",children:"Long"}),Object(ie.jsx)(Cn.a,{value:"stringRestriction",children:"String"})]}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function xS(e,t,n){var a=e.metadataFieldDocument,r=n.fieldName||a.name;return W.z.updateMetadataField({fieldName:r,metadataFieldDocument:a}).then((function(e){return{metadataFieldDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function fS(e,t,n){var a=e.metadataFieldValueConstraintListDocument,r=n.fieldName||e.fieldName;return W.z.getMetadataFieldAllowedValues({fieldName:r,metadataFieldValueConstraintListDocument:a}).then((function(e){return{constraintValueListDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var vS=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.history;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Metadata Field"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:pS,documentName:"metadataFieldDocument",onSubmit:xS,onSubmitSuccess:function(e){var t=e.metadataFieldDocument.name,o="Metadata Field ".concat(t," Created");a({messageContent:o}),r.push("/metadata-field/".concat(t,"/")),n()},onSubmitFail:function(){a({messageContent:"Error Creating Metadata Field",messageColor:"secondary"})},onCancel:n})})]})}));function gS(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Metadata Field",helpTo:"/ref/metadata/field.html"},e))}var yS="METADATAFIELDLIST_CREATE_MODAL",SS=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={metadataFieldListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Metadata Field"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.z.listMetadataField().then((function(t){return e.setState({metadataFieldListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Metadata Field List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.metadataFieldListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(gS,{createModal:yS,onRefresh:this.onRefresh,code:e,codeModal:"MetadataFieldListDocument"}),e&&Object(ie.jsx)(iS,{metadataFieldListDocument:e,onRefresh:this.onRefresh}),Object(ie.jsx)(vS,{dialogName:yS})]})}}]),n}(o.a.PureComponent));function CS(e){var t=e.metadataFieldGroupDocument,n=void 0===t?{}:t,a=e.onOpen;return Object(ie.jsxs)(Un,{to:"/field-group/".concat(n.name,"/"),hover:!0,children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/field-group/".concat(n.name,"/"),children:n.name})}),Object(ie.jsx)(Vn,{children:"true"===n.inheritance&&Object(ie.jsx)(Kr.a,{})}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:Object(ie.jsx)(_.a,{onClick:function(){return a({childGroupName:n.name,groupName:n.name})},children:Object(ie.jsx)(ee.a,{})})})]})}var RS=de((function(e){var t=e.open,n=e.onClose,a=e.history,r=e.openSnackBar,o=e.groupName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Field Group "'.concat(o,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.o.removeFieldGroup({groupName:o}).then((function(){var e="Field Group ".concat(o," Removed");r({messageContent:e}),a.push("/field-group/"),n(),c&&c()})).catch((function(){r({messageContent:"Error Removing Field Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}));var IS=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.groupName,o=e.childGroupName,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove "'.concat(o,'" From "').concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.o.removeFieldGroupChild({groupName:r,childGroupName:o}).then((function(){var e="".concat(o," Removed From ").concat(r);a({messageContent:e}),n(),c&&c()})).catch((function(){a({messageContent:"Error Removing Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),DS="REMOVE_FIELDGROUP_DIALOG";var FS=Gn((function(e){var t=e.metadataFieldGroupListDocument,n=void 0===t?[]:t,a=e.groupName,r=e.onRefresh,o=e.dialogProps,c=e.onOpen,i=n.group,s=void 0===i?[]:i;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Field Group Name"}),Object(ie.jsx)(Vn,{children:"Inheritance"}),Object(ie.jsx)(Vn,{padding:"checkbox"})]})}),Object(ie.jsx)(_n,{children:s.map((function(e){return Object(ie.jsx)(CS,{metadataFieldGroupDocument:e,onOpen:c(DS)},e.name)}))})]}),a?Object(ie.jsx)(IS,Object(u.a)(Object(u.a)({},o),{},{dialogName:DS,groupName:a,onSuccess:r})):Object(ie.jsx)(RS,Object(u.a)(Object(u.a)({},o),{},{dialogName:DS,onSuccess:r}))]})}));function kS(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(FS,Object(u.a)({},t))})})}var TS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"field",label:"field",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"fieldGroup",label:"fieldGroup",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"user",label:"user",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"group",label:"group",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"permission",label:"permission",component:St,fullWidth:!0})]})},PS=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",label:"name",component:Qn,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"inheritance",children:"Inheritance"}),Object(ie.jsxs)(Lt,{name:"inheritance",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"true",children:"True"}),Object(ie.jsx)(Cn.a,{value:"false",children:"False"})]})]})]})},ES=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"access",label:"access",component:TS})})},NS=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"field",label:"field",component:OS})})},MS=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Mt,{name:"schema",label:"schema",component:dS})})},AS=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"data",label:"data",component:Xa})})},LS=function e(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(PS,{}),Object(ie.jsx)(MS,{}),Object(ie.jsx)(NS,{}),Object(ie.jsx)(Nt,{name:"group",label:"group",component:e}),Object(ie.jsx)(ES,{}),Object(ie.jsx)(AS,{})]})},WS=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Nt,{name:"group",label:"group",component:LS})})},wS=(Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupDocument",component:AS}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupDocument",component:PS}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}))),_S=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupDocument",component:MS}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),VS=(Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupDocument",component:NS}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupDocument",component:WS}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupDocument",component:ES}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}))),BS=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupDocument",component:LS}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function US(e,t,n){var a=e.metadataFieldGroupDocument,r=n.groupName||a.name;return W.o.updateFieldGroup({groupName:r,metadataFieldGroupDocument:a}).then((function(e){return{metadataFieldGroupDocument:e.data,groupName:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function qS(e,t,n){var a=e.childGroupName,r=n.groupName;return W.o.updateFieldGroupChild({groupName:r,childGroupName:a}).then((function(){return{childGroupName:a,groupName:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function GS(e,t,n){var a=n.groupName||e.groupName,r=n.fieldName||e.fieldName;return W.o.updateFieldGroupField({groupName:a,fieldName:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function HS(e){var t=e.matrixParams,n=void 0===t?[]:t,a=e.queryParams,r=void 0===a?{}:a,o=e.metadataFieldGroupSearchDocument,c=void 0===o?{}:o;return W.o.searchFieldGroup({metadataFieldGroupSearchDocument:c,queryParams:r,matrixParams:Object.entries(n)}).then((function(e){return Object(u.a)({queryParams:r,matrixParams:n,metadataFieldGroupSearchDocument:c},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var JS=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.history;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Field Group"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:BS,documentName:"metadataFieldGroupDocument",onSubmit:US,onSubmitSuccess:function(e){var t=e.groupName,o="Field Group ".concat(t," Created");a({messageContent:o}),r.push("/field-group/".concat(t,"/")),n()},onSubmitFail:function(){a({messageContent:"Error Creating Field Group",messageColor:"secondary"})},onCancel:n})})]})}));function zS(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Metadata Field Group",helpTo:"/ref/metadata/field-group.html"},e))}var KS="FIELDGROUPLIST_CREATE_MODAL",YS=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={metadataFieldGroupListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Field Group"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.o.listFieldGroup().then((function(t){return e.setState({metadataFieldGroupListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Field Group List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.metadataFieldGroupListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(zS,{createModal:KS,onRefresh:this.onRefresh,code:e,codeModal:"FieldGroupListDocument"}),e&&Object(ie.jsx)(kS,{metadataFieldGroupListDocument:e,onRefresh:this.onRefresh}),Object(ie.jsx)(JS,{dialogName:KS})]})}}]),n}(o.a.PureComponent));function XS(e){return Object(ie.jsx)(ge,Object(u.a)({parentTitle:"Metadata Field Group",parentTo:"/field-group/",title:e.groupName,helpTo:"/ref/metadata/field-group.html",entityId:e.groupName,entityType:"field-group"},e))}var QS=de((function(e){var t=e.metadataFieldGroupDocument,n=e.groupName,a=e.openSnackBar,r=e.onRefresh,o=Object(ye.a)(e,["metadataFieldGroupDocument","groupName","openSnackBar","onRefresh"]),c={groupName:n},i={metadataFieldGroupDocument:t},s={metadataFieldGroupDocument:t};return Object(ie.jsx)(mt,Object(u.a)({formName:"EDIT_FIELDGROUP_FORM",onSubmitSuccess:function(){a({messageContent:"Field Group Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Field Group",messageColor:"secondary"})},onSubmit:US,formProps:c,displayProps:i,initialValues:s},o))})),$S=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"minInclusive",value:n.minInclusive}),Object(ie.jsx)(nn,{title:"maxInclusive",value:n.maxInclusive})]})},ZS=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"minInclusive",value:n.minInclusive}),Object(ie.jsx)(nn,{title:"maxInclusive",value:n.maxInclusive})]})},eC=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"minInclusive",value:n.minInclusive}),Object(ie.jsx)(nn,{title:"maxInclusive",value:n.maxInclusive})]})},tC=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"pattern",value:n.pattern}),Object(ie.jsx)(nn,{title:"minLength",value:n.minLength}),Object(ie.jsx)(nn,{title:"maxLength",value:n.maxLength})]})},nC=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0}),Object(ie.jsx)(nn,{title:"reference",value:n.reference,hover:!0}),Object(ie.jsx)(nn,{title:"min",value:n.min,hover:!0}),Object(ie.jsx)(nn,{title:"max",value:n.max,hover:!0})]})};function aC(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:t.name,hover:!0}),Object(ie.jsx)(nn,{title:"type",value:t.type,hover:!0}),Object(ie.jsx)(nn,{title:"defaultValue",value:t.defaultValue,hover:!0}),Object(ie.jsx)(nn,{title:"system",value:t.system,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"sortable",value:t.sortable,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"inheritance",value:t.inheritance,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"fullText",value:t.fullText,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"index",value:t.index,hover:!0}),Object(ie.jsx)(an,{title:"schema",component:nC,value:t.schema,hideNoValue:!0}),Object(ie.jsx)(an,{title:"values",component:ar,value:t.values,hideNoValue:!0}),Object(ie.jsx)(an,{title:"data",component:rr,value:t.data,hideNoValue:!0}),Object(ie.jsx)(an,{title:"floatRestriction",value:t.floatRestriction,component:$S,hideNoValue:!0}),Object(ie.jsx)(an,{title:"integerRestriction",value:t.integerRestriction,component:ZS,hideNoValue:!0}),Object(ie.jsx)(an,{title:"longRestriction",value:t.longRestriction,component:eC,hideNoValue:!0}),Object(ie.jsx)(an,{title:"stringRestriction",value:t.stringRestriction,component:tC,hideNoValue:!0}),Object(ie.jsx)(an,{value:t.constraint,component:function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"dataset",value:n.dataset}),Object(ie.jsx)(nn,{title:"levelProperty",value:n.levelProperty}),Object(ie.jsx)(nn,{title:"levelValue",value:n.levelValue}),Object(ie.jsx)(nn,{title:"value",value:n.value}),Object(ie.jsx)(nn,{title:"parent",value:n.parent}),Object(ie.jsx)(nn,{title:"validationGroup",value:n.validationGroup})]})}})]})}var rC=aC,oC=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"field",value:n.field,hover:!0}),Object(ie.jsx)(nn,{title:"fieldGroup",value:n.fieldGroup,hover:!0}),Object(ie.jsx)(nn,{title:"user",value:n.user,hover:!0}),Object(ie.jsx)(nn,{title:"group",value:n.group,hover:!0}),Object(ie.jsx)(nn,{title:"permission",value:n.permission,hover:!0})]})},cC=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0}),Object(ie.jsx)(nn,{title:"inheritance",value:n.inheritance,variant:"boolean",hover:!0})]})},iC=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{title:"schema",value:n.schema,component:nC,hideNoValue:!0})})},sC=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{title:"access",value:n.access,component:oC})})},lC=function(e){var t=e.metadataFieldGroupDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:cC,value:t})})},uC=function(e){var t=e.metadataFieldGroupDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:iC,value:t})})},jC=function(e){var t=e.metadataFieldGroupDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:sC,value:t})})};var dC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"childGroupName",label:"Field Group",component:yl,loadOptions:Xh,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),mC="FIELDGROUP_CHILD_FORM";var bC=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.groupName;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Child Group"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(dC,{form:mC,onSubmit:qS,onSubmitSuccess:function(e){var t=e.childGroupName,o="Field Group ".concat(t," Added");r({messageContent:o}),a&&a(),n()},onSubmitFail:function(){r({messageContent:"Error Adding Field Group",messageColor:"secondary"})},onCancel:n,groupName:c})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(mC)},children:"Save"})]})]})})),hC="ADD_FIELDGROUP_CHILD";var OC=P((function(e){var t=e.groupName,n=e.onRefresh,a=e.metadataFieldGroupDocument,r=e.onOpen;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Groups"}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"New",children:Object(ie.jsx)(_.a,{onClick:function(){return r({modalName:hC})},children:Object(ie.jsx)(q.a,{})})})})})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(FS,{metadataFieldGroupListDocument:a,groupName:t,onRefresh:n})}),Object(ie.jsx)(bC,{dialogName:hC,groupName:t,onSuccess:n})]})})),pC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"fieldName",label:"Metadata Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),xC="FIELDGROUP_FIELD_FORM";var fC=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.groupName;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Metadata Field To Field Group"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(pC,{form:xC,onSubmit:GS,onSubmitSuccess:function(e){var t=e.fieldName,o="Field ".concat(t," Added");r({messageContent:o}),a&&a(),n()},onSubmitFail:function(){r({messageContent:"Error Adding Field",messageColor:"secondary"})},onCancel:n,groupName:c})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(xC)},children:"Save"})]})]})})),vC="ADD_FIELDGROUP_FIELD";var gC=P((function(e){var t=e.groupName,n=e.onRefresh,a=e.metadataFieldGroupDocument,r=e.onOpen;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{disableTypography:!0,title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Metadata Fields"}),action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Add",children:Object(ie.jsx)(_.a,{onClick:function(){return r({modalName:vC})},children:Object(ie.jsx)(q.a,{})})})})})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(cS,{metadataFieldListDocument:a,groupName:t,onRefresh:n})}),Object(ie.jsx)(fC,{dialogName:vC,groupName:t,onSuccess:n})]})}));function yC(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ie,{children:Object(ie.jsx)(QS,Object(u.a)({title:"Overview",formComponent:wS,displayComponent:lC},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(QS,Object(u.a)({title:"Schema",formComponent:_S,displayComponent:uC},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(gC,Object(u.a)({},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(OC,Object(u.a)({},e))}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(QS,Object(u.a)({title:"Access",formComponent:VS,displayComponent:jC},e))})]})}var SC="FIELDGROUP_REMOVE_MODAL",CC=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.state={simpleMetadataDocument:void 0,metadataFieldGroupDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.groupName;document.title="xray | Field Group | ".concat(e),this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.groupName;this.props.groupName!==t&&(this.onFetch(t),document.title="xray | Field Group | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.groupName;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this,n=this.props.openSnackBar;try{W.o.getFieldGroup({groupName:e}).then((function(e){return t.setState({metadataFieldGroupDocument:e.data})})),W.o.getSimpleMetadata({groupName:e}).then((function(e){return t.setState({simpleMetadataDocument:e.data})}))}catch(a){n({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props.groupName,t=this.state,n=t.simpleMetadataDocument,a=t.metadataFieldGroupDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(XS,{removeModal:SC,onRefresh:this.onRefresh,groupName:e,code:a,codeModal:"MetadataFieldGroupDocument"}),a&&Object(ie.jsx)(yC,{metadataFieldGroupDocument:a,groupName:e,onRefresh:this.onRefresh}),n&&Object(ie.jsx)(jb,{simpleMetadataList:n.field||[],onSuccess:this.onRefresh,entityType:"metadata-field/field-group",entityId:e}),Object(ie.jsx)(RS,{dialogName:SC,groupName:e})]})}}]),n}(o.a.PureComponent)),RC=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"uri",label:"URI",component:St,helperText:"Make Sure To Percent Encode",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(ie.jsx)(Rt.a,{name:"jobmetadata",label:"Job Metadata",component:Uc,buttonLabel:"Add Job Metadata"})]})};var IC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:RC}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),DC=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"original",label:"Original Shape Tag",component:St,helperText:"Reset original to this tag",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"no-transcode",component:Wt}),label:"Disable Transcoding"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"overrideFastStart",component:Wt}),label:"Override Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"requireFastStart",component:Wt}),label:"Require Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"growing",component:Wt}),label:"Growing File"}),Object(ie.jsx)(At.a,{name:"createPosters",label:"Poster Timecodes",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"fastStartLength",label:"Fast Start Length",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"storageId",label:"Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"xmpfile",label:"XMP URI",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"settings",label:"Access Control Setting",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notification",label:"Notification ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notificationData",label:"Notification Data",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"importTag",label:"Default Shape Tag",component:Ya,simple:!0,fullWidth:!0})]})};var FC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:DC}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function kC(e){var t=e.queryParams,n=e.metadataDocument;return W.V.createImportUri({queryParams:t,metadataDocument:n}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function TC(e){var t=e.queryParams,n=e.metadataDocument,a=e.upload,r=t.transferId,o=a[0],c=o.name;return W.V.createImportRawPasskey({filename:c,queryParams:t,metadataDocument:n}).then((function(e){var t=e.data.data,n=(void 0===t?[]:t).find((function(e){return"passkey"===e.key})).value;return W.V.createImportRawNoAuth({file:o,queryParams:{passkey:n,transferId:r}})})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function PC(e){var t=e.queryParams,n=e.metadataDocument;return W.V.createImportPlaceholder({queryParams:t,metadataDocument:n}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function EC(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId,o=n.component||e.component;return W.V.createImportComponent({itemId:r,component:o,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function NC(e,t,n){var a=e.queryParams,r=n.itemId||e.itemId;return W.V.createImportItemSidecar({itemId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var MC=function(e){return function(t){Object(A.a)(a,t);var n=Object(L.a)(a);function a(e){var t;return Object(E.a)(this,a),(t=n.call(this,e)).onBack=t.onBack.bind(Object(M.a)(t)),t.onNext=t.onNext.bind(Object(M.a)(t)),t.state={activeStep:0},t}return Object(N.a)(a,[{key:"onBack",value:function(){var e=this.state.activeStep;0!==e&&this.setState({activeStep:e-1})}},{key:"onNext",value:function(){var e=this.state.activeStep;this.setState({activeStep:e+1})}},{key:"render",value:function(){var t=this.state.activeStep;return Object(ie.jsx)(e,Object(u.a)({onBack:this.onBack,onNext:this.onNext,activeStep:t},this.props))}}]),a}(o.a.PureComponent)},AC="EDIT_IMPORTURI_FORM";var LC=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=Object(u.a)({queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"]},metadataDocument:{}},t),j=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},d=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"URI",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(AC)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"URI"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(IC,{onSubmit:kC,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:AC,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:kC,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:AC,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(FC,{onSubmit:kC,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:AC,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),WC=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | URI"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(AC)}},{key:"render",value:function(){var e=this.props,t=e.history,n=Object(ye.a)(e,["history"]);return Object(ie.jsx)(LC,Object(u.a)({onSuccess:function(e){return t.push("/job/".concat(e.data.jobId))}},n))}}]),n}(o.a.PureComponent)),wC=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"container",component:St,type:"number",helperText:"Total Container Components",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"video",component:St,type:"number",helperText:"Total Video Components",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"audio",component:St,type:"number",helperText:"Total Audio Components",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"binary",component:St,type:"number",helperText:"Total Binary Components",fullWidth:!0})]})};var _C=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:wC}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),VC=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"frameDuration",label:"Frame Duration",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"settings",label:"Access Control Settings",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"importTag",label:"Default Shape Tag",component:Ya,simple:!0,fullWidth:!0})]})};var BC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:VC}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),UC="EDIT_IMPORTPLACEHOLDER_FORM";var qC=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=Object(u.a)({queryParams:{container:1},metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]}},t),j=function(e,t,a){s({messageContent:"Placeholder Created"}),n&&n(e,t,a)},d=function(e,t,n){s({messageContent:"Error Creating Placeholder",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Placeholder Item",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(UC)},children:"Create"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Placeholder Item"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(_C,{onSubmit:PC,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:UC,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:PC,initialValues:l,form:UC,onSubmitSuccess:j,onSubmitFail:d,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(BC,{onSubmit:PC,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:UC,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),GC=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Placeholder"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(UC)}},{key:"render",value:function(){var e=this.props,t=e.history,n=Object(ye.a)(e,["history"]);return Object(ie.jsx)(qC,Object(u.a)({onSuccess:function(e){return t.push("/item/".concat(e.data.id))}},n))}}]),n}(o.a.PureComponent)),HC=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"uri",label:"URI",component:St,helperText:"Must be specified unless File Id is specified",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"fileId",label:"File ID",component:St,helperText:"Must be specified unless URI is specified",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"shapeId",label:"Shape ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(ie.jsx)(Rt.a,{name:"jobmetadata",label:"Job Metadata",component:Uc,buttonLabel:"Add Job Metadata"})]})};var JC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"itemId",label:"Item Id",component:St,validate:[nu],required:!0,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"component",children:"Component"}),Object(ie.jsxs)(At.a,{name:"component",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"container",children:"Container"}),Object(ie.jsx)(Cn.a,{value:"video",children:"Video"}),Object(ie.jsx)(Cn.a,{value:"audio",children:"Audio"}),Object(ie.jsx)(Cn.a,{value:"binary",children:"Binary"})]})]}),Object(ie.jsx)(Mt,{name:"queryParams",component:HC}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),zC=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"original",label:"Original Shape Tag",component:St,helperText:"Reset original to this tag",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"allowReimport",component:Wt}),label:"Allow Reimport"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"no-transcode",component:Wt}),label:"Disable Transcoding"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"overrideFastStart",component:Wt}),label:"Override Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"requireFastStart",component:Wt}),label:"Require Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"growing",component:Wt}),label:"Growing File"}),Object(ie.jsx)(At.a,{name:"createPosters",label:"Poster Timecodes",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"fastStartLength",label:"Fast Start Length",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"storageId",label:"Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"xmpfile",label:"XMP URI",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"settings",label:"Access Control Setting",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notification",label:"Notification ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notificationData",label:"Notification Data",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"index",label:"Component Track",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"importTag",label:"Default Shape Tag",component:Ya,simple:!0,fullWidth:!0})]})};var KC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:zC}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),YC="EDIT_IMPORTCOMPONENT_FORM";var XC=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},j=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)},d={queryParams:Object(u.a)({"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"],allowReimport:!1},t.queryParams),component:"container",itemId:t.itemId};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Component",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(YC)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Component"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(JC,{onSubmit:EC,initialValues:d,onSubmitSuccess:l,onSubmitFail:j,form:YC})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:EC,initialValues:d,onSubmitSuccess:l,onSubmitFail:j,form:YC,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(KC,{onSubmit:EC,initialValues:d,onSubmitSuccess:l,onSubmitFail:j,form:YC,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),QC=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Component"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(YC)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=Object(ye.a)(e,["history","location"]),r=new URLSearchParams(n.search),o=r.get("fileId"),c=r.get("itemId");return Object(ie.jsx)(XC,Object(u.a)({onSuccess:function(e){return t.push("/job/".concat(e.data.jobId))},initialValues:{itemId:c,queryParams:{fileId:o}}},a))}}]),n}(o.a.PureComponent)),$C=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"filename",label:"Filename",component:yt.a,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(ie.jsx)(Rt.a,{name:"jobmetadata",label:"Job Metadata",component:Uc,buttonLabel:"Add Job Metadata"})]})};var ZC=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"upload",label:"Choose File",component:au,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:$C}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),eR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"transferId",label:"Transfer ID",component:St,disabled:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"original",label:"Original Shape Tag",component:St,helperText:"Reset original to this tag",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"no-transcode",component:Wt}),label:"Disable Transcoding"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"overrideFastStart",component:Wt}),label:"Override Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"requireFastStart",component:Wt}),label:"Require Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"growing",component:Wt}),label:"Growing File"}),Object(ie.jsx)(At.a,{name:"createPosters",label:"Poster Timecodes",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"fastStartLength",label:"Fast Start Length",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"storageId",label:"Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"xmpfile",label:"XMP URI",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"settings",label:"Access Control Setting",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notification",label:"Notification ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notificationData",label:"Notification Data",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"importTag",label:"Default Shape Tag",component:Ya,simple:!0,fullWidth:!0})]})};var tR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:eR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),nR="EDIT_IMPORTRAW_FORM";var aR=Object(m.c)(MC,de,oa,kj)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=e.isFormSubmitting,j=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),d=Object(u.a)({queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"],transferId:j},metadataDocument:{}},t),m=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},b=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Upload",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsxs)("div",{style:{position:"relative"},children:[Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(nR)},disabled:l,children:"Start"}),l&&Object(ie.jsx)(Yr.a,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"File"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(ZC,{onSubmit:TC,initialValues:d,onSubmitSuccess:m,onSubmitFail:b,form:nR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:TC,initialValues:d,onSubmitSuccess:m,onSubmitFail:b,form:nR,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(tR,{onSubmit:TC,initialValues:d,onSubmitSuccess:m,onSubmitFail:b,form:nR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})}),nR),rR=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Upload"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(nR)}},{key:"render",value:function(){var e=this.props,t=e.history,n=Object(ye.a)(e,["history"]);return Object(ie.jsx)(aR,Object(u.a)({onSuccess:function(e){return t.push("/job/".concat(e.data.jobId))}},n))}}]),n}(o.a.PureComponent)),oR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"filename",label:"File Name",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(ie.jsx)(Rt.a,{name:"jobmetadata",label:"Job Metadata",component:Uc,buttonLabel:"Add Job Metadata"})]})};var cR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"fileId",label:"File ID",component:St,validate:[nu],required:!0,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:oR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),iR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"id",label:"External IDs",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"original",label:"Original Shape Tag",component:St,helperText:"Reset original to this tag",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"allowReimport",component:Wt}),label:"Allow Reimport"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"no-transcode",component:Wt}),label:"Disable Transcoding"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"overrideFastStart",component:Wt}),label:"Override Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"requireFastStart",component:Wt}),label:"Require Fast Start"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"growing",component:Wt}),label:"Growing File"}),Object(ie.jsx)(At.a,{name:"createPosters",label:"Poster Timecodes",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"fastStartLength",label:"Fast Start Length",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"storageId",label:"Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"thumbnailService",label:"Thumbnail Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"xmpfile",label:"XMP URI",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"sidecar",label:"Sidecar URIs/IDs",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"settings",label:"Access Control Setting",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notification",label:"Notification ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notificationData",label:"Notification Data",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"importTag",label:"Default Shape Tag",component:Ya,simple:!0,fullWidth:!0})]})};var sR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:iR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function lR(e,t,n){var a=n.fileId||e.fileId,r=e.state;return W.p.updateFileState({fileId:a,state:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function uR(e,t,n){var a=n.fileId||e.fileId,r=e.targetStorageId,o=e.queryParams;return W.p.createFileMove({fileId:a,targetStorageId:r,queryParams:o}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function jR(e,t,n){var a=n.fileId||e.fileId,r=e.queryParams;return W.p.removeFile({fileId:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function dR(e,t,n){var a=n.fileId||e.fileId,r=e.queryParams;return W.p.createFilePath({fileId:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function mR(e,t,n){var a=n.fileId||e.fileId,r=e.queryParams,o=e.file;return W.p.updateFileRaw({fileId:a,file:o[0],queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function bR(e,t,n){var a=n.storageId,r=e.queryParams,o=e.matrixParams,c=void 0===o?{}:o;return W.p.listFile({storageId:a,queryParams:r,matrixParams:Object.entries(c)}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function hR(e){var t=e.fileDocument,n=e.queryParams,a=e.storageId;return W.p.createFileEntity({storageId:a,fileDocument:t,queryParams:n}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function OR(e,t,n){var a=e.metadataDocument,r=e.queryParams,o=n.fileId||e.fileId;return W.p.createFileImport({fileId:o,metadataDocument:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function pR(e,t,n){var a=e.queryParams,r=n.fileId||e.fileId;return W.p.analyzeFile({fileId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var xR="EDIT_IMPORTFILE_FORM";var fR=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},j=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)},d=Object(u.a)({queryParams:{"no-transcode":!1,createThumbnails:!0,overrideFastStart:!0,requireFastStart:!0,growing:!1,priority:"MEDIUM",importTag:["original"]},metadataDocument:{}},t);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"File",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(xR)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"File"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(cR,{onSubmit:OR,initialValues:d,onSubmitSuccess:l,onSubmitFail:j,form:xR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:OR,initialValues:d,onSubmitSuccess:l,onSubmitFail:j,form:xR,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(sR,{onSubmit:OR,initialValues:d,onSubmitSuccess:l,onSubmitFail:j,form:xR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),vR=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | File"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(xR)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=Object(ye.a)(e,["history","location"]),r=new URLSearchParams(n.search).get("fileId");return Object(ie.jsx)(fR,Object(u.a)({onSuccess:function(e){return t.push("/job/".concat(e.data.jobId))},initialValues:{fileId:r}},a))}}]),n}(o.a.PureComponent)),gR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"container",label:"Container",component:St,type:"number",fullWidth:!0,helperText:"Total Container Files"}),Object(ie.jsx)(At.a,{name:"video",label:"Video",component:St,type:"number",helperText:"Total Video Files",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"audio",label:"Audio",component:St,helperText:"Total Audio Files",type:"number",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"binary",label:"Binary",component:St,type:"number",fullWidth:!0,helperText:"Total Binary Files"}),Object(ie.jsx)(At.a,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]})};var yR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"itemId",label:"Item Id",component:St,validate:[nu],required:!0,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:gR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),SR=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(At.a,{name:"frameDuration",label:"Frame Duration",component:St,type:"number",fullWidth:!0})})};var CR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:SR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),RR="EDIT_IMPORTSHAPEPLACEHOLDER_FORM";var IR=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=Object(u.a)({queryParams:{container:1,tag:["original"]}},t),j=function(e,t,a){s({messageContent:"Placeholder Shape Created"}),n&&n(e,t,a)},d=function(e,t,n){s({messageContent:"Error Creating Placeholder Shape",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Placeholder Shape",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(RR)},children:"Create"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Placeholder Shape"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(yR,{onSubmit:Rp,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:RR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:Rp,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:RR,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(CR,{onSubmit:Rp,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:RR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),DR=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Shape Placeholder"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(RR)}},{key:"render",value:function(){return Object(ie.jsx)(IR,Object(u.a)({},this.props))}}]),n}(o.a.PureComponent));var FR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsx)("form",{onSubmit:n,style:{padding:"10px"},children:Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",children:[t&&Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(X.a,{color:"error",children:t})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"itemId",label:"Item Id",component:St,validate:[nu],required:!0,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"queryParams.uri",label:"URI",component:St,helperText:"Must be specified unless File Id is specified",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"queryParams.fileId",label:"File ID",component:St,helperText:"Must be specified unless URI is specified",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"queryParams.tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"queryParams.priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(Rt.a,{name:"queryParams.jobmetadata",label:"Job Metadata",component:Uc,buttonLabel:"Add Job Metadata"})})]})})})),kR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"allowReimport",component:Wt}),label:"Allow Reimport"}),Object(ie.jsx)(At.a,{name:"storageId",label:"Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notification",label:"Notification ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"notificationData",label:"Notification Data",component:St,fullWidth:!0})]})};var TR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:kR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),PR="EDIT_IMPORTSHAPE_FORM";var ER=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=Object(u.a)({queryParams:{tag:["original"]}},t),j=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},d=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Shape",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(PR)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Shape"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(FR,{onSubmit:Cp,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:PR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(TR,{onSubmit:Cp,initialValues:l,onSubmitSuccess:j,onSubmitFail:d,form:PR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),NR=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Shape"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(PR)}},{key:"render",value:function(){var e=this.props,t=e.history,n=Object(ye.a)(e,["history"]);return Object(ie.jsx)(ER,Object(u.a)({onSuccess:function(e){return t.push("/job/".concat(e.data.jobId))}},n))}}]),n}(o.a.PureComponent)),MR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"id",label:"Entity ID",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"type",children:"Entity Type"}),Object(ie.jsxs)(Lt,{name:"type",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"library",children:"Library"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"Collection"})]})]})]})},AR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{name:"metadata",label:"metadata",component:AO}),Object(ie.jsx)(Nt,{name:"content",label:"content",component:MR})]})},LR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"name",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"externalId",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"settings",component:St,fullWidth:!0})]})},WR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"collectionDocument",component:AR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),wR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:LR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),_R=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:LR}),Object(ie.jsx)(Mt,{name:"collectionDocument",label:"collectionDocument",component:AR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),VR="EDIT_COLLECTION_FORM";var BR=Object(m.c)(MC,de,oa)((function(e){var t=e.onSuccess,n=e.onFail,a=e.submitForm,r=e.onNext,o=e.onBack,c=e.activeStep,i=e.openSnackBar,s=function(e,n,a){i({messageContent:"Collection Created"}),t&&t(e,n,a)},l=function(e,t,a){i({messageContent:"Error Creating Collection",messageColor:"secondary"}),n&&n(e,t,a)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Collection",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return a(VR)},children:"Create"})}),Object(ie.jsxs)(ec.a,{activeStep:c,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Collection"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(wR,{onSubmit:eg,onSubmitSuccess:s,onSubmitFail:l,form:VR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:r,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Document"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(WR,{onSubmit:eg,onSubmitSuccess:s,onSubmitFail:l,form:VR,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:o,children:"Back"})})]})})]})]})]})})),UR=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Collection"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(VR)}},{key:"render",value:function(){var e=this.props,t=e.history,n=Object(ye.a)(e,["history"]);return Object(ie.jsx)(BR,Object(u.a)({onSuccess:function(e){return t.push("/collection/".concat(e.data.id))}},n))}}]),n}(o.a.PureComponent)),qR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"fileId",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"uri",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allowReimport",component:Wt}),label:"Allow Reimport"}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]})};var GR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"itemId",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:qR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),HR=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Xa}),Object(ie.jsx)(Lt,{name:"storageId",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",label:"Notification Metadata",component:Xa})]})};var JR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:HR}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),zR="EDIT_IMPORTSHAPEESSENCE_FORM";var KR=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=e.itemId,u=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},j=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Essence",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(zR)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Essence"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(GR,{onSubmit:Sp,initialValues:t,onSubmitSuccess:u,onSubmitFail:j,form:zR,destroyOnUnmount:!1,itemId:l})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(JR,{onSubmit:Sp,initialValues:t,onSubmitSuccess:u,onSubmitFail:j,form:zR,destroyOnUnmount:!1,itemId:l})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),YR=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Essence"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(zR)}},{key:"render",value:function(){var e=this.props,t=e.history,n=Object(ye.a)(e,["history"]);return Object(ie.jsx)(KR,Object(u.a)({onSuccess:function(e){return t.push("/job/".concat(e.data.jobId))}},n))}}]),n}(o.a.PureComponent));var XR=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsx)("form",{onSubmit:n,style:{padding:"10px"},children:Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",children:[t&&Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(X.a,{color:"error",children:t})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"itemId",label:"Item Id",component:St,validate:[nu],required:!0,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"queryParams.sidecar",label:"FileId / URI",component:St,helperText:"Either the id of the sidecar file or a URL for locating it",required:!0,fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"queryParams.startTimeCode",label:"Start TimeCode",component:St,helperText:"Expected start time code of the content",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"queryParams.priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(Rt.a,{name:"queryParams.jobmetadata",label:"Job Metadata",component:Uc,buttonLabel:"Add Job Metadata"})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(At.a,{name:"queryParams.notification",label:"Notification ID",component:St,helperText:"The placeholder job notification to use for this job",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,xs:12,children:Object(ie.jsx)(Rt.a,{name:"queryParams.notificationData",label:"Notification Data",component:Uc,buttonLabel:"Add Notification Data"})})]})})})),QR="EDIT_IMPORTSIDECAR_FORM";var $R=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.activeStep,c=e.openSnackBar,i=e.itemId;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Import",title:"Essence",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(QR)},children:"Start"})}),Object(ie.jsx)(ec.a,{activeStep:o,orientation:"vertical",children:Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Sidecar"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(XR,{onSubmit:NC,initialValues:t,onSubmitSuccess:function(e,t,a){c({messageContent:"Job Started"}),n&&n(e,t,a)},onSubmitFail:function(e,t,n){c({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)},form:QR,destroyOnUnmount:!1,itemId:i})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(QR)},children:"Start"})})]})})]})})]})})),ZR="IMPORTFILE_TAB",eI=[{tab:"IMPORTURI_TAB",listText:"URI",component:WC},{tab:"IMPORTPLACEHOLDER_TAB",listText:"Placeholder Item",component:GC},{tab:"IMPORTCOMPONENT_TAB",listText:"Component",component:QC},{tab:"IMPORTRAW_TAB",listText:"Upload",component:rR},{tab:ZR,listText:"File",component:vR},{tab:"IMPORTSHAPEPLACEHOLDER_TAB",listText:"Placeholder Shape",component:DR},{tab:"IMPORTSHAPE_TAB",listText:"Shape",component:NR},{tab:"IMPORTCOLLECTION_TAB",listText:"Collection",component:UR},{tab:"IMPORTSHAPEESSENCE_TAB",listText:"Essence",component:YR},{tab:"IMPORTSIDECAR_TAB",listText:"Sidecar",component:oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import | Sidecar"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(QR)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=Object(ye.a)(e,["history","location"]),r=new URLSearchParams(n.search),o=r.get("fileId"),c=r.get("itemId");return Object(ie.jsx)($R,Object(u.a)({onSuccess:function(e){return t.push("/job/".concat(e.data.jobId))},initialValues:{itemId:c,queryParams:{sidecar:o}}},a))}}]),n}(o.a.PureComponent))}],tI=function(e){var t=e.onChangeTab,n=e.tabValue;return Object(ie.jsx)(TO.a,{children:eI.map((function(e){var a=e.tab,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{onClick:function(){return t(null,a)},selected:n===a||void 0}},r)}))})},nI=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tabValue,n=e.onChangeTab,a=Object(ye.a)(e,["tabValue","onChangeTab"]),r=eI.find((function(e){return e.tab===t}))||eI[0],o=r.listText,c=r.component;return Object(ie.jsx)(hg,Object(u.a)({mainComponent:c,listComponent:tI,defaultOpen:!0,onChangeTab:n,tabValue:t,title:o},a))}}]),n}(o.a.PureComponent),aI=ca(ZR)(nI);function rI(e){return Object(ie.jsx)(ge,Object(u.a)({title:"File",helpTo:"/ref/storage/file.html"},e))}var oI=n(632),cI=n(710),iI=["CLOSED","ARCHIVED"],sI=["NONE","OPEN","BEING_READ","AWAITING_SYNC"],lI=["CLOSED","OPEN","BEING_READ"],uI=["CLOSED","OPEN","NONE","LOST","TO_APPEAR","TO_BE_DELETED","BEING_READ","ARCHIVED","AWAITING_SYNC"],jI=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"id",label:"File IDs",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"path",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"ignorecase",component:Wt}),label:"Ignore Case"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"recursive",component:Wt}),label:"Recursive"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"wildcard",component:Wt}),label:"Wildcard"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"count",component:Wt}),label:"Count"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"prefix",component:Wt}),label:"Prefix"}),Object(ie.jsx)(Lt,{name:"hash",label:"Hashes",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"algorithm",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsx)(Lt,{name:"state",component:gt,children:uI.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Lt,{name:"methodType",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"storageType",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"scheme",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"methodMetadata",label:"Method Metadata",component:Xa})]})},dI=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"prefixFirst",component:St,type:"number",fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"prefixNumber",component:St,type:"number",fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"sort",component:Ya,simple:!0,fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"storage",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"storageGroup",component:yl,loadOptions:Rl,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{component:"fieldset",children:[Object(ie.jsx)(oI.a,{component:"legend",children:"File Association"}),Object(ie.jsxs)(Lt,{name:"filter",component:xt,children:[Object(ie.jsx)(re.a,{value:"all",control:Object(ie.jsx)(cI.a,{}),label:"All"}),Object(ie.jsx)(re.a,{value:"item",control:Object(ie.jsx)(cI.a,{}),label:"With Item"}),Object(ie.jsx)(re.a,{value:"noitem",control:Object(ie.jsx)(cI.a,{}),label:"Not Associated"})]})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"excludeQueued",component:Wt}),label:"Exclude Queued"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includeItem",component:Wt}),label:"Include Item"})]})};var mI=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:jI}),Object(ie.jsx)(Mt,{name:"matrixParams",component:dI}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var bI=Object(m.c)(de,oa)((function(e){var t=e.onClose,n=e.onSuccess,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.form,i=void 0===c?"FILE_FILTER_FORM":c,s=e.changeForm,l=function(){var e=Object(uj.a)(lj.a.mark((function e(){return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(i,"matrixParams.first",0);case 2:r(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"File List Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(mI,{form:i,onSubmit:bR,onSubmitSuccess:function(e,t,a){n&&n(e,t,a)},onSubmitFail:function(){a({messageContent:"Error Listing Files",messageColor:"secondary"})},onCancel:t,destroyOnUnmount:!1,initialValues:{matrixParams:{first:0,number:10,prefixFirst:0,prefixNumber:10}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(i)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:l,children:"Filter"})]})]})})),hI=function(e){var t=e.fileDocument;if(void 0===t)return null;var n=t.state;return iI.includes(n)?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Qr,{}),label:He()(n.toLowerCase())}):sI.includes(n)?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(eo,{}),label:He()(n.toLowerCase())}):Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Zr,{}),label:n?He()(n.toLowerCase()):"Unknown"})};function OI(e){var t=e.fileDocument,n=void 0===t?{}:t;return Object(ie.jsxs)(Un,{to:"/file/".concat(n.id,"/"),hover:!0,children:[Object(ie.jsx)(Vn,{children:n.path}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/file/".concat(n.id,"/"),children:n.id})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(hI,{fileDocument:n})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/storage/".concat(n.storage,"/"),children:n.storage})}),Object(ie.jsx)(Vn,{children:en(n.size)}),Object(ie.jsx)(Vn,{children:n.timestamp?qt()(n.timestamp).toString():""})]})}function pI(e){var t=e.fileListDocument,n=e.count,a=void 0===n?0:n,r=e.page,o=void 0===r?0:r,c=e.rowsPerPage,i=void 0===c?10:c,s=e.onChangePage,l=e.onChangeRowsPerPage,u=e.onChangeOrder,j=e.orderBy,d=e.orderDirection,m=t.file,b=void 0===m?[]:m,h=[10,100,250];return h.includes(i)||h.push(i),Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"filename"===j,direction:d,onClick:u("filename"),children:"Path"})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"fileId"===j,direction:d,onClick:u("fileId"),children:"ID"})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"state"===j,direction:d,onClick:u("state"),children:"State"})}),Object(ie.jsx)(Vn,{children:"Storage"}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"size"===j,direction:d,onClick:u("size"),children:"Size"})}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(vj.a,{active:"timestamp"===j,direction:d,onClick:u("timestamp"),children:"Timestamp"})})]})}),Object(ie.jsx)(_n,{children:b.map((function(e){return Object(ie.jsx)(OI,{fileDocument:e},e.id)}))}),Object(ie.jsx)(yj,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Cj,{count:a,page:o,rowsPerPage:i,onChangePage:s,onChangeRowsPerPage:l,ActionsComponent:qe,rowsPerPageOptions:h})})})]})}function xI(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(pI,Object(u.a)({},t))})})}function fI(e){var t=e.filePrefixType,n=e.onChangePrefix;if(!t)return null;var a=t.prefix,r=void 0===a?[]:a;return Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Vn,{children:"Prefix"})})}),Object(ie.jsx)(_n,{children:r.map((function(e){return Object(ie.jsx)(Un,{hover:!0,onClick:function(){return n(e)},children:Object(ie.jsx)(Vn,{children:e})})}))})]})}function vI(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(fI,Object(u.a)({},t))})})}var gI=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"path",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"uri",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsx)(Lt,{name:"state",component:gt,children:uI.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]})]})},yI=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"createOnly",component:Wt}),label:"Create Only"})})};var SI=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"storageId",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"fileDocument",component:gI}),Object(ie.jsx)(Mt,{name:"queryParams",component:yI}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),CI="FILE_ENTITY_FORM";var RI=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New File Entity"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(SI,{form:CI,onSubmit:hR,onSubmitSuccess:function(e,t,o){r({messageContent:"File Created"}),n(),a&&a(e,t,o)},onSubmitFail:function(){r({messageContent:"Error Creating File",messageColor:"secondary"})},onCancel:n})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(CI)},children:"Save"})]})]})})),II="FILE_FILTER_FORM",DI="FILE_ENTITY_DIALOG",FI=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSuccess=a.onSuccess.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.onChangeOrder=a.onChangeOrder.bind(Object(M.a)(a)),a.onChangePrefix=a.onChangePrefix.bind(Object(M.a)(a)),a.state={fileListDocument:void 0,count:void 0,page:void 0,rowsPerPage:void 0,orderBy:void 0,orderDirection:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | File",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(II)}},{key:"onSuccess",value:function(e){var t=e.data,n=this.props.formValues,a=(void 0===n?{}:n).matrixParams,r=void 0===a?{}:a,o=r.first,c=void 0===o?0:o,i=r.number,s=void 0===i?10:i,l=t.hits,u=void 0===l?0:l,j=Math.ceil(u/s)-Math.ceil((u-c)/s);this.setState({count:u,rowsPerPage:s,page:j,fileListDocument:t})}},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.props,r=a.formValues,o=void 0===r?{}:r,c=a.changeForm,i=o.matrixParams,s=(void 0===i?{}:i).number,c(II,"matrixParams.first",n*(l=void 0===s?10:s)),e.next=8,c(II,"matrixParams.number",l);case 8:this.onRefresh();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangePrefix",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.changeForm,e.next=3,n(II,"queryParams.path",t);case 3:this.onRefresh();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,(a=this.props.changeForm)(II,"matrixParams.first",0),e.next=6,a(II,"matrixParams.number",n);case 6:this.onRefresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeOrder",value:function(e){var t=this;return Object(uj.a)(lj.a.mark((function n(){var a,r,o,c,i,s,l;return lj.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.props.changeForm,r=t.state,o=r.orderDirection,c=r.orderBy,i="",e!==c?(l=e,s="desc",i=["".concat(e," ").concat(s)]):"desc"===o&&(l=e,s="asc",i=["".concat(e," ").concat(s)]),t.setState({orderBy:l,orderDirection:s}),n.next=7,a(II,"matrixParams.sort",i);case 7:t.onRefresh();case 8:case"end":return n.stop()}}),n)})))}},{key:"render",value:function(){var e=this.state,t=e.fileListDocument,n=e.count,a=e.page,r=e.rowsPerPage,o=e.orderBy,c=e.orderDirection,i=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(rI,{code:t,codeModal:"FileListDocument",createModal:DI,onRefresh:this.onRefresh}),Object(ie.jsx)(bI,{form:II,onSuccess:this.onSuccess}),t&&Object(ie.jsxs)(ie.Fragment,{children:[t.prefixes&&Object(ie.jsx)(vI,{filePrefixType:t.prefixes,onChangePrefix:this.onChangePrefix}),Object(ie.jsx)(xI,{fileListDocument:t,count:n,page:a,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangeOrder:this.onChangeOrder,orderBy:o,orderDirection:c})]}),Object(ie.jsx)(RI,{dialogName:DI,onSuccess:function(e){return i.push("/file/".concat(e.data.id))}})]})}}]),n}(o.a.PureComponent),kI=Object(m.c)(oa,kj)(FI,II),TI=n(387),PI=n.n(TI),EI=function(e){var t=e.fileId,n=e.fileName,a=e.openSnackBar;(function(e){var t=e.fileId,n=e.openSnackBar;return W.p.getFile({fileId:t,queryParams:{methodType:"AUTO"}}).then((function(e){var t=e.data.uri,n=void 0===t?[]:t;if(n.length>0){var a=n[0].split("/APInoauth/")[1];return"/APInoauth/".concat(a)}})).catch((function(){n&&n({messageContent:"Error Loading Download URL",messageColor:"secondary"})}))})({fileId:t,openSnackBar:a}).then((function(e){W.A.getFileRaw({path:e}).then((function(e){!function(e){var t=e.data,n=e.fileName,a=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=a,r.setAttribute("download",n),r.click(),window.URL.revokeObjectURL(a)}({data:e.data,fileName:n});a&&a({messageContent:"Download Started"})})).catch((function(){a&&a({messageContent:"Error Downloading File Content",messageColor:"secondary"})}))}))},NI=ue((function(e){var t=e.fileDocument,n=e.openSnackBar;if(void 0===t)return null;var a=t.path,r=t.id,o=t.state;if(!lI.includes(o))return null;return Object(ie.jsx)($.a,{title:"Download",children:Object(ie.jsx)(_.a,{onClick:function(){return EI({fileId:r,fileName:a,openSnackBar:n})},children:Object(ie.jsx)(PI.a,{})})})})),MI=function(e){var t=e.fileDocument,n=e.abandonModal,a=e.onOpen;return void 0===t?null:t.item?Object(ie.jsx)(Cn.a,{onClick:function(){return a({modalName:n})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Abandon Item"})}):null};var AI=T((function(e){var t=e.fileId,n=e.onOpen,a=e.stateModal,r=e.moveModal,o=e.abandonModal,c=e.deleteModal,i=e.removeEntityModal,s=e.pathModal,l=e.overwriteModal,j=e.analyzeModal,d=e.fileDocument,m=Object(ye.a)(e,["fileId","onOpen","stateModal","moveModal","abandonModal","deleteModal","removeEntityModal","pathModal","overwriteModal","analyzeModal","fileDocument"]);return Object(ie.jsx)(ge,Object(u.a)({helpTo:"/ref/storage/file.html",parentTitle:t,grandParentTitle:"File",grandParentTo:"/file/",iconList:Object(ie.jsxs)(ie.Fragment,{children:[d&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(hI,{fileDocument:d}),Object(ie.jsx)(NI,{fileDocument:d})]}),Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:a})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Change State"})}),Object(ie.jsx)(ze,{to:"/import?tab=IMPORTFILE_TAB&fileId=".concat(t),children:Object(ie.jsx)(Cn.a,{children:Object(ie.jsx)(X.a,{color:"inherit",children:"Import As Item"})})}),Object(ie.jsx)(ze,{to:"/import?tab=IMPORTCOMPONENT_TAB&fileId=".concat(t),children:Object(ie.jsx)(Cn.a,{children:Object(ie.jsx)(X.a,{color:"inherit",children:"Import To Component"})})}),Object(ie.jsx)(ze,{to:"/import?tab=IMPORTSIDECAR_TAB&fileId=".concat(t),children:Object(ie.jsx)(Cn.a,{children:Object(ie.jsx)(X.a,{color:"inherit",children:"Import As Sidecar"})})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:j})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Shape Deduction"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:r})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Copy/Move File"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:s})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Set New Path"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:l})},children:Object(ie.jsx)(X.a,{color:"inherit",children:"Overwrite File Data"})}),Object(ie.jsx)(MI,{fileDocument:m.code,abandonModal:o,onOpen:n}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:i})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Remove Entity"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:c})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Delete File"})})]})]})},m))})),LI=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",component:Xa}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",label:"Notification Data",component:Xa})]})};var WI=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:LI}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),wI="FILE_DELETE_FORM";var _I=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.fileDocument;if(void 0===c)return null;var i=c.path,s=c.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Delete File ".concat(i||s)}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(WI,{form:wI,onSubmit:jR,onSubmitSuccess:function(e,t,o){r({messageContent:"File Delete Job Created"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Creating File Delete Job",messageColor:"secondary"})},onCancel:n,fileId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return o(wI)},children:"Delete"})]})]})}));var VI=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.fileDocument,o=e.onSuccess;if(void 0===r)return null;var c=r.path,i=r.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Abandon File ".concat(c||i)}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.p.abandonFile({fileId:i}).then((function(){a({messageContent:"File Abandoned"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Abandoned File",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Abandon"})]})]})}));var BI=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsx)(At.a,{name:"state",component:gt,children:uI.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),UI="FILE_STATE_FORM";var qI=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.fileDocument;if(void 0===c)return null;var i=c.id,s=c.state;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Change File State"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(BI,{form:UI,onSubmit:lR,onSubmitSuccess:function(){r({messageContent:"File State Updated"}),a&&a(),n()},onSubmitFail:function(){r({messageContent:"Error Updating File State",messageColor:"secondary"})},onCancel:n,fileId:i,initialValues:{state:s}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(UI)},children:"Save"})]})]})})),GI=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"move",children:"Action"}),Object(ie.jsxs)(Lt,{name:"move",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"false",children:"Copy"}),Object(ie.jsx)(Cn.a,{value:"true",children:"Move"})]})]}),Object(ie.jsx)(Lt,{name:"filename",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"useOriginalFilename",component:Wt}),label:"Use Original Filename"}),Object(ie.jsx)(Lt,{name:"timeRequirement",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"limitRate",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",component:Xa}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",label:"Notification Data",component:Xa})]})};var HI=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"targetStorageId",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:GI}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),JI="FILE_MOVE_FORM";var zI=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.fileDocument;if(void 0===c)return null;var i=c.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Move/Copy File"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(HI,{form:JI,onSubmit:uR,onSubmitSuccess:function(e,t,o){r({messageContent:"Transfer Job Created"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Creating Transfer Job",messageColor:"secondary"})},onCancel:n,fileId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(JI)},children:"Start"})]})]})}));var KI=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.fileDocument,o=e.onSuccess;if(void 0===r)return null;var c=r.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove File ".concat(c," Entity")}),Object(ie.jsx)(xe.a,{children:"This does not affect the physical file."}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.p.removeFileEntity({fileId:c}).then((function(){a({messageContent:"File Entity Removed"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing File Entity",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),YI=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"path",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(Lt,{name:"storage",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsx)(Lt,{name:"state",component:gt,children:uI.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"duplicate",component:Wt}),label:"Duplicate"})]})};var XI=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:YI}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),QI="FILE_PATH_FORM";var $I=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.fileDocument;if(void 0===c)return null;var i=c.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Set New Path"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(XI,{form:QI,onSubmit:dR,onSubmitSuccess:function(e,t,o){r({messageContent:"New Path Saved"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Saving Path",messageColor:"secondary"})},onCancel:n,fileId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(QI)},children:"Save"})]})]})})),ZI=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"transferId",component:St,fullWidth:!0,disabled:!0}),Object(ie.jsx)(Lt,{name:"transferPriority",component:St,type:"number",fullWidth:!0})]})};var eD=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.submitting;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"file",component:au,loading:a,required:!0,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:ZI}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),tD="FILE_OVERWRITE_FORM";var nD=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.fileDocument;if(void 0===c)return null;var i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),s=c.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Overwrite File Data"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(eD,{form:tD,onSubmit:mR,onSubmitSuccess:function(e,t,o){r({messageContent:"File Uploaded"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Uploading File",messageColor:"secondary"})},onCancel:n,fileId:s,initialValues:{queryParams:{transferId:i}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(tD)},children:"Upload"})]})]})})),aD=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Lt,{name:"resourceId",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",component:Xa}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",label:"Notification Data",component:Xa})]})};var rD=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.fileId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"fileId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:aD}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),oD="FILE_ANALYZE_FORM";var cD=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.fileDocument;if(void 0===c)return null;var i=c.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Run Shape Deduction Job"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(rD,{form:oD,onSubmit:pR,onSubmitSuccess:function(e,t,o){r({messageContent:"Starting Shape Deduction Job"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Starting Shape Deduction Job",messageColor:"secondary"})},onCancel:n,fileId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(oD)},children:"Start"})]})]})})),iD=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"id",value:n.id,hover:!0}),Object(ie.jsx)(nn,{title:"path",value:n.path,hideNoValue:!0,hover:!0}),Object(ie.jsx)(Ca,{title:"uri",value:n.uri,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"state",value:n.state,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"size",value:n.size,variant:"bytes",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"hash",value:n.hash,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"timestamp",value:n.timestamp,variant:"timestamp",hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"refreshFlag",value:n.refreshFlag,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"sequence",value:n.sequence,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"storage",value:n.storage,variant:"storageId",hideNoValue:!0,hover:!0}),Object(ie.jsx)(on,{value:n.item,component:function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"item",value:t.id,variant:"itemId"}),Object(ie.jsx)(on,{value:t.shape,component:function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"shape",value:t.id}),Object(ie.jsx)(on,{value:t.component,component:function(e){var t=e.value;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"component",value:t.id,hideNoValue:!0})})},hideNoValue:!0})]})},hideNoValue:!0})]})},hideNoValue:!0,hover:!0,dense:!0}),Object(ie.jsx)(on,{title:"range",value:n.range,component:function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"start",value:t.start}),Object(ie.jsx)(nn,{title:"count",value:t.count})]})},hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"type",value:n.type,hideNoValue:!0,hover:!0})]})},sD=function(e){var t=e.fileDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:iD,value:t})})};function lD(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(sD,Object(u.a)({},t))})})}var uD=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.state={fileDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh();var e=this.props.fileId;document.title="xray | File | ".concat(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.fileId;this.props.fileId!==t&&(this.onFetch(t),document.title="xray | File | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.fileId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.p.getFile({fileId:e,matrixParams:[{includeItem:!0}]}).then((function(e){return t.setState({fileDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading File",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.fileDocument,t=this.props,n=t.fileId,a=t.titleComponent,r=t.tabComponent;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:e,fileDocument:e,codeModal:"FileDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),e&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(lD,{fileDocument:e}),Object(ie.jsx)(jb,{simpleMetadataDocument:e.metadata,onSuccess:this.onRefresh,entityType:"storage/file",entityId:n})]})]})}}]),n}(o.a.PureComponent));function jD(e){return void 0===e.shapeDocument?null:Object(ie.jsxs)(Mc,{children:[Object(ie.jsx)(nx,Object(u.a)({},e)),Object(ie.jsx)(rx,Object(u.a)({},e)),Object(ie.jsx)(sx,Object(u.a)({},e)),Object(ie.jsx)(ux,Object(u.a)({},e)),Object(ie.jsx)(cx,Object(u.a)({},e)),Object(ie.jsx)(dx,Object(u.a)({},e))]})}var dD=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.state={shapeListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh();var e=this.props.fileId;document.title="xray | File | ".concat(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.fileId;this.props.fileId!==t&&(this.onFetch(t),document.title="xray | File | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.fileId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.p.listFileShapes({fileId:e}).then((function(e){return t.setState({shapeListDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading File",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.shapeListDocument,t=this.props,n=t.titleComponent,a=t.tabComponent;return Object(ie.jsxs)(ie.Fragment,{children:[n&&Object(ie.jsx)(n,{code:e,codeModal:"ShapeListDocument",onRefresh:this.onRefresh}),a&&Object(ie.jsx)(a,{}),e&&e.shape&&e.shape.map((function(e){return Object(ie.jsx)(jD,{shapeDocument:e})}))]})}}]),n}(o.a.PureComponent)),mD="FILE_DELETE_DIALOG",bD="FILE_ABANDON_DIALOG",hD="FILE_STATE_DIALOG",OD="FILE_MOVE_DIALOG",pD="FILE_ENTITY_REMOVE_DIALOG",xD="FILE_PATH_DIALOG",fD="FILE_OVERWRITE_DIALOG",vD="FILE_ANALYZE_DIALOG",gD="FILE_OVERVIEW_TAB",yD=[{tab:gD,listText:"Overview",component:uD},{tab:"FILE_SHAPE_TAB",listText:"Shape",component:dD}],SD=function(e){var t=e.onChangeTab,n=e.tabValue;return Object(ie.jsx)(TO.a,{children:yD.map((function(e){var a=e.tab,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{onClick:function(){return t(null,a)},selected:n===a||void 0}},r)}))})},CD=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.setOnRefresh=a.setOnRefresh.bind(Object(M.a)(a)),a.state={onRefresh:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.fileId;document.title="xray | File | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this.state.onRefresh;e&&e()}},{key:"setOnRefresh",value:function(e){this.setState({onRefresh:e})}},{key:"render",value:function(){var e=this.state.fileDocument,t=this.props,n=t.fileId,a=t.history,r=t.onChangeTab,o=t.tabValue,c=yD.find((function(e){return e.tab===o}))||yD[0],i=c.listText,s=c.component;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(hg,{onChangeTab:r,tabValue:o,fileId:n,mainComponent:s,listComponent:SD,defaultOpen:!0,titleComponent:function(e){return Object(ie.jsx)(AI,Object(u.a)({title:i,deleteModal:mD,abandonModal:bD,stateModal:hD,moveModal:OD,removeEntityModal:pD,pathModal:xD,overwriteModal:fD,analyzeModal:vD,fileId:n},e))},setOnRefresh:this.setOnRefresh}),Object(ie.jsx)(_I,{dialogName:mD,onSuccess:function(e){return a.push("/job/".concat(e.data.jobId))},fileDocument:e}),Object(ie.jsx)(VI,{dialogName:bD,onSuccess:this.onRefresh,fileDocument:e}),Object(ie.jsx)(qI,{dialogName:hD,onSuccess:this.onRefresh,fileDocument:e}),Object(ie.jsx)(zI,{dialogName:OD,onSuccess:function(e){return a.push("/job/".concat(e.data.jobId))},fileDocument:e}),Object(ie.jsx)($I,{dialogName:xD,onSuccess:function(e){return a.push("/file/".concat(e.data.id))},fileDocument:e}),Object(ie.jsx)(KI,{dialogName:pD,onSuccess:function(){return a.push("/file/")},fileDocument:e}),Object(ie.jsx)(nD,{dialogName:fD,onSuccess:this.onRefresh,fileDocument:e}),Object(ie.jsx)(cD,{dialogName:vD,onSuccess:function(e){return a.push("/job/".concat(e.data.jobId))},fileDocument:e})]})}}]),n}(o.a.PureComponent),RD=Object(m.c)(ca(gD),de)(CD);function ID(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Storage Rule",helpTo:"/ref/storage/storage-rule.html"},e))}var DD=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Storage Rule"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:Al,documentName:"storageRuleDocument",onSubmit:ul,onSubmitSuccess:function(e){a({messageContent:"Storage Rule Created"}),n(),r&&r(e)},onSubmitFail:function(){a({messageContent:"Error Creating Storage Rule",messageColor:"secondary"})},onCancel:n})})]})})),FD="STORAGERULE_DIALOG",kD=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={storageRulesDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Storage Rule"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.O.listStorageRule().then((function(t){return e.setState({storageRulesDocument:t.data})}))}catch(n){t({messageContent:"Error Getting Storage Rule List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.storageRulesDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ID,{onRefresh:this.onRefresh,code:e,codeModal:"StorageRulesDocument",createModal:FD}),e&&Object(ie.jsx)(Qf,{onRefresh:this.onRefresh,storageRulesDocument:e}),Object(ie.jsx)(DD,{dialogName:FD,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent));function TD(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Error Log",helpTo:"/ref/xml-schema.html?#schema-element-ErrorLogListDocument"},e))}function PD(e){var t=e.errorLogDocument,n=void 0===t?{}:t;return Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:n.timestamp?qt()(n.timestamp).format("YYYY-MM-DD HH:mm").toString():""}),Object(ie.jsx)(Vn,{children:n.id}),Object(ie.jsx)(Vn,{children:n.type}),Object(ie.jsx)(Vn,{children:n.entityType}),Object(ie.jsx)(Vn,{children:n.entityId}),Object(ie.jsx)(Vn,{children:n.description})]})}function ED(e){var t=e.errorLogListDocument,n=(void 0===t?{}:t).errorLog,a=void 0===n?[]:n;return Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Timestamp"}),Object(ie.jsx)(Vn,{children:"ID"}),Object(ie.jsx)(Vn,{children:"Type"}),Object(ie.jsx)(Vn,{children:"Entity Type"}),Object(ie.jsx)(Vn,{children:"Entity ID"}),Object(ie.jsx)(Vn,{children:"Description"})]})}),Object(ie.jsx)(_n,{children:a.map((function(e){return Object(ie.jsx)(PD,{errorLogDocument:e},e.id)}))})]})}function ND(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(ED,Object(u.a)({},t))})})}var MD=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={errorLogListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Error Log",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this;try{W.l.listErrorLogs().then((function(t){return e.setState({errorLogListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Error Logs",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.errorLogListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(TD,{code:e,codeModal:"ErrorLogListDocument",onRefresh:this.onRefresh}),e&&Object(ie.jsx)(ND,{errorLogListDocument:e})]})}}]),n}(o.a.PureComponent));function AD(e){var t=e.vxaDocument,n=void 0===t?{}:t;return Object(ie.jsx)(Un,{to:"/vxa/".concat(n.uuid,"/"),hover:!0,children:Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/vxa/".concat(n.uuid,"/"),children:n.uuid})})})}function LD(e){var t=e.vxaListDocument,n=(void 0===t?[]:t).vxa,a=void 0===n?[]:n;return Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsx)(Un,{children:Object(ie.jsx)(Vn,{children:"UUID"})})}),Object(ie.jsx)(_n,{children:a.map((function(e){return Object(ie.jsx)(AD,{vxaDocument:e},e.uuid)}))})]})}function WD(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LD,Object(u.a)({},t))})})}var wD=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"uuid",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"vxaname",label:"Name",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"vsip",label:"API IP",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"vsport",label:"API Port",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"ws",label:"Websocket URI",component:St,fullWidth:!0})]})};var _D=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:wD}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function VD(e){var t=e.queryParams;return W.W.createVxa({queryParams:t}).then((function(e){return{vxaConfiguration:e.data,queryParams:t}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var BD="EDIT_AGENT_FORM";var UD=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess,o=e.submitForm;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Agent"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(_D,{form:BD,onSubmit:VD,onSubmitSuccess:function(e){a({messageContent:"Agent Created"}),n(),r(e)},onSubmitFail:function(){a({messageContent:"Error Creating Agent",messageColor:"secondary"})}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(BD)},children:"Save"})]})]})}));var qD=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.vxaConfiguration;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Agent Configuration"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(nn,{value:a,variant:"code"})}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{size:"small",onClick:n,children:"Close"})})]})}));function GD(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Agent",helpTo:"/ref/vsa.html"},e))}var HD="VXA_CREATE_MODAL",JD="VXA_CONFIG_MODAL",zD=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={vxaListDocument:void 0,vxaConfiguration:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Agent"}},{key:"onRefresh",value:function(){var e=this;try{W.W.listVxa().then((function(t){return e.setState({vxaListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Agent List",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.vxaListDocument,a=t.vxaConfiguration,r=this.props.onOpen;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(GD,{createModal:HD,onRefresh:this.onRefresh,code:n,codeModal:"VXAListDocument"}),n&&Object(ie.jsx)(WD,{vxaListDocument:n,onRefresh:this.onRefresh}),Object(ie.jsx)(UD,{dialogName:HD,onSuccess:function(t){e.setState({vxaConfiguration:t.vxaConfiguration}),r({modalName:JD}),e.onRefresh()}}),a&&Object(ie.jsx)(qD,{dialogName:JD,vxaConfiguration:a})]})}}]),n}(o.a.PureComponent)),KD=function(e){var t=e.vxaDocument;return void 0===t?null:"ONLINE"===t.status?Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Qr,{}),label:"Online"}):Object(ie.jsx)(w.a,{avatar:Object(ie.jsx)(Zr,{}),label:"Offline"})};function YD(e){var t=e.vxaUuid,n=Object(ye.a)(e,["vxaUuid"]);return Object(ie.jsx)(ge,Object(u.a)({helpTo:"/ref/vsa.html",title:t,parentTitle:"Agent",parentTo:"/vxa/",iconList:Object(ie.jsx)(KD,{vxaDocument:n.code})},n))}var XD=function e(t){var n=t.value,a=void 0===n?{}:n;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"type",value:a.type,hover:!0}),Object(ie.jsx)(nn,{title:"url",value:a.url,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"version",value:a.version,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"reverseAddress",value:a.reverseAddress,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"reverseAddressDetected",value:a.reverseAddressDetected,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"directAccess",value:a.directAccess,hover:!0,hideNoValue:!0,variant:"list"}),Object(ie.jsx)(nn,{title:"state",value:a.state,hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"transcoder",value:a.transcoder,component:e,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"weight",value:a.weight,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"maxJob",value:a.maxJob,hover:!0,hideNoValue:!0})]})},QD=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"s3CredentialType",value:n,hover:!0})})},$D=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"vsClusterAddress",value:n.vsClusterAddress,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"uri",value:n.uri,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"status",value:n.status,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"lastSeen",value:n.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0})]})},ZD=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0}),Object(ie.jsx)(nn,{title:"id",value:n.id,hover:!0}),Object(ie.jsx)(nn,{title:"path",value:n.path,hover:!0}),Object(ie.jsx)(nn,{title:"isCollectionStorage",value:n.isCollectionStorage,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"createProxiesStorage",value:n.createProxiesStorage,hover:!0,hideNoValue:!0})]})},eF=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"uuid",value:n.uuid,hover:!0}),Object(ie.jsx)(nn,{title:"name",value:n.name,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"uri",value:n.uri,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"lastSeen",value:n.lastSeen,variant:"timestamp",hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"user",value:n.user,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"allStorages",value:n.allStorages,variant:"boolean",hideNoValue:!0,hover:!0}),Object(ie.jsx)(on,{title:"storage",value:n.storage,component:ZD,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"file",value:n.file,hover:!0,variant:"list",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"instance",value:n.instance,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"vxaVersion",value:n.vxaVersion,hover:!0}),Object(ie.jsx)(an,{component:QD,value:n.s3CredentialType,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"transcoderVersion",value:n.transcoderVersion,hover:!0}),Object(ie.jsx)(nn,{title:"port",value:n.port,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"status",value:n.status,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"mode",value:n.mode,hover:!0,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"publicKey",value:n.publicKey,hover:!0,variant:"code",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"vsClusterAddress",value:n.vsClusterAddress,hover:!0,hideNoValue:!0}),Object(ie.jsx)(on,{title:"vsInstance",value:n.vsInstance,component:$D,hideNoValue:!0}),Object(ie.jsx)(on,{title:"transcoder",value:n.transcoder,component:XD,hideNoValue:!0})]})};function tF(e){var t=e.vxaDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{component:eF,value:t})})}function nF(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(tF,Object(u.a)({},t))})})}var aF=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.vxaDocument,o=e.onSuccess;if(void 0===r)return null;var c=r.uuid;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Agent ".concat(c)}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.W.removeVxa({vxaUuid:c}).then((function(){a({messageContent:"Agent Removed"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Agent",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),rF="REMOVE_AGENT_DIALOG",oF=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={vxaDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh();var e=this.props.vxaUuid;document.title="xray | Agent | ".concat(e)}},{key:"onRefresh",value:function(){var e=this,t=this.props.vxaUuid;try{W.W.getVxa({vxaUuid:t}).then((function(t){return e.setState({vxaDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Agent",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.vxaDocument,t=this.props,n=t.vxaUuid,a=t.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(YD,{onRefresh:this.onRefresh,code:e,codeModal:"VXADocument",removeModal:rF,vxaUuid:n}),e&&Object(ie.jsx)(nF,{vxaDocument:e}),Object(ie.jsx)(aF,{dialogName:rF,onSuccess:function(){return a.push("/vxa/")},vxaDocument:e})]})}}]),n}(o.a.PureComponent)),cF=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"autoRefresh",component:Wt}),label:"Auto Refresh"}),Object(ie.jsx)(Lt,{name:"frequencyFrom",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"frequencyTo",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"updateMode",component:St,fullWidth:!0})]})};var iF=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"matrixParams",label:"matrixParams",component:cF})]})}));function sF(e){var t=e.queryParams,n=e.itemListDocument;return W.v.createLibrary({itemListDocument:n,queryParams:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function lF(e){var t=e.matrixParams,n=void 0===t?[]:t;return W.v.listLibrary({matrixParams:Object.entries(n)}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function uF(e,t,n){var a=e.queryParams,r=e.matrixParams,o=void 0===r?[]:r,c=n.libraryId||e.libraryId;return W.v.getLibrary({libraryId:c,queryParams:a,matrixParams:Object.entries(o)}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function jF(e,t,n){var a=e.itemListDocument,r=n.libraryId||e.libraryId;return W.v.updateLibrary({libraryId:r,itemListDocument:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function dF(e,t,n){var a=e.librarySettingsDocument,r=n.libraryId||e.libraryId;return W.v.updateLibrarySettings({libraryId:r,librarySettingsDocument:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function mF(e,t,n){var a=e.metadataDocument,r=e.queryParams,o=n.libraryId||e.libraryId;return W.v.updateLibraryItemMetadata({libraryId:o,metadataDocument:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function bF(e,t,n){var a=e.queryParams,r=n.libraryId||e.libraryId;return W.v.removeLibrary({libraryId:r,queryParams:a}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var hF="LIBRARY_LIST_PARAMS_FORM";var OF=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Library List Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(iF,Object(u.a)({form:hF,onSubmit:lF,onSubmitSuccess:function(e,n,a){t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Library List",messageColor:"secondary"}),n&&n(e,t,r)}},c))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(hF)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(hF)},children:"Update"})]})]})})),pF=function(){return Object(ie.jsx)(Lt,{name:"id",label:"Item ID",component:St,fullWidth:!0})},xF=function(){return Object(ie.jsx)(Nt,{name:"item",label:"item",component:pF,withHeader:!1,arrayHeader:!0})},fF=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"externalId",component:St,fullWidth:!0})})};var vF=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:fF}),Object(ie.jsx)(Mt,{name:"itemListDocument",label:"itemListDocument ",component:xF}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),gF="LIBRARY_CREATE_FORM";var yF=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.onSuccess,o=e.openSnackBar,c=e.onFail;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Library"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(vF,{onSubmit:sF,onSubmitSuccess:function(e,t,n){o({messageContent:"Library Created"}),r&&r(e,t,n),a()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Library",messageColor:"secondary"}),c&&c(e,t,n)},form:gF})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(gF)},children:"Create"})]})]})})),SF="LIBRARY_CREATE_DIALOG",CF=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.state={uriListDocument:void 0,page:0,rowsPerPage:100},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Library",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(hF)}},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,(a=this.props.changeForm)(hF,"matrixParams.first",1),e.next=6,a(hF,"matrixParams.number",n);case 6:this.setState({page:0,rowsPerPage:n}),this.onRefresh();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l,u;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.state.rowsPerPage,r=this.props,o=r.formValues,c=void 0===o?{}:o,i=r.changeForm,s=c.matrixParams,l=(void 0===s?{}:s).number,i(hF,"matrixParams.first",n*(u=void 0===l?a:l)+1),e.next=9,i(hF,"matrixParams.number",u);case 9:this.setState({page:n,rowsPerPage:u}),this.onRefresh();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.uriListDocument,a=t.page,r=t.rowsPerPage,o=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Library",helpTo:"/ref/library.html",onRefresh:this.onRefresh,code:n,codeModal:"URIListDocument",createModal:SF}),Object(ie.jsx)(OF,{onSuccess:function(t){return e.setState({uriListDocument:t.data})},initialValues:{matrixParams:{number:100,first:1}}}),n&&Object(ie.jsx)(Xe,{uriListDocument:n,linkTo:function(e){return"/library/".concat(e,"/")},page:a,rowsPerPage:r,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage}),Object(ie.jsx)(yF,{dialogName:SF,onSuccess:function(e){return o.push("/library/".concat(e.data.uri[0],"/"))}})]})}}]),n}(o.a.PureComponent),RF=Object(m.c)(oa,kj)(CF,hF),IF=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"username",component:St,disabled:!0,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"updateMode",children:"Update Mode"}),Object(ie.jsxs)(Lt,{name:"updateMode",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"REPLACE",children:"REPLACE"}),Object(ie.jsx)(Cn.a,{value:"MERGE",children:"MERGE"}),Object(ie.jsx)(Cn.a,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"autoRefresh",component:Wt}),label:"Auto Refresh"}),Object(ie.jsx)(Lt,{name:"updateFrequency",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"lastUpdate",component:St,disabled:!0,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"query",label:"Query",component:jO})]})};var DF=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.libraryId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"libraryId",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"librarySettingsDocument",component:IF}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),FF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"value",value:t.value,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"No Escape",value:t.noescape,variant:"boolean",hideNoValue:!0})]})},kF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"value",value:t.value,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"minimum",value:t.minimum,variant:"boolean",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"maximum",value:t.maximum,variant:"boolean",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"No Escape",value:t.noescape,variant:"boolean",hideNoValue:!0})]})},TF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{value:t.value[0],title:"start",component:kF}),Object(ie.jsx)(an,{value:t.value[1],title:"end",component:kF}),Object(ie.jsx)(nn,{title:"Exclusive Minimum",value:t.exclusiveMinimum,variant:"boolean",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Exclusive Maximum",value:t.exclusiveMaximum,variant:"boolean",hideNoValue:!0})]})},PF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Field Name",value:t.name,hideNoValue:!0}),Object(ie.jsx)(on,{value:t.value,arrayTitle:"Field Value",component:kF}),Object(ie.jsx)(on,{value:t.range,arrayTitle:"Field Range",component:TF}),Object(ie.jsx)(nn,{title:"Field Target",value:t.target,hideNoValue:!0})]})},EF=function e(t){var n=t.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Group Name",value:n.name,hideNoValue:!0}),Object(ie.jsx)(on,{value:n.field,arrayTitle:"Field",component:PF}),Object(ie.jsx)(on,{value:n.group,arrayTitle:"Group",component:e}),Object(ie.jsx)(nn,{title:"reference",value:n.reference,hideNoValue:!0})]})},NF=function e(t){var n=t.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Operation",value:n.operation,hideNoValue:!0}),Object(ie.jsx)(on,{value:n.operator,arrayTitle:"Operator",component:e}),Object(ie.jsx)(on,{value:n.text,arrayTitle:"Text",component:FF}),Object(ie.jsx)(on,{value:n.field,arrayTitle:"Field",component:PF}),Object(ie.jsx)(on,{value:n.group,arrayTitle:"Group",component:EF}),Object(ie.jsx)(Ca,{title:"reference",value:n.reference,hideNoValue:!0})]})},MF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Filter Name",value:t.name,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Operation",value:t.operation,hideNoValue:!0}),Object(ie.jsx)(on,{value:t.operator,arrayTitle:"Operator",component:NF}),Object(ie.jsx)(on,{value:t.field,arrayTitle:"Field",component:PF}),Object(ie.jsx)(on,{value:t.group,arrayTitle:"Group",component:EF}),Object(ie.jsx)(Ca,{title:"reference",value:t.reference,hideNoValue:!0})]})},AF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(on,{value:t.field,arrayTitle:"Field",component:PF}),Object(ie.jsx)(on,{value:t.group,arrayTitle:"Group",component:EF}),Object(ie.jsx)(an,{value:t.operator,component:NF})]})},LF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(AF,{value:t}),Object(ie.jsx)(an,{value:t.file,component:AF,title:"File"})]})},WF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(AF,{value:t}),Object(ie.jsx)(an,{value:t.shape,component:LF,title:"Shape"}),Object(ie.jsx)(an,{value:t.file,component:AF,title:"File"})]})},wF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"start",value:t.start,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"End",value:t.end,hideNoValue:!0})]})},_F=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Field Name",value:t.name,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Field Value",value:t.value,hideNoValue:!0}),Object(ie.jsx)(an,{value:t.range,arrayTitle:"Field Range",component:wF})]})},VF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Field",value:t.field,hideNoValue:!0}),Object(ie.jsx)(on,{value:t.range,arrayTitle:"Range",component:wF}),Object(ie.jsx)(Ca,{title:"exclude",value:t.exclude,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"count",value:t.count,variant:"boolean",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"minCount",value:t.minCount,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"maxResults",value:t.maxResults,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"name",value:t.name,hideNoValue:!0})]})},BF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"field",value:t.field,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"order",value:t.order,hideNoValue:!0})]})},UF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"field",value:t.field,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"matchingOnly",value:t.matchingOnly,variant:"boolean",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"prefix",value:t.prefix,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"suffix",value:t.suffix,hideNoValue:!0})]})},qF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"maximumSuggestions",value:t.maximumSuggestions,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"accuracy",value:t.accuracy,hideNoValue:!0})]})},GF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"text",value:t.text,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"field",value:t.field,hideNoValue:!0}),Object(ie.jsx)(nn,{title:"accuracy",value:t.accuracy,hideNoValue:!0})]})},HF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{value:t.operator,component:NF}),Object(ie.jsx)(on,{value:t.text,arrayTitle:"Text",component:FF}),Object(ie.jsx)(on,{value:t.field,arrayTitle:"Field",component:PF}),Object(ie.jsx)(on,{value:t.group,arrayTitle:"Group",component:EF}),Object(ie.jsx)(nn,{title:"Intervals",value:t.intervals,hideNoValue:!0}),Object(ie.jsx)(Ca,{title:"reference",value:t.reference,hideNoValue:!0}),Object(ie.jsx)(on,{value:t.filter,arrayTitle:"Filter",component:MF,hideNoValue:!0}),Object(ie.jsx)(on,{value:t.facetFilter,arrayTitle:"Facet Filter",component:_F,hideNoValue:!0}),Object(ie.jsx)(on,{value:t.facet,arrayTitle:"Facet",component:VF,hideNoValue:!0}),Object(ie.jsx)(on,{value:t.sort,arrayTitle:"Sort",component:BF,hideNoValue:!0}),Object(ie.jsx)(an,{value:t.highlight,component:UF,title:"Highlight",hideNoValue:!0}),Object(ie.jsx)(an,{value:t.suggestion,component:qF,title:"Suggestion",hideNoValue:!0}),Object(ie.jsx)(on,{value:t.autocomplete,arrayTitle:"autocomplete",component:GF,hideNoValue:!0}),Object(ie.jsx)(an,{value:t.item,component:WF,title:"Item",hideNoValue:!0}),Object(ie.jsx)(an,{value:t.shape,component:LF,title:"Shape",hideNoValue:!0}),Object(ie.jsx)(an,{value:t.file,component:AF,title:"File",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"Version",value:t.version,hideNoValue:!0})]})};var JF=function(e){var t=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Library ID",value:t.id,hover:!0}),Object(ie.jsx)(nn,{title:"username",value:t.username,hover:!0}),Object(ie.jsx)(nn,{title:"updateMode",value:t.updateMode,hover:!0}),Object(ie.jsx)(nn,{title:"autoRefresh",value:t.autoRefresh,variant:"boolean",hover:!0}),Object(ie.jsx)(nn,{title:"updateFrequency",value:t.updateFrequency,hover:!0}),Object(ie.jsx)(nn,{title:"lastUpdate",value:t.lastUpdate,hover:!0}),Object(ie.jsx)(an,{value:t.query,title:"Query",component:HF})]})};function zF(e){var t=e.librarySettingsDocument;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:JF})})}var KF=je((function(e){var t=e.librarySettingsDocument,n=e.openSnackBar,a=(e.onSubmit,e.onSuccess),r=e.onFail,o=Object(ye.a)(e,["librarySettingsDocument","openSnackBar","onSubmit","onSuccess","onFail"]);return Object(ie.jsx)(mt,{title:"Library Settings",formName:"LIBRARY_SETTINGS_FORM",onSubmitSuccess:function(e,t,r){n({messageContent:"Library Settings Updated"}),a&&a(e,t,r)},onSubmitFail:function(e,t,a){n({messageContent:"Error Updating Library Settings",messageColor:"secondary"}),r&&r(e,t,a)},onSubmit:dF,displayProps:{librarySettingsDocument:t},formComponent:DF,displayComponent:zF,initialValues:{librarySettingsDocument:t},formProps:o})}));function YF(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(KF,Object(u.a)({},t))})})}var XF=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={librarySettingsDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.libraryId;this.props.libraryId!==t&&(this.onFetch(t),document.title="xray | Library | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.libraryId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.v.getLibrarySettings({libraryId:e}).then((function(e){return t.setState({librarySettingsDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Library",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.libraryId,n=e.titleComponent,a=e.tabComponent,r=this.state.librarySettingsDocument;return Object(ie.jsxs)(ie.Fragment,{children:[n&&Object(ie.jsx)(n,{code:r,codeModal:"LibrarySettingsDocument",onRefresh:this.onRefresh}),a&&Object(ie.jsx)(a,{}),r&&Object(ie.jsx)(YF,{libraryId:t,librarySettingsDocument:r,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),QF=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"count",component:Wt}),label:"Count"})]})};var $F=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.libraryId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"libraryId",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:QF}),Object(ie.jsx)(Mt,{name:"queryParams",component:Vh}),Object(ie.jsx)(Mt,{name:"matrixParams",label:"matrixParams",component:Bh})]})})),ZF="LIBRARY_CONTENT_PARAMS_FORM";var ek=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.libraryId,i=e.expanded,s=e.onChangeExpansion,l=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","libraryId","expanded","onChangeExpansion"]);return Object(ie.jsxs)(wj,{expanded:i,onChange:s,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Library Content Display Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)($F,Object(u.a)({form:ZF,onSubmit:uF,onSubmitSuccess:function(e,n,a){s&&s(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Library Display",messageColor:"secondary"}),n&&n(e,t,r)},libraryId:c},l))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(ZF)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(ZF)},children:"Update"})]})]})}));function tk(e){var t=e.itemListDocument;if(void 0===t)return null;var n=t.item;return(void 0===n?[]:n).map((function(e){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsx)(yv,{itemId:e.id}),Object(ie.jsx)(hx,{itemDocument:e})]},e.id)}))}var nk=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.onChangeExpansion=a.onChangeExpansion.bind(Object(M.a)(a)),a.state={itemListDocument:void 0,rowsPerPage:100,expanded:!1},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(ZF)}},{key:"onChangeRowsPerPage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n,a,r=arguments;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.target.value,(a=this.props.changeForm)(ZF,"queryParams.first",1),e.next=6,a(ZF,"queryParams.number",n);case 6:this.setState({rowsPerPage:n}),this.onRefresh();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangePage",value:function(){var e=Object(uj.a)(lj.a.mark((function e(t){var n,a,r,o,c,i,s,l,u;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=this.state.rowsPerPage,r=this.props,o=r.formValues,c=void 0===o?{}:o,i=r.changeForm,s=c.matrixParams,l=(void 0===s?{}:s).number,i(ZF,"queryParams.first",n*(u=void 0===l?a:l)+1),e.next=9,i(ZF,"queryParams.number",u);case 9:this.setState({rowsPerPage:u}),this.onRefresh();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeExpansion",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.libraryId,a=t.titleComponent,r=t.tabComponent,o=this.state,c=o.itemListDocument,i=o.expanded;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:c,codeModal:"ItemListDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(ek,{libraryId:n,onSuccess:function(t){return e.setState({itemListDocument:t.data})},expanded:i,onChangeExpansion:this.onChangeExpansion,initialValues:{queryParams:{number:10,first:1}}}),c&&Object(ie.jsx)(tk,{itemListDocument:c})]})}}]),n}(o.a.PureComponent),ak=Object(m.c)(oa,kj)(nk,ZF);var rk=T((function(e){var t=e.libraryId,n=e.onOpen,a=e.removeModal,r=e.updateModal,o=e.itemMetadataModal,c=e.title,i=Object(ye.a)(e,["libraryId","onOpen","removeModal","updateModal","itemMetadataModal","title"]);return Object(ie.jsx)(ge,Object(u.a)({grandParentTitle:"Library",grandParentTo:"/library/",parentTitle:t,title:c,helpTo:"/ref/library.html",entityId:t,entityType:"library",removeModal:a,actionComponent:Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:r})},children:Object(ie.jsx)(X.a,{children:"Add Item"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:o})},children:Object(ie.jsx)(X.a,{children:"Update Item Metadata"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return n({modalName:a})},children:Object(ie.jsx)(X.a,{color:"secondary",children:"Delete"})})]})},i))})),ok=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"async",component:Wt}),label:"Async"}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]})};var ck=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.libraryId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"libraryId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:ok}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),ik="LIBRARY_REMOVE_FORM";var sk=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.libraryId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Delete Library ".concat(i)}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(ck,{form:ik,onSubmit:bF,onSubmitSuccess:function(e,t,r){o({messageContent:"Library Deleted"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Deleting Library",messageColor:"secondary"}),r&&r(e,t,n)},libraryId:i})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return c(ik)},children:"Delete"})]})]})}));var lk=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.libraryId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"libraryId",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"itemListDocument",label:"itemListDocument",component:xF}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),uk="LIBRARY_ITEM_ADD_FORM";var jk=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.onSuccess,o=e.openSnackBar,c=e.onFail,i=e.libraryId;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Items To Library"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(lk,{onSubmit:jF,onSubmitSuccess:function(e,t,n){o({messageContent:"Library Updated"}),r&&r(e,t,n),a()},onSubmitFail:function(e,t,n){o({messageContent:"Error Updating Library",messageColor:"secondary"}),c&&c(e,t,n)},libraryId:i,form:uk})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(uk)},children:"Update"})]})]})})),dk=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0})]})};var mk=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.libraryId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"libraryId",component:St,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"metadataDocument",label:"MetadataDocument",component:AO}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:dk})]})})),bk="LIBRARY_ITEM_METADATA_FORM";var hk=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.onSuccess,o=e.openSnackBar,c=e.onFail,i=e.libraryId;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Update Item Metadata"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(mk,{onSubmit:mF,onSubmitSuccess:function(e,t,n){o({messageContent:"Item Metadata Updated"}),r&&r(e,t,n),a()},onSubmitFail:function(e,t,n){o({messageContent:"Error Updating Item Metadata",messageColor:"secondary"}),c&&c(e,t,n)},libraryId:i,form:bk,initialValues:{metadataDocument:{timespan:[{start:"-INF",end:"+INF"}]}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(bk)},children:"Update"})]})]})})),Ok="LIBRARY_SETTINGS_TAB",pk="LIBRARY_REMOVE_DIALOG",xk="LIBRARY_UPDATE_DIALOG",fk="LIBRARY_ITEM_METADATA_DIALOG",vk="LIBRARY_ACCESSCONTROL_ADD_DIALOG",gk=[{tab:Ok,listText:"Settings",component:XF},{tab:"LIBRARY_CONTENT_TAB",listText:"Content",component:ak},{tab:"ACCESS_TAB",listText:"Direct Access",component:_f},{tab:"ACCESSMERGED_TAB",listText:"Merged Access",component:Jf},{tab:"STORAGERULE_TAB",listText:"Storage Rules",component:ev}],yk=function(e){var t=e.onChangeTab,n=e.tabValue;return Object(ie.jsx)(TO.a,{children:gk.map((function(e){var a=e.tab,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{onClick:function(){return t(null,a)},selected:n===a||void 0}},r)}))})},Sk=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.libraryId;document.title="xray | Library | ".concat(e)}},{key:"render",value:function(){var e=this.props,t=e.onChangeTab,n=e.tabValue,a=e.libraryId,r=e.history,o=gk.find((function(e){return e.tab===n}))||gk[0],c=o.listText,i=o.component;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(hg,{mainComponent:i,listComponent:yk,defaultOpen:!0,onChangeTab:t,tabValue:n,titleComponent:function(e){return Object(ie.jsx)(rk,Object(u.a)({libraryId:a,removeModal:pk,updateModal:xk,itemMetadataModal:fk,addAccessControl:vk,title:c},e))},libraryId:a,entityId:a,entityType:"library"}),Object(ie.jsx)(jk,{dialogName:xk,libraryId:a}),Object(ie.jsx)(sk,{dialogName:pk,onSuccess:function(){return r.push("/library/")},libraryId:a}),Object(ie.jsx)(hk,{dialogName:fk,libraryId:a}),Object(ie.jsx)(Mf,{dialogName:vk,entityType:"library",entityId:a})]})}}]),n}(o.a.PureComponent),Ck=Object(m.c)(ca(Ok),h)(Sk);function Rk(e){var t=e.documentMetadata;return Object(ie.jsxs)(Je,{hover:!0,to:"/document/".concat(t.name,"/"),children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/document/".concat(t.name,"/"),children:t.name})}),Object(ie.jsx)(ke.a,{})]})}function Ik(e){var t=e.documentListDocument,n=void 0===t?{}:t,a=e.page,r=void 0===a?0:a,o=e.rowsPerPage,c=void 0===o?10:o,i=e.onChangePage,s=e.onChangeRowsPerPage,l=n.document,u=void 0===l?[]:l,j=n.hits,d=void 0===j?0:j,m=[10,100,250];return m.includes(c)||m.push(c),Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"Name"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:u.map((function(e){return Object(ie.jsx)(Rk,{documentMetadata:e},e.name)}))}),Object(ie.jsx)(Ee.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(Ne.a,{count:d,page:r,rowsPerPage:c,colSpan:10,onChangePage:i,onChangeRowsPerPage:s,ActionsComponent:qe,rowsPerPageOptions:[100,500,1e3]})})})]})}function Dk(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Ik,Object(u.a)({},t))})})}var Fk=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"revision",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"skipForbidden",component:Wt}),label:"Skip Forbidden"})]})};var kk=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"documentMetadataName",label:"documentName",component:Qn,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"metadataDocument",label:"metadataDocument",component:AO}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:Fk}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Tk(e,t,n){var a=e.metadataDocument,r=void 0===a?{}:a,o=e.queryParams,c=n.documentMetadataName||e.documentMetadataName;return W.k.updateDocumentMetadata({documentMetadataName:c,metadataDocument:r,queryParams:o}).then((function(e){return Object(u.a)({documentMetadataName:c},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Pk(e,t,n){var a=e.matrixParams,r=n.documentMetadataName||e.documentMetadataName;return W.k.getDocumentMetadata({documentMetadataName:r,matrixParams:Object.entries(a)}).then((function(e){return Object(u.a)({documentMetadataName:r},e)})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Ek="EDIT_DOCUMENT_FORM";var Nk=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Document"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(kk,{form:Ek,onSubmit:Tk,onSubmitSuccess:function(e,t,r){o({messageContent:"Document Created"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Document",messageColor:"secondary"}),r&&r(e,t,n)}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(Ek)},children:"Save"})]})]})})),Mk="DOCUMENT_CREATE_DIALOG",Ak=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onChangeRowsPerPage=a.onChangeRowsPerPage.bind(Object(M.a)(a)),a.onChangePage=a.onChangePage.bind(Object(M.a)(a)),a.state={documentListDocument:void 0,first:1,rowsPerPage:100,page:0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Document",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this.state,t=e.first,n=e.rowsPerPage;this.onFetch(t,n)}},{key:"onFetch",value:function(e,t){var n=this,a=[{first:e},{number:t}];try{W.k.listDocumentMetadata({matrixParams:a}).then((function(e){return n.setState({documentListDocument:e.data})})).catch((function(e){return n.onRefreshError(e)}))}catch(r){this.onRefreshError(r)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Document List",messageColor:"secondary"})}},{key:"onChangeRowsPerPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target.value,n=1;this.setState({first:n,rowsPerPage:t}),this.onFetch(n,t)}},{key:"onChangePage",value:function(e){var t=e.page,n=this.state.rowsPerPage,a=t*n+1;this.setState({page:t,first:a}),this.onFetch(a,n)}},{key:"render",value:function(){var e=this.state,t=e.page,n=e.rowsPerPage,a=e.documentListDocument,r=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Document",code:a,codeModal:"DocumentListDocument",onRefresh:this.onRefresh,createModal:Mk}),Object(ie.jsx)(Dk,{documentListDocument:a,page:t,rowsPerPage:n,onChangeRowsPerPage:this.onChangeRowsPerPage,onChangePage:this.onChangePage}),Object(ie.jsx)(Nk,{dialogName:Mk,onSuccess:function(e){return r.push("/document/".concat(e.documentMetadataName))}})]})}}]),n}(o.a.PureComponent));var Lk=je((function(e){var t=e.metadataDocument,n=e.documentMetadataName,a=e.openSnackBar,r=e.onSuccess,o=e.onFail;return Object(ie.jsx)(mt,{formName:"EDIT_DOCUMENTMETADATA_FORM",onSubmitSuccess:function(e,t,n){a({messageContent:"Document Updated"}),r&&r(e,t,n)},onSubmitFail:function(e,t,n){a({messageContent:"Error Updating Document",messageColor:"secondary"}),o&&o(e,t,n)},onSubmit:Tk,displayProps:{metadataDocument:t},initialValues:{metadataDocument:t,documentMetadataName:n},formComponent:kk,displayComponent:VO})}));function Wk(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Lk,Object(u.a)({},t))})})}var wk=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.documentMetadataName,o=e.onSuccess,c=e.onFail;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Document ".concat(r)}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.k.removeDocumentMetadata({documentMetadataName:r}).then((function(){a({messageContent:"Document Removed"}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Document",messageColor:"secondary"}),c&&c()}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),_k=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"interval",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"field",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"group",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"track",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"language",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"samplerate",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"include",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"conflict",component:Wt}),label:"Conflict"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"defaultValue",component:Wt}),label:"Default Value"})]})};var Vk=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"matrixParams",component:_k})]})})),Bk="DISPLAY_DOCUMENT_FORM";var Uk=Object(m.c)(je,oa)((function(e){var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.documentMetadataName;return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{children:"Display Options"}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(Vk,{form:Bk,onSubmit:Pk,onSubmitSuccess:function(e,n,r){a({messageContent:"Display Updated"}),t&&t(e,n,r)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Display",messageColor:"secondary"}),n&&n(e,t,r)},documentMetadataName:c})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(Bk)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(Bk)},children:"Update"})]})]})})),qk="DOCUMENT_REMOVE_DIALOG",Gk=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={metadataDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.documentMetadataName;document.title="xray | Document | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.documentMetadataName;try{W.k.getDocumentMetadata({documentMetadataName:t}).then((function(t){return e.setState({metadataDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Document",messageColor:"secondary"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.documentMetadataName,a=t.history,r=this.state.metadataDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{parentTitle:"Document",parentTo:"/document/",title:n,code:r,codeModal:"MetadataDocument",onRefresh:this.onRefresh,removeModal:qk}),Object(ie.jsx)(Uk,{documentMetadataName:n,onSuccess:function(t){return e.setState({metadataDocument:t.data})}}),n&&Object(ie.jsx)(Wk,{metadataDocument:r,documentMetadataName:n,onSuccess:this.onRefresh}),Object(ie.jsx)(wk,{documentMetadataName:n,onSuccess:function(){return a.push("/document/")},dialogName:qk})]})}}]),n}(o.a.PureComponent));var Hk=Object(bt.a)()((function(e){var t=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:t,children:[Object(ie.jsx)(At.a,{name:"queryParams.destinationItem",label:"Destination Item ID",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"queryParams.priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(ie.jsx)(At.a,{name:"queryParams.tag",label:"Shape Tag",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"queryParams.conformMetadata",component:Wt}),label:"Conform Metadata"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"queryParams.createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"queryParams.createPosters",component:Wt}),label:"Create Posters"}),Object(ie.jsx)(At.a,{name:"queryParams.thumbnailService",label:"Thumbnail Storage ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"queryParams.original",label:"Reset Original Tag",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"queryParams.resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"queryParams.sourceTag",label:"Source Tags",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"queryParams.notification",label:"Notification ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"queryParams.notificationData",label:"Notification Data",component:St,fullWidth:!0}),Object(ie.jsx)(Rt.a,{name:"queryParams.jobmetadata",label:"Job Metadata",component:Uc,buttonLabel:"Add Job Metadata"}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Jk(e){var t=e.label;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"numerator",component:St,label:t?"".concat(t," Numerator"):"Numerator",type:"number"}),Object(ie.jsx)(At.a,{name:"denominator",component:St,label:t?"".concat(t," Denominator"):"Denominator",type:"number"})]})}function zk(e){var t=e.label;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"samples",component:St,label:t?"".concat(t," Sample"):"Sample",type:"number"}),Object(ie.jsx)(Ct.a,{name:"timeBase",component:Jk,label:t})]})}function Kk(e){var t=e.fields,n=e.maxFields,a=void 0===n?1/0:n,r=e.minFields,o=void 0===r?0:r,c=e.label;return Object(ie.jsxs)(ie.Fragment,{children:[t.map((function(e,n){return Object(ie.jsx)(Ie,{children:Object(ie.jsxs)(Se.a,{children:[Object(ie.jsxs)(Q.a,{container:!0,direction:"row",justify:"space-between",children:[Object(ie.jsx)(Q.a,{item:!0,sm:2,children:c&&Object(ie.jsxs)(Sn.a,{shrink:!0,children:[c," ",n+1]})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:o<t.length&&Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return t.remove(n)},children:"Remove Segment"})})]}),Object(ie.jsx)(Q.a,{container:!0,direction:"row",alignItems:"flex-end",spacing:16,children:Object(ie.jsxs)(Q.a,{item:!0,sm:8,children:[Object(ie.jsx)(At.a,{name:"".concat(e,".source.id"),component:St,label:"Source ID",fullWidth:!0}),Object(ie.jsx)(Q.a,{container:!0,direction:"row",justify:"space-between",children:Object(ie.jsx)(Ct.a,{name:"".concat(e,".source.interval.start"),component:zk,label:"Start"})}),Object(ie.jsx)(Q.a,{container:!0,direction:"row",justify:"space-between",children:Object(ie.jsx)(Ct.a,{name:"".concat(e,".source.interval.end"),component:zk,label:"End"})})]})},e)]})},e)})),a>t.length&&Object(ie.jsx)(Q.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",children:Object(ie.jsx)(kt,{onClick:function(){return t.push({})},color:"primary",children:"Add Segment"})})]})}var Yk=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Rt.a,{name:"conformRequestDocument.conform.timeline.segment",component:Kk,label:"Segment"}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Xk=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"conformRequestDocument.metadata",component:AO}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Qk(e){var t=e.conformRequestDocument,n=e.queryParams;return W.h.createConform({conformRequestDocument:t,queryParams:n}).then((function(e){return e.json()})).then((function(e){return{jobDocument:e}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function $k(e,t){t((0,a.openSnackBar)({messageContent:"Error Creating Conform Job",messageColor:"secondary"}))}var Zk="EDIT_CONFORM_FORM";var eT={submitForm:st.f},tT=Object(s.b)((function(e){return{submitting:Object(Dj.a)(Zk)(e)}}),eT)((function(e){var t=e.submitForm,n=e.history,r=function(e,t,r){!function(e,t){var n=e.jobDocument.jobId;t((0,a.openSnackBar)({messageContent:"Job ".concat(n," Created")}))}(e,t);var o=e.jobDocument.jobId;n&&n.push("/job/".concat(o))};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Q.a,{container:!0,justify:"space-between",children:[Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Timeline"}),Object(ie.jsx)(he.a,{color:"primary",onClick:function(){return t(Zk)},children:"Start Conform"})]}),Object(ie.jsx)(Yk,{form:Zk,onSubmit:Qk,onSubmitSuccess:r,onSubmitFail:$k}),Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Settings"}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Hk,{form:Zk,onSubmit:Qk,onSubmitSuccess:r,onSubmitFail:$k,initialValues:{queryParams:{tag:["original"]}}})})}),Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Metadata"}),Object(ie.jsx)(Xk,{form:Zk,onSubmit:Qk,onSubmitSuccess:r,onSubmitFail:$k})]})})),nT="CONFORM_CODE_MODAL",aT=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.conformRequestDocument,o=void 0===r?{}:r,c=e.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{openCode:function(){return a({modalName:nT})},title:"Conform"}),Object(ie.jsx)(tT,{history:c}),Object(ie.jsx)(ve,{isOpen:t===nT,toggleDialogue:n,code:o,title:"ConformRequestDocument"})]})}}]),n}(o.a.PureComponent);var rT={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},oT=Object(s.b)((function(e){return{modalName:e.ui.modalName,conformRequestDocument:Object(ac.a)(Zk)(e)}}),rT)(aT),cT=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Source ID",value:n.id,variant:n.type}),Object(ie.jsx)(nn,{title:"Source Type",value:n.type}),Object(ie.jsx)(nn,{title:"Source Location",value:n.loc})]})};var iT=SO((function(e){var t=e.metadataEntryDocument;if(void 0===t)return null;var n=t.group,a=t.field,r=t.value,o=t.source;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(an,{value:n,component:wO,title:"group",hideNoValue:!0}),Object(ie.jsx)(an,{value:a,component:WO,title:"field",hideNoValue:!0}),Object(ie.jsx)(nn,{title:"value",value:r,hideNoValue:!0}),Object(ie.jsx)(an,{value:o,component:cT,title:"source",hideNoValue:!0})]})})),sT=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={metadataEntryDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.metadataUuid;document.title="xray | Metadata | ".concat(e),this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.metadataUuid;this.props.metadataUuid!==t&&(this.onFetch(t),document.title="xray | Metadata | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props.metadataUuid;this.onFetch(e)}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Metadata",messageColor:"secondary"})}},{key:"onFetch",value:function(e){var t=this;try{W.x.getMetadata({metadataUuid:e}).then((function(e){return t.setState({metadataEntryDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"render",value:function(){var e=this.props.metadataUuid,t=this.state.metadataEntryDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{code:t,codeModal:"MetadataDocument",title:e,parentTitle:"Metadata",parentTo:"/search/field-group/",onRefresh:this.onRefresh}),Object(ie.jsx)(iT,{metadataEntryDocument:t})]})}}]),n}(o.a.PureComponent));var lT=Object(bt.a)()((function(e){var t=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:t,children:[Object(ie.jsx)(Q.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(At.a,{name:"projectionId",label:"Projection Name",component:St,fullWidth:!0,required:!0})})}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var uT=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"projectionDocument",component:ta,options:{theme:"material",mode:"application/xml",lineWrapping:!0,lineNumbers:!0}}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function jT(e,t,n){var a=n.projectionId,r=e.projectionDocument;return W.C.updateProjectionOutgoing({projectionId:a,projectionDocument:r}).then((function(){return{projectionDocument:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function dT(e,t,n){var a=n.projectionId,r=e.projectionDocument;return W.C.updateProjectionIncoming({projectionId:a,projectionDocument:r}).then((function(){return{projectionDocument:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function mT(e){var t=e.projectionDocument,n=e.projectionId;return W.C.updateProjectionOutgoing({projectionId:n,projectionDocument:t}).then((function(){return{projectionId:n,projectionDocument:t}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function bT(e){var t=e.projectionDocument,n=e.projectionId;return W.C.updateProjectionIncoming({projectionId:n,projectionDocument:t}).then((function(){return{projectionDocument:t,projectionId:n}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var hT="EDIT_PROJECTION_OUTGOING_FORM";var OT=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.openSnackBar,a=e.onClose,r=e.onSuccess,o=e.open,c=function(e,t,o){n({messageContent:"Projection Created"}),a(),r&&r(e,t,o)},i=function(){n({messageContent:"Error Creating Projection",messageColor:"secondary"})};return Object(ie.jsxs)(Oe.a,{open:o,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Outgoing Projection"}),Object(ie.jsxs)(xe.a,{children:[Object(ie.jsx)(lT,{form:hT,onSubmit:mT,onSubmitSuccess:c,onSubmitFail:i}),Object(ie.jsx)(uT,{form:hT,onSubmit:mT,onSubmitSuccess:c,onSubmitFail:i})]}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(hT)},children:"Save"})]})]})})),pT="EDIT_PROJECTION_INCOMING_FORM";var xT=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.openSnackBar,a=e.onClose,r=e.onSuccess,o=e.open,c=function(e,t,o){n({messageContent:"Projection Created"}),a(),r&&r(e,t,o)},i=function(){n({messageContent:"Error Creating Projection",messageColor:"secondary"})};return Object(ie.jsxs)(Oe.a,{open:o,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Incoming Projection"}),Object(ie.jsxs)(xe.a,{children:[Object(ie.jsx)(lT,{form:pT,onSubmit:bT,onSubmitSuccess:c,onSubmitFail:i}),Object(ie.jsx)(uT,{form:pT,onSubmit:bT,onSubmitSuccess:c,onSubmitFail:i})]}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(pT)},children:"Save"})]})]})}));var fT=T((function(e){var t=e.incomingDialog,n=e.outgoingDialog,a=e.onOpen,r=Object(ye.a)(e,["incomingDialog","outgoingDialog","onOpen"]);return Object(ie.jsx)(ge,Object(u.a)(Object(u.a)({},r),{},{actionComponent:Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:function(){return a({modalName:t})},children:Object(ie.jsx)(X.a,{children:"Create Incoming Projection"})}),Object(ie.jsx)(Cn.a,{onClick:function(){return a({modalName:n})},children:Object(ie.jsx)(X.a,{children:"Create Outgoing Projection"})})]})}))})),vT="PROJECTION_OUTGOING_CREATE_MODAL",gT="PROJECTION_INCOMING_CREATE_MODAL",yT=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Projection",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this;try{W.C.listProjection().then((function(t){return e.setState({uriListDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(t){this.onRefreshError(t)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Projections",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.uriListDocument,t=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fT,{title:"Projection",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,code:e,codeModal:"URIListDocument",createModal:gT,incomingDialog:gT,outgoingDialog:vT}),Object(ie.jsx)(Xe,{uriListDocument:e,linkTo:function(e){return"/projection/".concat(e,"/")},titleCase:!0}),Object(ie.jsx)(xT,{onSuccess:function(e){return t.push("/projection/".concat(e.projectionId))},dialogName:gT}),Object(ie.jsx)(OT,{onSuccess:function(e){return t.push("/projection/".concat(e.projectionId))},dialogName:vT})]})}}]),n}(o.a.PureComponent)),ST="EDIT_PROJECTION_INCOMING_FORM",CT="EDIT_PROJECTION_OUTGOING_FORM";var RT=Object(m.c)(je,oa)((function(e){var t=e.submitForm,n=e.onSuccess,a=e.openSnackBar,r=e.projectionId,o=e.incomingProjectionDocument,c=e.outgoingProjectionDocument,i=function(e,t,r){a({messageContent:"Projection Updated"}),n&&n(e,t,r)},s=function(){a({messageContent:"Error Updating Projection",messageColor:"secondary"})};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Incoming"}),disableTypography:!0,action:Object(ie.jsx)(he.a,{color:"primary",size:"small",variant:"contained",onClick:function(){return t(ST)},children:"Save Incoming"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(uT,{form:ST,onSubmit:dT,onSubmitSuccess:i,onSubmitFail:s,initialValues:{projectionDocument:o},projectionId:r,enableReinitialize:!0})})]}),Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Ce.a,{title:Object(ie.jsx)(X.a,{variant:"subtitle1",children:"Outgoing"}),disableTypography:!0,action:Object(ie.jsx)(he.a,{color:"primary",size:"small",variant:"contained",onClick:function(){return t(CT)},children:"Save Outgoing"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(uT,{form:CT,onSubmit:jT,onSubmitSuccess:i,onSubmitFail:s,initialValues:{projectionDocument:c},projectionId:r,enableReinitialize:!0})})]})]})}));var IT=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.projectionId,o=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Projection "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.C.removeProjection({projectionId:r}).then((function(){var e="Projection ".concat(r," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Projection",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),DT="PROJECTION_REMOVE_MODAL",FT=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.state={incomingProjectionDocument:"",outgoingProjectionDocument:"",isRefreshing:!0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.projectionId;document.title="xray | Projection | ".concat(e),this.onRefresh()}},{key:"onFetch",value:function(){var e=this,t=this.props.projectionId;try{Promise.all([W.C.getProjectionIncoming({projectionId:t}).then((function(e){return Qt(e.text())})),W.C.getProjectionOutgoing({projectionId:t}).then((function(e){return Qt(e.text())}))]).then((function(t){var n=Object(Bt.a)(t,2),a=n[0],r=n[1];e.setState({incomingProjectionDocument:a,outgoingProjectionDocument:r,isRefreshing:!1})})).catch((function(t){return e.onRefreshError(t)}))}catch(n){this.onRefreshError(n)}}},{key:"onRefresh",value:function(){this.setState({isRefreshing:!0},this.onFetch())}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Projection",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.projectionId,n=e.history,a=this.state,r=a.incomingProjectionDocument,o=a.outgoingProjectionDocument,c=a.isRefreshing;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:t,parentTitle:"Projection",parentTo:"/projection/",helpTo:"/ref/metadata/projection.html",onRefresh:this.onRefresh,removeModal:DT}),!c&&Object(ie.jsx)(RT,{projectionId:t,onRefresh:this.onRefresh,incomingProjectionDocument:r,outgoingProjectionDocument:o}),Object(ie.jsx)(IT,{dialogName:DT,projectionId:t,onSuccess:function(){return n.push("/projection/")}})]})}}]),n}(o.a.PureComponent));function kT(e){return Object(ie.jsx)(ge,Object(u.a)({grandParentTitle:"Metadata Field",grandParentTo:"/metadata-field/",parentTitle:e.fieldName,helpTo:"/ref/metadata/field.html",entityId:e.fieldName,entityType:"metadata-field"},e))}var TT=de((function(e){var t=e.metadataFieldDocument,n=e.fieldName,a=e.openSnackBar,r=e.onRefresh,o={fieldName:n},c={value:t},i={metadataFieldDocument:t};return Object(ie.jsx)(mt,{formComponent:pS,displayComponent:rC,formName:"EDIT_METADATAFIELD_FORM",onSubmitSuccess:function(){a({messageContent:"Metadata Field Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Metadata Field",messageColor:"secondary"})},onSubmit:xS,formProps:o,displayProps:c,initialValues:i})}));function PT(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie,{children:Object(ie.jsx)(TT,Object(u.a)({},e))})})}var ET=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={simpleMetadataDocument:void 0,metadataFieldDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.fieldName;document.title="xray | Metadata Field | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.fieldName;try{W.z.getMetadataField({fieldName:a,queryParams:{includeValues:!0}}).then((function(t){return e.setState({metadataFieldDocument:t.data})})),W.z.getSimpleMetadata({fieldName:a}).then((function(t){return e.setState({simpleMetadataDocument:t.data})}))}catch(r){n({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.fieldName,n=e.titleComponent,a=e.tabComponent,r=this.state,o=r.simpleMetadataDocument,c=void 0===o?{}:o,i=r.metadataFieldDocument,s=c.field,l=void 0===s?[]:s;return Object(ie.jsxs)(ie.Fragment,{children:[n&&Object(ie.jsx)(n,{code:i,codeModal:"MetadataFieldDocument",onRefresh:this.onRefresh}),a&&Object(ie.jsx)(a,{}),i&&Object(ie.jsx)(PT,{metadataFieldDocument:i,onRefresh:this.onRefresh}),l&&Object(ie.jsx)(jb,{simpleMetadataList:l,onSuccess:this.onRefresh,entityType:"metadata-field",entityId:t})]})}}]),n}(o.a.PureComponent));var NT=Gn((function(e){var t=e.constraintValueListDocument,n=(void 0===t?{}:t).value,a=void 0===n?[]:n;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Value"}),Object(ie.jsx)(Vn,{children:"ID"})]})}),Object(ie.jsx)(_n,{children:a.map((function(e){return Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:e.value}),Object(ie.jsx)(Vn,{children:e.id})]},e.value)}))})]})})}));function MT(e){return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(NT,Object(u.a)({},e))})}var AT=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"field",label:"Metadata Field",component:yl,loadOptions:_h,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"value",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"id",component:St,fullWidth:!0})]})},LT=function(){return Object(ie.jsx)(Nt,{name:"constraint",component:AT,fullWidth:!0})};var WT=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,style:{width:"100%"},children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldValueConstraintListDocument",component:LT})]})})),wT="METADATAFIELDALLOWEDVALUES_PARAMS_FORM";var _T=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.fieldName,i=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","fieldName"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Constraint Values"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(WT,Object(u.a)({form:wT,onSubmit:fS,onSubmitSuccess:function(e,n,r){a({messageContent:"Allowed Values Updated"}),t&&t(e,n,r)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Allowed Values",messageColor:"secondary"}),n&&n(e,t,r)},fieldName:c},i))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(wT)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(wT)},children:"Update"})]})]})})),VT="METADATAFIELD_OVERVIEW_TAB",BT=[{tab:VT,listText:"Overview",component:ET},{tab:"METADATAFIELD_ALLOWEDVALUES_TAB",listText:"Allowed Values",component:je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={constraintValueListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.fieldName;document.title="xray | Metadata Field | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.fieldName;try{W.z.getMetadataFieldAllowedValues({fieldName:a}).then((function(t){return e.setState({constraintValueListDocument:t.data})}))}catch(r){n({messageContent:"Error Getting Metadata Field",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.fieldName,a=t.titleComponent,r=t.tabComponent,o=this.state.constraintValueListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[a&&Object(ie.jsx)(a,{code:o,codeModal:"ConstraintValueListDocument",onRefresh:this.onRefresh}),r&&Object(ie.jsx)(r,{}),Object(ie.jsx)(_T,{fieldName:n,onSuccess:function(t){return e.setState({constraintValueListDocument:t.constraintValueListDocument})}}),o&&Object(ie.jsx)(MT,{constraintValueListDocument:o,onRefresh:this.onRefresh})]})}}]),n}(o.a.PureComponent))}],UT=function(e){var t=e.onChangeTab,n=e.tabValue;return Object(ie.jsx)(TO.a,{children:BT.map((function(e){var a=e.tab,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{onClick:function(){return t(null,a)},selected:n===a||void 0}},r)}))})},qT="METADATAFIELD_REMOVE_MODAL",GT=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.setOnRefresh=a.setOnRefresh.bind(Object(M.a)(a)),a.state={onRefresh:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.fieldName;document.title="xray | Metadata Field | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this.state.onRefresh;e&&e()}},{key:"setOnRefresh",value:function(e){this.setState({onRefresh:e})}},{key:"render",value:function(){var e=this.props,t=e.fieldName,n=e.onChangeTab,a=e.tabValue,r=BT.find((function(e){return e.tab===a}))||BT[0],o=r.listText,c=r.component;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(hg,{onChangeTab:n,tabValue:a,fieldName:t,mainComponent:c,listComponent:UT,defaultOpen:!0,titleComponent:function(e){return Object(ie.jsx)(kT,Object(u.a)({removeModal:qT,fieldName:t,title:o},e))},setOnRefresh:this.setOnRefresh}),Object(ie.jsx)(rS,{dialogName:qT,fieldName:t})]})}}]),n}(o.a.PureComponent),HT=Object(m.c)(ca(VT),je)(GT);function JT(e){var t=e.uriListDocument,n=e.entityType;if(void 0===t)return null;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Ye,{uriListDocument:t,linkTo:function(e){return"/notification/".concat(n,"/").concat(e.split("/").pop(),"/")},textTo:function(e){return e.split("/").pop()}})})})}var zT=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(M.a)(a)),a.state={[e.name]:e.initialvalue},a}return Object(N.a)(n,[{key:"handleChange",value:function(e){var t=this;return function(n){var a=t.state[e];t.props.onChange&&t.props.onChange(n,n.target.value,a,e),t.setState({[e]:n.target.value})}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.ValueComponent,a=e.label,r=Object(ye.a)(e,["children","ValueComponent","label"]),o=this.state[this.props.name],c=n&&n(o);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ea.a,{children:a}),Object(ie.jsx)(yt.a,Object(u.a)(Object(u.a)({},r),{},{select:!0,value:o,FormHelperTextProps:{focused:!0},onChange:this.handleChange(this.props.name),children:t})),c]})}}]),n}(o.a.PureComponent),KT=function(e){var t=Object.assign({},e);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Extra Data",value:t.extradata}),Object(ie.jsx)(nn,{title:"Retry",value:t.retry}),Object(ie.jsx)(nn,{title:"Synchronous",value:t.synchronous}),Object(ie.jsx)(nn,{title:"Group",value:t.group})]})},YT=function(e){var t=e.action.http;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"URL",value:t.url}),Object(ie.jsx)(nn,{title:"Content Type",value:t.contentType}),Object(ie.jsx)(nn,{title:"Method",value:t.method}),Object(ie.jsx)(nn,{title:"Timeout",value:t.timeout}),Object(ie.jsx)(KT,Object(u.a)({},t))]})},XT=function(e){var t=e.action.ejb;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Bean",value:t.bean}),Object(ie.jsx)(nn,{title:"Method",value:t.method}),t.data&&t.data.map((function(e){return Object(ie.jsx)(nn,{title:e.key,value:e.value})})),Object(ie.jsx)(KT,Object(u.a)({},t))]})},QT=function(e){var t=e.action.jms;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Queue",value:t.queue}),Object(ie.jsx)(nn,{title:"Queue Factory",value:t.queueFactory}),Object(ie.jsx)(nn,{title:"Content Type",value:t.contentType}),Object(ie.jsx)(nn,{title:"Username",value:t.username}),Object(ie.jsx)(nn,{title:"Password",value:t.password}),Object(ie.jsx)(KT,Object(u.a)({},t))]})},$T=function(e){var t=e.action.sqs;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Queue",value:t.queue}),Object(ie.jsx)(nn,{title:"Endpoint",value:t.endpoint}),Object(ie.jsx)(nn,{title:"Content Type",value:t.contentType}),Object(ie.jsx)(nn,{title:"Access Key",value:t.accessKey}),Object(ie.jsx)(nn,{title:"Secret Key",value:t.secret}),Object(ie.jsx)(KT,Object(u.a)({},t))]})},ZT=function(e){var t=e.action.javascript;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{value:t.script,variant:"code",codeProps:{mode:"application/javascript"}}),Object(ie.jsx)(KT,Object(u.a)({},t))]})};function eP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"http"in e?"http":"ejb"in e?"ejb":"jms"in e?"jms":"sqs"in e?"sqs":"javascript"in e?"javascript":void 0}function tP(e){var t=e.action,n=void 0===t?{}:t,a=Object(ie.jsx)(ie.Fragment,{}),r=eP(n);switch(r){case"http":a=YT;break;case"ejb":a=XT;break;case"jms":a=QT;break;case"sqs":a=$T;break;case"javascript":a=ZT}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Action Type",value:r}),Object(ie.jsx)(a,{action:n})]})}function nP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"retry",label:"Retry",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(At.a,{name:"synchronous",label:"Synchronous",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"extradata",label:"Extra Data",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"group",label:"Group",component:St,fullWidth:!0})]})}function aP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"url",label:"URL",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"contentType",label:"Content Type",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"method",label:"Method",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"timeout",label:"Timeout",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(nP,{})]})}function rP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"bean",label:"Bean",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"method",label:"Method",component:St,fullWidth:!0}),Object(ie.jsx)(Rt.a,{name:"data",component:Uc,label:"Data",buttonLabel:"Add Data"}),Object(ie.jsx)(nP,{})]})}function oP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"Queue",label:"Queue",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"queueFactory",label:"Queue Factory",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"contentType",label:"Content Type",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"username",label:"Username",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"password",label:"Password",component:St,fullWidth:!0}),Object(ie.jsx)(nP,{})]})}function cP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"queue",label:"Queue",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"endpoint",label:"Endpoint",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"contentType",label:"Content Type",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"accessKey",label:"Access Key",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"secret",label:"Secret Key",component:St,fullWidth:!0}),Object(ie.jsx)(nP,{})]})}function iP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"script",component:ta,options:{theme:"material",mode:"application/json",lineWrapping:!0,lineNumbers:!0}}),Object(ie.jsx)(nP,{})]})}function sP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector;if(e.dirty){t=eP(r("notificationDocument.action"))}else{var o=a.notificationDocument,c=(void 0===o?{}:o).action;t=eP(void 0===c?{}:c)}return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(zT,{label:"Action Type",initialvalue:t,fullWidth:!0,onChange:function(t,n,a,o){var c=r(o);if(c){var i=Ka()(c,{[n]:{$set:{}},$unset:[a]});e.change(o,i)}else e.change(o,{})},ValueComponent:function(t){switch(t){case"http":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"http",component:aP},e));case"ejb":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"ejb",component:rP},e));case"jms":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"jms",component:oP},e));case"sqs":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"sqs",component:cP},e));case"javascript":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"javascript",component:iP},e));default:return null}},name:"notificationDocument.action",children:[Object(ie.jsx)(Cn.a,{value:"http",children:"HTTP"}),Object(ie.jsx)(Cn.a,{value:"ejb",children:"EJB"}),Object(ie.jsx)(Cn.a,{value:"jms",children:"JMS"}),Object(ie.jsx)(Cn.a,{value:"sqs",children:"SQS"}),Object(ie.jsx)(Cn.a,{value:"javascript",children:"Javascript"})]})})}var lP=Object(bt.a)()((function(e){return Object(ie.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(ie.jsx)(X.a,{color:"error",children:e.error}),Object(ie.jsx)(Ct.a,Object(u.a)(Object(u.a)({},e),{},{name:"notificationDocument.action",component:sP})),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function uP(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t||("update"in t?e="update":"stop"in t?e="stop":"finished"in t?e="finished":"fail"in t?e="fail":"create"in t&&(e="create")),e}function jP(e){var t;return void 0===e||("job"in e?t="job":"metadata"in e?t="metadata":"collection"in e?t="collection":"item"in e?t="item":"storage"in e?t="storage":"file"in e?t="file":"group"in e?t="group":"shape"in e?t="shape":"access"in e?t="access":"quota"in e?t="quota":"document"in e&&(t="document")),t}var dP=function(e){var t=e.trigger.job,n=uP(t);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Trigger Action",value:n}),Object(ie.jsx)(nn,{title:"Placeholder",value:t.placeholder}),t.filter&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Type",value:t.filter.type}),Object(ie.jsx)(nn,{title:"Step",value:t.filter.step}),t.filter.jobdata&&Object(ie.jsxs)(ie.Fragment,{children:[t.filter.jobdata.key&&Object(ie.jsx)(nn,{title:"Job Data Key",value:t.filter.jobdata.key}),t.filter.jobdata["key-regex"]&&Object(ie.jsx)(nn,{title:"Job Data Key Regex",value:t.filter.jobdata["key-regex"]}),t.filter.jobdata.value&&Object(ie.jsx)(nn,{title:"Job Data Value",value:t.filter.jobdata.value}),t.filter.jobdata["value-regex"]&&Object(ie.jsx)(nn,{title:"Job Data Value Regex",value:t.filter.jobdata["value-regex"]})]})]}),t.contentFilters&&Object(ie.jsx)(nn,{title:"Content Filters",variant:"list",value:t.contentFilters.contentFilter})]})},mP=function(e){var t,n=e.trigger.metadata;return"modify"in n&&(t="modify"),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Trigger Action",value:t}),"modify"===t&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Field",value:n.modify.field}),Object(ie.jsx)(nn,{title:"Language",value:n.modify.language}),Object(ie.jsx)(nn,{title:"Track",value:n.modify.track}),Object(ie.jsx)(nn,{title:"Interval",value:n.modify.interval})]})]})},bP=function(e){var t,n=e.trigger.item;return"modify"in n?t="modify":"create"in n?t="create":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})},hP=function(e){var t,n=e.trigger.collection;return"modify"in n?t="modify":"create"in n?t="create":"delete"in n?t="delete":"item"in n?t="item":"metadata"in n&&(t="metadata"),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Trigger Action",value:t}),"metadata"===t&&Object(ie.jsx)(mP,{trigger:{trigger:{metadata:n.metadata}}}),"item"===t&&Object(ie.jsx)(bP,{trigger:{trigger:{item:n.item}}})]})},OP=function(e){var t,n=e.trigger.storage;return"filename"in n?t="filename":"create"in n?t="create":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})},pP=function(e){var t,n=e.trigger.file;return"new"in n?t="new":"change"in n?t="change":"hash"in n?t="hash":"close"in n?t="close":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})},xP=function(e){var t,n=e.trigger.group;return"modify"in n?t="modify":"create"in n?t="create":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})},fP=function(e){var t,n=e.trigger.shape;return"modify"in n?t="modify":"create"in n?t="create":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})},vP=function(e){var t,n=e.trigger.access;return"change"in n?t="change":"create"in n?t="create":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})},gP=function(e){var t,n=e.trigger.quota;return"warning"in n?t="warning":"create"in n?t="create":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})},yP=function(e){var t,n=e.trigger.document;return"create"in n?t="create":"delete"in n&&(t="delete"),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Trigger Action",value:t})})};function SP(e){var t=e.trigger,n=void 0===t?{}:t,a=Object(ie.jsx)(ie.Fragment,{}),r=jP(n);switch(r){case"job":a=dP;break;case"metadata":a=mP;break;case"collection":a=hP;break;case"item":a=bP;break;case"storage":a=OP;break;case"file":a=pP;break;case"group":a=xP;break;case"shape":a=fP;break;case"access":a=vP;break;case"quota":a=gP;break;case"document":a=yP}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Trigger Entity",value:r}),Object(ie.jsx)(a,{trigger:n})]})}function CP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.item";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"})]})}function RP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.storage";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"}),Object(ie.jsx)(Cn.a,{value:"filename",children:"Filename"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"filename",type:"hidden",component:"input"})]})}function IP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.file";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"new",children:"New"}),Object(ie.jsx)(Cn.a,{value:"change",children:"Change"}),Object(ie.jsx)(Cn.a,{value:"hash",children:"Hash"}),Object(ie.jsx)(Cn.a,{value:"close",children:"Close"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"})]}),Object(ie.jsx)(At.a,{name:"new",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"change",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"hash",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"close",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"})]})}function DP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.group";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"}),Object(ie.jsx)(Cn.a,{value:"modify",children:"Modify"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"modify",type:"hidden",component:"input"})]})}function FP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.shape";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"}),Object(ie.jsx)(Cn.a,{value:"modify",children:"Modify"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"modify",type:"hidden",component:"input"})]})}function kP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.access";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"}),Object(ie.jsx)(Cn.a,{value:"change",children:"Change"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"change",type:"hidden",component:"input"})]})}function TP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.quota";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"}),Object(ie.jsx)(Cn.a,{value:"warning",children:"Warning"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"warning",type:"hidden",component:"input"})]})}function PP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.document";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,u=(void 0===l?{}:l).item;t=u&&Object.keys(u)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"})]})}function EP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"field",component:St,label:"Field",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"language",component:St,label:"Language",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"track",component:St,label:"Track",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"vinterval",component:St,label:"Interval",fullWidth:!0})]})}function NP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.metadata";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else try{var s=a[e.id];t=s&&Object.keys(s)[0]}catch(l){console.log(l)}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c),i={};if(o){var s=Ka()(o,{[n]:{$set:i},$unset:[a]});e.change(c,s)}else e.change(c,{[n]:i})},name:c,ValueComponent:function(t){switch(t){case"modify":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"modify",component:EP},e));default:return null}},children:Object(ie.jsx)(Cn.a,{value:"modify",children:"Modify"})}),Object(ie.jsx)(At.a,{name:"modify",type:"hidden",component:"input"})]})}function MP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.collection";if(o){var i=r(c);t=i&&Object.keys(i)[0]}else{var s=a.notificationDocument,l=(void 0===s?{}:s).trigger,j=(void 0===l?{}:l).item;t=j&&Object.keys(j)[0]}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c),i="metadata"===n?{}:"";if(o){var s=Ka()(o,{[n]:{$set:i},$unset:[a]});e.change(c,s)}else e.change(c,{[n]:i})},name:c,ValueComponent:function(t){switch(t){case"metadata":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"metadata",component:NP,id:"".concat(c,".metadata")},e));default:return null}},children:[Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"delete",children:"Delete"}),Object(ie.jsx)(Cn.a,{value:"modify",children:"Modify"}),Object(ie.jsx)(Cn.a,{value:"metadata",children:"Metadata"})]}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"delete",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"modify",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"metadata",type:"hidden",component:"input"})]})}function AP(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(At.a,{name:"contentFilter",label:"Content Filter",component:Ya,simple:!0,fullWidth:!0})})}function LP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"key",component:St,label:"Key",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"value",component:St,label:"Value",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"key-regex",component:St,label:"Key Regex",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"value-regex",component:St,label:"Value Regex",fullWidth:!0})]})}function WP(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"type",component:St,label:"Filter Type",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"step",component:St,label:"Filter Step",type:"number",fullWidth:!0}),Object(ie.jsx)(Ct.a,{name:"jobdata",component:LP})]})}function wP(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger.job";if(o){t=uP(r(c))}else{var i=a.notificationDocument,s=(void 0===i?{}:i).trigger;t=uP((void 0===s?{}:s).job)}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(zT,{label:"Trigger Action",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c);if(o){var i=Ka()(o,{[n]:{$set:""},$unset:[a]});e.change(c,i)}else e.change(c,{[n]:""})},name:c,children:[Object(ie.jsx)(Cn.a,{value:"update",children:"Update"}),Object(ie.jsx)(Cn.a,{value:"create",children:"Create"}),Object(ie.jsx)(Cn.a,{value:"stop",children:"Stop"}),Object(ie.jsx)(Cn.a,{value:"finish",children:"Finish"}),Object(ie.jsx)(Cn.a,{value:"fail",children:"Fail"})]}),Object(ie.jsx)(Ct.a,{name:"filter",component:WP}),Object(ie.jsx)(Ct.a,{name:"contentFilters",component:AP}),Object(ie.jsx)(At.a,{name:"fail",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"stop",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"create",type:"hidden",component:"input"}),Object(ie.jsx)(At.a,{name:"finish",type:"hidden",component:"input"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"placeholder",component:Wt}),label:"Placeholder"})]})}function _P(e){var t,n=e.initialValues,a=void 0===n?{}:n,r=e.valueSelector,o=e.dirty,c=e.id||"notificationDocument.trigger";if(o){t=jP(r(c))}else{var i=a.notificationDocument,s=(void 0===i?{}:i).trigger;t=jP(void 0===s?{}:s)}return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(zT,{label:"Trigger Entity",initialvalue:t,fullWidth:!0,onChange:function(t,n,a){var o=r(c),i={};if(o){var s=Ka()(o,{[n]:{$set:i},$unset:[a]});e.change(c,s)}else e.change(c,{[n]:i})},ValueComponent:function(t){switch(t){case"job":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"job",component:wP},e));case"item":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"item",component:CP},e));case"metadata":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"metadata",component:NP},e));case"collection":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"collection",component:MP},e));case"storage":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"storage",component:RP},e));case"file":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"file",component:IP},e));case"shape":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"shape",component:FP},e));case"group":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"group",component:DP},e));case"access":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"access",component:kP},e));case"quota":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"quota",component:TP},e));case"document":return Object(ie.jsx)(Ct.a,Object(u.a)({name:"document",component:PP},e));default:return null}},name:c,children:[Object(ie.jsx)(Cn.a,{value:"job",children:"Job"}),Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"metadata",children:"Metadata"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"Collection"}),Object(ie.jsx)(Cn.a,{value:"storage",children:"Storage"}),Object(ie.jsx)(Cn.a,{value:"file",children:"File"}),Object(ie.jsx)(Cn.a,{value:"shape",children:"Shape"}),Object(ie.jsx)(Cn.a,{value:"group",children:"Group"}),Object(ie.jsx)(Cn.a,{value:"access",children:"Access"}),Object(ie.jsx)(Cn.a,{value:"quota",children:"Quota"}),Object(ie.jsx)(Cn.a,{value:"access",children:"Access"}),Object(ie.jsx)(Cn.a,{value:"document",children:"Document"})]})})}var VP=Object(bt.a)()((function(e){return Object(ie.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(ie.jsx)(X.a,{color:"error",children:e.error}),Object(ie.jsx)(Ct.a,Object(u.a)(Object(u.a)({},e),{},{name:"notificationDocument.trigger",component:_P})),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function BP(e,t,n){var a=n.notificationId||e.notificationId,r=n.entityType||e.entityType,o=e.notificationDocument;return W.B.updateNotification({notificationId:a,entityType:r,notificationDocument:o}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function UP(e,t,n){var a=e.notificationDocument,r=n.entityType||Object.keys(a.trigger)[0];return W.B.createNotification({entityType:r,notificationDocument:a}).then((function(e){return Object(u.a)(Object(u.a)({},e),{},{entityType:r})})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var qP="NOTIFICATION_CREATE_FORM";var GP=Object(m.c)(de,oa,kj)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.submitForm,o=e.entityType,c=e.valueSelector,i=e.openSnackBar,s=function(e,t,r){i({messageContent:"Notification Created"}),a&&a(e,t,r),n()},l=function(){i({messageContent:"Error Creating Notification",messageColor:"secondary"})},u={notificationDocument:{action:{},trigger:{[o]:{}}}};return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsxs)(fe.a,{children:["New",o?Zt(o):""," ","Notification"]}),Object(ie.jsxs)(xe.a,{children:[Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Trigger"}),Object(ie.jsx)(VP,{entityType:o,form:qP,onSubmit:UP,onSubmitSuccess:s,onSubmitFail:l,valueSelector:c,initialValues:u}),Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Action"}),Object(ie.jsx)(lP,{entityType:o,form:qP,onSubmit:UP,onSubmitSuccess:s,onSubmitFail:l,valueSelector:c,initialValues:u})]}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(qP)},children:"Save"})]})]})}),qP),HP="NOTIFICATION_CREATE_DIALOG",JP=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.entityType;document.title="xray | ".concat(Zt(e)," Notification"),this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.entityType;this.props.entityType!==t&&(document.title="xray | ".concat(Zt(t)," Notification"),this.onFetch(t))}},{key:"onRefresh",value:function(){var e=this.props.entityType;this.onFetch(e)}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Notifications",messageColor:"secondary"})}},{key:"onFetch",value:function(e){var t=this;try{W.B.listNotification({entityType:e}).then((function(e){return t.setState({uriListDocument:e.data})})).catch((function(e){return t.onRefreshError(e)}))}catch(n){this.onRefreshError(n)}}},{key:"render",value:function(){var e=this.props,t=e.entityType,n=e.history,a=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:Zt(t),parentTitle:"Notification",parentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:a,codeModal:"URIListDocument",createModal:HP,entityType:t}),Object(ie.jsx)(JT,{uriListDocument:a,entityType:t}),Object(ie.jsx)(GP,{dialogName:HP,entityType:t,onSuccess:function(e){var a=e.data.uri[0];n.push("/notification/".concat(t,"/").concat(a))}})]})}}]),n}(o.a.PureComponent)),zP="NOTIFICATION_EDIT_FORM";var KP=Object(m.c)(de,oa,kj)((function(e){var t=e.notificationId,n=e.entityType,a=e.notificationDocument,r=e.submitForm,o=e.onRefresh,c=e.isEditing,i=e.toggleEdit,s=e.valueSelector,l=e.openSnackBar;if(void 0===a)return null;var u=function(){l({messageContent:"Notification Updated"}),o&&o(),i&&i()},j=function(){l({messageContent:"Error Updating Notification",messageColor:"secondary"})},d=a.action,m=a.trigger;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Q.a,{container:!0,direction:"row",alignItems:"center",children:[Object(ie.jsx)(Q.a,{item:!0,xs:10,children:Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Trigger"})}),Object(ie.jsx)(Q.a,{item:!0,xs:2,children:Object(ie.jsxs)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:[Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{color:"primary"}),label:"Edit",checked:c,onChange:i})}),Object(ie.jsx)(Q.a,{item:!0,children:c&&Object(ie.jsx)(he.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return r(zP)},children:"Save"})})]})})]}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:c?Object(ie.jsx)(VP,{notificationId:t,entityType:n,form:zP,onSubmit:BP,onSubmitSuccess:u,onSubmitFail:j,initialValues:{notificationDocument:a},valueSelector:s}):Object(ie.jsx)(SP,{notificationId:t,trigger:m,entityType:n})})}),Object(ie.jsx)(X.a,{variant:"h5",color:"textSecondary",style:{textDecoration:"none"},children:"Action"}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:c?Object(ie.jsx)(lP,{notificationId:t,entityType:n,form:zP,onSubmit:BP,onSubmitSuccess:u,onSubmitFail:j,initialValues:{notificationDocument:a},valueSelector:s}):Object(ie.jsx)(tP,{notificationId:t,action:d,entityType:n})})})]})}),zP);var YP=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.notificationId,o=e.entityType,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Notification ".concat(r,"?")}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.B.removeNotification({notificationId:r,entityType:o}).then((function(){var e="Notification ".concat(r," Removed");a({messageContent:e}),n(),c&&c()})).catch((function(){a({messageContent:"Error Removing Notification",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),XP="NOTIFICATION_REMOVE_DIALOG",QP=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.toggleEdit=a.toggleEdit.bind(Object(M.a)(a)),a.state={notificationDocument:void 0,isEditing:!1},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.entityType,n=e.notificationId;document.title="xray | Notification ".concat(Zt(t)," | ").concat(n),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.entityType,a=t.notificationId;try{W.B.getNotification({notificationId:a,entityType:n}).then((function(t){return e.setState({notificationDocument:t.data})})).catch((function(t){return e.onRefreshError(t)}))}catch(r){this.onRefreshError(r)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Notification",messageColor:"secondary"})}},{key:"toggleEdit",value:function(){var e=this.state.isEditing;this.setState({isEditing:!e})}},{key:"render",value:function(){var e=this.props,t=e.notificationId,n=e.entityType,a=e.history,r=this.state,o=r.notificationDocument,c=r.isEditing;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:t,parentTitle:Zt(n),parentTo:"/notification/".concat(n,"/"),grandParentTitle:"Notification",grandParentTo:"/notification/",helpTo:"/ref/notification/index.html",onRefresh:this.onRefresh,code:o,codeModal:"NotificationDocument",entityId:"notification/".concat(t),entityType:n,removeModal:XP}),Object(ie.jsx)(KP,{notificationDocument:o,entityType:n,notificationId:t,isEditing:c,toggleEdit:this.toggleEdit,onRefresh:this.onRefresh}),Object(ie.jsx)(YP,{dialogName:XP,onSuccess:function(){return a.push("/notification/".concat(n,"/"))},entityType:n,notificationId:t})]})}}]),n}(o.a.PureComponent)),$P=["item","collection","job","storage","file","quota","group","document"],ZP="NOTIFICATION_CREATE_DIALOG";function eE(e){var t=e.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Notification",helpTo:"/ref/notification/notification.html",createModal:ZP}),Object(ie.jsx)(Xe,{uriListDocument:{uri:$P},linkTo:function(e){return"/notification/".concat(e,"/")},titleCase:!0}),Object(ie.jsx)(GP,{dialogName:ZP,onSuccess:function(e){var n=e.data,a=e.entityType,r=n.uri[0];t.push("/notification/".concat(a,"/").concat(r))}})]})}function tE(e){var t=e.openCode,n=e.openCreate,a=e.onRefresh;return Object(ie.jsx)(ge,{title:"Import Settings",onRefresh:a,openCode:t,openAction:n})}function nE(e){var t=e.uriListDocument;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Ye,{uriListDocument:t,linkTo:function(e){return"/import/settings/".concat(e,"/")}})})})}var aE=function(e){var t=e.fields;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Sn.a,{children:"Access Control"}),t.map((function(e,n){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,style:{marginTop:"10px"},children:[Object(ie.jsxs)(Q.a,{item:!0,sm:8,children:[Object(ie.jsxs)(At.a,{name:"".concat(e),component:Sf,label:"Entity",fullWidth:!0,choices:{user:Object(ie.jsx)(hj,{name:"".concat(e,".user"),label:"User",isClearable:!0,fullWidth:!0}),group:Object(ie.jsx)(Cm,{name:"".concat(e,".group"),label:"Group",isClearable:!0,fullWidth:!0})},children:[Object(ie.jsx)(Cn.a,{value:"user",children:"User"}),Object(ie.jsx)(Cn.a,{value:"group",children:"Group"})]}),Object(ie.jsx)(At.a,{name:"".concat(e,".priority"),component:St,label:"Priority",fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"".concat(e,".permission"),children:"Permission"}),Object(ie.jsxs)(At.a,{name:"".concat(e,".permission"),component:gt,children:[Object(ie.jsx)(Cn.a,{value:"READ",children:"Read"}),Object(ie.jsx)(Cn.a,{value:"WRITE",children:"Write"}),Object(ie.jsx)(Cn.a,{value:"ALL",children:"All"}),Object(ie.jsx)(Cn.a,{value:"OWNER",children:"Owner"}),Object(ie.jsx)(Cn.a,{value:"NONE",children:"None"})]})]}),Object(ie.jsx)(hj,{name:"".concat(e,".grantor"),label:"Grantor",isClearable:!0,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"".concat(e,".recursive"),component:Wt}),label:"Recursive"}),Object(ie.jsxs)(At.a,{name:"".concat(e,".operation"),component:Sf,label:"Operation",fullWidth:!0,choices:{metadata:Object(ie.jsx)(Ct.a,{name:"".concat(e,".operation.metadata"),component:Cf}),shape:Object(ie.jsx)(Ct.a,{name:"".concat(e,".operation.shape"),component:Rf}),uri:Object(ie.jsx)(Ct.a,{name:"".concat(e,".operation.uri"),component:If})},children:[Object(ie.jsx)(Cn.a,{value:"metadata",children:"Metadata"}),Object(ie.jsx)(Cn.a,{value:"shape",children:"Shape"}),Object(ie.jsx)(Cn.a,{value:"uri",children:"URI"})]})]}),Object(ie.jsx)(Q.a,{item:!0,sm:"auto",children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]}),Object(ie.jsx)(ut.a,{})]},e)})),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",children:"Add Access"})})]})},rE=function(){return Object(ie.jsx)(Rt.a,{name:"access",component:aE})};var oE=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"importSettingsDocument",component:rE}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function cE(e,t,n){var a=n.settingsId,r=e.importSettingsDocument;return W.r.updateImportSettings({settingsId:a,importSettingsDocument:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function iE(e){var t=e.importSettingsDocument;return W.r.createImportSettings({importSettingsDocument:t}).then((function(e){return{importSettingsDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var sE="EDIT_IMPORTSETTINGS_FORM";var lE={submitForm:st.f,openSnackBar:a.openSnackBar},uE=Object(s.b)(null,lE)((function(e){var t=e.submitForm,n=e.closeModal,a=e.isOpen,r=e.history,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Import Settings"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(oE,{form:sE,onSubmit:iE,onSubmitSuccess:function(e){var t=e.importSettingsDocument.id,a="Import Settings ".concat(t," Created");o({messageContent:a}),r.push("/import/settings/".concat(t)),n()},onSubmitFail:function(){o({messageContent:"Error Updating Import Settings",messageColor:"secondary"})}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(sE)},children:"Save"})]})]})})),jE="IMPORTSETTINGSLIST_CODE_MODAL",dE="IMPORTSETTINGS_CREATE_MODAL",mE=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Import Settings",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.r.listImportSettings().then((function(e){return e.json()})).then((function(t){return e.setState({uriListDocument:t})}))}catch(n){t({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.history,o=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(tE,{openCode:function(){return a({modalName:jE})},openCreate:function(){return a({modalName:dE})},onRefresh:this.onRefresh}),o&&Object(ie.jsx)(nE,{uriListDocument:o}),Object(ie.jsx)(ve,{isOpen:t===jE,toggleDialogue:n,code:o,title:"URIListDocument"}),Object(ie.jsx)(uE,{isOpen:t===dE,closeModal:n,history:r})]})}}]),n}(o.a.PureComponent);var bE={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},hE=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),bE)(mE);function OE(e){var t=e.openCode,n=e.onRefresh,a=e.settingsId,r=e.openRemove;return Object(ie.jsx)(ge,{title:a,parentTitle:"Import Settings",parentTo:"/import/settings/",openCode:t,onRefresh:n,actionComponent:Object(ie.jsx)(_.a,{onClick:r,children:Object(ie.jsx)(ee.a,{})})})}function pE(e){var t=e.importSettingsDocument,n=void 0===t?{}:t,a=n.access,r=void 0===a?[]:a;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"ID",value:n.id}),r.map((function(e,t){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsx)(pf,{access:e})]},t)}))]})}var xE="EDIT_IMPORTSETTINGS_FORM",fE=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).toggleEdit=a.toggleEdit.bind(Object(M.a)(a)),a.state={isEditing:!1},a}return Object(N.a)(n,[{key:"toggleEdit",value:function(){var e=this.state.isEditing;this.setState({isEditing:!e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.importSettingsDocument,a=t.submitForm,r=t.settingsId,o=t.onRefresh,c=t.openSnackBar,i=this.state.isEditing,s={importSettingsDocument:n};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{color:"primary"}),label:"Edit",checked:i,onChange:this.toggleEdit})})})}),Object(ie.jsx)(Se.a,{children:i?Object(ie.jsx)(oE,{form:xE,initialValues:s,onSubmit:cE,onSubmitSuccess:function(){e.toggleEdit();c({messageContent:"Import Settings Saved"}),o&&o()},onSubmitFail:function(){c({messageContent:"Error Updating Import Settings",messageColor:"secondary"})},settingsId:r}):Object(ie.jsx)(pE,{importSettingsDocument:n})}),i&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:function(){return a(xE)},size:"small",color:"primary",children:"Save"})]})]})]})}}]),n}(o.a.PureComponent),vE={submitForm:st.f,openSnackBar:a.openSnackBar},gE=Object(s.b)(null,vE)(fE);function yE(e){var t=e.settingsId,n=e.importSettingsDocument,a=e.onRefresh;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(gE,{settingsId:t,importSettingsDocument:n,onRefresh:a})})})}function SE(e){var t=e.closeModal,n=e.isOpen,a=e.settingsId,r=e.onRemove;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Import Settings "'.concat(a,'"?')}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Su.a,{children:"This may affect access to future imports."})}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){return r({settingsId:a})},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var CE="IMPORTSETTINGS_CODE_MODAL",RE="IMPORTSETTINGS_REMOVE_MODAL",IE=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRemove=a.onRemove.bind(Object(M.a)(a)),a.state={importSettingsDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.settingsId;document.title="xray | Import Settings | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.settingsId;W.r.getImportSettings({settingsId:a}).then((function(e){return e.json()})).then((function(t){return e.setState({importSettingsDocument:t})})).catch((function(){n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}))}},{key:"onRemove",value:function(e){var t=e.settingsId,n=this.props,a=n.openSnackBar,r=n.history,o=n.closeModal;try{W.r.removeImportSettings({settingsId:t}).then((function(){var e="Import Settings ".concat(t," Removed");a({messageContent:e}),r.push("/import/settings/"),o()}))}catch(c){a({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.settingsId,o=this.state.importSettingsDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(OE,{settingsId:r,openCode:function(){return a({modalName:CE})},openRemove:function(){return a({modalName:RE})},onRefresh:this.onRefresh}),o&&Object(ie.jsx)(yE,{settingsId:r,importSettingsDocument:o,onRefresh:this.onRefresh}),Object(ie.jsx)(ve,{isOpen:t===CE,toggleDialogue:n,code:o,title:"ImportSettingsDocument"}),Object(ie.jsx)(SE,{isOpen:t===RE,closeModal:n,onRemove:this.onRemove,settingsId:r})]})}}]),n}(o.a.PureComponent);var DE={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},FE=Object(s.b)((function(e,t){return{settingsId:t.match.params.settingsId,modalName:e.ui.modalName}}),DE)(IE);function kE(e){var t=e.openCode,n=e.openCreate,a=e.onRefresh,r=e.userName;return Object(ie.jsx)(ge,{title:"Import Access",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:r,parentTo:"/user/".concat(r,"/"),onRefresh:a,openCode:t,openAction:n})}function TE(e){var t=e.group,n=e.openRemove,a=e.openEdit;return Object(ie.jsxs)(Pe.a,{hover:!0,children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/group/".concat(t.name),children:t.name})}),Object(ie.jsx)(ke.a,{children:t.permission}),Object(ie.jsx)(ke.a,{numeric:!0,onClick:function(e){return e.stopPropagation()},children:Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:a(t),children:Object(ie.jsx)(X.a,{color:"inherit",children:"Edit"})}),Object(ie.jsx)(Cn.a,{onClick:n(t),children:Object(ie.jsx)(X.a,{color:"error",children:"Remove"})})]})})]})}function PE(e){var t=e.importAccessControlListDocument,n=void 0===t?{}:t,a=e.openRemove,r=e.openEdit,o=n.group,c=void 0===o?[]:o;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"Group"}),Object(ie.jsx)(ke.a,{children:"Permission"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:c.map((function(e){return Object(ie.jsx)(TE,{group:e,openRemove:a,openEdit:r},e.name)}))})]})}function EE(e){var t=e.importAccessControlListDocument,n=e.openRemove,a=e.openEdit;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(PE,{importAccessControlListDocument:t,openRemove:n,openEdit:a})})})}function NE(e){var t=e.closeModal,n=e.isOpen,a=e.groupName,r=e.onRemove;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove "'.concat(a,'" Import Access?')}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Su.a,{children:"This may affect access to future imports."})}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:r(a),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var ME=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"permission",children:"Permission"}),Object(ie.jsxs)(At.a,{name:"permission",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"READ",children:"Read"}),Object(ie.jsx)(Cn.a,{value:"WRITE",children:"Write"}),Object(ie.jsx)(Cn.a,{value:"ALL",children:"All"}),Object(ie.jsx)(Cn.a,{value:"OWNER",children:"Owner"}),Object(ie.jsx)(Cn.a,{value:"NONE",children:"None"})]})]})};var AE=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"groupName",label:"Group",component:yl,loadOptions:ym,cacheOptions:!0,isClearable:!0}),Object(ie.jsx)(Ct.a,{name:"queryParams",component:ME}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),LE="EDIT_IMPORTACCESS_FORM";var WE={submitForm:st.f,openSnackBar:a.openSnackBar},wE=Object(s.b)(null,WE)((function(e){var t=e.submitForm,n=e.closeModal,a=e.isOpen,r=e.onRefresh,o=e.openSnackBar,c=e.group,i=void 0===c?{}:c,s=e.userName,l={groupName:i.name,queryParams:{permission:i.permission}};return Object(ie.jsxs)(Oe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Edit Import Access"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(AE,{form:LE,onSubmit:Tf,onSubmitSuccess:function(){o({messageContent:"Import Access Created"}),r&&r(),n()},onSubmitFail:function(){o({messageContent:"Error Creating Import Access",messageColor:"secondary"})},initialValues:l,userName:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(LE)},children:"Save"})]})]})})),_E="IMPORTACCESS_CODE_MODAL",VE="IMPORTACCESS_REMOVE_MODAL",BE="IMPORTACCESS_EDIT_MODAL",UE=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.openRemove=a.openRemove.bind(Object(M.a)(a)),a.onRemove=a.onRemove.bind(Object(M.a)(a)),a.openEdit=a.openEdit.bind(Object(M.a)(a)),a.state={importAccessControlListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.userName;document.title="xray | User | ".concat(e," | Import Access"),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a={RunAs:t.userName};W.a.getImportAccess({headers:a}).then((function(e){return e.json()})).then((function(t){return e.setState({importAccessControlListDocument:t})})).catch((function(){n({messageContent:"Error Loading Import Settings",messageColor:"secondary"})}))}},{key:"onRemove",value:function(e){var t=this,n=this.props,a=n.openSnackBar,r=n.closeModal,o={RunAs:n.userName};return function(){W.a.removeImportAccessGroup({groupName:e,headers:o}).then((function(){var n='Import Access "'.concat(e,'" Removed');a({messageContent:n}),r(),t.onRefresh()})).catch((function(){a({messageContent:"Error Removing Import Access",messageColor:"secondary"})}))}}},{key:"openRemove",value:function(e){var t=this,n=this.props.openModal;return function(){t.setState({currentGroup:e},(function(){return n({modalName:VE})}))}}},{key:"openEdit",value:function(e){var t=this,n=this.props.openModal;return function(){t.setState({currentGroup:e},(function(){return n({modalName:BE})}))}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.userName,o=this.state,c=o.importAccessControlListDocument,i=o.currentGroup;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(kE,{openCode:function(){return a({modalName:_E})},openCreate:function(){return a({modalName:BE})},onRefresh:this.onRefresh,userName:r}),c&&Object(ie.jsx)(EE,{importAccessControlListDocument:c,openRemove:this.openRemove,openEdit:this.openEdit}),Object(ie.jsx)(ve,{isOpen:t===_E,toggleDialogue:n,code:c,title:"ImportAccessControlListDocument"}),i&&Object(ie.jsx)(NE,{isOpen:t===VE,closeModal:n,onRemove:this.onRemove,groupName:i.name}),Object(ie.jsx)(wE,{isOpen:t===BE,closeModal:n,onRefresh:this.onRefresh,group:i,userName:r})]})}}]),n}(o.a.PureComponent);var qE={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},GE=Object(s.b)((function(e,t){var n=e.ui.modalName;return{userName:t.match.params.userName,modalName:n}}),qE)(UE);function HE(e){var t=e.openCode,n=e.openCreate,a=e.onRefresh;return Object(ie.jsx)(ge,{title:"Task Group",onRefresh:a,openCode:t,openAction:n})}function JE(e){var t=e.group;return Object(ie.jsxs)(Je,{hover:!0,to:"/task-group/".concat(t.name,"/"),children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/task-group/".concat(t.name,"/"),children:t.name})}),Object(ie.jsx)(ke.a,{})]})}function zE(e){var t=e.taskGroupListDocument,n=(void 0===t?{}:t).group,a=void 0===n?[]:n;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"Name"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:a.map((function(e){return Object(ie.jsx)(JE,{group:e},e.name)}))})]})}function KE(e){var t=e.taskGroupListDocument;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(zE,{taskGroupListDocument:t})})})}var YE=function(e){return Object(ie.jsx)(St,Object(u.a)({disabled:void 0!==e.meta.initial,onFocus:e.onFocus,onBlur:e.onBlur},e))},XE=function(e){var t=e.fields;return Object(ie.jsxs)(ie.Fragment,{children:[t.map((function(e,n){return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(ie.jsx)(Q.a,{item:!0,sm:10,children:Object(ie.jsx)(At.a,{name:"".concat(e,".id"),component:St,label:"Transcoder ID",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:"Add Transcoder"})]})},QE=function(e){var t=e.fields;return Object(ie.jsxs)(ie.Fragment,{children:[t.map((function(e,n){return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(At.a,{name:"".concat(e,".key"),component:St,label:"Data Key",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(At.a,{name:"".concat(e,".value"),component:St,label:"Data Value",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:"Add Data"})]})},$E=function(e){var t=e.fields;return Object(ie.jsxs)(ie.Fragment,{children:[t.map((function(e,n){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(ie.jsxs)(Q.a,{item:!0,sm:10,children:[Object(ie.jsx)(At.a,{name:"".concat(e,".type"),label:"Job Type",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"".concat(e,".priority"),label:"Job Priority",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"".concat(e,".user"),label:"Job User",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"".concat(e,".group"),label:"Job Group",component:Ya,simple:!0,fullWidth:!0})]}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e),Object(ie.jsx)(Rt.a,{name:"".concat(e,".data"),component:QE})]},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:"Add Job"})]})},ZE=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"name",component:YE,label:"Name",required:!0,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsxs)(At.a,{name:"priority",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"HIGHEST",children:"HIGHEST"}),Object(ie.jsx)(Cn.a,{value:"HIGH",children:"HIGH"}),Object(ie.jsx)(Cn.a,{value:"MEDIUM",children:"MEDIUM"}),Object(ie.jsx)(Cn.a,{value:"LOW",children:"LOW"}),Object(ie.jsx)(Cn.a,{value:"LOWEST",children:"LOWEST"})]})]}),Object(ie.jsx)(Q.a,{container:!0,direction:"column",children:Object(ie.jsx)(Rt.a,{name:"transcoder",component:XE})}),Object(ie.jsx)(Q.a,{container:!0,direction:"column",children:Object(ie.jsx)(Rt.a,{name:"job",component:$E})})]})};var eN=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"taskGroupDocument",component:ZE}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function tN(e){var t=e.taskGroupDocument,n=t.name;return W.Q.updateTaskGroup({groupName:n,taskGroupDocument:t}).then((function(e){return{taskGroupDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var nN="EDIT_TASKGROUP_FORM";var aN={submitForm:st.f,openSnackBar:a.openSnackBar},rN=Object(s.b)(null,aN)((function(e){var t=e.submitForm,n=e.closeModal,a=e.isOpen,r=e.history,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Task Group"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(eN,{form:nN,onSubmit:tN,onSubmitSuccess:function(e){var t=e.taskGroupDocument.name,a="Task Group ".concat(t," Created");o({messageContent:a}),r.push("/task-group/".concat(t)),n()},onSubmitFail:function(){o({messageContent:"Error Creating Task Group",messageColor:"secondary"})}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(nN)},children:"Save"})]})]})})),oN="TASKGROUPLIST_CODE_MODAL",cN="TASKGROUPLIST_CREATE_MODAL",iN=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={taskGroupListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Task Group",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.Q.listTaskGroup().then((function(e){return e.json()})).then((function(t){return e.setState({taskGroupListDocument:t})}))}catch(n){t({messageContent:"Error Loading Task Groups",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.history,o=this.state.taskGroupListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(HE,{openCode:function(){return a({modalName:oN})},openCreate:function(){return a({modalName:cN})},onRefresh:this.onRefresh}),o&&Object(ie.jsx)(KE,{taskGroupListDocument:o}),Object(ie.jsx)(ve,{isOpen:t===oN,toggleDialogue:n,code:o,title:"TaskGroupListDocument"}),Object(ie.jsx)(rN,{isOpen:t===cN,closeModal:n,history:r})]})}}]),n}(o.a.PureComponent);var sN={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},lN=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),sN)(iN);function uN(e){var t=e.openCode,n=e.onRefresh,a=e.groupName,r=e.openRemove;return Object(ie.jsx)(ge,{title:a,parentTitle:"Task Group",parentTo:"/task-group/",openCode:t,onRefresh:n,actionComponent:Object(ie.jsx)(_.a,{onClick:r,children:Object(ie.jsx)(ee.a,{})})})}var jN=function(e){var t=e.group;return Object(ie.jsxs)(ie.Fragment,{children:[t.priority&&Object(ie.jsx)(nn,{title:"Priority",value:t.priority}),t.job&&Object(ie.jsxs)(ie.Fragment,{children:[t.job.map((function(e){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsx)(nn,{title:"Job Type",variant:"list",value:e.type}),Object(ie.jsx)(nn,{title:"Job Priority",variant:"list",value:e.priority}),Object(ie.jsx)(nn,{title:"Job User",variant:"list",value:e.user}),Object(ie.jsx)(nn,{title:"Job Group",variant:"list",value:e.group})]},e.type)})),Object(ie.jsx)(ut.a,{})]}),t.transcoder&&Object(ie.jsxs)(ie.Fragment,{children:[t.transcoder.map((function(e){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsx)(nn,{title:"Transcoder",value:e.id})]},e.id)})),Object(ie.jsx)(ut.a,{})]})]})};function dN(e){var t=e.taskGroupDocument;return Object(ie.jsx)(jN,{group:t})}var mN="EDIT_TASKGROUP_FORM",bN=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).toggleEdit=a.toggleEdit.bind(Object(M.a)(a)),a.state={isEditing:!1},a}return Object(N.a)(n,[{key:"toggleEdit",value:function(){var e=this.state.isEditing;this.setState({isEditing:!e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.taskGroupDocument,a=t.submitForm,r=t.groupName,o=t.onRefresh,c=t.openSnackBar,i=this.state.isEditing,s={taskGroupDocument:n};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{color:"primary"}),label:"Edit",checked:i,onChange:this.toggleEdit})})})}),Object(ie.jsx)(Se.a,{children:i?Object(ie.jsx)(eN,{form:mN,initialValues:s,onSubmit:tN,onSubmitSuccess:function(){e.toggleEdit();c({messageContent:"Task Group Saved"}),o&&o()},onSubmitFail:function(){c({messageContent:"Error Updating Task Group",messageColor:"secondary"})},groupName:r}):Object(ie.jsx)(dN,{taskGroupDocument:n})}),i&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:function(){return a(mN)},size:"small",color:"primary",children:"Save"})]})]})]})}}]),n}(o.a.PureComponent),hN={submitForm:st.f,openSnackBar:a.openSnackBar},ON=Object(s.b)(null,hN)(bN);function pN(e){return e.editable?Object(ie.jsx)($c,Object(u.a)({},e)):Object(ie.jsx)(Hc,Object(u.a)({},e))}function xN(e){var t=e.groupName,n=e.taskGroupDocument,a=e.onRefresh,r=n.metadata,o=void 0===r?{}:r;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ie,{children:Object(ie.jsx)(ON,{groupName:t,taskGroupDocument:n,onRefresh:a})}),o&&Object(ie.jsx)(Ie,{children:Object(ie.jsx)(pN,{simpleMetadataList:o.field,entityType:"task-group",entityId:t,onSuccess:a,editable:!0})})]})}function fN(e){var t=e.closeModal,n=e.isOpen,a=e.groupName,r=e.onRemove;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Task Group "'.concat(a,'"?')}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Su.a,{children:"This may affect access to future imports."})}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){return r({groupName:a})},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var vN="TASKGROUP_CODE_MODAL",gN="TASKGROUP_REMOVE_MODAL",yN=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRemove=a.onRemove.bind(Object(M.a)(a)),a.state={taskGroupDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.groupName;document.title="xray | Task Group | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.groupName;W.Q.getTaskGroup({groupName:a}).then((function(e){return e.json()})).then((function(t){return e.setState({taskGroupDocument:t})})).catch((function(){n({messageContent:"Error Loading Task Group",messageColor:"secondary"})}))}},{key:"onRemove",value:function(e){var t=e.groupName,n=this.props,a=n.openSnackBar,r=n.history,o=n.closeModal;try{W.Q.removeTaskGroup({groupName:t}).then((function(){var e="Task Group ".concat(t," Removed");a({messageContent:e}),r.push("/task-group/"),o()}))}catch(c){a({messageContent:"Error Removing Import Settings",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.groupName,o=this.state.taskGroupDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(uN,{groupName:r,openCode:function(){return a({modalName:vN})},openRemove:function(){return a({modalName:gN})},onRefresh:this.onRefresh}),o&&Object(ie.jsx)(xN,{groupName:r,taskGroupDocument:o,onRefresh:this.onRefresh}),Object(ie.jsx)(ve,{isOpen:t===vN,toggleDialogue:n,code:o,title:"TaskGroupDocument"}),Object(ie.jsx)(fN,{isOpen:t===gN,closeModal:n,onRemove:this.onRemove,groupName:r})]})}}]),n}(o.a.PureComponent);var SN={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},CN=Object(s.b)((function(e,t){return{groupName:t.match.params.groupName,modalName:e.ui.modalName}}),SN)(yN);function RN(e){var t=e.openCode,n=e.openCreate,a=e.onRefresh;return Object(ie.jsx)(ge,{title:"Quota",onRefresh:a,openCode:t,openAction:n})}function IN(e){var t=e.closeModal,n=e.isOpen,a=e.ruleId,r=e.onRemove;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Quota "'.concat(a,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:r(a),color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var DN=function(e){var t=e.fields;return Object(ie.jsxs)(ie.Fragment,{children:[t.map((function(e,n){return Object(ie.jsx)(o.a.Fragment,{children:Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(ie.jsxs)(Q.a,{item:!0,sm:10,children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"".concat(e,".name"),children:"Resource Name"}),Object(ie.jsxs)(At.a,{name:"".concat(e,".name"),component:gt,required:!0,children:[Object(ie.jsx)(Cn.a,{value:"item",children:"Item"}),Object(ie.jsx)(Cn.a,{value:"storage",children:"Storage"})]})]}),Object(ie.jsx)(At.a,{name:"".concat(e,".limit"),label:"Resource Limit",component:St,fullWidth:!0,required:!0})]}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e)},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:"Add Resource"})]})},FN=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"description",component:St,label:"Description",fullWidth:!0}),Object(ie.jsx)(hj,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Cm,{name:"group",label:"Group",isClearable:!0,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"collection",component:St,label:"Collection",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"library",component:St,label:"Library",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"storage",component:St,label:"Storage",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"storageGroup",component:St,label:"Storage Group",fullWidth:!0}),Object(ie.jsx)(At.a,{name:"tag",component:St,label:"Tag",fullWidth:!0}),Object(ie.jsx)(Q.a,{container:!0,direction:"column",children:Object(ie.jsx)(Rt.a,{name:"resource",component:DN})})]})};var kN=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"quotaRuleDocument",component:FN}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function TN(e){var t=e.quotaRuleDocument;return W.D.createQuota({quotaRuleDocument:t}).then((function(e){return{quotaRuleDocument:e.data}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function PN(e){var t=function(e){if(!("filter"in e)&&"object"!==typeof e.filter)return e;var t=e.filter.reduce((function(e,t,n){return t.key&&t.value?"".concat(e).concat(n>0?",":"").concat(t.key,"%3D").concat(t.value):e}),"");return""!==t?Ka()(e,{filter:{$set:t}}):Ka()(e,{$unset:["filter"]})}(e.queryParams);return W.D.listQuota({queryParams:t}).then((function(e){return{quotaRuleListDocument:e.data,queryParams:t}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var EN="EDIT_QUOTA_FORM";var NN={submitForm:st.f,openSnackBar:a.openSnackBar},MN=Object(s.b)(null,NN)((function(e){var t=e.submitForm,n=e.closeModal,a=e.isOpen,r=e.onRefresh,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Quota"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(kN,{form:EN,onSubmit:TN,onSubmitSuccess:function(e){var t=e.quotaRuleDocument.id,a="Import Settings ".concat(t," Created");o({messageContent:a}),n(),r()},onSubmitFail:function(){o({messageContent:"Error Creating Quota",messageColor:"secondary"})},initialValues:{quotaRuleDocument:{resource:[{}]}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(EN)},children:"Save"})]})]})})),AN=n(704),LN=function(e){var t=e.rule;return Object(ie.jsxs)(ie.Fragment,{children:[t.user&&Object(ie.jsx)(nn,{title:"User",variant:"username",value:t.user}),t.group&&Object(ie.jsx)(nn,{title:"Group",variant:"group",value:t.group}),t.collection&&Object(ie.jsx)(nn,{title:"Collection",variant:"collection",value:t.collection}),t.library&&Object(ie.jsx)(nn,{title:"Library",variant:"library",value:t.library}),t.tag&&Object(ie.jsx)(nn,{title:"Shape Tag",variant:"shape-tag",value:t.tag}),t.storage&&Object(ie.jsx)(nn,{title:"Storage",variant:"storageId",value:t.storage}),t.storageGroup&&Object(ie.jsx)(nn,{title:"Storage Group",value:t.storageGroup}),t.resource&&Object(ie.jsxs)(ie.Fragment,{children:[t.resource.map((function(e){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsx)(nn,{title:"Resource Name",value:e.name}),Object(ie.jsx)(nn,{title:"Resource Limit",value:e.limit}),Object(ie.jsx)(nn,{title:"Resource Usage",value:e.usage}),Object(ie.jsx)(AN.a,{variant:"determinate",value:e.usage/e.limit*100})]},e.name)})),Object(ie.jsx)(ut.a,{})]}),Object(ie.jsx)(nn,{title:"Description",value:t.description}),Object(ie.jsx)(nn,{title:"Update Frequency",value:t.updateFrequency}),Object(ie.jsx)(nn,{title:"Last Update",variant:"timestamp",value:t.lastUpdate})]})};function WN(e){var t=e.quotaRuleDocument;return Object(ie.jsx)(LN,{rule:t})}function wN(e){var t=e.quotaRuleDocument,n=e.openRemove,a=t.id;return Object(ie.jsx)(Ie,{children:Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Ce.a,{subheader:a,action:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(_.a,{onClick:n(a),children:Object(ie.jsx)(Dt.a,{})}),Object(ie.jsx)(se,{entityId:a,entityType:"quota"})]})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(WN,{quotaRuleDocument:t})})]})})}function _N(e){var t=e.quotaRuleListDocument,n=void 0===t?{}:t,a=e.onRefresh,r=e.openRemove,o=n.rule,c=void 0===o?[]:o;return Object(ie.jsx)(ie.Fragment,{children:c.map((function(e){return Object(ie.jsx)(wN,{quotaRuleDocument:e,onRefresh:a,openRemove:r},e.id)}))})}var VN=function(e){var t=e.fields;return Object(ie.jsxs)(ie.Fragment,{children:[t.map((function(e,n){return Object(ie.jsxs)(Q.a,{container:!0,direction:"row",wrap:"nowrap",spacing:16,children:[Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"".concat(e,".key"),children:"Filter Key"}),Object(ie.jsxs)(At.a,{name:"".concat(e,".key"),component:gt,children:[Object(ie.jsx)(Cn.a,{value:"user",children:"user"}),Object(ie.jsx)(Cn.a,{value:"group",children:"group"}),Object(ie.jsx)(Cn.a,{value:"storage",children:"storage"}),Object(ie.jsx)(Cn.a,{value:"storageGroup",children:"storageGroup"}),Object(ie.jsx)(Cn.a,{value:"collection",children:"collection"}),Object(ie.jsx)(Cn.a,{value:"library",children:"library"}),Object(ie.jsx)(Cn.a,{value:"tag",children:"tag"})]})]})}),Object(ie.jsx)(Q.a,{item:!0,sm:5,children:Object(ie.jsx)(At.a,{name:"".concat(e,".value"),component:St,label:"Filter Value",fullWidth:!0})}),Object(ie.jsx)(Q.a,{item:!0,sm:2,children:Object(ie.jsx)(_.a,{onClick:function(){return t.remove(n)},children:Object(ie.jsx)(Dt.a,{})})})]},e)})),Object(ie.jsx)(kt,{onClick:function(){return t.push()},color:"primary",style:{marginTop:10},children:"Add Filter"})]})},BN=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Q.a,{container:!0,direction:"column",children:Object(ie.jsx)(Rt.a,{name:"filter",component:VN})}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"exceeded",component:Wt}),label:"Exceeded"}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"content",children:"Content"}),Object(ie.jsx)(At.a,{name:"content",component:gt,children:Object(ie.jsx)(Cn.a,{value:"external",children:"External"})})]})]})};var UN=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"queryParams",component:BN}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),qN="EDIT_QUOTA_FILTER_FORM";var GN={submitForm:st.f,openSnackBar:a.openSnackBar},HN=Object(s.b)(null,GN)((function(e){var t=e.submitForm,n=e.onFilter,a=e.openSnackBar;return Object(ie.jsx)(Ie,{children:Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(Ce.a,{action:Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(qN)},children:"Search"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(UN,{form:qN,onSubmit:PN,onSubmitSuccess:function(e){var t=e.quotaRuleListDocument,a=e.queryParams;n({quotaRuleListDocument:t,queryParams:a})},onSubmitFail:function(){a({messageContent:"Error Filtering Quota",messageColor:"secondary"})},initialValues:{queryParams:{exceeded:!1,filter:[{}]}}})})]})})})),JN="QUOTA_CODE_MODAL",zN="QUOTA_REMOVE_MODAL",KN="QUOTA_CREATE_MODAL",YN=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.openRemove=a.openRemove.bind(Object(M.a)(a)),a.onRemove=a.onRemove.bind(Object(M.a)(a)),a.onFilter=a.onFilter.bind(Object(M.a)(a)),a.state={quotaRuleListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar,n=this.state.queryParams;W.D.listQuota({queryParams:n}).then((function(e){return e.json()})).then((function(t){return e.setState({quotaRuleListDocument:t})})).catch((function(){t({messageContent:"Error Loading Quota",messageColor:"secondary"})}))}},{key:"onFilter",value:function(e){var t=e.quotaRuleListDocument,n=e.queryParams;this.setState({quotaRuleListDocument:t,queryParams:n})}},{key:"onRemove",value:function(e){var t=this,n=this.props,a=n.openSnackBar,r=n.closeModal;return function(){W.D.removeQuota({ruleId:e}).then((function(){var n='Quota "'.concat(e,'" Removed');a({messageContent:n}),r(),t.onRefresh()})).catch((function(){a({messageContent:"Error Removing Quota",messageColor:"secondary"})}))}}},{key:"openRemove",value:function(e){var t=this,n=this.props.openModal;return function(){t.setState({currentRuleId:e},(function(){return n({modalName:zN})}))}}},{key:"render",value:function(){var e=this.state,t=e.quotaRuleListDocument,n=e.currentRuleId,a=this.props,r=a.closeModal,o=a.modalName,c=a.openModal;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(RN,{openCode:function(){return c({modalName:JN})},openCreate:function(){return c({modalName:KN})},onRefresh:this.onRefresh}),Object(ie.jsx)(HN,{onFilter:this.onFilter,onRefresh:this.onRefresh}),Object(ie.jsx)(_N,{quotaRuleListDocument:t,onRefresh:this.onRefresh,openRemove:this.openRemove}),n&&Object(ie.jsx)(IN,{isOpen:o===zN,closeModal:r,onRemove:this.onRemove,ruleId:n}),Object(ie.jsx)(MN,{isOpen:o===KN,closeModal:r,onRefresh:this.onRefresh}),Object(ie.jsx)(ve,{isOpen:o===JN,toggleDialogue:r,code:t,title:"QuotaRuleListDocument"})]})}}]),n}(o.a.Component);var XN={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},QN=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),XN)(YN);function $N(e){var t=e.onRefresh,n=e.openCode;return Object(ie.jsx)(ge,{title:"Resource",onRefresh:t,openCode:n})}function ZN(e){var t=e.resourceType;return Object(ie.jsx)(Je,{hover:!0,to:"/resource/".concat(t,"/"),children:Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/resource/".concat(t,"/"),children:He()(t)})})})}function eM(e){var t=e.resourceTypeListDocument,n=(void 0===t?{}:t).resourcetype,a=void 0===n?[]:n;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(ke.a,{children:"Resource Type"})})}),Object(ie.jsx)(Fe.a,{children:a.map((function(e){return Object(ie.jsx)(ZN,{resourceType:e.type},e.type)}))})]})}function tM(e){var t=e.resourceTypeListDocument;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(eM,{resourceTypeListDocument:t})})})}var nM="RESOURCETYPELIST_CODE_MODAL",aM=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={resourceTypeListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Resource",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.F.listResource().then((function(t){return e.setState({resourceTypeListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Resource Types",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=this.state.resourceTypeListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)($N,{openCode:function(){return a({modalName:nM})},onRefresh:this.onRefresh}),r&&Object(ie.jsx)(tM,{resourceTypeListDocument:r}),Object(ie.jsx)(ve,{isOpen:t===nM,toggleDialogue:n,code:r,title:"ResourceTypeListDocument"})]})}}]),n}(o.a.PureComponent);var rM={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},oM=Object(s.b)((function(e,t){var n=t.match.params.resourceType;return{modalName:e.ui.modalName,resourceType:n}}),rM)(aM);function cM(e){var t=e.resourceType,n=e.openCode,a=e.openCreate,r=e.onRefresh;return Object(ie.jsx)(ge,{parentTitle:"Resource",parentTo:"/resource/",title:He()(t),onRefresh:r,openCode:n,openAction:a})}var iM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.netmask}),Object(ie.jsx)(ke.a,{children:t.bandwidth})]})},sM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.source}),Object(ie.jsx)(ke.a,{children:t.destination}),Object(ie.jsx)(ke.a,{children:t.shapeTag})]})},lM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.url}),Object(ie.jsx)(ke.a,{children:t.version}),Object(ie.jsx)(ke.a,{children:"ONLINE"===t.state?Object(ie.jsx)(Qr,{}):Object(ie.jsx)(Zr,{})})]})},uM=function(e){var t=e.resource;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ke.a,{children:t.path})})},jM=function(e){var t=e.resource;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ke.a,{children:t.address})})},dM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.url}),Object(ie.jsx)(ke.a,{children:t.tag}),Object(ie.jsx)(ke.a,{children:t.state})]})},mM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.url}),Object(ie.jsx)(ke.a,{children:t.workspaceUrl}),Object(ie.jsx)(ke.a,{children:t.userWorkspaceUrl})]})},bM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.url}),Object(ie.jsx)(ke.a,{children:t.tag})]})},hM=function(e){var t=e.resource;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ke.a,{children:t.url})})},OM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.publicAddress}),Object(ie.jsx)(ke.a,{children:t.apiHost})]})},pM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.url}),Object(ie.jsx)(ke.a,{children:t.name}),Object(ie.jsx)(ke.a,{children:t.endpoint}),Object(ie.jsx)(ke.a,{children:t.state})]})},xM=function(e){var t=e.resource;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:t.url}),Object(ie.jsx)(ke.a,{children:t.partyId}),Object(ie.jsx)(ke.a,{children:t.userId})]})},fM=function(e){var t=e.resource,n=e.resourceType;switch(n){case"network":return Object(ie.jsx)(iM,{resource:t[n],resourceType:n});case"transcoder":return Object(ie.jsx)(lM,{resource:t[n],resourceType:n});case"externalTranscoder":return Object(ie.jsx)(sM,{resource:t[n],resourceType:n});case"cerify":return Object(ie.jsx)(jM,{resource:t[n],resourceType:n});case"thumbnail":return Object(ie.jsx)(uM,{resource:t[n],resourceType:n});case"finalcutserver":return Object(ie.jsx)(dM,{resource:t[n],resourceType:n});case"mxfserver":return Object(ie.jsx)(mM,{resource:t[n],resourceType:n});case"signiant":return Object(ie.jsx)(bM,{resource:t[n],resourceType:n});case"ldap":return Object(ie.jsx)(hM,{resource:t[n],resourceType:n});case"cloudconvert":return Object(ie.jsx)(OM,{resource:t[n],resourceType:n});case"vidinet":return Object(ie.jsx)(pM,{resource:t[n],resourceType:n});case"eidr":return Object(ie.jsx)(xM,{resource:t[n],resourceType:n});default:return Object(ie.jsx)(ke.a,{})}};function vM(e){var t=e.resource,n=e.resourceType,a=t.id;return Object(ie.jsxs)(Je,{hover:!0,to:"/resource/".concat(n,"/").concat(a,"/"),children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/resource/".concat(n,"/").concat(a,"/"),children:a})}),Object(ie.jsx)(fM,{resource:t,resourceType:n})]})}var gM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"Netmask"}),Object(ie.jsx)(ke.a,{children:"Bandswidth"})]})},yM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"Source"}),Object(ie.jsx)(ke.a,{children:"Destination"}),Object(ie.jsx)(ke.a,{children:"Shape Tag"})]})},SM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"URL"}),Object(ie.jsx)(ke.a,{children:"Version"}),Object(ie.jsx)(ke.a,{children:"Status"})]})},CM=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ke.a,{children:"Address"})})},RM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"URL"}),Object(ie.jsx)(ke.a,{children:"Tag"}),Object(ie.jsx)(ke.a,{children:"State"})]})},IM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"URL"}),Object(ie.jsx)(ke.a,{children:"Workspace Url"}),Object(ie.jsx)(ke.a,{children:"User Workspace Url"})]})},DM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"URL"}),Object(ie.jsx)(ke.a,{children:"Tag"})]})},FM=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ke.a,{children:"URL"})})},kM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"Public Address"}),Object(ie.jsx)(ke.a,{children:"API Host"})]})},TM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"Url"}),Object(ie.jsx)(ke.a,{children:"Name"}),Object(ie.jsx)(ke.a,{children:"Endpoint"}),Object(ie.jsx)(ke.a,{children:"State"})]})},PM=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ke.a,{children:"URL"}),Object(ie.jsx)(ke.a,{children:"Party ID"}),Object(ie.jsx)(ke.a,{children:"User ID"})]})},EM=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ke.a,{children:"Path"})})},NM=function(e){switch(e.resourceType){case"network":return Object(ie.jsx)(gM,{});case"transcoder":return Object(ie.jsx)(SM,{});case"externalTranscoder":return Object(ie.jsx)(yM,{});case"cerify":return Object(ie.jsx)(CM,{});case"thumbnail":return Object(ie.jsx)(EM,{});case"finalcutserver":return Object(ie.jsx)(RM,{});case"mxfserver":return Object(ie.jsx)(IM,{});case"signiant":return Object(ie.jsx)(DM,{});case"ldap":return Object(ie.jsx)(FM,{});case"cloudconvert":return Object(ie.jsx)(kM,{});case"vidinet":return Object(ie.jsx)(TM,{});case"eidr":return Object(ie.jsx)(PM,{});default:return Object(ie.jsx)(ke.a,{})}};function MM(e){var t=e.resourceListDocument,n=void 0===t?{}:t,a=e.resourceType,r=n.resource,o=void 0===r?[]:r;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"ID"}),Object(ie.jsx)(NM,{resourceType:a})]})}),Object(ie.jsx)(Fe.a,{children:o.map((function(e){return Object(ie.jsx)(vM,{resource:e,resourceType:a},e.id)}))})]})}function AM(e){var t=e.resourceListDocument,n=e.resourceType;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(MM,{resourceListDocument:t,resourceType:n})})})}var LM={openSnackBar:a.openSnackBar},WM=Object(s.b)(null,LM)((function(e){var t=e.closeModal,n=e.isOpen,a=e.history,r=e.openSnackBar,o=e.resourceType;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New ".concat(He()(o))}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:Vy,documentName:"resourceDocument",onSubmit:Gy,onSubmitSuccess:function(e){var n=e.resourceDocument.id,c="".concat(o," ").concat(n," Created");r({messageContent:c}),a.push("/resource/".concat(o,"/").concat(n)),t()},onSubmitFail:function(){r({messageContent:"Error Creating Resource",messageColor:"secondary"})},onCancel:t,resourceType:o})})]})})),wM="RESOURCELIST_CODE_MODAL",_M="RESOURCE_CREATE_MODAL",VM=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={resourceListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.resourceType;document.title="xray | Resource | ".concat(He()(e)),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.resourceType;try{W.F.listResourceType({resourceType:a}).then((function(t){return e.setState({resourceListDocument:t.data})}))}catch(r){n({messageContent:"Error Loading Resource List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.resourceType,o=e.history,c=this.state.resourceListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(cM,{openCode:function(){return a({modalName:wM})},openCreate:function(){return a({modalName:_M})},onRefresh:this.onRefresh,resourceType:r}),c&&Object(ie.jsx)(AM,{resourceType:r,resourceListDocument:c}),Object(ie.jsx)(ve,{isOpen:t===wM,toggleDialogue:n,code:c,title:"ResourceListDocument"}),Object(ie.jsx)(WM,{resourceType:r,isOpen:t===_M,closeModal:n,history:o})]})}}]),n}(o.a.PureComponent);var BM={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},UM=Object(s.b)((function(e,t){var n=t.match.params.resourceType;return{modalName:e.ui.modalName,resourceType:n}}),BM)(VM);function qM(e){var t=e.resourceType,n=e.resourceId,a=e.openCode,r=e.onRefresh,o=e.openRemove;return Object(ie.jsx)(ge,{grandParentTitle:"Resource",grandParentTo:"/resource/",parentTitle:He()(t),parentTo:"/resource/".concat(t,"/"),title:n,onRefresh:r,openCode:a,actionComponent:Object(ie.jsx)(_.a,{onClick:o,children:Object(ie.jsx)(ee.a,{})})})}var GM=function(e){var t=e.metadata;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Metadata",value:""}),t.field&&t.field.map((function(e){return Object(ie.jsx)(nn,{title:e.key,value:e.value},e.key)}))]})},HM=function(e){var t=e.thumbnail;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Path",value:t.path}),Object(ie.jsx)(nn,{title:"Mode",value:t.mode})]})},JM=function(e){var t=e.network;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Netmask",value:t.netmask}),Object(ie.jsx)(nn,{title:"Bandwidth",value:t.bandwidth})]})},zM=function(e){var t=e.finalcutserver;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"URL",value:t.url}),Object(ie.jsx)(nn,{title:"Tag",value:t.tag}),Object(ie.jsx)(nn,{title:"State",value:t.state}),Object(ie.jsx)(nn,{title:"Description",value:t.description}),Object(ie.jsx)(GM,{metadata:t.metadata})]})},KM=function(e){var t=e.cerify;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Address",value:t.address}),Object(ie.jsx)(nn,{title:"Cleanup",value:t.cleanup}),t.mediaLocation&&t.mediaLocation.map((function(e,t){return Object(ie.jsxs)(o.a.Fragment,{children:[Object(ie.jsx)(nn,{title:"Media Location Name",value:e.name}),Object(ie.jsx)(nn,{title:"Media Location Storage Method",variant:"list",value:e.storageMethod})]},t)}))]})},YM=function(e){var t=e.directAccess;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:"Filter",value:t.filter})})},XM=function(e){var t=e.externalTranscoder;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Source",value:t.source}),Object(ie.jsx)(nn,{title:"Destination",value:t.destination}),Object(ie.jsx)(nn,{title:"Shape Tag",value:t.shapeTag}),Object(ie.jsx)(nn,{title:"Timeout",value:t.timeout}),Object(ie.jsx)(nn,{title:"Interval",value:t.interval}),Object(ie.jsx)(nn,{title:"Checks",value:t.checks}),Object(ie.jsx)(nn,{title:"Regex",value:t.regex})]})},QM=function(e){var t=e.transcoder;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Type",value:t.type}),Object(ie.jsx)(nn,{title:"URL",value:t.url}),Object(ie.jsx)(nn,{title:"Version",value:t.version}),Object(ie.jsx)(nn,{title:"Reverse Address",value:t.reverseAddress}),Object(ie.jsx)(nn,{title:"Reverse Address Detected",value:t.reverseAddressDetected}),Object(ie.jsx)(nn,{title:"Direct Access"}),t.directAccess&&t.directAccess.map((function(e,t){return Object(ie.jsx)(YM,{directAccess:e},t)})),Object(ie.jsx)(nn,{title:"State",value:t.state}),Object(ie.jsx)(nn,{title:"Weight",value:t.weight}),Object(ie.jsx)(nn,{title:"Max Job",value:t.maxJob})]})},$M=function(e){var t=e.mxfserver;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"URL",value:t.url}),Object(ie.jsx)(nn,{title:"Workspace Url",value:t.workspaceUrl}),Object(ie.jsx)(nn,{title:"User Workspace Url",value:t.userWorkspaceUrl}),Object(ie.jsx)(nn,{title:"MXFServer Workspace Path",value:t.mxfServerWorkspacePath}),Object(ie.jsx)(nn,{title:"MXFServer User Id",value:t.mxfServerUserId}),Object(ie.jsx)(nn,{title:"MXFServer Path To Storage",value:t.mxfServerPathToStorage}),Object(ie.jsx)(nn,{title:"Database Name",value:t.databaseName}),Object(ie.jsx)(nn,{title:"Storage ID",value:t.storageId}),Object(ie.jsx)(nn,{title:"Description",value:t.description}),Object(ie.jsx)(nn,{title:"Atom Shapes",value:t.atomShapes}),Object(ie.jsx)(nn,{title:"Import Shapes",value:t.importShapes}),Object(ie.jsx)(nn,{title:"Detect Atom",variant:"boolean",value:t.detectAtom}),Object(ie.jsx)(nn,{title:"Enforce Quota",variant:"boolean",value:t.enforceQuota}),Object(ie.jsx)(nn,{title:"File Import Pattern",value:t.fileImportPattern}),Object(ie.jsx)(GM,{metadata:t.metadata})]})},ZM=function(e){var t=e.signiant;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"URL",value:t.url}),Object(ie.jsx)(nn,{title:"Tag",value:t.tag}),Object(ie.jsx)(nn,{title:"Username",value:t.username}),Object(ie.jsx)(nn,{title:"Password",value:t.password}),Object(ie.jsx)(nn,{title:"Description",value:t.description})]})},eA=function(e){var t=e.ldap;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"url",variant:"list",value:t.url}),Object(ie.jsx)(nn,{title:"Use StartTLS",value:t.useStartTLS}),Object(ie.jsx)(nn,{title:"User DN",value:t.userDN}),Object(ie.jsx)(nn,{title:"Username Attribute",value:t.usernameAttribute}),Object(ie.jsx)(nn,{title:"User Search Filter",value:t.userSearchFilter}),Object(ie.jsx)(nn,{title:"Bind DN",value:t.bindDN}),Object(ie.jsx)(nn,{title:"Bind Password",value:t.bindPassword}),Object(ie.jsx)(nn,{title:"Cache Lifetime",value:t.cacheLifetime}),Object(ie.jsx)(nn,{title:"Group DN",value:t.groupDN}),Object(ie.jsx)(nn,{title:"Group Search Filter",value:t.groupSearchFilter}),Object(ie.jsx)(nn,{title:"Real Name Attribute",value:t.realNameAttribute}),Object(ie.jsx)(nn,{title:"Groupname Attribute",value:t.groupnameAttribute}),Object(ie.jsx)(nn,{title:"Username Format",value:t.usernameFormat}),t.sync&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Create Users",variant:"boolean",value:t.sync.createUsers}),Object(ie.jsx)(nn,{title:"Create Groups",variant:"boolean",value:t.sync.createGroups})]})]})},tA=function(e){var t=e.cloudconvert;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Public Address",value:t.publicAddress}),Object(ie.jsx)(nn,{title:"API Host",value:t.apiHost}),Object(ie.jsx)(nn,{title:"API Key",value:t.apiKey}),Object(ie.jsx)(nn,{title:"Input Method",value:t.inputMethod}),Object(ie.jsx)(nn,{title:"Script",value:t.script})]})},nA=function(e){var t=e.vidinet;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"URL",value:t.url}),Object(ie.jsx)(nn,{title:"Name",value:t.name}),Object(ie.jsx)(nn,{title:"Endpoint",value:t.endpoint}),Object(ie.jsx)(nn,{title:"State",value:t.state}),Object(ie.jsx)(nn,{title:"Scheme",variant:"list",value:t.scheme})]})},aA=function(e){var t=e.eidr;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"URL",value:t.url}),Object(ie.jsx)(nn,{title:"Include",variant:"list",value:t.include}),Object(ie.jsx)(nn,{title:"Party ID",value:t.partyId}),Object(ie.jsx)(nn,{title:"User ID",value:t.userId}),Object(ie.jsx)(nn,{title:"Password",value:t.password})]})},rA=function(e){var t=e.resourceType,n=e.resourceDocument;switch(t){case"network":return Object(ie.jsx)(JM,{network:n.network});case"transcoder":return Object(ie.jsx)(QM,{transcoder:n.transcoder});case"externalTranscoder":return Object(ie.jsx)(XM,{externalTranscoder:n.externalTranscoder});case"cerify":return Object(ie.jsx)(KM,{cerify:n.cerify});case"thumbnail":return Object(ie.jsx)(HM,{thumbnail:n.thumbnail});case"finalcutserver":return Object(ie.jsx)(zM,{finalcutserver:n.finalcutserver});case"mxfserver":return Object(ie.jsx)($M,{mxfserver:n.mxfserver});case"signiant":return Object(ie.jsx)(ZM,{signiant:n.signiant});case"ldap":return Object(ie.jsx)(eA,{ldap:n.ldap});case"cloudconvert":return Object(ie.jsx)(tA,{cloudconvert:n.cloudconvert});case"vidinet":return Object(ie.jsx)(nA,{vidinet:n.vidinet});case"eidr":return Object(ie.jsx)(aA,{eidr:n.eidr});default:return null}};function oA(e){var t=e.resourceType,n=e.resourceDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"ID",value:n.id}),Object(ie.jsx)(rA,{resourceType:t,resourceDocument:n})]})}var cA="EDIT_RESOURCE_FORM",iA=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).toggleEdit=a.toggleEdit.bind(Object(M.a)(a)),a.state={isEditing:!1},a}return Object(N.a)(n,[{key:"toggleEdit",value:function(){var e=this.state.isEditing;this.setState({isEditing:!e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.resourceType,a=t.resourceId,r=t.resourceDocument,o=t.submitForm,c=t.onRefresh,i=t.openSnackBar,s=this.state.isEditing,l={resourceDocument:r};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{action:Object(ie.jsx)(Q.a,{container:!0,direction:"row-reverse",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(ae.a,{color:"primary"}),label:"Edit",checked:s,onChange:this.toggleEdit})})})}),Object(ie.jsx)(Se.a,{children:s?Object(ie.jsx)(Vy,{form:cA,initialValues:l,onSubmit:qy,onSubmitSuccess:function(){e.toggleEdit();i({messageContent:"Resource Saved"}),c&&c()},onSubmitFail:function(){i({messageContent:"Error Updating Resource",messageColor:"secondary"})},resourceId:a,resourceType:n}):Object(ie.jsx)(oA,{resourceDocument:r,resourceType:n})}),s&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:this.toggleEdit,children:"Cancel"}),Object(ie.jsx)(he.a,{onClick:function(){return o(cA)},size:"small",color:"primary",children:"Save"})]})]})]})}}]),n}(o.a.PureComponent),sA={submitForm:st.f,openSnackBar:a.openSnackBar},lA=Object(s.b)(null,sA)(iA);function uA(e){var t=e.resourceType,n=e.resourceId,a=e.resourceDocument,r=e.onRefresh;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(lA,{resourceId:n,resourceType:t,resourceDocument:a,onRefresh:r})})})}function jA(e){var t=e.closeModal,n=e.isOpen,a=e.resourceId,r=e.resourceType,o=e.history,c=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove ".concat(He()(r),' "').concat(a,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.F.removeResource({resourceId:a,resourceType:r}).then((function(){var e="".concat(r," ").concat(a," Removed");c({messageContent:e}),o.push("/resource/".concat(r)),t()})).catch((function(){c({messageContent:"Error Removing Resource",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var dA="RESOURCELIST_CODE_MODAL",mA="RESOURCE_REMOVE_MODAL",bA=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={resourceDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.resourceType,n=e.resourceId;document.title="xray | Resource | ".concat(He()(t)," | ").concat(n),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.resourceType,r=t.resourceId;try{W.F.getResource({resourceType:a,resourceId:r}).then((function(t){return e.setState({resourceDocument:t.data})}))}catch(o){n({messageContent:"Error Loading Resource",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.resourceType,n=e.resourceId,a=e.modalName,r=e.closeModal,o=e.openModal,c=e.openSnackBar,i=e.history,s=this.state.resourceDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(qM,{openCode:function(){return o({modalName:dA})},openRemove:function(){return o({modalName:mA})},onRefresh:this.onRefresh,resourceType:t,resourceId:n}),s&&Object(ie.jsx)(uA,{onRefresh:this.onRefresh,resourceType:t,resourceId:n,resourceDocument:s}),Object(ie.jsx)(ve,{isOpen:a===dA,toggleDialogue:r,code:s,title:"ResourceDocument"}),Object(ie.jsx)(jA,{isOpen:a===mA,resourceType:t,resourceId:n,openSnackBar:c,closeModal:r,history:i})]})}}]),n}(o.a.PureComponent);var hA={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},OA=Object(s.b)((function(e,t){var n=t.match.params,a=n.resourceType,r=n.resourceId;return{modalName:e.ui.modalName,resourceType:a,resourceId:r}}),hA)(bA);function pA(e){var t=e.openCode,n=e.openCreate,a=e.onRefresh;return Object(ie.jsx)(ge,{title:"Storage Group",onRefresh:a,openCode:t,openAction:n})}function xA(e){var t=e.storageGroup.name;return Object(ie.jsx)(Je,{hover:!0,to:"/storage-group/".concat(t,"/"),children:Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/storage-group/".concat(t,"/"),children:t})})})}function fA(e){var t=e.storageGroupListDocument,n=(void 0===t?{}:t).group,a=void 0===n?[]:n;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(ke.a,{children:"Storage Group Name"})})}),Object(ie.jsx)(Fe.a,{children:a.map((function(e){return Object(ie.jsx)(xA,{storageGroup:e},e.name)}))})]})}function vA(e){var t=e.storageGroupListDocument;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(fA,{storageGroupListDocument:t})})})}var gA=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(At.a,{name:"name",component:St,label:"Group Name",fullWidth:!0})})};var yA=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"storageGroupDocument",component:gA}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function SA(e){var t=e.storageGroupDocument,n=t.name;return W.N.createStorageGroup({groupName:n}).then((function(){return{storageGroupDocument:t}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function CA(e,t,n){var a=n.groupName,r=e.storageId;return W.N.addStorageGroupStorage({storageId:r,groupName:a}).then((function(){return{storageId:r}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var RA="EDIT_STORAGEGROUP_FORM";var IA={submitForm:st.f,openSnackBar:a.openSnackBar},DA=Object(s.b)(null,IA)((function(e){var t=e.submitForm,n=e.closeModal,a=e.isOpen,r=e.history,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Storage Group"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(yA,{form:RA,onSubmit:SA,onSubmitSuccess:function(e){var t=e.storageGroupDocument.name,a="Storage Group ".concat(t," Created");o({messageContent:a}),r.push("/storage-group/".concat(t,"/")),n()},onSubmitFail:function(){o({messageContent:"Error Creating Storage Group",messageColor:"secondary"})}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(RA)},children:"Save"})]})]})})),FA="STORAGEGROUP_LIST_CODE_MODAL",kA="STORAGEGROUP_CREATE_MODAL",TA=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={storageGroupListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Storage Group",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.N.listStorageGroup().then((function(t){return e.setState({storageGroupListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Storage Group List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.modalName,n=e.closeModal,a=e.openModal,r=e.history,o=this.state.storageGroupListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(pA,{openCode:function(){return a({modalName:FA})},openCreate:function(){return a({modalName:kA})},onRefresh:this.onRefresh}),o&&Object(ie.jsx)(vA,{storageGroupListDocument:o}),Object(ie.jsx)(ve,{isOpen:t===FA,toggleDialogue:n,code:o,title:"StorageGroupListDocument"}),Object(ie.jsx)(DA,{isOpen:t===kA,closeModal:n,history:r})]})}}]),n}(o.a.PureComponent);var PA={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},EA=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),PA)(TA);function NA(e){var t=e.groupName,n=e.openCode,a=e.onRefresh,r=e.openRemove,o=e.openAddStorage;return Object(ie.jsx)(ge,{parentTitle:"Storage Group",parentTo:"/storage-group/",title:t,onRefresh:a,openCode:n,actionComponent:Object(ie.jsxs)(kc,{children:[Object(ie.jsx)(Cn.a,{onClick:o,children:Object(ie.jsx)(X.a,{children:"Add Storage"})}),Object(ie.jsx)(Cn.a,{onClick:r,children:Object(ie.jsx)(X.a,{color:"error",children:"Remove Storage Group"})})]})})}function MA(e){var t=e.storageDocument,n=t.freeCapacity,a=t.capacity,r=Math.round(n/a*100);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Type",value:t.type}),Object(ie.jsx)(nn,{title:"State",value:t.state}),Object(ie.jsx)(nn,{title:"Capacity",value:"".concat(en(t.capacity)," (").concat(r,"% Available)")})]})}function AA(e){var t=e.closeModal,n=e.isOpen,a=e.groupName,r=e.storageId,o=e.onRefresh,c=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Storage "'.concat(r,'" From Storage Group "').concat(a,'"?')}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(Su.a,{children:"This operation does not delete the actual storages."})}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.N.removeStorageGroupStorage({groupName:a,storageId:r}).then((function(){var e="Storage ".concat(r," Removed");c({messageContent:e}),t(),o()})).catch((function(){c({messageContent:"Error Removing Storage",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var LA="STORAGEGROUP_STORAGE_REMOVE_MODAL";var WA={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},wA=Object(s.b)((function(e){return{modalName:e.ui.modalName}}),WA)(Object(d.g)((function(e){var t=e.storageDocument,n=e.openModal,a=e.modalName,r=e.openSnackBar,o=e.closeModal,c=e.groupName,i=e.onRefresh,s=e.storageId,l=e.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce.a,{subheader:t.id,action:Object(ie.jsx)(_.a,{onClick:function(){return n({modalName:LA})},children:Object(ie.jsx)(Dt.a,{})})}),Object(ie.jsx)(Se.a,{onClick:function(){return l.push("/storage/".concat(s))},children:Object(ie.jsx)(MA,{storageDocument:t})}),Object(ie.jsx)(AA,{isOpen:a===LA,groupName:c,storageId:s,openSnackBar:r,closeModal:o,onRefresh:i})]})})));function _A(e){var t=e.groupName,n=e.storageDocument,a=e.onRefresh,r=e.storageId;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(wA,{storageId:r,groupName:t,storageDocument:n,onRefresh:a})})}function VA(e){var t=e.groupName,n=e.storageGroupDocument,a=e.onRefresh,r=n.data,o=n.storage,c=void 0===o?[]:o;return Object(ie.jsxs)(ie.Fragment,{children:[c.map((function(e){return Object(ie.jsx)(_A,{storageId:e.id,groupName:t,storageDocument:e,onRefresh:a},e.id)})),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(pN,{simpleMetadataList:r,entityType:"storage/storage-group",entityId:t,onSuccess:a,editable:!0})})]})}function BA(e){var t=e.closeModal,n=e.isOpen,a=e.groupName,r=e.history,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:n,onClose:t,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Storage Group "'.concat(a,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:t,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.N.removeStorageGroup({groupName:a}).then((function(){var e="Storage Group ".concat(a," Removed");o({messageContent:e}),r.push("/storage-group/"),t()})).catch((function(){o({messageContent:"Error Removing Storage Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})}var UA=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(At.a,{name:"storageId",component:St,label:"Storage ID",fullWidth:!0}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),qA="EDIT_STORAGEGROUP_STORAGE_FORM";var GA={submitForm:st.f,openSnackBar:a.openSnackBar},HA=Object(s.b)(null,GA)((function(e){var t=e.submitForm,n=e.closeModal,a=e.isOpen,r=e.onRefresh,o=e.openSnackBar,c=e.groupName;return Object(ie.jsxs)(Oe.a,{open:a,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Storage To Group"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(UA,{form:qA,groupName:c,onSubmit:CA,onSubmitSuccess:function(e){var t=e.storageId,a="Storage ".concat(t," Added");o({messageContent:a}),n(),r()},onSubmitFail:function(){o({messageContent:"Error Adding Storage Group",messageColor:"secondary"})}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(qA)},children:"Save"})]})]})})),JA="STORAGEGROUP_CODE_MODAL",zA="STORAGEGROUP_REMOVE_MODAL",KA="STORAGEGROUP_STORAGE_ADD_MODAL",YA=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={storageGroupDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.groupName;document.title="xray | Storage Group | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.groupName;try{W.N.getStorageGroup({groupName:a}).then((function(t){return e.setState({storageGroupDocument:t.data})}))}catch(r){n({messageContent:"Error Loading Storage Group",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props,t=e.groupName,n=e.modalName,a=e.closeModal,r=e.openModal,o=e.openSnackBar,c=e.history,i=this.state.storageGroupDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(NA,{openCode:function(){return r({modalName:JA})},openRemove:function(){return r({modalName:zA})},openAddStorage:function(){return r({modalName:KA})},onRefresh:this.onRefresh,groupName:t}),i&&Object(ie.jsx)(VA,{onRefresh:this.onRefresh,groupName:t,storageGroupDocument:i}),Object(ie.jsx)(ve,{isOpen:n===JA,toggleDialogue:a,code:i,title:"StorageGroupDocument"}),Object(ie.jsx)(BA,{isOpen:n===zA,groupName:t,openSnackBar:o,closeModal:a,history:c}),Object(ie.jsx)(HA,{isOpen:n===KA,closeModal:a,groupName:t,onRefresh:this.onRefresh})]})}}]),n}(o.a.PureComponent);var XA={openSnackBar:a.openSnackBar,closeModal:a.closeModal,openModal:a.openModal},QA=Object(s.b)((function(e,t){var n=t.match.params.groupName;return{modalName:e.ui.modalName,groupName:n}}),XA)(YA);function $A(e){var t=Object.assign({},e);return Object(ie.jsx)(ge,Object(u.a)({title:"Auto Import Rule",helpTo:"/storage/auto-import.html"},t))}function ZA(e){var t=e.autoImportRule.storage;return Object(ie.jsxs)(Je,{hover:!0,to:"/auto-import/".concat(t,"/"),children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(ze,{to:"/auto-import/".concat(t,"/"),children:t})}),Object(ie.jsx)(ke.a,{})]})}function eL(e){var t=e.autoImportRuleListDocument,n=(void 0===t?{}:t).rule,a=void 0===n?[]:n;return Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"Storage ID"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:a.map((function(e){return Object(ie.jsx)(ZA,{autoImportRule:e},e.storage)}))})]})}function tL(e){var t=e.autoImportRuleListDocument;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(eL,{autoImportRuleListDocument:t})})})}var nL=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"pattern",label:"Filter Pattern",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"tag",label:"Filter Tag",component:Ya,simple:!0,fullWidth:!0})]})},aL=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(At.a,{name:"storage",label:"Storage ID",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"enabled",component:Wt}),label:"Enabled"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"fileNameAsTitle",component:Wt}),label:"File Name As Title"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(At.a,{name:"ignoreSidecarImport",component:Wt}),label:"Ignore Sidecar Import"}),Object(ie.jsx)(At.a,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(At.a,{name:"resourceId",label:"Resource ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"settingsId",label:"Settings ID",component:St,fullWidth:!0}),Object(ie.jsx)(At.a,{name:"projection",label:"Projection",component:St,fullWidth:!0}),Object(ie.jsx)(hj,{name:"user",label:"User",isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"excludeFilter",label:"Exclude Filter",component:nL}),Object(ie.jsx)(Nt,{name:"shapeTagFilter",label:"Shape Tag Filter",component:nL}),Object(ie.jsx)(Ct.a,{name:"jobmetadata",component:Bc}),Object(ie.jsx)(Ct.a,{name:"metadata",component:AO})]})};var rL=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"autoImportRuleDocument",component:aL}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function oL(e,t,n){var a=e.autoImportRuleDocument,r=n.storageId||a.storage;return W.c.updateAutoImport({storageId:r,autoImportRuleDocument:a}).then((function(){return{autoImportRuleDocument:a}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var cL=de((function(e){var t=e.open,n=e.onClose,a=e.history,r=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Auto Import Rule"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(xc,{FormComponent:rL,documentName:"autoImportRuleDocument",onSubmit:oL,onSubmitSuccess:function(e){var t=e.autoImportRuleDocument.storage,o="Auto Import Rules For ".concat(t," Created");r({messageContent:o}),a.push("/auto-import/".concat(t,"/")),n()},onSubmitFail:function(){r({messageContent:"Error Creating Auto Import Rule",messageColor:"secondary"})},onCancel:n})})]})})),iL="AUTOIMPORT_CREATE_MODAL",sL=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={autoImportRuleListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Auto Import",this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.c.listAutoImport().then((function(t){return e.setState({autoImportRuleListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Auto Import Rules",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.autoImportRuleListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)($A,{onRefresh:this.onRefresh,code:e,codeModal:"AutoImportRuleListDocument",createModal:iL}),e&&Object(ie.jsx)(tL,{autoImportRuleListDocument:e}),Object(ie.jsx)(cL,{dialogName:iL})]})}}]),n}(o.a.PureComponent));function lL(e){var t=e.storageId,n=Object(ye.a)(e,["storageId"]);return Object(ie.jsx)(ge,Object(u.a)({title:t,parentTitle:"Auto Import Rule",parentTo:"/auto-import/",helpTo:"/storage/auto-import.html"},n))}var uL=function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Pattern",value:e.pattern}),Object(ie.jsx)(nn,{title:"Tag",variant:"list",value:e.tag})]})},jL=function(e){var t=e.rule;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Storage ID",variant:"storageId",value:t.storage,hover:!0}),Object(ie.jsx)(nn,{title:"Enabled",variant:"boolean",value:t.enabled,hover:!0}),Object(ie.jsx)(nn,{title:"File Name As Title",variant:"boolean",value:t.fileNameAsTitle,hover:!0}),Object(ie.jsx)(nn,{title:"Ignore Sidecar Import",variant:"boolean",value:t.ignoreSidecarImport,hover:!0}),Object(ie.jsx)(nn,{title:"Shape Tags",variant:"list",value:t.tag,hover:!0}),Object(ie.jsx)(nn,{title:"Resource ID",value:t.resourceId,hover:!0}),Object(ie.jsx)(nn,{title:"Settings ID",value:t.settingsId,hover:!0}),Object(ie.jsx)(nn,{title:"Projection",value:t.projection,hover:!0}),Object(ie.jsx)(nn,{title:"User",variant:"user",value:t.user,hover:!0}),t.excludeFilter&&Object(ie.jsx)(on,{title:"Exclude Filter",value:t.excludeFilter,component:uL,hover:!0}),t.shapeTagFilter&&Object(ie.jsx)(on,{title:"Shape Tag Filter",value:t.shapeTagFilter,component:uL,hover:!0}),t.jobmetadata&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(X.a,{variant:"caption",children:"Job Metadata"}),Object(ie.jsx)(Jc,{simpleMetadata:t.jobmetadata})]}),t.metadata&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(X.a,{variant:"caption",children:"Metadata"}),Object(ie.jsx)(_O,{value:t.metadata})]})]})};function dL(e){var t=e.autoImportRuleDocument;return Object(ie.jsx)(jL,{rule:t})}var mL={openSnackBar:a.openSnackBar},bL=Object(s.b)(null,mL)((function(e){var t=e.autoImportRuleDocument,n=e.storageId,a=e.openSnackBar,r=e.onRefresh,o={storageId:n},c={autoImportRuleDocument:t},i={autoImportRuleDocument:t};return Object(ie.jsx)(mt,{formName:"EDIT_AUTOIMPORTRULE_FORM",onSubmitSuccess:function(){a({messageContent:"Auto Import Rule Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Auto Import Rule",messageColor:"secondary"})},onSubmit:oL,formComponent:rL,formProps:o,displayComponent:dL,displayProps:c,initialValues:i})}));function hL(e){var t=e.storageId,n=e.autoImportRuleDocument,a=e.onRefresh;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(bL,{storageId:t,autoImportRuleDocument:n,onRefresh:a})})}var OL=de((function(e){var t=e.open,n=e.onClose,a=e.storageId,r=e.history,o=e.openSnackBar;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Auto Import Rule From "'.concat(a,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.c.removeAutoImport({storageId:a}).then((function(){var e="Auto Import Rule ".concat(a," Removed");o({messageContent:e}),r.push("/auto-import/"),n()})).catch((function(){o({messageContent:"Error Removing Storage Group",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),pL="AUTOIMPORTRULE_REMOVE_MODAL",xL=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={autoImportRuleDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.storageId;document.title="xray | Auto Import Rule | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.storageId;try{W.c.getAutoImport({storageId:a}).then((function(t){return e.setState({autoImportRuleDocument:t.data})}))}catch(r){n({messageContent:"Error Loading Auto Import Rule",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props.storageId,t=this.state.autoImportRuleDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(lL,{removeModal:pL,onRefresh:this.onRefresh,storageId:e,code:t,codeModal:"AutoImportRuleDocument"}),t&&Object(ie.jsx)(hL,{onRefresh:this.onRefresh,storageId:e,autoImportRuleDocument:t}),Object(ie.jsx)(OL,{dialogName:pL,storageId:e})]})}}]),n}(o.a.PureComponent));function fL(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Stack Trace",helpTo:"/ref/vidispine-service.html"},e))}function vL(e){var t=e.stacktrace;return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:t?Object(ie.jsx)(nn,{value:t,variant:"code"}):Object(ie.jsx)(Q.a,{container:!0,justify:"center",children:Object(ie.jsx)(Yr.a,{size:100,color:"secondary"})})})})}var gL=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={stacktrace:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Stack Trace"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;this.setState({stacktrace:void 0});try{W.J.getStackTrace().then((function(t){return e.setState({stacktrace:t.data})}))}catch(n){t({messageContent:"Error Loading Stack Trace",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.stacktrace;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fL,{onRefresh:this.onRefresh}),Object(ie.jsx)(vL,{onRefresh:this.onRefresh,stacktrace:e})]})}}]),n}(o.a.PureComponent));function yL(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Transfer",helpTo:"/ref/transfer.html"},e))}function SL(e,t,n){var a=n.transferId||e.transferId,r=e.queryParams;return W.R.updateTransferPriority({transferId:a,queryParams:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function CL(e){var t=e.queryParams,n=e.matrixParams,a=void 0===n?{}:n;return W.R.listTransfer({queryParams:t,matrixParams:Object.entries(a)}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var RL=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsxs)(Lt,{name:"state",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"TRANSFERRING",children:"Transferring"}),Object(ie.jsx)(Cn.a,{value:"WAITING",children:"Waiting"}),Object(ie.jsx)(Cn.a,{value:"FINISHED",children:"Finished"}),Object(ie.jsx)(Cn.a,{value:"ABORTED",children:"Aborted"}),Object(ie.jsx)(Cn.a,{value:"FAILED",children:"Failed"}),Object(ie.jsx)(Cn.a,{value:"FINISHED_PART",children:"Finished Part"})]})]})};var IL=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:RL}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var DL=Object(m.c)(de,oa)((function(e){var t=e.onClose,n=e.onSuccess,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.form,i=void 0===c?"TRANSFER_FILTER_FORM":c;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(IL,{form:i,onSubmit:CL,onSubmitSuccess:function(e,t,a){n&&n(e,t,a)},onSubmitFail:function(){a({messageContent:"Error Listing Transfers",messageColor:"secondary"})},onCancel:t,initialValues:{queryParams:{state:"FINISHED"}}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(i)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(i)},children:"Filter"})]})]})}));function FL(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(DL,Object(u.a)({},t))})})}function kL(e){var t=e.transferDocument,n=void 0===t?{}:t,a=e.onOpen;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:n.name}),Object(ie.jsx)(Vn,{children:n.state}),Object(ie.jsx)(Vn,{children:n.priority}),Object(ie.jsx)(Vn,{children:en(n.transferred)}),Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/file/".concat(n.fileId,"/"),children:n.fileId})}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:["TRANSFERRING","WAITING"].includes(n.state)&&Object(ie.jsx)(_.a,{onClick:function(){return a({transferDocument:n})},children:Object(ie.jsx)(Jn.a,{})})})]})})}var TL=function(){return Object(ie.jsx)(Lt,{name:"transferPriority",component:St,type:"number",fullWidth:!0})};var PL=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:TL}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),EL="TRANSFER_PRIORITY_FORM";var NL=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.openSnackBar,o=e.submitForm,c=e.transferDocument;if(void 0===c)return null;var i=c.name,s=c.priority;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Change Transfer Priority"}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(PL,{form:EL,onSubmit:SL,onSubmitSuccess:function(e,t,o){r({messageContent:"Transfer Updated"}),a&&a(e,t,o),n()},onSubmitFail:function(){r({messageContent:"Error Updating Transfer",messageColor:"secondary"})},onCancel:n,transferId:i,initialValues:{priority:s}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return o(EL)},children:"Save"})]})]})})),ML="TRANSFER_PRIORITY_DIALOG";var AL=Gn((function(e){var t=e.transferListDocument,n=e.onSuccess,a=e.dialogProps,r=e.onOpen,o=t.transfer,c=void 0===o?[]:o;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Name"}),Object(ie.jsx)(Vn,{children:"State"}),Object(ie.jsx)(Vn,{children:"Priority"}),Object(ie.jsx)(Vn,{children:"Transferred"}),Object(ie.jsx)(Vn,{children:"File Id"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:c.map((function(e){return Object(ie.jsx)(kL,{transferDocument:e,onOpen:r(ML)},e.name)}))})]}),Object(ie.jsx)(NL,Object(u.a)(Object(u.a)({},a),{},{dialogName:ML,onSuccess:n}))]})}));function LL(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(AL,Object(u.a)({},t))})})}var WL="TRANSFER_FILTER_FORM",wL=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSuccess=a.onSuccess.bind(Object(M.a)(a)),a.state={transferListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Transfers",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(WL)}},{key:"onSuccess",value:function(e){this.setState({transferListDocument:e.data})}},{key:"render",value:function(){var e=this.state.transferListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(yL,{code:e,codeModal:"TransferListDocument",onRefresh:this.onRefresh}),Object(ie.jsx)(FL,{form:WL,onSuccess:this.onSuccess}),e&&Object(ie.jsx)(LL,{transferListDocument:e,onSuccess:this.onRefresh})]})}}]),n}(o.a.PureComponent)),_L=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"methodType",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"storageType",children:"StorageType"}),Object(ie.jsx)(Lt,{name:"storageType",component:gt,children:Ao.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Lt,{name:"methodMetadata",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"scheme",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includePlaceholder",component:Wt}),label:"Include Placeholder"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"transient",component:Wt}),label:"Transient"})]})};var VL=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:_L})]})})),BL="SHAPE_PARAMS_FORM";var UL=Object(m.c)(je,oa)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.itemId,i=e.shapeId,s=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","itemId","shapeId"]);return Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape Display Options"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(VL,Object(u.a)({form:BL,onSubmit:Dp,onSubmitSuccess:function(e,n,r){a({messageContent:"Shape Display Updated"}),t&&t(e,n,r)},onSubmitFail:function(e,t,r){a({messageContent:"Error Updating Shape Display",messageColor:"secondary"}),n&&n(e,t,r)},itemId:c,shapeId:i},s))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(BL)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(BL)},children:"Update"})]})]})})),qL=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={shapeDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.shapeId,n=e.itemId;this.props.shapeId!==t&&(this.onFetch(n,t),document.title="xray | Shape | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props,t=e.itemId,n=e.shapeId;this.onFetch(t,n)}},{key:"onFetch",value:function(e,t){var n=this;try{W.K.getShape({itemId:e,shapeId:t}).then((function(e){return n.setState({shapeDocument:e.data})})).catch((function(e){return n.onRefreshError(e)}))}catch(a){this.onRefreshError(a)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Shape",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=e.shapeId,r=e.itemId,o=this.state.shapeDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:o,codeModal:"ShapeDocument",onRefresh:this.onRefresh}),n&&Object(ie.jsx)(n,{}),Object(ie.jsx)(UL,{shapeId:a,itemId:r,onSuccess:this.onRefresh}),o&&Object(ie.jsx)(mx,{shapeDocument:o,shapeId:a,itemId:r,onRefresh:this.onRefresh})]})}}]),n}(o.a.PureComponent)),GL=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(nn,{title:n.key,value:n.value})})},HL=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{value:n.entry,component:GL})})},JL=function(e){var t=e.value,n=void 0===t?{}:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{value:n.map,component:HL})})},zL=function(e){var t=e.value;return Object(ie.jsxs)("div",{style:{marginBottom:4},children:[t.value&&Object(ie.jsx)(nn,{title:"Start:".concat(t.start," End:").concat(t.end),value:t.value,titleStartCase:!1,titleTypographyProps:{noWrap:!1}}),t.maps&&Object(ie.jsx)(an,{title:"Start: ".concat(t.start," End: ").concat(t.end),titleStartCase:!1,value:t.maps,component:JL})]})};function KL(e){var t=e.bulkyMetadataDocument.field,n=void 0===t?[]:t;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(on,{value:n,component:zL})})}var YL=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={bulkyMetadataDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.shapeId,n=e.itemId,a=e.bulkyMetadataKey,r=this.props,o=r.shapeId,c=r.bulkyMetadataKey;o===t&&c===a||(this.onFetch(n,t,a),document.title="xray | Shape | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props,t=e.itemId,n=e.shapeId,a=e.bulkyMetadataKey;this.onFetch(t,n,a)}},{key:"onFetch",value:function(e,t,n){var a=this;try{W.d.getShapeBulkyMetadata({itemId:e,shapeId:t,key:n}).then((function(e){return a.setState({bulkyMetadataDocument:e.data})})).catch((function(e){return a.onRefreshError(e)}))}catch(r){this.onRefreshError(r)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Bulky Metadata",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=e.bulkyMetadataKey,r=this.state.bulkyMetadataDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:r,codeModal:"BulkyMetadataDocument",onRefresh:this.onRefresh,title:a}),n&&Object(ie.jsx)(n,{}),r&&Object(ie.jsx)(KL,{bulkyMetadataDocument:r})]})}}]),n}(o.a.PureComponent),XL=Object(m.c)(h,je)(YL),QL=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onFetch=a.onFetch.bind(Object(M.a)(a)),a.onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.state={uriListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.shapeId,n=e.itemId;this.props.shapeId!==t&&(this.onFetch(n,t),document.title="xray | Shape | ".concat(t))}},{key:"onRefresh",value:function(){var e=this.props,t=e.itemId,n=e.shapeId;this.onFetch(t,n)}},{key:"onFetch",value:function(e,t){var n=this;try{W.d.listShapeBulkyMetadata({itemId:e,shapeId:t}).then((function(e){return n.setState({uriListDocument:e.data})})).catch((function(e){return n.onRefreshError(e)}))}catch(a){this.onRefreshError(a)}}},{key:"onRefreshError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Shape",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.props,t=e.titleComponent,n=e.tabComponent,a=e.itemId,r=e.shapeId,o=this.state.uriListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[t&&Object(ie.jsx)(t,{code:o,codeModal:"URIListDocument",onRefresh:this.onRefresh}),n&&Object(ie.jsx)(n,{}),o&&Object(ie.jsx)(Xe,{uriListDocument:o,linkTo:function(e){return"/item/".concat(a,"/shape/").concat(r,"/bulky-metadata/").concat(e,"/")}})]})}}]),n}(o.a.PureComponent)),$L=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"keepFiles",component:Wt}),label:"keepFiles"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"updateMetadata",component:Wt}),label:"updateMetadata"})]})};var ZL=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:$L}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),eW="SHAPE_DELETE_FORM";var tW=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId,s=e.shapeId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Delete Shape ".concat(s)}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(ZL,{form:eW,onSubmit:Fp,onSubmitSuccess:function(e,t,r){o({messageContent:"Shape Deleted"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Deleting Shape",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i,shapeId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){return c(eW)},children:"Delete"})]})]})})),nW="EDIT_SHAPE_TRANSCODE_FORM";var aW=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId,s=e.shapeId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Start Transcode"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(kv,{form:nW,onSubmit:kp,onSubmitSuccess:function(e,t,r){o({messageContent:"Transcode Job Created"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Transcode Job",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i,shapeId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(nW)},children:"Start"})]})]})})),rW=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"resourceId",label:"Transcoder ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"storageId",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]})},oW=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"tone",label:"tone",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"stream",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"channel",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"thresh",component:St,type:"number",fullWidth:!0})]})},cW=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{name:"black",label:"Black",component:function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"threshold",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"percentage",component:St,type:"number",fullWidth:!0})]})}}),Object(ie.jsx)(Mt,{name:"bars",label:"Bars",component:function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"threshold",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"percentage",component:St,type:"number",fullWidth:!0})]})}}),Object(ie.jsx)(Mt,{name:"freeze",label:"Freeze",component:function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"threshold",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"time",component:St,type:"number",fullWidth:!0})]})}}),Object(ie.jsx)(Nt,{name:"channel",label:"channel",component:oW}),Object(ie.jsx)(Mt,{name:"audio",label:"Audio",component:function(){return Object(ie.jsx)(Nt,{name:"otif",label:"otif",component:Bi})}}),Object(ie.jsx)(Mt,{name:"video",label:"Video",component:function(){return Object(ie.jsx)(Nt,{name:"otif",label:"otif",component:Bi})}})]})};var iW=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.itemId,r=e.shapeId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"itemId",component:St,validate:[nu],fullWidth:!0}),!r&&Object(ie.jsx)(Lt,{name:"shapeId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:rW}),Object(ie.jsx)(Mt,{name:"analyzeJobDocument",label:"analyzeJobDocument",component:cW}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),sW="SHAPE_ANALYZE_FORM";var lW=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId,s=e.shapeId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Start Shape Analyze Job"}),Object(ie.jsx)(xe.a,{style:{minHeight:200},children:Object(ie.jsx)(iW,{form:sW,onSubmit:Ep,onSubmitSuccess:function(e,t,r){o({messageContent:"Analyze Job Created"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Analyze Job",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i,shapeId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(sW)},children:"Start"})]})]})})),uW=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"fileId",label:"File ID",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"uri",label:"URI",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allowReimport",component:Wt}),label:"Allow Reimport"}),Object(ie.jsx)(Nt,{name:"notificationData",component:Xa,label:"Notification Metadata",arrayHeader:!0,withHeader:!1,dense:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(Nt,{name:"jobmetadata",component:Xa,label:"Job Metadata",withHeader:!1,arrayHeader:!0,dense:!0})]})};var jW=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.itemId,r=e.shapeId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"itemId",component:St,validate:[nu],fullWidth:!0}),!r&&Object(ie.jsx)(Lt,{name:"shapeId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Mt,{name:"queryParams",label:"queryParams",component:uW}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),dW=function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})};function mW(e,t,n){try{var a=e.queryParams,r=n.itemId||e.itemId,o=n.shapeId||e.shapeId;return W.f.createComponent({itemId:r,shapeId:o,queryParams:a}).catch(dW)}catch(c){return dW(c)}}var bW="SHAPE_ADD_COMPONENT_FORM";var hW=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId,s=e.shapeId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Component To Shape"}),Object(ie.jsx)(xe.a,{style:{minHeight:200},children:Object(ie.jsx)(jW,{form:bW,onSubmit:mW,onSubmitSuccess:function(e,t,r){o({messageContent:"Add Component Job Created"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Add Component Job",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i,shapeId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(bW)},children:"Start"})]})]})}));var OW=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.itemId,r=e.shapeId;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),!a&&Object(ie.jsx)(Lt,{name:"itemId",component:St,validate:[nu],fullWidth:!0}),!r&&Object(ie.jsx)(Lt,{name:"shapeId",component:St,validate:[nu],fullWidth:!0}),Object(ie.jsx)(Lt,{name:"tagName",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),pW="SHAPE_ADD_TAG_FORM";var xW=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId,s=e.shapeId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Add Shape Tags"}),Object(ie.jsx)(xe.a,{style:{minHeight:200},children:Object(ie.jsx)(OW,{form:pW,onSubmit:Tp,onSubmitSuccess:function(e,t,r){o({messageContent:"Shape Tag Added"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Adding Shape Tag",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i,shapeId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(pW)},children:"Add"})]})]})})),fW="SHAPE_REMOVE_TAG_FORM";var vW=Object(m.c)(de,oa)((function(e){var t=e.open,n=e.onClose,a=e.onSuccess,r=e.onFail,o=e.openSnackBar,c=e.submitForm,i=e.itemId,s=e.shapeId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Shape Tags"}),Object(ie.jsx)(xe.a,{style:{minHeight:200},children:Object(ie.jsx)(OW,{form:fW,onSubmit:Pp,onSubmitSuccess:function(e,t,r){o({messageContent:"Shape Tag Removed"}),a&&a(e,t,r),n()},onSubmitFail:function(e,t,n){o({messageContent:"Error Removing Shape Tag",messageColor:"secondary"}),r&&r(e,t,n)},itemId:i,shapeId:s})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:n,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return c(fW)},children:"Remove"})]})]})})),gW="SHAPE_REMOVE_DIALOG",yW="SHAPE_TRANSCODE_DIALOG",SW="SHAPE_ANALYZE_DIALOG",CW="SHAPE_ADD_TAG_DIALOG",RW="SHAPE_REMOVE_TAG_DIALOG",IW="SHAPE_ADD_COMPONENT_DIALOG",DW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemId,n=void 0===t?":itemId":t,a=e.shapeId,r=void 0===a?":shapeId":a;return"/item/".concat(n,"/shape/").concat(r,"/")},FW=function(e){return"".concat(DW(e),"bulky-metadata/")},kW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bulkyMetadataKey,n=void 0===t?":bulkyMetadataKey":t,a=Object(ye.a)(e,["bulkyMetadataKey"]);return"".concat(FW(a)).concat(n)},TW=[{listText:"Overview",link:DW},{listText:"Bulky Metadata",link:FW}],PW=function(e){var t=e.itemId,n=e.shapeId;return Object(ie.jsx)(TO.a,{children:TW.map((function(e){var a=e.link,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{component:j.b,to:a({itemId:t,shapeId:n})}},r)}))})},EW=function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(d.a,{exact:!0,path:DW(),render:function(){return Object(ie.jsx)(qL,Object(u.a)({},e))}}),Object(ie.jsx)(d.a,Object(u.a)({exact:!0,path:FW(),render:function(){return Object(ie.jsx)(QL,Object(u.a)({},e))}},e)),Object(ie.jsx)(d.a,Object(u.a)({exact:!0,path:kW(),render:function(){return Object(ie.jsx)(XL,Object(u.a)({},e))}},e))]})},NW=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.setOnRefresh=a.setOnRefresh.bind(Object(M.a)(a)),a.state={onRefresh:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.shapeId;document.title="xray | Shape | ".concat(e)}},{key:"onRefresh",value:function(){var e=this.state.onRefresh;e&&e()}},{key:"setOnRefresh",value:function(e){this.setState({onRefresh:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemId,a=t.shapeId,r=t.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(hg,{shapeId:a,itemId:n,mainComponent:EW,listComponent:PW,defaultOpen:!0,titleComponent:function(t){return Object(ie.jsx)(Vp,Object(u.a)({onRefresh:e.onRefresh,shapeId:a,itemId:n,removeModal:gW,transcodeModal:yW,analyzeTagModal:SW,addTagModal:CW,removeTagModal:RW,addComponentModal:IW},t))},setOnRefresh:this.setOnRefresh}),Object(ie.jsx)(tW,{dialogName:gW,onSuccess:function(){return r.push("/item/".concat(n))},itemId:n,shapeId:a}),Object(ie.jsx)(aW,{dialogName:yW,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:n,shapeId:a}),Object(ie.jsx)(lW,{dialogName:SW,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:n,shapeId:a}),Object(ie.jsx)(hW,{dialogName:IW,onSuccess:function(e){return r.push("/job/".concat(e.data.jobId,"/"))},itemId:n,shapeId:a}),Object(ie.jsx)(xW,{dialogName:CW,onSuccess:this.onRefresh,itemId:n,shapeId:a}),Object(ie.jsx)(vW,{dialogName:RW,onSuccess:this.onRefresh,itemId:n,shapeId:a})]})}}]),n}(o.a.PureComponent),MW=Object(m.c)(h)(NW),AW=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"count",component:Wt}),label:"Count"})})},LW=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0})]})};var WW=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:AW}),Object(ie.jsx)(Mt,{name:"queryParams",component:Wg}),Object(ie.jsx)(Mt,{name:"matrixParams",component:LW}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var wW=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"COLLECTION_SEARCH_PARAMS_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Collection Search Params"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(WW,Object(u.a)({form:l,onSubmit:Zv,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Collections",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})}));var _W=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"COLLECTION_SEARCH_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Collection Search Document"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(dO,Object(u.a)({form:l,onSubmit:Zv,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Collections",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})})),VW="EDIT_COLLECTION_FORM";var BW=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.onSuccess,o=e.openSnackBar,c=e.onFail;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Collection"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(_R,{onSubmit:eg,onSubmitSuccess:function(e,t,n){o({messageContent:"Collection Created"}),r&&r(e,t,n),a()},onSubmitFail:function(e,t,n){o({messageContent:"Error Creating Collection",messageColor:"secondary"}),c&&c(e,t,n)},form:VW})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(VW)},children:"Create"})]})]})})),UW="COLLECTION_CREATE_DIALOG",qW="COLLECTION_SEARCH_FORM",GW=Object(m.c)(SO,RO)(fO),HW=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSearchSuccess=a.onSearchSuccess.bind(Object(M.a)(a)),a.onSetUrlParams=a.onSetUrlParams.bind(Object(M.a)(a)),a.onGetUrlParams=a.onGetUrlParams.bind(Object(M.a)(a));var r=a.onGetUrlParams(),o=r.first,c=void 0===o?1:o,i=r.number,s=void 0===i?10:i,l=r.orderBy,u=r.orderDirection,j=void 0===u?"desc":u,d=Object(ye.a)(r,["first","number","orderBy","orderDirection"]),m=l?[{field:l,order:"".concat(j,"ending")}]:[];return a.initialValues={queryParams:d,matrixParams:{first:c,number:s},itemSearchDocument:{sort:m}},a.state={collectionListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Collection",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(qW)}},{key:"onSearchSuccess",value:function(e){var t=e.data,n=e.queryParams;this.setState({collectionListDocument:t,queryParams:n}),this.onSetUrlParams(n)}},{key:"onSetUrlParams",value:function(e){var t=this.props,n=t.location,a=t.history,r=new URLSearchParams(n.search);Object.entries(e).forEach((function(e){var t=Object(Bt.a)(e,2),n=t[0],a=t[1];return r.set(n,a)})),a.push({search:r.toString()})}},{key:"onGetUrlParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((function(e){var t=Object(Bt.a)(e,2),a=t[0],r=t[1];n[a]=r})),n}},{key:"render",value:function(){var e=this.state,t=e.collectionListDocument,n=e.queryParams,a=this.props.history;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Collection",helpTo:"/ref/collection.html",onRefresh:this.onRefresh,code:t,codeModal:"CollectionListDocument",createModal:UW}),Object(ie.jsx)(_W,{form:qW,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(wW,{form:qW,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(GW,{collectionListDocument:t,queryParams:n,form:qW}),Object(ie.jsx)(BW,{dialogName:UW,onSuccess:function(e){return a.push("/collection/".concat(e.data.id))}})]})}}]),n}(o.a.PureComponent),JW=Object(m.c)(oa)(HW);var zW=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"ITEM_SEARCH_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Search Document"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(dO,Object(u.a)({form:l,onSubmit:ep,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Items",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})})),KW=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"result",children:"Result"}),Object(ie.jsxs)(Lt,{name:"result",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"list",children:"List"}),Object(ie.jsx)(Cn.a,{value:"library",children:"Library"})]})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"count",component:Wt}),label:"Count"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"save",component:Wt}),label:"Save"})]})},YW=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"library",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"libraryId",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"updateFrequency",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"updateMode",children:"Update Mode"}),Object(ie.jsxs)(Lt,{name:"updateMode",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"REPLACE",children:"REPLACE"}),Object(ie.jsx)(Cn.a,{value:"MERGE",children:"MERGE"}),Object(ie.jsx)(Cn.a,{value:"TRANSIENT",children:"TRANSIENT"})]})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"autoRefresh",component:Wt}),label:"Auto Refresh"})]})};var XW=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:KW}),Object(ie.jsx)(Mt,{name:"queryParams",component:Vh}),Object(ie.jsx)(Mt,{name:"matrixParams",component:YW}),Object(ie.jsx)(Mt,{name:"matrixParams",component:Bh}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var QW=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"ITEM_SEARCH_PARAMS_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Item Search Params"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(XW,Object(u.a)({form:l,onSubmit:ep,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Items",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})})),$W=n(388),ZW=n.n($W),ew=function(){return Object(ie.jsx)(Q.a,{container:!0,justify:"center",alignItems:"center",children:Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(ZW.a,{style:{fontSize:200}})})})},tw=Object(d.g)((function(e){var t=e.itemType,n=void 0===t?{}:t,a=e.history,r=n.thumbnails,o=void 0===r?{}:r,c=n.id,i=o.uri,s=void 0===i?[]:i,l=Object(Bt.a)(s,1)[0],u=a?function(){return a.push("/item/".concat(c,"/"))}:void 0;return Object(ie.jsxs)(Sx.a,{style:{padding:"10px",minWidth:"350px"},onClick:u,children:[l?Object(ie.jsx)("img",{src:l,alt:l}):Object(ie.jsx)(Ie,{children:Object(ie.jsx)(ew,{})}),Object(ie.jsx)(Cx.a,{title:c})]})}));var nw=Object(d.g)((function(e){var t=e.itemListDocument,n=e.queryParams,a=void 0===n?{}:n,r=e.history;if(void 0===t)return null;var o=t.item,c=void 0===o?[]:o,i=a.terse,s=a.content,l=(void 0===s?[]:s).includes("thumbnail");return Object(ie.jsx)(ie.Fragment,{children:c.map((function(e){return Object(ie.jsxs)(Ie,{onClick:(t=e.id,function(){return r.push("/item/".concat(t,"/"))}),children:[Object(ie.jsx)(Ce.a,{subheader:"Item ".concat(e.id)}),Object(ie.jsx)(Se.a,{children:Object(ie.jsxs)(Q.a,{container:!0,children:[l&&Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(yx.a,{cellHeight:"auto",children:Object(ie.jsx)(tw,{itemType:e})})}),Object(ie.jsxs)(Q.a,{item:!0,xs:12,sm:!0,children:[Object(ie.jsx)(nn,{title:"itemId",value:e.id}),i&&e.terse&&Object.keys(e.terse).map((function(t){return Object(ie.jsx)(nn,{title:t,value:e.terse[t]&&e.terse[t].value},t)}))]})]})})]},e.id);var t}))})}));function aw(e){var t=e.itemListDocument;if(void 0===t)return null;var n=t.item,a=void 0===n?[]:n;return Object(ie.jsx)(yx.a,{cellHeight:"auto",children:a.map((function(e){return Object(ie.jsx)(tw,{itemType:e},e.id)}))})}var rw=n(389),ow=n.n(rw),cw=n(391),iw=n.n(cw),sw=n(390),lw=n.n(sw),uw="CARD_VIEW",jw="GRID_VIEW",dw="ROW_VIEW";function mw(e){var t=e.isActive,n=void 0===t?dw:t,a=e.onChange,r=function(e){return function(){return a(e)}};return Object(ie.jsxs)(Q.a,{container:!0,children:[Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Row",children:Object(ie.jsx)(_.a,{onClick:r(dw),children:Object(ie.jsx)(ow.a,{color:n===dw?"action":"disabled"})})})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Card",children:Object(ie.jsx)(_.a,{onClick:r(uw),children:Object(ie.jsx)(lw.a,{color:n===uw?"action":"disabled"})})})}),Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)($.a,{title:"Grid",children:Object(ie.jsx)(_.a,{onClick:r(jw),children:Object(ie.jsx)(iw.a,{color:n===jw?"action":"disabled"})})})})]})}var bw="ITEM_SEARCH_FORM",hw=Object(m.c)(SO,RO)(OO),Ow=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSearchSuccess=a.onSearchSuccess.bind(Object(M.a)(a)),a.onSetUrlParams=a.onSetUrlParams.bind(Object(M.a)(a)),a.onGetUrlParams=a.onGetUrlParams.bind(Object(M.a)(a)),a.onChangeView=a.onChangeView.bind(Object(M.a)(a));var r=a.onGetUrlParams(),o=r.first,c=void 0===o?1:o,i=r.number,s=void 0===i?10:i,l=r.orderBy,u=r.orderDirection,j=void 0===u?"desc":u,d=Object(ye.a)(r,["first","number","orderBy","orderDirection"]),m=l?[{field:l,order:"".concat(j,"ending")}]:[];return a.initialValues={queryParams:d,matrixParams:{first:c,number:s},itemSearchDocument:{sort:m}},a.state={itemListDocument:void 0,viewLayout:dw},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Item",setTimeout(this.onRefresh,10)}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(bw)}},{key:"onSearchSuccess",value:function(e){var t=e.data,n=e.queryParams;this.setState({itemListDocument:t,queryParams:n}),this.onSetUrlParams(n)}},{key:"onChangeView",value:function(e){this.setState({viewLayout:e})}},{key:"onSetUrlParams",value:function(e){var t=this.props,n=t.location,a=t.history,r=new URLSearchParams(n.search);Object.entries(e).forEach((function(e){var t=Object(Bt.a)(e,2),n=t[0],a=t[1];return r.set(n,a)})),a.push({search:r.toString()})}},{key:"onGetUrlParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((function(e){var t=Object(Bt.a)(e,2),a=t[0],r=t[1];n[a]=r})),n}},{key:"render",value:function(){var e=this.state,t=e.itemListDocument,n=e.queryParams,a=e.viewLayout;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Item",helpTo:"/ref/item/item.html",onRefresh:this.onRefresh,code:t,codeModal:"ItemListDocument"}),Object(ie.jsx)(zW,{form:bw,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(QW,{form:bw,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(mw,{onChange:this.onChangeView,isActive:a}),a===dw&&Object(ie.jsx)(hw,{form:bw,itemListDocument:t,queryParams:n}),a===uw&&Object(ie.jsx)(nw,{form:bw,itemListDocument:t,queryParams:n}),a===jw&&Object(ie.jsx)(aw,{form:bw,itemListDocument:t,queryParams:n})]})}}]),n}(o.a.PureComponent),pw=Object(m.c)(oa)(Ow),xw=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"content",component:yl,isMulti:!0,options:[{value:"component",label:"Component"},{value:"metadata",label:"Metadata"},{value:"essenceVersion",label:"Essence Version"},{value:"tag",label:"Tag"},{value:"mimeType",label:"Mime Type"},{value:"*",label:"All"}],fullWidth:!0}),Object(ie.jsx)(Lt,{name:"methodType",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"storageType",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"methodMetadata",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"scheme",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"count",component:Wt}),label:"Count"})]})},fw=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0})]})};var vw=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:xw}),Object(ie.jsx)(Mt,{name:"matrixParams",component:fw}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var gw=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"SHAPE_SEARCH_PARAMS_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Params"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(vw,Object(u.a)({form:l,onSubmit:zh,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Shapes",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})}));var yw=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"shapeSearchDocument",component:jO}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Sw=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"SHAPE_SEARCH_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Shape Search Document"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(yw,Object(u.a)({form:l,onSubmit:zh,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Shapes",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})})),Cw=function(e){var t=e.orderBy,n=e.orderDirection,a=e.onChangeOrder,r=e.name;return a?Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(vj.a,{active:t===r,direction:n||void 0,onClick:a(r),children:He()(r)})}):Object(ie.jsx)(ke.a,{children:He()(r)})},Rw=function(e){var t=e.shapeType,n=t.id,a=t.item,r=void 0===a?[]:a,o=t.mimeType,c=void 0===o?[]:o,i=t.essenceVersion,s=t.tag,l=void 0===s?[]:s,u=r.map((function(e){return e.id})),j=Object(Bt.a)(u,1)[0],d=j?"/item/".concat(j,"/shape/").concat(n,"/"):void 0;return Object(ie.jsxs)(Je,{to:d,hover:!0,children:[Object(ie.jsx)(ke.a,{children:n}),Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(zf,{labels:u})}),Object(ie.jsx)(ke.a,{children:i}),Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(zf,{labels:c})}),Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(zf,{labels:l})})]})};var Iw=function(e){var t=e.shapeListDocument,n=e.onChangePage,a=e.onChangeRowsPerPage,r=e.rowsPerPageOptions,o=e.page,c=e.rowsPerPage,i=e.onChangeOrder,s=e.orderBy,l=e.orderDirection;if(void 0===t)return null;var u=t.shape,j=void 0===u?[]:u,d=t.hits,m=void 0===d?0:d;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(Cw,{name:"shapeId"}),Object(ie.jsx)(Cw,{name:"itemId",onChangeOrder:i,orderBy:s,orderDirection:l}),Object(ie.jsx)(Cw,{name:"essenceVersion"}),Object(ie.jsx)(Cw,{name:"mimeType",onChangeOrder:i,orderBy:s,orderDirection:l}),Object(ie.jsx)(Cw,{name:"shapeTag",onChangeOrder:i,orderBy:s,orderDirection:l})]})}),Object(ie.jsx)(Fe.a,{children:j.map((function(e){return Object(ie.jsx)(Rw,{shapeType:e},e.id)}))}),n&&a&&Object(ie.jsx)(Ee.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(Ne.a,{count:m,page:o,rowsPerPage:c,onChangePage:n,onChangeRowsPerPage:a,ActionsComponent:qe,rowsPerPageOptions:r})})})]})})},Dw="SHAPE_SEARCH_FORM",Fw=Object(m.c)(SO,RO)(Iw),kw=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSearchSuccess=a.onSearchSuccess.bind(Object(M.a)(a)),a.onSetUrlParams=a.onSetUrlParams.bind(Object(M.a)(a)),a.onGetUrlParams=a.onGetUrlParams.bind(Object(M.a)(a));var r=a.onGetUrlParams(),o=r.first,c=void 0===o?1:o,i=r.number,s=void 0===i?10:i,l=r.orderBy,u=r.orderDirection,j=void 0===u?"desc":u,d=Object(ye.a)(r,["first","number","orderBy","orderDirection"]),m=l?[{field:l,order:"".concat(j,"ending")}]:[];return a.initialValues={queryParams:d,matrixParams:{first:c,number:s},itemSearchDocument:{sort:m}},a.state={shapeListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Shape",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(Dw)}},{key:"onSearchSuccess",value:function(e){var t=e.data,n=e.queryParams;this.setState({shapeListDocument:t,queryParams:n}),this.onSetUrlParams(n)}},{key:"onSetUrlParams",value:function(e){var t=this.props,n=t.location,a=t.history,r=new URLSearchParams(n.search);Object.entries(e).forEach((function(e){var t=Object(Bt.a)(e,2),n=t[0],a=t[1];return r.set(n,a)})),a.push({search:r.toString()})}},{key:"onGetUrlParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((function(e){var t=Object(Bt.a)(e,2),a=t[0],r=t[1];n[a]=r})),n}},{key:"render",value:function(){var e=this.state,t=e.shapeListDocument,n=e.queryParams;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Shape",helpTo:"/ref/item/shape.html",onRefresh:this.onRefresh,code:t,codeModal:"ShapeListDocument"}),Object(ie.jsx)(Sw,{form:Dw,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(gw,{form:Dw,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(Fw,{shapeListDocument:t,queryParams:n,form:Dw,sortField:"shapeSearchDocument.sort"})]})}}]),n}(o.a.PureComponent),Tw=Object(m.c)(oa)(kw),Pw=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"source",component:yl,isMulti:!0,options:[{value:"item",label:"item"},{value:"collection",label:"collection"},{value:"global",label:"global"},{value:"document",label:"document"}],fullWidth:!0}),Object(ie.jsx)(Lt,{name:"group",component:yl,loadOptions:Xh,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsx)(Lt,{name:"data",component:St,fullWidth:!0}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"traverse",component:Wt}),label:"Traverse"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includeValue",component:Wt}),label:"Include Value"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includeDefinition",component:Wt}),label:"Include Definition"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"includeSource",component:Wt}),label:"Include Source"})]})},Ew=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"first",component:St,type:"number",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"number",component:St,type:"number",fullWidth:!0})]})};var Nw=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Pw}),Object(ie.jsx)(Mt,{name:"matrixParams",component:Ew}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Mw=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"FIELDGROUP_SEARCH_PARAMS_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Params"})}),Object(ie.jsx)(Mj.a,{children:Object(ie.jsx)(Nw,Object(u.a)({form:l,onSubmit:HS,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})}));var Aw=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"metadataFieldGroupSearchDocument",component:jO}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var Lw=Object(m.c)(je,oa,Jh)((function(e){e.onSubmit;var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.expanded,i=e.onChangeExpansion,s=e.form,l=void 0===s?"FIELDGROUP_SEARCH_FORM":s,j=Object(ye.a)(e,["onSubmit","onSuccess","onFail","openSnackBar","submitForm","resetForm","expanded","onChangeExpansion","form"]);return Object(ie.jsxs)(wj,{expanded:c,onChange:i,children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Field Group Search Document"})}),Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Aw,Object(u.a)({form:l,onSubmit:HS,onSubmitSuccess:function(e,n,a){i&&i(null,!1),t&&t(e,n,a)},onSubmitFail:function(e,t,r){a({messageContent:"Error Searching Field Groups",messageColor:"secondary"}),n&&n(e,t,r)}},j))}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(l)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(l)},children:"Update"})]})]})})),Ww=function(e){var t=e.orderBy,n=e.orderDirection,a=e.onChangeOrder,r=e.name;return a?Object(ie.jsx)(ke.a,{children:Object(ie.jsx)(vj.a,{active:t===r,direction:n||void 0,onClick:a(r),children:He()(r)})}):Object(ie.jsx)(ke.a,{children:He()(r)})},ww=function(e){var t=e.fieldGroupType,n=t.name,a=t.uuid;return Object(ie.jsxs)(Je,{to:"/metadata/".concat(a,"/"),hover:!0,children:[Object(ie.jsx)(ke.a,{children:a}),Object(ie.jsx)(ke.a,{children:n})]})};var _w=function(e){var t=e.metadataFieldResultDocument,n=e.onChangePage,a=e.onChangeRowsPerPage,r=e.rowsPerPageOptions,o=e.page,c=e.rowsPerPage;if(void 0===t)return null;var i=t.group,s=void 0===i?[]:i,l=t.hits,u=void 0===l?0:l;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(Ww,{name:"uuid"}),Object(ie.jsx)(Ww,{name:"name"})]})}),Object(ie.jsx)(Fe.a,{children:s.map((function(e){return Object(ie.jsx)(ww,{fieldGroupType:e},e.uuid)}))}),n&&a&&Object(ie.jsx)(Ee.a,{children:Object(ie.jsx)(Pe.a,{children:Object(ie.jsx)(Ne.a,{count:u,page:o,rowsPerPage:c,onChangePage:n,onChangeRowsPerPage:a,ActionsComponent:qe,rowsPerPageOptions:r})})})]})})},Vw="FIELDGROUP_SEARCH_FORM",Bw=Object(m.c)(SO,RO)(_w),Uw=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onSearchSuccess=a.onSearchSuccess.bind(Object(M.a)(a)),a.onSetUrlParams=a.onSetUrlParams.bind(Object(M.a)(a)),a.onGetUrlParams=a.onGetUrlParams.bind(Object(M.a)(a));var r=a.onGetUrlParams(),o=r.first,c=void 0===o?1:o,i=r.number,s=void 0===i?10:i,l=r.orderBy,u=r.orderDirection,j=void 0===u?"desc":u,d=Object(ye.a)(r,["first","number","orderBy","orderDirection"]),m=l?[{field:l,order:"".concat(j,"ending")}]:[];return a.initialValues={queryParams:d,matrixParams:{first:c,number:s},itemSearchDocument:{sort:m}},a.state={metadataFieldResultDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Field Group",this.onRefresh()}},{key:"onRefresh",value:function(){(0,this.props.submitForm)(Vw)}},{key:"onSearchSuccess",value:function(e){var t=e.data,n=e.queryParams;this.setState({metadataFieldResultDocument:t,queryParams:n}),this.onSetUrlParams(n)}},{key:"onSetUrlParams",value:function(e){var t=this.props,n=t.location,a=t.history,r=new URLSearchParams(n.search);Object.entries(e).forEach((function(e){var t=Object(Bt.a)(e,2),n=t[0],a=t[1];return r.set(n,a)})),a.push({search:r.toString()})}},{key:"onGetUrlParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),n={};return Array.from(t).forEach((function(e){var t=Object(Bt.a)(e,2),a=t[0],r=t[1];n[a]=r})),n}},{key:"render",value:function(){var e=this.state,t=e.metadataFieldResultDocument,n=e.queryParams;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Field Groups",helpTo:"/ref/metadata/field-group.html",onRefresh:this.onRefresh,code:t,codeModal:"MetadataFieldResultDocument"}),Object(ie.jsx)(Lw,{form:Vw,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(Mw,{form:Vw,defaultExpanded:!1,onSuccess:this.onSearchSuccess,initialValues:this.initialValues,destroyOnUnmount:!1}),Object(ie.jsx)(Bw,{metadataFieldResultDocument:t,queryParams:n,form:Vw,sortField:"metadataFieldGroupSearchDocument.sort"})]})}}]),n}(o.a.PureComponent),qw=Object(m.c)(oa)(Uw),Gw=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"uri",component:St,fullWidth:!0,required:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"noCPLreimport",component:Wt}),label:"No CPL Reimport"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"no-transcode",component:Wt}),label:"No Transcode"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]})};var Hw=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Gw}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),Jw=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"overrideFastStart",component:Wt}),label:"Override FastStart"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"requireFastStart",component:Wt}),label:"Require FastStart"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"growing",component:Wt}),label:"Growing"}),Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Xa}),Object(ie.jsx)(Lt,{name:"original",component:St,label:"Reset Original",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"thumbnailService",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"createPosters",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"fastStartLength",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"storageId",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"xmpfile",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"sidecar",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"settings",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"importTag",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"resourceId",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",label:"Notification Metadata",component:Xa})]})};var zw=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:Jw}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function Kw(e){var t=e.queryParams,n=e.metadataDocument;return W.V.createImportImp({queryParams:t,metadataDocument:n}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Yw(e,t,n){var a=e.queryParams,r=e.metadataDocument,o=n.fileId||e.fileId;return W.p.createFileImportAssetMap({fileId:o,queryParams:a,metadataDocument:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}function Xw(e,t,n){var a=e.queryParams,r=e.metadataDocument,o=n.storageId||e.storageId;return W.p.createFilePathImportAssetMap({storageId:o,queryParams:a,metadataDocument:r}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var Qw="EDIT_IMPORTIMPURL_FORM";var $w=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},u=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{grandParentTitle:"Import",parentTitle:"IMF",title:"URL",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(Qw)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"IMP URL"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Hw,{onSubmit:Kw,initialValues:t,onSubmitSuccess:l,onSubmitFail:u,form:Qw,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:Kw,initialValues:t,form:Qw,onSubmitSuccess:l,onSubmitFail:u,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(zw,{onSubmit:Kw,initialValues:t,onSubmitSuccess:l,onSubmitFail:u,form:Qw,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),Zw=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | IMF | Import URL"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(Qw)}},{key:"render",value:function(){var e=this.props.history;return Object(ie.jsx)($w,{onSuccess:function(t){return e.push("/job/".concat(t.data.jobId))}})}}]),n}(o.a.PureComponent)),e_=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allowReimport",component:Wt}),label:"Allow Reimport"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"no-transcode",component:Wt}),label:"No Transcode"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0})]})};var t_=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"fileId",component:St,fullWidth:!0,required:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:e_}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),n_=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"overrideFastStart",component:Wt}),label:"Override FastStart"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"requireFastStart",component:Wt}),label:"Require FastStart"}),Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Xa}),Object(ie.jsx)(Lt,{name:"original",component:St,label:"Reset Original",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"thumbnailService",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"createPosters",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"fastStartLength",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"settings",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"importTag",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",label:"Notification Metadata",component:Xa})]})};var a_=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:n_}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),r_="EDIT_IMPORTIMPFILE_FORM";var o_=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},u=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{grandParentTitle:"Import",parentTitle:"IMF",title:"File",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(r_)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"IMP File"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(t_,{onSubmit:Yw,initialValues:t,onSubmitSuccess:l,onSubmitFail:u,form:r_,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:Yw,initialValues:t,form:r_,onSubmitSuccess:l,onSubmitFail:u,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(a_,{onSubmit:Yw,initialValues:t,onSubmitSuccess:l,onSubmitFail:u,form:r_,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),c_=oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | IMF | Import File"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(r_)}},{key:"render",value:function(){var e=this.props.history;return Object(ie.jsx)(o_,{onSuccess:function(t){return e.push("/job/".concat(t.data.jobId))}})}}]),n}(o.a.PureComponent)),i_=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"path",component:St,fullWidth:!0,required:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"priority",children:"Priority"}),Object(ie.jsx)(Lt,{name:"priority",component:gt,children:In.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"allowReimport",component:Wt}),label:"Allow Reimport"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"createOnly",component:Wt}),label:"Create Only"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"no-transcode",component:Wt}),label:"No Transcode"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"createThumbnails",component:Wt}),label:"Create Thumbnails"}),Object(ie.jsx)(Lt,{name:"tag",label:"Shape Tag",component:yl,loadOptions:Il,cacheOptions:!0,isClearable:!0,fullWidth:!0,isMulti:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsx)(Lt,{name:"state",component:gt,children:uI.map((function(e){return Object(ie.jsx)(Cn.a,{value:e,children:e},e)}))})]})]})};var s_=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"storage",label:"Storage ID",component:yl,loadOptions:Cl,cacheOptions:!0,isClearable:!0,required:!0,fullWidth:!0,disableInitial:!0}),Object(ie.jsx)(Mt,{name:"queryParams",component:i_}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),l_=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"overrideFastStart",component:Wt}),label:"Override FastStart"}),Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"requireFastStart",component:Wt}),label:"Require FastStart"}),Object(ie.jsx)(Nt,{name:"jobmetadata",label:"Job Metadata",dense:!0,component:Xa}),Object(ie.jsx)(Lt,{name:"original",component:St,label:"Reset Original",fullWidth:!0}),Object(ie.jsx)(Lt,{name:"thumbnailService",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"createPosters",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"fastStartLength",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"settings",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"importTag",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"notification",component:St,fullWidth:!0}),Object(ie.jsx)(Nt,{name:"notificationData",label:"Notification Metadata",component:Xa})]})};var u_=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:l_}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),j_="EDIT_IMPORTIMPPATH_FORM";var d_=Object(m.c)(MC,de,oa)((function(e){var t=e.initialValues,n=e.onSuccess,a=e.onFail,r=e.submitForm,o=e.onNext,c=e.onBack,i=e.activeStep,s=e.openSnackBar,l=function(e,t,a){s({messageContent:"Job Started"}),n&&n(e,t,a)},u=function(e,t,n){s({messageContent:"Error Starting Job",messageColor:"secondary"}),a&&a(e,t,n)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{grandParentTitle:"Import",parentTitle:"IMF",title:"Path",style:{paddingTop:10,paddingBottom:10},actionComponent:Object(ie.jsx)(he.a,{color:"primary",variant:"text",size:"large",onClick:function(){return r(j_)},children:"Start"})}),Object(ie.jsxs)(ec.a,{activeStep:i,orientation:"vertical",children:[Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"IMP Path"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(s_,{onSubmit:Xw,initialValues:t,onSubmitSuccess:l,onSubmitFail:u,form:j_,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Metadata"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(LO,{onSubmit:Xw,initialValues:t,form:j_,onSubmitSuccess:l,onSubmitFail:u,destroyOnUnmount:!1})}),Object(ie.jsxs)(lt.a,{children:[Object(ie.jsx)(he.a,{onClick:c,children:"Back"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:o,children:"Next"})]})]})})]}),Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{children:"Advanced"}),Object(ie.jsx)(ic.a,{children:Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(u_,{onSubmit:Xw,initialValues:t,onSubmitSuccess:l,onSubmitFail:u,form:j_,destroyOnUnmount:!1})}),Object(ie.jsx)(lt.a,{children:Object(ie.jsx)(he.a,{onClick:c,children:"Back"})})]})})]})]})]})})),m_="IMPORTIMP_URL_TAB",b_=[{tab:m_,listText:"URL",component:Zw},{tab:"IMPORTIMP_PATH_TAB",listText:"Path",component:oa(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | IMF | Import Path"}},{key:"componentWillUnmount",value:function(){(0,this.props.destroyForm)(j_)}},{key:"render",value:function(){var e=this.props.history;return Object(ie.jsx)(d_,{onSuccess:function(t){return e.push("/job/".concat(t.data.jobId))}})}}]),n}(o.a.PureComponent))},{tab:"IMPORTIMP_FILE_TAB",listText:"File",component:c_}],h_=function(e){var t=e.onChangeTab,n=e.tabValue;return Object(ie.jsx)(TO.a,{children:b_.map((function(e){var a=e.tab,r=e.listText;return Object(ie.jsx)(pg,{listText:r,listItemProps:{onClick:function(){return t(null,a)},selected:n===a||void 0}},r)}))})},O_=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tabValue,n=e.onChangeTab,a=Object(ye.a)(e,["tabValue","onChangeTab"]),r=b_.find((function(e){return e.tab===t}))||b_[0],o=r.listText,c=r.component;return Object(ie.jsx)(hg,Object(u.a)({mainComponent:c,listComponent:h_,defaultOpen:!0,onChangeTab:n,tabValue:t,title:o},a))}}]),n}(o.a.PureComponent),p_=ca(m_)(O_);function x_(e){var t=e.accessKeyDocument,n=void 0===t?{}:t,a=e.onOpenRemove,r=n.id,o=n.name,c=n.status,i=n.created;return Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:r}),Object(ie.jsx)(ke.a,{children:o}),Object(ie.jsx)(ke.a,{children:i}),Object(ie.jsx)(ke.a,{children:c}),Object(ie.jsx)(ke.a,{children:a&&Object(ie.jsx)(_.a,{onClick:function(){return a({keyId:r})},children:Object(ie.jsx)(ee.a,{})})})]})}var f_=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.userName,o=e.onSuccess,c=e.keyId;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Key "'.concat(c,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.S.removeKey({userName:r,keyId:c}).then((function(){var e="".concat(c," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing User Key",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),v_="REMOVE_USERKEY_DIALOG";var g_=Gn((function(e){var t=e.accessKeyListDocument,n=e.onRemoveSuccess,a=e.userName,r=e.dialogProps,o=e.onOpen;if(!t)return null;var c=t.key,i=void 0===c?[]:c;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(De.a,{children:[Object(ie.jsx)(Te.a,{children:Object(ie.jsxs)(Pe.a,{children:[Object(ie.jsx)(ke.a,{children:"ID"}),Object(ie.jsx)(ke.a,{children:"Name"}),Object(ie.jsx)(ke.a,{children:"Created"}),Object(ie.jsx)(ke.a,{children:"Status"}),Object(ie.jsx)(ke.a,{})]})}),Object(ie.jsx)(Fe.a,{children:i.map((function(e){return Object(ie.jsx)(x_,{accessKeyDocument:e,onOpenRemove:o(v_)},e.id)}))})]}),Object(ie.jsx)(f_,Object(u.a)(Object(u.a)({},r),{},{dialogName:v_,userName:a,onSuccess:n}))]})}));function y_(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(g_,Object(u.a)({},t))})})}var S_=function(){return Object(ie.jsx)(Lt,{name:"name",component:St,fullWidth:!0})};var C_=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:S_}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),R_="EDIT_USERKEY_FORM";var I_=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.openSnackBar,a=e.onClose,r=e.onSuccess,o=e.open,c=e.userName,i=e.accessKeyDocument,s=e.onSetAccessKey;return Object(ie.jsx)(Oe.a,{open:o,onClose:a,fullWidth:!0,maxWidth:!1,children:i?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fe.a,{children:"Success!"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"ID",value:i.id,hideNoValue:!0,hover:!0}),Object(ie.jsx)(nn,{title:"Secret",value:i.secret,hideNoValue:!0,hover:!0})]})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:function(){s(),a()},children:"Close"})})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(fe.a,{children:"New User Key"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(C_,{form:R_,onSubmit:Db,onSubmitSuccess:function(e,t,a){var o=e.data;s(o);n({messageContent:"User Key Created"}),r&&r(e,t,a)},onSubmitFail:function(){n({messageContent:"Error Creating User Key",messageColor:"secondary"})},userName:c})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(R_)},children:"Create"})]})]})})})),D_="USERKEY_CREATE_MODAL",F_=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onFetchError=a.onFetchError.bind(Object(M.a)(a)),a.onSetAccessKey=a.onSetAccessKey.bind(Object(M.a)(a)),a.state={accessKeyListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh();var e=this.props.userName;document.title="xray | User | ".concat(e," | Keys")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.userName;this.props.userName!==t&&(this.onFetch(t),document.title="xray | User | ".concat(t," | Keys"))}},{key:"onRefresh",value:function(){var e=this.props.userName;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.S.listKey({userName:e}).then((function(e){return t.setState({accessKeyListDocument:e.data})})).catch((function(e){return t.onFetchError(e)}))}catch(n){this.onFetchError(n)}}},{key:"onSetAccessKey",value:function(e){this.setState({accessKeyDocument:e})}},{key:"onFetchError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading User Keys",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state,t=e.accessKeyListDocument,n=e.accessKeyDocument,a=this.props.userName;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{helpTo:"/ref/user.html",title:"Keys",grandParentTitle:"User",grandParentTo:"/user/",parentTitle:a,parentTo:"/user/".concat(a),onRefresh:this.onRefresh,code:t,codeModal:"AccessKeyListDocument",createModal:D_}),Object(ie.jsx)(y_,{accessKeyListDocument:t,userName:a,onRemoveSuccess:this.onRefresh}),Object(ie.jsx)(I_,{dialogName:D_,onSuccess:this.onRefresh,accessKeyDocument:n,onSetAccessKey:this.onSetAccessKey,userName:a})]})}}]),n}(o.a.PureComponent)),k_=function(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Scheduled Requests",helpTo:"/ref/scheduled-requests.html"},e))};function T_(e){var t=e.queryParams;return W.G.listScheduledRequest({queryParams:t}).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var P_=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"state",children:"State"}),Object(ie.jsxs)(Lt,{name:"state",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"WAITING",children:"Waiting"}),Object(ie.jsx)(Cn.a,{value:"SUCCESS",children:"Success"}),Object(ie.jsx)(Cn.a,{value:"CONNECTION_FAILURE",children:"Connection Failure"}),Object(ie.jsx)(Cn.a,{value:"BAD_REQUEST",children:"Bad Request"})]})]})};var E_=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:P_}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));var N_=Object(m.c)(de,oa)((function(e){var t=e.onClose,n=e.onSuccess,a=e.openSnackBar,r=e.submitForm,o=e.resetForm,c=e.form;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(E_,{form:c,onSubmit:T_,onSubmitSuccess:function(e,t,a){n&&n(e,t,a)},onSubmitFail:function(){a({messageContent:"Error Listing Scheduled Requests",messageColor:"secondary"})},onCancel:t})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return o(c)},children:"Reset"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return r(c)},children:"Filter"})]})]})})),M_=function(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(N_,Object(u.a)({},t))})})},A_=n(392),L_=n.n(A_);function W_(e){var t=e.scheduledRequestType,n=void 0===t?{}:t,a=e.onOpen,r=e.onRemove;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Un,{hover:!0,children:[Object(ie.jsx)(Vn,{children:n.id}),Object(ie.jsx)(Vn,{children:n.user}),Object(ie.jsx)(Vn,{children:n.state}),Object(ie.jsx)(Vn,{children:n.created?qt()(n.created).toString():""}),Object(ie.jsx)(Vn,{children:n.date?qt()(n.date).toString():""}),Object(ie.jsx)(Vn,{children:n.executed?qt()(n.executed).toString():""}),Object(ie.jsxs)(Vn,{disableOnClick:!0,children:[Object(ie.jsx)(_.a,{onClick:function(){return a({scheduledRequestType:n})},children:Object(ie.jsx)(L_.a,{})}),Object(ie.jsx)(_.a,{onClick:function(){return r({scheduledRequestType:n})},children:Object(ie.jsx)(Dt.a,{})})]})]})})}function w_(e){var t=e.scheduledRequestType,n=e.openSnackBar,a=t.id,r=t.request,c=void 0===r?{}:r,i=t.response,s=void 0===i?{}:i,l=s.contentType,u=o.a.useState(),j=Object(Bt.a)(u,2),d=j[0],m=j[1];return o.a.useEffect((function(){s.hasBody&&W.G.getScheduledRequestResponse({requestId:a}).then((function(e){var t=e.data;return m(t)})).catch((function(){n({messageContent:"Error Loading Request Response",messageColor:"secondary"})}))}),[]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"URI",value:c.uri,hover:!0}),Object(ie.jsx)(nn,{title:"Method",value:c.method,hover:!0}),Object(ie.jsx)(nn,{title:"Request Body",value:c.body,variant:"code",hover:!0,hideNoValue:!0}),s.statusCode&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Response Status",value:s.statusCode,hover:!0}),Object(ie.jsx)(nn,{title:"Response Content-Type",value:s.contentType,hover:!0}),d&&Object(ie.jsx)(nn,{title:"Response Body",value:"application/json"===l?JSON.stringify(d):d,variant:l,hover:!0,hideNoValue:!0})]})]})}var __=de((function(e){var t=e.open,n=e.onClose,a=e.scheduledRequestType,r=e.openSnackBar;if(!a)return null;var o=a.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Scheduled Request ".concat(o)}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(w_,{scheduledRequestType:a,openSnackBar:r})}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Close"})})]})}));var V_=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess,o=e.scheduledRequestType;if(!o)return null;var c=o.id;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove Scheduled Request ".concat(c)}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.G.removeScheduledRequest({requestId:c}).then((function(){a({messageContent:"Scheduled Request Removed"}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing Scheduled Request",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),B_="SCHEDULEDREQUEST_REMOVE_DIALOG",U_="SCHEDULEDREQUEST_DETAIL_DIALOG";var q_=Gn((function(e){var t=e.scheduledRequestListDocument,n=e.onSuccess,a=e.dialogProps,r=e.onOpen,o=t.scheduledRequest,c=void 0===o?[]:o;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"ID"}),Object(ie.jsx)(Vn,{children:"User"}),Object(ie.jsx)(Vn,{children:"State"}),Object(ie.jsx)(Vn,{children:"Created"}),Object(ie.jsx)(Vn,{children:"Date"}),Object(ie.jsx)(Vn,{children:"Executed"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:c.map((function(e){return Object(ie.jsx)(W_,{scheduledRequestType:e,onOpen:r(U_),onRemove:r(B_)},e.id)}))})]}),Object(ie.jsx)(__,Object(u.a)(Object(u.a)({},a),{},{dialogName:U_})),Object(ie.jsx)(V_,Object(u.a)(Object(u.a)({},a),{},{dialogName:B_,onSuccess:n}))]})})),G_=function(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(q_,Object(u.a)({},t))})})};var H_=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Remove All Scheduled Requests"}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.G.removeAllScheduledRequest().then((function(){a({messageContent:"All Scheduled Requests Removed"}),n(),r&&r()})).catch((function(){a({messageContent:"Error Removing All Scheduled Requests",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),J_="SCHEDULED_FILTER_FORM",z_="SCHEDULED_REMOVEALL",K_=oa((function(e){var t=e.submitForm;document.title="xray | Scheduled Requests";var n=function(){t(J_)},a=o.a.useState(),r=Object(Bt.a)(a,2),c=r[0],i=r[1];return o.a.useEffect(n,[]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(k_,{code:c,codeModal:"ScheduledRequestListDocument",onRefresh:n,removeModal:z_}),Object(ie.jsx)(M_,{form:J_,onSuccess:function(e){var t=e.data;return i(t)}}),c&&Object(ie.jsx)(G_,{scheduledRequestListDocument:c,onSuccess:n}),Object(ie.jsx)(H_,{dialogName:z_,onSuccess:n})]})})),Y_=function(e){var t=e.queryParams,n=t.uri,a=Object(ye.a)(t,["uri"]),r=n.reduce((function(e,t,n){var a=n>0?"&":"";return"".concat(e).concat(a,"uri=").concat(encodeURIComponent(t))}),""),o=function(e){var t=Object.keys(e);return 0===t.length?"":t.reduce((function(t,n,a){if("undefined"===typeof e[n])return t;var r=a>0?"&":"";return"".concat(t).concat(r).concat(n,"=").concat(e[n])}),"?")}(a);return"".concat("/APInoauth/stitch/").concat(o||"?","&").concat(r)},X_=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"uri",label:"URI",component:Ya,simple:!0,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"geometry",component:St,fullWidth:!0}),Object(ie.jsx)(Lt,{name:"tile",component:St,fullWidth:!0}),Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"format",children:"Format"}),Object(ie.jsxs)(Lt,{name:"format",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"png",children:"PNG"}),Object(ie.jsx)(Cn.a,{value:"jpeg",children:"JPG"})]})]}),Object(ie.jsx)(Lt,{name:"background",component:St,fullWidth:!0})]})};var Q_=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Mt,{name:"queryParams",component:X_}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),$_="STITCH_FORM";var Z_=Object(m.c)(je,oa)((function(e){var t=e.submitForm,n=e.resetForm,a=e.openSnackBar,r=e.onSuccess,o=e.onFail,c=e.url;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Q_,{onSubmit:Y_,onSubmitSuccess:function(e,t,n){a({messageContent:"Image Stitched"}),r&&r(e,t,n)},onSubmitFail:function(e,t,n,r){a({messageContent:"Error Stitching Image",messageColor:"secondary"}),o&&o(e,t,n,r)},form:$_})}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",onClick:function(){return n($_)},children:"Reset"}),Object(ie.jsx)(he.a,{variant:"text",color:"primary",onClick:function(){return t($_)},children:"Get"})]})]}),Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(Q.a,{container:!0,justify:"center",children:c&&Object(ie.jsx)("img",{src:c,alt:c})})})})]})})),eV=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).state={url:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray | Stitch"}},{key:"render",value:function(){var e=this,t=this.state.url;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge,{title:"Stitch Images",helpTo:"/ref/misc/stitching.html"}),Object(ie.jsx)(Z_,{url:t,onSuccess:function(t){return e.setState({url:t})},onFail:function(){return e.setState({url:void 0})}})]})}}]),n}(o.a.PureComponent);function tV(e){var t=e.lockId,n=Object(ye.a)(e,["lockId"]);return Object(ie.jsx)(ge,Object(u.a)({helpTo:"/ref/deletion-lock.html",title:t,parentTitle:"Deletion Lock",parentTo:"/deletion-lock/"},n))}var nV=function(e){var t=e.value,n=void 0===t?{}:t,a=e.showMetadataType,r=void 0!==a&&a;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Lock ID",value:n.id}),Object(ie.jsx)(nn,{title:"User",value:n.user,variant:"username"}),Object(ie.jsx)(nn,{title:"Expiry Time",value:n.expiryTime,variant:"timestring"}),Object(ie.jsx)(nn,{title:"Modified",value:n.modified,variant:"timestring"}),Object(ie.jsx)(nn,{title:"Entity Type",value:n.entityType,to:n.entityType?"/".concat(n.entityType.toLowerCase(),"/"):void 0,variant:"link"}),Object(ie.jsx)(nn,{title:"Entity ID",value:n.entityId,to:n.entityId?"/".concat(n.entityType.toLowerCase(),"/").concat(n.entityId,"/"):void 0,variant:"link"}),Object(ie.jsx)(nn,{title:"Effective",value:n.isEffective,variant:"boolean"}),Object(ie.jsx)(nn,{title:"Inherited",value:n.isInherited,variant:"boolean"}),Object(ie.jsx)(nn,{title:"Expired",value:n.isExpired,variant:"boolean"}),r&&Object(ie.jsx)(an,{value:n.metadata,component:ar})]})};function aV(e){var t=e.deletionLockDocument,n=e.showMetadataType;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(an,{value:t,component:nV,showMetadataType:n})})}var rV={openSnackBar:a.openSnackBar},oV=Object(s.b)(null,rV)((function(e){var t=e.deletionLockDocument,n=e.lockId,a=e.openSnackBar,r=e.onRefresh;return Object(ie.jsx)(mt,{formComponent:bv,displayComponent:aV,formName:"EDIT_DELETIONLOCK_FORM",onSubmitSuccess:function(){a({messageContent:"Deletion Lock Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Deletion Lock",messageColor:"secondary"})},onSubmit:rv,formProps:{lockId:n},displayProps:{deletionLockDocument:t},initialValues:{deletionLockDocument:t}})}));function cV(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie,{children:Object(ie.jsx)(oV,Object(u.a)({},e))})})}var iV=de((function(e){var t=e.open,n=e.onClose,a=e.openSnackBar,r=e.lockId,o=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Deletion Lock "'.concat(r,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.j.removeDeletionLock({lockId:r}).then((function(){var e="Deletion Lock ".concat(r," Removed");a({messageContent:e}),n(),o&&o()})).catch((function(){a({messageContent:"Error Removing Deletion Lock",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),sV="DELETIONLOCK_REMOVE_DIALOG",lV=de(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onFetch=a.onFetch.bind(Object(M.a)(a)),a.onFetchError=a.onFetchError.bind(Object(M.a)(a)),a.state={deletionLockDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh();var e=this.props.lockId;document.title="xray | Deletion Lock | ".concat(e)}},{key:"onRefresh",value:function(){var e=this.props.lockId;this.onFetch(e)}},{key:"onFetch",value:function(e){var t=this;try{W.j.getDeletionLock({lockId:e}).then((function(e){var n=e.data;return t.setState({deletionLockDocument:n})})).catch((function(e){return t.onFetchError(e)}))}catch(n){this.onFetchError(n)}}},{key:"onFetchError",value:function(){(0,this.props.openSnackBar)({messageContent:"Error Loading Deletion Lock",messageColor:"secondary"})}},{key:"render",value:function(){var e=this.state.deletionLockDocument,t=this.props,n=t.lockId,a=t.history,r=t.entityId,o=t.entityType;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(tV,{onRefresh:this.onRefresh,code:e,codeModal:"DeletionLockDocument",lockId:n,removeModal:sV}),e&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(cV,{deletionLockDocument:e,lockId:n,onRefresh:this.onRefresh,entityId:r,entityType:o}),Object(ie.jsx)(jb,{simpleMetadataDocument:e.metadata,onSuccess:this.onRefresh,entityType:"deletion-lock",entityId:n})]}),Object(ie.jsx)(iV,{dialogName:sV,lockId:n,onSuccess:function(){return a.push("/deletion-lock/")}})]})}}]),n}(o.a.PureComponent));var uV=function(e){var t=e.datasetId,n=e.onOpen;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Un,{to:"/metadata-dataset/".concat(t,"/"),hover:!0,children:[Object(ie.jsx)(Vn,{children:Object(ie.jsx)(ze,{to:"/metadata-dataset/".concat(t,"/"),children:t})}),Object(ie.jsx)(Vn,{disableOnClick:!0,children:Object(ie.jsx)(_.a,{onClick:function(){return n({datasetId:t})},children:Object(ie.jsx)(ee.a,{})})})]})})};var jV=de((function(e){var t=e.open,n=e.onClose,a=e.history,r=e.openSnackBar,o=e.datasetId,c=e.onSuccess;return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:'Remove Metadata Dataset "'.concat(o,'"?')}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{onClick:n,color:"primary",children:"Cancel"}),Object(ie.jsx)(he.a,{variant:"text",onClick:function(){W.y.removeMetadataDataset({datasetId:o}).then((function(){var e="Metadata Dataset ".concat(o," Removed");r({messageContent:e}),a.push("/metadata-dataset/"),n(),c&&c()})).catch((function(){r({messageContent:"Error Removing Metadata Dataset",messageColor:"secondary"})}))},color:"secondary",autoFocus:!0,children:"Remove"})]})]})})),dV="REMOVE_METADATAFIELD_DIALOG";var mV=Gn((function(e){var t=e.metadataDatasetListDocument,n=void 0===t?[]:t,a=e.onRefresh,r=e.dialogProps,o=e.onOpen,c=n.dataset,i=void 0===c?[]:c;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(gj,{children:[Object(ie.jsx)(Bn,{children:Object(ie.jsxs)(Un,{children:[Object(ie.jsx)(Vn,{children:"Dataset Name"}),Object(ie.jsx)(Vn,{})]})}),Object(ie.jsx)(_n,{children:i.map((function(e){var t=e.name;return Object(ie.jsx)(uV,{datasetId:t,onOpen:o(dV)},t)}))})]}),Object(ie.jsx)(jV,Object(u.a)(Object(u.a)({},r),{},{dialogName:dV,onSuccess:a}))]})}));function bV(e){var t=Object.assign({},e);return Object(ie.jsx)(Ie,{children:Object(ie.jsx)(Se.a,{children:Object(ie.jsx)(mV,Object(u.a)({},t))})})}var hV=function(){return Object(ie.jsx)(Lt,{name:"id-seed",label:"id-seed",component:St,fullWidth:!0})},OV=function(){return Object(ie.jsxs)(Rn.a,{fullWidth:!0,children:[Object(ie.jsx)(Sn.a,{htmlFor:"contentType",children:"Model"}),Object(ie.jsxs)(Lt,{name:"contentType",component:gt,children:[Object(ie.jsx)(Cn.a,{value:"application/rdf+xml",children:"RDF"}),Object(ie.jsx)(Cn.a,{value:"text/turtle",children:"TURTLE"}),Object(ie.jsx)(Cn.a,{value:"application/ld+json",children:"LD+JSON"})]})]})},pV=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"datasetId",label:"name",component:Qn,fullWidth:!0}),Object(ie.jsx)(Mt,{name:"headers",component:OV}),Object(ie.jsx)(Mt,{name:"queryParams",component:hV}),Object(ie.jsx)(Lt,{name:"body",label:"body",component:ta,options:{theme:"material",mode:"application/ld+json",lineWrapping:!0,lineNumbers:!0}}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})}));function xV(e,t,n){var a=e.body,r=e.headers,o=n.datasetId||e.datasetId;return W.y.updateMetadataMigration({datasetId:o,body:a,headers:{accept:r.contentType,contentType:r.contentType}}).then((function(e){return{body:e.data,datasetId:o}})).catch((function(e){var t=e.message;throw e.response&&(t=JSON.stringify(e.response.data,(function(e,t){return null===t?void 0:t}))),new $e.a({_error:t})}))}var fV="EDIT_METADATADATASET_FORM";var vV=Object(m.c)(de,oa)((function(e){var t=e.submitForm,n=e.open,a=e.onClose,r=e.openSnackBar,o=e.history;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,fullWidth:!0,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"New Metadata Dataset"}),Object(ie.jsx)(xe.a,{children:Object(ie.jsx)(pV,{form:fV,onSubmit:xV,onSubmitSuccess:function(e){var t=e.datasetId,n="Metadata Dataset ".concat(t," Created");r({messageContent:n}),o.push("/metadata-dataset/".concat(t,"/")),a()},onSubmitFail:function(){r({messageContent:"Error Creating Metadata Dataset",messageColor:"secondary"})}})}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"secondary",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",onClick:function(){return t(fV)},children:"Save"})]})]})}));function gV(e){return Object(ie.jsx)(ge,Object(u.a)({title:"Metadata Dataset",helpTo:"/ref/metadata/dataset-ref.html"},e))}var yV="METADATADATASETLIST_CREATE_MODAL",SV=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={metadataDatasetListDocument:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.onRefresh(),document.title="xray | Metadata Dataset"}},{key:"onRefresh",value:function(){var e=this,t=this.props.openSnackBar;try{W.y.listMetadataDataset().then((function(t){return e.setState({metadataDatasetListDocument:t.data})}))}catch(n){t({messageContent:"Error Loading Metadata Dataset List",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.state.metadataDatasetListDocument;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(gV,{createModal:yV,onRefresh:this.onRefresh,code:e,codeModal:"MetadataDatasetListDocument"}),e&&Object(ie.jsx)(bV,{metadataDatasetListDocument:e,onRefresh:this.onRefresh}),Object(ie.jsx)(vV,{dialogName:yV})]})}}]),n}(o.a.PureComponent));function CV(e){return Object(ie.jsx)(ge,Object(u.a)({parentTitle:"Metadata Dataset",parentTo:"/metadata-dataset/",title:e.datasetId,helpTo:"/ref/metadata/dataset-ref.html",entityId:e.datasetId,entityType:"metadata-dataset"},e))}var RV=function(e){var t=e.value;return Object(ie.jsx)(nn,{title:"body",value:t,variant:"application/ld+json"})};var IV=de((function(e){var t=e.body,n=e.datasetId,a=e.openSnackBar,r=e.onRefresh,o={datasetId:n},c={value:t},i={datasetId:n,body:t,headers:{contentType:"application/ld+json"}};return Object(ie.jsx)(mt,{formComponent:pV,displayComponent:RV,formName:"EDIT_METADATADATASET_FORM",onSubmitSuccess:function(){a({messageContent:"Metadata Dataset Saved"}),r&&r()},onSubmitFail:function(){a({messageContent:"Error Updating Metadata Dataset",messageColor:"secondary"})},onSubmit:xV,formProps:o,displayProps:c,initialValues:i})}));function DV(e){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie,{children:Object(ie.jsx)(IV,Object(u.a)({},e))})})}var FV="METADATADATASET_REMOVE_MODAL",kV=je(function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.state={body:void 0},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.datasetId;document.title="xray | Metadata Dataset | ".concat(e),this.onRefresh()}},{key:"onRefresh",value:function(){var e=this,t=this.props,n=t.openSnackBar,a=t.datasetId;try{W.y.getMetadataDataset({datasetId:a,headers:{accept:"application/ld+json"}}).then((function(t){return e.setState({body:t.request.responseText})}))}catch(r){n({messageContent:"Error Getting Metadata Dataset",messageColor:"secondary"})}}},{key:"render",value:function(){var e=this.props.datasetId,t=this.state.body;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(CV,{removeModal:FV,onRefresh:this.onRefresh,datasetId:e,code:t?JSON.parse(t):void 0,codeModal:"body"}),t&&Object(ie.jsx)(DV,{body:t,datasetId:e,onRefresh:this.onRefresh}),Object(ie.jsx)(jV,{dialogName:FV,datasetId:e})]})}}]),n}(o.a.PureComponent)),TV=n(705),PV=n(681),EV=n(635),NV=n(713),MV=n(393),AV=n.n(MV),LV=n(394),WV=n.n(LV),wV=n(398),_V=n.n(wV),VV=n(395),BV=n.n(VV),UV=n(396),qV=n.n(UV),GV=n(397),HV=n.n(GV),JV=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onShow=a.onShow.bind(Object(M.a)(a)),a.onHide=a.onHide.bind(Object(M.a)(a)),a.onDelayHide=a.onDelayHide.bind(Object(M.a)(a)),a.onClear=a.onClear.bind(Object(M.a)(a)),a.requestInterceptor=W.T.defaultClient.interceptors.request.use((function(e){return a.onShow(),e})),a.responseInterceptor=W.T.defaultClient.interceptors.response.use((function(e){return a.onDelayHide(),e}),(function(e){return a.onDelayHide(),Promise.reject(e)})),a.state={isLoading:!1},a}return Object(N.a)(n,[{key:"componentWillUnmount",value:function(){W.T.defaultClient.interceptors.request.eject(this.requestInterceptor),W.T.defaultClient.interceptors.response.eject(this.responseInterceptor),this.onClear()}},{key:"onShow",value:function(){this.onClear(),this.setState({isLoading:!0})}},{key:"onHide",value:function(){this.setState({isLoading:!1}),this.onClear()}},{key:"onDelayHide",value:function(){var e=this;this.timer=setInterval((function(){return e.onHide()}),1e3)}},{key:"onClear",value:function(){clearInterval(this.timer),this.timer=void 0}},{key:"render",value:function(){var e=this.state.isLoading,t=this.props.classes;return Object(ie.jsx)("div",{children:Object(ie.jsx)(AN.a,{variant:e?"indeterminate":"determinate",color:"primary",classes:{colorPrimary:t.colorPrimary,barColorPrimary:t.barColorPrimary},value:100})})}}]),n}(o.a.PureComponent),zV=Object(Me.a)((function(e){return{barColorPrimary:{backgroundColor:{light:"rgb(3, 102, 214)",dark:"rgb(88, 166, 255)"}[e.palette.type]},colorPrimary:{backgroundColor:"#005d9f"}}}))(JV),KV=[{value:"/new-job/",label:"New Job"},{value:"/job",label:"Job List"},{value:"/jobtype/",label:"Job Types"},{value:"/search/",label:"Search Items & Collections"},{value:gv(),label:"Search Items"},{value:"/collection/",label:"Search Collections"},{value:"/shape/",label:"Search Shapes"},{value:"/search/field-group/",label:"Search Field Groups"},{value:"/library/",label:"Search Libraries"},{value:"/storage/",label:"Storages"},{value:"/file/",label:"Files"},{value:"/storage-rule/",label:"Storage Rules"},{value:"/import/?tab=IMPORTPLACEHOLDER_TAB",label:"Create Item"},{value:"/import/?tab=IMPORTCOLLECTION_TAB",label:"Create Collection"},{value:"/import/?tab=IMPORTSHAPEPLACEHOLDER_TAB",label:"Create Shape"},{value:"/import/?tab=IMPORTFILE_TAB",label:"Import File"},{value:"/import/?tab=IMPORTRAW_TAB",label:"Upload"},{value:"/import/?tab=IMPORTURI_TAB",label:"Import URIs"},{value:"/import/?tab=IMPORTSHAPE_TAB",label:"Import Shape"},{value:"/import/?tab=IMPORTCOMPONENT_TAB",label:"Import Component"},{value:"/import-imp/?tab=IMPORTIMP_URL_TAB",label:"Import IMP URL"},{value:"/import-imp/?tab=IMPORTIMP_PATH_TAB",label:"Import IMP Path"},{value:"/import-imp/?tab=IMPORTIMP_FILE_TAB",label:"Import IMP File"},{value:"/vxa/",label:"VSA Server Agents"},{value:"/resource/transcoder/",label:"Transcoders"},{value:"/resource/thumbnail/",label:"Thumbnail Paths"},{value:"/resource/vidinet/",label:"Vidinet"},{value:"/export-location",label:"Export Locations"},{value:"/user/",label:"Users"},{value:"/group/",label:"Groups"},{value:"/metadata-field/",label:"Metadata Fields"},{value:"/metadata-dataset/",label:"Metadata Datasets"},{value:"/field-group/",label:"Metadata Field Groups"},{value:"/debug/echo/",label:"XML Echo"},{value:"/javascript/test/",label:"Javascript Test"},{value:"/wizard/",label:"Wizard"},{value:"/shape-tag/",label:"Shape Tags"},{value:"/version/",label:"Version"},{value:"/selftest/",label:"Self Test"},{value:"/log",label:"Audit Log"},{value:"/error/",label:"Error Log"},{value:"/reindex/",label:"Re-Index"},{value:"/service/",label:"Services"},{value:"/configuration/properties/",label:"Configuration Properties"},{value:"/configuration/job-pool/",label:"Job Pools"},{value:"/configuration/path-alias/",label:"Path Alias"},{value:"/external-id/",label:"External Identifiers"},{value:"/document/",label:"Document"},{value:"/conform/",label:"Conform"},{value:"/projection/",label:"Projection"},{value:"/notification/",label:"Notification"},{value:"/notification/item/",label:"Item Notification"},{value:"/notification/collection/",label:"Collection Notification"},{value:"/notification/job/",label:"Job Notification"},{value:"/notification/storage/",label:"Storage Notification"},{value:"/notification/file/",label:"File Notification"},{value:"/notification/quota/",label:"Quota Notification"},{value:"/notification/group/",label:"Group Notification"},{value:"/notification/document/",label:"Document Notification"},{value:"/import/settings/",label:"Import Settings"},{value:"/task-group/",label:"Task Groups"},{value:"/quota/",label:"Quota"},{value:"/storage-group/",label:"Storage Groups"},{value:"/auto-import/",label:"Auto Import Rules"},{value:"/service/stacktrace/",label:"Stack Trace"},{value:"/transfer/",label:"Import Transfers"},{value:"/configuration/",label:"Configuration"},{value:"/configuration/ftp-pool/",label:"FTP Pool"},{value:"/scheduled-request/",label:"Scheduled Requests"},{value:"/stitch/",label:"Stitch"},{value:"/deletion-lock/",label:"Deletion Locks"}];function YV(e){var t=e.onChange,n=Object(ye.a)(e,["onChange"]),a=Object(d.f)();return Object(ie.jsx)(Sl,Object(u.a)({value:"",options:KV,label:"Search for endpoint...",onChange:function(e){t&&t(e),a.push(e.value)}},n))}var XV=n(237);var QV=Object(Me.a)((function(e){return{root:{backgroundColor:{light:"rgb(36, 41, 46)",dark:"rgb(22, 27, 34)"}[e.palette.type],color:{light:"rgb(255, 255, 255)",dark:"rgb(240, 246, 252)"}[e.palette.type],zIndex:e.zIndex.drawer+1}}}))((function(e){var t=e.toggleMainMenu,n=e.toggleHistory,a=e.classes,r=e.onLogout,c=e.userName,i=e.baseUrl,s=Object(fl.c)(),l=o.a.useState(Object(XV.a)("paletteType")||"system"),u=Object(Bt.a)(l,2),j=u[0],d=u[1],m=Object(EV.a)("(prefers-color-scheme: dark)")?"dark":"light",b=function(e){null!==e&&(d(e),"system"===e?(document.cookie="paletteType=;path=/;max-age=31536000",s({paletteType:m})):(document.cookie="paletteType=".concat(e,";path=/;max-age=31536000"),s({paletteType:e})))};return Object(ie.jsxs)(TV.a,{elevation:0,classes:{root:a.root},position:"fixed",children:[Object(ie.jsxs)(PV.a,{disableGutters:!0,variant:"dense",children:[Object(ie.jsx)(_.a,{onClick:t,color:"inherit",children:Object(ie.jsx)(AV.a,{})}),Object(ie.jsx)(_.a,{onClick:n,color:"inherit",children:Object(ie.jsx)(WV.a,{})}),Object(ie.jsx)(X.a,{variant:"subtitle2",color:"inherit",children:i}),Object(ie.jsx)(NV.a,{xsDown:!0,children:Object(ie.jsx)("div",{style:{flex:1,justifyContent:"center",alignItems:"center",display:"flex"},children:Object(ie.jsx)("div",{style:{maxWidth:540,width:"100%"},children:Object(ie.jsx)(YV,{variant:"outlined"})})})}),{light:Object(ie.jsx)($.a,{title:"Light Theme",children:Object(ie.jsx)(_.a,{onClick:function(){return b("dark")},color:"inherit",children:Object(ie.jsx)(BV.a,{})})}),dark:Object(ie.jsx)($.a,{title:"Dark Theme",children:Object(ie.jsx)(_.a,{onClick:function(){return b("system")},color:"inherit",children:Object(ie.jsx)(qV.a,{})})}),system:Object(ie.jsx)($.a,{title:"Auto Theme",children:Object(ie.jsx)(_.a,{onClick:function(){return b("light")},color:"inherit",children:Object(ie.jsx)(HV.a,{})})})}[j],Object(ie.jsxs)(kc,{icon:Object(ie.jsx)(_V.a,{}),iconProps:{color:"inherit"},children:[Object(ie.jsx)(Cn.a,{disabled:!0,children:Object(ie.jsx)(X.a,{children:"User: ".concat(c)})}),Object(ie.jsx)(ze,{to:"/user/".concat(c),children:Object(ie.jsx)(Cn.a,{children:Object(ie.jsx)(X.a,{color:"inherit",children:"Profile"})})}),Object(ie.jsx)(ze,{to:"/import/access/".concat(c),children:Object(ie.jsx)(Cn.a,{children:Object(ie.jsx)(X.a,{color:"inherit",children:"Import Access"})})}),Object(ie.jsx)(Cn.a,{onClick:r,children:Object(ie.jsx)(X.a,{color:"error",children:"Sign out"})})]})]}),Object(ie.jsx)(zV,{})]})})),$V=n(706),ZV=n(166),eB=n.n(ZV),tB=n(637),nB=o.a.forwardRef((function(e,t){return Object(ie.jsx)(tB.a,Object(u.a)({direction:"down",ref:t},e))}));var aB=Object(m.c)(T,Object(Me.a)((function(e){return{appBar:{position:"relative",backgroundColor:e.palette.background.default},dialogRoot:{justifyContent:"flex-start"},scrollPaper:{width:"85%",backgroundColor:e.palette.background.default}}})))((function(e){var t=e.classes,n=e.open,a=e.onClose,r=function(e){var t=e.to,n=e.primary;return Object(ie.jsx)(dg.a,{button:!0,to:t,component:j.b,onClick:a,children:Object(ie.jsx)(Og.a,{secondary:n})})},o=function(e){var t=e.subheader,n=e.children;return Object(ie.jsx)(TO.a,{component:"nav",subheader:Object(ie.jsx)($V.a,{disableSticky:!0,children:t}),children:n})},c={lg:2,md:3,sm:6,xs:12};return Object(ie.jsxs)(Oe.a,{fullScreen:!0,open:n,onClose:a,TransitionComponent:nB,classes:{root:t.dialogRoot,scrollPaper:t.scrollPaper},children:[Object(ie.jsx)(TV.a,{elevation:0,className:t.appBar,children:Object(ie.jsx)(PV.a,{disableGutters:!0,variant:"dense",children:Object(ie.jsxs)(Q.a,{container:!0,alignItems:"flex-start",children:[Object(ie.jsx)(Q.a,{item:!0,children:Object(ie.jsx)(_.a,{onClick:a,children:Object(ie.jsx)(eB.a,{})})}),Object(ie.jsx)(Q.a,{item:!0,xs:8,children:Object(ie.jsx)(YV,{onChange:a})})]})})}),Object(ie.jsx)(xe.a,{children:Object(ie.jsxs)(Q.a,{container:!0,alignItems:"flex-start",children:[Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Workflow",children:[Object(ie.jsx)(r,{to:"/new-job/",primary:"New Job"}),Object(ie.jsx)(r,{to:"/job",primary:"Job List"}),Object(ie.jsx)(r,{to:"/jobtype/",primary:"Job Types"}),Object(ie.jsx)(r,{to:"/task-group/",primary:"Task Groups"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Search",children:[Object(ie.jsx)(r,{to:"/search/",primary:"Items & Collections"}),Object(ie.jsx)(r,{to:gv(),primary:"Items"}),Object(ie.jsx)(r,{to:"/collection/",primary:"Collections"}),Object(ie.jsx)(r,{to:"/shape/",primary:"Shapes"}),Object(ie.jsx)(r,{to:"/library/",primary:"Libraries"}),Object(ie.jsx)(r,{to:"/search/field-group/",primary:"Field Groups"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Storage",children:[Object(ie.jsx)(r,{to:"/storage/",primary:"Storages"}),Object(ie.jsx)(r,{to:"/file/",primary:"Files"}),Object(ie.jsx)(r,{to:"/storage-rule/",primary:"Storage Rules"}),Object(ie.jsx)(r,{to:"/quota/",primary:"Quota"}),Object(ie.jsx)(r,{to:"/storage-group/",primary:"Storage Groups"}),Object(ie.jsx)(r,{to:"/auto-import/",primary:"Auto Import Rules"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Create",children:[Object(ie.jsx)(r,{to:"/import/?tab=IMPORTPLACEHOLDER_TAB",primary:"Item"}),Object(ie.jsx)(r,{to:"/import/?tab=IMPORTCOLLECTION_TAB",primary:"Collection"}),Object(ie.jsx)(r,{to:"/import/?tab=IMPORTSHAPEPLACEHOLDER_TAB",primary:"Shape"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Import",children:[Object(ie.jsx)(r,{to:"/import/?tab=IMPORTFILE_TAB",primary:"File"}),Object(ie.jsx)(r,{to:"/import/?tab=IMPORTRAW_TAB",primary:"Upload"}),Object(ie.jsx)(r,{to:"/import/?tab=IMPORTURI_TAB",primary:"URIs"}),Object(ie.jsx)(r,{to:"/import/?tab=IMPORTSHAPE_TAB",primary:"Shape"}),Object(ie.jsx)(r,{to:"/import/?tab=IMPORTCOMPONENT_TAB",primary:"Component"}),Object(ie.jsx)(r,{to:"/import/settings/",primary:"Settings"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"IMF",children:[Object(ie.jsx)(r,{to:"/import-imp/?tab=IMPORTIMP_URL_TAB",primary:"Import From URL"}),Object(ie.jsx)(r,{to:"/import-imp/?tab=IMPORTIMP_PATH_TAB",primary:"Import From Path"}),Object(ie.jsx)(r,{to:"/import-imp/?tab=IMPORTIMP_File_TAB",primary:"Import From File"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Resources",children:[Object(ie.jsx)(r,{to:"/vxa/",primary:"Server Agents"}),Object(ie.jsx)(r,{to:"/resource/transcoder/",primary:"Transcoders"}),Object(ie.jsx)(r,{to:"/resource/thumbnail/",primary:"Thumbnail Paths"}),Object(ie.jsx)(r,{to:"/export-location",primary:"Export Locations"}),Object(ie.jsx)(r,{to:"/resource/vidinet/",primary:"Vidinet"}),Object(ie.jsx)(r,{to:"/resource/",primary:"All Resources"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Authentication",children:[Object(ie.jsx)(r,{to:"/user/",primary:"Users"}),Object(ie.jsx)(r,{to:"/group/",primary:"Groups"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Metadata",children:[Object(ie.jsx)(r,{to:"/metadata-field/",primary:"Fields"}),Object(ie.jsx)(r,{to:"/field-group/",primary:"Field Groups"}),Object(ie.jsx)(r,{to:"/document/",primary:"Document"}),Object(ie.jsx)(r,{to:"/projection/",primary:"Projection"}),Object(ie.jsx)(r,{to:"/metadata-dataset/",primary:"Datasets"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Utils",children:[Object(ie.jsx)(r,{to:"/debug/echo/",primary:"XML Echo"}),Object(ie.jsx)(r,{to:"/javascript/test/",primary:"Javascript Test"}),Object(ie.jsx)(r,{to:"/stitch/",primary:"Stitch"}),Object(ie.jsx)(r,{to:"/wizard/",primary:"Wizard"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Transcoding",children:[Object(ie.jsx)(r,{to:"/shape-tag/",primary:"Shape Tags"}),Object(ie.jsx)(r,{to:"/conform/",primary:"Conform Media"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Information",children:[Object(ie.jsx)(r,{to:"/version/",primary:"Version"}),Object(ie.jsx)(r,{to:"/selftest/",primary:"Self Test"}),Object(ie.jsx)(r,{to:"/log",primary:"Audit Log"}),Object(ie.jsx)(r,{to:"/error/",primary:"Error Log"}),Object(ie.jsx)(r,{to:"/transfer/",primary:"Import Transfers"}),Object(ie.jsx)(r,{to:"/scheduled-request/",primary:"Scheduled Requests"}),Object(ie.jsx)(r,{to:"/deletion-lock/",primary:"Deletion Locks"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"System",children:[Object(ie.jsx)(r,{to:"/reindex/",primary:"Re-Index"}),Object(ie.jsx)(r,{to:"/service/",primary:"Services"}),Object(ie.jsx)(r,{to:"/service/stacktrace/",primary:"Stack Trace"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Configuration",children:[Object(ie.jsx)(r,{to:"/configuration/properties/",primary:"Properties"}),Object(ie.jsx)(r,{to:"/configuration/job-pool/",primary:"Job Pool"}),Object(ie.jsx)(r,{to:"/configuration/ftp-pool/",primary:"FTP Pool"}),Object(ie.jsx)(r,{to:"/configuration/path-alias/",primary:"Path Alias"}),Object(ie.jsx)(r,{to:"/external-id/",primary:"External Identifiers"}),Object(ie.jsx)(r,{to:"/configuration/",primary:"All Configuration"})]})})),Object(ie.jsx)(Q.a,Object(u.a)(Object(u.a)({item:!0},c),{},{children:Object(ie.jsxs)(o,{subheader:"Notification",children:[Object(ie.jsx)(r,{to:"/notification/item/",primary:"Item"}),Object(ie.jsx)(r,{to:"/notification/collection/",primary:"Collection"}),Object(ie.jsx)(r,{to:"/notification/job/",primary:"Job"}),Object(ie.jsx)(r,{to:"/notification/",primary:"All Notification"})]})}))]})}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(X.a,{variant:"caption",children:"Last Commit: ".concat("4.2.0")||!1})})]})})),rB=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRequest=a.onRequest.bind(Object(M.a)(a)),a.onResponse=a.onResponse.bind(Object(M.a)(a)),a.onClose=a.onClose.bind(Object(M.a)(a)),a.maxReponsesLength=20,a.requestInterceptor=W.T.defaultClient.interceptors.request.use((function(e){return e.requestId=Math.random().toString(36).substr(2,12),a.onRequest(e),e})),a.responseInterceptor=W.T.defaultClient.interceptors.response.use((function(e){return a.onResponse(e),e}),(function(e){return a.onResponse(Object(u.a)(Object(u.a)({},e.response),{},{config:e.config})),Promise.reject(e)})),a.state={recentResponses:[],displayResponse:void 0},a}return Object(N.a)(n,[{key:"componentWillUnmount",value:function(){W.T.defaultClient.interceptors.request.eject(this.requestInterceptor),W.T.defaultClient.interceptors.response.eject(this.responseInterceptor)}},{key:"onRequest",value:function(e){if(e){var t=this.state.recentResponses,n=e.requestId,a=e.headers,r=void 0===a?{}:a,o=e.data,c=e.method,i=e.baseURL,s=e.url,l={};Object.entries(r).forEach((function(e){var t=Object(Bt.a)(e,2),n=t[0],a=t[1];"string"===typeof a&&(l[n]=a)}));var u,j,d=s.replace(i,""),m=Object.keys(l).find((function(e){return"content-type"===e.toLowerCase()}));if(m&&o)switch(j=l[m].toLowerCase()){case"application/xml":u=Qt(o);break;case"application/json":u="string"===typeof o?JSON.parse(o):o;break;case"application/javascript":case"text/plain":u=o}var b=[{requestId:n,url:d,method:c.toUpperCase(),requestData:u,requestHeaders:l,requestContentType:j}].concat(Object(Sy.a)(t)).slice(0,this.maxReponsesLength);this.setState({recentResponses:b})}}},{key:"onResponse",value:function(e){if(e){var t,n,a=this.state.recentResponses,r=e.config,o=void 0===r?{}:r,c=e.status,i=e.headers,s=void 0===i?{}:i,l=e.data,j=o.requestId,d=Object.keys(s).find((function(e){return"content-type"===e.toLowerCase()}));if(d)switch(n=s[d].toLowerCase()){case"application/xml":t=Qt(l);break;case"application/json":case"application/javascript":case"text/plain":t=l}var m={status:c,responseData:t,responseHeaders:s,responseContentType:n},b=a.findIndex((function(e){return e.requestId===j})),h=Object(Sy.a)(a);if(b>=0){var O=a[b];h[b]=Object(u.a)(Object(u.a)({},O),m)}else h.unshift(m);var p=h.slice(0,this.maxReponsesLength);this.setState({recentResponses:p})}}},{key:"onClose",value:function(){(0,this.props.onClose)(),this.setState({displayResponse:void 0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.open,r=this.state,o=r.recentResponses,c=r.displayResponse;return Object(ie.jsxs)(Oe.a,{fullScreen:!0,open:a,onClose:this.onClose,classes:{root:n.dialogRoot,scrollPaper:n.scrollPaper},children:[Object(ie.jsx)(TV.a,{elevation:0,className:n.appBar,children:Object(ie.jsx)(PV.a,{disableGutters:!0,variant:"dense",children:c?Object(ie.jsx)(_.a,{onClick:function(){return e.setState({displayResponse:void 0})},children:Object(ie.jsx)(wc.a,{})}):Object(ie.jsx)(_.a,{onClick:this.onClose,children:Object(ie.jsx)(eB.a,{})})})}),c?Object(ie.jsxs)(xe.a,{children:[Object(ie.jsx)(nn,{title:"URL",value:c.url,hover:!0}),Object(ie.jsx)(nn,{title:"Method",value:c.method,hover:!0}),Object(ie.jsx)(nn,{title:"Status",value:c.status,hover:!0}),Object(ie.jsx)(on,{arrayTitle:"Request Headers",value:Object.entries(c.requestHeaders),component:function(e){var t=e.value;return Object(ie.jsx)(nn,{title:t[0],value:t[1],hover:!0,titleStartCase:!1})}}),"application/json"===c.requestContentType?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(X.a,{variant:"subtitle2",children:"Request Data"}),Object(ie.jsx)(be.a,{src:c.requestData,theme:"solarized",displayDataTypes:!1,collapsed:!1,enableClipboard:function(e){return navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t"))},displayObjectSize:!1,name:!1})]}):Object(ie.jsx)(nn,{title:"Request Data",value:c.requestData,variant:"code",hover:!0,hideNoValue:!0}),c.responseHeaders&&Object(ie.jsx)(on,{arrayTitle:"Response Headers",value:Object.entries(c.responseHeaders),component:function(e){var t=e.value;return Object(ie.jsx)(nn,{title:t[0],value:t[1],hover:!0,titleStartCase:!1})}}),c.responseData&&Object(ie.jsx)(ie.Fragment,{children:"application/json"===c.responseContentType?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(X.a,{variant:"subtitle2",children:"Response Data"}),Object(ie.jsx)(be.a,{src:c.responseData,theme:"solarized",displayDataTypes:!1,collapsed:2,enableClipboard:function(e){return navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t"))},name:!1})]}):Object(ie.jsx)(nn,{title:"Response Data",value:c.responseData,variant:"code",hover:!0,hideNoValue:!0})})]}):Object(ie.jsx)(gj,{children:Object(ie.jsx)(_n,{children:o.map((function(t){return Object(ie.jsxs)(Un,{hover:!0,onClick:function(){return e.setState({displayResponse:t})},children:[Object(ie.jsx)(Vn,{children:t.url}),Object(ie.jsx)(Vn,{children:t.method}),Object(ie.jsx)(Vn,{children:t.status||"Pending"})]},t.requestId)}))})})]})}}]),n}(o.a.PureComponent),oB=Object(m.c)(T,Object(Me.a)((function(e){return{appBar:{position:"relative",backgroundColor:e.palette.background.default},scrollPaper:{width:"85%",backgroundColor:e.palette.background.default},dialogRoot:{justifyContent:"flex-start"}}})))(rB),cB=n(714);var iB={closeSnackBar:a.closeSnackBar},sB=Object(s.b)((function(e){var t=e.ui.snackBar;return Object(u.a)({},t)}),iB)((function(e){var t=e.closeSnackBar,n=e.isOpen,a=void 0!==n&&n,r=e.messageContent,o=e.actionButton,c=e.messageColor,i=void 0===c?"inherit":c,s=[o,Object(ie.jsx)(_.a,{"aria-label":"Close",color:"inherit",onClick:t,children:Object(ie.jsx)(eB.a,{})},"close")],l=Object(ie.jsx)(X.a,{color:i,id:"message-id",children:r});return Object(ie.jsx)(cB.a,{open:a,autoHideDuration:6e3,onClose:t,message:l,action:s,anchorOrigin:{vertical:"bottom",horizontal:"left"}})})),lB="HISTORY_DIALOG",uB="MAINMENU_DIALOG";var jB=Object(m.c)(Ft,T)((function(e){var t=e.onOpen,n=e.unsetToken,a=e.unsetRunAs,r=e.userName,o=e.baseUrl;return Object(ie.jsxs)("div",{style:{zIndex:1,minWidth:"100%"},children:[Object(ie.jsx)(aB,{dialogName:uB}),Object(ie.jsx)(oB,{dialogName:lB}),Object(ie.jsx)(QV,{onLogout:function(){n(),a()},userName:r,toggleMainMenu:function(){return t({modalName:uB})},toggleHistory:function(){return t({modalName:lB})},baseUrl:o}),Object(ie.jsxs)("main",{style:{marginLeft:"10px",marginRight:"10px",marginTop:48},children:[Object(ie.jsx)(d.a,{exact:!0,path:"/",component:ld}),Object(ie.jsx)(d.a,{exact:!0,path:"/collection/",component:JW}),Object(ie.jsx)(d.a,{path:"/collection/:collectionId/",component:dy}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/",component:Qe}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/properties/",component:pa}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/indexing/",component:jn}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/ftp-pool/",component:yn}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/job-pool/",component:Wn}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/path-alias/",component:Ga}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/metrics/",component:Ta}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/logreport/",component:Wa}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/cors/",component:xr}),Object(ie.jsx)(d.a,{exact:!0,path:"/configuration/auth/",component:Dr}),Object(ie.jsx)(d.a,{exact:!0,path:"/resource/",component:oM}),Object(ie.jsx)(d.a,{exact:!0,path:"/resource/:resourceType/",component:UM}),Object(ie.jsx)(d.a,{exact:!0,path:"/resource/:resourceType/:resourceId/",component:OA}),Object(ie.jsx)(d.a,{exact:!0,path:"/storage/",component:Rc}),Object(ie.jsx)(d.a,{exact:!0,path:"/storage/:storageId/",component:pi}),Object(ie.jsx)(d.a,{exact:!0,path:"/storage/:storageId/method/:storageMethodId",component:Di}),Object(ie.jsx)(d.a,{exact:!0,path:"/shape-tag/",component:gs}),Object(ie.jsx)(d.a,{exact:!0,path:"/shape-tag/:tagName/",component:Gl}),Object(ie.jsx)(d.a,{exact:!0,path:"/version/",component:du}),Object(ie.jsx)(d.a,{exact:!0,path:"/service/",component:yu}),Object(ie.jsx)(d.a,{exact:!0,path:"/jobtype/",component:Mu}),Object(ie.jsx)(d.a,{exact:!0,path:"/task-definition/jobtype/:taskDefinitionType",component:Qu}),Object(ie.jsx)(d.a,{exact:!0,path:"/debug/echo",component:nj}),Object(ie.jsx)(d.a,{exact:!0,path:"/javascript/test",component:ij}),Object(ie.jsx)(d.a,{exact:!0,path:"/log",component:Ej}),Object(ie.jsx)(d.a,{exact:!0,path:"/job",component:ld}),Object(ie.jsx)(d.a,{exact:!0,path:"/job/:jobId/",component:_d}),Object(ie.jsx)(d.a,{exact:!0,path:"/export-location",component:$d}),Object(ie.jsx)(d.a,{exact:!0,path:"/export-location/:locationName/",component:cm}),Object(ie.jsx)(d.a,{exact:!0,path:"/selftest/",component:mm}),Object(ie.jsx)(d.a,{exact:!0,path:"/group/",component:Bm}),Object(ie.jsx)(d.a,{exact:!0,path:"/group/:groupName/",component:mb}),Object(ie.jsx)(d.a,{exact:!0,path:"/user/",component:Tb}),Object(ie.jsx)(d.a,{exact:!0,path:"/user/:userName/",component:sh}),Object(ie.jsx)(d.a,{exact:!0,path:"/user/:userName/key",component:F_}),Object(ie.jsx)(d.a,{exact:!0,path:"/external-id/",component:Ch}),Object(ie.jsx)(d.a,{exact:!0,path:"/search/",component:kO}),Object(ie.jsx)(d.a,{exact:!0,path:"/search/field-group/",component:qw}),Object(ie.jsx)(d.a,{exact:!0,path:"/item/",component:pw}),Object(ie.jsx)(d.a,{exact:!0,path:"/shape",component:Tw}),Object(ie.jsx)(d.a,{exact:!0,path:"/item/:itemId/",component:Eg}),Object(ie.jsx)(d.a,{path:"/item/:itemId/shape/:shapeId/",component:MW}),Object(ie.jsx)(d.a,{exact:!0,path:"/reindex/",component:yy}),Object(ie.jsx)(d.a,{exact:!0,path:"/wizard/",component:tS}),Object(ie.jsx)(d.a,{exact:!0,path:"/metadata-field/",component:SS}),Object(ie.jsx)(d.a,{exact:!0,path:"/field-group/",component:YS}),Object(ie.jsx)(d.a,{exact:!0,path:"/field-group/:groupName",component:CC}),Object(ie.jsx)(d.a,{exact:!0,path:"/import",component:aI}),Object(ie.jsx)(d.a,{exact:!0,path:"/import-imp",component:p_}),Object(ie.jsx)(d.a,{exact:!0,path:"/file/",component:kI}),Object(ie.jsx)(d.a,{exact:!0,path:"/file/:fileId/",component:RD}),Object(ie.jsx)(d.a,{exact:!0,path:"/storage-rule/",component:kD}),Object(ie.jsx)(d.a,{exact:!0,path:"/error/",component:MD}),Object(ie.jsx)(d.a,{exact:!0,path:"/vxa/",component:zD}),Object(ie.jsx)(d.a,{exact:!0,path:"/vxa/:vxaUuid/",component:oF}),Object(ie.jsx)(d.a,{exact:!0,path:"/new-job/",component:Bd}),Object(ie.jsx)(d.a,{exact:!0,path:"/library/",component:RF}),Object(ie.jsx)(d.a,{path:"/library/:libraryId/",component:Ck}),Object(ie.jsx)(d.a,{exact:!0,path:"/document/",component:Ak}),Object(ie.jsx)(d.a,{path:"/document/:documentMetadataName",component:Gk}),Object(ie.jsx)(d.a,{path:"/metadata/:metadataUuid/",component:sT}),Object(ie.jsx)(d.a,{exact:!0,path:"/conform/",component:oT}),Object(ie.jsx)(d.a,{exact:!0,path:"/projection/",component:yT}),Object(ie.jsx)(d.a,{path:"/projection/:projectionId",component:FT}),Object(ie.jsx)(d.a,{path:"/metadata-field/:fieldName",component:HT}),Object(ie.jsx)(d.a,{exact:!0,path:"/notification/",component:eE}),Object(ie.jsx)(d.a,{exact:!0,path:"/notification/:entityType/",component:JP}),Object(ie.jsx)(d.a,{exact:!0,path:"/notification/:entityType/:notificationId",component:QP}),Object(ie.jsx)(d.a,{exact:!0,path:"/import/settings/",component:hE}),Object(ie.jsx)(d.a,{exact:!0,path:"/import/settings/:settingsId",component:FE}),Object(ie.jsx)(d.a,{exact:!0,path:"/import/access/:userName",component:GE}),Object(ie.jsx)(d.a,{exact:!0,path:"/task-group/",component:lN}),Object(ie.jsx)(d.a,{exact:!0,path:"/task-group/:groupName/",component:CN}),Object(ie.jsx)(d.a,{exact:!0,path:"/quota/",component:QN}),Object(ie.jsx)(d.a,{exact:!0,path:"/storage-group/",component:EA}),Object(ie.jsx)(d.a,{exact:!0,path:"/storage-group/:groupName/",component:QA}),Object(ie.jsx)(d.a,{exact:!0,path:"/auto-import/",component:sL}),Object(ie.jsx)(d.a,{exact:!0,path:"/auto-import/:storageId/",component:xL}),Object(ie.jsx)(d.a,{exact:!0,path:"/service/stacktrace/",component:gL}),Object(ie.jsx)(d.a,{exact:!0,path:"/transfer/",component:wL}),Object(ie.jsx)(d.a,{exact:!0,path:"/scheduled-request/",component:K_}),Object(ie.jsx)(d.a,{exact:!0,path:"/stitch/",component:eV}),Object(ie.jsx)(d.a,{exact:!0,path:"/deletion-lock/",component:fv}),Object(ie.jsx)(d.a,{exact:!0,path:"/deletion-lock/:lockId/",component:lV}),Object(ie.jsx)(d.a,{exact:!0,path:"/external-id/:entityType/:entityId",component:Wh}),Object(ie.jsx)(d.a,{exact:!0,path:"/external-id/:entityType/:entitySubType/:entityId",component:Wh}),Object(ie.jsx)(d.a,{exact:!0,path:"/metadata-dataset/",component:SV}),Object(ie.jsx)(d.a,{exact:!0,path:"/metadata-dataset/:datasetId/",component:kV})]}),Object(ie.jsx)(sB,{})]})}));var dB=n(707),mB=n(399),bB=n.n(mB),hB=n(291),OB=n(633),pB=function(e,t){var n=t.headers;return(void 0===n?{}:n).token?void 0:nu(e)},xB=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"username",label:"Username",component:St,fullWidth:!0,validate:[pB],variant:"outlined",margin:"dense",size:"small"}),Object(ie.jsx)(Lt,{name:"password",label:"Password",type:"password",component:St,fullWidth:!0,validate:[pB],variant:"outlined",margin:"dense"})]})},fB=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(re.a,{control:Object(ie.jsx)(Lt,{name:"autoRefresh",component:Wt}),label:"Remember Me"})})};var vB=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit,a=e.onTestUrl;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Lt,{name:"baseUrl",label:"VidiCore Server",component:St,required:!0,onBlur:function(e,t){return a(t)},fullWidth:!0,autoFocus:!0,validate:[nu],variant:"outlined",margin:"dense",useStartCase:!1}),Object(ie.jsx)(Ct.a,{name:"headers",component:xB}),Object(ie.jsx)(Ct.a,{name:"queryParams",component:fB}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),gB=function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Lt,{name:"token",label:"Token",component:St,fullWidth:!0,variant:"outlined",margin:"dense"}),Object(ie.jsx)(Lt,{name:"runAs",label:"Login As User",component:St,fullWidth:!0,variant:"outlined",margin:"dense"})]})},yB=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Lt,{name:"seconds",label:"Timeout ",component:St,helperText:"Seconds",fullWidth:!0,variant:"outlined",margin:"dense"})})};var SB=Object(bt.a)()((function(e){var t=e.error,n=e.handleSubmit;return Object(ie.jsxs)("form",{onSubmit:n,children:[t&&Object(ie.jsx)(X.a,{color:"error",children:t}),Object(ie.jsx)(Ct.a,{name:"headers",component:gB}),Object(ie.jsx)(Ct.a,{name:"queryParams",component:yB}),Object(ie.jsx)("button",{type:"submit",hidden:!0})]})})),CB="LOGIN_FORM";var RB=Object(m.c)(ue,oa)((function(e){var t=e.onSuccess,n=e.onFail,a=e.openSnackBar,r=e.submitForm,o=Object(ye.a)(e,["onSuccess","onFail","openSnackBar","submitForm"]),c=function(e,n,r){a({messageContent:"Login Success"}),t&&t(e,n,r)},i=function(e,t,r){a({messageContent:"Error Logging In",messageColor:"secondary"}),n&&n(e,t,r)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(xe.a,{children:[Object(ie.jsx)(vB,Object(u.a)({form:CB,onSubmit:Cb,onSubmitSuccess:c,onSubmitFail:i},o)),Object(ie.jsxs)(wj,{children:[Object(ie.jsx)(Nj.a,{expandIcon:Object(ie.jsx)(Lj.a,{}),style:{padding:0},children:Object(ie.jsx)(X.a,{variant:"subtitle2",color:"textSecondary",children:"Advanced"})}),Object(ie.jsx)(Mj.a,{style:{padding:0},children:Object(ie.jsx)(SB,Object(u.a)({form:CB,onSubmit:Cb,onSubmitSuccess:c,onSubmitFail:i},o))})]})]}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{variant:"outlined",color:"primary",onClick:function(){return r(CB)},fullWidth:!0,children:"Log In"})})]})}));var IB=Object(m.c)(ue)((function(e){var t=e.open,n=void 0!==t&&t,a=e.onClose,r=e.onSuccess,o=e.onError,c=e.openSnackBar,i=e.loadingInit,s=e.setLoadingInit;return Object(ie.jsxs)(Oe.a,{open:n,onClose:a,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Run API Init?"}),Object(ie.jsx)(ia,{children:"This is required for new Vidispine installations."}),Object(ie.jsx)(ut.a,{}),Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(he.a,{size:"small",color:"inherit",onClick:a,children:"Close"}),Object(ie.jsx)(he.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){s(!0),W.A.createInit().then((function(){s(!1);c({messageContent:"Init Success"}),a(),r&&r()})).catch((function(){s(!1);c({messageContent:"Error Running Init",messageColor:"secondary"}),o&&o()}))},disabled:i,children:i?Object(ie.jsx)(Yr.a,{color:"primary",size:16}):"Run"})]})]})})),DB='<CORSConfigurationDocument xmlns="http://xml.vidispine.com/schema/vidispine">\n    <entry>\n        <request>\n            <origin>'.concat(window.location.origin,"</origin>\n        </request>\n        <response>\n            <allowOrigin>").concat(window.location.origin,"</allowOrigin>\n            <allowMethods>OPTIONS,GET,HEAD,POST,PUT,DELETE</allowMethods>\n            <allowHeaders>accept,content-type,authorization,index,size,runas</allowHeaders>\n            <allowMaxAge>600</allowMaxAge>\n        </response>\n    </entry>\n</CORSConfigurationDocument>"),FB='{\n  "entry": [\n    {\n      "request": [\n        {\n          "origin": [\n            "'.concat(window.location.origin,'"\n          ]\n        }\n      ],\n      "response": {\n        "allowOrigin": "').concat(window.location.origin,'",\n        "allowMethods": [\n          "OPTIONS,GET,HEAD,POST,PUT,DELETE"\n        ],\n        "allowHeaders": [\n          "accept,content-type,authorization,index,size,runas"\n        ],\n        "allowMaxAge": 600\n      }\n    }\n  ]\n}'),kB='curl \'{YOUR_VIDICORE_SERVER}/API/configuration/cors\' \\\n-uadmin -XPUT -H \'Content-Type: application/json\' \\\n--data-raw \'{\n  "entry": [\n    {\n      "request": [\n        {\n          "origin": [\n            "'.concat(window.location.origin,'"\n          ]\n        }\n      ],\n      "response": {\n        "allowOrigin": "').concat(window.location.origin,'",\n        "allowMethods": [\n          "OPTIONS,GET,HEAD,POST,PUT,DELETE"\n        ],\n        "allowHeaders": [\n          "accept,content-type,authorization,index,size,runas"\n        ],\n        "allowMaxAge": 600\n      }\n    }\n  ]\n}\''),TB="XML_TAB";var PB=T((function(e){var t=e.open,n=e.onClose,a=e.baseUrl,r=o.a.useState(TB),c=Object(Bt.a)(r,2),i=c[0],s=c[1];return Object(ie.jsxs)(Oe.a,{open:t,onClose:n,maxWidth:!1,children:[Object(ie.jsx)(fe.a,{children:"Configure CORS"}),Object(ie.jsx)(ia,{children:"Cross-Origin must be configured on the VidiCore server to allow browser requests from this location."}),Object(ie.jsxs)(ia,{children:[Object(ie.jsxs)(Yn.a,{value:i,onChange:function(e,t){return s(t)},children:[Object(ie.jsx)(Xn.a,{label:"XML",value:TB}),Object(ie.jsx)(Xn.a,{label:"JSON",value:"JSON_TAB"}),Object(ie.jsx)(Xn.a,{label:"cURL",value:"CURL_TAB"})]}),{XML_TAB:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Request",value:"PUT ".concat(a,"/API/configuration/cors"),variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),Object(ie.jsx)(nn,{title:"Body",value:DB,variant:"xml",codeProps:{lineNumbers:!1}})]}),JSON_TAB:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{title:"Request",value:"PUT ".concat(a,"/API/configuration/cors"),variant:"xml",codeProps:{lineNumbers:!1},noWrapTitle:!1}),Object(ie.jsx)(nn,{title:"Body",value:FB,variant:"json",codeProps:{lineNumbers:!1}})]}),CURL_TAB:Object(ie.jsx)(nn,{value:kB.replace("{YOUR_VIDICORE_SERVER}",a),variant:"code",codeProps:{lineNumbers:!1,mode:"shell"}})}[i]]}),Object(ie.jsx)(ia,{children:Object(ie.jsx)(dB.a,{href:"https://apidoc.vidispine.com/latest/system/property.html#cors-configuration",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",children:"View API Documentation"})}),Object(ie.jsx)(pe.a,{children:Object(ie.jsx)(he.a,{size:"small",color:"inherit",onClick:n,children:"Close"})})]})})),EB=n(404);var NB=function(e){return Object(ie.jsx)(EB.a,Object(u.a)(Object(u.a)({},e),{},{children:Object(ie.jsx)("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})}))},MB="INIT_DIALOG",AB="HELP_DIALOG",LB=function(e){return Object(hB.a)(Object(u.a)(Object(u.a)({},e),{},{palette:{type:"light"}}))},WB=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).onRefresh=a.onRefresh.bind(Object(M.a)(a)),a.onRefreshError=a.onRefreshError.bind(Object(M.a)(a)),a.onSuccess=a.onSuccess.bind(Object(M.a)(a)),a.onTestUrl=a.onTestUrl.bind(Object(M.a)(a)),a.state={selfTestDocument:void 0,loading:!1,loadingInit:!1},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title="xray",this.props.baseUrl&&this.onRefresh()}},{key:"onRefresh",value:function(){var e=Object(uj.a)(lj.a.mark((function e(){var t,n=this;return lj.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.onOpen,this.setState({selfTestDocument:void 0}),e.next=4,this.setState({loading:!0});case 4:try{W.I.listSelfTest({noAuth:!0}).then((function(e){var a=e.data;n.setState({selfTestDocument:a,loading:!1});var r,o=a.status,c=a.test;"warning"===o&&(r=(void 0===c?[]:c).find((function(e){var t=e.name,n=e.test;return"database"===t&&(void 0===n?[]:n).find((function(e){var t=e.message;return(void 0===t?[]:t).find((function(e){return e.includes("did APIInit run?")}))}))}))),r&&t({modalName:MB})})).catch((function(e){return n.onRefreshError(e)}))}catch(a){this.onRefreshError(a)}case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRefreshError",value:function(){var e=this.props.openSnackBar;this.setState({loading:!1,selfTestDocument:{status:"failed"}});e({messageContent:"Error Contacting Server",messageColor:"secondary"})}},{key:"onSuccess",value:function(e){var t=e.data,n=e.userName,a=e.runAs,r=this.props,o=r.setUserName,c=r.setToken,i=r.setRunAs;a&&i(a),o(n),c(t)}},{key:"onTestUrl",value:function(e){(0,this.props.setBaseUrl)(e),this.onRefresh()}},{key:"render",value:function(){var e=this,t=this.state,n=t.selfTestDocument,a=t.loading,r=t.loadingInit,o=this.props,c=o.userName,i=o.baseUrl,s=o.onOpen,l={headers:{username:c,accept:"text/plain"},queryParams:{autoRefresh:!0,seconds:604800},baseUrl:i},u=(n||{}).status;return Object(ie.jsxs)(OB.a,{theme:LB,children:[Object(ie.jsxs)(Q.a,{container:!0,children:[Object(ie.jsx)(Q.a,{item:!0,sm:4,children:Object(ie.jsxs)(Re.a,{elevation:0,square:!0,style:{height:"100vh"},children:[Object(ie.jsx)(Q.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{height:"100%"},children:Object(ie.jsxs)(Q.a,{item:!0,children:[Object(ie.jsx)(Q.a,{container:!0,alignItems:"center",justify:"center",direction:"row",style:{height:35,marginBottom:20},children:n&&Object(ie.jsx)(im,{selfTestDocument:n,clickable:!0,onClick:this.onRefresh,loading:a})}),Object(ie.jsx)(RB,{initialValues:l,onSuccess:this.onSuccess,onTestUrl:this.onTestUrl,status:u})]})}),Object(ie.jsx)(TV.a,{color:"inherit",style:{top:"auto",bottom:0,backgroundColor:"black",color:"white"},square:!0,elevation:0,children:Object(ie.jsx)(PV.a,{variant:"dense",children:Object(ie.jsxs)(Q.a,{container:!0,justify:"flex-end",alignItems:"center",children:[Object(ie.jsx)(dB.a,{href:"https://github.com/vidijs/vidijs-ui",variant:"body2",color:"inherit",target:"_blank",rel:"noopener noreferrer",style:{marginRight:5},children:"xray"}),Object(ie.jsx)(X.a,{variant:"body2",color:"inherit",children:"v".concat("4.2.0")}),Object(ie.jsx)(_.a,{color:"inherit",href:"https://github.com/vidijs",target:"_blank",rel:"noopener noreferrer",disableRipple:!0,children:Object(ie.jsx)(NB,{})}),Object(ie.jsx)(_.a,{color:"inherit",disableRipple:!0,onClick:function(){return s({modalName:AB})},children:Object(ie.jsx)(bB.a,{})})]})})})]})}),Object(ie.jsx)(Q.a,{item:!0,sm:8,style:{background:"linear-gradient(-45deg,#b0c800,#0068a9 0,#0068a9 33%,#002749 100%,#b0c800 0)"},container:!0,direction:"column",alignItems:"center",justify:"center"})]}),Object(ie.jsx)(IB,{dialogName:MB,onSuccess:this.onRefresh,loadingInit:r,setLoadingInit:function(t){return e.setState({loadingInit:t})}}),Object(ie.jsx)(PB,{dialogName:AB,baseUrl:i})]})}}]),n}(o.a.PureComponent),wB=Object(m.c)(T,ue)(WB),_B=n(708),VB="VIDISPINE-TOKEN",BB="VIDISPINE-USERNAME",UB="VIDISPINE-RUNAS",qB="VIDISPINE-SERVER-URL",GB=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var a;Object(E.a)(this,n),(a=t.call(this,e)).setUserName=a.setUserName.bind(Object(M.a)(a)),a.unsetUserName=a.unsetUserName.bind(Object(M.a)(a)),a.setToken=a.setToken.bind(Object(M.a)(a)),a.unsetToken=a.unsetToken.bind(Object(M.a)(a)),a.setRunAs=a.setRunAs.bind(Object(M.a)(a)),a.unsetRunAs=a.unsetRunAs.bind(Object(M.a)(a)),a.setBaseUrl=a.setBaseUrl.bind(Object(M.a)(a)),a.unsetBaseUrl=a.unsetBaseUrl.bind(Object(M.a)(a)),"$VIDISPINE_URL"!==window.VIDISPINE_URL&&(a.windowBaseUrl=window.location.origin);var r=a.props.cookies,o=r.get(VB,{path:"/"}),c=r.get(BB,{path:"/"}),i=r.get(UB,{path:"/"}),s=r.get(qB,{path:"/"});return s&&"undefined"!==s&&(W.T.defaultClient.defaults.baseURL=s),o&&"undefined"!==o&&(W.T.defaultClient.defaults.headers.Authorization="token ".concat(o)),i&&"undefined"!==i&&(W.T.defaultClient.defaults.headers.RunAs=i),a.state={token:"undefined"!==o?o:void 0,userName:"undefined"!==c?c:void 0,runAs:"undefined"!==i?i:void 0,baseUrl:"undefined"!==s?s:void 0},a}return Object(N.a)(n,[{key:"setUserName",value:function(e){this.props.cookies.set(BB,e,{path:"/"}),this.setState({userName:e})}},{key:"setToken",value:function(e){this.props.cookies.set(VB,e,{path:"/"}),W.T.defaultClient.defaults.headers.Authorization="token ".concat(e),this.setState({token:e})}},{key:"setRunAs",value:function(e){this.props.cookies.set(UB,e,{path:"/"}),W.T.defaultClient.defaults.headers.RunAs=e,this.setState({runAs:e})}},{key:"setBaseUrl",value:function(e){var t=this.props.cookies;localStorage.setItem("vsBaseUrl",e),t.set(qB,e,{path:"/"}),W.T.defaultClient.defaults.baseURL=e,this.setState({baseUrl:e})}},{key:"unsetUserName",value:function(){this.props.cookies.remove(BB,{path:"/"}),this.setState({userName:void 0}),this.unsetToken()}},{key:"unsetToken",value:function(){this.props.cookies.remove(VB,{path:"/"}),delete W.T.defaultClient.defaults.headers.Authorization,this.setState({token:void 0})}},{key:"unsetRunAs",value:function(){this.props.cookies.remove(UB,{path:"/"}),delete W.T.defaultClient.defaults.headers.RunAs,this.setState({runAs:void 0})}},{key:"unsetBaseUrl",value:function(){this.props.cookies.remove(qB,{path:"/"}),delete W.T.defaultClient.defaults.baseURL,this.setState({baseUrl:void 0})}},{key:"render",value:function(){var e=this.state,t=e.token,n=e.userName,a=e.runAs,r=e.baseUrl,o=this.props,c=o.loginComponent,i=o.appComponent,s=Object(ye.a)(o,["loginComponent","appComponent"]);return t?Object(ie.jsx)(i,Object(u.a)({userName:a||n,baseUrl:r,unsetUserName:this.unsetUserName,unsetToken:this.unsetToken,unsetRunAs:this.unsetRunAs},s)):Object(ie.jsx)(c,Object(u.a)({userName:n,runAs:a,baseUrl:this.windowBaseUrl||r,setUserName:this.setUserName,setToken:this.setToken,setBaseUrl:this.setBaseUrl,setRunAs:this.setRunAs},s))}}]),n}(o.a.Component),HB=Object(_B.a)(GB),JB=n(361),zB={modalName:void 0,isMainMenuOpen:!1,isLoading:!1,snackBar:{isOpen:!1}};function KB(e){return Object(u.a)(Object(u.a)({},e),{},{modalName:null})}function YB(e){return Object(u.a)(Object(u.a)({},e),{},{snackBar:{isOpen:!1}})}function XB(e,t){var n=Object(u.a)({isOpen:!0},t);return Object(u.a)(Object(u.a)({},e),{},{snackBar:n})}var QB=Object(m.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.isLoading});case v:return XB(e,t);case f:return YB(e);case O:return KB(e);case p:return Object(u.a)(Object(u.a)({},e),{},{modalName:t.modalName});case x:return Object(u.a)(Object(u.a)({},e),{},{isMainMenuOpen:t.isMainMenuOpen})}return e},form:JB.a});var $B,ZB=Object(l.a)(),eU=function(e){var t=e.preloadedState;return Object(m.d)(QB,t)}({history:ZB});$B=function(){return ZB.push("/login/")},W.T.defaultClient.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&(localStorage.removeItem("vsUserToken"),localStorage.removeItem("vsRunAs"),W.T.logout(),delete W.T.defaultClient.defaults.headers.RunAs,$B&&$B()),Promise.reject(e)})),i.a.render(Object(ie.jsx)(s.a,{store:eU,children:Object(ie.jsx)(fl.a,{children:Object(ie.jsx)(HB,{loginComponent:wB,appComponent:function(e){return Object(ie.jsx)(j.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"https://vidispine.github.io/admin-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_GIT_COMMIT:"4.2.0",REACT_APP_VERSION:"4.2.0",REACT_APP_NAME:"@vidispine/admin-tool"}).REACT_APP_BASENAME,children:Object(ie.jsx)(d.a,{path:"/",render:function(){return Object(ie.jsx)(jB,Object(u.a)({},e))}})})}})})}),document.getElementById("root"))}},[[626,1,2]]]);